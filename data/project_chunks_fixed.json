[
  {
    "file": "setup.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "#!/usr/bin/env python\n# This is a shim to hopefully allow Github to detect the package, build is done with poetry",
    "start_line": 0
  },
  {
    "file": "setup.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "import setuptools\nif __name__ == \"__main__\":\n    setuptools.setup(name=\"rich\")",
    "start_line": 4
  },
  {
    "file": "setup.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "#!/usr/bin/env python\n\n# This is a shim to hopefully allow Github to detect the package, build is done with poetry\n\nimport setuptools\n\nif __name__ == \"__main__\":\n    setuptools.setup(name=\"rich\")\n",
    "start_line": 0
  },
  {
    "file": "profile_pretty.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "import json\nimport io\nfrom time import time\nfrom rich.console import Console\nfrom rich.pretty import Pretty",
    "start_line": 0
  },
  {
    "file": "profile_pretty.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(file=io.StringIO(), color_system=\"truecolor\", width=100)\nwith open(\"cats.json\") as fh:\n    cats = json.load(fh)\nconsole.begin_capture()\nstart = time()\npretty = Pretty(cats)\nconsole.print(pretty, overflow=\"ignore\", crop=False)\nresult = console.end_capture()\ntaken = (time() - start) * 1000\nprint(result)\nprint(console.file.getvalue())\nprint(f\"{taken:.1f}\")",
    "start_line": 7
  },
  {
    "file": "profile_pretty.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "import json\nimport io\nfrom time import time\nfrom rich.console import Console\nfrom rich.pretty import Pretty\n\n\nconsole = Console(file=io.StringIO(), color_system=\"truecolor\", width=100)\n\nwith open(\"cats.json\") as fh:\n    cats = json.load(fh)\n\n\nconsole.begin_capture()\nstart = time()\npretty = Pretty(cats)\nconsole.print(pretty, overflow=\"ignore\", crop=False)\nresult = console.end_capture()\ntaken = (time() - start) * 1000\nprint(result)\n\nprint(console.file.getvalue())\nprint(f\"{taken:.1f}\")\n",
    "start_line": 0
  },
  {
    "file": "stress_test_pretty.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from rich.console import Console\nfrom rich.panel import Panel\nfrom rich.pretty import Pretty\nfrom rich._timer import timer",
    "start_line": 0
  },
  {
    "file": "stress_test_pretty.py",
    "type": "constants",
    "class": null,
    "method": null,
    "name": "module_constants",
    "content": "DATA = {\n    \"foo\": [1, 2, 3, (), {}, (1, 2, 3), {4, 5, 6, (7, 8, 9)}, \"Hello, World\"],\n    \"bar\": [None, (False, True)] * 2,\n    \"Dune\": {\n        \"names\": {\n            \"Paul Atreides\",\n            \"Vladimir Harkonnen\",\n            \"Thufir Hawat\",\n            \"Duncan Idaho\",\n        }\n    },\n}",
    "start_line": 5
  },
  {
    "file": "stress_test_pretty.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console()\nwith timer(\"Stress test\"):\n    for w in range(130):\n        console.print(Panel(Pretty(DATA, indent_guides=True), width=w))",
    "start_line": 17
  },
  {
    "file": "stress_test_pretty.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "from rich.console import Console\nfrom rich.panel import Panel\nfrom rich.pretty import Pretty\nfrom rich._timer import timer\n\nDATA = {\n    \"foo\": [1, 2, 3, (), {}, (1, 2, 3), {4, 5, 6, (7, 8, 9)}, \"Hello, World\"],\n    \"bar\": [None, (False, True)] * 2,\n    \"Dune\": {\n        \"names\": {\n            \"Paul Atreides\",\n            \"Vladimir Harkonnen\",\n            \"Thufir Hawat\",\n            \"Duncan Idaho\",\n        }\n    },\n}\nconsole = Console()\nwith timer(\"Stress test\"):\n    for w in range(130):\n        console.print(Panel(Pretty(DATA, indent_guides=True), width=w))\n",
    "start_line": 0
  },
  {
    "file": "make_terminal_widths.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "import subprocess\nfrom typing import List, Tuple\nimport sys\nfrom rich.progress import Progress\nfrom wcwidth import wcwidth",
    "start_line": 0
  },
  {
    "file": "make_terminal_widths.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "progress = Progress()",
    "start_line": 9
  },
  {
    "file": "make_terminal_widths.py",
    "type": "function",
    "class": null,
    "method": "make_widths_table",
    "name": "make_widths_table",
    "content": "def make_widths_table() -> List[Tuple[int, int, int]]:\n    table: List[Tuple[int, int, int]] = []",
    "start_line": 12
  },
  {
    "file": "make_terminal_widths.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "append = table.append\n    make_table_task = progress.add_task(\"Calculating table...\")\n    widths = (\n        (codepoint, wcwidth(chr(codepoint)))\n        for codepoint in range(0, sys.maxunicode + 1)\n    )\n    _widths = [(codepoint, width) for codepoint, width in widths if width != 1]\n    iter_widths = iter(_widths)\n    endpoint, group_cell_size = next(iter_widths)\n    start_codepoint = end_codepoint = endpoint\n    for codepoint, cell_size in progress.track(\n        iter_widths, task_id=make_table_task, total=len(_widths) - 1\n    ):\n        if cell_size != group_cell_size or codepoint != end_codepoint + 1:\n            append((start_codepoint, end_codepoint, group_cell_size))\n            start_codepoint = end_codepoint = codepoint\n            group_cell_size = cell_size\n        else:\n            end_codepoint = codepoint\n    append((start_codepoint, end_codepoint, group_cell_size))\n    return table",
    "start_line": 14
  },
  {
    "file": "make_terminal_widths.py",
    "type": "function",
    "class": null,
    "method": "get_cell_size",
    "name": "get_cell_size",
    "content": "def get_cell_size(table: List[Tuple[int, int, int]], character: str) -> int:",
    "start_line": 41
  },
  {
    "file": "make_terminal_widths.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "codepoint = ord(character)\n    lower_bound = 0\n    upper_bound = len(table) - 1\n    index = (lower_bound + upper_bound) // 2\n    while True:\n        start, end, width = table[index]\n        if codepoint < start:\n            upper_bound = index - 1\n        elif codepoint > end:\n            lower_bound = index + 1\n        else:\n            return width\n        if upper_bound < lower_bound:\n            break\n        index = (lower_bound + upper_bound) // 2\n    return 1",
    "start_line": 42
  },
  {
    "file": "make_terminal_widths.py",
    "type": "function",
    "class": null,
    "method": "test",
    "name": "test",
    "content": "def test(widths_table):\n    for codepoint in progress.track(\n        range(0, sys.maxunicode + 1), description=\"Testing...\"\n    ):",
    "start_line": 60
  },
  {
    "file": "make_terminal_widths.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "character = chr(codepoint)\n        width1 = get_cell_size(widths_table, character)\n        width2 = wcwidth(character)\n        if width1 != width2:\n            print(f\"{width1} != {width2}\")\n            break",
    "start_line": 64
  },
  {
    "file": "make_terminal_widths.py",
    "type": "function",
    "class": null,
    "method": "run",
    "name": "run",
    "content": "def run():\n    with progress:",
    "start_line": 72
  },
  {
    "file": "make_terminal_widths.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "widths_table = make_widths_table()\n        test(widths_table)\n    table_file = f\"\"\"# Auto generated by make_terminal_widths.py",
    "start_line": 74
  },
  {
    "file": "make_terminal_widths.py",
    "type": "constants",
    "class": null,
    "method": null,
    "name": "module_constants",
    "content": "CELL_WIDTHS = {widths_table!r}\n\"\"\"\n    with open(\"../rich/_cell_widths.py\", \"wt\") as fh:\n        fh.write(table_file)\n    subprocess.run(\"black ../rich/_cell_widths.py\", shell=True)\nif __name__ == \"__main__\":\n    run()",
    "start_line": 78
  },
  {
    "file": "make_terminal_widths.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "import subprocess\nfrom typing import List, Tuple\nimport sys\n\nfrom rich.progress import Progress\n\nfrom wcwidth import wcwidth\n\n\nprogress = Progress()\n\n\ndef make_widths_table() -> List[Tuple[int, int, int]]:\n    table: List[Tuple[int, int, int]] = []\n    append = table.append\n\n    make_table_task = progress.add_task(\"Calculating table...\")\n\n    widths = (\n        (codepoint, wcwidth(chr(codepoint)))\n        for codepoint in range(0, sys.maxunicode + 1)\n    )\n\n    _widths = [(codepoint, width) for codepoint, width in widths if width != 1]\n    iter_widths = iter(_widths)\n\n    endpoint, group_cell_size = next(iter_widths)\n    start_codepoint = end_codepoint = endpoint\n    for codepoint, cell_size in progress.track(\n        iter_widths, task_id=make_table_task, total=len(_widths) - 1\n    ):\n        if cell_size != group_cell_size or codepoint != end_codepoint + 1:\n            append((start_codepoint, end_codepoint, group_cell_size))\n            start_codepoint = end_codepoint = codepoint\n            group_cell_size = cell_size\n        else:\n            end_codepoint = codepoint\n    append((start_codepoint, end_codepoint, group_cell_size))\n    return table\n\n\ndef get_cell_size(table: List[Tuple[int, int, int]], character: str) -> int:\n    codepoint = ord(character)\n    lower_bound = 0\n    upper_bound = len(table) - 1\n    index = (lower_bound + upper_bound) // 2\n    while True:\n        start, end, width = table[index]\n        if codepoint < start:\n            upper_bound = index - 1\n        elif codepoint > end:\n            lower_bound = index + 1\n        else:\n            return width\n        if upper_bound < lower_bound:\n            break\n        index = (lower_bound + upper_bound) // 2\n    return 1\n\n\ndef test(widths_table):\n    for codepoint in progress.track(\n        range(0, sys.maxunicode + 1), description=\"Testing...\"\n    ):\n        character = chr(codepoint)\n        width1 = get_cell_size(widths_table, character)\n        width2 = wcwidth(character)\n        if width1 != width2:\n            print(f\"{width1} != {width2}\")\n            break\n\n\ndef run():\n    with progress:\n        widths_table = make_widths_table()\n        test(widths_table)\n    table_file = f\"\"\"# Auto generated by make_terminal_widths.py\n\nCELL_WIDTHS = {widths_table!r}\n\n\"\"\"\n    with open(\"../rich/_cell_widths.py\", \"wt\") as fh:\n        fh.write(table_file)\n\n    subprocess.run(\"black ../rich/_cell_widths.py\", shell=True)\n\n\nif __name__ == \"__main__\":\n    run()\n",
    "start_line": 0
  },
  {
    "file": "profile_divide.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from rich.segment import Segment",
    "start_line": 0
  },
  {
    "file": "profile_divide.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "text = \"\"\"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\"\"\"\nsegments = [Segment(text[n : n + 7]) for n in range(0, len(text), 7)]",
    "start_line": 2
  },
  {
    "file": "profile_divide.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from time import perf_counter",
    "start_line": 8
  },
  {
    "file": "profile_divide.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "start = perf_counter()\nfor _ in range(10000):\n    list(Segment.divide(segments, [0, 1, 20, 24, 65, len(text)]))\nprint(perf_counter() - start)",
    "start_line": 10
  },
  {
    "file": "profile_divide.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "from rich.segment import Segment\n\ntext = \"\"\"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\"\"\"\n\n\nsegments = [Segment(text[n : n + 7]) for n in range(0, len(text), 7)]\n\n\nfrom time import perf_counter\n\nstart = perf_counter()\nfor _ in range(10000):\n    list(Segment.divide(segments, [0, 1, 20, 24, 65, len(text)]))\nprint(perf_counter() - start)\n",
    "start_line": 0
  },
  {
    "file": "make_emoji.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "import emoji\nexcept ImportError:\n    print(\"pip install emoji\")\n    raise\nfrom emoji.unicode_codes import EMOJI_ALIAS_UNICODE",
    "start_line": 1
  },
  {
    "file": "make_emoji.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "emoji = {k.lower().strip(\":\"): v for k, v in EMOJI_ALIAS_UNICODE.items()}\nwith open(\"_emoji_codes.py\", \"wt\") as f:\n    f.write(\"EMOJI=\" + str(emoji))",
    "start_line": 8
  },
  {
    "file": "make_emoji.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "try:\n    import emoji\nexcept ImportError:\n    print(\"pip install emoji\")\n    raise\n\nfrom emoji.unicode_codes import EMOJI_ALIAS_UNICODE\n\nemoji = {k.lower().strip(\":\"): v for k, v in EMOJI_ALIAS_UNICODE.items()}\n\nwith open(\"_emoji_codes.py\", \"wt\") as f:\n    f.write(\"EMOJI=\" + str(emoji))\n",
    "start_line": 0
  },
  {
    "file": "test_pretty.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "import collections\nimport io\nimport sys\nfrom array import array\nfrom collections import UserDict, defaultdict, deque\nfrom dataclasses import dataclass, field\nfrom typing import Any, List, NamedTuple\nimport attr\nimport pytest\nfrom rich.console import Console\nfrom rich.measure import Measurement\nfrom rich.pretty import Node, Pretty, _ipy_display_hook, install, pprint, pretty_repr\nfrom rich.text import Text",
    "start_line": 0
  },
  {
    "file": "test_pretty.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "skip_py38 = pytest.mark.skipif(\n    sys.version_info.minor == 8 and sys.version_info.major == 3,\n    reason=\"rendered differently on py3.8\",\n)\nskip_py39 = pytest.mark.skipif(\n    sys.version_info.minor == 9 and sys.version_info.major == 3,\n    reason=\"rendered differently on py3.9\",\n)\nskip_py310 = pytest.mark.skipif(\n    sys.version_info.minor == 10 and sys.version_info.major == 3,\n    reason=\"rendered differently on py3.10\",\n)\nskip_py311 = pytest.mark.skipif(\n    sys.version_info.minor == 11 and sys.version_info.major == 3,\n    reason=\"rendered differently on py3.11\",\n)\nskip_py312 = pytest.mark.skipif(\n    sys.version_info.minor == 12 and sys.version_info.major == 3,\n    reason=\"rendered differently on py3.12\",\n)\nskip_py313 = pytest.mark.skipif(\n    sys.version_info.minor == 13 and sys.version_info.major == 3,\n    reason=\"rendered differently on py3.13\",\n)",
    "start_line": 16
  },
  {
    "file": "test_pretty.py",
    "type": "function",
    "class": null,
    "method": "test_install",
    "name": "test_install",
    "content": "def test_install() -> None:",
    "start_line": 42
  },
  {
    "file": "test_pretty.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(file=io.StringIO())\n    dh = sys.displayhook\n    install(console)\n    sys.displayhook(\"foo\")\n    assert console.file.getvalue() == \"'foo'\\n\"\n    assert sys.displayhook is not dh",
    "start_line": 43
  },
  {
    "file": "test_pretty.py",
    "type": "function",
    "class": null,
    "method": "test_install_max_depth",
    "name": "test_install_max_depth",
    "content": "def test_install_max_depth() -> None:",
    "start_line": 51
  },
  {
    "file": "test_pretty.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(file=io.StringIO())\n    dh = sys.displayhook\n    install(console, max_depth=1)\n    sys.displayhook({\"foo\": {\"bar\": True}})\n    assert console.file.getvalue() == \"{'foo': {...}}\\n\"\n    assert sys.displayhook is not dh",
    "start_line": 52
  },
  {
    "file": "test_pretty.py",
    "type": "function",
    "class": null,
    "method": "test_ipy_display_hook__repr_html",
    "name": "test_ipy_display_hook__repr_html",
    "content": "def test_ipy_display_hook__repr_html() -> None:",
    "start_line": 60
  },
  {
    "file": "test_pretty.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(file=io.StringIO(), force_jupyter=True)",
    "start_line": 61
  },
  {
    "file": "test_pretty.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "Thing",
    "content": "class Thing:",
    "start_line": 63
  },
  {
    "file": "test_pretty.py",
    "type": "method",
    "class": "Thing",
    "method": "_repr_html_",
    "name": "_repr_html_",
    "content": "class Thing:\n        def _repr_html_(self):\n            return \"hello\"\n\n    console.begin_capture()\n    _ipy_display_hook(Thing(), console=console)",
    "start_line": 64
  },
  {
    "file": "test_pretty.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# Rendering delegated to notebook because _repr_html_ method exists\n    assert console.end_capture() == \"\"",
    "start_line": 70
  },
  {
    "file": "test_pretty.py",
    "type": "function",
    "class": null,
    "method": "test_ipy_display_hook__multiple_special_reprs",
    "name": "test_ipy_display_hook__multiple_special_reprs",
    "content": "def test_ipy_display_hook__multiple_special_reprs() -> None:\n    \"\"\"\n    The case where there are multiple IPython special _repr_*_\n    methods on the object, and one of them returns None but another\n    one does not.\n    \"\"\"",
    "start_line": 74
  },
  {
    "file": "test_pretty.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(file=io.StringIO(), force_jupyter=True)",
    "start_line": 80
  },
  {
    "file": "test_pretty.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "Thing",
    "content": "class Thing:",
    "start_line": 82
  },
  {
    "file": "test_pretty.py",
    "type": "method",
    "class": "Thing",
    "method": "__repr__",
    "name": "__repr__",
    "content": "class Thing:\n        def __repr__(self):\n            return \"A Thing\"",
    "start_line": 83
  },
  {
    "file": "test_pretty.py",
    "type": "method",
    "class": "Thing",
    "method": "_repr_latex_",
    "name": "_repr_latex_",
    "content": "class Thing:\n        def _repr_latex_(self):\n            return None",
    "start_line": 86
  },
  {
    "file": "test_pretty.py",
    "type": "method",
    "class": "Thing",
    "method": "_repr_html_",
    "name": "_repr_html_",
    "content": "class Thing:\n        def _repr_html_(self):\n            return \"hello\"\n\n    result = _ipy_display_hook(Thing(), console=console)\n    assert result == \"A Thing\"",
    "start_line": 89
  },
  {
    "file": "test_pretty.py",
    "type": "function",
    "class": null,
    "method": "test_ipy_display_hook__no_special_repr_methods",
    "name": "test_ipy_display_hook__no_special_repr_methods",
    "content": "def test_ipy_display_hook__no_special_repr_methods() -> None:",
    "start_line": 96
  },
  {
    "file": "test_pretty.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(file=io.StringIO(), force_jupyter=True)",
    "start_line": 97
  },
  {
    "file": "test_pretty.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "Thing",
    "content": "class Thing:",
    "start_line": 99
  },
  {
    "file": "test_pretty.py",
    "type": "method",
    "class": "Thing",
    "method": "__repr__",
    "name": "__repr__",
    "content": "class Thing:\n        def __repr__(self) -> str:\n            return \"hello\"\n\n    result = _ipy_display_hook(Thing(), console=console)",
    "start_line": 100
  },
  {
    "file": "test_pretty.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# should be repr as-is\n    assert result == \"hello\"",
    "start_line": 104
  },
  {
    "file": "test_pretty.py",
    "type": "function",
    "class": null,
    "method": "test_ipy_display_hook__special_repr_raises_exception",
    "name": "test_ipy_display_hook__special_repr_raises_exception",
    "content": "def test_ipy_display_hook__special_repr_raises_exception() -> None:\n    \"\"\"\n    When an IPython special repr method raises an exception,\n    we treat it as if it doesn't exist and look for the next.\n    \"\"\"",
    "start_line": 108
  },
  {
    "file": "test_pretty.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(file=io.StringIO(), force_jupyter=True)",
    "start_line": 113
  },
  {
    "file": "test_pretty.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "Thing",
    "content": "class Thing:",
    "start_line": 115
  },
  {
    "file": "test_pretty.py",
    "type": "method",
    "class": "Thing",
    "method": "_repr_markdown_",
    "name": "_repr_markdown_",
    "content": "class Thing:\n        def _repr_markdown_(self):\n            raise Exception()",
    "start_line": 116
  },
  {
    "file": "test_pretty.py",
    "type": "method",
    "class": "Thing",
    "method": "_repr_latex_",
    "name": "_repr_latex_",
    "content": "class Thing:\n        def _repr_latex_(self):\n            return None",
    "start_line": 119
  },
  {
    "file": "test_pretty.py",
    "type": "method",
    "class": "Thing",
    "method": "_repr_html_",
    "name": "_repr_html_",
    "content": "class Thing:\n        def _repr_html_(self):\n            return \"hello\"",
    "start_line": 122
  },
  {
    "file": "test_pretty.py",
    "type": "method",
    "class": "Thing",
    "method": "__repr__",
    "name": "__repr__",
    "content": "class Thing:\n        def __repr__(self):\n            return \"therepr\"\n\n    result = _ipy_display_hook(Thing(), console=console)\n    assert result == \"therepr\"",
    "start_line": 125
  },
  {
    "file": "test_pretty.py",
    "type": "function",
    "class": null,
    "method": "test_ipy_display_hook__console_renderables_on_newline",
    "name": "test_ipy_display_hook__console_renderables_on_newline",
    "content": "def test_ipy_display_hook__console_renderables_on_newline() -> None:",
    "start_line": 132
  },
  {
    "file": "test_pretty.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(file=io.StringIO(), force_jupyter=True)\n    console.begin_capture()\n    result = _ipy_display_hook(Text(\"hello\"), console=console)\n    assert result == \"\\nhello\"",
    "start_line": 133
  },
  {
    "file": "test_pretty.py",
    "type": "function",
    "class": null,
    "method": "test_pretty",
    "name": "test_pretty",
    "content": "def test_pretty() -> None:",
    "start_line": 139
  },
  {
    "file": "test_pretty.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "test = {\n        \"foo\": [1, 2, 3, (4, 5, {6}, 7, 8, {9}), {}],\n        \"bar\": {\"egg\": \"baz\", \"words\": [\"Hello World\"] * 10},\n        False: \"foo\",\n        True: \"\",\n        \"text\": (\"Hello World\", \"foo bar baz egg\"),\n    }\n    result = pretty_repr(test, max_width=80)\n    print(result)\n    expected = \"{\\n    'foo': [1, 2, 3, (4, 5, {6}, 7, 8, {9}), {}],\\n    'bar': {\\n        'egg': 'baz',\\n        'words': [\\n            'Hello World',\\n            'Hello World',\\n            'Hello World',\\n            'Hello World',\\n            'Hello World',\\n            'Hello World',\\n            'Hello World',\\n            'Hello World',\\n            'Hello World',\\n            'Hello World'\\n        ]\\n    },\\n    False: 'foo',\\n    True: '',\\n    'text': ('Hello World', 'foo bar baz egg')\\n}\"\n    print(expected)\n    assert result == expected\n@dataclass",
    "start_line": 140
  },
  {
    "file": "test_pretty.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "ExampleDataclass",
    "content": "class ExampleDataclass:\n    foo: int\n    bar: str\n    ignore: int = field(repr=False)\n    baz: List[str] = field(default_factory=list)\n    last: int = field(default=1, repr=False)\n\n\n@dataclass",
    "start_line": 156
  },
  {
    "file": "test_pretty.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "Empty",
    "content": "class Empty:\n    pass",
    "start_line": 165
  },
  {
    "file": "test_pretty.py",
    "type": "function",
    "class": null,
    "method": "test_pretty_dataclass",
    "name": "test_pretty_dataclass",
    "content": "def test_pretty_dataclass() -> None:",
    "start_line": 169
  },
  {
    "file": "test_pretty.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "dc = ExampleDataclass(1000, \"Hello, World\", 999, [\"foo\", \"bar\", \"baz\"])\n    result = pretty_repr(dc, max_width=80)\n    print(repr(result))\n    assert (\n        result\n        == \"ExampleDataclass(foo=1000, bar='Hello, World', baz=['foo', 'bar', 'baz'])\"\n    )\n    result = pretty_repr(dc, max_width=16)\n    print(repr(result))\n    assert (\n        result\n        == \"ExampleDataclass(\\n    foo=1000,\\n    bar='Hello, World',\\n    baz=[\\n        'foo',\\n        'bar',\\n        'baz'\\n    ]\\n)\"\n    )\n    dc.bar = dc\n    result = pretty_repr(dc, max_width=80)\n    print(repr(result))\n    assert result == \"ExampleDataclass(foo=1000, bar=..., baz=['foo', 'bar', 'baz'])\"",
    "start_line": 170
  },
  {
    "file": "test_pretty.py",
    "type": "function",
    "class": null,
    "method": "test_empty_dataclass",
    "name": "test_empty_dataclass",
    "content": "def test_empty_dataclass() -> None:\n    assert pretty_repr(Empty()) == \"Empty()\"\n    assert pretty_repr([Empty()]) == \"[Empty()]\"",
    "start_line": 189
  },
  {
    "file": "test_pretty.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "StockKeepingUnit",
    "content": "class StockKeepingUnit(NamedTuple):\n    name: str\n    description: str\n    price: float\n    category: str\n    reviews: List[str]",
    "start_line": 194
  },
  {
    "file": "test_pretty.py",
    "type": "function",
    "class": null,
    "method": "test_pretty_namedtuple",
    "name": "test_pretty_namedtuple",
    "content": "def test_pretty_namedtuple() -> None:",
    "start_line": 202
  },
  {
    "file": "test_pretty.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(color_system=None)\n    console.begin_capture()\n    example_namedtuple = StockKeepingUnit(\n        \"Sparkling British Spring Water\",\n        \"Carbonated spring water\",\n        0.9,\n        \"water\",\n        [\"its amazing!\", \"its terrible!\"],\n    )\n    result = pretty_repr(example_namedtuple)\n    print(result)\n    assert (\n        result\n        == \"\"\"StockKeepingUnit(\n    name='Sparkling British Spring Water',\n    description='Carbonated spring water',\n    price=0.9,\n    category='water',\n    reviews=['its amazing!', 'its terrible!']\n)\"\"\"\n    )",
    "start_line": 203
  },
  {
    "file": "test_pretty.py",
    "type": "function",
    "class": null,
    "method": "test_pretty_namedtuple_length_one_no_trailing_comma",
    "name": "test_pretty_namedtuple_length_one_no_trailing_comma",
    "content": "def test_pretty_namedtuple_length_one_no_trailing_comma() -> None:",
    "start_line": 229
  },
  {
    "file": "test_pretty.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "instance = collections.namedtuple(\"Thing\", [\"name\"])(name=\"Bob\")\n    assert pretty_repr(instance) == \"Thing(name='Bob')\"",
    "start_line": 230
  },
  {
    "file": "test_pretty.py",
    "type": "function",
    "class": null,
    "method": "test_pretty_namedtuple_empty",
    "name": "test_pretty_namedtuple_empty",
    "content": "def test_pretty_namedtuple_empty() -> None:",
    "start_line": 234
  },
  {
    "file": "test_pretty.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "instance = collections.namedtuple(\"Thing\", [])()\n    assert pretty_repr(instance) == \"Thing()\"",
    "start_line": 235
  },
  {
    "file": "test_pretty.py",
    "type": "function",
    "class": null,
    "method": "test_pretty_namedtuple_custom_repr",
    "name": "test_pretty_namedtuple_custom_repr",
    "content": "def test_pretty_namedtuple_custom_repr() -> None:",
    "start_line": 239
  },
  {
    "file": "test_pretty.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "Thing",
    "content": "class Thing(NamedTuple):",
    "start_line": 240
  },
  {
    "file": "test_pretty.py",
    "type": "method",
    "class": "Thing",
    "method": "__repr__",
    "name": "__repr__",
    "content": "class Thing:\n        def __repr__(self):\n            return \"XX\"\n\n    assert pretty_repr(Thing()) == \"XX\"",
    "start_line": 241
  },
  {
    "file": "test_pretty.py",
    "type": "function",
    "class": null,
    "method": "test_pretty_namedtuple_fields_invalid_type",
    "name": "test_pretty_namedtuple_fields_invalid_type",
    "content": "def test_pretty_namedtuple_fields_invalid_type() -> None:",
    "start_line": 247
  },
  {
    "file": "test_pretty.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "LooksLikeANamedTupleButIsnt",
    "content": "class LooksLikeANamedTupleButIsnt(tuple):\n        _fields = \"blah\"\n\n    instance = LooksLikeANamedTupleButIsnt()",
    "start_line": 248
  },
  {
    "file": "test_pretty.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "result = pretty_repr(instance)\n    assert result == \"()\"  # Treated as tuple",
    "start_line": 252
  },
  {
    "file": "test_pretty.py",
    "type": "function",
    "class": null,
    "method": "test_pretty_namedtuple_max_depth",
    "name": "test_pretty_namedtuple_max_depth",
    "content": "def test_pretty_namedtuple_max_depth() -> None:",
    "start_line": 256
  },
  {
    "file": "test_pretty.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "instance = {\"unit\": StockKeepingUnit(\"a\", \"b\", 1.0, \"c\", [\"d\", \"e\"])}\n    result = pretty_repr(instance, max_depth=1)\n    assert result == \"{'unit': StockKeepingUnit(...)}\"",
    "start_line": 257
  },
  {
    "file": "test_pretty.py",
    "type": "function",
    "class": null,
    "method": "test_small_width",
    "name": "test_small_width",
    "content": "def test_small_width() -> None:",
    "start_line": 262
  },
  {
    "file": "test_pretty.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "test = [\"Hello world! 12345\"]\n    result = pretty_repr(test, max_width=10)\n    expected = \"[\\n    'Hello world! 12345'\\n]\"\n    assert result == expected",
    "start_line": 263
  },
  {
    "file": "test_pretty.py",
    "type": "function",
    "class": null,
    "method": "test_ansi_in_pretty_repr",
    "name": "test_ansi_in_pretty_repr",
    "content": "def test_ansi_in_pretty_repr() -> None:",
    "start_line": 269
  },
  {
    "file": "test_pretty.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "Hello",
    "content": "class Hello:",
    "start_line": 270
  },
  {
    "file": "test_pretty.py",
    "type": "method",
    "class": "Hello",
    "method": "__repr__",
    "name": "__repr__",
    "content": "class Hello:\n        def __repr__(self):\n            return \"Hello \\x1b[38;5;239mWorld!\"\n\n    pretty = Pretty(Hello())\n\n    console = Console(file=io.StringIO(), record=True)\n    console.print(pretty)\n    result = console.export_text()\n\n    assert result == \"Hello World!\\n\"",
    "start_line": 271
  },
  {
    "file": "test_pretty.py",
    "type": "function",
    "class": null,
    "method": "test_broken_repr",
    "name": "test_broken_repr",
    "content": "def test_broken_repr() -> None:",
    "start_line": 283
  },
  {
    "file": "test_pretty.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "BrokenRepr",
    "content": "class BrokenRepr:",
    "start_line": 284
  },
  {
    "file": "test_pretty.py",
    "type": "method",
    "class": "BrokenRepr",
    "method": "__repr__",
    "name": "__repr__",
    "content": "class BrokenRepr:\n        def __repr__(self):\n            1 / 0\n\n    test = [BrokenRepr()]\n    result = pretty_repr(test)\n    expected = \"[<repr-error 'division by zero'>]\"\n    assert result == expected",
    "start_line": 285
  },
  {
    "file": "test_pretty.py",
    "type": "function",
    "class": null,
    "method": "test_broken_getattr",
    "name": "test_broken_getattr",
    "content": "def test_broken_getattr() -> None:",
    "start_line": 294
  },
  {
    "file": "test_pretty.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "BrokenAttr",
    "content": "class BrokenAttr:",
    "start_line": 295
  },
  {
    "file": "test_pretty.py",
    "type": "method",
    "class": "BrokenAttr",
    "method": "__getattr__",
    "name": "__getattr__",
    "content": "class BrokenAttr:\n        def __getattr__(self, name):\n            1 / 0",
    "start_line": 296
  },
  {
    "file": "test_pretty.py",
    "type": "method",
    "class": "BrokenAttr",
    "method": "__repr__",
    "name": "__repr__",
    "content": "class BrokenAttr:\n        def __repr__(self):\n            return \"BrokenAttr()\"\n\n    test = BrokenAttr()\n    result = pretty_repr(test)\n    assert result == \"BrokenAttr()\"",
    "start_line": 299
  },
  {
    "file": "test_pretty.py",
    "type": "function",
    "class": null,
    "method": "test_reference_cycle_container",
    "name": "test_reference_cycle_container",
    "content": "def test_reference_cycle_container() -> None:",
    "start_line": 307
  },
  {
    "file": "test_pretty.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "test = []\n    test.append(test)\n    res = pretty_repr(test)\n    assert res == \"[...]\"\n    test = [1, []]\n    test[1].append(test)\n    res = pretty_repr(test)\n    assert res == \"[1, [...]]\"",
    "start_line": 308
  },
  {
    "file": "test_pretty.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# Not a cyclic reference, just a repeated reference",
    "start_line": 318
  },
  {
    "file": "test_pretty.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "a = [2]\n    test = [1, [a, a]]\n    res = pretty_repr(test)\n    assert res == \"[1, [[2], [2]]]\"",
    "start_line": 319
  },
  {
    "file": "test_pretty.py",
    "type": "function",
    "class": null,
    "method": "test_reference_cycle_namedtuple",
    "name": "test_reference_cycle_namedtuple",
    "content": "def test_reference_cycle_namedtuple() -> None:",
    "start_line": 325
  },
  {
    "file": "test_pretty.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "Example",
    "content": "class Example(NamedTuple):\n        x: int\n        y: Any\n\n    test = Example(1, [Example(2, [])])\n    test.y[0].y.append(test)",
    "start_line": 326
  },
  {
    "file": "test_pretty.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "res = pretty_repr(test)\n    assert res == \"Example(x=1, y=[Example(x=2, y=[...])])\"",
    "start_line": 332
  },
  {
    "file": "test_pretty.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# Not a cyclic reference, just a repeated reference",
    "start_line": 335
  },
  {
    "file": "test_pretty.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "a = Example(2, None)\n    test = Example(1, [a, a])\n    res = pretty_repr(test)\n    assert res == \"Example(x=1, y=[Example(x=2, y=None), Example(x=2, y=None)])\"",
    "start_line": 336
  },
  {
    "file": "test_pretty.py",
    "type": "function",
    "class": null,
    "method": "test_reference_cycle_dataclass",
    "name": "test_reference_cycle_dataclass",
    "content": "def test_reference_cycle_dataclass() -> None:\n    @dataclass",
    "start_line": 342
  },
  {
    "file": "test_pretty.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "Example",
    "content": "class Example:\n        x: int\n        y: Any\n\n    test = Example(1, None)\n    test.y = test",
    "start_line": 344
  },
  {
    "file": "test_pretty.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "res = pretty_repr(test)\n    assert res == \"Example(x=1, y=...)\"\n    test = Example(1, Example(2, None))\n    test.y.y = test\n    res = pretty_repr(test)\n    assert res == \"Example(x=1, y=Example(x=2, y=...))\"",
    "start_line": 350
  },
  {
    "file": "test_pretty.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# Not a cyclic reference, just a repeated reference",
    "start_line": 358
  },
  {
    "file": "test_pretty.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "a = Example(2, None)\n    test = Example(1, [a, a])\n    res = pretty_repr(test)\n    assert res == \"Example(x=1, y=[Example(x=2, y=None), Example(x=2, y=None)])\"",
    "start_line": 359
  },
  {
    "file": "test_pretty.py",
    "type": "function",
    "class": null,
    "method": "test_reference_cycle_attrs",
    "name": "test_reference_cycle_attrs",
    "content": "def test_reference_cycle_attrs() -> None:\n    @attr.define",
    "start_line": 365
  },
  {
    "file": "test_pretty.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "Example",
    "content": "class Example:\n        x: int\n        y: Any\n\n    test = Example(1, None)\n    test.y = test",
    "start_line": 367
  },
  {
    "file": "test_pretty.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "res = pretty_repr(test)\n    assert res == \"Example(x=1, y=...)\"\n    test = Example(1, Example(2, None))\n    test.y.y = test\n    res = pretty_repr(test)\n    assert res == \"Example(x=1, y=Example(x=2, y=...))\"",
    "start_line": 373
  },
  {
    "file": "test_pretty.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# Not a cyclic reference, just a repeated reference",
    "start_line": 381
  },
  {
    "file": "test_pretty.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "a = Example(2, None)\n    test = Example(1, [a, a])\n    res = pretty_repr(test)\n    assert res == \"Example(x=1, y=[Example(x=2, y=None), Example(x=2, y=None)])\"",
    "start_line": 382
  },
  {
    "file": "test_pretty.py",
    "type": "function",
    "class": null,
    "method": "test_reference_cycle_custom_repr",
    "name": "test_reference_cycle_custom_repr",
    "content": "def test_reference_cycle_custom_repr() -> None:",
    "start_line": 388
  },
  {
    "file": "test_pretty.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "Example",
    "content": "class Example:",
    "start_line": 389
  },
  {
    "file": "test_pretty.py",
    "type": "method",
    "class": "Example",
    "method": "__init__",
    "name": "__init__",
    "content": "class Example:\n        def __init__(self, x, y):\n            self.x = x\n            self.y = y",
    "start_line": 390
  },
  {
    "file": "test_pretty.py",
    "type": "method",
    "class": "Example",
    "method": "__rich_repr__",
    "name": "__rich_repr__",
    "content": "class Example:\n        def __rich_repr__(self):\n            yield (\"x\", self.x)\n            yield (\"y\", self.y)\n\n    test = Example(1, None)\n    test.y = test\n    res = pretty_repr(test)\n    assert res == \"Example(x=1, y=...)\"\n\n    test = Example(1, Example(2, None))\n    test.y.y = test\n    res = pretty_repr(test)\n    assert res == \"Example(x=1, y=Example(x=2, y=...))\"",
    "start_line": 394
  },
  {
    "file": "test_pretty.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# Not a cyclic reference, just a repeated reference\n    a = Example(2, None)",
    "start_line": 408
  },
  {
    "file": "test_pretty.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "test = Example(1, [a, a])\n    res = pretty_repr(test)\n    assert res == \"Example(x=1, y=[Example(x=2, y=None), Example(x=2, y=None)])\"",
    "start_line": 410
  },
  {
    "file": "test_pretty.py",
    "type": "function",
    "class": null,
    "method": "test_max_depth",
    "name": "test_max_depth",
    "content": "def test_max_depth() -> None:",
    "start_line": 415
  },
  {
    "file": "test_pretty.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "d = {}\n    d[\"foo\"] = {\"fob\": {\"a\": [1, 2, 3], \"b\": {\"z\": \"x\", \"y\": [\"a\", \"b\", \"c\"]}}}\n    assert pretty_repr(d, max_depth=0) == \"{...}\"\n    assert pretty_repr(d, max_depth=1) == \"{'foo': {...}}\"\n    assert pretty_repr(d, max_depth=2) == \"{'foo': {'fob': {...}}}\"\n    assert pretty_repr(d, max_depth=3) == \"{'foo': {'fob': {'a': [...], 'b': {...}}}}\"\n    assert (\n        pretty_repr(d, max_width=100, max_depth=4)\n        == \"{'foo': {'fob': {'a': [1, 2, 3], 'b': {'z': 'x', 'y': [...]}}}}\"\n    )\n    assert (\n        pretty_repr(d, max_width=100, max_depth=5)\n        == \"{'foo': {'fob': {'a': [1, 2, 3], 'b': {'z': 'x', 'y': ['a', 'b', 'c']}}}}\"\n    )\n    assert (\n        pretty_repr(d, max_width=100, max_depth=None)\n        == \"{'foo': {'fob': {'a': [1, 2, 3], 'b': {'z': 'x', 'y': ['a', 'b', 'c']}}}}\"\n    )",
    "start_line": 416
  },
  {
    "file": "test_pretty.py",
    "type": "function",
    "class": null,
    "method": "test_max_depth_rich_repr",
    "name": "test_max_depth_rich_repr",
    "content": "def test_max_depth_rich_repr() -> None:",
    "start_line": 437
  },
  {
    "file": "test_pretty.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "Foo",
    "content": "class Foo:",
    "start_line": 438
  },
  {
    "file": "test_pretty.py",
    "type": "method",
    "class": "Foo",
    "method": "__init__",
    "name": "__init__",
    "content": "class Foo:\n        def __init__(self, foo):\n            self.foo = foo",
    "start_line": 439
  },
  {
    "file": "test_pretty.py",
    "type": "method",
    "class": "Foo",
    "method": "__rich_repr__",
    "name": "__rich_repr__",
    "content": "class Foo:\n        def __rich_repr__(self):\n            yield \"foo\", self.foo",
    "start_line": 442
  },
  {
    "file": "test_pretty.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "Bar",
    "content": "class Bar:",
    "start_line": 445
  },
  {
    "file": "test_pretty.py",
    "type": "method",
    "class": "Bar",
    "method": "__init__",
    "name": "__init__",
    "content": "class Bar:\n        def __init__(self, bar):\n            self.bar = bar",
    "start_line": 446
  },
  {
    "file": "test_pretty.py",
    "type": "method",
    "class": "Bar",
    "method": "__rich_repr__",
    "name": "__rich_repr__",
    "content": "class Bar:\n        def __rich_repr__(self):\n            yield \"bar\", self.bar\n\n    assert (\n        pretty_repr(Foo(foo=Bar(bar=Foo(foo=[]))), max_depth=2)\n        == \"Foo(foo=Bar(bar=Foo(...)))\"\n    )",
    "start_line": 449
  },
  {
    "file": "test_pretty.py",
    "type": "function",
    "class": null,
    "method": "test_max_depth_attrs",
    "name": "test_max_depth_attrs",
    "content": "def test_max_depth_attrs() -> None:\n    @attr.define",
    "start_line": 458
  },
  {
    "file": "test_pretty.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "Foo",
    "content": "class Foo:\n        foo = attr.field()\n\n    @attr.define",
    "start_line": 460
  },
  {
    "file": "test_pretty.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "Bar",
    "content": "class Bar:\n        bar = attr.field()\n\n    assert (\n        pretty_repr(Foo(foo=Bar(bar=Foo(foo=[]))), max_depth=2)\n        == \"Foo(foo=Bar(bar=Foo(...)))\"\n    )",
    "start_line": 464
  },
  {
    "file": "test_pretty.py",
    "type": "function",
    "class": null,
    "method": "test_max_depth_dataclass",
    "name": "test_max_depth_dataclass",
    "content": "def test_max_depth_dataclass() -> None:\n    @dataclass",
    "start_line": 473
  },
  {
    "file": "test_pretty.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "Foo",
    "content": "class Foo:\n        foo: object\n\n    @dataclass",
    "start_line": 475
  },
  {
    "file": "test_pretty.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "Bar",
    "content": "class Bar:\n        bar: object\n\n    assert (\n        pretty_repr(Foo(foo=Bar(bar=Foo(foo=[]))), max_depth=2)\n        == \"Foo(foo=Bar(bar=Foo(...)))\"\n    )",
    "start_line": 479
  },
  {
    "file": "test_pretty.py",
    "type": "function",
    "class": null,
    "method": "test_defaultdict",
    "name": "test_defaultdict",
    "content": "def test_defaultdict() -> None:",
    "start_line": 488
  },
  {
    "file": "test_pretty.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "test_dict = defaultdict(int, {\"foo\": 2})\n    result = pretty_repr(test_dict)\n    assert result == \"defaultdict(<class 'int'>, {'foo': 2})\"",
    "start_line": 489
  },
  {
    "file": "test_pretty.py",
    "type": "function",
    "class": null,
    "method": "test_deque",
    "name": "test_deque",
    "content": "def test_deque() -> None:",
    "start_line": 494
  },
  {
    "file": "test_pretty.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "test_deque = deque([1, 2, 3])\n    result = pretty_repr(test_deque)\n    assert result == \"deque([1, 2, 3])\"\n    test_deque = deque([1, 2, 3], maxlen=None)\n    result = pretty_repr(test_deque)\n    assert result == \"deque([1, 2, 3])\"\n    test_deque = deque([1, 2, 3], maxlen=5)\n    result = pretty_repr(test_deque)\n    assert result == \"deque([1, 2, 3], maxlen=5)\"\n    test_deque = deque([1, 2, 3], maxlen=0)\n    result = pretty_repr(test_deque)\n    assert result == \"deque(maxlen=0)\"\n    test_deque = deque([])\n    result = pretty_repr(test_deque)\n    assert result == \"deque()\"\n    test_deque = deque([], maxlen=None)\n    result = pretty_repr(test_deque)\n    assert result == \"deque()\"\n    test_deque = deque([], maxlen=5)\n    result = pretty_repr(test_deque)\n    assert result == \"deque(maxlen=5)\"\n    test_deque = deque([], maxlen=0)\n    result = pretty_repr(test_deque)\n    assert result == \"deque(maxlen=0)\"",
    "start_line": 495
  },
  {
    "file": "test_pretty.py",
    "type": "function",
    "class": null,
    "method": "test_array",
    "name": "test_array",
    "content": "def test_array() -> None:",
    "start_line": 521
  },
  {
    "file": "test_pretty.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "test_array = array(\"I\", [1, 2, 3])\n    result = pretty_repr(test_array)\n    assert result == \"array('I', [1, 2, 3])\"",
    "start_line": 522
  },
  {
    "file": "test_pretty.py",
    "type": "function",
    "class": null,
    "method": "test_tuple_of_one",
    "name": "test_tuple_of_one",
    "content": "def test_tuple_of_one() -> None:\n    assert pretty_repr((1,)) == \"(1,)\"",
    "start_line": 527
  },
  {
    "file": "test_pretty.py",
    "type": "function",
    "class": null,
    "method": "test_node",
    "name": "test_node",
    "content": "def test_node() -> None:",
    "start_line": 531
  },
  {
    "file": "test_pretty.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "node = Node(\"abc\")\n    assert pretty_repr(node) == \"abc: \"",
    "start_line": 532
  },
  {
    "file": "test_pretty.py",
    "type": "function",
    "class": null,
    "method": "test_indent_lines",
    "name": "test_indent_lines",
    "content": "def test_indent_lines() -> None:",
    "start_line": 536
  },
  {
    "file": "test_pretty.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(width=100, color_system=None)\n    console.begin_capture()\n    console.print(Pretty([100, 200], indent_guides=True), width=8)\n    expected = \"\"\"\\\n[\n   100,\n   200\n]\n\"\"\"\n    result = console.end_capture()\n    print(repr(result))\n    print(result)\n    assert result == expected",
    "start_line": 537
  },
  {
    "file": "test_pretty.py",
    "type": "function",
    "class": null,
    "method": "test_pprint",
    "name": "test_pprint",
    "content": "def test_pprint() -> None:",
    "start_line": 552
  },
  {
    "file": "test_pretty.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(color_system=None)\n    console.begin_capture()\n    pprint(1, console=console)\n    assert console.end_capture() == \"1\\n\"",
    "start_line": 553
  },
  {
    "file": "test_pretty.py",
    "type": "function",
    "class": null,
    "method": "test_pprint_max_values",
    "name": "test_pprint_max_values",
    "content": "def test_pprint_max_values() -> None:",
    "start_line": 559
  },
  {
    "file": "test_pretty.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(color_system=None)\n    console.begin_capture()\n    pprint([1, 2, 3, 4, 5, 6, 7, 8, 9, 0], console=console, max_length=2)\n    assert console.end_capture() == \"[1, 2, ... +8]\\n\"",
    "start_line": 560
  },
  {
    "file": "test_pretty.py",
    "type": "function",
    "class": null,
    "method": "test_pprint_max_items",
    "name": "test_pprint_max_items",
    "content": "def test_pprint_max_items() -> None:",
    "start_line": 566
  },
  {
    "file": "test_pretty.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(color_system=None)\n    console.begin_capture()\n    pprint({\"foo\": 1, \"bar\": 2, \"egg\": 3}, console=console, max_length=2)\n    assert console.end_capture() == \"\"\"{'foo': 1, 'bar': 2, ... +1}\\n\"\"\"",
    "start_line": 567
  },
  {
    "file": "test_pretty.py",
    "type": "function",
    "class": null,
    "method": "test_pprint_max_string",
    "name": "test_pprint_max_string",
    "content": "def test_pprint_max_string() -> None:",
    "start_line": 573
  },
  {
    "file": "test_pretty.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(color_system=None)\n    console.begin_capture()\n    pprint([\"Hello\" * 20], console=console, max_string=8)\n    assert console.end_capture() == \"\"\"['HelloHel'+92]\\n\"\"\"",
    "start_line": 574
  },
  {
    "file": "test_pretty.py",
    "type": "function",
    "class": null,
    "method": "test_tuples",
    "name": "test_tuples",
    "content": "def test_tuples() -> None:",
    "start_line": 580
  },
  {
    "file": "test_pretty.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(color_system=None)\n    console.begin_capture()\n    pprint((1,), console=console)\n    pprint((1,), expand_all=True, console=console)\n    pprint(((1,),), expand_all=True, console=console)\n    result = console.end_capture()\n    print(repr(result))\n    expected = \"(1,)\\n(\\n   1,\\n)\\n(\\n   (\\n      1,\\n   ),\\n)\\n\"\n    print(result)\n    print(\"--\")\n    print(expected)\n    assert result == expected",
    "start_line": 581
  },
  {
    "file": "test_pretty.py",
    "type": "function",
    "class": null,
    "method": "test_newline",
    "name": "test_newline",
    "content": "def test_newline() -> None:",
    "start_line": 595
  },
  {
    "file": "test_pretty.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(color_system=None)\n    console.begin_capture()\n    console.print(Pretty((1,), insert_line=True, expand_all=True))\n    result = console.end_capture()\n    expected = \"\\n(\\n    1,\\n)\\n\"\n    assert result == expected",
    "start_line": 596
  },
  {
    "file": "test_pretty.py",
    "type": "function",
    "class": null,
    "method": "test_empty_repr",
    "name": "test_empty_repr",
    "content": "def test_empty_repr() -> None:",
    "start_line": 604
  },
  {
    "file": "test_pretty.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "Foo",
    "content": "class Foo:",
    "start_line": 605
  },
  {
    "file": "test_pretty.py",
    "type": "method",
    "class": "Foo",
    "method": "__repr__",
    "name": "__repr__",
    "content": "class Foo:\n        def __repr__(self):\n            return \"\"\n\n    assert pretty_repr(Foo()) == \"\"",
    "start_line": 606
  },
  {
    "file": "test_pretty.py",
    "type": "function",
    "class": null,
    "method": "test_attrs",
    "name": "test_attrs",
    "content": "def test_attrs() -> None:\n    @attr.define",
    "start_line": 612
  },
  {
    "file": "test_pretty.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "Point",
    "content": "class Point:\n        x: int\n        y: int\n        foo: str = attr.field(repr=str.upper)\n        z: int = 0\n\n    result = pretty_repr(Point(1, 2, foo=\"bar\"))\n    print(repr(result))",
    "start_line": 614
  },
  {
    "file": "test_pretty.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "expected = \"Point(x=1, y=2, foo=BAR, z=0)\"\n    assert result == expected",
    "start_line": 622
  },
  {
    "file": "test_pretty.py",
    "type": "function",
    "class": null,
    "method": "test_attrs_empty",
    "name": "test_attrs_empty",
    "content": "def test_attrs_empty() -> None:\n    @attr.define",
    "start_line": 626
  },
  {
    "file": "test_pretty.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "Nada",
    "content": "class Nada:\n        pass\n\n    result = pretty_repr(Nada())\n    print(repr(result))",
    "start_line": 628
  },
  {
    "file": "test_pretty.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "expected = \"Nada()\"\n    assert result == expected\n@skip_py310\n@skip_py311\n@skip_py312\n@skip_py313",
    "start_line": 633
  },
  {
    "file": "test_pretty.py",
    "type": "function",
    "class": null,
    "method": "test_attrs_broken",
    "name": "test_attrs_broken",
    "content": "def test_attrs_broken() -> None:\n    @attr.define",
    "start_line": 641
  },
  {
    "file": "test_pretty.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "Foo",
    "content": "class Foo:\n        bar: int\n\n    foo = Foo(1)\n    del foo.bar",
    "start_line": 643
  },
  {
    "file": "test_pretty.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "result = pretty_repr(foo)\n    print(repr(result))\n    expected = \"Foo(bar=AttributeError('bar'))\"\n    assert result == expected\n@skip_py38\n@skip_py39",
    "start_line": 648
  },
  {
    "file": "test_pretty.py",
    "type": "function",
    "class": null,
    "method": "test_attrs_broken_310",
    "name": "test_attrs_broken_310",
    "content": "def test_attrs_broken_310() -> None:\n    @attr.define",
    "start_line": 656
  },
  {
    "file": "test_pretty.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "Foo",
    "content": "class Foo:\n        bar: int\n\n    foo = Foo(1)\n    del foo.bar",
    "start_line": 658
  },
  {
    "file": "test_pretty.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "result = pretty_repr(foo)\n    print(repr(result))\n    if sys.version_info >= (3, 13):\n        expected = \"Foo(\\n    bar=AttributeError(\\\"'tests.test_pretty.test_attrs_broken_310.<locals>.Foo' object has no attribute 'bar'\\\")\\n)\"\n    else:\n        expected = \"Foo(bar=AttributeError(\\\"'Foo' object has no attribute 'bar'\\\"))\"\n    assert result == expected",
    "start_line": 663
  },
  {
    "file": "test_pretty.py",
    "type": "function",
    "class": null,
    "method": "test_user_dict",
    "name": "test_user_dict",
    "content": "def test_user_dict() -> None:",
    "start_line": 672
  },
  {
    "file": "test_pretty.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "D1",
    "content": "class D1(UserDict):\n        pass",
    "start_line": 673
  },
  {
    "file": "test_pretty.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "D2",
    "content": "class D2(UserDict):",
    "start_line": 676
  },
  {
    "file": "test_pretty.py",
    "type": "method",
    "class": "D2",
    "method": "__repr__",
    "name": "__repr__",
    "content": "class D2:\n        def __repr__(self):\n            return \"FOO\"\n\n    d1 = D1({\"foo\": \"bar\"})\n    d2 = D2({\"foo\": \"bar\"})\n    result = pretty_repr(d1, expand_all=True)\n    print(repr(result))\n    assert result == \"{\\n    'foo': 'bar'\\n}\"\n    result = pretty_repr(d2, expand_all=True)\n    print(repr(result))\n    assert result == \"FOO\"",
    "start_line": 677
  },
  {
    "file": "test_pretty.py",
    "type": "function",
    "class": null,
    "method": "test_lying_attribute",
    "name": "test_lying_attribute",
    "content": "def test_lying_attribute() -> None:\n    \"\"\"Test getattr doesn't break rich repr protocol\"\"\"",
    "start_line": 690
  },
  {
    "file": "test_pretty.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "Foo",
    "content": "class Foo:",
    "start_line": 693
  },
  {
    "file": "test_pretty.py",
    "type": "method",
    "class": "Foo",
    "method": "__getattr__",
    "name": "__getattr__",
    "content": "class Foo:\n        def __getattr__(self, attr):\n            return \"foo\"\n\n    foo = Foo()\n    result = pretty_repr(foo)\n    assert \"Foo\" in result",
    "start_line": 694
  },
  {
    "file": "test_pretty.py",
    "type": "function",
    "class": null,
    "method": "test_measure_pretty",
    "name": "test_measure_pretty",
    "content": "def test_measure_pretty() -> None:\n    \"\"\"Test measure respects expand_all\"\"\"",
    "start_line": 702
  },
  {
    "file": "test_pretty.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# https://github.com/Textualize/rich/issues/1998",
    "start_line": 704
  },
  {
    "file": "test_pretty.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console()\n    pretty = Pretty([\"alpha\", \"beta\", \"delta\", \"gamma\"], expand_all=True)\n    measurement = console.measure(pretty)\n    assert measurement == Measurement(12, 12)",
    "start_line": 705
  },
  {
    "file": "test_pretty.py",
    "type": "function",
    "class": null,
    "method": "test_tuple_rich_repr",
    "name": "test_tuple_rich_repr",
    "content": "def test_tuple_rich_repr() -> None:\n    \"\"\"\n    Test that can use None as key to have tuple positional values.\n    \"\"\"",
    "start_line": 712
  },
  {
    "file": "test_pretty.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "Foo",
    "content": "class Foo:",
    "start_line": 717
  },
  {
    "file": "test_pretty.py",
    "type": "method",
    "class": "Foo",
    "method": "__rich_repr__",
    "name": "__rich_repr__",
    "content": "class Foo:\n        def __rich_repr__(self):\n            yield None, (1,)\n\n    assert pretty_repr(Foo()) == \"Foo((1,))\"",
    "start_line": 718
  },
  {
    "file": "test_pretty.py",
    "type": "function",
    "class": null,
    "method": "test_tuple_rich_repr_default",
    "name": "test_tuple_rich_repr_default",
    "content": "def test_tuple_rich_repr_default() -> None:\n    \"\"\"\n    Test that can use None as key to have tuple positional values and with a default.\n    \"\"\"",
    "start_line": 724
  },
  {
    "file": "test_pretty.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "Foo",
    "content": "class Foo:",
    "start_line": 729
  },
  {
    "file": "test_pretty.py",
    "type": "method",
    "class": "Foo",
    "method": "__rich_repr__",
    "name": "__rich_repr__",
    "content": "class Foo:\n        def __rich_repr__(self):\n            yield None, (1,), (1,)\n\n    assert pretty_repr(Foo()) == \"Foo()\"",
    "start_line": 730
  },
  {
    "file": "test_pretty.py",
    "type": "function",
    "class": null,
    "method": "test_dataclass_no_attribute",
    "name": "test_dataclass_no_attribute",
    "content": "def test_dataclass_no_attribute() -> None:\n    \"\"\"Regression test for https://github.com/Textualize/rich/issues/3417\"\"\"",
    "start_line": 736
  },
  {
    "file": "test_pretty.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from dataclasses import dataclass, field\n    @dataclass(eq=False)",
    "start_line": 738
  },
  {
    "file": "test_pretty.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "BadDataclass",
    "content": "class BadDataclass:\n        item: int = field(init=False)",
    "start_line": 741
  },
  {
    "file": "test_pretty.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# item is not provided\n    bad_data_class = BadDataclass()",
    "start_line": 744
  },
  {
    "file": "test_pretty.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console()\n    with console.capture() as capture:\n        console.print(bad_data_class)\n    expected = \"BadDataclass()\\n\"\n    result = capture.get()\n    assert result == expected",
    "start_line": 747
  },
  {
    "file": "test_pretty.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "import collections\nimport io\nimport sys\nfrom array import array\nfrom collections import UserDict, defaultdict, deque\nfrom dataclasses import dataclass, field\nfrom typing import Any, List, NamedTuple\n\nimport attr\nimport pytest\n\nfrom rich.console import Console\nfrom rich.measure import Measurement\nfrom rich.pretty import Node, Pretty, _ipy_display_hook, install, pprint, pretty_repr\nfrom rich.text import Text\n\nskip_py38 = pytest.mark.skipif(\n    sys.version_info.minor == 8 and sys.version_info.major == 3,\n    reason=\"rendered differently on py3.8\",\n)\nskip_py39 = pytest.mark.skipif(\n    sys.version_info.minor == 9 and sys.version_info.major == 3,\n    reason=\"rendered differently on py3.9\",\n)\nskip_py310 = pytest.mark.skipif(\n    sys.version_info.minor == 10 and sys.version_info.major == 3,\n    reason=\"rendered differently on py3.10\",\n)\nskip_py311 = pytest.mark.skipif(\n    sys.version_info.minor == 11 and sys.version_info.major == 3,\n    reason=\"rendered differently on py3.11\",\n)\nskip_py312 = pytest.mark.skipif(\n    sys.version_info.minor == 12 and sys.version_info.major == 3,\n    reason=\"rendered differently on py3.12\",\n)\nskip_py313 = pytest.mark.skipif(\n    sys.version_info.minor == 13 and sys.version_info.major == 3,\n    reason=\"rendered differently on py3.13\",\n)\n\n\ndef test_install() -> None:\n    console = Console(file=io.StringIO())\n    dh = sys.displayhook\n    install(console)\n    sys.displayhook(\"foo\")\n    assert console.file.getvalue() == \"'foo'\\n\"\n    assert sys.displayhook is not dh\n\n\ndef test_install_max_depth() -> None:\n    console = Console(file=io.StringIO())\n    dh = sys.displayhook\n    install(console, max_depth=1)\n    sys.displayhook({\"foo\": {\"bar\": True}})\n    assert console.file.getvalue() == \"{'foo': {...}}\\n\"\n    assert sys.displayhook is not dh\n\n\ndef test_ipy_display_hook__repr_html() -> None:\n    console = Console(file=io.StringIO(), force_jupyter=True)\n\n    class Thing:\n        def _repr_html_(self):\n            return \"hello\"\n\n    console.begin_capture()\n    _ipy_display_hook(Thing(), console=console)\n\n    # Rendering delegated to notebook because _repr_html_ method exists\n    assert console.end_capture() == \"\"\n\n\ndef test_ipy_display_hook__multiple_special_reprs() -> None:\n    \"\"\"\n    The case where there are multiple IPython special _repr_*_\n    methods on the object, and one of them returns None but another\n    one does not.\n    \"\"\"\n    console = Console(file=io.StringIO(), force_jupyter=True)\n\n    class Thing:\n        def __repr__(self):\n            return \"A Thing\"\n\n        def _repr_latex_(self):\n            return None\n\n        def _repr_html_(self):\n            return \"hello\"\n\n    result = _ipy_display_hook(Thing(), console=console)\n    assert result == \"A Thing\"\n\n\ndef test_ipy_display_hook__no_special_repr_methods() -> None:\n    console = Console(file=io.StringIO(), force_jupyter=True)\n\n    class Thing:\n        def __repr__(self) -> str:\n            return \"hello\"\n\n    result = _ipy_display_hook(Thing(), console=console)\n    # should be repr as-is\n    assert result == \"hello\"\n\n\ndef test_ipy_display_hook__special_repr_raises_exception() -> None:\n    \"\"\"\n    When an IPython special repr method raises an exception,\n    we treat it as if it doesn't exist and look for the next.\n    \"\"\"\n    console = Console(file=io.StringIO(), force_jupyter=True)\n\n    class Thing:\n        def _repr_markdown_(self):\n            raise Exception()\n\n        def _repr_latex_(self):\n            return None\n\n        def _repr_html_(self):\n            return \"hello\"\n\n        def __repr__(self):\n            return \"therepr\"\n\n    result = _ipy_display_hook(Thing(), console=console)\n    assert result == \"therepr\"\n\n\ndef test_ipy_display_hook__console_renderables_on_newline() -> None:\n    console = Console(file=io.StringIO(), force_jupyter=True)\n    console.begin_capture()\n    result = _ipy_display_hook(Text(\"hello\"), console=console)\n    assert result == \"\\nhello\"\n\n\ndef test_pretty() -> None:\n    test = {\n        \"foo\": [1, 2, 3, (4, 5, {6}, 7, 8, {9}), {}],\n        \"bar\": {\"egg\": \"baz\", \"words\": [\"Hello World\"] * 10},\n        False: \"foo\",\n        True: \"\",\n        \"text\": (\"Hello World\", \"foo bar baz egg\"),\n    }\n\n    result = pretty_repr(test, max_width=80)\n    print(result)\n    expected = \"{\\n    'foo': [1, 2, 3, (4, 5, {6}, 7, 8, {9}), {}],\\n    'bar': {\\n        'egg': 'baz',\\n        'words': [\\n            'Hello World',\\n            'Hello World',\\n            'Hello World',\\n            'Hello World',\\n            'Hello World',\\n            'Hello World',\\n            'Hello World',\\n            'Hello World',\\n            'Hello World',\\n            'Hello World'\\n        ]\\n    },\\n    False: 'foo',\\n    True: '',\\n    'text': ('Hello World', 'foo bar baz egg')\\n}\"\n    print(expected)\n    assert result == expected\n\n\n@dataclass\nclass ExampleDataclass:\n    foo: int\n    bar: str\n    ignore: int = field(repr=False)\n    baz: List[str] = field(default_factory=list)\n    last: int = field(default=1, repr=False)\n\n\n@dataclass\nclass Empty:\n    pass\n\n\ndef test_pretty_dataclass() -> None:\n    dc = ExampleDataclass(1000, \"Hello, World\", 999, [\"foo\", \"bar\", \"baz\"])\n    result = pretty_repr(dc, max_width=80)\n    print(repr(result))\n    assert (\n        result\n        == \"ExampleDataclass(foo=1000, bar='Hello, World', baz=['foo', 'bar', 'baz'])\"\n    )\n    result = pretty_repr(dc, max_width=16)\n    print(repr(result))\n    assert (\n        result\n        == \"ExampleDataclass(\\n    foo=1000,\\n    bar='Hello, World',\\n    baz=[\\n        'foo',\\n        'bar',\\n        'baz'\\n    ]\\n)\"\n    )\n    dc.bar = dc\n    result = pretty_repr(dc, max_width=80)\n    print(repr(result))\n    assert result == \"ExampleDataclass(foo=1000, bar=..., baz=['foo', 'bar', 'baz'])\"\n\n\ndef test_empty_dataclass() -> None:\n    assert pretty_repr(Empty()) == \"Empty()\"\n    assert pretty_repr([Empty()]) == \"[Empty()]\"\n\n\nclass StockKeepingUnit(NamedTuple):\n    name: str\n    description: str\n    price: float\n    category: str\n    reviews: List[str]\n\n\ndef test_pretty_namedtuple() -> None:\n    console = Console(color_system=None)\n    console.begin_capture()\n\n    example_namedtuple = StockKeepingUnit(\n        \"Sparkling British Spring Water\",\n        \"Carbonated spring water\",\n        0.9,\n        \"water\",\n        [\"its amazing!\", \"its terrible!\"],\n    )\n\n    result = pretty_repr(example_namedtuple)\n\n    print(result)\n    assert (\n        result\n        == \"\"\"StockKeepingUnit(\n    name='Sparkling British Spring Water',\n    description='Carbonated spring water',\n    price=0.9,\n    category='water',\n    reviews=['its amazing!', 'its terrible!']\n)\"\"\"\n    )\n\n\ndef test_pretty_namedtuple_length_one_no_trailing_comma() -> None:\n    instance = collections.namedtuple(\"Thing\", [\"name\"])(name=\"Bob\")\n    assert pretty_repr(instance) == \"Thing(name='Bob')\"\n\n\ndef test_pretty_namedtuple_empty() -> None:\n    instance = collections.namedtuple(\"Thing\", [])()\n    assert pretty_repr(instance) == \"Thing()\"\n\n\ndef test_pretty_namedtuple_custom_repr() -> None:\n    class Thing(NamedTuple):\n        def __repr__(self):\n            return \"XX\"\n\n    assert pretty_repr(Thing()) == \"XX\"\n\n\ndef test_pretty_namedtuple_fields_invalid_type() -> None:\n    class LooksLikeANamedTupleButIsnt(tuple):\n        _fields = \"blah\"\n\n    instance = LooksLikeANamedTupleButIsnt()\n    result = pretty_repr(instance)\n    assert result == \"()\"  # Treated as tuple\n\n\ndef test_pretty_namedtuple_max_depth() -> None:\n    instance = {\"unit\": StockKeepingUnit(\"a\", \"b\", 1.0, \"c\", [\"d\", \"e\"])}\n    result = pretty_repr(instance, max_depth=1)\n    assert result == \"{'unit': StockKeepingUnit(...)}\"\n\n\ndef test_small_width() -> None:\n    test = [\"Hello world! 12345\"]\n    result = pretty_repr(test, max_width=10)\n    expected = \"[\\n    'Hello world! 12345'\\n]\"\n    assert result == expected\n\n\ndef test_ansi_in_pretty_repr() -> None:\n    class Hello:\n        def __repr__(self):\n            return \"Hello \\x1b[38;5;239mWorld!\"\n\n    pretty = Pretty(Hello())\n\n    console = Console(file=io.StringIO(), record=True)\n    console.print(pretty)\n    result = console.export_text()\n\n    assert result == \"Hello World!\\n\"\n\n\ndef test_broken_repr() -> None:\n    class BrokenRepr:\n        def __repr__(self):\n            1 / 0\n\n    test = [BrokenRepr()]\n    result = pretty_repr(test)\n    expected = \"[<repr-error 'division by zero'>]\"\n    assert result == expected\n\n\ndef test_broken_getattr() -> None:\n    class BrokenAttr:\n        def __getattr__(self, name):\n            1 / 0\n\n        def __repr__(self):\n            return \"BrokenAttr()\"\n\n    test = BrokenAttr()\n    result = pretty_repr(test)\n    assert result == \"BrokenAttr()\"\n\n\ndef test_reference_cycle_container() -> None:\n    test = []\n    test.append(test)\n    res = pretty_repr(test)\n    assert res == \"[...]\"\n\n    test = [1, []]\n    test[1].append(test)\n    res = pretty_repr(test)\n    assert res == \"[1, [...]]\"\n\n    # Not a cyclic reference, just a repeated reference\n    a = [2]\n    test = [1, [a, a]]\n    res = pretty_repr(test)\n    assert res == \"[1, [[2], [2]]]\"\n\n\ndef test_reference_cycle_namedtuple() -> None:\n    class Example(NamedTuple):\n        x: int\n        y: Any\n\n    test = Example(1, [Example(2, [])])\n    test.y[0].y.append(test)\n    res = pretty_repr(test)\n    assert res == \"Example(x=1, y=[Example(x=2, y=[...])])\"\n\n    # Not a cyclic reference, just a repeated reference\n    a = Example(2, None)\n    test = Example(1, [a, a])\n    res = pretty_repr(test)\n    assert res == \"Example(x=1, y=[Example(x=2, y=None), Example(x=2, y=None)])\"\n\n\ndef test_reference_cycle_dataclass() -> None:\n    @dataclass\n    class Example:\n        x: int\n        y: Any\n\n    test = Example(1, None)\n    test.y = test\n    res = pretty_repr(test)\n    assert res == \"Example(x=1, y=...)\"\n\n    test = Example(1, Example(2, None))\n    test.y.y = test\n    res = pretty_repr(test)\n    assert res == \"Example(x=1, y=Example(x=2, y=...))\"\n\n    # Not a cyclic reference, just a repeated reference\n    a = Example(2, None)\n    test = Example(1, [a, a])\n    res = pretty_repr(test)\n    assert res == \"Example(x=1, y=[Example(x=2, y=None), Example(x=2, y=None)])\"\n\n\ndef test_reference_cycle_attrs() -> None:\n    @attr.define\n    class Example:\n        x: int\n        y: Any\n\n    test = Example(1, None)\n    test.y = test\n    res = pretty_repr(test)\n    assert res == \"Example(x=1, y=...)\"\n\n    test = Example(1, Example(2, None))\n    test.y.y = test\n    res = pretty_repr(test)\n    assert res == \"Example(x=1, y=Example(x=2, y=...))\"\n\n    # Not a cyclic reference, just a repeated reference\n    a = Example(2, None)\n    test = Example(1, [a, a])\n    res = pretty_repr(test)\n    assert res == \"Example(x=1, y=[Example(x=2, y=None), Example(x=2, y=None)])\"\n\n\ndef test_reference_cycle_custom_repr() -> None:\n    class Example:\n        def __init__(self, x, y):\n            self.x = x\n            self.y = y\n\n        def __rich_repr__(self):\n            yield (\"x\", self.x)\n            yield (\"y\", self.y)\n\n    test = Example(1, None)\n    test.y = test\n    res = pretty_repr(test)\n    assert res == \"Example(x=1, y=...)\"\n\n    test = Example(1, Example(2, None))\n    test.y.y = test\n    res = pretty_repr(test)\n    assert res == \"Example(x=1, y=Example(x=2, y=...))\"\n\n    # Not a cyclic reference, just a repeated reference\n    a = Example(2, None)\n    test = Example(1, [a, a])\n    res = pretty_repr(test)\n    assert res == \"Example(x=1, y=[Example(x=2, y=None), Example(x=2, y=None)])\"\n\n\ndef test_max_depth() -> None:\n    d = {}\n    d[\"foo\"] = {\"fob\": {\"a\": [1, 2, 3], \"b\": {\"z\": \"x\", \"y\": [\"a\", \"b\", \"c\"]}}}\n\n    assert pretty_repr(d, max_depth=0) == \"{...}\"\n    assert pretty_repr(d, max_depth=1) == \"{'foo': {...}}\"\n    assert pretty_repr(d, max_depth=2) == \"{'foo': {'fob': {...}}}\"\n    assert pretty_repr(d, max_depth=3) == \"{'foo': {'fob': {'a': [...], 'b': {...}}}}\"\n    assert (\n        pretty_repr(d, max_width=100, max_depth=4)\n        == \"{'foo': {'fob': {'a': [1, 2, 3], 'b': {'z': 'x', 'y': [...]}}}}\"\n    )\n    assert (\n        pretty_repr(d, max_width=100, max_depth=5)\n        == \"{'foo': {'fob': {'a': [1, 2, 3], 'b': {'z': 'x', 'y': ['a', 'b', 'c']}}}}\"\n    )\n    assert (\n        pretty_repr(d, max_width=100, max_depth=None)\n        == \"{'foo': {'fob': {'a': [1, 2, 3], 'b': {'z': 'x', 'y': ['a', 'b', 'c']}}}}\"\n    )\n\n\ndef test_max_depth_rich_repr() -> None:\n    class Foo:\n        def __init__(self, foo):\n            self.foo = foo\n\n        def __rich_repr__(self):\n            yield \"foo\", self.foo\n\n    class Bar:\n        def __init__(self, bar):\n            self.bar = bar\n\n        def __rich_repr__(self):\n            yield \"bar\", self.bar\n\n    assert (\n        pretty_repr(Foo(foo=Bar(bar=Foo(foo=[]))), max_depth=2)\n        == \"Foo(foo=Bar(bar=Foo(...)))\"\n    )\n\n\ndef test_max_depth_attrs() -> None:\n    @attr.define\n    class Foo:\n        foo = attr.field()\n\n    @attr.define\n    class Bar:\n        bar = attr.field()\n\n    assert (\n        pretty_repr(Foo(foo=Bar(bar=Foo(foo=[]))), max_depth=2)\n        == \"Foo(foo=Bar(bar=Foo(...)))\"\n    )\n\n\ndef test_max_depth_dataclass() -> None:\n    @dataclass\n    class Foo:\n        foo: object\n\n    @dataclass\n    class Bar:\n        bar: object\n\n    assert (\n        pretty_repr(Foo(foo=Bar(bar=Foo(foo=[]))), max_depth=2)\n        == \"Foo(foo=Bar(bar=Foo(...)))\"\n    )\n\n\ndef test_defaultdict() -> None:\n    test_dict = defaultdict(int, {\"foo\": 2})\n    result = pretty_repr(test_dict)\n    assert result == \"defaultdict(<class 'int'>, {'foo': 2})\"\n\n\ndef test_deque() -> None:\n    test_deque = deque([1, 2, 3])\n    result = pretty_repr(test_deque)\n    assert result == \"deque([1, 2, 3])\"\n    test_deque = deque([1, 2, 3], maxlen=None)\n    result = pretty_repr(test_deque)\n    assert result == \"deque([1, 2, 3])\"\n    test_deque = deque([1, 2, 3], maxlen=5)\n    result = pretty_repr(test_deque)\n    assert result == \"deque([1, 2, 3], maxlen=5)\"\n    test_deque = deque([1, 2, 3], maxlen=0)\n    result = pretty_repr(test_deque)\n    assert result == \"deque(maxlen=0)\"\n    test_deque = deque([])\n    result = pretty_repr(test_deque)\n    assert result == \"deque()\"\n    test_deque = deque([], maxlen=None)\n    result = pretty_repr(test_deque)\n    assert result == \"deque()\"\n    test_deque = deque([], maxlen=5)\n    result = pretty_repr(test_deque)\n    assert result == \"deque(maxlen=5)\"\n    test_deque = deque([], maxlen=0)\n    result = pretty_repr(test_deque)\n    assert result == \"deque(maxlen=0)\"\n\n\ndef test_array() -> None:\n    test_array = array(\"I\", [1, 2, 3])\n    result = pretty_repr(test_array)\n    assert result == \"array('I', [1, 2, 3])\"\n\n\ndef test_tuple_of_one() -> None:\n    assert pretty_repr((1,)) == \"(1,)\"\n\n\ndef test_node() -> None:\n    node = Node(\"abc\")\n    assert pretty_repr(node) == \"abc: \"\n\n\ndef test_indent_lines() -> None:\n    console = Console(width=100, color_system=None)\n    console.begin_capture()\n    console.print(Pretty([100, 200], indent_guides=True), width=8)\n    expected = \"\"\"\\\n[\n   100,\n   200\n]\n\"\"\"\n    result = console.end_capture()\n    print(repr(result))\n    print(result)\n    assert result == expected\n\n\ndef test_pprint() -> None:\n    console = Console(color_system=None)\n    console.begin_capture()\n    pprint(1, console=console)\n    assert console.end_capture() == \"1\\n\"\n\n\ndef test_pprint_max_values() -> None:\n    console = Console(color_system=None)\n    console.begin_capture()\n    pprint([1, 2, 3, 4, 5, 6, 7, 8, 9, 0], console=console, max_length=2)\n    assert console.end_capture() == \"[1, 2, ... +8]\\n\"\n\n\ndef test_pprint_max_items() -> None:\n    console = Console(color_system=None)\n    console.begin_capture()\n    pprint({\"foo\": 1, \"bar\": 2, \"egg\": 3}, console=console, max_length=2)\n    assert console.end_capture() == \"\"\"{'foo': 1, 'bar': 2, ... +1}\\n\"\"\"\n\n\ndef test_pprint_max_string() -> None:\n    console = Console(color_system=None)\n    console.begin_capture()\n    pprint([\"Hello\" * 20], console=console, max_string=8)\n    assert console.end_capture() == \"\"\"['HelloHel'+92]\\n\"\"\"\n\n\ndef test_tuples() -> None:\n    console = Console(color_system=None)\n    console.begin_capture()\n    pprint((1,), console=console)\n    pprint((1,), expand_all=True, console=console)\n    pprint(((1,),), expand_all=True, console=console)\n    result = console.end_capture()\n    print(repr(result))\n    expected = \"(1,)\\n(\\n   1,\\n)\\n(\\n   (\\n      1,\\n   ),\\n)\\n\"\n    print(result)\n    print(\"--\")\n    print(expected)\n    assert result == expected\n\n\ndef test_newline() -> None:\n    console = Console(color_system=None)\n    console.begin_capture()\n    console.print(Pretty((1,), insert_line=True, expand_all=True))\n    result = console.end_capture()\n    expected = \"\\n(\\n    1,\\n)\\n\"\n    assert result == expected\n\n\ndef test_empty_repr() -> None:\n    class Foo:\n        def __repr__(self):\n            return \"\"\n\n    assert pretty_repr(Foo()) == \"\"\n\n\ndef test_attrs() -> None:\n    @attr.define\n    class Point:\n        x: int\n        y: int\n        foo: str = attr.field(repr=str.upper)\n        z: int = 0\n\n    result = pretty_repr(Point(1, 2, foo=\"bar\"))\n    print(repr(result))\n    expected = \"Point(x=1, y=2, foo=BAR, z=0)\"\n    assert result == expected\n\n\ndef test_attrs_empty() -> None:\n    @attr.define\n    class Nada:\n        pass\n\n    result = pretty_repr(Nada())\n    print(repr(result))\n    expected = \"Nada()\"\n    assert result == expected\n\n\n@skip_py310\n@skip_py311\n@skip_py312\n@skip_py313\ndef test_attrs_broken() -> None:\n    @attr.define\n    class Foo:\n        bar: int\n\n    foo = Foo(1)\n    del foo.bar\n    result = pretty_repr(foo)\n    print(repr(result))\n    expected = \"Foo(bar=AttributeError('bar'))\"\n    assert result == expected\n\n\n@skip_py38\n@skip_py39\ndef test_attrs_broken_310() -> None:\n    @attr.define\n    class Foo:\n        bar: int\n\n    foo = Foo(1)\n    del foo.bar\n    result = pretty_repr(foo)\n    print(repr(result))\n    if sys.version_info >= (3, 13):\n        expected = \"Foo(\\n    bar=AttributeError(\\\"'tests.test_pretty.test_attrs_broken_310.<locals>.Foo' object has no attribute 'bar'\\\")\\n)\"\n    else:\n        expected = \"Foo(bar=AttributeError(\\\"'Foo' object has no attribute 'bar'\\\"))\"\n    assert result == expected\n\n\ndef test_user_dict() -> None:\n    class D1(UserDict):\n        pass\n\n    class D2(UserDict):\n        def __repr__(self):\n            return \"FOO\"\n\n    d1 = D1({\"foo\": \"bar\"})\n    d2 = D2({\"foo\": \"bar\"})\n    result = pretty_repr(d1, expand_all=True)\n    print(repr(result))\n    assert result == \"{\\n    'foo': 'bar'\\n}\"\n    result = pretty_repr(d2, expand_all=True)\n    print(repr(result))\n    assert result == \"FOO\"\n\n\ndef test_lying_attribute() -> None:\n    \"\"\"Test getattr doesn't break rich repr protocol\"\"\"\n\n    class Foo:\n        def __getattr__(self, attr):\n            return \"foo\"\n\n    foo = Foo()\n    result = pretty_repr(foo)\n    assert \"Foo\" in result\n\n\ndef test_measure_pretty() -> None:\n    \"\"\"Test measure respects expand_all\"\"\"\n    # https://github.com/Textualize/rich/issues/1998\n    console = Console()\n    pretty = Pretty([\"alpha\", \"beta\", \"delta\", \"gamma\"], expand_all=True)\n\n    measurement = console.measure(pretty)\n    assert measurement == Measurement(12, 12)\n\n\ndef test_tuple_rich_repr() -> None:\n    \"\"\"\n    Test that can use None as key to have tuple positional values.\n    \"\"\"\n\n    class Foo:\n        def __rich_repr__(self):\n            yield None, (1,)\n\n    assert pretty_repr(Foo()) == \"Foo((1,))\"\n\n\ndef test_tuple_rich_repr_default() -> None:\n    \"\"\"\n    Test that can use None as key to have tuple positional values and with a default.\n    \"\"\"\n\n    class Foo:\n        def __rich_repr__(self):\n            yield None, (1,), (1,)\n\n    assert pretty_repr(Foo()) == \"Foo()\"\n\n\ndef test_dataclass_no_attribute() -> None:\n    \"\"\"Regression test for https://github.com/Textualize/rich/issues/3417\"\"\"\n    from dataclasses import dataclass, field\n\n    @dataclass(eq=False)\n    class BadDataclass:\n        item: int = field(init=False)\n\n    # item is not provided\n    bad_data_class = BadDataclass()\n\n    console = Console()\n    with console.capture() as capture:\n        console.print(bad_data_class)\n\n    expected = \"BadDataclass()\\n\"\n    result = capture.get()\n    assert result == expected\n",
    "start_line": 0
  },
  {
    "file": "test_filesize.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from rich import filesize",
    "start_line": 0
  },
  {
    "file": "test_filesize.py",
    "type": "function",
    "class": null,
    "method": "test_traditional",
    "name": "test_traditional",
    "content": "def test_traditional():\n    assert filesize.decimal(0) == \"0 bytes\"\n    assert filesize.decimal(1) == \"1 byte\"\n    assert filesize.decimal(2) == \"2 bytes\"\n    assert filesize.decimal(1000) == \"1.0 kB\"\n    assert filesize.decimal(1.5 * 1000 * 1000) == \"1.5 MB\"\n    assert filesize.decimal(0, precision=2) == \"0 bytes\"\n    assert filesize.decimal(1111, precision=0) == \"1 kB\"\n    assert filesize.decimal(1111, precision=1) == \"1.1 kB\"\n    assert filesize.decimal(1111, precision=2) == \"1.11 kB\"\n    assert filesize.decimal(1111, separator=\"\") == \"1.1kB\"",
    "start_line": 3
  },
  {
    "file": "test_filesize.py",
    "type": "function",
    "class": null,
    "method": "test_pick_unit_and_suffix",
    "name": "test_pick_unit_and_suffix",
    "content": "def test_pick_unit_and_suffix():",
    "start_line": 16
  },
  {
    "file": "test_filesize.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "units = [\"bytes\", \"KB\", \"MB\", \"GB\", \"TB\", \"PB\", \"EB\", \"ZB\", \"YB\"]\n    assert filesize.pick_unit_and_suffix(50, units, 1024) == (1, \"bytes\")\n    assert filesize.pick_unit_and_suffix(2048, units, 1024) == (1024, \"KB\")",
    "start_line": 17
  },
  {
    "file": "test_filesize.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "from rich import filesize\n\n\ndef test_traditional():\n    assert filesize.decimal(0) == \"0 bytes\"\n    assert filesize.decimal(1) == \"1 byte\"\n    assert filesize.decimal(2) == \"2 bytes\"\n    assert filesize.decimal(1000) == \"1.0 kB\"\n    assert filesize.decimal(1.5 * 1000 * 1000) == \"1.5 MB\"\n    assert filesize.decimal(0, precision=2) == \"0 bytes\"\n    assert filesize.decimal(1111, precision=0) == \"1 kB\"\n    assert filesize.decimal(1111, precision=1) == \"1.1 kB\"\n    assert filesize.decimal(1111, precision=2) == \"1.11 kB\"\n    assert filesize.decimal(1111, separator=\"\") == \"1.1kB\"\n\n\ndef test_pick_unit_and_suffix():\n    units = [\"bytes\", \"KB\", \"MB\", \"GB\", \"TB\", \"PB\", \"EB\", \"ZB\", \"YB\"]\n    assert filesize.pick_unit_and_suffix(50, units, 1024) == (1, \"bytes\")\n    assert filesize.pick_unit_and_suffix(2048, units, 1024) == (1024, \"KB\")\n",
    "start_line": 0
  },
  {
    "file": "test_columns_align.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# encoding=utf-8",
    "start_line": 0
  },
  {
    "file": "test_columns_align.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "import io\nfrom rich import box\nfrom rich.columns import Columns\nfrom rich.console import Console\nfrom rich.panel import Panel",
    "start_line": 2
  },
  {
    "file": "test_columns_align.py",
    "type": "function",
    "class": null,
    "method": "render",
    "name": "render",
    "content": "def render():",
    "start_line": 10
  },
  {
    "file": "test_columns_align.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(file=io.StringIO(), width=100, legacy_windows=False)\n    panel = Panel.fit(\"foo\", box=box.SQUARE, padding=0)\n    columns = Columns([panel] * 4)\n    columns.expand = True\n    console.rule(\"no align\")\n    console.print(columns)\n    columns.align = \"left\"\n    console.rule(\"left align\")\n    console.print(columns)\n    columns.align = \"center\"\n    console.rule(\"center align\")\n    console.print(columns)\n    columns.align = \"right\"\n    console.rule(\"right align\")\n    console.print(columns)\n    return console.file.getvalue()",
    "start_line": 11
  },
  {
    "file": "test_columns_align.py",
    "type": "function",
    "class": null,
    "method": "test_align",
    "name": "test_align",
    "content": "def test_align():",
    "start_line": 33
  },
  {
    "file": "test_columns_align.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "result = render()\n    expected = \" no align \\n                                                                                \\nfoo                      foo                     foo                     foo                \\n                                                                                \\n left align \\n                                                                                \\nfoo                      foo                     foo                     foo                \\n                                                                                \\n center align \\n                                                                                \\n          foo                      foo                     foo                   foo        \\n                                                                                \\n right align \\n                                                                                \\n                     foo                     foo                     foo                 foo\\n                                                                                \\n\"\n    assert result == expected\nif __name__ == \"__main__\":\n    rendered = render()\n    print(rendered)\n    print(repr(rendered))",
    "start_line": 34
  },
  {
    "file": "test_columns_align.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "# encoding=utf-8\n\nimport io\n\nfrom rich import box\nfrom rich.columns import Columns\nfrom rich.console import Console\nfrom rich.panel import Panel\n\n\ndef render():\n    console = Console(file=io.StringIO(), width=100, legacy_windows=False)\n    panel = Panel.fit(\"foo\", box=box.SQUARE, padding=0)\n    columns = Columns([panel] * 4)\n    columns.expand = True\n    console.rule(\"no align\")\n    console.print(columns)\n\n    columns.align = \"left\"\n    console.rule(\"left align\")\n    console.print(columns)\n\n    columns.align = \"center\"\n    console.rule(\"center align\")\n    console.print(columns)\n\n    columns.align = \"right\"\n    console.rule(\"right align\")\n    console.print(columns)\n\n    return console.file.getvalue()\n\n\ndef test_align():\n    result = render()\n    expected = \" no align \\n                                                                                \\nfoo                      foo                     foo                     foo                \\n                                                                                \\n left align \\n                                                                                \\nfoo                      foo                     foo                     foo                \\n                                                                                \\n center align \\n                                                                                \\n          foo                      foo                     foo                   foo        \\n                                                                                \\n right align \\n                                                                                \\n                     foo                     foo                     foo                 foo\\n                                                                                \\n\"\n    assert result == expected\n\n\nif __name__ == \"__main__\":\n    rendered = render()\n    print(rendered)\n    print(repr(rendered))\n",
    "start_line": 0
  },
  {
    "file": "conftest.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "import pytest\n@pytest.fixture(autouse=True)",
    "start_line": 0
  },
  {
    "file": "conftest.py",
    "type": "function",
    "class": null,
    "method": "reset_color_envvars",
    "name": "reset_color_envvars",
    "content": "def reset_color_envvars(monkeypatch):\n    \"\"\"Remove color-related envvars to fix test output\"\"\"\n    monkeypatch.delenv(\"FORCE_COLOR\", raising=False)\n    monkeypatch.delenv(\"NO_COLOR\", raising=False)",
    "start_line": 4
  },
  {
    "file": "conftest.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "import pytest\n\n\n@pytest.fixture(autouse=True)\ndef reset_color_envvars(monkeypatch):\n    \"\"\"Remove color-related envvars to fix test output\"\"\"\n    monkeypatch.delenv(\"FORCE_COLOR\", raising=False)\n    monkeypatch.delenv(\"NO_COLOR\", raising=False)\n",
    "start_line": 0
  },
  {
    "file": "test_protocol.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "import io\nfrom rich.abc import RichRenderable\nfrom rich.console import Console\nfrom rich.panel import Panel\nfrom rich.text import Text",
    "start_line": 0
  },
  {
    "file": "test_protocol.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "Foo",
    "content": "class Foo:",
    "start_line": 8
  },
  {
    "file": "test_protocol.py",
    "type": "method",
    "class": "Foo",
    "method": "__rich__",
    "name": "__rich__",
    "content": "class Foo:\n    def __rich__(self) -> Text:\n        return Text(\"Foo\")",
    "start_line": 9
  },
  {
    "file": "test_protocol.py",
    "type": "function",
    "class": null,
    "method": "test_rich_cast",
    "name": "test_rich_cast",
    "content": "def test_rich_cast():",
    "start_line": 13
  },
  {
    "file": "test_protocol.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "foo = Foo()\n    console = Console(file=io.StringIO())\n    console.print(foo)\n    assert console.file.getvalue() == \"Foo\\n\"",
    "start_line": 14
  },
  {
    "file": "test_protocol.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "Fake",
    "content": "class Fake:",
    "start_line": 20
  },
  {
    "file": "test_protocol.py",
    "type": "method",
    "class": "Fake",
    "method": "__getattr__",
    "name": "__getattr__",
    "content": "class Fake:\n    def __getattr__(self, name):\n        return 12",
    "start_line": 21
  },
  {
    "file": "test_protocol.py",
    "type": "method",
    "class": "Fake",
    "method": "__repr__",
    "name": "__repr__",
    "content": "class Fake:\n    def __repr__(self) -> str:\n        return \"Fake()\"",
    "start_line": 24
  },
  {
    "file": "test_protocol.py",
    "type": "function",
    "class": null,
    "method": "test_rich_cast_fake",
    "name": "test_rich_cast_fake",
    "content": "def test_rich_cast_fake():",
    "start_line": 28
  },
  {
    "file": "test_protocol.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "fake = Fake()\n    console = Console(file=io.StringIO())\n    console.print(fake)\n    assert console.file.getvalue() == \"Fake()\\n\"",
    "start_line": 29
  },
  {
    "file": "test_protocol.py",
    "type": "function",
    "class": null,
    "method": "test_rich_cast_container",
    "name": "test_rich_cast_container",
    "content": "def test_rich_cast_container():",
    "start_line": 35
  },
  {
    "file": "test_protocol.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "foo = Foo()\n    console = Console(file=io.StringIO(), legacy_windows=False)\n    console.print(Panel.fit(foo, padding=0))\n    assert console.file.getvalue() == \"\\nFoo\\n\\n\"",
    "start_line": 36
  },
  {
    "file": "test_protocol.py",
    "type": "function",
    "class": null,
    "method": "test_abc",
    "name": "test_abc",
    "content": "def test_abc():",
    "start_line": 42
  },
  {
    "file": "test_protocol.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "foo = Foo()\n    assert isinstance(foo, RichRenderable)\n    assert isinstance(Text(\"hello\"), RichRenderable)\n    assert isinstance(Panel(\"hello\"), RichRenderable)\n    assert not isinstance(foo, str)\n    assert not isinstance(\"foo\", RichRenderable)\n    assert not isinstance([], RichRenderable)",
    "start_line": 43
  },
  {
    "file": "test_protocol.py",
    "type": "function",
    "class": null,
    "method": "test_cast_deep",
    "name": "test_cast_deep",
    "content": "def test_cast_deep():",
    "start_line": 52
  },
  {
    "file": "test_protocol.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "B",
    "content": "class B:",
    "start_line": 53
  },
  {
    "file": "test_protocol.py",
    "type": "method",
    "class": "B",
    "method": "__rich__",
    "name": "__rich__",
    "content": "class B:\n        def __rich__(self) -> Foo:\n            return Foo()",
    "start_line": 54
  },
  {
    "file": "test_protocol.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "A",
    "content": "class A:",
    "start_line": 57
  },
  {
    "file": "test_protocol.py",
    "type": "method",
    "class": "A",
    "method": "__rich__",
    "name": "__rich__",
    "content": "class A:\n        def __rich__(self) -> B:\n            return B()\n\n    console = Console(file=io.StringIO())\n    console.print(A())\n    assert console.file.getvalue() == \"Foo\\n\"",
    "start_line": 58
  },
  {
    "file": "test_protocol.py",
    "type": "function",
    "class": null,
    "method": "test_cast_recursive",
    "name": "test_cast_recursive",
    "content": "def test_cast_recursive():",
    "start_line": 66
  },
  {
    "file": "test_protocol.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "B",
    "content": "class B:",
    "start_line": 67
  },
  {
    "file": "test_protocol.py",
    "type": "method",
    "class": "B",
    "method": "__rich__",
    "name": "__rich__",
    "content": "class B:\n        def __rich__(self) -> \"A\":\n            return A()",
    "start_line": 68
  },
  {
    "file": "test_protocol.py",
    "type": "method",
    "class": "B",
    "method": "__repr__",
    "name": "__repr__",
    "content": "class B:\n        def __repr__(self) -> str:\n            return \"<B>\"",
    "start_line": 71
  },
  {
    "file": "test_protocol.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "A",
    "content": "class A:",
    "start_line": 74
  },
  {
    "file": "test_protocol.py",
    "type": "method",
    "class": "A",
    "method": "__rich__",
    "name": "__rich__",
    "content": "class A:\n        def __rich__(self) -> B:\n            return B()",
    "start_line": 75
  },
  {
    "file": "test_protocol.py",
    "type": "method",
    "class": "A",
    "method": "__repr__",
    "name": "__repr__",
    "content": "class A:\n        def __repr__(self) -> str:\n            return \"<A>\"\n\n    console = Console(file=io.StringIO())\n    console.print(A())\n    assert console.file.getvalue() == \"<B>\\n\"",
    "start_line": 78
  },
  {
    "file": "test_protocol.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "import io\n\nfrom rich.abc import RichRenderable\nfrom rich.console import Console\nfrom rich.panel import Panel\nfrom rich.text import Text\n\n\nclass Foo:\n    def __rich__(self) -> Text:\n        return Text(\"Foo\")\n\n\ndef test_rich_cast():\n    foo = Foo()\n    console = Console(file=io.StringIO())\n    console.print(foo)\n    assert console.file.getvalue() == \"Foo\\n\"\n\n\nclass Fake:\n    def __getattr__(self, name):\n        return 12\n\n    def __repr__(self) -> str:\n        return \"Fake()\"\n\n\ndef test_rich_cast_fake():\n    fake = Fake()\n    console = Console(file=io.StringIO())\n    console.print(fake)\n    assert console.file.getvalue() == \"Fake()\\n\"\n\n\ndef test_rich_cast_container():\n    foo = Foo()\n    console = Console(file=io.StringIO(), legacy_windows=False)\n    console.print(Panel.fit(foo, padding=0))\n    assert console.file.getvalue() == \"\\nFoo\\n\\n\"\n\n\ndef test_abc():\n    foo = Foo()\n    assert isinstance(foo, RichRenderable)\n    assert isinstance(Text(\"hello\"), RichRenderable)\n    assert isinstance(Panel(\"hello\"), RichRenderable)\n    assert not isinstance(foo, str)\n    assert not isinstance(\"foo\", RichRenderable)\n    assert not isinstance([], RichRenderable)\n\n\ndef test_cast_deep():\n    class B:\n        def __rich__(self) -> Foo:\n            return Foo()\n\n    class A:\n        def __rich__(self) -> B:\n            return B()\n\n    console = Console(file=io.StringIO())\n    console.print(A())\n    assert console.file.getvalue() == \"Foo\\n\"\n\n\ndef test_cast_recursive():\n    class B:\n        def __rich__(self) -> \"A\":\n            return A()\n\n        def __repr__(self) -> str:\n            return \"<B>\"\n\n    class A:\n        def __rich__(self) -> B:\n            return B()\n\n        def __repr__(self) -> str:\n            return \"<A>\"\n\n    console = Console(file=io.StringIO())\n    console.print(A())\n    assert console.file.getvalue() == \"<B>\\n\"\n",
    "start_line": 0
  },
  {
    "file": "test_getfileno.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from rich._fileno import get_fileno",
    "start_line": 0
  },
  {
    "file": "test_getfileno.py",
    "type": "function",
    "class": null,
    "method": "test_get_fileno",
    "name": "test_get_fileno",
    "content": "def test_get_fileno():",
    "start_line": 3
  },
  {
    "file": "test_getfileno.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "FileLike",
    "content": "class FileLike:",
    "start_line": 4
  },
  {
    "file": "test_getfileno.py",
    "type": "method",
    "class": "FileLike",
    "method": "fileno",
    "name": "fileno",
    "content": "class FileLike:\n        def fileno(self) -> int:\n            return 123\n\n    assert get_fileno(FileLike()) == 123",
    "start_line": 5
  },
  {
    "file": "test_getfileno.py",
    "type": "function",
    "class": null,
    "method": "test_get_fileno_missing",
    "name": "test_get_fileno_missing",
    "content": "def test_get_fileno_missing():",
    "start_line": 11
  },
  {
    "file": "test_getfileno.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "FileLike",
    "content": "class FileLike:\n        pass\n\n    assert get_fileno(FileLike()) is None",
    "start_line": 12
  },
  {
    "file": "test_getfileno.py",
    "type": "function",
    "class": null,
    "method": "test_get_fileno_broken",
    "name": "test_get_fileno_broken",
    "content": "def test_get_fileno_broken():",
    "start_line": 18
  },
  {
    "file": "test_getfileno.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "FileLike",
    "content": "class FileLike:",
    "start_line": 19
  },
  {
    "file": "test_getfileno.py",
    "type": "method",
    "class": "FileLike",
    "method": "fileno",
    "name": "fileno",
    "content": "class FileLike:\n        def fileno(self) -> int:\n            1 / 0\n            return 123\n\n    assert get_fileno(FileLike()) is None",
    "start_line": 20
  },
  {
    "file": "test_getfileno.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "from rich._fileno import get_fileno\n\n\ndef test_get_fileno():\n    class FileLike:\n        def fileno(self) -> int:\n            return 123\n\n    assert get_fileno(FileLike()) == 123\n\n\ndef test_get_fileno_missing():\n    class FileLike:\n        pass\n\n    assert get_fileno(FileLike()) is None\n\n\ndef test_get_fileno_broken():\n    class FileLike:\n        def fileno(self) -> int:\n            1 / 0\n            return 123\n\n    assert get_fileno(FileLike()) is None\n",
    "start_line": 0
  },
  {
    "file": "test_tree.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "import sys\nimport pytest\nfrom rich.console import Console\nfrom rich.measure import Measurement\nfrom rich.tree import Tree",
    "start_line": 0
  },
  {
    "file": "test_tree.py",
    "type": "function",
    "class": null,
    "method": "test_render_single_node",
    "name": "test_render_single_node",
    "content": "def test_render_single_node():",
    "start_line": 9
  },
  {
    "file": "test_tree.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "tree = Tree(\"foo\")\n    console = Console(color_system=None, width=20)\n    console.begin_capture()\n    console.print(tree)\n    assert console.end_capture() == \"foo\\n\"",
    "start_line": 10
  },
  {
    "file": "test_tree.py",
    "type": "function",
    "class": null,
    "method": "test_render_single_branch",
    "name": "test_render_single_branch",
    "content": "def test_render_single_branch():",
    "start_line": 17
  },
  {
    "file": "test_tree.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "tree = Tree(\"foo\")\n    tree.add(\"bar\")\n    console = Console(color_system=None, width=20)\n    console.begin_capture()\n    console.print(tree)\n    result = console.end_capture()\n    print(repr(result))\n    expected = \"foo\\n bar\\n\"\n    assert result == expected",
    "start_line": 18
  },
  {
    "file": "test_tree.py",
    "type": "function",
    "class": null,
    "method": "test_render_double_branch",
    "name": "test_render_double_branch",
    "content": "def test_render_double_branch():",
    "start_line": 29
  },
  {
    "file": "test_tree.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "tree = Tree(\"foo\")\n    tree.add(\"bar\")\n    tree.add(\"baz\")\n    console = Console(color_system=None, width=20)\n    console.begin_capture()\n    console.print(tree)\n    result = console.end_capture()\n    print(repr(result))\n    expected = \"foo\\n bar\\n baz\\n\"\n    assert result == expected",
    "start_line": 30
  },
  {
    "file": "test_tree.py",
    "type": "function",
    "class": null,
    "method": "test_render_ascii",
    "name": "test_render_ascii",
    "content": "def test_render_ascii():",
    "start_line": 42
  },
  {
    "file": "test_tree.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "tree = Tree(\"foo\")\n    tree.add(\"bar\")\n    tree.add(\"baz\")",
    "start_line": 43
  },
  {
    "file": "test_tree.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "AsciiConsole",
    "content": "class AsciiConsole(Console):\n        @property",
    "start_line": 47
  },
  {
    "file": "test_tree.py",
    "type": "method",
    "class": "AsciiConsole",
    "method": "encoding",
    "name": "encoding",
    "content": "class AsciiConsole:\n        def encoding(self):\n            return \"ascii\"\n\n    console = AsciiConsole(color_system=None, width=20)\n    console.begin_capture()\n    console.print(tree)\n    result = console.end_capture()\n    expected = \"foo\\n+-- bar\\n`-- baz\\n\"\n    assert result == expected\n\n\n@pytest.mark.skipif(sys.platform == \"win32\", reason=\"different on Windows\")",
    "start_line": 49
  },
  {
    "file": "test_tree.py",
    "type": "function",
    "class": null,
    "method": "test_render_tree_non_win32",
    "name": "test_render_tree_non_win32",
    "content": "def test_render_tree_non_win32():",
    "start_line": 61
  },
  {
    "file": "test_tree.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "tree = Tree(\"foo\")\n    tree.add(\"bar\", style=\"italic\")\n    baz_tree = tree.add(\"baz\", guide_style=\"bold red\", style=\"on blue\")\n    baz_tree.add(\"1\")\n    baz_tree.add(\"2\")\n    tree.add(\"egg\")\n    console = Console(\n        width=20, force_terminal=True, color_system=\"standard\", _environ={}\n    )\n    console.begin_capture()\n    console.print(tree)\n    result = console.end_capture()\n    print(repr(result))\n    expected = \"foo\\n \\x1b[3mbar\\x1b[0m\\n\\x1b[44m \\x1b[0m\\x1b[44mbaz\\x1b[0m\\n\\x1b[44m   \\x1b[0m\\x1b[31;44m \\x1b[0m\\x1b[44m1\\x1b[0m\\n\\x1b[44m   \\x1b[0m\\x1b[31;44m \\x1b[0m\\x1b[44m2\\x1b[0m\\n egg\\n\"\n    assert result == expected\n@pytest.mark.skipif(sys.platform != \"win32\", reason=\"Windows specific\")",
    "start_line": 62
  },
  {
    "file": "test_tree.py",
    "type": "function",
    "class": null,
    "method": "test_render_tree_win32",
    "name": "test_render_tree_win32",
    "content": "def test_render_tree_win32():",
    "start_line": 81
  },
  {
    "file": "test_tree.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "tree = Tree(\"foo\")\n    tree.add(\"bar\", style=\"italic\")\n    baz_tree = tree.add(\"baz\", guide_style=\"bold red\", style=\"on blue\")\n    baz_tree.add(\"1\")\n    baz_tree.add(\"2\")\n    tree.add(\"egg\")\n    console = Console(\n        width=20, force_terminal=True, color_system=\"standard\", legacy_windows=True\n    )\n    console.begin_capture()\n    console.print(tree)\n    result = console.end_capture()\n    print(repr(result))\n    expected = \"foo\\n \\x1b[3mbar\\x1b[0m\\n\\x1b[44m \\x1b[0m\\x1b[44mbaz\\x1b[0m\\n\\x1b[44m   \\x1b[0m\\x1b[31;44m \\x1b[0m\\x1b[44m1\\x1b[0m\\n\\x1b[44m   \\x1b[0m\\x1b[31;44m \\x1b[0m\\x1b[44m2\\x1b[0m\\n egg\\n\"\n    assert result == expected\n@pytest.mark.skipif(sys.platform == \"win32\", reason=\"different on Windows\")",
    "start_line": 82
  },
  {
    "file": "test_tree.py",
    "type": "function",
    "class": null,
    "method": "test_render_tree_hide_root_non_win32",
    "name": "test_render_tree_hide_root_non_win32",
    "content": "def test_render_tree_hide_root_non_win32():",
    "start_line": 101
  },
  {
    "file": "test_tree.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "tree = Tree(\"foo\", hide_root=True)\n    tree.add(\"bar\", style=\"italic\")\n    baz_tree = tree.add(\"baz\", guide_style=\"bold red\", style=\"on blue\")\n    baz_tree.add(\"1\")\n    baz_tree.add(\"2\")\n    tree.add(\"egg\")\n    console = Console(\n        width=20, force_terminal=True, color_system=\"standard\", _environ={}\n    )\n    console.begin_capture()\n    console.print(tree)\n    result = console.end_capture()\n    print(repr(result))\n    expected = \"\\x1b[3mbar\\x1b[0m\\n\\x1b[44mbaz\\x1b[0m\\n\\x1b[31;44m \\x1b[0m\\x1b[44m1\\x1b[0m\\n\\x1b[31;44m \\x1b[0m\\x1b[44m2\\x1b[0m\\negg\\n\"\n    assert result == expected\n@pytest.mark.skipif(sys.platform != \"win32\", reason=\"Windows specific\")",
    "start_line": 102
  },
  {
    "file": "test_tree.py",
    "type": "function",
    "class": null,
    "method": "test_render_tree_hide_root_win32",
    "name": "test_render_tree_hide_root_win32",
    "content": "def test_render_tree_hide_root_win32():",
    "start_line": 121
  },
  {
    "file": "test_tree.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "tree = Tree(\"foo\", hide_root=True)\n    tree.add(\"bar\", style=\"italic\")\n    baz_tree = tree.add(\"baz\", guide_style=\"bold red\", style=\"on blue\")\n    baz_tree.add(\"1\")\n    baz_tree.add(\"2\")\n    tree.add(\"egg\")\n    console = Console(width=20, force_terminal=True, color_system=\"standard\")\n    console.begin_capture()\n    console.print(tree)\n    result = console.end_capture()\n    print(repr(result))\n    expected = \"\\x1b[3mbar\\x1b[0m\\n\\x1b[44mbaz\\x1b[0m\\n\\x1b[31;44m \\x1b[0m\\x1b[44m1\\x1b[0m\\n\\x1b[31;44m \\x1b[0m\\x1b[44m2\\x1b[0m\\negg\\n\"\n    assert result == expected",
    "start_line": 122
  },
  {
    "file": "test_tree.py",
    "type": "function",
    "class": null,
    "method": "test_tree_measure",
    "name": "test_tree_measure",
    "content": "def test_tree_measure():",
    "start_line": 138
  },
  {
    "file": "test_tree.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "tree = Tree(\"foo\")\n    tree.add(\"bar\")\n    tree.add(\"mushroom risotto\")\n    console = Console()\n    measurement = Measurement.get(console, console.options, tree)\n    assert measurement == Measurement(12, 20)",
    "start_line": 139
  },
  {
    "file": "test_tree.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "import sys\n\nimport pytest\n\nfrom rich.console import Console\nfrom rich.measure import Measurement\nfrom rich.tree import Tree\n\n\ndef test_render_single_node():\n    tree = Tree(\"foo\")\n    console = Console(color_system=None, width=20)\n    console.begin_capture()\n    console.print(tree)\n    assert console.end_capture() == \"foo\\n\"\n\n\ndef test_render_single_branch():\n    tree = Tree(\"foo\")\n    tree.add(\"bar\")\n    console = Console(color_system=None, width=20)\n    console.begin_capture()\n    console.print(tree)\n    result = console.end_capture()\n    print(repr(result))\n    expected = \"foo\\n bar\\n\"\n    assert result == expected\n\n\ndef test_render_double_branch():\n    tree = Tree(\"foo\")\n    tree.add(\"bar\")\n    tree.add(\"baz\")\n    console = Console(color_system=None, width=20)\n    console.begin_capture()\n    console.print(tree)\n    result = console.end_capture()\n    print(repr(result))\n    expected = \"foo\\n bar\\n baz\\n\"\n    assert result == expected\n\n\ndef test_render_ascii():\n    tree = Tree(\"foo\")\n    tree.add(\"bar\")\n    tree.add(\"baz\")\n\n    class AsciiConsole(Console):\n        @property\n        def encoding(self):\n            return \"ascii\"\n\n    console = AsciiConsole(color_system=None, width=20)\n    console.begin_capture()\n    console.print(tree)\n    result = console.end_capture()\n    expected = \"foo\\n+-- bar\\n`-- baz\\n\"\n    assert result == expected\n\n\n@pytest.mark.skipif(sys.platform == \"win32\", reason=\"different on Windows\")\ndef test_render_tree_non_win32():\n    tree = Tree(\"foo\")\n    tree.add(\"bar\", style=\"italic\")\n    baz_tree = tree.add(\"baz\", guide_style=\"bold red\", style=\"on blue\")\n    baz_tree.add(\"1\")\n    baz_tree.add(\"2\")\n    tree.add(\"egg\")\n\n    console = Console(\n        width=20, force_terminal=True, color_system=\"standard\", _environ={}\n    )\n    console.begin_capture()\n    console.print(tree)\n    result = console.end_capture()\n    print(repr(result))\n    expected = \"foo\\n \\x1b[3mbar\\x1b[0m\\n\\x1b[44m \\x1b[0m\\x1b[44mbaz\\x1b[0m\\n\\x1b[44m   \\x1b[0m\\x1b[31;44m \\x1b[0m\\x1b[44m1\\x1b[0m\\n\\x1b[44m   \\x1b[0m\\x1b[31;44m \\x1b[0m\\x1b[44m2\\x1b[0m\\n egg\\n\"\n    assert result == expected\n\n\n@pytest.mark.skipif(sys.platform != \"win32\", reason=\"Windows specific\")\ndef test_render_tree_win32():\n    tree = Tree(\"foo\")\n    tree.add(\"bar\", style=\"italic\")\n    baz_tree = tree.add(\"baz\", guide_style=\"bold red\", style=\"on blue\")\n    baz_tree.add(\"1\")\n    baz_tree.add(\"2\")\n    tree.add(\"egg\")\n\n    console = Console(\n        width=20, force_terminal=True, color_system=\"standard\", legacy_windows=True\n    )\n    console.begin_capture()\n    console.print(tree)\n    result = console.end_capture()\n    print(repr(result))\n    expected = \"foo\\n \\x1b[3mbar\\x1b[0m\\n\\x1b[44m \\x1b[0m\\x1b[44mbaz\\x1b[0m\\n\\x1b[44m   \\x1b[0m\\x1b[31;44m \\x1b[0m\\x1b[44m1\\x1b[0m\\n\\x1b[44m   \\x1b[0m\\x1b[31;44m \\x1b[0m\\x1b[44m2\\x1b[0m\\n egg\\n\"\n    assert result == expected\n\n\n@pytest.mark.skipif(sys.platform == \"win32\", reason=\"different on Windows\")\ndef test_render_tree_hide_root_non_win32():\n    tree = Tree(\"foo\", hide_root=True)\n    tree.add(\"bar\", style=\"italic\")\n    baz_tree = tree.add(\"baz\", guide_style=\"bold red\", style=\"on blue\")\n    baz_tree.add(\"1\")\n    baz_tree.add(\"2\")\n    tree.add(\"egg\")\n\n    console = Console(\n        width=20, force_terminal=True, color_system=\"standard\", _environ={}\n    )\n    console.begin_capture()\n    console.print(tree)\n    result = console.end_capture()\n    print(repr(result))\n    expected = \"\\x1b[3mbar\\x1b[0m\\n\\x1b[44mbaz\\x1b[0m\\n\\x1b[31;44m \\x1b[0m\\x1b[44m1\\x1b[0m\\n\\x1b[31;44m \\x1b[0m\\x1b[44m2\\x1b[0m\\negg\\n\"\n    assert result == expected\n\n\n@pytest.mark.skipif(sys.platform != \"win32\", reason=\"Windows specific\")\ndef test_render_tree_hide_root_win32():\n    tree = Tree(\"foo\", hide_root=True)\n    tree.add(\"bar\", style=\"italic\")\n    baz_tree = tree.add(\"baz\", guide_style=\"bold red\", style=\"on blue\")\n    baz_tree.add(\"1\")\n    baz_tree.add(\"2\")\n    tree.add(\"egg\")\n\n    console = Console(width=20, force_terminal=True, color_system=\"standard\")\n    console.begin_capture()\n    console.print(tree)\n    result = console.end_capture()\n    print(repr(result))\n    expected = \"\\x1b[3mbar\\x1b[0m\\n\\x1b[44mbaz\\x1b[0m\\n\\x1b[31;44m \\x1b[0m\\x1b[44m1\\x1b[0m\\n\\x1b[31;44m \\x1b[0m\\x1b[44m2\\x1b[0m\\negg\\n\"\n    assert result == expected\n\n\ndef test_tree_measure():\n    tree = Tree(\"foo\")\n    tree.add(\"bar\")\n    tree.add(\"mushroom risotto\")\n    console = Console()\n    measurement = Measurement.get(console, console.options, tree)\n    assert measurement == Measurement(12, 20)\n",
    "start_line": 0
  },
  {
    "file": "test_logging.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "import io\nimport os\nimport logging\nfrom typing import Optional\nimport pytest\nfrom rich.console import Console\nfrom rich.logging import RichHandler",
    "start_line": 0
  },
  {
    "file": "test_logging.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "handler = RichHandler(\n    console=Console(\n        file=io.StringIO(),\n        force_terminal=True,\n        width=80,\n        color_system=\"truecolor\",\n        _environ={},\n    ),\n    enable_link_path=False,\n)\nlogging.basicConfig(\n    level=\"NOTSET\", format=\"%(message)s\", datefmt=\"[DATE]\", handlers=[handler]\n)\nlog = logging.getLogger(\"rich\")\nskip_win = pytest.mark.skipif(\n    os.name == \"nt\",\n    reason=\"rendered differently on windows\",\n)\n@skip_win",
    "start_line": 10
  },
  {
    "file": "test_logging.py",
    "type": "function",
    "class": null,
    "method": "test_exception",
    "name": "test_exception",
    "content": "def test_exception():",
    "start_line": 34
  },
  {
    "file": "test_logging.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(\n        file=io.StringIO(),\n        force_terminal=True,\n        width=140,\n        color_system=None,\n        _environ={},\n    )\n    handler_with_tracebacks = RichHandler(\n        console=console, enable_link_path=False, rich_tracebacks=True\n    )\n    formatter = logging.Formatter(\"FORMATTER %(message)s %(asctime)s\")\n    handler_with_tracebacks.setFormatter(formatter)\n    log.addHandler(handler_with_tracebacks)\n    log.error(\"foo\")\n    try:\n        1 / 0\n    except ZeroDivisionError:\n        log.exception(\"message\")\n    render = handler_with_tracebacks.console.file.getvalue()\n    print(render)\n    assert \"FORMATTER foo\" in render\n    assert \"ZeroDivisionError\" in render\n    assert \"message\" in render\n    assert \"division by zero\" in render",
    "start_line": 35
  },
  {
    "file": "test_logging.py",
    "type": "function",
    "class": null,
    "method": "test_exception_with_extra_lines",
    "name": "test_exception_with_extra_lines",
    "content": "def test_exception_with_extra_lines():",
    "start_line": 63
  },
  {
    "file": "test_logging.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(\n        file=io.StringIO(),\n        force_terminal=True,\n        width=140,\n        color_system=None,\n        _environ={},\n    )\n    handler_extra_lines = RichHandler(\n        console=console,\n        enable_link_path=False,\n        markup=True,\n        rich_tracebacks=True,\n        tracebacks_extra_lines=5,\n    )\n    log.addHandler(handler_extra_lines)\n    try:\n        1 / 0\n    except ZeroDivisionError:\n        log.exception(\"message\")\n    render = handler_extra_lines.console.file.getvalue()\n    print(render)\n    assert \"ZeroDivisionError\" in render\n    assert \"message\" in render\n    assert \"division by zero\" in render",
    "start_line": 64
  },
  {
    "file": "test_logging.py",
    "type": "function",
    "class": null,
    "method": "test_stderr_and_stdout_are_none",
    "name": "test_stderr_and_stdout_are_none",
    "content": "def test_stderr_and_stdout_are_none(monkeypatch):",
    "start_line": 93
  },
  {
    "file": "test_logging.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# This test is specifically to handle cases when using pythonw on\n    # windows and stderr and stdout are set to None.\n    # See https://bugs.python.org/issue13807\n    monkeypatch.setattr(\"sys.stdout\", None)\n    monkeypatch.setattr(\"sys.stderr\", None)",
    "start_line": 94
  },
  {
    "file": "test_logging.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(_environ={})\n    target_handler = RichHandler(console=console)\n    actual_record: Optional[logging.LogRecord] = None",
    "start_line": 101
  },
  {
    "file": "test_logging.py",
    "type": "function",
    "class": null,
    "method": "mock_handle_error",
    "name": "mock_handle_error",
    "content": "def mock_handle_error(record):\n        nonlocal actual_record",
    "start_line": 105
  },
  {
    "file": "test_logging.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "actual_record = record\n    target_handler.handleError = mock_handle_error\n    log.addHandler(target_handler)\n    try:\n        1 / 0\n    except ZeroDivisionError:\n        log.exception(\"message\")\n    finally:\n        log.removeHandler(target_handler)\n    assert actual_record is not None\n    assert \"message\" in actual_record.msg",
    "start_line": 107
  },
  {
    "file": "test_logging.py",
    "type": "function",
    "class": null,
    "method": "test_markup_and_highlight",
    "name": "test_markup_and_highlight",
    "content": "def test_markup_and_highlight():",
    "start_line": 124
  },
  {
    "file": "test_logging.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(\n        file=io.StringIO(),\n        force_terminal=True,\n        width=140,\n        color_system=\"truecolor\",\n        _environ={},\n    )\n    handler = RichHandler(console=console)",
    "start_line": 125
  },
  {
    "file": "test_logging.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# Check defaults are as expected\n    assert handler.highlighter\n    assert not handler.markup",
    "start_line": 134
  },
  {
    "file": "test_logging.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "formatter = logging.Formatter(\"FORMATTER %(message)s %(asctime)s\")\n    handler.setFormatter(formatter)\n    log.addHandler(handler)\n    log_message = \"foo 3.141 127.0.0.1 [red]alert[/red]\"\n    log.error(log_message)\n    render_fancy = handler.console.file.getvalue()\n    assert \"FORMATTER\" in render_fancy\n    assert log_message not in render_fancy\n    assert \"red\" in render_fancy\n    handler.console.file = io.StringIO()\n    log.error(log_message, extra={\"markup\": True})\n    render_markup = handler.console.file.getvalue()\n    assert \"FORMATTER\" in render_markup\n    assert log_message not in render_markup\n    assert \"red\" not in render_markup\n    handler.console.file = io.StringIO()\n    log.error(log_message, extra={\"highlighter\": None})\n    render_plain = handler.console.file.getvalue()\n    assert \"FORMATTER\" in render_plain\n    assert log_message in render_plain\nif __name__ == \"__main__\":\n    render = make_log()\n    print(render)\n    print(repr(render))",
    "start_line": 138
  },
  {
    "file": "test_logging.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "import io\nimport os\nimport logging\nfrom typing import Optional\n\nimport pytest\n\nfrom rich.console import Console\nfrom rich.logging import RichHandler\n\nhandler = RichHandler(\n    console=Console(\n        file=io.StringIO(),\n        force_terminal=True,\n        width=80,\n        color_system=\"truecolor\",\n        _environ={},\n    ),\n    enable_link_path=False,\n)\n\nlogging.basicConfig(\n    level=\"NOTSET\", format=\"%(message)s\", datefmt=\"[DATE]\", handlers=[handler]\n)\nlog = logging.getLogger(\"rich\")\n\n\nskip_win = pytest.mark.skipif(\n    os.name == \"nt\",\n    reason=\"rendered differently on windows\",\n)\n\n\n@skip_win\ndef test_exception():\n    console = Console(\n        file=io.StringIO(),\n        force_terminal=True,\n        width=140,\n        color_system=None,\n        _environ={},\n    )\n    handler_with_tracebacks = RichHandler(\n        console=console, enable_link_path=False, rich_tracebacks=True\n    )\n    formatter = logging.Formatter(\"FORMATTER %(message)s %(asctime)s\")\n    handler_with_tracebacks.setFormatter(formatter)\n    log.addHandler(handler_with_tracebacks)\n    log.error(\"foo\")\n    try:\n        1 / 0\n    except ZeroDivisionError:\n        log.exception(\"message\")\n\n    render = handler_with_tracebacks.console.file.getvalue()\n    print(render)\n\n    assert \"FORMATTER foo\" in render\n    assert \"ZeroDivisionError\" in render\n    assert \"message\" in render\n    assert \"division by zero\" in render\n\n\ndef test_exception_with_extra_lines():\n    console = Console(\n        file=io.StringIO(),\n        force_terminal=True,\n        width=140,\n        color_system=None,\n        _environ={},\n    )\n    handler_extra_lines = RichHandler(\n        console=console,\n        enable_link_path=False,\n        markup=True,\n        rich_tracebacks=True,\n        tracebacks_extra_lines=5,\n    )\n    log.addHandler(handler_extra_lines)\n\n    try:\n        1 / 0\n    except ZeroDivisionError:\n        log.exception(\"message\")\n\n    render = handler_extra_lines.console.file.getvalue()\n    print(render)\n\n    assert \"ZeroDivisionError\" in render\n    assert \"message\" in render\n    assert \"division by zero\" in render\n\n\ndef test_stderr_and_stdout_are_none(monkeypatch):\n    # This test is specifically to handle cases when using pythonw on\n    # windows and stderr and stdout are set to None.\n    # See https://bugs.python.org/issue13807\n\n    monkeypatch.setattr(\"sys.stdout\", None)\n    monkeypatch.setattr(\"sys.stderr\", None)\n\n    console = Console(_environ={})\n    target_handler = RichHandler(console=console)\n    actual_record: Optional[logging.LogRecord] = None\n\n    def mock_handle_error(record):\n        nonlocal actual_record\n        actual_record = record\n\n    target_handler.handleError = mock_handle_error\n    log.addHandler(target_handler)\n\n    try:\n        1 / 0\n    except ZeroDivisionError:\n        log.exception(\"message\")\n\n    finally:\n        log.removeHandler(target_handler)\n\n    assert actual_record is not None\n    assert \"message\" in actual_record.msg\n\n\ndef test_markup_and_highlight():\n    console = Console(\n        file=io.StringIO(),\n        force_terminal=True,\n        width=140,\n        color_system=\"truecolor\",\n        _environ={},\n    )\n    handler = RichHandler(console=console)\n\n    # Check defaults are as expected\n    assert handler.highlighter\n    assert not handler.markup\n\n    formatter = logging.Formatter(\"FORMATTER %(message)s %(asctime)s\")\n    handler.setFormatter(formatter)\n    log.addHandler(handler)\n\n    log_message = \"foo 3.141 127.0.0.1 [red]alert[/red]\"\n\n    log.error(log_message)\n    render_fancy = handler.console.file.getvalue()\n    assert \"FORMATTER\" in render_fancy\n    assert log_message not in render_fancy\n    assert \"red\" in render_fancy\n\n    handler.console.file = io.StringIO()\n    log.error(log_message, extra={\"markup\": True})\n    render_markup = handler.console.file.getvalue()\n    assert \"FORMATTER\" in render_markup\n    assert log_message not in render_markup\n    assert \"red\" not in render_markup\n\n    handler.console.file = io.StringIO()\n    log.error(log_message, extra={\"highlighter\": None})\n    render_plain = handler.console.file.getvalue()\n    assert \"FORMATTER\" in render_plain\n    assert log_message in render_plain\n\n\nif __name__ == \"__main__\":\n    render = make_log()\n    print(render)\n    print(repr(render))\n",
    "start_line": 0
  },
  {
    "file": "test_stack.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from rich._stack import Stack",
    "start_line": 0
  },
  {
    "file": "test_stack.py",
    "type": "function",
    "class": null,
    "method": "test_stack",
    "name": "test_stack",
    "content": "def test_stack():",
    "start_line": 3
  },
  {
    "file": "test_stack.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "stack = Stack()\n    stack.push(\"foo\")\n    stack.push(\"bar\")\n    assert stack.top == \"bar\"\n    assert stack.pop() == \"bar\"\n    assert stack.top == \"foo\"",
    "start_line": 4
  },
  {
    "file": "test_stack.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "from rich._stack import Stack\n\n\ndef test_stack():\n    stack = Stack()\n    stack.push(\"foo\")\n    stack.push(\"bar\")\n    assert stack.top == \"bar\"\n    assert stack.pop() == \"bar\"\n    assert stack.top == \"foo\"\n",
    "start_line": 0
  },
  {
    "file": "test_win32_console.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "import dataclasses\nimport sys\nfrom unittest import mock\nfrom unittest.mock import patch\nimport pytest\nfrom rich.style import Style\nif sys.platform == \"win32\":\n    from rich import _win32_console\n    from rich._win32_console import COORD, LegacyWindowsTerm, WindowsCoordinates",
    "start_line": 0
  },
  {
    "file": "test_win32_console.py",
    "type": "constants",
    "class": null,
    "method": null,
    "name": "module_constants",
    "content": "CURSOR_X = 1\n    CURSOR_Y = 2\n    CURSOR_POSITION = WindowsCoordinates(row=CURSOR_Y, col=CURSOR_X)\n    SCREEN_WIDTH = 20\n    SCREEN_HEIGHT = 30\n    DEFAULT_STYLE_ATTRIBUTE = 16\n    CURSOR_SIZE = 25\n    @dataclasses.dataclass",
    "start_line": 13
  },
  {
    "file": "test_win32_console.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "StubScreenBufferInfo",
    "content": "class StubScreenBufferInfo:\n        dwCursorPosition: COORD = COORD(CURSOR_X, CURSOR_Y)\n        dwSize: COORD = COORD(SCREEN_WIDTH, SCREEN_HEIGHT)\n        wAttributes: int = DEFAULT_STYLE_ATTRIBUTE\n\n    pytestmark = pytest.mark.skipif(sys.platform != \"win32\", reason=\"windows only\")",
    "start_line": 22
  },
  {
    "file": "test_win32_console.py",
    "type": "function",
    "class": null,
    "method": "test_windows_coordinates_to_ctype",
    "name": "test_windows_coordinates_to_ctype",
    "content": "def test_windows_coordinates_to_ctype():",
    "start_line": 29
  },
  {
    "file": "test_win32_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "coord = WindowsCoordinates.from_param(WindowsCoordinates(row=1, col=2))\n        assert coord.X == 2\n        assert coord.Y == 1\n    @pytest.fixture",
    "start_line": 30
  },
  {
    "file": "test_win32_console.py",
    "type": "function",
    "class": null,
    "method": "win32_handle",
    "name": "win32_handle",
    "content": "def win32_handle():",
    "start_line": 35
  },
  {
    "file": "test_win32_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "handle = mock.sentinel\n        with mock.patch.object(_win32_console, \"GetStdHandle\", return_value=handle):\n            yield handle\n    @pytest.fixture",
    "start_line": 36
  },
  {
    "file": "test_win32_console.py",
    "type": "function",
    "class": null,
    "method": "win32_console_getters",
    "name": "win32_console_getters",
    "content": "def win32_console_getters():",
    "start_line": 41
  },
  {
    "file": "test_win32_console.py",
    "type": "function",
    "class": null,
    "method": "stub_console_cursor_info",
    "name": "stub_console_cursor_info",
    "content": "def stub_console_cursor_info(std_handle, cursor_info):\n            cursor_info.dwSize = CURSOR_SIZE\n            cursor_info.bVisible = True\n\n        with mock.patch.object(\n            _win32_console,\n            \"GetConsoleScreenBufferInfo\",",
    "start_line": 42
  },
  {
    "file": "test_win32_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "return_value=StubScreenBufferInfo,\n        ) as GetConsoleScreenBufferInfo, mock.patch.object(\n            _win32_console, \"GetConsoleCursorInfo\", side_effect=stub_console_cursor_info\n        ) as GetConsoleCursorInfo:\n            yield {\n                \"GetConsoleScreenBufferInfo\": GetConsoleScreenBufferInfo,\n                \"GetConsoleCursorInfo\": GetConsoleCursorInfo,\n            }",
    "start_line": 49
  },
  {
    "file": "test_win32_console.py",
    "type": "function",
    "class": null,
    "method": "test_cursor_position",
    "name": "test_cursor_position",
    "content": "def test_cursor_position(win32_console_getters):",
    "start_line": 58
  },
  {
    "file": "test_win32_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "term = LegacyWindowsTerm(sys.stdout)\n        assert term.cursor_position == WindowsCoordinates(row=CURSOR_Y, col=CURSOR_X)",
    "start_line": 59
  },
  {
    "file": "test_win32_console.py",
    "type": "function",
    "class": null,
    "method": "test_screen_size",
    "name": "test_screen_size",
    "content": "def test_screen_size(win32_console_getters):",
    "start_line": 62
  },
  {
    "file": "test_win32_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "term = LegacyWindowsTerm(sys.stdout)\n        assert term.screen_size == WindowsCoordinates(\n            row=SCREEN_HEIGHT, col=SCREEN_WIDTH\n        )",
    "start_line": 63
  },
  {
    "file": "test_win32_console.py",
    "type": "function",
    "class": null,
    "method": "test_write_text",
    "name": "test_write_text",
    "content": "def test_write_text(win32_console_getters, win32_handle, capsys):",
    "start_line": 68
  },
  {
    "file": "test_win32_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "text = \"Hello, world!\"\n        term = LegacyWindowsTerm(sys.stdout)\n        term.write_text(text)\n        captured = capsys.readouterr()\n        assert captured.out == text\n    @patch.object(_win32_console, \"SetConsoleTextAttribute\")",
    "start_line": 69
  },
  {
    "file": "test_win32_console.py",
    "type": "function",
    "class": null,
    "method": "test_write_styled",
    "name": "test_write_styled",
    "content": "def test_write_styled(\n        SetConsoleTextAttribute,\n        win32_console_getters,\n        win32_handle,\n        capsys,\n    ):",
    "start_line": 78
  },
  {
    "file": "test_win32_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "style = Style.parse(\"black on red\")\n        text = \"Hello, world!\"\n        term = LegacyWindowsTerm(sys.stdout)\n        term.write_styled(text, style)\n        captured = capsys.readouterr()\n        assert captured.out == text",
    "start_line": 84
  },
  {
    "file": "test_win32_console.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# Ensure we set the text attributes and then reset them after writing styled text",
    "start_line": 93
  },
  {
    "file": "test_win32_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "call_args = SetConsoleTextAttribute.call_args_list\n        assert len(call_args) == 2\n        first_args, first_kwargs = call_args[0]\n        second_args, second_kwargs = call_args[1]\n        assert first_args == (win32_handle,)\n        assert first_kwargs[\"attributes\"].value == 64\n        assert second_args == (win32_handle,)\n        assert second_kwargs[\"attributes\"] == DEFAULT_STYLE_ATTRIBUTE\n    @patch.object(_win32_console, \"SetConsoleTextAttribute\")",
    "start_line": 94
  },
  {
    "file": "test_win32_console.py",
    "type": "function",
    "class": null,
    "method": "test_write_styled_bold",
    "name": "test_write_styled_bold",
    "content": "def test_write_styled_bold(\n        SetConsoleTextAttribute, win32_console_getters, win32_handle\n    ):",
    "start_line": 105
  },
  {
    "file": "test_win32_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "style = Style.parse(\"bold black on red\")\n        text = \"Hello, world!\"\n        term = LegacyWindowsTerm(sys.stdout)\n        term.write_styled(text, style)\n        call_args = SetConsoleTextAttribute.call_args_list\n        first_args, first_kwargs = call_args[0]\n        expected_attr = 64 + 8  # 64 for red bg, +8 for bright black\n        assert first_args == (win32_handle,)\n        assert first_kwargs[\"attributes\"].value == expected_attr\n    @patch.object(_win32_console, \"SetConsoleTextAttribute\")",
    "start_line": 108
  },
  {
    "file": "test_win32_console.py",
    "type": "function",
    "class": null,
    "method": "test_write_styled_reverse",
    "name": "test_write_styled_reverse",
    "content": "def test_write_styled_reverse(\n        SetConsoleTextAttribute, win32_console_getters, win32_handle\n    ):",
    "start_line": 122
  },
  {
    "file": "test_win32_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "style = Style.parse(\"reverse red on blue\")\n        text = \"Hello, world!\"\n        term = LegacyWindowsTerm(sys.stdout)\n        term.write_styled(text, style)\n        call_args = SetConsoleTextAttribute.call_args_list\n        first_args, first_kwargs = call_args[0]\n        expected_attr = 64 + 1  # 64 for red bg (after reverse), +1 for blue fg\n        assert first_args == (win32_handle,)\n        assert first_kwargs[\"attributes\"].value == expected_attr\n    @patch.object(_win32_console, \"SetConsoleTextAttribute\")",
    "start_line": 125
  },
  {
    "file": "test_win32_console.py",
    "type": "function",
    "class": null,
    "method": "test_write_styled_reverse",
    "name": "test_write_styled_reverse",
    "content": "def test_write_styled_reverse(\n        SetConsoleTextAttribute, win32_console_getters, win32_handle\n    ):",
    "start_line": 139
  },
  {
    "file": "test_win32_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "style = Style.parse(\"dim bright_red on blue\")\n        text = \"Hello, world!\"\n        term = LegacyWindowsTerm(sys.stdout)\n        term.write_styled(text, style)\n        call_args = SetConsoleTextAttribute.call_args_list\n        first_args, first_kwargs = call_args[0]\n        expected_attr = 4 + 16  # 4 for red text (after dim), +16 for blue bg\n        assert first_args == (win32_handle,)\n        assert first_kwargs[\"attributes\"].value == expected_attr\n    @patch.object(_win32_console, \"SetConsoleTextAttribute\")",
    "start_line": 142
  },
  {
    "file": "test_win32_console.py",
    "type": "function",
    "class": null,
    "method": "test_write_styled_no_foreground_color",
    "name": "test_write_styled_no_foreground_color",
    "content": "def test_write_styled_no_foreground_color(\n        SetConsoleTextAttribute, win32_console_getters, win32_handle\n    ):",
    "start_line": 156
  },
  {
    "file": "test_win32_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "style = Style.parse(\"on blue\")\n        text = \"Hello, world!\"\n        term = LegacyWindowsTerm(sys.stdout)\n        term.write_styled(text, style)\n        call_args = SetConsoleTextAttribute.call_args_list\n        first_args, first_kwargs = call_args[0]\n        expected_attr = 16 | term._default_fore  # 16 for blue bg, plus default fg color\n        assert first_args == (win32_handle,)\n        assert first_kwargs[\"attributes\"].value == expected_attr\n    @patch.object(_win32_console, \"SetConsoleTextAttribute\")",
    "start_line": 159
  },
  {
    "file": "test_win32_console.py",
    "type": "function",
    "class": null,
    "method": "test_write_styled_no_background_color",
    "name": "test_write_styled_no_background_color",
    "content": "def test_write_styled_no_background_color(\n        SetConsoleTextAttribute, win32_console_getters, win32_handle\n    ):",
    "start_line": 173
  },
  {
    "file": "test_win32_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "style = Style.parse(\"blue\")\n        text = \"Hello, world!\"\n        term = LegacyWindowsTerm(sys.stdout)\n        term.write_styled(text, style)\n        call_args = SetConsoleTextAttribute.call_args_list\n        first_args, first_kwargs = call_args[0]\n        expected_attr = (\n            16 | term._default_back\n        )  # 16 for blue foreground, plus default bg color\n        assert first_args == (win32_handle,)\n        assert first_kwargs[\"attributes\"].value == expected_attr\n    @patch.object(_win32_console, \"FillConsoleOutputCharacter\", return_value=None)\n    @patch.object(_win32_console, \"FillConsoleOutputAttribute\", return_value=None)",
    "start_line": 176
  },
  {
    "file": "test_win32_console.py",
    "type": "function",
    "class": null,
    "method": "test_erase_line",
    "name": "test_erase_line",
    "content": "def test_erase_line(\n        FillConsoleOutputAttribute,\n        FillConsoleOutputCharacter,\n        win32_console_getters,\n        win32_handle,\n    ):",
    "start_line": 193
  },
  {
    "file": "test_win32_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "term = LegacyWindowsTerm(sys.stdout)\n        term.erase_line()\n        start = WindowsCoordinates(row=CURSOR_Y, col=0)\n        FillConsoleOutputCharacter.assert_called_once_with(\n            win32_handle, \" \", length=SCREEN_WIDTH, start=start\n        )\n        FillConsoleOutputAttribute.assert_called_once_with(\n            win32_handle, DEFAULT_STYLE_ATTRIBUTE, length=SCREEN_WIDTH, start=start\n        )\n    @patch.object(_win32_console, \"FillConsoleOutputCharacter\", return_value=None)\n    @patch.object(_win32_console, \"FillConsoleOutputAttribute\", return_value=None)",
    "start_line": 199
  },
  {
    "file": "test_win32_console.py",
    "type": "function",
    "class": null,
    "method": "test_erase_end_of_line",
    "name": "test_erase_end_of_line",
    "content": "def test_erase_end_of_line(\n        FillConsoleOutputAttribute,\n        FillConsoleOutputCharacter,\n        win32_console_getters,\n        win32_handle,\n    ):",
    "start_line": 211
  },
  {
    "file": "test_win32_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "term = LegacyWindowsTerm(sys.stdout)\n        term.erase_end_of_line()\n        FillConsoleOutputCharacter.assert_called_once_with(\n            win32_handle, \" \", length=SCREEN_WIDTH - CURSOR_X, start=CURSOR_POSITION\n        )\n        FillConsoleOutputAttribute.assert_called_once_with(\n            win32_handle,\n            DEFAULT_STYLE_ATTRIBUTE,\n            length=SCREEN_WIDTH - CURSOR_X,\n            start=CURSOR_POSITION,\n        )\n    @patch.object(_win32_console, \"FillConsoleOutputCharacter\", return_value=None)\n    @patch.object(_win32_console, \"FillConsoleOutputAttribute\", return_value=None)",
    "start_line": 217
  },
  {
    "file": "test_win32_console.py",
    "type": "function",
    "class": null,
    "method": "test_erase_start_of_line",
    "name": "test_erase_start_of_line",
    "content": "def test_erase_start_of_line(\n        FillConsoleOutputAttribute,\n        FillConsoleOutputCharacter,\n        win32_console_getters,\n        win32_handle,\n    ):",
    "start_line": 232
  },
  {
    "file": "test_win32_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "term = LegacyWindowsTerm(sys.stdout)\n        term.erase_start_of_line()\n        start = WindowsCoordinates(CURSOR_Y, 0)\n        FillConsoleOutputCharacter.assert_called_once_with(\n            win32_handle, \" \", length=CURSOR_X, start=start\n        )\n        FillConsoleOutputAttribute.assert_called_once_with(\n            win32_handle, DEFAULT_STYLE_ATTRIBUTE, length=CURSOR_X, start=start\n        )\n    @patch.object(_win32_console, \"SetConsoleCursorPosition\", return_value=None)",
    "start_line": 238
  },
  {
    "file": "test_win32_console.py",
    "type": "function",
    "class": null,
    "method": "test_move_cursor_to",
    "name": "test_move_cursor_to",
    "content": "def test_move_cursor_to(\n        SetConsoleCursorPosition, win32_console_getters, win32_handle\n    ):",
    "start_line": 251
  },
  {
    "file": "test_win32_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "coords = WindowsCoordinates(row=4, col=5)\n        term = LegacyWindowsTerm(sys.stdout)\n        term.move_cursor_to(coords)\n        SetConsoleCursorPosition.assert_called_once_with(win32_handle, coords=coords)\n    @patch.object(_win32_console, \"SetConsoleCursorPosition\", return_value=None)",
    "start_line": 254
  },
  {
    "file": "test_win32_console.py",
    "type": "function",
    "class": null,
    "method": "test_move_cursor_to_out_of_bounds_row",
    "name": "test_move_cursor_to_out_of_bounds_row",
    "content": "def test_move_cursor_to_out_of_bounds_row(\n        SetConsoleCursorPosition, win32_console_getters, win32_handle\n    ):",
    "start_line": 262
  },
  {
    "file": "test_win32_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "coords = WindowsCoordinates(row=-1, col=4)\n        term = LegacyWindowsTerm(sys.stdout)\n        term.move_cursor_to(coords)\n        assert not SetConsoleCursorPosition.called\n    @patch.object(_win32_console, \"SetConsoleCursorPosition\", return_value=None)",
    "start_line": 265
  },
  {
    "file": "test_win32_console.py",
    "type": "function",
    "class": null,
    "method": "test_move_cursor_to_out_of_bounds_col",
    "name": "test_move_cursor_to_out_of_bounds_col",
    "content": "def test_move_cursor_to_out_of_bounds_col(\n        SetConsoleCursorPosition, win32_console_getters, win32_handle\n    ):",
    "start_line": 273
  },
  {
    "file": "test_win32_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "coords = WindowsCoordinates(row=10, col=-4)\n        term = LegacyWindowsTerm(sys.stdout)\n        term.move_cursor_to(coords)\n        assert not SetConsoleCursorPosition.called\n    @patch.object(_win32_console, \"SetConsoleCursorPosition\", return_value=None)",
    "start_line": 276
  },
  {
    "file": "test_win32_console.py",
    "type": "function",
    "class": null,
    "method": "test_move_cursor_up",
    "name": "test_move_cursor_up",
    "content": "def test_move_cursor_up(\n        SetConsoleCursorPosition, win32_console_getters, win32_handle\n    ):",
    "start_line": 284
  },
  {
    "file": "test_win32_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "term = LegacyWindowsTerm(sys.stdout)\n        term.move_cursor_up()\n        SetConsoleCursorPosition.assert_called_once_with(\n            win32_handle, coords=WindowsCoordinates(row=CURSOR_Y - 1, col=CURSOR_X)\n        )\n    @patch.object(_win32_console, \"SetConsoleCursorPosition\", return_value=None)",
    "start_line": 287
  },
  {
    "file": "test_win32_console.py",
    "type": "function",
    "class": null,
    "method": "test_move_cursor_down",
    "name": "test_move_cursor_down",
    "content": "def test_move_cursor_down(\n        SetConsoleCursorPosition, win32_console_getters, win32_handle\n    ):",
    "start_line": 296
  },
  {
    "file": "test_win32_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "term = LegacyWindowsTerm(sys.stdout)\n        term.move_cursor_down()\n        SetConsoleCursorPosition.assert_called_once_with(\n            win32_handle, coords=WindowsCoordinates(row=CURSOR_Y + 1, col=CURSOR_X)\n        )\n    @patch.object(_win32_console, \"SetConsoleCursorPosition\", return_value=None)",
    "start_line": 299
  },
  {
    "file": "test_win32_console.py",
    "type": "function",
    "class": null,
    "method": "test_move_cursor_forward",
    "name": "test_move_cursor_forward",
    "content": "def test_move_cursor_forward(\n        SetConsoleCursorPosition, win32_console_getters, win32_handle\n    ):",
    "start_line": 308
  },
  {
    "file": "test_win32_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "term = LegacyWindowsTerm(sys.stdout)\n        term.move_cursor_forward()\n        SetConsoleCursorPosition.assert_called_once_with(\n            win32_handle, coords=WindowsCoordinates(row=CURSOR_Y, col=CURSOR_X + 1)\n        )\n    @patch.object(_win32_console, \"SetConsoleCursorPosition\", return_value=None)",
    "start_line": 311
  },
  {
    "file": "test_win32_console.py",
    "type": "function",
    "class": null,
    "method": "test_move_cursor_forward_newline_wrap",
    "name": "test_move_cursor_forward_newline_wrap",
    "content": "def test_move_cursor_forward_newline_wrap(\n        SetConsoleCursorPosition, win32_console_getters, win32_handle\n    ):",
    "start_line": 320
  },
  {
    "file": "test_win32_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "cursor_at_end_of_line = StubScreenBufferInfo(\n            dwCursorPosition=COORD(SCREEN_WIDTH - 1, CURSOR_Y)\n        )\n        win32_console_getters[\n            \"GetConsoleScreenBufferInfo\"\n        ].return_value = cursor_at_end_of_line\n        term = LegacyWindowsTerm(sys.stdout)\n        term.move_cursor_forward()\n        SetConsoleCursorPosition.assert_called_once_with(\n            win32_handle, coords=WindowsCoordinates(row=CURSOR_Y + 1, col=0)\n        )\n    @patch.object(_win32_console, \"SetConsoleCursorPosition\", return_value=None)",
    "start_line": 323
  },
  {
    "file": "test_win32_console.py",
    "type": "function",
    "class": null,
    "method": "test_move_cursor_to_column",
    "name": "test_move_cursor_to_column",
    "content": "def test_move_cursor_to_column(\n        SetConsoleCursorPosition, win32_console_getters, win32_handle\n    ):",
    "start_line": 337
  },
  {
    "file": "test_win32_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "term = LegacyWindowsTerm(sys.stdout)\n        term.move_cursor_to_column(5)\n        SetConsoleCursorPosition.assert_called_once_with(\n            win32_handle, coords=WindowsCoordinates(CURSOR_Y, 5)\n        )\n    @patch.object(_win32_console, \"SetConsoleCursorPosition\", return_value=None)",
    "start_line": 340
  },
  {
    "file": "test_win32_console.py",
    "type": "function",
    "class": null,
    "method": "test_move_cursor_backward",
    "name": "test_move_cursor_backward",
    "content": "def test_move_cursor_backward(\n        SetConsoleCursorPosition, win32_console_getters, win32_handle\n    ):",
    "start_line": 347
  },
  {
    "file": "test_win32_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "term = LegacyWindowsTerm(sys.stdout)\n        term.move_cursor_backward()\n        SetConsoleCursorPosition.assert_called_once_with(\n            win32_handle, coords=WindowsCoordinates(row=CURSOR_Y, col=CURSOR_X - 1)\n        )\n    @patch.object(_win32_console, \"SetConsoleCursorPosition\", return_value=None)",
    "start_line": 350
  },
  {
    "file": "test_win32_console.py",
    "type": "function",
    "class": null,
    "method": "test_move_cursor_backward_prev_line_wrap",
    "name": "test_move_cursor_backward_prev_line_wrap",
    "content": "def test_move_cursor_backward_prev_line_wrap(\n        SetConsoleCursorPosition, win32_console_getters, win32_handle\n    ):",
    "start_line": 357
  },
  {
    "file": "test_win32_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "cursor_at_start_of_line = StubScreenBufferInfo(\n            dwCursorPosition=COORD(0, CURSOR_Y)\n        )\n        win32_console_getters[\n            \"GetConsoleScreenBufferInfo\"\n        ].return_value = cursor_at_start_of_line\n        term = LegacyWindowsTerm(sys.stdout)\n        term.move_cursor_backward()\n        SetConsoleCursorPosition.assert_called_once_with(\n            win32_handle,\n            coords=WindowsCoordinates(row=CURSOR_Y - 1, col=SCREEN_WIDTH - 1),\n        )\n    @patch.object(_win32_console, \"SetConsoleCursorInfo\", return_value=None)",
    "start_line": 360
  },
  {
    "file": "test_win32_console.py",
    "type": "function",
    "class": null,
    "method": "test_hide_cursor",
    "name": "test_hide_cursor",
    "content": "def test_hide_cursor(SetConsoleCursorInfo, win32_console_getters, win32_handle):",
    "start_line": 374
  },
  {
    "file": "test_win32_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "term = LegacyWindowsTerm(sys.stdout)\n        term.hide_cursor()\n        call_args = SetConsoleCursorInfo.call_args_list\n        assert len(call_args) == 1\n        args, kwargs = call_args[0]\n        assert kwargs[\"cursor_info\"].bVisible == 0\n        assert kwargs[\"cursor_info\"].dwSize == CURSOR_SIZE\n    @patch.object(_win32_console, \"SetConsoleCursorInfo\", return_value=None)",
    "start_line": 375
  },
  {
    "file": "test_win32_console.py",
    "type": "function",
    "class": null,
    "method": "test_show_cursor",
    "name": "test_show_cursor",
    "content": "def test_show_cursor(SetConsoleCursorInfo, win32_console_getters, win32_handle):",
    "start_line": 387
  },
  {
    "file": "test_win32_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "term = LegacyWindowsTerm(sys.stdout)\n        term.show_cursor()\n        call_args = SetConsoleCursorInfo.call_args_list\n        assert len(call_args) == 1\n        args, kwargs = call_args[0]\n        assert kwargs[\"cursor_info\"].bVisible == 1\n        assert kwargs[\"cursor_info\"].dwSize == CURSOR_SIZE\n    @patch.object(_win32_console, \"SetConsoleTitle\", return_value=None)",
    "start_line": 388
  },
  {
    "file": "test_win32_console.py",
    "type": "function",
    "class": null,
    "method": "test_set_title",
    "name": "test_set_title",
    "content": "def test_set_title(SetConsoleTitle, win32_console_getters):",
    "start_line": 400
  },
  {
    "file": "test_win32_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "term = LegacyWindowsTerm(sys.stdout)\n        term.set_title(\"title\")\n        SetConsoleTitle.assert_called_once_with(\"title\")\n    @patch.object(_win32_console, \"SetConsoleTitle\", return_value=None)",
    "start_line": 401
  },
  {
    "file": "test_win32_console.py",
    "type": "function",
    "class": null,
    "method": "test_set_title_too_long",
    "name": "test_set_title_too_long",
    "content": "def test_set_title_too_long(_, win32_console_getters):",
    "start_line": 407
  },
  {
    "file": "test_win32_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "term = LegacyWindowsTerm(sys.stdout)\n        with pytest.raises(AssertionError):\n            term.set_title(\"a\" * 255)",
    "start_line": 408
  },
  {
    "file": "test_win32_console.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "import dataclasses\nimport sys\nfrom unittest import mock\nfrom unittest.mock import patch\n\nimport pytest\n\nfrom rich.style import Style\n\nif sys.platform == \"win32\":\n    from rich import _win32_console\n    from rich._win32_console import COORD, LegacyWindowsTerm, WindowsCoordinates\n\n    CURSOR_X = 1\n    CURSOR_Y = 2\n    CURSOR_POSITION = WindowsCoordinates(row=CURSOR_Y, col=CURSOR_X)\n    SCREEN_WIDTH = 20\n    SCREEN_HEIGHT = 30\n    DEFAULT_STYLE_ATTRIBUTE = 16\n    CURSOR_SIZE = 25\n\n    @dataclasses.dataclass\n    class StubScreenBufferInfo:\n        dwCursorPosition: COORD = COORD(CURSOR_X, CURSOR_Y)\n        dwSize: COORD = COORD(SCREEN_WIDTH, SCREEN_HEIGHT)\n        wAttributes: int = DEFAULT_STYLE_ATTRIBUTE\n\n    pytestmark = pytest.mark.skipif(sys.platform != \"win32\", reason=\"windows only\")\n\n    def test_windows_coordinates_to_ctype():\n        coord = WindowsCoordinates.from_param(WindowsCoordinates(row=1, col=2))\n        assert coord.X == 2\n        assert coord.Y == 1\n\n    @pytest.fixture\n    def win32_handle():\n        handle = mock.sentinel\n        with mock.patch.object(_win32_console, \"GetStdHandle\", return_value=handle):\n            yield handle\n\n    @pytest.fixture\n    def win32_console_getters():\n        def stub_console_cursor_info(std_handle, cursor_info):\n            cursor_info.dwSize = CURSOR_SIZE\n            cursor_info.bVisible = True\n\n        with mock.patch.object(\n            _win32_console,\n            \"GetConsoleScreenBufferInfo\",\n            return_value=StubScreenBufferInfo,\n        ) as GetConsoleScreenBufferInfo, mock.patch.object(\n            _win32_console, \"GetConsoleCursorInfo\", side_effect=stub_console_cursor_info\n        ) as GetConsoleCursorInfo:\n            yield {\n                \"GetConsoleScreenBufferInfo\": GetConsoleScreenBufferInfo,\n                \"GetConsoleCursorInfo\": GetConsoleCursorInfo,\n            }\n\n    def test_cursor_position(win32_console_getters):\n        term = LegacyWindowsTerm(sys.stdout)\n        assert term.cursor_position == WindowsCoordinates(row=CURSOR_Y, col=CURSOR_X)\n\n    def test_screen_size(win32_console_getters):\n        term = LegacyWindowsTerm(sys.stdout)\n        assert term.screen_size == WindowsCoordinates(\n            row=SCREEN_HEIGHT, col=SCREEN_WIDTH\n        )\n\n    def test_write_text(win32_console_getters, win32_handle, capsys):\n        text = \"Hello, world!\"\n        term = LegacyWindowsTerm(sys.stdout)\n\n        term.write_text(text)\n\n        captured = capsys.readouterr()\n        assert captured.out == text\n\n    @patch.object(_win32_console, \"SetConsoleTextAttribute\")\n    def test_write_styled(\n        SetConsoleTextAttribute,\n        win32_console_getters,\n        win32_handle,\n        capsys,\n    ):\n        style = Style.parse(\"black on red\")\n        text = \"Hello, world!\"\n        term = LegacyWindowsTerm(sys.stdout)\n\n        term.write_styled(text, style)\n\n        captured = capsys.readouterr()\n        assert captured.out == text\n\n        # Ensure we set the text attributes and then reset them after writing styled text\n        call_args = SetConsoleTextAttribute.call_args_list\n        assert len(call_args) == 2\n        first_args, first_kwargs = call_args[0]\n        second_args, second_kwargs = call_args[1]\n\n        assert first_args == (win32_handle,)\n        assert first_kwargs[\"attributes\"].value == 64\n        assert second_args == (win32_handle,)\n        assert second_kwargs[\"attributes\"] == DEFAULT_STYLE_ATTRIBUTE\n\n    @patch.object(_win32_console, \"SetConsoleTextAttribute\")\n    def test_write_styled_bold(\n        SetConsoleTextAttribute, win32_console_getters, win32_handle\n    ):\n        style = Style.parse(\"bold black on red\")\n        text = \"Hello, world!\"\n        term = LegacyWindowsTerm(sys.stdout)\n\n        term.write_styled(text, style)\n\n        call_args = SetConsoleTextAttribute.call_args_list\n        first_args, first_kwargs = call_args[0]\n\n        expected_attr = 64 + 8  # 64 for red bg, +8 for bright black\n        assert first_args == (win32_handle,)\n        assert first_kwargs[\"attributes\"].value == expected_attr\n\n    @patch.object(_win32_console, \"SetConsoleTextAttribute\")\n    def test_write_styled_reverse(\n        SetConsoleTextAttribute, win32_console_getters, win32_handle\n    ):\n        style = Style.parse(\"reverse red on blue\")\n        text = \"Hello, world!\"\n        term = LegacyWindowsTerm(sys.stdout)\n\n        term.write_styled(text, style)\n\n        call_args = SetConsoleTextAttribute.call_args_list\n        first_args, first_kwargs = call_args[0]\n\n        expected_attr = 64 + 1  # 64 for red bg (after reverse), +1 for blue fg\n        assert first_args == (win32_handle,)\n        assert first_kwargs[\"attributes\"].value == expected_attr\n\n    @patch.object(_win32_console, \"SetConsoleTextAttribute\")\n    def test_write_styled_reverse(\n        SetConsoleTextAttribute, win32_console_getters, win32_handle\n    ):\n        style = Style.parse(\"dim bright_red on blue\")\n        text = \"Hello, world!\"\n        term = LegacyWindowsTerm(sys.stdout)\n\n        term.write_styled(text, style)\n\n        call_args = SetConsoleTextAttribute.call_args_list\n        first_args, first_kwargs = call_args[0]\n\n        expected_attr = 4 + 16  # 4 for red text (after dim), +16 for blue bg\n        assert first_args == (win32_handle,)\n        assert first_kwargs[\"attributes\"].value == expected_attr\n\n    @patch.object(_win32_console, \"SetConsoleTextAttribute\")\n    def test_write_styled_no_foreground_color(\n        SetConsoleTextAttribute, win32_console_getters, win32_handle\n    ):\n        style = Style.parse(\"on blue\")\n        text = \"Hello, world!\"\n        term = LegacyWindowsTerm(sys.stdout)\n\n        term.write_styled(text, style)\n\n        call_args = SetConsoleTextAttribute.call_args_list\n        first_args, first_kwargs = call_args[0]\n\n        expected_attr = 16 | term._default_fore  # 16 for blue bg, plus default fg color\n        assert first_args == (win32_handle,)\n        assert first_kwargs[\"attributes\"].value == expected_attr\n\n    @patch.object(_win32_console, \"SetConsoleTextAttribute\")\n    def test_write_styled_no_background_color(\n        SetConsoleTextAttribute, win32_console_getters, win32_handle\n    ):\n        style = Style.parse(\"blue\")\n        text = \"Hello, world!\"\n        term = LegacyWindowsTerm(sys.stdout)\n\n        term.write_styled(text, style)\n\n        call_args = SetConsoleTextAttribute.call_args_list\n        first_args, first_kwargs = call_args[0]\n\n        expected_attr = (\n            16 | term._default_back\n        )  # 16 for blue foreground, plus default bg color\n        assert first_args == (win32_handle,)\n        assert first_kwargs[\"attributes\"].value == expected_attr\n\n    @patch.object(_win32_console, \"FillConsoleOutputCharacter\", return_value=None)\n    @patch.object(_win32_console, \"FillConsoleOutputAttribute\", return_value=None)\n    def test_erase_line(\n        FillConsoleOutputAttribute,\n        FillConsoleOutputCharacter,\n        win32_console_getters,\n        win32_handle,\n    ):\n        term = LegacyWindowsTerm(sys.stdout)\n        term.erase_line()\n        start = WindowsCoordinates(row=CURSOR_Y, col=0)\n        FillConsoleOutputCharacter.assert_called_once_with(\n            win32_handle, \" \", length=SCREEN_WIDTH, start=start\n        )\n        FillConsoleOutputAttribute.assert_called_once_with(\n            win32_handle, DEFAULT_STYLE_ATTRIBUTE, length=SCREEN_WIDTH, start=start\n        )\n\n    @patch.object(_win32_console, \"FillConsoleOutputCharacter\", return_value=None)\n    @patch.object(_win32_console, \"FillConsoleOutputAttribute\", return_value=None)\n    def test_erase_end_of_line(\n        FillConsoleOutputAttribute,\n        FillConsoleOutputCharacter,\n        win32_console_getters,\n        win32_handle,\n    ):\n        term = LegacyWindowsTerm(sys.stdout)\n        term.erase_end_of_line()\n\n        FillConsoleOutputCharacter.assert_called_once_with(\n            win32_handle, \" \", length=SCREEN_WIDTH - CURSOR_X, start=CURSOR_POSITION\n        )\n        FillConsoleOutputAttribute.assert_called_once_with(\n            win32_handle,\n            DEFAULT_STYLE_ATTRIBUTE,\n            length=SCREEN_WIDTH - CURSOR_X,\n            start=CURSOR_POSITION,\n        )\n\n    @patch.object(_win32_console, \"FillConsoleOutputCharacter\", return_value=None)\n    @patch.object(_win32_console, \"FillConsoleOutputAttribute\", return_value=None)\n    def test_erase_start_of_line(\n        FillConsoleOutputAttribute,\n        FillConsoleOutputCharacter,\n        win32_console_getters,\n        win32_handle,\n    ):\n        term = LegacyWindowsTerm(sys.stdout)\n        term.erase_start_of_line()\n\n        start = WindowsCoordinates(CURSOR_Y, 0)\n\n        FillConsoleOutputCharacter.assert_called_once_with(\n            win32_handle, \" \", length=CURSOR_X, start=start\n        )\n        FillConsoleOutputAttribute.assert_called_once_with(\n            win32_handle, DEFAULT_STYLE_ATTRIBUTE, length=CURSOR_X, start=start\n        )\n\n    @patch.object(_win32_console, \"SetConsoleCursorPosition\", return_value=None)\n    def test_move_cursor_to(\n        SetConsoleCursorPosition, win32_console_getters, win32_handle\n    ):\n        coords = WindowsCoordinates(row=4, col=5)\n        term = LegacyWindowsTerm(sys.stdout)\n\n        term.move_cursor_to(coords)\n\n        SetConsoleCursorPosition.assert_called_once_with(win32_handle, coords=coords)\n\n    @patch.object(_win32_console, \"SetConsoleCursorPosition\", return_value=None)\n    def test_move_cursor_to_out_of_bounds_row(\n        SetConsoleCursorPosition, win32_console_getters, win32_handle\n    ):\n        coords = WindowsCoordinates(row=-1, col=4)\n        term = LegacyWindowsTerm(sys.stdout)\n\n        term.move_cursor_to(coords)\n\n        assert not SetConsoleCursorPosition.called\n\n    @patch.object(_win32_console, \"SetConsoleCursorPosition\", return_value=None)\n    def test_move_cursor_to_out_of_bounds_col(\n        SetConsoleCursorPosition, win32_console_getters, win32_handle\n    ):\n        coords = WindowsCoordinates(row=10, col=-4)\n        term = LegacyWindowsTerm(sys.stdout)\n\n        term.move_cursor_to(coords)\n\n        assert not SetConsoleCursorPosition.called\n\n    @patch.object(_win32_console, \"SetConsoleCursorPosition\", return_value=None)\n    def test_move_cursor_up(\n        SetConsoleCursorPosition, win32_console_getters, win32_handle\n    ):\n        term = LegacyWindowsTerm(sys.stdout)\n\n        term.move_cursor_up()\n\n        SetConsoleCursorPosition.assert_called_once_with(\n            win32_handle, coords=WindowsCoordinates(row=CURSOR_Y - 1, col=CURSOR_X)\n        )\n\n    @patch.object(_win32_console, \"SetConsoleCursorPosition\", return_value=None)\n    def test_move_cursor_down(\n        SetConsoleCursorPosition, win32_console_getters, win32_handle\n    ):\n        term = LegacyWindowsTerm(sys.stdout)\n\n        term.move_cursor_down()\n\n        SetConsoleCursorPosition.assert_called_once_with(\n            win32_handle, coords=WindowsCoordinates(row=CURSOR_Y + 1, col=CURSOR_X)\n        )\n\n    @patch.object(_win32_console, \"SetConsoleCursorPosition\", return_value=None)\n    def test_move_cursor_forward(\n        SetConsoleCursorPosition, win32_console_getters, win32_handle\n    ):\n        term = LegacyWindowsTerm(sys.stdout)\n\n        term.move_cursor_forward()\n\n        SetConsoleCursorPosition.assert_called_once_with(\n            win32_handle, coords=WindowsCoordinates(row=CURSOR_Y, col=CURSOR_X + 1)\n        )\n\n    @patch.object(_win32_console, \"SetConsoleCursorPosition\", return_value=None)\n    def test_move_cursor_forward_newline_wrap(\n        SetConsoleCursorPosition, win32_console_getters, win32_handle\n    ):\n        cursor_at_end_of_line = StubScreenBufferInfo(\n            dwCursorPosition=COORD(SCREEN_WIDTH - 1, CURSOR_Y)\n        )\n        win32_console_getters[\n            \"GetConsoleScreenBufferInfo\"\n        ].return_value = cursor_at_end_of_line\n        term = LegacyWindowsTerm(sys.stdout)\n        term.move_cursor_forward()\n\n        SetConsoleCursorPosition.assert_called_once_with(\n            win32_handle, coords=WindowsCoordinates(row=CURSOR_Y + 1, col=0)\n        )\n\n    @patch.object(_win32_console, \"SetConsoleCursorPosition\", return_value=None)\n    def test_move_cursor_to_column(\n        SetConsoleCursorPosition, win32_console_getters, win32_handle\n    ):\n        term = LegacyWindowsTerm(sys.stdout)\n        term.move_cursor_to_column(5)\n        SetConsoleCursorPosition.assert_called_once_with(\n            win32_handle, coords=WindowsCoordinates(CURSOR_Y, 5)\n        )\n\n    @patch.object(_win32_console, \"SetConsoleCursorPosition\", return_value=None)\n    def test_move_cursor_backward(\n        SetConsoleCursorPosition, win32_console_getters, win32_handle\n    ):\n        term = LegacyWindowsTerm(sys.stdout)\n        term.move_cursor_backward()\n        SetConsoleCursorPosition.assert_called_once_with(\n            win32_handle, coords=WindowsCoordinates(row=CURSOR_Y, col=CURSOR_X - 1)\n        )\n\n    @patch.object(_win32_console, \"SetConsoleCursorPosition\", return_value=None)\n    def test_move_cursor_backward_prev_line_wrap(\n        SetConsoleCursorPosition, win32_console_getters, win32_handle\n    ):\n        cursor_at_start_of_line = StubScreenBufferInfo(\n            dwCursorPosition=COORD(0, CURSOR_Y)\n        )\n        win32_console_getters[\n            \"GetConsoleScreenBufferInfo\"\n        ].return_value = cursor_at_start_of_line\n        term = LegacyWindowsTerm(sys.stdout)\n        term.move_cursor_backward()\n        SetConsoleCursorPosition.assert_called_once_with(\n            win32_handle,\n            coords=WindowsCoordinates(row=CURSOR_Y - 1, col=SCREEN_WIDTH - 1),\n        )\n\n    @patch.object(_win32_console, \"SetConsoleCursorInfo\", return_value=None)\n    def test_hide_cursor(SetConsoleCursorInfo, win32_console_getters, win32_handle):\n        term = LegacyWindowsTerm(sys.stdout)\n        term.hide_cursor()\n\n        call_args = SetConsoleCursorInfo.call_args_list\n\n        assert len(call_args) == 1\n\n        args, kwargs = call_args[0]\n        assert kwargs[\"cursor_info\"].bVisible == 0\n        assert kwargs[\"cursor_info\"].dwSize == CURSOR_SIZE\n\n    @patch.object(_win32_console, \"SetConsoleCursorInfo\", return_value=None)\n    def test_show_cursor(SetConsoleCursorInfo, win32_console_getters, win32_handle):\n        term = LegacyWindowsTerm(sys.stdout)\n        term.show_cursor()\n\n        call_args = SetConsoleCursorInfo.call_args_list\n\n        assert len(call_args) == 1\n\n        args, kwargs = call_args[0]\n        assert kwargs[\"cursor_info\"].bVisible == 1\n        assert kwargs[\"cursor_info\"].dwSize == CURSOR_SIZE\n\n    @patch.object(_win32_console, \"SetConsoleTitle\", return_value=None)\n    def test_set_title(SetConsoleTitle, win32_console_getters):\n        term = LegacyWindowsTerm(sys.stdout)\n        term.set_title(\"title\")\n\n        SetConsoleTitle.assert_called_once_with(\"title\")\n\n    @patch.object(_win32_console, \"SetConsoleTitle\", return_value=None)\n    def test_set_title_too_long(_, win32_console_getters):\n        term = LegacyWindowsTerm(sys.stdout)\n\n        with pytest.raises(AssertionError):\n            term.set_title(\"a\" * 255)\n",
    "start_line": 0
  },
  {
    "file": "test_console.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "import datetime\nimport io\nimport os\nimport subprocess\nimport sys\nimport tempfile\nfrom typing import Optional, Tuple, Type, Union\nfrom unittest import mock\nimport pytest\nfrom rich import errors\nfrom rich._null_file import NullFile\nfrom rich.color import ColorSystem\nfrom rich.console import (\n    CaptureError,\n    Console,\n    ConsoleDimensions,\n    ConsoleOptions,\n    ScreenUpdate,\n    group,\n)\nfrom rich.control import Control\nfrom rich.measure import measure_renderables\nfrom rich.padding import Padding\nfrom rich.pager import SystemPager\nfrom rich.panel import Panel\nfrom rich.region import Region\nfrom rich.segment import Segment\nfrom rich.status import Status\nfrom rich.style import Style\nfrom rich.text import Text\nos.get_terminal_size",
    "start_line": 0
  },
  {
    "file": "test_console.py",
    "type": "function",
    "class": null,
    "method": "test_dumb_terminal",
    "name": "test_dumb_terminal",
    "content": "def test_dumb_terminal() -> None:",
    "start_line": 36
  },
  {
    "file": "test_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(force_terminal=True, _environ={})\n    assert console.color_system is not None\n    console = Console(force_terminal=True, _environ={\"TERM\": \"dumb\"})\n    assert console.color_system is None\n    width, height = console.size\n    assert width == 80\n    assert height == 25",
    "start_line": 37
  },
  {
    "file": "test_console.py",
    "type": "function",
    "class": null,
    "method": "test_soft_wrap",
    "name": "test_soft_wrap",
    "content": "def test_soft_wrap() -> None:",
    "start_line": 47
  },
  {
    "file": "test_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(file=io.StringIO(), width=20, soft_wrap=True)\n    console.print(\"foo \" * 10)\n    assert console.file.getvalue() == \"foo \" * 20\n@pytest.mark.skipif(sys.platform == \"win32\", reason=\"does not run on windows\")",
    "start_line": 48
  },
  {
    "file": "test_console.py",
    "type": "function",
    "class": null,
    "method": "test_16color_terminal",
    "name": "test_16color_terminal",
    "content": "def test_16color_terminal() -> None:",
    "start_line": 54
  },
  {
    "file": "test_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(\n        force_terminal=True, _environ={\"TERM\": \"xterm-16color\"}, legacy_windows=False\n    )\n    assert console.color_system == \"standard\"\n@pytest.mark.skipif(sys.platform == \"win32\", reason=\"does not run on windows\")",
    "start_line": 55
  },
  {
    "file": "test_console.py",
    "type": "function",
    "class": null,
    "method": "test_truecolor_terminal",
    "name": "test_truecolor_terminal",
    "content": "def test_truecolor_terminal() -> None:",
    "start_line": 62
  },
  {
    "file": "test_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(\n        force_terminal=True,\n        legacy_windows=False,\n        _environ={\"COLORTERM\": \"truecolor\", \"TERM\": \"xterm-16color\"},\n    )\n    assert console.color_system == \"truecolor\"\n@pytest.mark.skipif(sys.platform == \"win32\", reason=\"does not run on windows\")",
    "start_line": 63
  },
  {
    "file": "test_console.py",
    "type": "function",
    "class": null,
    "method": "test_kitty_terminal",
    "name": "test_kitty_terminal",
    "content": "def test_kitty_terminal() -> None:",
    "start_line": 72
  },
  {
    "file": "test_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(\n        force_terminal=True,\n        legacy_windows=False,\n        _environ={\"TERM\": \"xterm-kitty\"},\n    )\n    assert console.color_system == \"256\"",
    "start_line": 73
  },
  {
    "file": "test_console.py",
    "type": "function",
    "class": null,
    "method": "test_console_options_update",
    "name": "test_console_options_update",
    "content": "def test_console_options_update() -> None:",
    "start_line": 81
  },
  {
    "file": "test_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "options = ConsoleOptions(\n        ConsoleDimensions(80, 25),\n        max_height=25,\n        legacy_windows=False,\n        min_width=10,\n        max_width=20,\n        is_terminal=False,\n        encoding=\"utf-8\",\n    )\n    options1 = options.update(width=15)\n    assert options1.min_width == 15 and options1.max_width == 15\n    options2 = options.update(min_width=5, max_width=15, justify=\"right\")\n    assert (\n        options2.min_width == 5\n        and options2.max_width == 15\n        and options2.justify == \"right\"\n    )\n    options_copy = options.update()\n    assert options_copy == options and options_copy is not options",
    "start_line": 82
  },
  {
    "file": "test_console.py",
    "type": "function",
    "class": null,
    "method": "test_console_options_update_height",
    "name": "test_console_options_update_height",
    "content": "def test_console_options_update_height() -> None:",
    "start_line": 105
  },
  {
    "file": "test_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "options = ConsoleOptions(\n        ConsoleDimensions(80, 25),\n        max_height=25,\n        legacy_windows=False,\n        min_width=10,\n        max_width=20,\n        is_terminal=False,\n        encoding=\"utf-8\",\n    )\n    assert options.height is None\n    render_options = options.update_height(12)\n    assert options.height is None\n    assert render_options.height == 12\n    assert render_options.max_height == 12",
    "start_line": 106
  },
  {
    "file": "test_console.py",
    "type": "function",
    "class": null,
    "method": "test_init",
    "name": "test_init",
    "content": "def test_init() -> None:",
    "start_line": 122
  },
  {
    "file": "test_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(color_system=None)\n    assert console._color_system == None\n    console = Console(color_system=\"standard\")\n    assert console._color_system == ColorSystem.STANDARD\n    console = Console(color_system=\"auto\")",
    "start_line": 123
  },
  {
    "file": "test_console.py",
    "type": "function",
    "class": null,
    "method": "test_size",
    "name": "test_size",
    "content": "def test_size() -> None:",
    "start_line": 130
  },
  {
    "file": "test_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console()\n    w, h = console.size\n    assert console.width == w\n    console = Console(width=99, height=101, legacy_windows=False)\n    w, h = console.size\n    assert w == 99 and h == 101\n@pytest.mark.parametrize(\n    \"is_windows,no_descriptor_size,stdin_size,stdout_size,stderr_size,expected_size\",\n    [",
    "start_line": 131
  },
  {
    "file": "test_console.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# on Windows we'll use `os.get_terminal_size()` without arguments...\n        (True, (133, 24), ValueError, ValueError, ValueError, (80, 25)),\n        (False, (133, 24), ValueError, ValueError, ValueError, (80, 25)),\n        # ...while on other OS we'll try to pass stdin, then stdout, then stderr to it:\n        (False, ValueError, (133, 24), ValueError, ValueError, (133, 24)),\n        (False, ValueError, ValueError, (133, 24), ValueError, (133, 24)),\n        (False, ValueError, ValueError, ValueError, (133, 24), (133, 24)),\n        (False, ValueError, ValueError, ValueError, ValueError, (80, 25)),\n    ],\n)\n@mock.patch(\"rich.console.os.get_terminal_size\")",
    "start_line": 143
  },
  {
    "file": "test_console.py",
    "type": "function",
    "class": null,
    "method": "test_size_can_fall_back_to_std_descriptors",
    "name": "test_size_can_fall_back_to_std_descriptors",
    "content": "def test_size_can_fall_back_to_std_descriptors(\n    get_terminal_size_mock: mock.MagicMock,\n    is_windows: bool,\n    no_descriptor_size: Union[Tuple[int, int], Type[ValueError]],\n    stdin_size: Union[Tuple[int, int], Type[ValueError]],\n    stdout_size: Union[Tuple[int, int], Type[ValueError]],\n    stderr_size: Union[Tuple[int, int], Type[ValueError]],\n    expected_size: Tuple[int, int],\n) -> None:",
    "start_line": 154
  },
  {
    "file": "test_console.py",
    "type": "function",
    "class": null,
    "method": "get_terminal_size_mock_impl",
    "name": "get_terminal_size_mock_impl",
    "content": "def get_terminal_size_mock_impl(fileno: int = None) -> Tuple[int, int]:",
    "start_line": 163
  },
  {
    "file": "test_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "value = {\n            None: no_descriptor_size,\n            sys.__stdin__.fileno(): stdin_size,\n            sys.__stdout__.fileno(): stdout_size,\n            sys.__stderr__.fileno(): stderr_size,\n        }[fileno]\n        if value is ValueError:\n            raise value\n        return value\n    get_terminal_size_mock.side_effect = get_terminal_size_mock_impl\n    console = Console(legacy_windows=False)\n    with mock.patch(\"rich.console.WINDOWS\", new=is_windows):\n        w, h = console.size\n    assert (w, h) == expected_size",
    "start_line": 164
  },
  {
    "file": "test_console.py",
    "type": "function",
    "class": null,
    "method": "test_repr",
    "name": "test_repr",
    "content": "def test_repr() -> None:",
    "start_line": 182
  },
  {
    "file": "test_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console()\n    assert isinstance(repr(console), str)\n    assert isinstance(str(console), str)",
    "start_line": 183
  },
  {
    "file": "test_console.py",
    "type": "function",
    "class": null,
    "method": "test_print",
    "name": "test_print",
    "content": "def test_print() -> None:",
    "start_line": 188
  },
  {
    "file": "test_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(file=io.StringIO(), color_system=\"truecolor\")\n    console.print(\"foo\")\n    assert console.file.getvalue() == \"foo\\n\"",
    "start_line": 189
  },
  {
    "file": "test_console.py",
    "type": "function",
    "class": null,
    "method": "test_print_multiple",
    "name": "test_print_multiple",
    "content": "def test_print_multiple() -> None:",
    "start_line": 194
  },
  {
    "file": "test_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(file=io.StringIO(), color_system=\"truecolor\")\n    console.print(\"foo\", \"bar\")\n    assert console.file.getvalue() == \"foo bar\\n\"",
    "start_line": 195
  },
  {
    "file": "test_console.py",
    "type": "function",
    "class": null,
    "method": "test_print_text",
    "name": "test_print_text",
    "content": "def test_print_text() -> None:",
    "start_line": 200
  },
  {
    "file": "test_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(file=io.StringIO(), color_system=\"truecolor\")\n    console.print(Text(\"foo\", style=\"bold\"))\n    assert console.file.getvalue() == \"\\x1b[1mfoo\\x1b[0m\\n\"",
    "start_line": 201
  },
  {
    "file": "test_console.py",
    "type": "function",
    "class": null,
    "method": "test_print_text_multiple",
    "name": "test_print_text_multiple",
    "content": "def test_print_text_multiple() -> None:",
    "start_line": 206
  },
  {
    "file": "test_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(file=io.StringIO(), color_system=\"truecolor\")\n    console.print(Text(\"foo\", style=\"bold\"), Text(\"bar\"), \"baz\")\n    assert console.file.getvalue() == \"\\x1b[1mfoo\\x1b[0m bar baz\\n\"",
    "start_line": 207
  },
  {
    "file": "test_console.py",
    "type": "function",
    "class": null,
    "method": "test_print_json",
    "name": "test_print_json",
    "content": "def test_print_json() -> None:",
    "start_line": 212
  },
  {
    "file": "test_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(file=io.StringIO(), color_system=\"truecolor\")\n    console.print_json('[false, true, null, \"foo\"]', indent=4)\n    result = console.file.getvalue()\n    print(repr(result))\n    expected = '\\x1b[1m[\\x1b[0m\\n    \\x1b[3;91mfalse\\x1b[0m,\\n    \\x1b[3;92mtrue\\x1b[0m,\\n    \\x1b[3;35mnull\\x1b[0m,\\n    \\x1b[32m\"foo\"\\x1b[0m\\n\\x1b[1m]\\x1b[0m\\n'\n    assert result == expected",
    "start_line": 213
  },
  {
    "file": "test_console.py",
    "type": "function",
    "class": null,
    "method": "test_print_json_error",
    "name": "test_print_json_error",
    "content": "def test_print_json_error() -> None:",
    "start_line": 221
  },
  {
    "file": "test_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(file=io.StringIO(), color_system=\"truecolor\")\n    with pytest.raises(TypeError):\n        console.print_json([\"foo\"], indent=4)",
    "start_line": 222
  },
  {
    "file": "test_console.py",
    "type": "function",
    "class": null,
    "method": "test_print_json_data",
    "name": "test_print_json_data",
    "content": "def test_print_json_data() -> None:",
    "start_line": 227
  },
  {
    "file": "test_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(file=io.StringIO(), color_system=\"truecolor\")\n    console.print_json(data=[False, True, None, \"foo\"], indent=4)\n    result = console.file.getvalue()\n    print(repr(result))\n    expected = '\\x1b[1m[\\x1b[0m\\n    \\x1b[3;91mfalse\\x1b[0m,\\n    \\x1b[3;92mtrue\\x1b[0m,\\n    \\x1b[3;35mnull\\x1b[0m,\\n    \\x1b[32m\"foo\"\\x1b[0m\\n\\x1b[1m]\\x1b[0m\\n'\n    assert result == expected",
    "start_line": 228
  },
  {
    "file": "test_console.py",
    "type": "function",
    "class": null,
    "method": "test_print_json_ensure_ascii",
    "name": "test_print_json_ensure_ascii",
    "content": "def test_print_json_ensure_ascii() -> None:",
    "start_line": 236
  },
  {
    "file": "test_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(file=io.StringIO(), color_system=\"truecolor\")\n    console.print_json(data={\"foo\": \"\"}, ensure_ascii=False)\n    result = console.file.getvalue()\n    print(repr(result))\n    expected = '\\x1b[1m{\\x1b[0m\\n  \\x1b[1;34m\"foo\"\\x1b[0m: \\x1b[32m\"\"\\x1b[0m\\n\\x1b[1m}\\x1b[0m\\n'\n    assert result == expected",
    "start_line": 237
  },
  {
    "file": "test_console.py",
    "type": "function",
    "class": null,
    "method": "test_print_json_with_default_ensure_ascii",
    "name": "test_print_json_with_default_ensure_ascii",
    "content": "def test_print_json_with_default_ensure_ascii() -> None:",
    "start_line": 245
  },
  {
    "file": "test_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(file=io.StringIO(), color_system=\"truecolor\")\n    console.print_json(data={\"foo\": \"\"})\n    result = console.file.getvalue()\n    print(repr(result))\n    expected = '\\x1b[1m{\\x1b[0m\\n  \\x1b[1;34m\"foo\"\\x1b[0m: \\x1b[32m\"\"\\x1b[0m\\n\\x1b[1m}\\x1b[0m\\n'\n    assert result == expected",
    "start_line": 246
  },
  {
    "file": "test_console.py",
    "type": "function",
    "class": null,
    "method": "test_print_json_indent_none",
    "name": "test_print_json_indent_none",
    "content": "def test_print_json_indent_none() -> None:",
    "start_line": 254
  },
  {
    "file": "test_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(file=io.StringIO(), color_system=\"truecolor\")\n    data = {\"name\": \"apple\", \"count\": 1}\n    console.print_json(data=data, indent=None)\n    result = console.file.getvalue()\n    expected = '\\x1b[1m{\\x1b[0m\\x1b[1;34m\"name\"\\x1b[0m: \\x1b[32m\"apple\"\\x1b[0m, \\x1b[1;34m\"count\"\\x1b[0m: \\x1b[1;36m1\\x1b[0m\\x1b[1m}\\x1b[0m\\n'\n    assert result == expected",
    "start_line": 255
  },
  {
    "file": "test_console.py",
    "type": "function",
    "class": null,
    "method": "test_console_null_file",
    "name": "test_console_null_file",
    "content": "def test_console_null_file(monkeypatch) -> None:",
    "start_line": 263
  },
  {
    "file": "test_console.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# When stdout and stderr are null, Console.file should be replaced with NullFile\n    monkeypatch.setattr(\"sys.stdout\", None)\n    monkeypatch.setattr(\"sys.stderr\", None)",
    "start_line": 264
  },
  {
    "file": "test_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console()\n    assert isinstance(console.file, NullFile)",
    "start_line": 268
  },
  {
    "file": "test_console.py",
    "type": "function",
    "class": null,
    "method": "test_log",
    "name": "test_log",
    "content": "def test_log() -> None:",
    "start_line": 272
  },
  {
    "file": "test_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(\n        file=io.StringIO(),\n        width=80,\n        color_system=\"truecolor\",\n        log_time_format=\"TIME\",\n        log_path=False,\n        _environ={},\n    )\n    console.log(\"foo\", style=\"red\")\n    expected = \"\\x1b[2;36mTIME\\x1b[0m\\x1b[2;36m \\x1b[0m\\x1b[31mfoo                                                                        \\x1b[0m\\n\"\n    result = console.file.getvalue()\n    print(repr(result))\n    assert result == expected",
    "start_line": 273
  },
  {
    "file": "test_console.py",
    "type": "function",
    "class": null,
    "method": "test_log_milliseconds",
    "name": "test_log_milliseconds",
    "content": "def test_log_milliseconds() -> None:",
    "start_line": 288
  },
  {
    "file": "test_console.py",
    "type": "function",
    "class": null,
    "method": "time_formatter",
    "name": "time_formatter",
    "content": "def time_formatter(timestamp: datetime) -> Text:\n        return Text(\"TIME\")",
    "start_line": 289
  },
  {
    "file": "test_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(\n        file=io.StringIO(), width=40, log_time_format=time_formatter, log_path=False\n    )\n    console.log(\"foo\")\n    result = console.file.getvalue()\n    assert result == \"TIME foo                                \\n\"",
    "start_line": 292
  },
  {
    "file": "test_console.py",
    "type": "function",
    "class": null,
    "method": "test_print_empty",
    "name": "test_print_empty",
    "content": "def test_print_empty() -> None:",
    "start_line": 300
  },
  {
    "file": "test_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(file=io.StringIO(), color_system=\"truecolor\")\n    console.print()\n    assert console.file.getvalue() == \"\\n\"",
    "start_line": 301
  },
  {
    "file": "test_console.py",
    "type": "function",
    "class": null,
    "method": "test_markup_highlight",
    "name": "test_markup_highlight",
    "content": "def test_markup_highlight() -> None:",
    "start_line": 306
  },
  {
    "file": "test_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(file=io.StringIO(), color_system=\"truecolor\")\n    console.print(\"'[bold]foo[/bold]'\")\n    assert (\n        console.file.getvalue()\n        == \"\\x1b[32m'\\x1b[0m\\x1b[1;32mfoo\\x1b[0m\\x1b[32m'\\x1b[0m\\n\"\n    )",
    "start_line": 307
  },
  {
    "file": "test_console.py",
    "type": "function",
    "class": null,
    "method": "test_print_style",
    "name": "test_print_style",
    "content": "def test_print_style() -> None:",
    "start_line": 315
  },
  {
    "file": "test_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(file=io.StringIO(), color_system=\"truecolor\")\n    console.print(\"foo\", style=\"bold\")\n    assert console.file.getvalue() == \"\\x1b[1mfoo\\x1b[0m\\n\"",
    "start_line": 316
  },
  {
    "file": "test_console.py",
    "type": "function",
    "class": null,
    "method": "test_show_cursor",
    "name": "test_show_cursor",
    "content": "def test_show_cursor() -> None:",
    "start_line": 321
  },
  {
    "file": "test_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(\n        file=io.StringIO(), force_terminal=True, legacy_windows=False, _environ={}\n    )\n    console.show_cursor(False)\n    console.print(\"foo\")\n    console.show_cursor(True)\n    assert console.file.getvalue() == \"\\x1b[?25lfoo\\n\\x1b[?25h\"",
    "start_line": 322
  },
  {
    "file": "test_console.py",
    "type": "function",
    "class": null,
    "method": "test_clear",
    "name": "test_clear",
    "content": "def test_clear() -> None:",
    "start_line": 331
  },
  {
    "file": "test_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(file=io.StringIO(), force_terminal=True, _environ={})\n    console.clear()\n    console.clear(home=False)\n    assert console.file.getvalue() == \"\\033[2J\\033[H\" + \"\\033[2J\"",
    "start_line": 332
  },
  {
    "file": "test_console.py",
    "type": "function",
    "class": null,
    "method": "test_clear_no_terminal",
    "name": "test_clear_no_terminal",
    "content": "def test_clear_no_terminal() -> None:",
    "start_line": 338
  },
  {
    "file": "test_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(file=io.StringIO())\n    console.clear()\n    console.clear(home=False)\n    assert console.file.getvalue() == \"\"",
    "start_line": 339
  },
  {
    "file": "test_console.py",
    "type": "function",
    "class": null,
    "method": "test_get_style",
    "name": "test_get_style",
    "content": "def test_get_style() -> None:",
    "start_line": 345
  },
  {
    "file": "test_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console()\n    console.get_style(\"repr.brace\") == Style(bold=True)",
    "start_line": 346
  },
  {
    "file": "test_console.py",
    "type": "function",
    "class": null,
    "method": "test_get_style_default",
    "name": "test_get_style_default",
    "content": "def test_get_style_default() -> None:",
    "start_line": 350
  },
  {
    "file": "test_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console()\n    console.get_style(\"foobar\", default=\"red\") == Style(color=\"red\")",
    "start_line": 351
  },
  {
    "file": "test_console.py",
    "type": "function",
    "class": null,
    "method": "test_get_style_error",
    "name": "test_get_style_error",
    "content": "def test_get_style_error() -> None:",
    "start_line": 355
  },
  {
    "file": "test_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console()\n    with pytest.raises(errors.MissingStyle):\n        console.get_style(\"nosuchstyle\")\n    with pytest.raises(errors.MissingStyle):\n        console.get_style(\"foo bar\")",
    "start_line": 356
  },
  {
    "file": "test_console.py",
    "type": "function",
    "class": null,
    "method": "test_render_error",
    "name": "test_render_error",
    "content": "def test_render_error() -> None:",
    "start_line": 363
  },
  {
    "file": "test_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console()\n    with pytest.raises(errors.NotRenderableError):\n        list(console.render([], console.options))",
    "start_line": 364
  },
  {
    "file": "test_console.py",
    "type": "function",
    "class": null,
    "method": "test_control",
    "name": "test_control",
    "content": "def test_control() -> None:",
    "start_line": 369
  },
  {
    "file": "test_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(file=io.StringIO(), force_terminal=True, _environ={})\n    console.control(Control.clear())\n    console.print(\"BAR\")\n    assert console.file.getvalue() == \"\\x1b[2JBAR\\n\"",
    "start_line": 370
  },
  {
    "file": "test_console.py",
    "type": "function",
    "class": null,
    "method": "test_capture",
    "name": "test_capture",
    "content": "def test_capture() -> None:",
    "start_line": 376
  },
  {
    "file": "test_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console()\n    with console.capture() as capture:\n        with pytest.raises(CaptureError):\n            capture.get()\n        console.print(\"Hello\")\n    assert capture.get() == \"Hello\\n\"",
    "start_line": 377
  },
  {
    "file": "test_console.py",
    "type": "function",
    "class": null,
    "method": "test_input",
    "name": "test_input",
    "content": "def test_input(monkeypatch, capsys) -> None:",
    "start_line": 385
  },
  {
    "file": "test_console.py",
    "type": "function",
    "class": null,
    "method": "fake_input",
    "name": "fake_input",
    "content": "def fake_input(prompt=\"\"):\n        console.file.write(prompt)\n        return \"bar\"\n\n    monkeypatch.setattr(\"builtins.input\", fake_input)",
    "start_line": 386
  },
  {
    "file": "test_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console()\n    user_input = console.input(prompt=\"foo:\")\n    assert capsys.readouterr().out == \"foo:\"\n    assert user_input == \"bar\"",
    "start_line": 391
  },
  {
    "file": "test_console.py",
    "type": "function",
    "class": null,
    "method": "test_input_password",
    "name": "test_input_password",
    "content": "def test_input_password(monkeypatch, capsys) -> None:",
    "start_line": 397
  },
  {
    "file": "test_console.py",
    "type": "function",
    "class": null,
    "method": "fake_input",
    "name": "fake_input",
    "content": "def fake_input(prompt, stream=None):\n        console.file.write(prompt)\n        return \"bar\"",
    "start_line": 398
  },
  {
    "file": "test_console.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "import rich.console\n    monkeypatch.setattr(rich.console, \"getpass\", fake_input)",
    "start_line": 402
  },
  {
    "file": "test_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console()\n    user_input = console.input(prompt=\"foo:\", password=True)\n    assert capsys.readouterr().out == \"foo:\"\n    assert user_input == \"bar\"",
    "start_line": 405
  },
  {
    "file": "test_console.py",
    "type": "function",
    "class": null,
    "method": "test_status",
    "name": "test_status",
    "content": "def test_status() -> None:",
    "start_line": 411
  },
  {
    "file": "test_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(file=io.StringIO(), force_terminal=True, width=20)\n    status = console.status(\"foo\")\n    assert isinstance(status, Status)",
    "start_line": 412
  },
  {
    "file": "test_console.py",
    "type": "function",
    "class": null,
    "method": "test_justify_none",
    "name": "test_justify_none",
    "content": "def test_justify_none() -> None:",
    "start_line": 417
  },
  {
    "file": "test_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(file=io.StringIO(), force_terminal=True, width=20)\n    console.print(\"FOO\", justify=None)\n    assert console.file.getvalue() == \"FOO\\n\"",
    "start_line": 418
  },
  {
    "file": "test_console.py",
    "type": "function",
    "class": null,
    "method": "test_justify_left",
    "name": "test_justify_left",
    "content": "def test_justify_left() -> None:",
    "start_line": 423
  },
  {
    "file": "test_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(file=io.StringIO(), force_terminal=True, width=20, _environ={})\n    console.print(\"FOO\", justify=\"left\")\n    assert console.file.getvalue() == \"FOO                 \\n\"",
    "start_line": 424
  },
  {
    "file": "test_console.py",
    "type": "function",
    "class": null,
    "method": "test_justify_center",
    "name": "test_justify_center",
    "content": "def test_justify_center() -> None:",
    "start_line": 429
  },
  {
    "file": "test_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(file=io.StringIO(), force_terminal=True, width=20, _environ={})\n    console.print(\"FOO\", justify=\"center\")\n    assert console.file.getvalue() == \"        FOO         \\n\"",
    "start_line": 430
  },
  {
    "file": "test_console.py",
    "type": "function",
    "class": null,
    "method": "test_justify_right",
    "name": "test_justify_right",
    "content": "def test_justify_right() -> None:",
    "start_line": 435
  },
  {
    "file": "test_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(file=io.StringIO(), force_terminal=True, width=20, _environ={})\n    console.print(\"FOO\", justify=\"right\")\n    assert console.file.getvalue() == \"                 FOO\\n\"",
    "start_line": 436
  },
  {
    "file": "test_console.py",
    "type": "function",
    "class": null,
    "method": "test_justify_renderable_none",
    "name": "test_justify_renderable_none",
    "content": "def test_justify_renderable_none() -> None:",
    "start_line": 441
  },
  {
    "file": "test_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(\n        file=io.StringIO(),\n        force_terminal=True,\n        width=20,\n        legacy_windows=False,\n        _environ={},\n    )\n    console.print(Panel(\"FOO\", expand=False, padding=0), justify=None)\n    assert console.file.getvalue() == \"\\nFOO\\n\\n\"",
    "start_line": 442
  },
  {
    "file": "test_console.py",
    "type": "function",
    "class": null,
    "method": "test_justify_renderable_left",
    "name": "test_justify_renderable_left",
    "content": "def test_justify_renderable_left() -> None:",
    "start_line": 453
  },
  {
    "file": "test_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(\n        file=io.StringIO(),\n        force_terminal=True,\n        width=10,\n        legacy_windows=False,\n        _environ={},\n    )\n    console.print(Panel(\"FOO\", expand=False, padding=0), justify=\"left\")\n    assert console.file.getvalue() == \"     \\nFOO     \\n     \\n\"",
    "start_line": 454
  },
  {
    "file": "test_console.py",
    "type": "function",
    "class": null,
    "method": "test_justify_renderable_center",
    "name": "test_justify_renderable_center",
    "content": "def test_justify_renderable_center() -> None:",
    "start_line": 465
  },
  {
    "file": "test_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(\n        file=io.StringIO(),\n        force_terminal=True,\n        width=10,\n        legacy_windows=False,\n        _environ={},\n    )\n    console.print(Panel(\"FOO\", expand=False, padding=0), justify=\"center\")\n    assert console.file.getvalue() == \"     \\n  FOO   \\n     \\n\"",
    "start_line": 466
  },
  {
    "file": "test_console.py",
    "type": "function",
    "class": null,
    "method": "test_justify_renderable_right",
    "name": "test_justify_renderable_right",
    "content": "def test_justify_renderable_right() -> None:",
    "start_line": 477
  },
  {
    "file": "test_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(\n        file=io.StringIO(),\n        force_terminal=True,\n        width=20,\n        legacy_windows=False,\n        _environ={},\n    )\n    console.print(Panel(\"FOO\", expand=False, padding=0), justify=\"right\")\n    assert (\n        console.file.getvalue()\n        == \"               \\n               FOO\\n               \\n\"\n    )",
    "start_line": 478
  },
  {
    "file": "test_console.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "BrokenRenderable",
    "content": "class BrokenRenderable:",
    "start_line": 492
  },
  {
    "file": "test_console.py",
    "type": "method",
    "class": "BrokenRenderable",
    "method": "__rich_console__",
    "name": "__rich_console__",
    "content": "class BrokenRenderable:\n    def __rich_console__(self, console, options):\n        pass",
    "start_line": 493
  },
  {
    "file": "test_console.py",
    "type": "function",
    "class": null,
    "method": "test_render_broken_renderable",
    "name": "test_render_broken_renderable",
    "content": "def test_render_broken_renderable() -> None:",
    "start_line": 497
  },
  {
    "file": "test_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console()\n    broken = BrokenRenderable()\n    with pytest.raises(errors.NotRenderableError):\n        list(console.render(broken, console.options))",
    "start_line": 498
  },
  {
    "file": "test_console.py",
    "type": "function",
    "class": null,
    "method": "test_export_text",
    "name": "test_export_text",
    "content": "def test_export_text() -> None:",
    "start_line": 504
  },
  {
    "file": "test_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(record=True, width=100)\n    console.print(\"[b]foo\")\n    text = console.export_text()\n    expected = \"foo\\n\"\n    assert text == expected",
    "start_line": 505
  },
  {
    "file": "test_console.py",
    "type": "function",
    "class": null,
    "method": "test_export_html",
    "name": "test_export_html",
    "content": "def test_export_html() -> None:",
    "start_line": 512
  },
  {
    "file": "test_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(record=True, width=100)\n    console.print(\"[b]foo <script> 'test' [link=https://example.org]Click[/link]\")\n    html = console.export_html()\n    print(repr(html))\n    expected = '<!DOCTYPE html>\\n<html>\\n<head>\\n<meta charset=\"UTF-8\">\\n<style>\\n.r1 {font-weight: bold}\\n.r2 {color: #ff00ff; text-decoration-color: #ff00ff; font-weight: bold}\\n.r3 {color: #008000; text-decoration-color: #008000; font-weight: bold}\\nbody {\\n    color: #000000;\\n    background-color: #ffffff;\\n}\\n</style>\\n</head>\\n<body>\\n    <pre style=\"font-family:Menlo,\\'DejaVu Sans Mono\\',consolas,\\'Courier New\\',monospace\"><code style=\"font-family:inherit\"><span class=\"r1\">foo &lt;</span><span class=\"r2\">script</span><span class=\"r1\">&gt; </span><span class=\"r3\">&#x27;test&#x27;</span><span class=\"r1\"> </span><a class=\"r1\" href=\"https://example.org\">Click</a>\\n</code></pre>\\n</body>\\n</html>\\n'\n    assert html == expected",
    "start_line": 513
  },
  {
    "file": "test_console.py",
    "type": "function",
    "class": null,
    "method": "test_export_html_inline",
    "name": "test_export_html_inline",
    "content": "def test_export_html_inline() -> None:",
    "start_line": 521
  },
  {
    "file": "test_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(record=True, width=100)\n    console.print(\"[b]foo [link=https://example.org]Click[/link]\")\n    html = console.export_html(inline_styles=True)\n    print(repr(html))\n    expected = '<!DOCTYPE html>\\n<html>\\n<head>\\n<meta charset=\"UTF-8\">\\n<style>\\n\\nbody {\\n    color: #000000;\\n    background-color: #ffffff;\\n}\\n</style>\\n</head>\\n<body>\\n    <pre style=\"font-family:Menlo,\\'DejaVu Sans Mono\\',consolas,\\'Courier New\\',monospace\"><code style=\"font-family:inherit\"><span style=\"font-weight: bold\">foo </span><span style=\"font-weight: bold\"><a href=\"https://example.org\">Click</a></span>\\n</code></pre>\\n</body>\\n</html>\\n'\n    assert html == expected",
    "start_line": 522
  },
  {
    "file": "test_console.py",
    "type": "constants",
    "class": null,
    "method": null,
    "name": "module_constants",
    "content": "EXPECTED_SVG = '<svg class=\"rich-terminal\" viewBox=\"0 0 1238 74.4\" xmlns=\"http://www.w3.org/2000/svg\">\\n    <!-- Generated with Rich https://www.textualize.io -->\\n    <style>\\n\\n    @font-face {\\n        font-family: \"Fira Code\";\\n        src: local(\"FiraCode-Regular\"),\\n                url(\"https://cdnjs.cloudflare.com/ajax/libs/firacode/6.2.0/woff2/FiraCode-Regular.woff2\") format(\"woff2\"),\\n                url(\"https://cdnjs.cloudflare.com/ajax/libs/firacode/6.2.0/woff/FiraCode-Regular.woff\") format(\"woff\");\\n        font-style: normal;\\n        font-weight: 400;\\n    }\\n    @font-face {\\n        font-family: \"Fira Code\";\\n        src: local(\"FiraCode-Bold\"),\\n                url(\"https://cdnjs.cloudflare.com/ajax/libs/firacode/6.2.0/woff2/FiraCode-Bold.woff2\") format(\"woff2\"),\\n                url(\"https://cdnjs.cloudflare.com/ajax/libs/firacode/6.2.0/woff/FiraCode-Bold.woff\") format(\"woff\");\\n        font-style: bold;\\n        font-weight: 700;\\n    }\\n\\n    .terminal-3526644552-matrix {\\n        font-family: Fira Code, monospace;\\n        font-size: 20px;\\n        line-height: 24.4px;\\n        font-variant-east-asian: full-width;\\n    }\\n\\n    .terminal-3526644552-title {\\n        font-size: 18px;\\n        font-weight: bold;\\n        font-family: arial;\\n    }\\n\\n    .terminal-3526644552-r1 { fill: #608ab1;font-weight: bold }\\n.terminal-3526644552-r2 { fill: #c5c8c6 }\\n    </style>\\n\\n    <defs>\\n    <clipPath id=\"terminal-3526644552-clip-terminal\">\\n      <rect x=\"0\" y=\"0\" width=\"1219.0\" height=\"23.4\" />\\n    </clipPath>\\n    \\n    </defs>\\n\\n    <rect fill=\"#292929\" stroke=\"rgba(255,255,255,0.35)\" stroke-width=\"1\" x=\"1\" y=\"1\" width=\"1236\" height=\"72.4\" rx=\"8\"/><text class=\"terminal-3526644552-title\" fill=\"#c5c8c6\" text-anchor=\"middle\" x=\"618\" y=\"27\">Rich</text>\\n            <g transform=\"translate(26,22)\">\\n            <circle cx=\"0\" cy=\"0\" r=\"7\" fill=\"#ff5f57\"/>\\n            <circle cx=\"22\" cy=\"0\" r=\"7\" fill=\"#febc2e\"/>\\n            <circle cx=\"44\" cy=\"0\" r=\"7\" fill=\"#28c840\"/>\\n            </g>\\n        \\n    <g transform=\"translate(9, 41)\" clip-path=\"url(#terminal-3526644552-clip-terminal)\">\\n    <rect fill=\"#cc555a\" x=\"0\" y=\"1.5\" width=\"36.6\" height=\"24.65\" shape-rendering=\"crispEdges\"/>\\n    <g class=\"terminal-3526644552-matrix\">\\n    <text class=\"terminal-3526644552-r1\" x=\"0\" y=\"20\" textLength=\"36.6\" clip-path=\"url(#terminal-3526644552-line-0)\">foo</text><text class=\"terminal-3526644552-r2\" x=\"48.8\" y=\"20\" textLength=\"61\" clip-path=\"url(#terminal-3526644552-line-0)\">Click</text><text class=\"terminal-3526644552-r2\" x=\"1220\" y=\"20\" textLength=\"12.2\" clip-path=\"url(#terminal-3526644552-line-0)\">\\n</text>\\n    </g>\\n    </g>\\n</svg>\\n'",
    "start_line": 530
  },
  {
    "file": "test_console.py",
    "type": "function",
    "class": null,
    "method": "test_export_svg",
    "name": "test_export_svg",
    "content": "def test_export_svg() -> None:",
    "start_line": 533
  },
  {
    "file": "test_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(record=True, width=100)\n    console.print(\n        \"[b red on blue reverse]foo[/] [blink][link=https://example.org]Click[/link]\"\n    )\n    svg = console.export_svg()\n    print(repr(svg))\n    assert svg == EXPECTED_SVG",
    "start_line": 534
  },
  {
    "file": "test_console.py",
    "type": "function",
    "class": null,
    "method": "test_export_svg_specified_unique_id",
    "name": "test_export_svg_specified_unique_id",
    "content": "def test_export_svg_specified_unique_id() -> None:",
    "start_line": 544
  },
  {
    "file": "test_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "expected_svg = EXPECTED_SVG.replace(\"terminal-3526644552\", \"given-id\")\n    console = Console(record=True, width=100)\n    console.print(\n        \"[b red on blue reverse]foo[/] [blink][link=https://example.org]Click[/link]\"\n    )\n    svg = console.export_svg(unique_id=\"given-id\")\n    print(repr(svg))\n    assert svg == expected_svg",
    "start_line": 545
  },
  {
    "file": "test_console.py",
    "type": "function",
    "class": null,
    "method": "test_save_svg",
    "name": "test_save_svg",
    "content": "def test_save_svg() -> None:",
    "start_line": 556
  },
  {
    "file": "test_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(record=True, width=100)\n    console.print(\n        \"[b red on blue reverse]foo[/] [blink][link=https://example.org]Click[/link]\"\n    )\n    with tempfile.TemporaryDirectory() as path:\n        export_path = os.path.join(path, \"example.svg\")\n        console.save_svg(export_path)\n        with open(export_path, \"rt\", encoding=\"utf-8\") as svg_file:\n            assert svg_file.read() == EXPECTED_SVG",
    "start_line": 557
  },
  {
    "file": "test_console.py",
    "type": "function",
    "class": null,
    "method": "test_save_text",
    "name": "test_save_text",
    "content": "def test_save_text() -> None:",
    "start_line": 568
  },
  {
    "file": "test_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(record=True, width=100)\n    console.print(\"foo\")\n    with tempfile.TemporaryDirectory() as path:\n        export_path = os.path.join(path, \"rich.txt\")\n        console.save_text(export_path)\n        with open(export_path, \"rt\") as text_file:\n            assert text_file.read() == \"foo\\n\"",
    "start_line": 569
  },
  {
    "file": "test_console.py",
    "type": "function",
    "class": null,
    "method": "test_save_html",
    "name": "test_save_html",
    "content": "def test_save_html() -> None:",
    "start_line": 578
  },
  {
    "file": "test_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "expected = '<!DOCTYPE html>\\n<html>\\n<head>\\n<meta charset=\"UTF-8\">\\n<style>\\n\\nbody {\\n    color: #000000;\\n    background-color: #ffffff;\\n}\\n</style>\\n</head>\\n<body>\\n    <pre style=\"font-family:Menlo,\\'DejaVu Sans Mono\\',consolas,\\'Courier New\\',monospace\"><code style=\"font-family:inherit\">foo\\n</code></pre>\\n</body>\\n</html>\\n'\n    console = Console(record=True, width=100)\n    console.print(\"foo\")\n    with tempfile.TemporaryDirectory() as path:\n        export_path = os.path.join(path, \"example.html\")\n        console.save_html(export_path)\n        with open(export_path, \"rt\") as html_file:\n            html = html_file.read()\n            print(repr(html))\n            assert html == expected",
    "start_line": 579
  },
  {
    "file": "test_console.py",
    "type": "function",
    "class": null,
    "method": "test_no_wrap",
    "name": "test_no_wrap",
    "content": "def test_no_wrap() -> None:",
    "start_line": 591
  },
  {
    "file": "test_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(width=10, file=io.StringIO())\n    console.print(\"foo bar baz egg\", no_wrap=True)\n    assert console.file.getvalue() == \"foo bar ba\\n\"",
    "start_line": 592
  },
  {
    "file": "test_console.py",
    "type": "function",
    "class": null,
    "method": "test_soft_wrap",
    "name": "test_soft_wrap",
    "content": "def test_soft_wrap() -> None:",
    "start_line": 597
  },
  {
    "file": "test_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(width=10, file=io.StringIO())\n    console.print(\"foo bar baz egg\", soft_wrap=True)\n    assert console.file.getvalue() == \"foo bar baz egg\\n\"",
    "start_line": 598
  },
  {
    "file": "test_console.py",
    "type": "function",
    "class": null,
    "method": "test_unicode_error",
    "name": "test_unicode_error",
    "content": "def test_unicode_error() -> None:\n    try:\n        with tempfile.TemporaryFile(\"wt\", encoding=\"ascii\") as tmpfile:",
    "start_line": 603
  },
  {
    "file": "test_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(file=tmpfile)\n            console.print(\":vampire:\")\n    except UnicodeEncodeError as error:\n        assert \"PYTHONIOENCODING\" in str(error)\n    else:\n        assert False, \"didn't raise UnicodeEncodeError\"",
    "start_line": 606
  },
  {
    "file": "test_console.py",
    "type": "function",
    "class": null,
    "method": "test_bell",
    "name": "test_bell",
    "content": "def test_bell() -> None:",
    "start_line": 614
  },
  {
    "file": "test_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(force_terminal=True, _environ={})\n    console.begin_capture()\n    console.bell()\n    assert console.end_capture() == \"\\x07\"",
    "start_line": 615
  },
  {
    "file": "test_console.py",
    "type": "function",
    "class": null,
    "method": "test_pager",
    "name": "test_pager",
    "content": "def test_pager() -> None:",
    "start_line": 621
  },
  {
    "file": "test_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(_environ={})\n    pager_content: Optional[str] = None",
    "start_line": 622
  },
  {
    "file": "test_console.py",
    "type": "function",
    "class": null,
    "method": "mock_pager",
    "name": "mock_pager",
    "content": "def mock_pager(content: str) -> None:\n        nonlocal pager_content",
    "start_line": 626
  },
  {
    "file": "test_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "pager_content = content\n    pager = SystemPager()\n    pager._pager = mock_pager\n    with console.pager(pager):\n        console.print(\"[bold]Hello World\")\n    assert pager_content == \"Hello World\\n\"\n    with console.pager(pager, styles=True, links=False):\n        console.print(\"[bold link https:/example.org]Hello World\")\n    assert pager_content == \"Hello World\\n\"",
    "start_line": 628
  },
  {
    "file": "test_console.py",
    "type": "function",
    "class": null,
    "method": "test_out",
    "name": "test_out",
    "content": "def test_out() -> None:",
    "start_line": 643
  },
  {
    "file": "test_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(width=10)\n    console.begin_capture()\n    console.out(*([\"foo bar\"] * 5), sep=\".\", end=\"X\")\n    assert console.end_capture() == \"foo bar.foo bar.foo bar.foo bar.foo barX\"",
    "start_line": 644
  },
  {
    "file": "test_console.py",
    "type": "function",
    "class": null,
    "method": "test_render_group",
    "name": "test_render_group",
    "content": "def test_render_group() -> None:\n    @group(fit=False)",
    "start_line": 650
  },
  {
    "file": "test_console.py",
    "type": "function",
    "class": null,
    "method": "renderable",
    "name": "renderable",
    "content": "def renderable():\n        yield \"one\"\n        yield \"two\"\n        yield \"three\"  # <- largest width of 5\n        yield \"four\"",
    "start_line": 652
  },
  {
    "file": "test_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "renderables = [renderable() for _ in range(4)]\n    console = Console(width=42)\n    min_width, _ = measure_renderables(console, console.options, renderables)\n    assert min_width == 42",
    "start_line": 658
  },
  {
    "file": "test_console.py",
    "type": "function",
    "class": null,
    "method": "test_render_group_fit",
    "name": "test_render_group_fit",
    "content": "def test_render_group_fit() -> None:\n    @group()",
    "start_line": 664
  },
  {
    "file": "test_console.py",
    "type": "function",
    "class": null,
    "method": "renderable",
    "name": "renderable",
    "content": "def renderable():\n        yield \"one\"\n        yield \"two\"\n        yield \"three\"  # <- largest width of 5\n        yield \"four\"",
    "start_line": 666
  },
  {
    "file": "test_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "renderables = [renderable() for _ in range(4)]\n    console = Console(width=42)\n    min_width, _ = measure_renderables(console, console.options, renderables)\n    assert min_width == 5",
    "start_line": 672
  },
  {
    "file": "test_console.py",
    "type": "function",
    "class": null,
    "method": "test_get_time",
    "name": "test_get_time",
    "content": "def test_get_time() -> None:",
    "start_line": 680
  },
  {
    "file": "test_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(\n        get_time=lambda: 99, get_datetime=lambda: datetime.datetime(1974, 7, 5)\n    )\n    assert console.get_time() == 99\n    assert console.get_datetime() == datetime.datetime(1974, 7, 5)",
    "start_line": 681
  },
  {
    "file": "test_console.py",
    "type": "function",
    "class": null,
    "method": "test_console_style",
    "name": "test_console_style",
    "content": "def test_console_style() -> None:",
    "start_line": 688
  },
  {
    "file": "test_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(\n        file=io.StringIO(), color_system=\"truecolor\", force_terminal=True, style=\"red\"\n    )\n    console.print(\"foo\")\n    expected = \"\\x1b[31mfoo\\x1b[0m\\n\"\n    result = console.file.getvalue()\n    assert result == expected",
    "start_line": 689
  },
  {
    "file": "test_console.py",
    "type": "function",
    "class": null,
    "method": "test_no_color",
    "name": "test_no_color",
    "content": "def test_no_color() -> None:",
    "start_line": 698
  },
  {
    "file": "test_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(\n        file=io.StringIO(), color_system=\"truecolor\", force_terminal=True, no_color=True\n    )\n    console.print(\"[bold magenta on red]FOO\")\n    expected = \"\\x1b[1mFOO\\x1b[0m\\n\"\n    result = console.file.getvalue()\n    print(repr(result))\n    assert result == expected",
    "start_line": 699
  },
  {
    "file": "test_console.py",
    "type": "function",
    "class": null,
    "method": "test_quiet",
    "name": "test_quiet",
    "content": "def test_quiet() -> None:",
    "start_line": 709
  },
  {
    "file": "test_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(file=io.StringIO(), quiet=True)\n    console.print(\"Hello, World!\")\n    assert console.file.getvalue() == \"\"",
    "start_line": 710
  },
  {
    "file": "test_console.py",
    "type": "function",
    "class": null,
    "method": "test_no_nested_live",
    "name": "test_no_nested_live",
    "content": "def test_no_nested_live() -> None:",
    "start_line": 715
  },
  {
    "file": "test_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console()\n    with pytest.raises(errors.LiveError):\n        with console.status(\"foo\"):\n            with console.status(\"bar\"):\n                pass\n@pytest.mark.skipif(sys.platform == \"win32\", reason=\"does not run on windows\")",
    "start_line": 716
  },
  {
    "file": "test_console.py",
    "type": "function",
    "class": null,
    "method": "test_screen",
    "name": "test_screen",
    "content": "def test_screen() -> None:",
    "start_line": 724
  },
  {
    "file": "test_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(\n        color_system=None, force_terminal=True, force_interactive=True, _environ={}\n    )\n    with console.capture() as capture:\n        with console.screen():\n            console.print(\"Don't panic\")\n    expected = \"\\x1b[?1049h\\x1b[H\\x1b[?25lDon't panic\\n\\x1b[?1049l\\x1b[?25h\"\n    result = capture.get()\n    print(repr(result))\n    assert result == expected\n@pytest.mark.skipif(sys.platform == \"win32\", reason=\"does not run on windows\")",
    "start_line": 725
  },
  {
    "file": "test_console.py",
    "type": "function",
    "class": null,
    "method": "test_screen_update",
    "name": "test_screen_update",
    "content": "def test_screen_update() -> None:",
    "start_line": 738
  },
  {
    "file": "test_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(\n        width=20, height=4, color_system=\"truecolor\", force_terminal=True, _environ={}\n    )\n    with console.capture() as capture:\n        with console.screen() as screen:\n            screen.update(\"foo\", style=\"blue\")\n            screen.update(\"bar\")\n            screen.update()\n    result = capture.get()\n    print(repr(result))\n    expected = \"\\x1b[?1049h\\x1b[H\\x1b[?25l\\x1b[34mfoo\\x1b[0m\\x1b[34m                 \\x1b[0m\\n\\x1b[34m                    \\x1b[0m\\n\\x1b[34m                    \\x1b[0m\\n\\x1b[34m                    \\x1b[0m\\x1b[34mbar\\x1b[0m\\x1b[34m                 \\x1b[0m\\n\\x1b[34m                    \\x1b[0m\\n\\x1b[34m                    \\x1b[0m\\n\\x1b[34m                    \\x1b[0m\\x1b[34mbar\\x1b[0m\\x1b[34m                 \\x1b[0m\\n\\x1b[34m                    \\x1b[0m\\n\\x1b[34m                    \\x1b[0m\\n\\x1b[34m                    \\x1b[0m\\x1b[?1049l\\x1b[?25h\"\n    assert result == expected",
    "start_line": 739
  },
  {
    "file": "test_console.py",
    "type": "function",
    "class": null,
    "method": "test_height",
    "name": "test_height",
    "content": "def test_height() -> None:",
    "start_line": 753
  },
  {
    "file": "test_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(width=80, height=46)\n    assert console.height == 46",
    "start_line": 754
  },
  {
    "file": "test_console.py",
    "type": "function",
    "class": null,
    "method": "test_columns_env",
    "name": "test_columns_env",
    "content": "def test_columns_env() -> None:",
    "start_line": 758
  },
  {
    "file": "test_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(_environ={\"COLUMNS\": \"314\"}, legacy_windows=False)\n    assert console.width == 314",
    "start_line": 759
  },
  {
    "file": "test_console.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# width take precedence",
    "start_line": 761
  },
  {
    "file": "test_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(width=40, _environ={\"COLUMNS\": \"314\"}, legacy_windows=False)\n    assert console.width == 40",
    "start_line": 762
  },
  {
    "file": "test_console.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# Should not fail",
    "start_line": 764
  },
  {
    "file": "test_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(width=40, _environ={\"COLUMNS\": \"broken\"}, legacy_windows=False)",
    "start_line": 765
  },
  {
    "file": "test_console.py",
    "type": "function",
    "class": null,
    "method": "test_lines_env",
    "name": "test_lines_env",
    "content": "def test_lines_env() -> None:",
    "start_line": 768
  },
  {
    "file": "test_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(_environ={\"LINES\": \"220\"})\n    assert console.height == 220",
    "start_line": 769
  },
  {
    "file": "test_console.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# height take precedence",
    "start_line": 771
  },
  {
    "file": "test_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(height=40, _environ={\"LINES\": \"220\"})\n    assert console.height == 40",
    "start_line": 772
  },
  {
    "file": "test_console.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# Should not fail",
    "start_line": 774
  },
  {
    "file": "test_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(width=40, _environ={\"LINES\": \"broken\"})",
    "start_line": 775
  },
  {
    "file": "test_console.py",
    "type": "function",
    "class": null,
    "method": "test_screen_update_class",
    "name": "test_screen_update_class",
    "content": "def test_screen_update_class() -> None:",
    "start_line": 778
  },
  {
    "file": "test_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "screen_update = ScreenUpdate([[Segment(\"foo\")], [Segment(\"bar\")]], 5, 10)\n    assert screen_update.x == 5\n    assert screen_update.y == 10\n    console = Console(force_terminal=True)\n    console.begin_capture()\n    console.print(screen_update)\n    result = console.end_capture()\n    print(repr(result))\n    expected = \"\\x1b[11;6Hfoo\\x1b[12;6Hbar\"\n    assert result == expected",
    "start_line": 779
  },
  {
    "file": "test_console.py",
    "type": "function",
    "class": null,
    "method": "test_is_alt_screen",
    "name": "test_is_alt_screen",
    "content": "def test_is_alt_screen() -> None:",
    "start_line": 792
  },
  {
    "file": "test_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(force_terminal=True)\n    if console.legacy_windows:\n        return\n    assert not console.is_alt_screen\n    with console.screen():\n        assert console.is_alt_screen\n    assert not console.is_alt_screen",
    "start_line": 793
  },
  {
    "file": "test_console.py",
    "type": "function",
    "class": null,
    "method": "test_set_console_title",
    "name": "test_set_console_title",
    "content": "def test_set_console_title() -> None:",
    "start_line": 802
  },
  {
    "file": "test_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(force_terminal=True, _environ={})\n    if console.legacy_windows:\n        return\n    with console.capture() as captured:\n        console.set_window_title(\"hello\")\n    result = captured.get()\n    assert result == \"\\x1b]0;hello\\x07\"",
    "start_line": 803
  },
  {
    "file": "test_console.py",
    "type": "function",
    "class": null,
    "method": "test_update_screen",
    "name": "test_update_screen",
    "content": "def test_update_screen() -> None:",
    "start_line": 814
  },
  {
    "file": "test_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(force_terminal=True, width=20, height=5, _environ={})\n    if console.legacy_windows:\n        return\n    with pytest.raises(errors.NoAltScreen):\n        console.update_screen(\"foo\")\n    console.begin_capture()\n    with console.screen():\n        console.update_screen(\"foo\")\n        console.update_screen(\"bar\", region=Region(2, 3, 8, 4))\n    result = console.end_capture()\n    print(repr(result))\n    expected = \"\\x1b[?1049h\\x1b[H\\x1b[?25l\\x1b[1;1Hfoo                 \\x1b[2;1H                    \\x1b[3;1H                    \\x1b[4;1H                    \\x1b[5;1H                    \\x1b[4;3Hbar     \\x1b[5;3H        \\x1b[6;3H        \\x1b[7;3H        \\x1b[?1049l\\x1b[?25h\"\n    assert result == expected",
    "start_line": 815
  },
  {
    "file": "test_console.py",
    "type": "function",
    "class": null,
    "method": "test_update_screen_lines",
    "name": "test_update_screen_lines",
    "content": "def test_update_screen_lines() -> None:",
    "start_line": 830
  },
  {
    "file": "test_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(force_terminal=True, width=20, height=5)\n    if console.legacy_windows:\n        return\n    with pytest.raises(errors.NoAltScreen):\n        console.update_screen_lines([])",
    "start_line": 831
  },
  {
    "file": "test_console.py",
    "type": "function",
    "class": null,
    "method": "test_update_options_markup",
    "name": "test_update_options_markup",
    "content": "def test_update_options_markup() -> None:",
    "start_line": 838
  },
  {
    "file": "test_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console()\n    options = console.options\n    assert options.update(markup=False).markup == False\n    assert options.update(markup=True).markup == True",
    "start_line": 839
  },
  {
    "file": "test_console.py",
    "type": "function",
    "class": null,
    "method": "test_print_width_zero",
    "name": "test_print_width_zero",
    "content": "def test_print_width_zero() -> None:",
    "start_line": 845
  },
  {
    "file": "test_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console()\n    with console.capture() as capture:\n        console.print(\"Hello\", width=0)\n    assert capture.get() == \"\"",
    "start_line": 846
  },
  {
    "file": "test_console.py",
    "type": "function",
    "class": null,
    "method": "test_size_properties",
    "name": "test_size_properties",
    "content": "def test_size_properties() -> None:",
    "start_line": 852
  },
  {
    "file": "test_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(width=80, height=25, legacy_windows=False)\n    assert console.size == ConsoleDimensions(80, 25)\n    console.size = (10, 20)\n    assert console.size == ConsoleDimensions(10, 20)\n    console.width = 5\n    assert console.size == ConsoleDimensions(5, 20)\n    console.height = 10\n    assert console.size == ConsoleDimensions(5, 10)",
    "start_line": 853
  },
  {
    "file": "test_console.py",
    "type": "function",
    "class": null,
    "method": "test_print_newline_start",
    "name": "test_print_newline_start",
    "content": "def test_print_newline_start() -> None:",
    "start_line": 863
  },
  {
    "file": "test_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(width=80, height=25)\n    console.begin_capture()\n    console.print(\"Foo\", new_line_start=True)\n    console.print(\"Foo\\nbar\\n\", new_line_start=True)\n    result = console.end_capture()\n    assert result == \"Foo\\n\\nFoo\\nbar\\n\\n\"",
    "start_line": 864
  },
  {
    "file": "test_console.py",
    "type": "function",
    "class": null,
    "method": "test_is_terminal_broken_file",
    "name": "test_is_terminal_broken_file",
    "content": "def test_is_terminal_broken_file() -> None:",
    "start_line": 873
  },
  {
    "file": "test_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console()",
    "start_line": 874
  },
  {
    "file": "test_console.py",
    "type": "function",
    "class": null,
    "method": "_mock_isatty",
    "name": "_mock_isatty",
    "content": "def _mock_isatty():\n        raise ValueError()\n\n    console.file.isatty = _mock_isatty\n\n    assert console.is_terminal == False\n\n\n@pytest.mark.skipif(sys.platform == \"win32\", reason=\"not relevant on Windows\")",
    "start_line": 876
  },
  {
    "file": "test_console.py",
    "type": "function",
    "class": null,
    "method": "test_detect_color_system",
    "name": "test_detect_color_system",
    "content": "def test_detect_color_system() -> None:",
    "start_line": 885
  },
  {
    "file": "test_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(_environ={\"TERM\": \"rxvt-unicode-256color\"}, force_terminal=True)\n    assert console._detect_color_system() == ColorSystem.EIGHT_BIT",
    "start_line": 886
  },
  {
    "file": "test_console.py",
    "type": "function",
    "class": null,
    "method": "test_reset_height",
    "name": "test_reset_height",
    "content": "def test_reset_height() -> None:\n    \"\"\"Test height is reset when rendering complex renderables.\"\"\"",
    "start_line": 890
  },
  {
    "file": "test_console.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# https://github.com/Textualize/rich/issues/2042",
    "start_line": 893
  },
  {
    "file": "test_console.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "Panels",
    "content": "class Panels:",
    "start_line": 894
  },
  {
    "file": "test_console.py",
    "type": "method",
    "class": "Panels",
    "method": "__rich_console__",
    "name": "__rich_console__",
    "content": "class Panels:\n        def __rich_console__(self, console, options):\n            yield Panel(\"foo\")\n            yield Panel(\"bar\")\n\n    console = Console(\n        force_terminal=True,\n        color_system=\"truecolor\",\n        width=20,\n        height=40,\n        legacy_windows=False,\n    )\n\n    with console.capture() as capture:\n        console.print(Panel(Panels()), height=12)\n    result = capture.get()\n    print(repr(result))\n    expected = \"\\n  \\n  foo           \\n  \\n  \\n  bar           \\n  \\n                  \\n                  \\n                  \\n                  \\n\\n\"\n\n    assert result == expected",
    "start_line": 895
  },
  {
    "file": "test_console.py",
    "type": "function",
    "class": null,
    "method": "test_render_lines_height_minus_vertical_pad_is_negative",
    "name": "test_render_lines_height_minus_vertical_pad_is_negative",
    "content": "def test_render_lines_height_minus_vertical_pad_is_negative() -> None:",
    "start_line": 916
  },
  {
    "file": "test_console.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# https://github.com/Textualize/textual/issues/389",
    "start_line": 917
  },
  {
    "file": "test_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(\n        force_terminal=True,\n        color_system=\"truecolor\",\n        width=20,\n        height=40,\n        legacy_windows=False,\n    )\n    options = console.options.update_height(1)",
    "start_line": 918
  },
  {
    "file": "test_console.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# Ensuring that no exception is raised...\n    console.render_lines(Padding(\"hello\", pad=(1, 0)), options=options)",
    "start_line": 927
  },
  {
    "file": "test_console.py",
    "type": "function",
    "class": null,
    "method": "test_recording_no_stdout_and_no_stderr_files",
    "name": "test_recording_no_stdout_and_no_stderr_files",
    "content": "def test_recording_no_stdout_and_no_stderr_files(monkeypatch) -> None:",
    "start_line": 931
  },
  {
    "file": "test_console.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# Rich should work even if there's no file available to write to.\n    # For example, pythonw nullifies output streams.\n    # Built-in print silently no-ops in pythonw.\n    # Related: https://github.com/Textualize/rich/issues/2400\n    monkeypatch.setattr(\"sys.stdout\", None)\n    monkeypatch.setattr(\"sys.stderr\", None)",
    "start_line": 932
  },
  {
    "file": "test_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(record=True)\n    console.print(\"hello world\")\n    text = console.export_text()\n    assert text == \"hello world\\n\"",
    "start_line": 938
  },
  {
    "file": "test_console.py",
    "type": "function",
    "class": null,
    "method": "test_capturing_no_stdout_and_no_stderr_files",
    "name": "test_capturing_no_stdout_and_no_stderr_files",
    "content": "def test_capturing_no_stdout_and_no_stderr_files(monkeypatch) -> None:\n    monkeypatch.setattr(\"sys.stdout\", None)\n    monkeypatch.setattr(\"sys.stderr\", None)",
    "start_line": 944
  },
  {
    "file": "test_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console()\n    with console.capture() as capture:\n        console.print(\"hello world\")\n    assert capture.get() == \"hello world\\n\"\n@pytest.mark.parametrize(\"env_value\", [\"\", \"something\", \"0\"])",
    "start_line": 947
  },
  {
    "file": "test_console.py",
    "type": "function",
    "class": null,
    "method": "test_force_color",
    "name": "test_force_color",
    "content": "def test_force_color(env_value) -> None:",
    "start_line": 954
  },
  {
    "file": "test_console.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# Even though we use a non-tty file, the presence of FORCE_COLOR env var\n    # means is_terminal returns True.",
    "start_line": 955
  },
  {
    "file": "test_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(file=io.StringIO(), _environ={\"FORCE_COLOR\": env_value})\n    assert console.is_terminal",
    "start_line": 957
  },
  {
    "file": "test_console.py",
    "type": "function",
    "class": null,
    "method": "test_force_color_jupyter",
    "name": "test_force_color_jupyter",
    "content": "def test_force_color_jupyter() -> None:",
    "start_line": 961
  },
  {
    "file": "test_console.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# FORCE_COLOR above doesn't happen in a Jupyter kernel",
    "start_line": 962
  },
  {
    "file": "test_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(\n        file=io.StringIO(), _environ={\"FORCE_COLOR\": \"1\"}, force_jupyter=True\n    )\n    assert not console.is_terminal",
    "start_line": 963
  },
  {
    "file": "test_console.py",
    "type": "function",
    "class": null,
    "method": "test_force_color",
    "name": "test_force_color",
    "content": "def test_force_color() -> None:",
    "start_line": 969
  },
  {
    "file": "test_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(\n        file=io.StringIO(),\n        _environ={\n            \"FORCE_COLOR\": \"1\",\n            \"TERM\": \"xterm-256color\",\n            \"COLORTERM\": \"truecolor\",\n        },\n    )\n    assert console.color_system in (\"truecolor\", \"windows\")",
    "start_line": 970
  },
  {
    "file": "test_console.py",
    "type": "function",
    "class": null,
    "method": "test_reenable_highlighting",
    "name": "test_reenable_highlighting",
    "content": "def test_reenable_highlighting() -> None:\n    \"\"\"Check that when highlighting is disabled, it can be reenabled in print()\"\"\"",
    "start_line": 981
  },
  {
    "file": "test_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(\n        file=io.StringIO(),\n        _environ={\n            \"FORCE_COLOR\": \"1\",\n            \"TERM\": \"xterm-256color\",\n            \"COLORTERM\": \"truecolor\",\n        },\n        highlight=False,\n    )\n    console.print(\"[1, 2, 3]\")\n    console.print(\"[1, 2, 3]\", highlight=True)\n    output = console.file.getvalue()\n    lines = output.splitlines()\n    print(repr(lines))",
    "start_line": 983
  },
  {
    "file": "test_console.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# First line not highlighted\n    assert lines[0] == \"[1, 2, 3]\"\n    # Second line highlighted\n    assert (\n        lines[1]\n        == \"\\x1b[1m[\\x1b[0m\\x1b[1;36m1\\x1b[0m, \\x1b[1;36m2\\x1b[0m, \\x1b[1;36m3\\x1b[0m\\x1b[1m]\\x1b[0m\"\n    )\n@pytest.mark.skipif(sys.platform == \"win32\", reason=\"does not run on windows\")",
    "start_line": 997
  },
  {
    "file": "test_console.py",
    "type": "function",
    "class": null,
    "method": "test_brokenpipeerror",
    "name": "test_brokenpipeerror",
    "content": "def test_brokenpipeerror() -> None:\n    \"\"\"Test BrokenPipe works as expected.\"\"\"\n    which_py, which_head = ([\"which\", cmd] for cmd in (\"python\", \"head\"))",
    "start_line": 1008
  },
  {
    "file": "test_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "rich_cmd = \"python -m rich\".split()\n    for cmd in [which_py, which_head, rich_cmd]:\n        check = subprocess.run(cmd).returncode\n        if check != 0:\n            return  # Only test on suitable Unix platforms\n    head_cmd = \"head -1\".split()\n    proc1 = subprocess.Popen(rich_cmd, stdout=subprocess.PIPE)\n    proc2 = subprocess.Popen(head_cmd, stdin=proc1.stdout, stdout=subprocess.PIPE)\n    proc1.stdout.close()\n    output, _ = proc2.communicate()\n    proc1.wait()\n    proc2.wait()\n    assert proc1.returncode == 1\n    assert proc2.returncode == 0",
    "start_line": 1011
  },
  {
    "file": "test_console.py",
    "type": "function",
    "class": null,
    "method": "test_capture_and_record",
    "name": "test_capture_and_record",
    "content": "def test_capture_and_record() -> None:\n    \"\"\"Regression test for https://github.com/Textualize/rich/issues/2563\"\"\"",
    "start_line": 1027
  },
  {
    "file": "test_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(record=True)\n    print(\"Before Capture started:\")\n    console.print(\"[blue underline]Print 0\")\n    with console.capture() as capture:\n        console.print(\"[blue underline]Print 1\")\n        console.print(\"[blue underline]Print 2\")\n        console.print(\"[blue underline]Print 3\")\n        console.print(\"[blue underline]Print 4\")\n    capture_content = capture.get()\n    print(repr(capture_content))\n    assert capture_content == \"Print 1\\nPrint 2\\nPrint 3\\nPrint 4\\n\"\n    recorded_content = console.export_text()\n    print(repr(recorded_content))\n    assert recorded_content == \"Print 0\\n\"",
    "start_line": 1030
  },
  {
    "file": "test_console.py",
    "type": "function",
    "class": null,
    "method": "test_tty_compatible",
    "name": "test_tty_compatible",
    "content": "def test_tty_compatible() -> None:\n    \"\"\"Check TTY_COMPATIBLE environment var.\"\"\"",
    "start_line": 1048
  },
  {
    "file": "test_console.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "FakeTTY",
    "content": "class FakeTTY:\n        \"\"\"An file file-like which reports it is a TTY.\"\"\"",
    "start_line": 1051
  },
  {
    "file": "test_console.py",
    "type": "method",
    "class": "FakeTTY",
    "method": "__init__",
    "name": "__init__",
    "content": "class FakeTTY:\n        def __init__(self) -> None:\n            self.called_isatty = False",
    "start_line": 1054
  },
  {
    "file": "test_console.py",
    "type": "method",
    "class": "FakeTTY",
    "method": "isatty",
    "name": "isatty",
    "content": "class FakeTTY:\n        def isatty(self) -> bool:\n            self.called_isatty = True\n            return True",
    "start_line": 1057
  },
  {
    "file": "test_console.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "FakeFile",
    "content": "class FakeFile:\n        \"\"\"A file object that reports False for isatty\"\"\"",
    "start_line": 1061
  },
  {
    "file": "test_console.py",
    "type": "method",
    "class": "FakeFile",
    "method": "__init__",
    "name": "__init__",
    "content": "class FakeFile:\n        def __init__(self) -> None:\n            self.called_isatty = False",
    "start_line": 1064
  },
  {
    "file": "test_console.py",
    "type": "method",
    "class": "FakeFile",
    "method": "isatty",
    "name": "isatty",
    "content": "class FakeFile:\n        def isatty(self) -> bool:\n            self.called_isatty = True\n            return False",
    "start_line": 1067
  },
  {
    "file": "test_console.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# Console file is not a TTY\n    console = Console(file=FakeFile())\n    # Not a TTY, so is_terminal should be False\n    assert not console.is_terminal\n    # Should have called isatty to auto-detect tty support\n    assert console.file.called_isatty\n    # Not a terminal",
    "start_line": 1071
  },
  {
    "file": "test_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(file=FakeFile(), _environ={\"TTY_COMPATIBLE\": \"1\"})",
    "start_line": 1079
  },
  {
    "file": "test_console.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# env TTY_COMPATIBLE=1 should report that it is a terminal\n    assert console.is_terminal\n    # Should not have called file.isattry\n    assert not console.file.called_isatty\n    # File is a fake TTY",
    "start_line": 1080
  },
  {
    "file": "test_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(file=FakeTTY())",
    "start_line": 1086
  },
  {
    "file": "test_console.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# Should report True\n    assert console.is_terminal\n    # SHould have auto-detected\n    assert console.file.called_isatty\n    # File is a fake TTY",
    "start_line": 1087
  },
  {
    "file": "test_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(file=FakeTTY(), _environ={\"TTY_COMPATIBLE\": \"\"})",
    "start_line": 1093
  },
  {
    "file": "test_console.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# Blank TTY_COMPATIBLE should auto-detect, so is_terminal is True\n    assert console.is_terminal\n    # Should have auto-detected\n    assert console.file.called_isatty\n    # File is a fake TTY",
    "start_line": 1094
  },
  {
    "file": "test_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(file=FakeTTY(), _environ={\"TTY_COMPATIBLE\": \"whatever\"})",
    "start_line": 1100
  },
  {
    "file": "test_console.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# Any pother value should auto-detect\n    assert console.is_terminal\n    # Should have auto-detected\n    assert console.file.called_isatty\n    # TTY_COMPATIBLE should override file.isattry",
    "start_line": 1101
  },
  {
    "file": "test_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(file=FakeTTY(), _environ={\"TTY_COMPATIBLE\": \"0\"})",
    "start_line": 1107
  },
  {
    "file": "test_console.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# Should report that it is *not* a terminal\n    assert not console.is_terminal\n    # Should not have auto-detected\n    assert not console.file.called_isatty",
    "start_line": 1108
  },
  {
    "file": "test_console.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "import datetime\nimport io\nimport os\nimport subprocess\nimport sys\nimport tempfile\nfrom typing import Optional, Tuple, Type, Union\nfrom unittest import mock\n\nimport pytest\n\nfrom rich import errors\nfrom rich._null_file import NullFile\nfrom rich.color import ColorSystem\nfrom rich.console import (\n    CaptureError,\n    Console,\n    ConsoleDimensions,\n    ConsoleOptions,\n    ScreenUpdate,\n    group,\n)\nfrom rich.control import Control\nfrom rich.measure import measure_renderables\nfrom rich.padding import Padding\nfrom rich.pager import SystemPager\nfrom rich.panel import Panel\nfrom rich.region import Region\nfrom rich.segment import Segment\nfrom rich.status import Status\nfrom rich.style import Style\nfrom rich.text import Text\n\nos.get_terminal_size\n\n\ndef test_dumb_terminal() -> None:\n    console = Console(force_terminal=True, _environ={})\n    assert console.color_system is not None\n\n    console = Console(force_terminal=True, _environ={\"TERM\": \"dumb\"})\n    assert console.color_system is None\n    width, height = console.size\n    assert width == 80\n    assert height == 25\n\n\ndef test_soft_wrap() -> None:\n    console = Console(file=io.StringIO(), width=20, soft_wrap=True)\n    console.print(\"foo \" * 10)\n    assert console.file.getvalue() == \"foo \" * 20\n\n\n@pytest.mark.skipif(sys.platform == \"win32\", reason=\"does not run on windows\")\ndef test_16color_terminal() -> None:\n    console = Console(\n        force_terminal=True, _environ={\"TERM\": \"xterm-16color\"}, legacy_windows=False\n    )\n    assert console.color_system == \"standard\"\n\n\n@pytest.mark.skipif(sys.platform == \"win32\", reason=\"does not run on windows\")\ndef test_truecolor_terminal() -> None:\n    console = Console(\n        force_terminal=True,\n        legacy_windows=False,\n        _environ={\"COLORTERM\": \"truecolor\", \"TERM\": \"xterm-16color\"},\n    )\n    assert console.color_system == \"truecolor\"\n\n\n@pytest.mark.skipif(sys.platform == \"win32\", reason=\"does not run on windows\")\ndef test_kitty_terminal() -> None:\n    console = Console(\n        force_terminal=True,\n        legacy_windows=False,\n        _environ={\"TERM\": \"xterm-kitty\"},\n    )\n    assert console.color_system == \"256\"\n\n\ndef test_console_options_update() -> None:\n    options = ConsoleOptions(\n        ConsoleDimensions(80, 25),\n        max_height=25,\n        legacy_windows=False,\n        min_width=10,\n        max_width=20,\n        is_terminal=False,\n        encoding=\"utf-8\",\n    )\n    options1 = options.update(width=15)\n    assert options1.min_width == 15 and options1.max_width == 15\n\n    options2 = options.update(min_width=5, max_width=15, justify=\"right\")\n    assert (\n        options2.min_width == 5\n        and options2.max_width == 15\n        and options2.justify == \"right\"\n    )\n\n    options_copy = options.update()\n    assert options_copy == options and options_copy is not options\n\n\ndef test_console_options_update_height() -> None:\n    options = ConsoleOptions(\n        ConsoleDimensions(80, 25),\n        max_height=25,\n        legacy_windows=False,\n        min_width=10,\n        max_width=20,\n        is_terminal=False,\n        encoding=\"utf-8\",\n    )\n    assert options.height is None\n    render_options = options.update_height(12)\n    assert options.height is None\n    assert render_options.height == 12\n    assert render_options.max_height == 12\n\n\ndef test_init() -> None:\n    console = Console(color_system=None)\n    assert console._color_system == None\n    console = Console(color_system=\"standard\")\n    assert console._color_system == ColorSystem.STANDARD\n    console = Console(color_system=\"auto\")\n\n\ndef test_size() -> None:\n    console = Console()\n    w, h = console.size\n    assert console.width == w\n\n    console = Console(width=99, height=101, legacy_windows=False)\n    w, h = console.size\n    assert w == 99 and h == 101\n\n\n@pytest.mark.parametrize(\n    \"is_windows,no_descriptor_size,stdin_size,stdout_size,stderr_size,expected_size\",\n    [\n        # on Windows we'll use `os.get_terminal_size()` without arguments...\n        (True, (133, 24), ValueError, ValueError, ValueError, (80, 25)),\n        (False, (133, 24), ValueError, ValueError, ValueError, (80, 25)),\n        # ...while on other OS we'll try to pass stdin, then stdout, then stderr to it:\n        (False, ValueError, (133, 24), ValueError, ValueError, (133, 24)),\n        (False, ValueError, ValueError, (133, 24), ValueError, (133, 24)),\n        (False, ValueError, ValueError, ValueError, (133, 24), (133, 24)),\n        (False, ValueError, ValueError, ValueError, ValueError, (80, 25)),\n    ],\n)\n@mock.patch(\"rich.console.os.get_terminal_size\")\ndef test_size_can_fall_back_to_std_descriptors(\n    get_terminal_size_mock: mock.MagicMock,\n    is_windows: bool,\n    no_descriptor_size: Union[Tuple[int, int], Type[ValueError]],\n    stdin_size: Union[Tuple[int, int], Type[ValueError]],\n    stdout_size: Union[Tuple[int, int], Type[ValueError]],\n    stderr_size: Union[Tuple[int, int], Type[ValueError]],\n    expected_size: Tuple[int, int],\n) -> None:\n    def get_terminal_size_mock_impl(fileno: int = None) -> Tuple[int, int]:\n        value = {\n            None: no_descriptor_size,\n            sys.__stdin__.fileno(): stdin_size,\n            sys.__stdout__.fileno(): stdout_size,\n            sys.__stderr__.fileno(): stderr_size,\n        }[fileno]\n        if value is ValueError:\n            raise value\n        return value\n\n    get_terminal_size_mock.side_effect = get_terminal_size_mock_impl\n\n    console = Console(legacy_windows=False)\n    with mock.patch(\"rich.console.WINDOWS\", new=is_windows):\n        w, h = console.size\n    assert (w, h) == expected_size\n\n\ndef test_repr() -> None:\n    console = Console()\n    assert isinstance(repr(console), str)\n    assert isinstance(str(console), str)\n\n\ndef test_print() -> None:\n    console = Console(file=io.StringIO(), color_system=\"truecolor\")\n    console.print(\"foo\")\n    assert console.file.getvalue() == \"foo\\n\"\n\n\ndef test_print_multiple() -> None:\n    console = Console(file=io.StringIO(), color_system=\"truecolor\")\n    console.print(\"foo\", \"bar\")\n    assert console.file.getvalue() == \"foo bar\\n\"\n\n\ndef test_print_text() -> None:\n    console = Console(file=io.StringIO(), color_system=\"truecolor\")\n    console.print(Text(\"foo\", style=\"bold\"))\n    assert console.file.getvalue() == \"\\x1b[1mfoo\\x1b[0m\\n\"\n\n\ndef test_print_text_multiple() -> None:\n    console = Console(file=io.StringIO(), color_system=\"truecolor\")\n    console.print(Text(\"foo\", style=\"bold\"), Text(\"bar\"), \"baz\")\n    assert console.file.getvalue() == \"\\x1b[1mfoo\\x1b[0m bar baz\\n\"\n\n\ndef test_print_json() -> None:\n    console = Console(file=io.StringIO(), color_system=\"truecolor\")\n    console.print_json('[false, true, null, \"foo\"]', indent=4)\n    result = console.file.getvalue()\n    print(repr(result))\n    expected = '\\x1b[1m[\\x1b[0m\\n    \\x1b[3;91mfalse\\x1b[0m,\\n    \\x1b[3;92mtrue\\x1b[0m,\\n    \\x1b[3;35mnull\\x1b[0m,\\n    \\x1b[32m\"foo\"\\x1b[0m\\n\\x1b[1m]\\x1b[0m\\n'\n    assert result == expected\n\n\ndef test_print_json_error() -> None:\n    console = Console(file=io.StringIO(), color_system=\"truecolor\")\n    with pytest.raises(TypeError):\n        console.print_json([\"foo\"], indent=4)\n\n\ndef test_print_json_data() -> None:\n    console = Console(file=io.StringIO(), color_system=\"truecolor\")\n    console.print_json(data=[False, True, None, \"foo\"], indent=4)\n    result = console.file.getvalue()\n    print(repr(result))\n    expected = '\\x1b[1m[\\x1b[0m\\n    \\x1b[3;91mfalse\\x1b[0m,\\n    \\x1b[3;92mtrue\\x1b[0m,\\n    \\x1b[3;35mnull\\x1b[0m,\\n    \\x1b[32m\"foo\"\\x1b[0m\\n\\x1b[1m]\\x1b[0m\\n'\n    assert result == expected\n\n\ndef test_print_json_ensure_ascii() -> None:\n    console = Console(file=io.StringIO(), color_system=\"truecolor\")\n    console.print_json(data={\"foo\": \"\"}, ensure_ascii=False)\n    result = console.file.getvalue()\n    print(repr(result))\n    expected = '\\x1b[1m{\\x1b[0m\\n  \\x1b[1;34m\"foo\"\\x1b[0m: \\x1b[32m\"\"\\x1b[0m\\n\\x1b[1m}\\x1b[0m\\n'\n    assert result == expected\n\n\ndef test_print_json_with_default_ensure_ascii() -> None:\n    console = Console(file=io.StringIO(), color_system=\"truecolor\")\n    console.print_json(data={\"foo\": \"\"})\n    result = console.file.getvalue()\n    print(repr(result))\n    expected = '\\x1b[1m{\\x1b[0m\\n  \\x1b[1;34m\"foo\"\\x1b[0m: \\x1b[32m\"\"\\x1b[0m\\n\\x1b[1m}\\x1b[0m\\n'\n    assert result == expected\n\n\ndef test_print_json_indent_none() -> None:\n    console = Console(file=io.StringIO(), color_system=\"truecolor\")\n    data = {\"name\": \"apple\", \"count\": 1}\n    console.print_json(data=data, indent=None)\n    result = console.file.getvalue()\n    expected = '\\x1b[1m{\\x1b[0m\\x1b[1;34m\"name\"\\x1b[0m: \\x1b[32m\"apple\"\\x1b[0m, \\x1b[1;34m\"count\"\\x1b[0m: \\x1b[1;36m1\\x1b[0m\\x1b[1m}\\x1b[0m\\n'\n    assert result == expected\n\n\ndef test_console_null_file(monkeypatch) -> None:\n    # When stdout and stderr are null, Console.file should be replaced with NullFile\n    monkeypatch.setattr(\"sys.stdout\", None)\n    monkeypatch.setattr(\"sys.stderr\", None)\n\n    console = Console()\n    assert isinstance(console.file, NullFile)\n\n\ndef test_log() -> None:\n    console = Console(\n        file=io.StringIO(),\n        width=80,\n        color_system=\"truecolor\",\n        log_time_format=\"TIME\",\n        log_path=False,\n        _environ={},\n    )\n    console.log(\"foo\", style=\"red\")\n    expected = \"\\x1b[2;36mTIME\\x1b[0m\\x1b[2;36m \\x1b[0m\\x1b[31mfoo                                                                        \\x1b[0m\\n\"\n    result = console.file.getvalue()\n    print(repr(result))\n    assert result == expected\n\n\ndef test_log_milliseconds() -> None:\n    def time_formatter(timestamp: datetime) -> Text:\n        return Text(\"TIME\")\n\n    console = Console(\n        file=io.StringIO(), width=40, log_time_format=time_formatter, log_path=False\n    )\n    console.log(\"foo\")\n    result = console.file.getvalue()\n    assert result == \"TIME foo                                \\n\"\n\n\ndef test_print_empty() -> None:\n    console = Console(file=io.StringIO(), color_system=\"truecolor\")\n    console.print()\n    assert console.file.getvalue() == \"\\n\"\n\n\ndef test_markup_highlight() -> None:\n    console = Console(file=io.StringIO(), color_system=\"truecolor\")\n    console.print(\"'[bold]foo[/bold]'\")\n    assert (\n        console.file.getvalue()\n        == \"\\x1b[32m'\\x1b[0m\\x1b[1;32mfoo\\x1b[0m\\x1b[32m'\\x1b[0m\\n\"\n    )\n\n\ndef test_print_style() -> None:\n    console = Console(file=io.StringIO(), color_system=\"truecolor\")\n    console.print(\"foo\", style=\"bold\")\n    assert console.file.getvalue() == \"\\x1b[1mfoo\\x1b[0m\\n\"\n\n\ndef test_show_cursor() -> None:\n    console = Console(\n        file=io.StringIO(), force_terminal=True, legacy_windows=False, _environ={}\n    )\n    console.show_cursor(False)\n    console.print(\"foo\")\n    console.show_cursor(True)\n    assert console.file.getvalue() == \"\\x1b[?25lfoo\\n\\x1b[?25h\"\n\n\ndef test_clear() -> None:\n    console = Console(file=io.StringIO(), force_terminal=True, _environ={})\n    console.clear()\n    console.clear(home=False)\n    assert console.file.getvalue() == \"\\033[2J\\033[H\" + \"\\033[2J\"\n\n\ndef test_clear_no_terminal() -> None:\n    console = Console(file=io.StringIO())\n    console.clear()\n    console.clear(home=False)\n    assert console.file.getvalue() == \"\"\n\n\ndef test_get_style() -> None:\n    console = Console()\n    console.get_style(\"repr.brace\") == Style(bold=True)\n\n\ndef test_get_style_default() -> None:\n    console = Console()\n    console.get_style(\"foobar\", default=\"red\") == Style(color=\"red\")\n\n\ndef test_get_style_error() -> None:\n    console = Console()\n    with pytest.raises(errors.MissingStyle):\n        console.get_style(\"nosuchstyle\")\n    with pytest.raises(errors.MissingStyle):\n        console.get_style(\"foo bar\")\n\n\ndef test_render_error() -> None:\n    console = Console()\n    with pytest.raises(errors.NotRenderableError):\n        list(console.render([], console.options))\n\n\ndef test_control() -> None:\n    console = Console(file=io.StringIO(), force_terminal=True, _environ={})\n    console.control(Control.clear())\n    console.print(\"BAR\")\n    assert console.file.getvalue() == \"\\x1b[2JBAR\\n\"\n\n\ndef test_capture() -> None:\n    console = Console()\n    with console.capture() as capture:\n        with pytest.raises(CaptureError):\n            capture.get()\n        console.print(\"Hello\")\n    assert capture.get() == \"Hello\\n\"\n\n\ndef test_input(monkeypatch, capsys) -> None:\n    def fake_input(prompt=\"\"):\n        console.file.write(prompt)\n        return \"bar\"\n\n    monkeypatch.setattr(\"builtins.input\", fake_input)\n    console = Console()\n    user_input = console.input(prompt=\"foo:\")\n    assert capsys.readouterr().out == \"foo:\"\n    assert user_input == \"bar\"\n\n\ndef test_input_password(monkeypatch, capsys) -> None:\n    def fake_input(prompt, stream=None):\n        console.file.write(prompt)\n        return \"bar\"\n\n    import rich.console\n\n    monkeypatch.setattr(rich.console, \"getpass\", fake_input)\n    console = Console()\n    user_input = console.input(prompt=\"foo:\", password=True)\n    assert capsys.readouterr().out == \"foo:\"\n    assert user_input == \"bar\"\n\n\ndef test_status() -> None:\n    console = Console(file=io.StringIO(), force_terminal=True, width=20)\n    status = console.status(\"foo\")\n    assert isinstance(status, Status)\n\n\ndef test_justify_none() -> None:\n    console = Console(file=io.StringIO(), force_terminal=True, width=20)\n    console.print(\"FOO\", justify=None)\n    assert console.file.getvalue() == \"FOO\\n\"\n\n\ndef test_justify_left() -> None:\n    console = Console(file=io.StringIO(), force_terminal=True, width=20, _environ={})\n    console.print(\"FOO\", justify=\"left\")\n    assert console.file.getvalue() == \"FOO                 \\n\"\n\n\ndef test_justify_center() -> None:\n    console = Console(file=io.StringIO(), force_terminal=True, width=20, _environ={})\n    console.print(\"FOO\", justify=\"center\")\n    assert console.file.getvalue() == \"        FOO         \\n\"\n\n\ndef test_justify_right() -> None:\n    console = Console(file=io.StringIO(), force_terminal=True, width=20, _environ={})\n    console.print(\"FOO\", justify=\"right\")\n    assert console.file.getvalue() == \"                 FOO\\n\"\n\n\ndef test_justify_renderable_none() -> None:\n    console = Console(\n        file=io.StringIO(),\n        force_terminal=True,\n        width=20,\n        legacy_windows=False,\n        _environ={},\n    )\n    console.print(Panel(\"FOO\", expand=False, padding=0), justify=None)\n    assert console.file.getvalue() == \"\\nFOO\\n\\n\"\n\n\ndef test_justify_renderable_left() -> None:\n    console = Console(\n        file=io.StringIO(),\n        force_terminal=True,\n        width=10,\n        legacy_windows=False,\n        _environ={},\n    )\n    console.print(Panel(\"FOO\", expand=False, padding=0), justify=\"left\")\n    assert console.file.getvalue() == \"     \\nFOO     \\n     \\n\"\n\n\ndef test_justify_renderable_center() -> None:\n    console = Console(\n        file=io.StringIO(),\n        force_terminal=True,\n        width=10,\n        legacy_windows=False,\n        _environ={},\n    )\n    console.print(Panel(\"FOO\", expand=False, padding=0), justify=\"center\")\n    assert console.file.getvalue() == \"     \\n  FOO   \\n     \\n\"\n\n\ndef test_justify_renderable_right() -> None:\n    console = Console(\n        file=io.StringIO(),\n        force_terminal=True,\n        width=20,\n        legacy_windows=False,\n        _environ={},\n    )\n    console.print(Panel(\"FOO\", expand=False, padding=0), justify=\"right\")\n    assert (\n        console.file.getvalue()\n        == \"               \\n               FOO\\n               \\n\"\n    )\n\n\nclass BrokenRenderable:\n    def __rich_console__(self, console, options):\n        pass\n\n\ndef test_render_broken_renderable() -> None:\n    console = Console()\n    broken = BrokenRenderable()\n    with pytest.raises(errors.NotRenderableError):\n        list(console.render(broken, console.options))\n\n\ndef test_export_text() -> None:\n    console = Console(record=True, width=100)\n    console.print(\"[b]foo\")\n    text = console.export_text()\n    expected = \"foo\\n\"\n    assert text == expected\n\n\ndef test_export_html() -> None:\n    console = Console(record=True, width=100)\n    console.print(\"[b]foo <script> 'test' [link=https://example.org]Click[/link]\")\n    html = console.export_html()\n    print(repr(html))\n    expected = '<!DOCTYPE html>\\n<html>\\n<head>\\n<meta charset=\"UTF-8\">\\n<style>\\n.r1 {font-weight: bold}\\n.r2 {color: #ff00ff; text-decoration-color: #ff00ff; font-weight: bold}\\n.r3 {color: #008000; text-decoration-color: #008000; font-weight: bold}\\nbody {\\n    color: #000000;\\n    background-color: #ffffff;\\n}\\n</style>\\n</head>\\n<body>\\n    <pre style=\"font-family:Menlo,\\'DejaVu Sans Mono\\',consolas,\\'Courier New\\',monospace\"><code style=\"font-family:inherit\"><span class=\"r1\">foo &lt;</span><span class=\"r2\">script</span><span class=\"r1\">&gt; </span><span class=\"r3\">&#x27;test&#x27;</span><span class=\"r1\"> </span><a class=\"r1\" href=\"https://example.org\">Click</a>\\n</code></pre>\\n</body>\\n</html>\\n'\n    assert html == expected\n\n\ndef test_export_html_inline() -> None:\n    console = Console(record=True, width=100)\n    console.print(\"[b]foo [link=https://example.org]Click[/link]\")\n    html = console.export_html(inline_styles=True)\n    print(repr(html))\n    expected = '<!DOCTYPE html>\\n<html>\\n<head>\\n<meta charset=\"UTF-8\">\\n<style>\\n\\nbody {\\n    color: #000000;\\n    background-color: #ffffff;\\n}\\n</style>\\n</head>\\n<body>\\n    <pre style=\"font-family:Menlo,\\'DejaVu Sans Mono\\',consolas,\\'Courier New\\',monospace\"><code style=\"font-family:inherit\"><span style=\"font-weight: bold\">foo </span><span style=\"font-weight: bold\"><a href=\"https://example.org\">Click</a></span>\\n</code></pre>\\n</body>\\n</html>\\n'\n    assert html == expected\n\n\nEXPECTED_SVG = '<svg class=\"rich-terminal\" viewBox=\"0 0 1238 74.4\" xmlns=\"http://www.w3.org/2000/svg\">\\n    <!-- Generated with Rich https://www.textualize.io -->\\n    <style>\\n\\n    @font-face {\\n        font-family: \"Fira Code\";\\n        src: local(\"FiraCode-Regular\"),\\n                url(\"https://cdnjs.cloudflare.com/ajax/libs/firacode/6.2.0/woff2/FiraCode-Regular.woff2\") format(\"woff2\"),\\n                url(\"https://cdnjs.cloudflare.com/ajax/libs/firacode/6.2.0/woff/FiraCode-Regular.woff\") format(\"woff\");\\n        font-style: normal;\\n        font-weight: 400;\\n    }\\n    @font-face {\\n        font-family: \"Fira Code\";\\n        src: local(\"FiraCode-Bold\"),\\n                url(\"https://cdnjs.cloudflare.com/ajax/libs/firacode/6.2.0/woff2/FiraCode-Bold.woff2\") format(\"woff2\"),\\n                url(\"https://cdnjs.cloudflare.com/ajax/libs/firacode/6.2.0/woff/FiraCode-Bold.woff\") format(\"woff\");\\n        font-style: bold;\\n        font-weight: 700;\\n    }\\n\\n    .terminal-3526644552-matrix {\\n        font-family: Fira Code, monospace;\\n        font-size: 20px;\\n        line-height: 24.4px;\\n        font-variant-east-asian: full-width;\\n    }\\n\\n    .terminal-3526644552-title {\\n        font-size: 18px;\\n        font-weight: bold;\\n        font-family: arial;\\n    }\\n\\n    .terminal-3526644552-r1 { fill: #608ab1;font-weight: bold }\\n.terminal-3526644552-r2 { fill: #c5c8c6 }\\n    </style>\\n\\n    <defs>\\n    <clipPath id=\"terminal-3526644552-clip-terminal\">\\n      <rect x=\"0\" y=\"0\" width=\"1219.0\" height=\"23.4\" />\\n    </clipPath>\\n    \\n    </defs>\\n\\n    <rect fill=\"#292929\" stroke=\"rgba(255,255,255,0.35)\" stroke-width=\"1\" x=\"1\" y=\"1\" width=\"1236\" height=\"72.4\" rx=\"8\"/><text class=\"terminal-3526644552-title\" fill=\"#c5c8c6\" text-anchor=\"middle\" x=\"618\" y=\"27\">Rich</text>\\n            <g transform=\"translate(26,22)\">\\n            <circle cx=\"0\" cy=\"0\" r=\"7\" fill=\"#ff5f57\"/>\\n            <circle cx=\"22\" cy=\"0\" r=\"7\" fill=\"#febc2e\"/>\\n            <circle cx=\"44\" cy=\"0\" r=\"7\" fill=\"#28c840\"/>\\n            </g>\\n        \\n    <g transform=\"translate(9, 41)\" clip-path=\"url(#terminal-3526644552-clip-terminal)\">\\n    <rect fill=\"#cc555a\" x=\"0\" y=\"1.5\" width=\"36.6\" height=\"24.65\" shape-rendering=\"crispEdges\"/>\\n    <g class=\"terminal-3526644552-matrix\">\\n    <text class=\"terminal-3526644552-r1\" x=\"0\" y=\"20\" textLength=\"36.6\" clip-path=\"url(#terminal-3526644552-line-0)\">foo</text><text class=\"terminal-3526644552-r2\" x=\"48.8\" y=\"20\" textLength=\"61\" clip-path=\"url(#terminal-3526644552-line-0)\">Click</text><text class=\"terminal-3526644552-r2\" x=\"1220\" y=\"20\" textLength=\"12.2\" clip-path=\"url(#terminal-3526644552-line-0)\">\\n</text>\\n    </g>\\n    </g>\\n</svg>\\n'\n\n\ndef test_export_svg() -> None:\n    console = Console(record=True, width=100)\n    console.print(\n        \"[b red on blue reverse]foo[/] [blink][link=https://example.org]Click[/link]\"\n    )\n    svg = console.export_svg()\n    print(repr(svg))\n\n    assert svg == EXPECTED_SVG\n\n\ndef test_export_svg_specified_unique_id() -> None:\n    expected_svg = EXPECTED_SVG.replace(\"terminal-3526644552\", \"given-id\")\n    console = Console(record=True, width=100)\n    console.print(\n        \"[b red on blue reverse]foo[/] [blink][link=https://example.org]Click[/link]\"\n    )\n    svg = console.export_svg(unique_id=\"given-id\")\n    print(repr(svg))\n\n    assert svg == expected_svg\n\n\ndef test_save_svg() -> None:\n    console = Console(record=True, width=100)\n    console.print(\n        \"[b red on blue reverse]foo[/] [blink][link=https://example.org]Click[/link]\"\n    )\n    with tempfile.TemporaryDirectory() as path:\n        export_path = os.path.join(path, \"example.svg\")\n        console.save_svg(export_path)\n        with open(export_path, \"rt\", encoding=\"utf-8\") as svg_file:\n            assert svg_file.read() == EXPECTED_SVG\n\n\ndef test_save_text() -> None:\n    console = Console(record=True, width=100)\n    console.print(\"foo\")\n    with tempfile.TemporaryDirectory() as path:\n        export_path = os.path.join(path, \"rich.txt\")\n        console.save_text(export_path)\n        with open(export_path, \"rt\") as text_file:\n            assert text_file.read() == \"foo\\n\"\n\n\ndef test_save_html() -> None:\n    expected = '<!DOCTYPE html>\\n<html>\\n<head>\\n<meta charset=\"UTF-8\">\\n<style>\\n\\nbody {\\n    color: #000000;\\n    background-color: #ffffff;\\n}\\n</style>\\n</head>\\n<body>\\n    <pre style=\"font-family:Menlo,\\'DejaVu Sans Mono\\',consolas,\\'Courier New\\',monospace\"><code style=\"font-family:inherit\">foo\\n</code></pre>\\n</body>\\n</html>\\n'\n    console = Console(record=True, width=100)\n    console.print(\"foo\")\n    with tempfile.TemporaryDirectory() as path:\n        export_path = os.path.join(path, \"example.html\")\n        console.save_html(export_path)\n        with open(export_path, \"rt\") as html_file:\n            html = html_file.read()\n            print(repr(html))\n            assert html == expected\n\n\ndef test_no_wrap() -> None:\n    console = Console(width=10, file=io.StringIO())\n    console.print(\"foo bar baz egg\", no_wrap=True)\n    assert console.file.getvalue() == \"foo bar ba\\n\"\n\n\ndef test_soft_wrap() -> None:\n    console = Console(width=10, file=io.StringIO())\n    console.print(\"foo bar baz egg\", soft_wrap=True)\n    assert console.file.getvalue() == \"foo bar baz egg\\n\"\n\n\ndef test_unicode_error() -> None:\n    try:\n        with tempfile.TemporaryFile(\"wt\", encoding=\"ascii\") as tmpfile:\n            console = Console(file=tmpfile)\n            console.print(\":vampire:\")\n    except UnicodeEncodeError as error:\n        assert \"PYTHONIOENCODING\" in str(error)\n    else:\n        assert False, \"didn't raise UnicodeEncodeError\"\n\n\ndef test_bell() -> None:\n    console = Console(force_terminal=True, _environ={})\n    console.begin_capture()\n    console.bell()\n    assert console.end_capture() == \"\\x07\"\n\n\ndef test_pager() -> None:\n    console = Console(_environ={})\n\n    pager_content: Optional[str] = None\n\n    def mock_pager(content: str) -> None:\n        nonlocal pager_content\n        pager_content = content\n\n    pager = SystemPager()\n    pager._pager = mock_pager\n\n    with console.pager(pager):\n        console.print(\"[bold]Hello World\")\n    assert pager_content == \"Hello World\\n\"\n\n    with console.pager(pager, styles=True, links=False):\n        console.print(\"[bold link https:/example.org]Hello World\")\n\n    assert pager_content == \"Hello World\\n\"\n\n\ndef test_out() -> None:\n    console = Console(width=10)\n    console.begin_capture()\n    console.out(*([\"foo bar\"] * 5), sep=\".\", end=\"X\")\n    assert console.end_capture() == \"foo bar.foo bar.foo bar.foo bar.foo barX\"\n\n\ndef test_render_group() -> None:\n    @group(fit=False)\n    def renderable():\n        yield \"one\"\n        yield \"two\"\n        yield \"three\"  # <- largest width of 5\n        yield \"four\"\n\n    renderables = [renderable() for _ in range(4)]\n    console = Console(width=42)\n    min_width, _ = measure_renderables(console, console.options, renderables)\n    assert min_width == 42\n\n\ndef test_render_group_fit() -> None:\n    @group()\n    def renderable():\n        yield \"one\"\n        yield \"two\"\n        yield \"three\"  # <- largest width of 5\n        yield \"four\"\n\n    renderables = [renderable() for _ in range(4)]\n\n    console = Console(width=42)\n\n    min_width, _ = measure_renderables(console, console.options, renderables)\n    assert min_width == 5\n\n\ndef test_get_time() -> None:\n    console = Console(\n        get_time=lambda: 99, get_datetime=lambda: datetime.datetime(1974, 7, 5)\n    )\n    assert console.get_time() == 99\n    assert console.get_datetime() == datetime.datetime(1974, 7, 5)\n\n\ndef test_console_style() -> None:\n    console = Console(\n        file=io.StringIO(), color_system=\"truecolor\", force_terminal=True, style=\"red\"\n    )\n    console.print(\"foo\")\n    expected = \"\\x1b[31mfoo\\x1b[0m\\n\"\n    result = console.file.getvalue()\n    assert result == expected\n\n\ndef test_no_color() -> None:\n    console = Console(\n        file=io.StringIO(), color_system=\"truecolor\", force_terminal=True, no_color=True\n    )\n    console.print(\"[bold magenta on red]FOO\")\n    expected = \"\\x1b[1mFOO\\x1b[0m\\n\"\n    result = console.file.getvalue()\n    print(repr(result))\n    assert result == expected\n\n\ndef test_quiet() -> None:\n    console = Console(file=io.StringIO(), quiet=True)\n    console.print(\"Hello, World!\")\n    assert console.file.getvalue() == \"\"\n\n\ndef test_no_nested_live() -> None:\n    console = Console()\n    with pytest.raises(errors.LiveError):\n        with console.status(\"foo\"):\n            with console.status(\"bar\"):\n                pass\n\n\n@pytest.mark.skipif(sys.platform == \"win32\", reason=\"does not run on windows\")\ndef test_screen() -> None:\n    console = Console(\n        color_system=None, force_terminal=True, force_interactive=True, _environ={}\n    )\n    with console.capture() as capture:\n        with console.screen():\n            console.print(\"Don't panic\")\n    expected = \"\\x1b[?1049h\\x1b[H\\x1b[?25lDon't panic\\n\\x1b[?1049l\\x1b[?25h\"\n    result = capture.get()\n    print(repr(result))\n    assert result == expected\n\n\n@pytest.mark.skipif(sys.platform == \"win32\", reason=\"does not run on windows\")\ndef test_screen_update() -> None:\n    console = Console(\n        width=20, height=4, color_system=\"truecolor\", force_terminal=True, _environ={}\n    )\n    with console.capture() as capture:\n        with console.screen() as screen:\n            screen.update(\"foo\", style=\"blue\")\n            screen.update(\"bar\")\n            screen.update()\n    result = capture.get()\n    print(repr(result))\n    expected = \"\\x1b[?1049h\\x1b[H\\x1b[?25l\\x1b[34mfoo\\x1b[0m\\x1b[34m                 \\x1b[0m\\n\\x1b[34m                    \\x1b[0m\\n\\x1b[34m                    \\x1b[0m\\n\\x1b[34m                    \\x1b[0m\\x1b[34mbar\\x1b[0m\\x1b[34m                 \\x1b[0m\\n\\x1b[34m                    \\x1b[0m\\n\\x1b[34m                    \\x1b[0m\\n\\x1b[34m                    \\x1b[0m\\x1b[34mbar\\x1b[0m\\x1b[34m                 \\x1b[0m\\n\\x1b[34m                    \\x1b[0m\\n\\x1b[34m                    \\x1b[0m\\n\\x1b[34m                    \\x1b[0m\\x1b[?1049l\\x1b[?25h\"\n    assert result == expected\n\n\ndef test_height() -> None:\n    console = Console(width=80, height=46)\n    assert console.height == 46\n\n\ndef test_columns_env() -> None:\n    console = Console(_environ={\"COLUMNS\": \"314\"}, legacy_windows=False)\n    assert console.width == 314\n    # width take precedence\n    console = Console(width=40, _environ={\"COLUMNS\": \"314\"}, legacy_windows=False)\n    assert console.width == 40\n    # Should not fail\n    console = Console(width=40, _environ={\"COLUMNS\": \"broken\"}, legacy_windows=False)\n\n\ndef test_lines_env() -> None:\n    console = Console(_environ={\"LINES\": \"220\"})\n    assert console.height == 220\n    # height take precedence\n    console = Console(height=40, _environ={\"LINES\": \"220\"})\n    assert console.height == 40\n    # Should not fail\n    console = Console(width=40, _environ={\"LINES\": \"broken\"})\n\n\ndef test_screen_update_class() -> None:\n    screen_update = ScreenUpdate([[Segment(\"foo\")], [Segment(\"bar\")]], 5, 10)\n    assert screen_update.x == 5\n    assert screen_update.y == 10\n\n    console = Console(force_terminal=True)\n    console.begin_capture()\n    console.print(screen_update)\n    result = console.end_capture()\n    print(repr(result))\n    expected = \"\\x1b[11;6Hfoo\\x1b[12;6Hbar\"\n    assert result == expected\n\n\ndef test_is_alt_screen() -> None:\n    console = Console(force_terminal=True)\n    if console.legacy_windows:\n        return\n    assert not console.is_alt_screen\n    with console.screen():\n        assert console.is_alt_screen\n    assert not console.is_alt_screen\n\n\ndef test_set_console_title() -> None:\n    console = Console(force_terminal=True, _environ={})\n    if console.legacy_windows:\n        return\n\n    with console.capture() as captured:\n        console.set_window_title(\"hello\")\n\n    result = captured.get()\n    assert result == \"\\x1b]0;hello\\x07\"\n\n\ndef test_update_screen() -> None:\n    console = Console(force_terminal=True, width=20, height=5, _environ={})\n    if console.legacy_windows:\n        return\n    with pytest.raises(errors.NoAltScreen):\n        console.update_screen(\"foo\")\n    console.begin_capture()\n    with console.screen():\n        console.update_screen(\"foo\")\n        console.update_screen(\"bar\", region=Region(2, 3, 8, 4))\n    result = console.end_capture()\n    print(repr(result))\n    expected = \"\\x1b[?1049h\\x1b[H\\x1b[?25l\\x1b[1;1Hfoo                 \\x1b[2;1H                    \\x1b[3;1H                    \\x1b[4;1H                    \\x1b[5;1H                    \\x1b[4;3Hbar     \\x1b[5;3H        \\x1b[6;3H        \\x1b[7;3H        \\x1b[?1049l\\x1b[?25h\"\n    assert result == expected\n\n\ndef test_update_screen_lines() -> None:\n    console = Console(force_terminal=True, width=20, height=5)\n    if console.legacy_windows:\n        return\n    with pytest.raises(errors.NoAltScreen):\n        console.update_screen_lines([])\n\n\ndef test_update_options_markup() -> None:\n    console = Console()\n    options = console.options\n    assert options.update(markup=False).markup == False\n    assert options.update(markup=True).markup == True\n\n\ndef test_print_width_zero() -> None:\n    console = Console()\n    with console.capture() as capture:\n        console.print(\"Hello\", width=0)\n    assert capture.get() == \"\"\n\n\ndef test_size_properties() -> None:\n    console = Console(width=80, height=25, legacy_windows=False)\n    assert console.size == ConsoleDimensions(80, 25)\n    console.size = (10, 20)\n    assert console.size == ConsoleDimensions(10, 20)\n    console.width = 5\n    assert console.size == ConsoleDimensions(5, 20)\n    console.height = 10\n    assert console.size == ConsoleDimensions(5, 10)\n\n\ndef test_print_newline_start() -> None:\n    console = Console(width=80, height=25)\n    console.begin_capture()\n    console.print(\"Foo\", new_line_start=True)\n    console.print(\"Foo\\nbar\\n\", new_line_start=True)\n    result = console.end_capture()\n\n    assert result == \"Foo\\n\\nFoo\\nbar\\n\\n\"\n\n\ndef test_is_terminal_broken_file() -> None:\n    console = Console()\n\n    def _mock_isatty():\n        raise ValueError()\n\n    console.file.isatty = _mock_isatty\n\n    assert console.is_terminal == False\n\n\n@pytest.mark.skipif(sys.platform == \"win32\", reason=\"not relevant on Windows\")\ndef test_detect_color_system() -> None:\n    console = Console(_environ={\"TERM\": \"rxvt-unicode-256color\"}, force_terminal=True)\n    assert console._detect_color_system() == ColorSystem.EIGHT_BIT\n\n\ndef test_reset_height() -> None:\n    \"\"\"Test height is reset when rendering complex renderables.\"\"\"\n\n    # https://github.com/Textualize/rich/issues/2042\n    class Panels:\n        def __rich_console__(self, console, options):\n            yield Panel(\"foo\")\n            yield Panel(\"bar\")\n\n    console = Console(\n        force_terminal=True,\n        color_system=\"truecolor\",\n        width=20,\n        height=40,\n        legacy_windows=False,\n    )\n\n    with console.capture() as capture:\n        console.print(Panel(Panels()), height=12)\n    result = capture.get()\n    print(repr(result))\n    expected = \"\\n  \\n  foo           \\n  \\n  \\n  bar           \\n  \\n                  \\n                  \\n                  \\n                  \\n\\n\"\n\n    assert result == expected\n\n\ndef test_render_lines_height_minus_vertical_pad_is_negative() -> None:\n    # https://github.com/Textualize/textual/issues/389\n    console = Console(\n        force_terminal=True,\n        color_system=\"truecolor\",\n        width=20,\n        height=40,\n        legacy_windows=False,\n    )\n    options = console.options.update_height(1)\n\n    # Ensuring that no exception is raised...\n    console.render_lines(Padding(\"hello\", pad=(1, 0)), options=options)\n\n\ndef test_recording_no_stdout_and_no_stderr_files(monkeypatch) -> None:\n    # Rich should work even if there's no file available to write to.\n    # For example, pythonw nullifies output streams.\n    # Built-in print silently no-ops in pythonw.\n    # Related: https://github.com/Textualize/rich/issues/2400\n    monkeypatch.setattr(\"sys.stdout\", None)\n    monkeypatch.setattr(\"sys.stderr\", None)\n    console = Console(record=True)\n    console.print(\"hello world\")\n    text = console.export_text()\n    assert text == \"hello world\\n\"\n\n\ndef test_capturing_no_stdout_and_no_stderr_files(monkeypatch) -> None:\n    monkeypatch.setattr(\"sys.stdout\", None)\n    monkeypatch.setattr(\"sys.stderr\", None)\n    console = Console()\n    with console.capture() as capture:\n        console.print(\"hello world\")\n    assert capture.get() == \"hello world\\n\"\n\n\n@pytest.mark.parametrize(\"env_value\", [\"\", \"something\", \"0\"])\ndef test_force_color(env_value) -> None:\n    # Even though we use a non-tty file, the presence of FORCE_COLOR env var\n    # means is_terminal returns True.\n    console = Console(file=io.StringIO(), _environ={\"FORCE_COLOR\": env_value})\n    assert console.is_terminal\n\n\ndef test_force_color_jupyter() -> None:\n    # FORCE_COLOR above doesn't happen in a Jupyter kernel\n    console = Console(\n        file=io.StringIO(), _environ={\"FORCE_COLOR\": \"1\"}, force_jupyter=True\n    )\n    assert not console.is_terminal\n\n\ndef test_force_color() -> None:\n    console = Console(\n        file=io.StringIO(),\n        _environ={\n            \"FORCE_COLOR\": \"1\",\n            \"TERM\": \"xterm-256color\",\n            \"COLORTERM\": \"truecolor\",\n        },\n    )\n    assert console.color_system in (\"truecolor\", \"windows\")\n\n\ndef test_reenable_highlighting() -> None:\n    \"\"\"Check that when highlighting is disabled, it can be reenabled in print()\"\"\"\n    console = Console(\n        file=io.StringIO(),\n        _environ={\n            \"FORCE_COLOR\": \"1\",\n            \"TERM\": \"xterm-256color\",\n            \"COLORTERM\": \"truecolor\",\n        },\n        highlight=False,\n    )\n    console.print(\"[1, 2, 3]\")\n    console.print(\"[1, 2, 3]\", highlight=True)\n    output = console.file.getvalue()\n    lines = output.splitlines()\n    print(repr(lines))\n    # First line not highlighted\n    assert lines[0] == \"[1, 2, 3]\"\n    # Second line highlighted\n\n    assert (\n        lines[1]\n        == \"\\x1b[1m[\\x1b[0m\\x1b[1;36m1\\x1b[0m, \\x1b[1;36m2\\x1b[0m, \\x1b[1;36m3\\x1b[0m\\x1b[1m]\\x1b[0m\"\n    )\n\n\n@pytest.mark.skipif(sys.platform == \"win32\", reason=\"does not run on windows\")\ndef test_brokenpipeerror() -> None:\n    \"\"\"Test BrokenPipe works as expected.\"\"\"\n    which_py, which_head = ([\"which\", cmd] for cmd in (\"python\", \"head\"))\n    rich_cmd = \"python -m rich\".split()\n    for cmd in [which_py, which_head, rich_cmd]:\n        check = subprocess.run(cmd).returncode\n        if check != 0:\n            return  # Only test on suitable Unix platforms\n    head_cmd = \"head -1\".split()\n    proc1 = subprocess.Popen(rich_cmd, stdout=subprocess.PIPE)\n    proc2 = subprocess.Popen(head_cmd, stdin=proc1.stdout, stdout=subprocess.PIPE)\n    proc1.stdout.close()\n    output, _ = proc2.communicate()\n    proc1.wait()\n    proc2.wait()\n    assert proc1.returncode == 1\n    assert proc2.returncode == 0\n\n\ndef test_capture_and_record() -> None:\n    \"\"\"Regression test for https://github.com/Textualize/rich/issues/2563\"\"\"\n\n    console = Console(record=True)\n    print(\"Before Capture started:\")\n    console.print(\"[blue underline]Print 0\")\n    with console.capture() as capture:\n        console.print(\"[blue underline]Print 1\")\n        console.print(\"[blue underline]Print 2\")\n        console.print(\"[blue underline]Print 3\")\n        console.print(\"[blue underline]Print 4\")\n\n    capture_content = capture.get()\n    print(repr(capture_content))\n    assert capture_content == \"Print 1\\nPrint 2\\nPrint 3\\nPrint 4\\n\"\n\n    recorded_content = console.export_text()\n    print(repr(recorded_content))\n    assert recorded_content == \"Print 0\\n\"\n\n\ndef test_tty_compatible() -> None:\n    \"\"\"Check TTY_COMPATIBLE environment var.\"\"\"\n\n    class FakeTTY:\n        \"\"\"An file file-like which reports it is a TTY.\"\"\"\n\n        def __init__(self) -> None:\n            self.called_isatty = False\n\n        def isatty(self) -> bool:\n            self.called_isatty = True\n            return True\n\n    class FakeFile:\n        \"\"\"A file object that reports False for isatty\"\"\"\n\n        def __init__(self) -> None:\n            self.called_isatty = False\n\n        def isatty(self) -> bool:\n            self.called_isatty = True\n            return False\n\n    # Console file is not a TTY\n    console = Console(file=FakeFile())\n    # Not a TTY, so is_terminal should be False\n    assert not console.is_terminal\n    # Should have called isatty to auto-detect tty support\n    assert console.file.called_isatty\n\n    # Not a terminal\n    console = Console(file=FakeFile(), _environ={\"TTY_COMPATIBLE\": \"1\"})\n    # env TTY_COMPATIBLE=1 should report that it is a terminal\n    assert console.is_terminal\n    # Should not have called file.isattry\n    assert not console.file.called_isatty\n\n    # File is a fake TTY\n    console = Console(file=FakeTTY())\n    # Should report True\n    assert console.is_terminal\n    # SHould have auto-detected\n    assert console.file.called_isatty\n\n    # File is a fake TTY\n    console = Console(file=FakeTTY(), _environ={\"TTY_COMPATIBLE\": \"\"})\n    # Blank TTY_COMPATIBLE should auto-detect, so is_terminal is True\n    assert console.is_terminal\n    # Should have auto-detected\n    assert console.file.called_isatty\n\n    # File is a fake TTY\n    console = Console(file=FakeTTY(), _environ={\"TTY_COMPATIBLE\": \"whatever\"})\n    # Any pother value should auto-detect\n    assert console.is_terminal\n    # Should have auto-detected\n    assert console.file.called_isatty\n\n    # TTY_COMPATIBLE should override file.isattry\n    console = Console(file=FakeTTY(), _environ={\"TTY_COMPATIBLE\": \"0\"})\n    # Should report that it is *not* a terminal\n    assert not console.is_terminal\n    # Should not have auto-detected\n    assert not console.file.called_isatty\n",
    "start_line": 0
  },
  {
    "file": "test_constrain.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from rich.console import Console\nfrom rich.constrain import Constrain\nfrom rich.text import Text",
    "start_line": 0
  },
  {
    "file": "test_constrain.py",
    "type": "function",
    "class": null,
    "method": "test_width_of_none",
    "name": "test_width_of_none",
    "content": "def test_width_of_none():",
    "start_line": 5
  },
  {
    "file": "test_constrain.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console()\n    constrain = Constrain(Text(\"foo\"), width=None)\n    min_width, max_width = constrain.__rich_measure__(\n        console, console.options.update_width(80)\n    )\n    assert min_width == 3\n    assert max_width == 3",
    "start_line": 6
  },
  {
    "file": "test_constrain.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "from rich.console import Console\nfrom rich.constrain import Constrain\nfrom rich.text import Text\n\n\ndef test_width_of_none():\n    console = Console()\n    constrain = Constrain(Text(\"foo\"), width=None)\n    min_width, max_width = constrain.__rich_measure__(\n        console, console.options.update_width(80)\n    )\n    assert min_width == 3\n    assert max_width == 3\n",
    "start_line": 0
  },
  {
    "file": "test_measure.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from rich.text import Text\nimport pytest\nfrom rich.errors import NotRenderableError\nfrom rich.console import Console\nfrom rich.measure import Measurement, measure_renderables",
    "start_line": 0
  },
  {
    "file": "test_measure.py",
    "type": "function",
    "class": null,
    "method": "test_span",
    "name": "test_span",
    "content": "def test_span():",
    "start_line": 8
  },
  {
    "file": "test_measure.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "measurement = Measurement(10, 100)\n    assert measurement.span == 90",
    "start_line": 9
  },
  {
    "file": "test_measure.py",
    "type": "function",
    "class": null,
    "method": "test_no_renderable",
    "name": "test_no_renderable",
    "content": "def test_no_renderable():",
    "start_line": 13
  },
  {
    "file": "test_measure.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console()\n    text = Text()\n    with pytest.raises(NotRenderableError):\n        Measurement.get(console, console.options, None)",
    "start_line": 14
  },
  {
    "file": "test_measure.py",
    "type": "function",
    "class": null,
    "method": "test_measure_renderables",
    "name": "test_measure_renderables",
    "content": "def test_measure_renderables():",
    "start_line": 21
  },
  {
    "file": "test_measure.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console()\n    assert measure_renderables(console, console.options, \"\") == Measurement(0, 0)\n    assert measure_renderables(\n        console, console.options.update_width(0), \"hello\"\n    ) == Measurement(0, 0)",
    "start_line": 22
  },
  {
    "file": "test_measure.py",
    "type": "function",
    "class": null,
    "method": "test_clamp",
    "name": "test_clamp",
    "content": "def test_clamp():",
    "start_line": 29
  },
  {
    "file": "test_measure.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "measurement = Measurement(20, 100)\n    assert measurement.clamp(10, 50) == Measurement(20, 50)\n    assert measurement.clamp(30, 50) == Measurement(30, 50)\n    assert measurement.clamp(None, 50) == Measurement(20, 50)\n    assert measurement.clamp(30, None) == Measurement(30, 100)\n    assert measurement.clamp(None, None) == Measurement(20, 100)",
    "start_line": 30
  },
  {
    "file": "test_measure.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "from rich.text import Text\nimport pytest\n\nfrom rich.errors import NotRenderableError\nfrom rich.console import Console\nfrom rich.measure import Measurement, measure_renderables\n\n\ndef test_span():\n    measurement = Measurement(10, 100)\n    assert measurement.span == 90\n\n\ndef test_no_renderable():\n    console = Console()\n    text = Text()\n\n    with pytest.raises(NotRenderableError):\n        Measurement.get(console, console.options, None)\n\n\ndef test_measure_renderables():\n    console = Console()\n    assert measure_renderables(console, console.options, \"\") == Measurement(0, 0)\n    assert measure_renderables(\n        console, console.options.update_width(0), \"hello\"\n    ) == Measurement(0, 0)\n\n\ndef test_clamp():\n    measurement = Measurement(20, 100)\n    assert measurement.clamp(10, 50) == Measurement(20, 50)\n    assert measurement.clamp(30, 50) == Measurement(30, 50)\n    assert measurement.clamp(None, 50) == Measurement(20, 50)\n    assert measurement.clamp(30, None) == Measurement(30, 100)\n    assert measurement.clamp(None, None) == Measurement(20, 100)\n",
    "start_line": 0
  },
  {
    "file": "test_syntax.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "import io\nimport os\nimport sys\nimport tempfile\nimport pytest\nfrom pygments.lexers import PythonLexer\nfrom rich.measure import Measurement\nfrom rich.panel import Panel\nfrom rich.style import Style\nfrom rich.syntax import (\n    ANSISyntaxTheme,\n    Color,\n    Console,\n    PygmentsSyntaxTheme,\n    Syntax,\n    _SyntaxHighlightRange,\n)\nfrom .render import render\nif sys.version_info >= (3, 8):\n    from importlib.metadata import Distribution\nelse:\n    from importlib_metadata import Distribution",
    "start_line": 0
  },
  {
    "file": "test_syntax.py",
    "type": "constants",
    "class": null,
    "method": null,
    "name": "module_constants",
    "content": "PYGMENTS_VERSION = Distribution.from_name(\"pygments\").version\nOLD_PYGMENTS = PYGMENTS_VERSION == \"2.13.0\"\nCODE = '''\\",
    "start_line": 27
  },
  {
    "file": "test_syntax.py",
    "type": "function",
    "class": null,
    "method": "loop_first_last",
    "name": "loop_first_last",
    "content": "def loop_first_last(values: Iterable[T]) -> Iterable[Tuple[bool, bool, T]]:\n    \"\"\"Iterate and generate a tuple with a flag for first and last value.\"\"\"",
    "start_line": 31
  },
  {
    "file": "test_syntax.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "iter_values = iter(values)\n    try:\n        previous_value = next(iter_values)\n    except StopIteration:\n        return\n    first = True\n    for value in iter_values:\n        yield first, False, previous_value\n        first = False\n        previous_value = value\n    yield first, True, previous_value'''",
    "start_line": 33
  },
  {
    "file": "test_syntax.py",
    "type": "function",
    "class": null,
    "method": "test_blank_lines",
    "name": "test_blank_lines",
    "content": "def test_blank_lines():",
    "start_line": 46
  },
  {
    "file": "test_syntax.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "code = \"\\n\\nimport this\\n\\n\"\n    syntax = Syntax(\n        code, lexer=\"python\", theme=\"ascii_light\", code_width=30, line_numbers=True\n    )\n    result = render(syntax)\n    print(repr(result))\n    assert (\n        result\n        == \"\\x1b[1;38;2;24;24;24;48;2;248;248;248m  \\x1b[0m\\x1b[38;2;173;173;173;48;2;248;248;248m1 \\x1b[0m\\x1b[48;2;248;248;248m                              \\x1b[0m\\n\\x1b[1;38;2;24;24;24;48;2;248;248;248m  \\x1b[0m\\x1b[38;2;173;173;173;48;2;248;248;248m2 \\x1b[0m\\x1b[48;2;248;248;248m                              \\x1b[0m\\n\\x1b[1;38;2;24;24;24;48;2;248;248;248m  \\x1b[0m\\x1b[38;2;173;173;173;48;2;248;248;248m3 \\x1b[0m\\x1b[1;38;2;0;128;0;48;2;248;248;248mimport\\x1b[0m\\x1b[38;2;0;0;0;48;2;248;248;248m \\x1b[0m\\x1b[1;38;2;0;0;255;48;2;248;248;248mthis\\x1b[0m\\x1b[48;2;248;248;248m                   \\x1b[0m\\n\\x1b[1;38;2;24;24;24;48;2;248;248;248m  \\x1b[0m\\x1b[38;2;173;173;173;48;2;248;248;248m4 \\x1b[0m\\x1b[48;2;248;248;248m                              \\x1b[0m\\n\\x1b[1;38;2;24;24;24;48;2;248;248;248m  \\x1b[0m\\x1b[38;2;173;173;173;48;2;248;248;248m5 \\x1b[0m\\x1b[48;2;248;248;248m                              \\x1b[0m\\n\"\n    )",
    "start_line": 47
  },
  {
    "file": "test_syntax.py",
    "type": "function",
    "class": null,
    "method": "test_python_render",
    "name": "test_python_render",
    "content": "def test_python_render():",
    "start_line": 59
  },
  {
    "file": "test_syntax.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "syntax = Panel.fit(\n        Syntax(\n            CODE,\n            lexer=\"python\",\n            line_numbers=True,\n            line_range=(2, 10),\n            theme=\"monokai\",\n            code_width=60,\n            word_wrap=True,\n        ),\n        padding=0,\n    )\n    rendered_syntax = render(syntax)\n    print(repr(rendered_syntax))\n    expected = '\\n\\x1b[1;38;2;227;227;221;48;2;39;40;34m  \\x1b[0m\\x1b[38;2;101;102;96;48;2;39;40;34m 2 \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m    \\x1b[0m\\x1b[38;2;230;219;116;48;2;39;40;34m\"\"\"Iterate and generate a tuple with a flag for first \\x1b[0m\\x1b[48;2;39;40;34m  \\x1b[0m\\n\\x1b[48;2;39;40;34m     \\x1b[0m\\x1b[38;2;230;219;116;48;2;39;40;34mand last value.\"\"\"\\x1b[0m\\x1b[48;2;39;40;34m                                          \\x1b[0m\\n\\x1b[1;38;2;227;227;221;48;2;39;40;34m  \\x1b[0m\\x1b[38;2;101;102;96;48;2;39;40;34m 3 \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m    \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34miter_values\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;255;70;137;48;2;39;40;34m=\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34miter\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m(\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mvalues\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m)\\x1b[0m\\x1b[48;2;39;40;34m                              \\x1b[0m\\n\\x1b[1;38;2;227;227;221;48;2;39;40;34m  \\x1b[0m\\x1b[38;2;101;102;96;48;2;39;40;34m 4 \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m    \\x1b[0m\\x1b[38;2;102;217;239;48;2;39;40;34mtry\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m:\\x1b[0m\\x1b[48;2;39;40;34m                                                    \\x1b[0m\\n\\x1b[1;38;2;227;227;221;48;2;39;40;34m  \\x1b[0m\\x1b[38;2;101;102;96;48;2;39;40;34m 5 \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m        \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mprevious_value\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;255;70;137;48;2;39;40;34m=\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mnext\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m(\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34miter_values\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m)\\x1b[0m\\x1b[48;2;39;40;34m                  \\x1b[0m\\n\\x1b[1;38;2;227;227;221;48;2;39;40;34m  \\x1b[0m\\x1b[38;2;101;102;96;48;2;39;40;34m 6 \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m    \\x1b[0m\\x1b[38;2;102;217;239;48;2;39;40;34mexcept\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;166;226;46;48;2;39;40;34mStopIteration\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m:\\x1b[0m\\x1b[48;2;39;40;34m                                   \\x1b[0m\\n\\x1b[1;38;2;227;227;221;48;2;39;40;34m  \\x1b[0m\\x1b[38;2;101;102;96;48;2;39;40;34m 7 \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m        \\x1b[0m\\x1b[38;2;102;217;239;48;2;39;40;34mreturn\\x1b[0m\\x1b[48;2;39;40;34m                                              \\x1b[0m\\n\\x1b[1;38;2;227;227;221;48;2;39;40;34m  \\x1b[0m\\x1b[38;2;101;102;96;48;2;39;40;34m 8 \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m    \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mfirst\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;255;70;137;48;2;39;40;34m=\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;102;217;239;48;2;39;40;34mTrue\\x1b[0m\\x1b[48;2;39;40;34m                                            \\x1b[0m\\n\\x1b[1;38;2;227;227;221;48;2;39;40;34m  \\x1b[0m\\x1b[38;2;101;102;96;48;2;39;40;34m 9 \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m    \\x1b[0m\\x1b[38;2;102;217;239;48;2;39;40;34mfor\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mvalue\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;255;70;137;48;2;39;40;34min\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34miter_values\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m:\\x1b[0m\\x1b[48;2;39;40;34m                               \\x1b[0m\\n\\x1b[1;38;2;227;227;221;48;2;39;40;34m  \\x1b[0m\\x1b[38;2;101;102;96;48;2;39;40;34m10 \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m        \\x1b[0m\\x1b[38;2;102;217;239;48;2;39;40;34myield\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mfirst\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m,\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;102;217;239;48;2;39;40;34mFalse\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m,\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mprevious_value\\x1b[0m\\x1b[48;2;39;40;34m                  \\x1b[0m\\n\\n'\n    assert rendered_syntax == expected",
    "start_line": 60
  },
  {
    "file": "test_syntax.py",
    "type": "function",
    "class": null,
    "method": "test_python_render_simple",
    "name": "test_python_render_simple",
    "content": "def test_python_render_simple():",
    "start_line": 78
  },
  {
    "file": "test_syntax.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "syntax = Syntax(\n        CODE,\n        lexer=\"python\",\n        line_numbers=False,\n        theme=\"monokai\",\n        code_width=60,\n        word_wrap=False,\n    )\n    rendered_syntax = render(syntax)\n    print(repr(rendered_syntax))\n    expected = '\\x1b[38;2;102;217;239;48;2;39;40;34mdef\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;166;226;46;48;2;39;40;34mloop_first_last\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m(\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mvalues\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m:\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mIterable\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m[\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mT\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m]\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m)\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;255;70;137;48;2;39;40;34m-\\x1b[0m\\x1b[38;2;255;70;137;48;2;39;40;34m>\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mIterable\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m[\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mTuple\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m[\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mb\\x1b[0m\\n\\x1b[38;2;248;248;242;48;2;39;40;34m    \\x1b[0m\\x1b[38;2;230;219;116;48;2;39;40;34m\"\"\"Iterate and generate a tuple with a flag for first an\\x1b[0m\\n\\x1b[38;2;248;248;242;48;2;39;40;34m    \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34miter_values\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;255;70;137;48;2;39;40;34m=\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34miter\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m(\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mvalues\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m)\\x1b[0m\\x1b[48;2;39;40;34m                              \\x1b[0m\\n\\x1b[38;2;248;248;242;48;2;39;40;34m    \\x1b[0m\\x1b[38;2;102;217;239;48;2;39;40;34mtry\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m:\\x1b[0m\\x1b[48;2;39;40;34m                                                    \\x1b[0m\\n\\x1b[38;2;248;248;242;48;2;39;40;34m        \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mprevious_value\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;255;70;137;48;2;39;40;34m=\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mnext\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m(\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34miter_values\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m)\\x1b[0m\\x1b[48;2;39;40;34m                  \\x1b[0m\\n\\x1b[38;2;248;248;242;48;2;39;40;34m    \\x1b[0m\\x1b[38;2;102;217;239;48;2;39;40;34mexcept\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;166;226;46;48;2;39;40;34mStopIteration\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m:\\x1b[0m\\x1b[48;2;39;40;34m                                   \\x1b[0m\\n\\x1b[38;2;248;248;242;48;2;39;40;34m        \\x1b[0m\\x1b[38;2;102;217;239;48;2;39;40;34mreturn\\x1b[0m\\x1b[48;2;39;40;34m                                              \\x1b[0m\\n\\x1b[38;2;248;248;242;48;2;39;40;34m    \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mfirst\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;255;70;137;48;2;39;40;34m=\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;102;217;239;48;2;39;40;34mTrue\\x1b[0m\\x1b[48;2;39;40;34m                                            \\x1b[0m\\n\\x1b[38;2;248;248;242;48;2;39;40;34m    \\x1b[0m\\x1b[38;2;102;217;239;48;2;39;40;34mfor\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mvalue\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;255;70;137;48;2;39;40;34min\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34miter_values\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m:\\x1b[0m\\x1b[48;2;39;40;34m                               \\x1b[0m\\n\\x1b[38;2;248;248;242;48;2;39;40;34m        \\x1b[0m\\x1b[38;2;102;217;239;48;2;39;40;34myield\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mfirst\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m,\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;102;217;239;48;2;39;40;34mFalse\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m,\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mprevious_value\\x1b[0m\\x1b[48;2;39;40;34m                  \\x1b[0m\\n\\x1b[38;2;248;248;242;48;2;39;40;34m        \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mfirst\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;255;70;137;48;2;39;40;34m=\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;102;217;239;48;2;39;40;34mFalse\\x1b[0m\\x1b[48;2;39;40;34m                                       \\x1b[0m\\n\\x1b[38;2;248;248;242;48;2;39;40;34m        \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mprevious_value\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;255;70;137;48;2;39;40;34m=\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mvalue\\x1b[0m\\x1b[48;2;39;40;34m                              \\x1b[0m\\n\\x1b[38;2;248;248;242;48;2;39;40;34m    \\x1b[0m\\x1b[38;2;102;217;239;48;2;39;40;34myield\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mfirst\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m,\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;102;217;239;48;2;39;40;34mTrue\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m,\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mprevious_value\\x1b[0m\\x1b[48;2;39;40;34m                       \\x1b[0m\\n'\n    assert rendered_syntax == expected",
    "start_line": 79
  },
  {
    "file": "test_syntax.py",
    "type": "function",
    "class": null,
    "method": "test_python_render_simple_passing_lexer_instance",
    "name": "test_python_render_simple_passing_lexer_instance",
    "content": "def test_python_render_simple_passing_lexer_instance():",
    "start_line": 93
  },
  {
    "file": "test_syntax.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "syntax = Syntax(\n        CODE,\n        lexer=PythonLexer(),\n        line_numbers=False,\n        theme=\"monokai\",\n        code_width=60,\n        word_wrap=False,\n    )\n    rendered_syntax = render(syntax)\n    print(repr(rendered_syntax))\n    expected = '\\x1b[38;2;102;217;239;48;2;39;40;34mdef\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;166;226;46;48;2;39;40;34mloop_first_last\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m(\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mvalues\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m:\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mIterable\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m[\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mT\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m]\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m)\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;255;70;137;48;2;39;40;34m-\\x1b[0m\\x1b[38;2;255;70;137;48;2;39;40;34m>\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mIterable\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m[\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mTuple\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m[\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mb\\x1b[0m\\n\\x1b[38;2;248;248;242;48;2;39;40;34m    \\x1b[0m\\x1b[38;2;230;219;116;48;2;39;40;34m\"\"\"Iterate and generate a tuple with a flag for first an\\x1b[0m\\n\\x1b[38;2;248;248;242;48;2;39;40;34m    \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34miter_values\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;255;70;137;48;2;39;40;34m=\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34miter\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m(\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mvalues\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m)\\x1b[0m\\x1b[48;2;39;40;34m                              \\x1b[0m\\n\\x1b[38;2;248;248;242;48;2;39;40;34m    \\x1b[0m\\x1b[38;2;102;217;239;48;2;39;40;34mtry\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m:\\x1b[0m\\x1b[48;2;39;40;34m                                                    \\x1b[0m\\n\\x1b[38;2;248;248;242;48;2;39;40;34m        \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mprevious_value\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;255;70;137;48;2;39;40;34m=\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mnext\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m(\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34miter_values\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m)\\x1b[0m\\x1b[48;2;39;40;34m                  \\x1b[0m\\n\\x1b[38;2;248;248;242;48;2;39;40;34m    \\x1b[0m\\x1b[38;2;102;217;239;48;2;39;40;34mexcept\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;166;226;46;48;2;39;40;34mStopIteration\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m:\\x1b[0m\\x1b[48;2;39;40;34m                                   \\x1b[0m\\n\\x1b[38;2;248;248;242;48;2;39;40;34m        \\x1b[0m\\x1b[38;2;102;217;239;48;2;39;40;34mreturn\\x1b[0m\\x1b[48;2;39;40;34m                                              \\x1b[0m\\n\\x1b[38;2;248;248;242;48;2;39;40;34m    \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mfirst\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;255;70;137;48;2;39;40;34m=\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;102;217;239;48;2;39;40;34mTrue\\x1b[0m\\x1b[48;2;39;40;34m                                            \\x1b[0m\\n\\x1b[38;2;248;248;242;48;2;39;40;34m    \\x1b[0m\\x1b[38;2;102;217;239;48;2;39;40;34mfor\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mvalue\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;255;70;137;48;2;39;40;34min\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34miter_values\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m:\\x1b[0m\\x1b[48;2;39;40;34m                               \\x1b[0m\\n\\x1b[38;2;248;248;242;48;2;39;40;34m        \\x1b[0m\\x1b[38;2;102;217;239;48;2;39;40;34myield\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mfirst\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m,\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;102;217;239;48;2;39;40;34mFalse\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m,\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mprevious_value\\x1b[0m\\x1b[48;2;39;40;34m                  \\x1b[0m\\n\\x1b[38;2;248;248;242;48;2;39;40;34m        \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mfirst\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;255;70;137;48;2;39;40;34m=\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;102;217;239;48;2;39;40;34mFalse\\x1b[0m\\x1b[48;2;39;40;34m                                       \\x1b[0m\\n\\x1b[38;2;248;248;242;48;2;39;40;34m        \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mprevious_value\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;255;70;137;48;2;39;40;34m=\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mvalue\\x1b[0m\\x1b[48;2;39;40;34m                              \\x1b[0m\\n\\x1b[38;2;248;248;242;48;2;39;40;34m    \\x1b[0m\\x1b[38;2;102;217;239;48;2;39;40;34myield\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mfirst\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m,\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;102;217;239;48;2;39;40;34mTrue\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m,\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mprevious_value\\x1b[0m\\x1b[48;2;39;40;34m                       \\x1b[0m\\n'\n    assert rendered_syntax == expected\n@pytest.mark.skipif(OLD_PYGMENTS, reason=\"Pygments changed their tokenizer\")",
    "start_line": 94
  },
  {
    "file": "test_syntax.py",
    "type": "function",
    "class": null,
    "method": "test_python_render_simple_indent_guides",
    "name": "test_python_render_simple_indent_guides",
    "content": "def test_python_render_simple_indent_guides():",
    "start_line": 109
  },
  {
    "file": "test_syntax.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "syntax = Syntax(\n        CODE,\n        lexer=\"python\",\n        line_numbers=False,\n        theme=\"ansi_light\",\n        code_width=60,\n        word_wrap=False,\n        indent_guides=True,\n    )\n    rendered_syntax = render(syntax)\n    print(repr(rendered_syntax))\n    expected = '\\x1b[34mdef\\x1b[0m \\x1b[32mloop_first_last\\x1b[0m(values: Iterable[T]) -> Iterable[Tuple[\\x1b[36mb\\x1b[0m\\n\\x1b[2;37m   \\x1b[0m\\x1b[33m\"\"\"Iterate and generate a tuple with a flag for first an\\x1b[0m\\n\\x1b[2m   \\x1b[0miter_values = \\x1b[36miter\\x1b[0m(values)\\n\\x1b[2m   \\x1b[0m\\x1b[34mtry\\x1b[0m:\\n\\x1b[2m      \\x1b[0mprevious_value = \\x1b[36mnext\\x1b[0m(iter_values)\\n\\x1b[2m   \\x1b[0m\\x1b[34mexcept\\x1b[0m \\x1b[36mStopIteration\\x1b[0m:\\n\\x1b[2m      \\x1b[0m\\x1b[34mreturn\\x1b[0m\\n\\x1b[2m   \\x1b[0mfirst = \\x1b[34mTrue\\x1b[0m\\n\\x1b[2m   \\x1b[0m\\x1b[34mfor\\x1b[0m value \\x1b[35min\\x1b[0m iter_values:\\n\\x1b[2m      \\x1b[0m\\x1b[34myield\\x1b[0m first, \\x1b[34mFalse\\x1b[0m, previous_value\\n\\x1b[2m      \\x1b[0mfirst = \\x1b[34mFalse\\x1b[0m\\n\\x1b[2m      \\x1b[0mprevious_value = value\\n\\x1b[2m   \\x1b[0m\\x1b[34myield\\x1b[0m first, \\x1b[34mTrue\\x1b[0m, previous_value\\n'\n    assert rendered_syntax == expected\n@pytest.mark.skipif(OLD_PYGMENTS, reason=\"Pygments changed their tokenizer\")",
    "start_line": 110
  },
  {
    "file": "test_syntax.py",
    "type": "function",
    "class": null,
    "method": "test_python_render_line_range_indent_guides",
    "name": "test_python_render_line_range_indent_guides",
    "content": "def test_python_render_line_range_indent_guides():",
    "start_line": 126
  },
  {
    "file": "test_syntax.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "syntax = Syntax(\n        CODE,\n        lexer=\"python\",\n        line_numbers=False,\n        theme=\"ansi_light\",\n        code_width=60,\n        word_wrap=False,\n        line_range=(2, 3),\n        indent_guides=True,\n    )\n    rendered_syntax = render(syntax)\n    print(repr(rendered_syntax))\n    expected = '\\x1b[2;37m   \\x1b[0m\\x1b[33m\"\"\"Iterate and generate a tuple with a flag for first an\\x1b[0m\\n\\x1b[2m   \\x1b[0miter_values = \\x1b[36miter\\x1b[0m(values)\\n'\n    assert rendered_syntax == expected",
    "start_line": 127
  },
  {
    "file": "test_syntax.py",
    "type": "function",
    "class": null,
    "method": "test_python_render_indent_guides",
    "name": "test_python_render_indent_guides",
    "content": "def test_python_render_indent_guides():",
    "start_line": 143
  },
  {
    "file": "test_syntax.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "syntax = Panel.fit(\n        Syntax(\n            CODE,\n            lexer=\"python\",\n            line_numbers=True,\n            line_range=(2, 10),\n            theme=\"monokai\",\n            code_width=60,\n            word_wrap=True,\n            indent_guides=True,\n        ),\n        padding=0,\n    )\n    rendered_syntax = render(syntax)\n    print(repr(rendered_syntax))\n    expected = '\\n\\x1b[1;38;2;227;227;221;48;2;39;40;34m  \\x1b[0m\\x1b[38;2;101;102;96;48;2;39;40;34m 2 \\x1b[0m\\x1b[2;38;2;149;144;119;48;2;39;40;34m   \\x1b[0m\\x1b[38;2;230;219;116;48;2;39;40;34m\"\"\"Iterate and generate a tuple with a flag for first \\x1b[0m\\x1b[48;2;39;40;34m  \\x1b[0m\\n\\x1b[48;2;39;40;34m     \\x1b[0m\\x1b[38;2;230;219;116;48;2;39;40;34mand last value.\"\"\"\\x1b[0m\\x1b[48;2;39;40;34m                                          \\x1b[0m\\n\\x1b[1;38;2;227;227;221;48;2;39;40;34m  \\x1b[0m\\x1b[38;2;101;102;96;48;2;39;40;34m 3 \\x1b[0m\\x1b[2;38;2;149;144;119;48;2;39;40;34m   \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34miter_values\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;255;70;137;48;2;39;40;34m=\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34miter\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m(\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mvalues\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m)\\x1b[0m\\x1b[48;2;39;40;34m                              \\x1b[0m\\n\\x1b[1;38;2;227;227;221;48;2;39;40;34m  \\x1b[0m\\x1b[38;2;101;102;96;48;2;39;40;34m 4 \\x1b[0m\\x1b[2;38;2;149;144;119;48;2;39;40;34m   \\x1b[0m\\x1b[38;2;102;217;239;48;2;39;40;34mtry\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m:\\x1b[0m\\x1b[48;2;39;40;34m                                                    \\x1b[0m\\n\\x1b[1;38;2;227;227;221;48;2;39;40;34m  \\x1b[0m\\x1b[38;2;101;102;96;48;2;39;40;34m 5 \\x1b[0m\\x1b[2;38;2;149;144;119;48;2;39;40;34m      \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mprevious_value\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;255;70;137;48;2;39;40;34m=\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mnext\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m(\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34miter_values\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m)\\x1b[0m\\x1b[48;2;39;40;34m                  \\x1b[0m\\n\\x1b[1;38;2;227;227;221;48;2;39;40;34m  \\x1b[0m\\x1b[38;2;101;102;96;48;2;39;40;34m 6 \\x1b[0m\\x1b[2;38;2;149;144;119;48;2;39;40;34m   \\x1b[0m\\x1b[38;2;102;217;239;48;2;39;40;34mexcept\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;166;226;46;48;2;39;40;34mStopIteration\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m:\\x1b[0m\\x1b[48;2;39;40;34m                                   \\x1b[0m\\n\\x1b[1;38;2;227;227;221;48;2;39;40;34m  \\x1b[0m\\x1b[38;2;101;102;96;48;2;39;40;34m 7 \\x1b[0m\\x1b[2;38;2;149;144;119;48;2;39;40;34m      \\x1b[0m\\x1b[38;2;102;217;239;48;2;39;40;34mreturn\\x1b[0m\\x1b[48;2;39;40;34m                                              \\x1b[0m\\n\\x1b[1;38;2;227;227;221;48;2;39;40;34m  \\x1b[0m\\x1b[38;2;101;102;96;48;2;39;40;34m 8 \\x1b[0m\\x1b[2;38;2;149;144;119;48;2;39;40;34m   \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mfirst\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;255;70;137;48;2;39;40;34m=\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;102;217;239;48;2;39;40;34mTrue\\x1b[0m\\x1b[48;2;39;40;34m                                            \\x1b[0m\\n\\x1b[1;38;2;227;227;221;48;2;39;40;34m  \\x1b[0m\\x1b[38;2;101;102;96;48;2;39;40;34m 9 \\x1b[0m\\x1b[2;38;2;149;144;119;48;2;39;40;34m   \\x1b[0m\\x1b[38;2;102;217;239;48;2;39;40;34mfor\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mvalue\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;255;70;137;48;2;39;40;34min\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34miter_values\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m:\\x1b[0m\\x1b[48;2;39;40;34m                               \\x1b[0m\\n\\x1b[1;38;2;227;227;221;48;2;39;40;34m  \\x1b[0m\\x1b[38;2;101;102;96;48;2;39;40;34m10 \\x1b[0m\\x1b[2;38;2;149;144;119;48;2;39;40;34m      \\x1b[0m\\x1b[38;2;102;217;239;48;2;39;40;34myield\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mfirst\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m,\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;102;217;239;48;2;39;40;34mFalse\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m,\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mprevious_value\\x1b[0m\\x1b[48;2;39;40;34m                  \\x1b[0m\\n\\n'\n    assert rendered_syntax == expected",
    "start_line": 144
  },
  {
    "file": "test_syntax.py",
    "type": "function",
    "class": null,
    "method": "test_pygments_syntax_theme_non_str",
    "name": "test_pygments_syntax_theme_non_str",
    "content": "def test_pygments_syntax_theme_non_str():",
    "start_line": 163
  },
  {
    "file": "test_syntax.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from pygments.style import Style as PygmentsStyle",
    "start_line": 164
  },
  {
    "file": "test_syntax.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "style = PygmentsSyntaxTheme(PygmentsStyle())\n    assert style.get_background_style().bgcolor == Color.parse(\"#ffffff\")",
    "start_line": 166
  },
  {
    "file": "test_syntax.py",
    "type": "function",
    "class": null,
    "method": "test_pygments_syntax_theme",
    "name": "test_pygments_syntax_theme",
    "content": "def test_pygments_syntax_theme():",
    "start_line": 170
  },
  {
    "file": "test_syntax.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "style = PygmentsSyntaxTheme(\"default\")\n    assert style.get_style_for_token(\"abc\") == Style.parse(\"none\")",
    "start_line": 171
  },
  {
    "file": "test_syntax.py",
    "type": "function",
    "class": null,
    "method": "test_get_line_color_none",
    "name": "test_get_line_color_none",
    "content": "def test_get_line_color_none():",
    "start_line": 175
  },
  {
    "file": "test_syntax.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "style = PygmentsSyntaxTheme(\"default\")\n    style._background_style = Style(bgcolor=None)\n    syntax = Syntax(\n        CODE,\n        lexer=\"python\",\n        line_numbers=True,\n        line_range=(2, 10),\n        theme=style,\n        code_width=60,\n        word_wrap=True,\n        background_color=\"red\",\n    )\n    assert syntax._get_line_numbers_color() == Color.default()",
    "start_line": 176
  },
  {
    "file": "test_syntax.py",
    "type": "function",
    "class": null,
    "method": "test_highlight_background_color",
    "name": "test_highlight_background_color",
    "content": "def test_highlight_background_color():",
    "start_line": 191
  },
  {
    "file": "test_syntax.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "syntax = Syntax(\n        CODE,\n        lexer=\"python\",\n        line_numbers=True,\n        line_range=(2, 10),\n        theme=\"foo\",\n        code_width=60,\n        word_wrap=True,\n        background_color=\"red\",\n    )\n    assert syntax.highlight(CODE).style == Style.parse(\"on red\")",
    "start_line": 192
  },
  {
    "file": "test_syntax.py",
    "type": "function",
    "class": null,
    "method": "test_get_number_styles",
    "name": "test_get_number_styles",
    "content": "def test_get_number_styles():",
    "start_line": 205
  },
  {
    "file": "test_syntax.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "syntax = Syntax(CODE, \"python\", theme=\"monokai\", line_numbers=True)\n    console = Console(color_system=\"windows\")\n    assert syntax._get_number_styles(console=console) == (\n        Style.parse(\"on #272822\"),\n        Style.parse(\"dim on #272822\"),\n        Style.parse(\"not dim on #272822\"),\n    )",
    "start_line": 206
  },
  {
    "file": "test_syntax.py",
    "type": "function",
    "class": null,
    "method": "test_get_style_for_token",
    "name": "test_get_style_for_token",
    "content": "def test_get_style_for_token():",
    "start_line": 215
  },
  {
    "file": "test_syntax.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# from pygments.style import Style as PygmentsStyle\n    # pygments_style = PygmentsStyle()",
    "start_line": 216
  },
  {
    "file": "test_syntax.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from pygments.style import Token",
    "start_line": 218
  },
  {
    "file": "test_syntax.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "style = PygmentsSyntaxTheme(\"default\")\n    style_dict = {Token.Text: Style(color=None)}\n    style._style_cache = style_dict\n    syntax = Syntax(\n        CODE,\n        lexer=\"python\",\n        line_numbers=True,\n        line_range=(2, 10),\n        theme=style,\n        code_width=60,\n        word_wrap=True,\n        background_color=\"red\",\n    )\n    assert syntax._get_line_numbers_color() == Color.default()",
    "start_line": 220
  },
  {
    "file": "test_syntax.py",
    "type": "function",
    "class": null,
    "method": "test_option_no_wrap",
    "name": "test_option_no_wrap",
    "content": "def test_option_no_wrap():",
    "start_line": 236
  },
  {
    "file": "test_syntax.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "syntax = Syntax(\n        CODE,\n        lexer=\"python\",\n        line_numbers=True,\n        line_range=(2, 10),\n        code_width=60,\n        word_wrap=False,\n        background_color=\"red\",\n    )\n    rendered_syntax = render(syntax, True)\n    print(repr(rendered_syntax))\n    expected = '\\x1b[1;39;41m  \\x1b[0m\\x1b[39;41m 2 \\x1b[0m\\x1b[38;2;248;248;242;41m    \\x1b[0m\\x1b[38;2;230;219;116;41m\"\"\"Iterate and generate a tuple with a flag for first and last value.\"\"\"\\x1b[0m\\n\\x1b[1;39;41m  \\x1b[0m\\x1b[39;41m 3 \\x1b[0m\\x1b[38;2;248;248;242;41m    \\x1b[0m\\x1b[38;2;248;248;242;41miter_values\\x1b[0m\\x1b[38;2;248;248;242;41m \\x1b[0m\\x1b[38;2;255;70;137;41m=\\x1b[0m\\x1b[38;2;248;248;242;41m \\x1b[0m\\x1b[38;2;248;248;242;41miter\\x1b[0m\\x1b[38;2;248;248;242;41m(\\x1b[0m\\x1b[38;2;248;248;242;41mvalues\\x1b[0m\\x1b[38;2;248;248;242;41m)\\x1b[0m\\n\\x1b[1;39;41m  \\x1b[0m\\x1b[39;41m 4 \\x1b[0m\\x1b[38;2;248;248;242;41m    \\x1b[0m\\x1b[38;2;102;217;239;41mtry\\x1b[0m\\x1b[38;2;248;248;242;41m:\\x1b[0m\\n\\x1b[1;39;41m  \\x1b[0m\\x1b[39;41m 5 \\x1b[0m\\x1b[38;2;248;248;242;41m        \\x1b[0m\\x1b[38;2;248;248;242;41mprevious_value\\x1b[0m\\x1b[38;2;248;248;242;41m \\x1b[0m\\x1b[38;2;255;70;137;41m=\\x1b[0m\\x1b[38;2;248;248;242;41m \\x1b[0m\\x1b[38;2;248;248;242;41mnext\\x1b[0m\\x1b[38;2;248;248;242;41m(\\x1b[0m\\x1b[38;2;248;248;242;41miter_values\\x1b[0m\\x1b[38;2;248;248;242;41m)\\x1b[0m\\n\\x1b[1;39;41m  \\x1b[0m\\x1b[39;41m 6 \\x1b[0m\\x1b[38;2;248;248;242;41m    \\x1b[0m\\x1b[38;2;102;217;239;41mexcept\\x1b[0m\\x1b[38;2;248;248;242;41m \\x1b[0m\\x1b[38;2;166;226;46;41mStopIteration\\x1b[0m\\x1b[38;2;248;248;242;41m:\\x1b[0m\\n\\x1b[1;39;41m  \\x1b[0m\\x1b[39;41m 7 \\x1b[0m\\x1b[38;2;248;248;242;41m        \\x1b[0m\\x1b[38;2;102;217;239;41mreturn\\x1b[0m\\n\\x1b[1;39;41m  \\x1b[0m\\x1b[39;41m 8 \\x1b[0m\\x1b[38;2;248;248;242;41m    \\x1b[0m\\x1b[38;2;248;248;242;41mfirst\\x1b[0m\\x1b[38;2;248;248;242;41m \\x1b[0m\\x1b[38;2;255;70;137;41m=\\x1b[0m\\x1b[38;2;248;248;242;41m \\x1b[0m\\x1b[38;2;102;217;239;41mTrue\\x1b[0m\\n\\x1b[1;39;41m  \\x1b[0m\\x1b[39;41m 9 \\x1b[0m\\x1b[38;2;248;248;242;41m    \\x1b[0m\\x1b[38;2;102;217;239;41mfor\\x1b[0m\\x1b[38;2;248;248;242;41m \\x1b[0m\\x1b[38;2;248;248;242;41mvalue\\x1b[0m\\x1b[38;2;248;248;242;41m \\x1b[0m\\x1b[38;2;255;70;137;41min\\x1b[0m\\x1b[38;2;248;248;242;41m \\x1b[0m\\x1b[38;2;248;248;242;41miter_values\\x1b[0m\\x1b[38;2;248;248;242;41m:\\x1b[0m\\n\\x1b[1;39;41m  \\x1b[0m\\x1b[39;41m10 \\x1b[0m\\x1b[38;2;248;248;242;41m        \\x1b[0m\\x1b[38;2;102;217;239;41myield\\x1b[0m\\x1b[38;2;248;248;242;41m \\x1b[0m\\x1b[38;2;248;248;242;41mfirst\\x1b[0m\\x1b[38;2;248;248;242;41m,\\x1b[0m\\x1b[38;2;248;248;242;41m \\x1b[0m\\x1b[38;2;102;217;239;41mFalse\\x1b[0m\\x1b[38;2;248;248;242;41m,\\x1b[0m\\x1b[38;2;248;248;242;41m \\x1b[0m\\x1b[38;2;248;248;242;41mprevious_value\\x1b[0m\\n'\n    assert rendered_syntax == expected",
    "start_line": 237
  },
  {
    "file": "test_syntax.py",
    "type": "function",
    "class": null,
    "method": "test_syntax_highlight_ranges",
    "name": "test_syntax_highlight_ranges",
    "content": "def test_syntax_highlight_ranges():",
    "start_line": 253
  },
  {
    "file": "test_syntax.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "syntax = Syntax(\n        CODE,\n        lexer=\"python\",\n        line_numbers=True,\n        word_wrap=False,\n    )\n    stylized_ranges = [\n        _SyntaxHighlightRange(",
    "start_line": 254
  },
  {
    "file": "test_syntax.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# overline the 2nd char of the 1st line:",
    "start_line": 262
  },
  {
    "file": "test_syntax.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "start=(1, 1),\n            end=(1, 2),\n            style=Style(overline=True),\n        ),\n        _SyntaxHighlightRange(\n            start=(1, len(\"def loop_\")),\n            end=(1, len(\"def loop_first_last\")),\n            style=Style(underline=True),\n        ),\n        _SyntaxHighlightRange(\n            start=(1, len(\"def loop_first\")),\n            end=(3, len(\"    iter_values = iter\")),\n            style=Style(bold=True),\n        ),\n        _SyntaxHighlightRange(\n            start=(9, len(\"    for \")),\n            end=(9, len(\"    for value in\")),\n            style=Style(strike=True),\n        ),\n        _SyntaxHighlightRange(\n            start=(6, len(\"    except \")),\n            end=(6, len(\"    except StopIteration\")),\n            style=Style(reverse=True),\n        ),\n        _SyntaxHighlightRange(\n            start=(10, len(\"       yield first,\")),",
    "start_line": 263
  },
  {
    "file": "test_syntax.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# `column_index` is out of range: should be clamped to the line length:",
    "start_line": 289
  },
  {
    "file": "test_syntax.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "end=(10, 300),\n            style=Style(bold=True),\n        ),",
    "start_line": 290
  },
  {
    "file": "test_syntax.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# For this one the end `line_number` is out of range, so it should have no impact:\n        _SyntaxHighlightRange(",
    "start_line": 293
  },
  {
    "file": "test_syntax.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "start=(1, 1),\n            end=(30, 2),\n            style=Style(bold=True),\n        ),\n    ]\n    for range_ in stylized_ranges:\n        syntax.stylize_range(range_.style, range_.start, range_.end)\n    rendered_syntax = render(syntax, True)\n    print(repr(rendered_syntax))\n    expected = '\\x1b[1;38;2;227;227;221;48;2;39;40;34m  \\x1b[0m\\x1b[38;2;101;102;96;48;2;39;40;34m 1 \\x1b[0m\\x1b[38;2;102;217;239;48;2;39;40;34md\\x1b[0m\\x1b[53;38;2;102;217;239;48;2;39;40;34me\\x1b[0m\\x1b[38;2;102;217;239;48;2;39;40;34mf\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;166;226;46;48;2;39;40;34mloop_\\x1b[0m\\x1b[4;38;2;166;226;46;48;2;39;40;34mfirst\\x1b[0m\\x1b[1;4;38;2;166;226;46;48;2;39;40;34m_last\\x1b[0m\\x1b[1;38;2;248;248;242;48;2;39;40;34m(\\x1b[0m\\x1b[1;38;2;248;248;242;48;2;39;40;34mvalues\\x1b[0m\\x1b[1;38;2;248;248;242;48;2;39;40;34m:\\x1b[0m\\x1b[1;38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[1;38;2;248;248;242;48;2;39;40;34mIterable\\x1b[0m\\x1b[1;38;2;248;248;242;48;2;39;40;34m[\\x1b[0m\\x1b[1;38;2;248;248;242;48;2;39;40;34mT\\x1b[0m\\x1b[1;38;2;248;248;242;48;2;39;40;34m]\\x1b[0m\\x1b[1;38;2;248;248;242;48;2;39;40;34m)\\x1b[0m\\x1b[1;38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[1;38;2;255;70;137;48;2;39;40;34m-\\x1b[0m\\x1b[1;38;2;255;70;137;48;2;39;40;34m>\\x1b[0m\\x1b[1;38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[1;38;2;248;248;242;48;2;39;40;34mIterable\\x1b[0m\\x1b[1;38;2;248;248;242;48;2;39;40;34m[\\x1b[0m\\x1b[1;38;2;248;248;242;48;2;39;40;34mTuple\\x1b[0m\\x1b[1;38;2;248;248;242;48;2;39;40;34m[\\x1b[0m\\x1b[1;38;2;248;248;242;48;2;39;40;34mbool\\x1b[0m\\x1b[1;38;2;248;248;242;48;2;39;40;34m,\\x1b[0m\\x1b[1;38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[1;38;2;248;248;242;48;2;39;40;34mbool\\x1b[0m\\x1b[1;38;2;248;248;242;48;2;39;40;34m,\\x1b[0m\\x1b[1;38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[1;38;2;248;248;242;48;2;39;40;34mT\\x1b[0m\\x1b[1;38;2;248;248;242;48;2;39;40;34m]\\x1b[0m\\x1b[1;38;2;248;248;242;48;2;39;40;34m]\\x1b[0m\\x1b[1;38;2;248;248;242;48;2;39;40;34m:\\x1b[0m\\n\\x1b[1;38;2;227;227;221;48;2;39;40;34m  \\x1b[0m\\x1b[38;2;101;102;96;48;2;39;40;34m 2 \\x1b[0m\\x1b[1;38;2;248;248;242;48;2;39;40;34m    \\x1b[0m\\x1b[1;38;2;230;219;116;48;2;39;40;34m\"\"\"Iterate and generate a tuple with a flag for first and last value.\"\"\"\\x1b[0m\\n\\x1b[1;38;2;227;227;221;48;2;39;40;34m  \\x1b[0m\\x1b[38;2;101;102;96;48;2;39;40;34m 3 \\x1b[0m\\x1b[1;38;2;248;248;242;48;2;39;40;34m    \\x1b[0m\\x1b[1;38;2;248;248;242;48;2;39;40;34miter_values\\x1b[0m\\x1b[1;38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[1;38;2;255;70;137;48;2;39;40;34m=\\x1b[0m\\x1b[1;38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[1;38;2;248;248;242;48;2;39;40;34miter\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m(\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mvalues\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m)\\x1b[0m\\n\\x1b[1;38;2;227;227;221;48;2;39;40;34m  \\x1b[0m\\x1b[38;2;101;102;96;48;2;39;40;34m 4 \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m    \\x1b[0m\\x1b[38;2;102;217;239;48;2;39;40;34mtry\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m:\\x1b[0m\\n\\x1b[1;38;2;227;227;221;48;2;39;40;34m  \\x1b[0m\\x1b[38;2;101;102;96;48;2;39;40;34m 5 \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m        \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mprevious_value\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;255;70;137;48;2;39;40;34m=\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mnext\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m(\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34miter_values\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m)\\x1b[0m\\n\\x1b[1;38;2;227;227;221;48;2;39;40;34m  \\x1b[0m\\x1b[38;2;101;102;96;48;2;39;40;34m 6 \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m    \\x1b[0m\\x1b[38;2;102;217;239;48;2;39;40;34mexcept\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[7;38;2;166;226;46;48;2;39;40;34mStopIteration\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m:\\x1b[0m\\n\\x1b[1;38;2;227;227;221;48;2;39;40;34m  \\x1b[0m\\x1b[38;2;101;102;96;48;2;39;40;34m 7 \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m        \\x1b[0m\\x1b[38;2;102;217;239;48;2;39;40;34mreturn\\x1b[0m\\n\\x1b[1;38;2;227;227;221;48;2;39;40;34m  \\x1b[0m\\x1b[38;2;101;102;96;48;2;39;40;34m 8 \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m    \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mfirst\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;255;70;137;48;2;39;40;34m=\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;102;217;239;48;2;39;40;34mTrue\\x1b[0m\\n\\x1b[1;38;2;227;227;221;48;2;39;40;34m  \\x1b[0m\\x1b[38;2;101;102;96;48;2;39;40;34m 9 \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m    \\x1b[0m\\x1b[38;2;102;217;239;48;2;39;40;34mfor\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[9;38;2;248;248;242;48;2;39;40;34mvalue\\x1b[0m\\x1b[9;38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[9;38;2;255;70;137;48;2;39;40;34min\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34miter_values\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m:\\x1b[0m\\n\\x1b[1;38;2;227;227;221;48;2;39;40;34m  \\x1b[0m\\x1b[38;2;101;102;96;48;2;39;40;34m10 \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m        \\x1b[0m\\x1b[38;2;102;217;239;48;2;39;40;34myield\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mfirst\\x1b[0m\\x1b[1;38;2;248;248;242;48;2;39;40;34m,\\x1b[0m\\x1b[1;38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[1;38;2;102;217;239;48;2;39;40;34mFalse\\x1b[0m\\x1b[1;38;2;248;248;242;48;2;39;40;34m,\\x1b[0m\\x1b[1;38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[1;38;2;248;248;242;48;2;39;40;34mprevious_value\\x1b[0m\\n\\x1b[1;38;2;227;227;221;48;2;39;40;34m  \\x1b[0m\\x1b[38;2;101;102;96;48;2;39;40;34m11 \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m        \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mfirst\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;255;70;137;48;2;39;40;34m=\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;102;217;239;48;2;39;40;34mFalse\\x1b[0m\\n\\x1b[1;38;2;227;227;221;48;2;39;40;34m  \\x1b[0m\\x1b[38;2;101;102;96;48;2;39;40;34m12 \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m        \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mprevious_value\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;255;70;137;48;2;39;40;34m=\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mvalue\\x1b[0m\\n\\x1b[1;38;2;227;227;221;48;2;39;40;34m  \\x1b[0m\\x1b[38;2;101;102;96;48;2;39;40;34m13 \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m    \\x1b[0m\\x1b[38;2;102;217;239;48;2;39;40;34myield\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mfirst\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m,\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;102;217;239;48;2;39;40;34mTrue\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m,\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mprevious_value\\x1b[0m\\n'\n    assert rendered_syntax == expected",
    "start_line": 295
  },
  {
    "file": "test_syntax.py",
    "type": "function",
    "class": null,
    "method": "test_ansi_theme",
    "name": "test_ansi_theme",
    "content": "def test_ansi_theme():",
    "start_line": 308
  },
  {
    "file": "test_syntax.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "style = Style(color=\"red\")\n    theme = ANSISyntaxTheme({(\"foo\", \"bar\"): style})\n    assert theme.get_style_for_token((\"foo\", \"bar\", \"baz\")) == style\n    assert theme.get_background_style() == Style()\nskip_windows_permission_error = pytest.mark.skipif(\n    sys.platform == \"win32\", reason=\"permissions error on Windows\"\n)\n@skip_windows_permission_error",
    "start_line": 309
  },
  {
    "file": "test_syntax.py",
    "type": "function",
    "class": null,
    "method": "test_from_path",
    "name": "test_from_path",
    "content": "def test_from_path():\n    fh, path = tempfile.mkstemp(\"example.py\")\n    try:\n        os.write(fh, b\"import this\\n\")",
    "start_line": 321
  },
  {
    "file": "test_syntax.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "syntax = Syntax.from_path(path)\n        assert syntax.lexer\n        assert syntax.lexer.name == \"Python\"\n        assert syntax.code == \"import this\\n\"\n    finally:\n        os.remove(path)\n@skip_windows_permission_error",
    "start_line": 325
  },
  {
    "file": "test_syntax.py",
    "type": "function",
    "class": null,
    "method": "test_from_path_unknown_lexer",
    "name": "test_from_path_unknown_lexer",
    "content": "def test_from_path_unknown_lexer():\n    fh, path = tempfile.mkstemp(\"example.nosuchtype\")\n    try:\n        os.write(fh, b\"import this\\n\")",
    "start_line": 334
  },
  {
    "file": "test_syntax.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "syntax = Syntax.from_path(path)\n        assert syntax.lexer is None\n        assert syntax.code == \"import this\\n\"\n    finally:\n        os.remove(path)\n@skip_windows_permission_error",
    "start_line": 338
  },
  {
    "file": "test_syntax.py",
    "type": "function",
    "class": null,
    "method": "test_from_path_lexer_override",
    "name": "test_from_path_lexer_override",
    "content": "def test_from_path_lexer_override():\n    fh, path = tempfile.mkstemp(\"example.nosuchtype\")\n    try:\n        os.write(fh, b\"import this\\n\")",
    "start_line": 346
  },
  {
    "file": "test_syntax.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "syntax = Syntax.from_path(path, lexer=\"rust\")\n        assert syntax.lexer.name == \"Rust\"\n        assert syntax.code == \"import this\\n\"\n    finally:\n        os.remove(path)\n@skip_windows_permission_error",
    "start_line": 350
  },
  {
    "file": "test_syntax.py",
    "type": "function",
    "class": null,
    "method": "test_from_path_lexer_override_invalid_lexer",
    "name": "test_from_path_lexer_override_invalid_lexer",
    "content": "def test_from_path_lexer_override_invalid_lexer():\n    fh, path = tempfile.mkstemp(\"example.nosuchtype\")\n    try:\n        os.write(fh, b\"import this\\n\")",
    "start_line": 358
  },
  {
    "file": "test_syntax.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "syntax = Syntax.from_path(path, lexer=\"blah\")\n        assert syntax.lexer is None\n        assert syntax.code == \"import this\\n\"\n    finally:\n        os.remove(path)",
    "start_line": 362
  },
  {
    "file": "test_syntax.py",
    "type": "function",
    "class": null,
    "method": "test_syntax_guess_lexer",
    "name": "test_syntax_guess_lexer",
    "content": "def test_syntax_guess_lexer():\n    assert Syntax.guess_lexer(\"banana.py\") == \"python\"\n    assert Syntax.guess_lexer(\"banana.py\", \"import this\") == \"python\"\n    assert Syntax.guess_lexer(\"banana.html\", \"<a href='#'>hello</a>\") == \"html\"\n    assert Syntax.guess_lexer(\"banana.html\", \"<%= @foo %>\") == \"rhtml\"\n    assert Syntax.guess_lexer(\"banana.html\", \"{{something|filter:3}}\") == \"html+django\"",
    "start_line": 369
  },
  {
    "file": "test_syntax.py",
    "type": "function",
    "class": null,
    "method": "test_syntax_padding",
    "name": "test_syntax_padding",
    "content": "def test_syntax_padding():",
    "start_line": 377
  },
  {
    "file": "test_syntax.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "syntax = Syntax(\"x = 1\", lexer=\"python\", padding=(1, 3))\n    console = Console(\n        width=20,\n        file=io.StringIO(),\n        color_system=\"truecolor\",\n        legacy_windows=False,\n        record=True,\n    )\n    console.print(syntax)\n    output = console.export_text()\n    assert (\n        output == \"                    \\n   x = 1            \\n                    \\n\"\n    )",
    "start_line": 378
  },
  {
    "file": "test_syntax.py",
    "type": "function",
    "class": null,
    "method": "test_syntax_measure",
    "name": "test_syntax_measure",
    "content": "def test_syntax_measure():",
    "start_line": 393
  },
  {
    "file": "test_syntax.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console()\n    code = Syntax(\"Hello, World\", \"python\")\n    assert code.__rich_measure__(console, console.options) == Measurement(0, 12)\n    code = Syntax(\"Hello, World\", \"python\", line_numbers=True)\n    assert code.__rich_measure__(console, console.options) == Measurement(3, 16)\n    code = Syntax(\"Hello, World\", \"python\", code_width=20, line_numbers=True)\n    assert code.__rich_measure__(console, console.options) == Measurement(3, 24)\n    code = Syntax(\"\", \"python\", code_width=20, line_numbers=True)\n    assert code.__rich_measure__(console, console.options) == Measurement(3, 24)",
    "start_line": 394
  },
  {
    "file": "test_syntax.py",
    "type": "function",
    "class": null,
    "method": "test_background_color_override_includes_padding",
    "name": "test_background_color_override_includes_padding",
    "content": "def test_background_color_override_includes_padding():\n    \"\"\"Regression test for https://github.com/Textualize/rich/issues/3295\"\"\"",
    "start_line": 408
  },
  {
    "file": "test_syntax.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "syntax = Syntax(\n        \"x = 1\",\n        lexer=\"python\",\n        padding=(1, 3),\n        background_color=\"red\",\n    )\n    result = render(syntax)\n    print(repr(result))\n    assert (\n        result\n        == \"\\x1b[41m                                                                                                    \\x1b[0m\\n\\x1b[41m   \\x1b[0m\\x1b[38;2;248;248;242;41mx\\x1b[0m\\x1b[38;2;248;248;242;41m \\x1b[0m\\x1b[38;2;255;70;137;41m=\\x1b[0m\\x1b[38;2;248;248;242;41m \\x1b[0m\\x1b[38;2;174;129;255;41m1\\x1b[0m\\x1b[41m                                                                                         \\x1b[0m\\x1b[41m   \\x1b[0m\\n\\x1b[41m                                                                                                    \\x1b[0m\\n\"\n    )\nif __name__ == \"__main__\":\n    syntax = Panel.fit(\n        Syntax(\n            CODE,\n            lexer=\"python\",\n            line_numbers=True,\n            line_range=(2, 10),\n            theme=\"foo\",\n            code_width=60,\n            word_wrap=True,\n        ),\n        padding=0,\n    )\n    rendered = render(markdown)\n    print(rendered)\n    print(repr(rendered))",
    "start_line": 411
  },
  {
    "file": "test_syntax.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "import io\nimport os\nimport sys\nimport tempfile\n\nimport pytest\nfrom pygments.lexers import PythonLexer\n\nfrom rich.measure import Measurement\nfrom rich.panel import Panel\nfrom rich.style import Style\nfrom rich.syntax import (\n    ANSISyntaxTheme,\n    Color,\n    Console,\n    PygmentsSyntaxTheme,\n    Syntax,\n    _SyntaxHighlightRange,\n)\n\nfrom .render import render\n\nif sys.version_info >= (3, 8):\n    from importlib.metadata import Distribution\nelse:\n    from importlib_metadata import Distribution\n\nPYGMENTS_VERSION = Distribution.from_name(\"pygments\").version\nOLD_PYGMENTS = PYGMENTS_VERSION == \"2.13.0\"\n\nCODE = '''\\\ndef loop_first_last(values: Iterable[T]) -> Iterable[Tuple[bool, bool, T]]:\n    \"\"\"Iterate and generate a tuple with a flag for first and last value.\"\"\"\n    iter_values = iter(values)\n    try:\n        previous_value = next(iter_values)\n    except StopIteration:\n        return\n    first = True\n    for value in iter_values:\n        yield first, False, previous_value\n        first = False\n        previous_value = value\n    yield first, True, previous_value'''\n\n\ndef test_blank_lines():\n    code = \"\\n\\nimport this\\n\\n\"\n    syntax = Syntax(\n        code, lexer=\"python\", theme=\"ascii_light\", code_width=30, line_numbers=True\n    )\n    result = render(syntax)\n    print(repr(result))\n    assert (\n        result\n        == \"\\x1b[1;38;2;24;24;24;48;2;248;248;248m  \\x1b[0m\\x1b[38;2;173;173;173;48;2;248;248;248m1 \\x1b[0m\\x1b[48;2;248;248;248m                              \\x1b[0m\\n\\x1b[1;38;2;24;24;24;48;2;248;248;248m  \\x1b[0m\\x1b[38;2;173;173;173;48;2;248;248;248m2 \\x1b[0m\\x1b[48;2;248;248;248m                              \\x1b[0m\\n\\x1b[1;38;2;24;24;24;48;2;248;248;248m  \\x1b[0m\\x1b[38;2;173;173;173;48;2;248;248;248m3 \\x1b[0m\\x1b[1;38;2;0;128;0;48;2;248;248;248mimport\\x1b[0m\\x1b[38;2;0;0;0;48;2;248;248;248m \\x1b[0m\\x1b[1;38;2;0;0;255;48;2;248;248;248mthis\\x1b[0m\\x1b[48;2;248;248;248m                   \\x1b[0m\\n\\x1b[1;38;2;24;24;24;48;2;248;248;248m  \\x1b[0m\\x1b[38;2;173;173;173;48;2;248;248;248m4 \\x1b[0m\\x1b[48;2;248;248;248m                              \\x1b[0m\\n\\x1b[1;38;2;24;24;24;48;2;248;248;248m  \\x1b[0m\\x1b[38;2;173;173;173;48;2;248;248;248m5 \\x1b[0m\\x1b[48;2;248;248;248m                              \\x1b[0m\\n\"\n    )\n\n\ndef test_python_render():\n    syntax = Panel.fit(\n        Syntax(\n            CODE,\n            lexer=\"python\",\n            line_numbers=True,\n            line_range=(2, 10),\n            theme=\"monokai\",\n            code_width=60,\n            word_wrap=True,\n        ),\n        padding=0,\n    )\n    rendered_syntax = render(syntax)\n    print(repr(rendered_syntax))\n    expected = '\\n\\x1b[1;38;2;227;227;221;48;2;39;40;34m  \\x1b[0m\\x1b[38;2;101;102;96;48;2;39;40;34m 2 \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m    \\x1b[0m\\x1b[38;2;230;219;116;48;2;39;40;34m\"\"\"Iterate and generate a tuple with a flag for first \\x1b[0m\\x1b[48;2;39;40;34m  \\x1b[0m\\n\\x1b[48;2;39;40;34m     \\x1b[0m\\x1b[38;2;230;219;116;48;2;39;40;34mand last value.\"\"\"\\x1b[0m\\x1b[48;2;39;40;34m                                          \\x1b[0m\\n\\x1b[1;38;2;227;227;221;48;2;39;40;34m  \\x1b[0m\\x1b[38;2;101;102;96;48;2;39;40;34m 3 \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m    \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34miter_values\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;255;70;137;48;2;39;40;34m=\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34miter\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m(\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mvalues\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m)\\x1b[0m\\x1b[48;2;39;40;34m                              \\x1b[0m\\n\\x1b[1;38;2;227;227;221;48;2;39;40;34m  \\x1b[0m\\x1b[38;2;101;102;96;48;2;39;40;34m 4 \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m    \\x1b[0m\\x1b[38;2;102;217;239;48;2;39;40;34mtry\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m:\\x1b[0m\\x1b[48;2;39;40;34m                                                    \\x1b[0m\\n\\x1b[1;38;2;227;227;221;48;2;39;40;34m  \\x1b[0m\\x1b[38;2;101;102;96;48;2;39;40;34m 5 \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m        \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mprevious_value\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;255;70;137;48;2;39;40;34m=\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mnext\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m(\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34miter_values\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m)\\x1b[0m\\x1b[48;2;39;40;34m                  \\x1b[0m\\n\\x1b[1;38;2;227;227;221;48;2;39;40;34m  \\x1b[0m\\x1b[38;2;101;102;96;48;2;39;40;34m 6 \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m    \\x1b[0m\\x1b[38;2;102;217;239;48;2;39;40;34mexcept\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;166;226;46;48;2;39;40;34mStopIteration\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m:\\x1b[0m\\x1b[48;2;39;40;34m                                   \\x1b[0m\\n\\x1b[1;38;2;227;227;221;48;2;39;40;34m  \\x1b[0m\\x1b[38;2;101;102;96;48;2;39;40;34m 7 \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m        \\x1b[0m\\x1b[38;2;102;217;239;48;2;39;40;34mreturn\\x1b[0m\\x1b[48;2;39;40;34m                                              \\x1b[0m\\n\\x1b[1;38;2;227;227;221;48;2;39;40;34m  \\x1b[0m\\x1b[38;2;101;102;96;48;2;39;40;34m 8 \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m    \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mfirst\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;255;70;137;48;2;39;40;34m=\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;102;217;239;48;2;39;40;34mTrue\\x1b[0m\\x1b[48;2;39;40;34m                                            \\x1b[0m\\n\\x1b[1;38;2;227;227;221;48;2;39;40;34m  \\x1b[0m\\x1b[38;2;101;102;96;48;2;39;40;34m 9 \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m    \\x1b[0m\\x1b[38;2;102;217;239;48;2;39;40;34mfor\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mvalue\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;255;70;137;48;2;39;40;34min\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34miter_values\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m:\\x1b[0m\\x1b[48;2;39;40;34m                               \\x1b[0m\\n\\x1b[1;38;2;227;227;221;48;2;39;40;34m  \\x1b[0m\\x1b[38;2;101;102;96;48;2;39;40;34m10 \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m        \\x1b[0m\\x1b[38;2;102;217;239;48;2;39;40;34myield\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mfirst\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m,\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;102;217;239;48;2;39;40;34mFalse\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m,\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mprevious_value\\x1b[0m\\x1b[48;2;39;40;34m                  \\x1b[0m\\n\\n'\n    assert rendered_syntax == expected\n\n\ndef test_python_render_simple():\n    syntax = Syntax(\n        CODE,\n        lexer=\"python\",\n        line_numbers=False,\n        theme=\"monokai\",\n        code_width=60,\n        word_wrap=False,\n    )\n    rendered_syntax = render(syntax)\n    print(repr(rendered_syntax))\n    expected = '\\x1b[38;2;102;217;239;48;2;39;40;34mdef\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;166;226;46;48;2;39;40;34mloop_first_last\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m(\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mvalues\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m:\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mIterable\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m[\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mT\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m]\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m)\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;255;70;137;48;2;39;40;34m-\\x1b[0m\\x1b[38;2;255;70;137;48;2;39;40;34m>\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mIterable\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m[\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mTuple\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m[\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mb\\x1b[0m\\n\\x1b[38;2;248;248;242;48;2;39;40;34m    \\x1b[0m\\x1b[38;2;230;219;116;48;2;39;40;34m\"\"\"Iterate and generate a tuple with a flag for first an\\x1b[0m\\n\\x1b[38;2;248;248;242;48;2;39;40;34m    \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34miter_values\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;255;70;137;48;2;39;40;34m=\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34miter\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m(\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mvalues\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m)\\x1b[0m\\x1b[48;2;39;40;34m                              \\x1b[0m\\n\\x1b[38;2;248;248;242;48;2;39;40;34m    \\x1b[0m\\x1b[38;2;102;217;239;48;2;39;40;34mtry\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m:\\x1b[0m\\x1b[48;2;39;40;34m                                                    \\x1b[0m\\n\\x1b[38;2;248;248;242;48;2;39;40;34m        \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mprevious_value\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;255;70;137;48;2;39;40;34m=\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mnext\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m(\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34miter_values\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m)\\x1b[0m\\x1b[48;2;39;40;34m                  \\x1b[0m\\n\\x1b[38;2;248;248;242;48;2;39;40;34m    \\x1b[0m\\x1b[38;2;102;217;239;48;2;39;40;34mexcept\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;166;226;46;48;2;39;40;34mStopIteration\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m:\\x1b[0m\\x1b[48;2;39;40;34m                                   \\x1b[0m\\n\\x1b[38;2;248;248;242;48;2;39;40;34m        \\x1b[0m\\x1b[38;2;102;217;239;48;2;39;40;34mreturn\\x1b[0m\\x1b[48;2;39;40;34m                                              \\x1b[0m\\n\\x1b[38;2;248;248;242;48;2;39;40;34m    \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mfirst\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;255;70;137;48;2;39;40;34m=\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;102;217;239;48;2;39;40;34mTrue\\x1b[0m\\x1b[48;2;39;40;34m                                            \\x1b[0m\\n\\x1b[38;2;248;248;242;48;2;39;40;34m    \\x1b[0m\\x1b[38;2;102;217;239;48;2;39;40;34mfor\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mvalue\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;255;70;137;48;2;39;40;34min\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34miter_values\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m:\\x1b[0m\\x1b[48;2;39;40;34m                               \\x1b[0m\\n\\x1b[38;2;248;248;242;48;2;39;40;34m        \\x1b[0m\\x1b[38;2;102;217;239;48;2;39;40;34myield\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mfirst\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m,\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;102;217;239;48;2;39;40;34mFalse\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m,\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mprevious_value\\x1b[0m\\x1b[48;2;39;40;34m                  \\x1b[0m\\n\\x1b[38;2;248;248;242;48;2;39;40;34m        \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mfirst\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;255;70;137;48;2;39;40;34m=\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;102;217;239;48;2;39;40;34mFalse\\x1b[0m\\x1b[48;2;39;40;34m                                       \\x1b[0m\\n\\x1b[38;2;248;248;242;48;2;39;40;34m        \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mprevious_value\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;255;70;137;48;2;39;40;34m=\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mvalue\\x1b[0m\\x1b[48;2;39;40;34m                              \\x1b[0m\\n\\x1b[38;2;248;248;242;48;2;39;40;34m    \\x1b[0m\\x1b[38;2;102;217;239;48;2;39;40;34myield\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mfirst\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m,\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;102;217;239;48;2;39;40;34mTrue\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m,\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mprevious_value\\x1b[0m\\x1b[48;2;39;40;34m                       \\x1b[0m\\n'\n    assert rendered_syntax == expected\n\n\ndef test_python_render_simple_passing_lexer_instance():\n    syntax = Syntax(\n        CODE,\n        lexer=PythonLexer(),\n        line_numbers=False,\n        theme=\"monokai\",\n        code_width=60,\n        word_wrap=False,\n    )\n    rendered_syntax = render(syntax)\n    print(repr(rendered_syntax))\n    expected = '\\x1b[38;2;102;217;239;48;2;39;40;34mdef\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;166;226;46;48;2;39;40;34mloop_first_last\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m(\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mvalues\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m:\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mIterable\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m[\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mT\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m]\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m)\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;255;70;137;48;2;39;40;34m-\\x1b[0m\\x1b[38;2;255;70;137;48;2;39;40;34m>\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mIterable\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m[\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mTuple\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m[\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mb\\x1b[0m\\n\\x1b[38;2;248;248;242;48;2;39;40;34m    \\x1b[0m\\x1b[38;2;230;219;116;48;2;39;40;34m\"\"\"Iterate and generate a tuple with a flag for first an\\x1b[0m\\n\\x1b[38;2;248;248;242;48;2;39;40;34m    \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34miter_values\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;255;70;137;48;2;39;40;34m=\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34miter\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m(\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mvalues\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m)\\x1b[0m\\x1b[48;2;39;40;34m                              \\x1b[0m\\n\\x1b[38;2;248;248;242;48;2;39;40;34m    \\x1b[0m\\x1b[38;2;102;217;239;48;2;39;40;34mtry\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m:\\x1b[0m\\x1b[48;2;39;40;34m                                                    \\x1b[0m\\n\\x1b[38;2;248;248;242;48;2;39;40;34m        \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mprevious_value\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;255;70;137;48;2;39;40;34m=\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mnext\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m(\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34miter_values\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m)\\x1b[0m\\x1b[48;2;39;40;34m                  \\x1b[0m\\n\\x1b[38;2;248;248;242;48;2;39;40;34m    \\x1b[0m\\x1b[38;2;102;217;239;48;2;39;40;34mexcept\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;166;226;46;48;2;39;40;34mStopIteration\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m:\\x1b[0m\\x1b[48;2;39;40;34m                                   \\x1b[0m\\n\\x1b[38;2;248;248;242;48;2;39;40;34m        \\x1b[0m\\x1b[38;2;102;217;239;48;2;39;40;34mreturn\\x1b[0m\\x1b[48;2;39;40;34m                                              \\x1b[0m\\n\\x1b[38;2;248;248;242;48;2;39;40;34m    \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mfirst\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;255;70;137;48;2;39;40;34m=\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;102;217;239;48;2;39;40;34mTrue\\x1b[0m\\x1b[48;2;39;40;34m                                            \\x1b[0m\\n\\x1b[38;2;248;248;242;48;2;39;40;34m    \\x1b[0m\\x1b[38;2;102;217;239;48;2;39;40;34mfor\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mvalue\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;255;70;137;48;2;39;40;34min\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34miter_values\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m:\\x1b[0m\\x1b[48;2;39;40;34m                               \\x1b[0m\\n\\x1b[38;2;248;248;242;48;2;39;40;34m        \\x1b[0m\\x1b[38;2;102;217;239;48;2;39;40;34myield\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mfirst\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m,\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;102;217;239;48;2;39;40;34mFalse\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m,\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mprevious_value\\x1b[0m\\x1b[48;2;39;40;34m                  \\x1b[0m\\n\\x1b[38;2;248;248;242;48;2;39;40;34m        \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mfirst\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;255;70;137;48;2;39;40;34m=\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;102;217;239;48;2;39;40;34mFalse\\x1b[0m\\x1b[48;2;39;40;34m                                       \\x1b[0m\\n\\x1b[38;2;248;248;242;48;2;39;40;34m        \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mprevious_value\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;255;70;137;48;2;39;40;34m=\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mvalue\\x1b[0m\\x1b[48;2;39;40;34m                              \\x1b[0m\\n\\x1b[38;2;248;248;242;48;2;39;40;34m    \\x1b[0m\\x1b[38;2;102;217;239;48;2;39;40;34myield\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mfirst\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m,\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;102;217;239;48;2;39;40;34mTrue\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m,\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mprevious_value\\x1b[0m\\x1b[48;2;39;40;34m                       \\x1b[0m\\n'\n    assert rendered_syntax == expected\n\n\n@pytest.mark.skipif(OLD_PYGMENTS, reason=\"Pygments changed their tokenizer\")\ndef test_python_render_simple_indent_guides():\n    syntax = Syntax(\n        CODE,\n        lexer=\"python\",\n        line_numbers=False,\n        theme=\"ansi_light\",\n        code_width=60,\n        word_wrap=False,\n        indent_guides=True,\n    )\n    rendered_syntax = render(syntax)\n    print(repr(rendered_syntax))\n    expected = '\\x1b[34mdef\\x1b[0m \\x1b[32mloop_first_last\\x1b[0m(values: Iterable[T]) -> Iterable[Tuple[\\x1b[36mb\\x1b[0m\\n\\x1b[2;37m   \\x1b[0m\\x1b[33m\"\"\"Iterate and generate a tuple with a flag for first an\\x1b[0m\\n\\x1b[2m   \\x1b[0miter_values = \\x1b[36miter\\x1b[0m(values)\\n\\x1b[2m   \\x1b[0m\\x1b[34mtry\\x1b[0m:\\n\\x1b[2m      \\x1b[0mprevious_value = \\x1b[36mnext\\x1b[0m(iter_values)\\n\\x1b[2m   \\x1b[0m\\x1b[34mexcept\\x1b[0m \\x1b[36mStopIteration\\x1b[0m:\\n\\x1b[2m      \\x1b[0m\\x1b[34mreturn\\x1b[0m\\n\\x1b[2m   \\x1b[0mfirst = \\x1b[34mTrue\\x1b[0m\\n\\x1b[2m   \\x1b[0m\\x1b[34mfor\\x1b[0m value \\x1b[35min\\x1b[0m iter_values:\\n\\x1b[2m      \\x1b[0m\\x1b[34myield\\x1b[0m first, \\x1b[34mFalse\\x1b[0m, previous_value\\n\\x1b[2m      \\x1b[0mfirst = \\x1b[34mFalse\\x1b[0m\\n\\x1b[2m      \\x1b[0mprevious_value = value\\n\\x1b[2m   \\x1b[0m\\x1b[34myield\\x1b[0m first, \\x1b[34mTrue\\x1b[0m, previous_value\\n'\n    assert rendered_syntax == expected\n\n\n@pytest.mark.skipif(OLD_PYGMENTS, reason=\"Pygments changed their tokenizer\")\ndef test_python_render_line_range_indent_guides():\n    syntax = Syntax(\n        CODE,\n        lexer=\"python\",\n        line_numbers=False,\n        theme=\"ansi_light\",\n        code_width=60,\n        word_wrap=False,\n        line_range=(2, 3),\n        indent_guides=True,\n    )\n    rendered_syntax = render(syntax)\n    print(repr(rendered_syntax))\n    expected = '\\x1b[2;37m   \\x1b[0m\\x1b[33m\"\"\"Iterate and generate a tuple with a flag for first an\\x1b[0m\\n\\x1b[2m   \\x1b[0miter_values = \\x1b[36miter\\x1b[0m(values)\\n'\n    assert rendered_syntax == expected\n\n\ndef test_python_render_indent_guides():\n    syntax = Panel.fit(\n        Syntax(\n            CODE,\n            lexer=\"python\",\n            line_numbers=True,\n            line_range=(2, 10),\n            theme=\"monokai\",\n            code_width=60,\n            word_wrap=True,\n            indent_guides=True,\n        ),\n        padding=0,\n    )\n    rendered_syntax = render(syntax)\n    print(repr(rendered_syntax))\n    expected = '\\n\\x1b[1;38;2;227;227;221;48;2;39;40;34m  \\x1b[0m\\x1b[38;2;101;102;96;48;2;39;40;34m 2 \\x1b[0m\\x1b[2;38;2;149;144;119;48;2;39;40;34m   \\x1b[0m\\x1b[38;2;230;219;116;48;2;39;40;34m\"\"\"Iterate and generate a tuple with a flag for first \\x1b[0m\\x1b[48;2;39;40;34m  \\x1b[0m\\n\\x1b[48;2;39;40;34m     \\x1b[0m\\x1b[38;2;230;219;116;48;2;39;40;34mand last value.\"\"\"\\x1b[0m\\x1b[48;2;39;40;34m                                          \\x1b[0m\\n\\x1b[1;38;2;227;227;221;48;2;39;40;34m  \\x1b[0m\\x1b[38;2;101;102;96;48;2;39;40;34m 3 \\x1b[0m\\x1b[2;38;2;149;144;119;48;2;39;40;34m   \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34miter_values\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;255;70;137;48;2;39;40;34m=\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34miter\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m(\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mvalues\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m)\\x1b[0m\\x1b[48;2;39;40;34m                              \\x1b[0m\\n\\x1b[1;38;2;227;227;221;48;2;39;40;34m  \\x1b[0m\\x1b[38;2;101;102;96;48;2;39;40;34m 4 \\x1b[0m\\x1b[2;38;2;149;144;119;48;2;39;40;34m   \\x1b[0m\\x1b[38;2;102;217;239;48;2;39;40;34mtry\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m:\\x1b[0m\\x1b[48;2;39;40;34m                                                    \\x1b[0m\\n\\x1b[1;38;2;227;227;221;48;2;39;40;34m  \\x1b[0m\\x1b[38;2;101;102;96;48;2;39;40;34m 5 \\x1b[0m\\x1b[2;38;2;149;144;119;48;2;39;40;34m      \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mprevious_value\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;255;70;137;48;2;39;40;34m=\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mnext\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m(\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34miter_values\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m)\\x1b[0m\\x1b[48;2;39;40;34m                  \\x1b[0m\\n\\x1b[1;38;2;227;227;221;48;2;39;40;34m  \\x1b[0m\\x1b[38;2;101;102;96;48;2;39;40;34m 6 \\x1b[0m\\x1b[2;38;2;149;144;119;48;2;39;40;34m   \\x1b[0m\\x1b[38;2;102;217;239;48;2;39;40;34mexcept\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;166;226;46;48;2;39;40;34mStopIteration\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m:\\x1b[0m\\x1b[48;2;39;40;34m                                   \\x1b[0m\\n\\x1b[1;38;2;227;227;221;48;2;39;40;34m  \\x1b[0m\\x1b[38;2;101;102;96;48;2;39;40;34m 7 \\x1b[0m\\x1b[2;38;2;149;144;119;48;2;39;40;34m      \\x1b[0m\\x1b[38;2;102;217;239;48;2;39;40;34mreturn\\x1b[0m\\x1b[48;2;39;40;34m                                              \\x1b[0m\\n\\x1b[1;38;2;227;227;221;48;2;39;40;34m  \\x1b[0m\\x1b[38;2;101;102;96;48;2;39;40;34m 8 \\x1b[0m\\x1b[2;38;2;149;144;119;48;2;39;40;34m   \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mfirst\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;255;70;137;48;2;39;40;34m=\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;102;217;239;48;2;39;40;34mTrue\\x1b[0m\\x1b[48;2;39;40;34m                                            \\x1b[0m\\n\\x1b[1;38;2;227;227;221;48;2;39;40;34m  \\x1b[0m\\x1b[38;2;101;102;96;48;2;39;40;34m 9 \\x1b[0m\\x1b[2;38;2;149;144;119;48;2;39;40;34m   \\x1b[0m\\x1b[38;2;102;217;239;48;2;39;40;34mfor\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mvalue\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;255;70;137;48;2;39;40;34min\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34miter_values\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m:\\x1b[0m\\x1b[48;2;39;40;34m                               \\x1b[0m\\n\\x1b[1;38;2;227;227;221;48;2;39;40;34m  \\x1b[0m\\x1b[38;2;101;102;96;48;2;39;40;34m10 \\x1b[0m\\x1b[2;38;2;149;144;119;48;2;39;40;34m      \\x1b[0m\\x1b[38;2;102;217;239;48;2;39;40;34myield\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mfirst\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m,\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;102;217;239;48;2;39;40;34mFalse\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m,\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mprevious_value\\x1b[0m\\x1b[48;2;39;40;34m                  \\x1b[0m\\n\\n'\n    assert rendered_syntax == expected\n\n\ndef test_pygments_syntax_theme_non_str():\n    from pygments.style import Style as PygmentsStyle\n\n    style = PygmentsSyntaxTheme(PygmentsStyle())\n    assert style.get_background_style().bgcolor == Color.parse(\"#ffffff\")\n\n\ndef test_pygments_syntax_theme():\n    style = PygmentsSyntaxTheme(\"default\")\n    assert style.get_style_for_token(\"abc\") == Style.parse(\"none\")\n\n\ndef test_get_line_color_none():\n    style = PygmentsSyntaxTheme(\"default\")\n    style._background_style = Style(bgcolor=None)\n    syntax = Syntax(\n        CODE,\n        lexer=\"python\",\n        line_numbers=True,\n        line_range=(2, 10),\n        theme=style,\n        code_width=60,\n        word_wrap=True,\n        background_color=\"red\",\n    )\n    assert syntax._get_line_numbers_color() == Color.default()\n\n\ndef test_highlight_background_color():\n    syntax = Syntax(\n        CODE,\n        lexer=\"python\",\n        line_numbers=True,\n        line_range=(2, 10),\n        theme=\"foo\",\n        code_width=60,\n        word_wrap=True,\n        background_color=\"red\",\n    )\n    assert syntax.highlight(CODE).style == Style.parse(\"on red\")\n\n\ndef test_get_number_styles():\n    syntax = Syntax(CODE, \"python\", theme=\"monokai\", line_numbers=True)\n    console = Console(color_system=\"windows\")\n    assert syntax._get_number_styles(console=console) == (\n        Style.parse(\"on #272822\"),\n        Style.parse(\"dim on #272822\"),\n        Style.parse(\"not dim on #272822\"),\n    )\n\n\ndef test_get_style_for_token():\n    # from pygments.style import Style as PygmentsStyle\n    # pygments_style = PygmentsStyle()\n    from pygments.style import Token\n\n    style = PygmentsSyntaxTheme(\"default\")\n    style_dict = {Token.Text: Style(color=None)}\n    style._style_cache = style_dict\n    syntax = Syntax(\n        CODE,\n        lexer=\"python\",\n        line_numbers=True,\n        line_range=(2, 10),\n        theme=style,\n        code_width=60,\n        word_wrap=True,\n        background_color=\"red\",\n    )\n    assert syntax._get_line_numbers_color() == Color.default()\n\n\ndef test_option_no_wrap():\n    syntax = Syntax(\n        CODE,\n        lexer=\"python\",\n        line_numbers=True,\n        line_range=(2, 10),\n        code_width=60,\n        word_wrap=False,\n        background_color=\"red\",\n    )\n\n    rendered_syntax = render(syntax, True)\n    print(repr(rendered_syntax))\n    expected = '\\x1b[1;39;41m  \\x1b[0m\\x1b[39;41m 2 \\x1b[0m\\x1b[38;2;248;248;242;41m    \\x1b[0m\\x1b[38;2;230;219;116;41m\"\"\"Iterate and generate a tuple with a flag for first and last value.\"\"\"\\x1b[0m\\n\\x1b[1;39;41m  \\x1b[0m\\x1b[39;41m 3 \\x1b[0m\\x1b[38;2;248;248;242;41m    \\x1b[0m\\x1b[38;2;248;248;242;41miter_values\\x1b[0m\\x1b[38;2;248;248;242;41m \\x1b[0m\\x1b[38;2;255;70;137;41m=\\x1b[0m\\x1b[38;2;248;248;242;41m \\x1b[0m\\x1b[38;2;248;248;242;41miter\\x1b[0m\\x1b[38;2;248;248;242;41m(\\x1b[0m\\x1b[38;2;248;248;242;41mvalues\\x1b[0m\\x1b[38;2;248;248;242;41m)\\x1b[0m\\n\\x1b[1;39;41m  \\x1b[0m\\x1b[39;41m 4 \\x1b[0m\\x1b[38;2;248;248;242;41m    \\x1b[0m\\x1b[38;2;102;217;239;41mtry\\x1b[0m\\x1b[38;2;248;248;242;41m:\\x1b[0m\\n\\x1b[1;39;41m  \\x1b[0m\\x1b[39;41m 5 \\x1b[0m\\x1b[38;2;248;248;242;41m        \\x1b[0m\\x1b[38;2;248;248;242;41mprevious_value\\x1b[0m\\x1b[38;2;248;248;242;41m \\x1b[0m\\x1b[38;2;255;70;137;41m=\\x1b[0m\\x1b[38;2;248;248;242;41m \\x1b[0m\\x1b[38;2;248;248;242;41mnext\\x1b[0m\\x1b[38;2;248;248;242;41m(\\x1b[0m\\x1b[38;2;248;248;242;41miter_values\\x1b[0m\\x1b[38;2;248;248;242;41m)\\x1b[0m\\n\\x1b[1;39;41m  \\x1b[0m\\x1b[39;41m 6 \\x1b[0m\\x1b[38;2;248;248;242;41m    \\x1b[0m\\x1b[38;2;102;217;239;41mexcept\\x1b[0m\\x1b[38;2;248;248;242;41m \\x1b[0m\\x1b[38;2;166;226;46;41mStopIteration\\x1b[0m\\x1b[38;2;248;248;242;41m:\\x1b[0m\\n\\x1b[1;39;41m  \\x1b[0m\\x1b[39;41m 7 \\x1b[0m\\x1b[38;2;248;248;242;41m        \\x1b[0m\\x1b[38;2;102;217;239;41mreturn\\x1b[0m\\n\\x1b[1;39;41m  \\x1b[0m\\x1b[39;41m 8 \\x1b[0m\\x1b[38;2;248;248;242;41m    \\x1b[0m\\x1b[38;2;248;248;242;41mfirst\\x1b[0m\\x1b[38;2;248;248;242;41m \\x1b[0m\\x1b[38;2;255;70;137;41m=\\x1b[0m\\x1b[38;2;248;248;242;41m \\x1b[0m\\x1b[38;2;102;217;239;41mTrue\\x1b[0m\\n\\x1b[1;39;41m  \\x1b[0m\\x1b[39;41m 9 \\x1b[0m\\x1b[38;2;248;248;242;41m    \\x1b[0m\\x1b[38;2;102;217;239;41mfor\\x1b[0m\\x1b[38;2;248;248;242;41m \\x1b[0m\\x1b[38;2;248;248;242;41mvalue\\x1b[0m\\x1b[38;2;248;248;242;41m \\x1b[0m\\x1b[38;2;255;70;137;41min\\x1b[0m\\x1b[38;2;248;248;242;41m \\x1b[0m\\x1b[38;2;248;248;242;41miter_values\\x1b[0m\\x1b[38;2;248;248;242;41m:\\x1b[0m\\n\\x1b[1;39;41m  \\x1b[0m\\x1b[39;41m10 \\x1b[0m\\x1b[38;2;248;248;242;41m        \\x1b[0m\\x1b[38;2;102;217;239;41myield\\x1b[0m\\x1b[38;2;248;248;242;41m \\x1b[0m\\x1b[38;2;248;248;242;41mfirst\\x1b[0m\\x1b[38;2;248;248;242;41m,\\x1b[0m\\x1b[38;2;248;248;242;41m \\x1b[0m\\x1b[38;2;102;217;239;41mFalse\\x1b[0m\\x1b[38;2;248;248;242;41m,\\x1b[0m\\x1b[38;2;248;248;242;41m \\x1b[0m\\x1b[38;2;248;248;242;41mprevious_value\\x1b[0m\\n'\n    assert rendered_syntax == expected\n\n\ndef test_syntax_highlight_ranges():\n    syntax = Syntax(\n        CODE,\n        lexer=\"python\",\n        line_numbers=True,\n        word_wrap=False,\n    )\n    stylized_ranges = [\n        _SyntaxHighlightRange(\n            # overline the 2nd char of the 1st line:\n            start=(1, 1),\n            end=(1, 2),\n            style=Style(overline=True),\n        ),\n        _SyntaxHighlightRange(\n            start=(1, len(\"def loop_\")),\n            end=(1, len(\"def loop_first_last\")),\n            style=Style(underline=True),\n        ),\n        _SyntaxHighlightRange(\n            start=(1, len(\"def loop_first\")),\n            end=(3, len(\"    iter_values = iter\")),\n            style=Style(bold=True),\n        ),\n        _SyntaxHighlightRange(\n            start=(9, len(\"    for \")),\n            end=(9, len(\"    for value in\")),\n            style=Style(strike=True),\n        ),\n        _SyntaxHighlightRange(\n            start=(6, len(\"    except \")),\n            end=(6, len(\"    except StopIteration\")),\n            style=Style(reverse=True),\n        ),\n        _SyntaxHighlightRange(\n            start=(10, len(\"       yield first,\")),\n            # `column_index` is out of range: should be clamped to the line length:\n            end=(10, 300),\n            style=Style(bold=True),\n        ),\n        # For this one the end `line_number` is out of range, so it should have no impact:\n        _SyntaxHighlightRange(\n            start=(1, 1),\n            end=(30, 2),\n            style=Style(bold=True),\n        ),\n    ]\n    for range_ in stylized_ranges:\n        syntax.stylize_range(range_.style, range_.start, range_.end)\n    rendered_syntax = render(syntax, True)\n    print(repr(rendered_syntax))\n    expected = '\\x1b[1;38;2;227;227;221;48;2;39;40;34m  \\x1b[0m\\x1b[38;2;101;102;96;48;2;39;40;34m 1 \\x1b[0m\\x1b[38;2;102;217;239;48;2;39;40;34md\\x1b[0m\\x1b[53;38;2;102;217;239;48;2;39;40;34me\\x1b[0m\\x1b[38;2;102;217;239;48;2;39;40;34mf\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;166;226;46;48;2;39;40;34mloop_\\x1b[0m\\x1b[4;38;2;166;226;46;48;2;39;40;34mfirst\\x1b[0m\\x1b[1;4;38;2;166;226;46;48;2;39;40;34m_last\\x1b[0m\\x1b[1;38;2;248;248;242;48;2;39;40;34m(\\x1b[0m\\x1b[1;38;2;248;248;242;48;2;39;40;34mvalues\\x1b[0m\\x1b[1;38;2;248;248;242;48;2;39;40;34m:\\x1b[0m\\x1b[1;38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[1;38;2;248;248;242;48;2;39;40;34mIterable\\x1b[0m\\x1b[1;38;2;248;248;242;48;2;39;40;34m[\\x1b[0m\\x1b[1;38;2;248;248;242;48;2;39;40;34mT\\x1b[0m\\x1b[1;38;2;248;248;242;48;2;39;40;34m]\\x1b[0m\\x1b[1;38;2;248;248;242;48;2;39;40;34m)\\x1b[0m\\x1b[1;38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[1;38;2;255;70;137;48;2;39;40;34m-\\x1b[0m\\x1b[1;38;2;255;70;137;48;2;39;40;34m>\\x1b[0m\\x1b[1;38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[1;38;2;248;248;242;48;2;39;40;34mIterable\\x1b[0m\\x1b[1;38;2;248;248;242;48;2;39;40;34m[\\x1b[0m\\x1b[1;38;2;248;248;242;48;2;39;40;34mTuple\\x1b[0m\\x1b[1;38;2;248;248;242;48;2;39;40;34m[\\x1b[0m\\x1b[1;38;2;248;248;242;48;2;39;40;34mbool\\x1b[0m\\x1b[1;38;2;248;248;242;48;2;39;40;34m,\\x1b[0m\\x1b[1;38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[1;38;2;248;248;242;48;2;39;40;34mbool\\x1b[0m\\x1b[1;38;2;248;248;242;48;2;39;40;34m,\\x1b[0m\\x1b[1;38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[1;38;2;248;248;242;48;2;39;40;34mT\\x1b[0m\\x1b[1;38;2;248;248;242;48;2;39;40;34m]\\x1b[0m\\x1b[1;38;2;248;248;242;48;2;39;40;34m]\\x1b[0m\\x1b[1;38;2;248;248;242;48;2;39;40;34m:\\x1b[0m\\n\\x1b[1;38;2;227;227;221;48;2;39;40;34m  \\x1b[0m\\x1b[38;2;101;102;96;48;2;39;40;34m 2 \\x1b[0m\\x1b[1;38;2;248;248;242;48;2;39;40;34m    \\x1b[0m\\x1b[1;38;2;230;219;116;48;2;39;40;34m\"\"\"Iterate and generate a tuple with a flag for first and last value.\"\"\"\\x1b[0m\\n\\x1b[1;38;2;227;227;221;48;2;39;40;34m  \\x1b[0m\\x1b[38;2;101;102;96;48;2;39;40;34m 3 \\x1b[0m\\x1b[1;38;2;248;248;242;48;2;39;40;34m    \\x1b[0m\\x1b[1;38;2;248;248;242;48;2;39;40;34miter_values\\x1b[0m\\x1b[1;38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[1;38;2;255;70;137;48;2;39;40;34m=\\x1b[0m\\x1b[1;38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[1;38;2;248;248;242;48;2;39;40;34miter\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m(\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mvalues\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m)\\x1b[0m\\n\\x1b[1;38;2;227;227;221;48;2;39;40;34m  \\x1b[0m\\x1b[38;2;101;102;96;48;2;39;40;34m 4 \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m    \\x1b[0m\\x1b[38;2;102;217;239;48;2;39;40;34mtry\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m:\\x1b[0m\\n\\x1b[1;38;2;227;227;221;48;2;39;40;34m  \\x1b[0m\\x1b[38;2;101;102;96;48;2;39;40;34m 5 \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m        \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mprevious_value\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;255;70;137;48;2;39;40;34m=\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mnext\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m(\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34miter_values\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m)\\x1b[0m\\n\\x1b[1;38;2;227;227;221;48;2;39;40;34m  \\x1b[0m\\x1b[38;2;101;102;96;48;2;39;40;34m 6 \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m    \\x1b[0m\\x1b[38;2;102;217;239;48;2;39;40;34mexcept\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[7;38;2;166;226;46;48;2;39;40;34mStopIteration\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m:\\x1b[0m\\n\\x1b[1;38;2;227;227;221;48;2;39;40;34m  \\x1b[0m\\x1b[38;2;101;102;96;48;2;39;40;34m 7 \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m        \\x1b[0m\\x1b[38;2;102;217;239;48;2;39;40;34mreturn\\x1b[0m\\n\\x1b[1;38;2;227;227;221;48;2;39;40;34m  \\x1b[0m\\x1b[38;2;101;102;96;48;2;39;40;34m 8 \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m    \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mfirst\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;255;70;137;48;2;39;40;34m=\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;102;217;239;48;2;39;40;34mTrue\\x1b[0m\\n\\x1b[1;38;2;227;227;221;48;2;39;40;34m  \\x1b[0m\\x1b[38;2;101;102;96;48;2;39;40;34m 9 \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m    \\x1b[0m\\x1b[38;2;102;217;239;48;2;39;40;34mfor\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[9;38;2;248;248;242;48;2;39;40;34mvalue\\x1b[0m\\x1b[9;38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[9;38;2;255;70;137;48;2;39;40;34min\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34miter_values\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m:\\x1b[0m\\n\\x1b[1;38;2;227;227;221;48;2;39;40;34m  \\x1b[0m\\x1b[38;2;101;102;96;48;2;39;40;34m10 \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m        \\x1b[0m\\x1b[38;2;102;217;239;48;2;39;40;34myield\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mfirst\\x1b[0m\\x1b[1;38;2;248;248;242;48;2;39;40;34m,\\x1b[0m\\x1b[1;38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[1;38;2;102;217;239;48;2;39;40;34mFalse\\x1b[0m\\x1b[1;38;2;248;248;242;48;2;39;40;34m,\\x1b[0m\\x1b[1;38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[1;38;2;248;248;242;48;2;39;40;34mprevious_value\\x1b[0m\\n\\x1b[1;38;2;227;227;221;48;2;39;40;34m  \\x1b[0m\\x1b[38;2;101;102;96;48;2;39;40;34m11 \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m        \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mfirst\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;255;70;137;48;2;39;40;34m=\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;102;217;239;48;2;39;40;34mFalse\\x1b[0m\\n\\x1b[1;38;2;227;227;221;48;2;39;40;34m  \\x1b[0m\\x1b[38;2;101;102;96;48;2;39;40;34m12 \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m        \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mprevious_value\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;255;70;137;48;2;39;40;34m=\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mvalue\\x1b[0m\\n\\x1b[1;38;2;227;227;221;48;2;39;40;34m  \\x1b[0m\\x1b[38;2;101;102;96;48;2;39;40;34m13 \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m    \\x1b[0m\\x1b[38;2;102;217;239;48;2;39;40;34myield\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mfirst\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m,\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;102;217;239;48;2;39;40;34mTrue\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m,\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mprevious_value\\x1b[0m\\n'\n    assert rendered_syntax == expected\n\n\ndef test_ansi_theme():\n    style = Style(color=\"red\")\n    theme = ANSISyntaxTheme({(\"foo\", \"bar\"): style})\n    assert theme.get_style_for_token((\"foo\", \"bar\", \"baz\")) == style\n    assert theme.get_background_style() == Style()\n\n\nskip_windows_permission_error = pytest.mark.skipif(\n    sys.platform == \"win32\", reason=\"permissions error on Windows\"\n)\n\n\n@skip_windows_permission_error\ndef test_from_path():\n    fh, path = tempfile.mkstemp(\"example.py\")\n    try:\n        os.write(fh, b\"import this\\n\")\n        syntax = Syntax.from_path(path)\n        assert syntax.lexer\n        assert syntax.lexer.name == \"Python\"\n        assert syntax.code == \"import this\\n\"\n    finally:\n        os.remove(path)\n\n\n@skip_windows_permission_error\ndef test_from_path_unknown_lexer():\n    fh, path = tempfile.mkstemp(\"example.nosuchtype\")\n    try:\n        os.write(fh, b\"import this\\n\")\n        syntax = Syntax.from_path(path)\n        assert syntax.lexer is None\n        assert syntax.code == \"import this\\n\"\n    finally:\n        os.remove(path)\n\n\n@skip_windows_permission_error\ndef test_from_path_lexer_override():\n    fh, path = tempfile.mkstemp(\"example.nosuchtype\")\n    try:\n        os.write(fh, b\"import this\\n\")\n        syntax = Syntax.from_path(path, lexer=\"rust\")\n        assert syntax.lexer.name == \"Rust\"\n        assert syntax.code == \"import this\\n\"\n    finally:\n        os.remove(path)\n\n\n@skip_windows_permission_error\ndef test_from_path_lexer_override_invalid_lexer():\n    fh, path = tempfile.mkstemp(\"example.nosuchtype\")\n    try:\n        os.write(fh, b\"import this\\n\")\n        syntax = Syntax.from_path(path, lexer=\"blah\")\n        assert syntax.lexer is None\n        assert syntax.code == \"import this\\n\"\n    finally:\n        os.remove(path)\n\n\ndef test_syntax_guess_lexer():\n    assert Syntax.guess_lexer(\"banana.py\") == \"python\"\n    assert Syntax.guess_lexer(\"banana.py\", \"import this\") == \"python\"\n    assert Syntax.guess_lexer(\"banana.html\", \"<a href='#'>hello</a>\") == \"html\"\n    assert Syntax.guess_lexer(\"banana.html\", \"<%= @foo %>\") == \"rhtml\"\n    assert Syntax.guess_lexer(\"banana.html\", \"{{something|filter:3}}\") == \"html+django\"\n\n\ndef test_syntax_padding():\n    syntax = Syntax(\"x = 1\", lexer=\"python\", padding=(1, 3))\n    console = Console(\n        width=20,\n        file=io.StringIO(),\n        color_system=\"truecolor\",\n        legacy_windows=False,\n        record=True,\n    )\n    console.print(syntax)\n    output = console.export_text()\n    assert (\n        output == \"                    \\n   x = 1            \\n                    \\n\"\n    )\n\n\ndef test_syntax_measure():\n    console = Console()\n    code = Syntax(\"Hello, World\", \"python\")\n    assert code.__rich_measure__(console, console.options) == Measurement(0, 12)\n\n    code = Syntax(\"Hello, World\", \"python\", line_numbers=True)\n    assert code.__rich_measure__(console, console.options) == Measurement(3, 16)\n\n    code = Syntax(\"Hello, World\", \"python\", code_width=20, line_numbers=True)\n    assert code.__rich_measure__(console, console.options) == Measurement(3, 24)\n\n    code = Syntax(\"\", \"python\", code_width=20, line_numbers=True)\n    assert code.__rich_measure__(console, console.options) == Measurement(3, 24)\n\n\ndef test_background_color_override_includes_padding():\n    \"\"\"Regression test for https://github.com/Textualize/rich/issues/3295\"\"\"\n\n    syntax = Syntax(\n        \"x = 1\",\n        lexer=\"python\",\n        padding=(1, 3),\n        background_color=\"red\",\n    )\n    result = render(syntax)\n    print(repr(result))\n    assert (\n        result\n        == \"\\x1b[41m                                                                                                    \\x1b[0m\\n\\x1b[41m   \\x1b[0m\\x1b[38;2;248;248;242;41mx\\x1b[0m\\x1b[38;2;248;248;242;41m \\x1b[0m\\x1b[38;2;255;70;137;41m=\\x1b[0m\\x1b[38;2;248;248;242;41m \\x1b[0m\\x1b[38;2;174;129;255;41m1\\x1b[0m\\x1b[41m                                                                                         \\x1b[0m\\x1b[41m   \\x1b[0m\\n\\x1b[41m                                                                                                    \\x1b[0m\\n\"\n    )\n\n\nif __name__ == \"__main__\":\n    syntax = Panel.fit(\n        Syntax(\n            CODE,\n            lexer=\"python\",\n            line_numbers=True,\n            line_range=(2, 10),\n            theme=\"foo\",\n            code_width=60,\n            word_wrap=True,\n        ),\n        padding=0,\n    )\n    rendered = render(markdown)\n    print(rendered)\n    print(repr(rendered))\n",
    "start_line": 0
  },
  {
    "file": "render.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "import io\nimport re\nfrom rich.console import Console, RenderableType",
    "start_line": 0
  },
  {
    "file": "render.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "re_link_ids = re.compile(r\"id=[\\d.\\-]*?;.*?\\x1b\")",
    "start_line": 6
  },
  {
    "file": "render.py",
    "type": "function",
    "class": null,
    "method": "replace_link_ids",
    "name": "replace_link_ids",
    "content": "def replace_link_ids(render: str) -> str:\n    \"\"\"Link IDs have a random ID and system path which is a problem for\n    reproducible tests.\n\n    \"\"\"\n    return re_link_ids.sub(\"id=0;foo\\x1b\", render)",
    "start_line": 9
  },
  {
    "file": "render.py",
    "type": "function",
    "class": null,
    "method": "render",
    "name": "render",
    "content": "def render(renderable: RenderableType, no_wrap: bool = False) -> str:",
    "start_line": 17
  },
  {
    "file": "render.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(\n        width=100, file=io.StringIO(), color_system=\"truecolor\", legacy_windows=False\n    )\n    console.print(renderable, no_wrap=no_wrap)\n    output = replace_link_ids(console.file.getvalue())\n    return output",
    "start_line": 18
  },
  {
    "file": "render.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "import io\nimport re\n\nfrom rich.console import Console, RenderableType\n\n\nre_link_ids = re.compile(r\"id=[\\d.\\-]*?;.*?\\x1b\")\n\n\ndef replace_link_ids(render: str) -> str:\n    \"\"\"Link IDs have a random ID and system path which is a problem for\n    reproducible tests.\n\n    \"\"\"\n    return re_link_ids.sub(\"id=0;foo\\x1b\", render)\n\n\ndef render(renderable: RenderableType, no_wrap: bool = False) -> str:\n    console = Console(\n        width=100, file=io.StringIO(), color_system=\"truecolor\", legacy_windows=False\n    )\n    console.print(renderable, no_wrap=no_wrap)\n    output = replace_link_ids(console.file.getvalue())\n    return output\n",
    "start_line": 0
  },
  {
    "file": "test_prompt.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "import io\nfrom rich.console import Console\nfrom rich.prompt import Confirm, IntPrompt, Prompt",
    "start_line": 0
  },
  {
    "file": "test_prompt.py",
    "type": "function",
    "class": null,
    "method": "test_prompt_str",
    "name": "test_prompt_str",
    "content": "def test_prompt_str():",
    "start_line": 6
  },
  {
    "file": "test_prompt.py",
    "type": "constants",
    "class": null,
    "method": null,
    "name": "module_constants",
    "content": "INPUT = \"egg\\nfoo\"",
    "start_line": 7
  },
  {
    "file": "test_prompt.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(file=io.StringIO())\n    name = Prompt.ask(\n        \"what is your name\",\n        console=console,\n        choices=[\"foo\", \"bar\"],\n        default=\"baz\",\n        stream=io.StringIO(INPUT),\n    )\n    assert name == \"foo\"\n    expected = \"what is your name [foo/bar] (baz): Please select one of the available options\\nwhat is your name [foo/bar] (baz): \"\n    output = console.file.getvalue()\n    print(repr(output))\n    assert output == expected",
    "start_line": 8
  },
  {
    "file": "test_prompt.py",
    "type": "function",
    "class": null,
    "method": "test_prompt_str_case_insensitive",
    "name": "test_prompt_str_case_insensitive",
    "content": "def test_prompt_str_case_insensitive():",
    "start_line": 23
  },
  {
    "file": "test_prompt.py",
    "type": "constants",
    "class": null,
    "method": null,
    "name": "module_constants",
    "content": "INPUT = \"egg\\nFoO\"",
    "start_line": 24
  },
  {
    "file": "test_prompt.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(file=io.StringIO())\n    name = Prompt.ask(\n        \"what is your name\",\n        console=console,\n        choices=[\"foo\", \"bar\"],\n        default=\"baz\",\n        case_sensitive=False,\n        stream=io.StringIO(INPUT),\n    )\n    assert name == \"foo\"\n    expected = \"what is your name [foo/bar] (baz): Please select one of the available options\\nwhat is your name [foo/bar] (baz): \"\n    output = console.file.getvalue()\n    print(repr(output))\n    assert output == expected",
    "start_line": 25
  },
  {
    "file": "test_prompt.py",
    "type": "function",
    "class": null,
    "method": "test_prompt_str_default",
    "name": "test_prompt_str_default",
    "content": "def test_prompt_str_default():",
    "start_line": 41
  },
  {
    "file": "test_prompt.py",
    "type": "constants",
    "class": null,
    "method": null,
    "name": "module_constants",
    "content": "INPUT = \"\"",
    "start_line": 42
  },
  {
    "file": "test_prompt.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(file=io.StringIO())\n    name = Prompt.ask(\n        \"what is your name\",\n        console=console,\n        default=\"Will\",\n        stream=io.StringIO(INPUT),\n    )\n    assert name == \"Will\"\n    expected = \"what is your name (Will): \"\n    output = console.file.getvalue()\n    print(repr(output))\n    assert output == expected",
    "start_line": 43
  },
  {
    "file": "test_prompt.py",
    "type": "function",
    "class": null,
    "method": "test_prompt_int",
    "name": "test_prompt_int",
    "content": "def test_prompt_int():",
    "start_line": 57
  },
  {
    "file": "test_prompt.py",
    "type": "constants",
    "class": null,
    "method": null,
    "name": "module_constants",
    "content": "INPUT = \"foo\\n100\"",
    "start_line": 58
  },
  {
    "file": "test_prompt.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(file=io.StringIO())\n    number = IntPrompt.ask(\n        \"Enter a number\",\n        console=console,\n        stream=io.StringIO(INPUT),\n    )\n    assert number == 100\n    expected = \"Enter a number: Please enter a valid integer number\\nEnter a number: \"\n    output = console.file.getvalue()\n    print(repr(output))\n    assert output == expected",
    "start_line": 59
  },
  {
    "file": "test_prompt.py",
    "type": "function",
    "class": null,
    "method": "test_prompt_confirm_no",
    "name": "test_prompt_confirm_no",
    "content": "def test_prompt_confirm_no():",
    "start_line": 72
  },
  {
    "file": "test_prompt.py",
    "type": "constants",
    "class": null,
    "method": null,
    "name": "module_constants",
    "content": "INPUT = \"foo\\nNO\\nn\"",
    "start_line": 73
  },
  {
    "file": "test_prompt.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(file=io.StringIO())\n    answer = Confirm.ask(\n        \"continue\",\n        console=console,\n        stream=io.StringIO(INPUT),\n    )\n    assert answer is False\n    expected = \"continue [y/n]: Please enter Y or N\\ncontinue [y/n]: Please enter Y or N\\ncontinue [y/n]: \"\n    output = console.file.getvalue()\n    print(repr(output))\n    assert output == expected",
    "start_line": 74
  },
  {
    "file": "test_prompt.py",
    "type": "function",
    "class": null,
    "method": "test_prompt_confirm_yes",
    "name": "test_prompt_confirm_yes",
    "content": "def test_prompt_confirm_yes():",
    "start_line": 87
  },
  {
    "file": "test_prompt.py",
    "type": "constants",
    "class": null,
    "method": null,
    "name": "module_constants",
    "content": "INPUT = \"foo\\nNO\\ny\"",
    "start_line": 88
  },
  {
    "file": "test_prompt.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(file=io.StringIO())\n    answer = Confirm.ask(\n        \"continue\",\n        console=console,\n        stream=io.StringIO(INPUT),\n    )\n    assert answer is True\n    expected = \"continue [y/n]: Please enter Y or N\\ncontinue [y/n]: Please enter Y or N\\ncontinue [y/n]: \"\n    output = console.file.getvalue()\n    print(repr(output))\n    assert output == expected",
    "start_line": 89
  },
  {
    "file": "test_prompt.py",
    "type": "function",
    "class": null,
    "method": "test_prompt_confirm_default",
    "name": "test_prompt_confirm_default",
    "content": "def test_prompt_confirm_default():",
    "start_line": 102
  },
  {
    "file": "test_prompt.py",
    "type": "constants",
    "class": null,
    "method": null,
    "name": "module_constants",
    "content": "INPUT = \"foo\\nNO\\ny\"",
    "start_line": 103
  },
  {
    "file": "test_prompt.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(file=io.StringIO())\n    answer = Confirm.ask(\n        \"continue\", console=console, stream=io.StringIO(INPUT), default=True\n    )\n    assert answer is True\n    expected = \"continue [y/n] (y): Please enter Y or N\\ncontinue [y/n] (y): Please enter Y or N\\ncontinue [y/n] (y): \"\n    output = console.file.getvalue()\n    print(repr(output))\n    assert output == expected",
    "start_line": 104
  },
  {
    "file": "test_prompt.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "import io\n\nfrom rich.console import Console\nfrom rich.prompt import Confirm, IntPrompt, Prompt\n\n\ndef test_prompt_str():\n    INPUT = \"egg\\nfoo\"\n    console = Console(file=io.StringIO())\n    name = Prompt.ask(\n        \"what is your name\",\n        console=console,\n        choices=[\"foo\", \"bar\"],\n        default=\"baz\",\n        stream=io.StringIO(INPUT),\n    )\n    assert name == \"foo\"\n    expected = \"what is your name [foo/bar] (baz): Please select one of the available options\\nwhat is your name [foo/bar] (baz): \"\n    output = console.file.getvalue()\n    print(repr(output))\n    assert output == expected\n\n\ndef test_prompt_str_case_insensitive():\n    INPUT = \"egg\\nFoO\"\n    console = Console(file=io.StringIO())\n    name = Prompt.ask(\n        \"what is your name\",\n        console=console,\n        choices=[\"foo\", \"bar\"],\n        default=\"baz\",\n        case_sensitive=False,\n        stream=io.StringIO(INPUT),\n    )\n    assert name == \"foo\"\n    expected = \"what is your name [foo/bar] (baz): Please select one of the available options\\nwhat is your name [foo/bar] (baz): \"\n    output = console.file.getvalue()\n    print(repr(output))\n    assert output == expected\n\n\ndef test_prompt_str_default():\n    INPUT = \"\"\n    console = Console(file=io.StringIO())\n    name = Prompt.ask(\n        \"what is your name\",\n        console=console,\n        default=\"Will\",\n        stream=io.StringIO(INPUT),\n    )\n    assert name == \"Will\"\n    expected = \"what is your name (Will): \"\n    output = console.file.getvalue()\n    print(repr(output))\n    assert output == expected\n\n\ndef test_prompt_int():\n    INPUT = \"foo\\n100\"\n    console = Console(file=io.StringIO())\n    number = IntPrompt.ask(\n        \"Enter a number\",\n        console=console,\n        stream=io.StringIO(INPUT),\n    )\n    assert number == 100\n    expected = \"Enter a number: Please enter a valid integer number\\nEnter a number: \"\n    output = console.file.getvalue()\n    print(repr(output))\n    assert output == expected\n\n\ndef test_prompt_confirm_no():\n    INPUT = \"foo\\nNO\\nn\"\n    console = Console(file=io.StringIO())\n    answer = Confirm.ask(\n        \"continue\",\n        console=console,\n        stream=io.StringIO(INPUT),\n    )\n    assert answer is False\n    expected = \"continue [y/n]: Please enter Y or N\\ncontinue [y/n]: Please enter Y or N\\ncontinue [y/n]: \"\n    output = console.file.getvalue()\n    print(repr(output))\n    assert output == expected\n\n\ndef test_prompt_confirm_yes():\n    INPUT = \"foo\\nNO\\ny\"\n    console = Console(file=io.StringIO())\n    answer = Confirm.ask(\n        \"continue\",\n        console=console,\n        stream=io.StringIO(INPUT),\n    )\n    assert answer is True\n    expected = \"continue [y/n]: Please enter Y or N\\ncontinue [y/n]: Please enter Y or N\\ncontinue [y/n]: \"\n    output = console.file.getvalue()\n    print(repr(output))\n    assert output == expected\n\n\ndef test_prompt_confirm_default():\n    INPUT = \"foo\\nNO\\ny\"\n    console = Console(file=io.StringIO())\n    answer = Confirm.ask(\n        \"continue\", console=console, stream=io.StringIO(INPUT), default=True\n    )\n    assert answer is True\n    expected = \"continue [y/n] (y): Please enter Y or N\\ncontinue [y/n] (y): Please enter Y or N\\ncontinue [y/n] (y): \"\n    output = console.file.getvalue()\n    print(repr(output))\n    assert output == expected\n",
    "start_line": 0
  },
  {
    "file": "test_table.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# encoding=utf-8",
    "start_line": 0
  },
  {
    "file": "test_table.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "import io\nfrom textwrap import dedent\nimport pytest\nfrom rich import box, errors\nfrom rich.console import Console\nfrom rich.measure import Measurement\nfrom rich.style import Style\nfrom rich.table import Column, Table\nfrom rich.text import Text",
    "start_line": 2
  },
  {
    "file": "test_table.py",
    "type": "function",
    "class": null,
    "method": "render_tables",
    "name": "render_tables",
    "content": "def render_tables():",
    "start_line": 15
  },
  {
    "file": "test_table.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(\n        width=60,\n        force_terminal=True,\n        file=io.StringIO(),\n        legacy_windows=False,\n        color_system=None,\n        _environ={},\n    )\n    table = Table(title=\"test table\", caption=\"table caption\", expand=False)\n    table.add_column(\"foo\", footer=Text(\"total\"), no_wrap=True, overflow=\"ellipsis\")\n    table.add_column(\"bar\", justify=\"center\")\n    table.add_column(\"baz\", justify=\"right\")\n    table.add_row(\"Averlongwordgoeshere\", \"banana pancakes\", None)\n    assert Measurement.get(console, console.options, table) == Measurement(41, 48)\n    table.expand = True\n    assert Measurement.get(console, console.options, table) == Measurement(41, 48)\n    for width in range(10, 60, 5):\n        console.print(table, width=width)\n    table.expand = False\n    console.print(table, justify=\"left\")\n    console.print(table, justify=\"center\")\n    console.print(table, justify=\"right\")\n    assert table.row_count == 1\n    table.row_styles = [\"red\", \"yellow\"]\n    table.add_row(\"Coffee\")\n    table.add_row(\"Coffee\", \"Chocolate\", None, \"cinnamon\")\n    assert table.row_count == 3\n    console.print(table)\n    table.show_lines = True\n    console.print(table)\n    table.show_footer = True\n    console.print(table)\n    table.show_edge = False\n    console.print(table)\n    table.padding = 1\n    console.print(table)\n    table.width = 20\n    assert Measurement.get(console, console.options, table) == Measurement(20, 20)\n    table.expand = False\n    assert Measurement.get(console, console.options, table) == Measurement(20, 20)\n    table.expand = True\n    console.print(table)\n    table.columns[0].no_wrap = True\n    table.columns[1].no_wrap = True\n    table.columns[2].no_wrap = True\n    console.print(table)\n    table.padding = 0\n    table.width = 60\n    table.leading = 1\n    console.print(table)\n    return console.file.getvalue()",
    "start_line": 16
  },
  {
    "file": "test_table.py",
    "type": "function",
    "class": null,
    "method": "test_render_table",
    "name": "test_render_table",
    "content": "def test_render_table():",
    "start_line": 88
  },
  {
    "file": "test_table.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "expected = \"test table\\n\\n foo  \\n\\n Ave \\n\\n  table   \\n caption  \\n  test table   \\n\\n foo       \\n\\n Averlong \\n\\n table caption \\n     test table     \\n\\n foo            \\n\\n Averlongwordg \\n\\n   table caption    \\n       test table        \\n\\n foo                 \\n\\n Averlongwordgoeshe \\n\\n      table caption      \\n          test table          \\n\\n foo                      \\n\\n Averlongwordgoeshere     \\n\\n        table caption         \\n            test table             \\n\\n foo                   bar  b \\n\\n Averlongwordgoeshere  ba     \\n                       pa     \\n\\n           table caption           \\n               test table               \\n\\n foo                     bar    baz \\n\\n Averlongwordgoeshere  banana       \\n                       pancak      \\n\\n             table caption              \\n                 test table                  \\n\\n foo                       bar       baz \\n\\n Averlongwordgoeshere     banana         \\n                         pancakes        \\n\\n                table caption                \\n                    test table                    \\n\\n foo                          bar         baz \\n\\n Averlongwordgoeshere   banana pancakes       \\n\\n                  table caption                   \\n                      test table                       \\n\\n foo                              bar          baz \\n\\n Averlongwordgoeshere       banana pancakes        \\n\\n                     table caption                     \\n                   test table                               \\n            \\n foo                         bar        baz             \\n            \\n Averlongwordgoeshere  banana pancakes                  \\n            \\n                 table caption                              \\n                         test table                         \\n            \\n       foo                         bar        baz       \\n            \\n       Averlongwordgoeshere  banana pancakes            \\n            \\n                       table caption                        \\n                               test table                   \\n            \\n             foo                         bar        baz \\n            \\n             Averlongwordgoeshere  banana pancakes      \\n            \\n                             table caption                  \\n                        test table                         \\n\\n foo                         bar        baz           \\n\\n Averlongwordgoeshere  banana pancakes                \\n Coffee                                               \\n Coffee                   Chocolate          cinnamon \\n\\n                       table caption                       \\n                        test table                         \\n\\n foo                         bar        baz           \\n\\n Averlongwordgoeshere  banana pancakes                \\n\\n Coffee                                               \\n\\n Coffee                   Chocolate          cinnamon \\n\\n                       table caption                       \\n                        test table                         \\n\\n foo                         bar        baz           \\n\\n Averlongwordgoeshere  banana pancakes                \\n\\n Coffee                                               \\n\\n Coffee                   Chocolate          cinnamon \\n\\n total                                                \\n\\n                       table caption                       \\n                       test table                        \\n foo                         bar        baz           \\n\\n Averlongwordgoeshere  banana pancakes                \\n\\n Coffee                                               \\n\\n Coffee                   Chocolate          cinnamon \\n\\n total                                                \\n                      table caption                      \\n                       test table                        \\n                                                      \\n foo                         bar        baz           \\n                                                      \\n\\n                                                      \\n Averlongwordgoeshere  banana pancakes                \\n                                                      \\n\\n                                                      \\n Coffee                                               \\n                                                      \\n\\n                                                      \\n Coffee                   Chocolate          cinnamon \\n                                                      \\n\\n                                                      \\n total                                                \\n                                                      \\n                      table caption                      \\n     test table     \\n                 \\n foo             \\n                 \\n\\n                 \\n Averlongwordgo \\n                 \\n\\n                 \\n Coffee          \\n                 \\n\\n                 \\n Coffee          \\n                 \\n\\n                 \\n total           \\n                 \\n   table caption    \\n      test table      \\n                   \\n foo         bar   \\n                   \\n\\n                   \\n Averlon  banana \\n                   \\n\\n                   \\n Coffee            \\n                   \\n\\n                   \\n Coffee    Chocol \\n                   \\n\\n                   \\n total             \\n                   \\n    table caption     \\n                         test table                         \\nfoo                              bar         baz         \\n\\nAverlongwordgoeshere       banana pancakes               \\n                                                         \\nCoffee                                                   \\n                                                         \\nCoffee                        Chocolate         cinnamon \\n\\ntotal                                                    \\n                       table caption                        \\n\"\n    result = render_tables()\n    print(repr(result))\n    assert result == expected",
    "start_line": 89
  },
  {
    "file": "test_table.py",
    "type": "function",
    "class": null,
    "method": "test_not_renderable",
    "name": "test_not_renderable",
    "content": "def test_not_renderable():",
    "start_line": 95
  },
  {
    "file": "test_table.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "Foo",
    "content": "class Foo:\n        pass\n\n    table = Table()\n    with pytest.raises(errors.NotRenderableError):\n        table.add_row(Foo())",
    "start_line": 96
  },
  {
    "file": "test_table.py",
    "type": "function",
    "class": null,
    "method": "test_init_append_column",
    "name": "test_init_append_column",
    "content": "def test_init_append_column():",
    "start_line": 104
  },
  {
    "file": "test_table.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "header_names = [\"header1\", \"header2\", \"header3\"]\n    test_columns = [\n        Column(_index=index, header=header) for index, header in enumerate(header_names)\n    ]",
    "start_line": 105
  },
  {
    "file": "test_table.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# Test appending of strings for header names\n    assert Table(*header_names).columns == test_columns\n    # Test directly passing a Table Column objects\n    assert Table(*test_columns).columns == test_columns",
    "start_line": 110
  },
  {
    "file": "test_table.py",
    "type": "function",
    "class": null,
    "method": "test_rich_measure",
    "name": "test_rich_measure",
    "content": "def test_rich_measure():",
    "start_line": 116
  },
  {
    "file": "test_table.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console()\n    assert Table(\"test_header\", width=-1).__rich_measure__(\n        console, console.options\n    ) == Measurement(0, 0)",
    "start_line": 117
  },
  {
    "file": "test_table.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# Check __rich_measure__() for a positive width passed as an argument\n    assert Table(\"test_header\", width=None).__rich_measure__(\n        console, console.options.update_width(10)\n    ) == Measurement(10, 10)",
    "start_line": 121
  },
  {
    "file": "test_table.py",
    "type": "function",
    "class": null,
    "method": "test_min_width",
    "name": "test_min_width",
    "content": "def test_min_width():",
    "start_line": 127
  },
  {
    "file": "test_table.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "table = Table(\"foo\", min_width=30)\n    table.add_row(\"bar\")\n    console = Console()\n    assert table.__rich_measure__(\n        console, console.options.update_width(100)\n    ) == Measurement(30, 30)\n    console = Console(color_system=None)\n    console.begin_capture()\n    console.print(table)\n    output = console.end_capture()\n    print(output)\n    assert all(len(line) == 30 for line in output.splitlines())",
    "start_line": 128
  },
  {
    "file": "test_table.py",
    "type": "function",
    "class": null,
    "method": "test_no_columns",
    "name": "test_no_columns",
    "content": "def test_no_columns():",
    "start_line": 142
  },
  {
    "file": "test_table.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(color_system=None)\n    console.begin_capture()\n    console.print(Table())\n    output = console.end_capture()\n    print(repr(output))\n    assert output == \"\\n\"",
    "start_line": 143
  },
  {
    "file": "test_table.py",
    "type": "function",
    "class": null,
    "method": "test_get_row_style",
    "name": "test_get_row_style",
    "content": "def test_get_row_style():",
    "start_line": 151
  },
  {
    "file": "test_table.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console()\n    table = Table()\n    table.add_row(\"foo\")\n    table.add_row(\"bar\", style=\"on red\")\n    assert table.get_row_style(console, 0) == Style.parse(\"\")\n    assert table.get_row_style(console, 1) == Style.parse(\"on red\")",
    "start_line": 152
  },
  {
    "file": "test_table.py",
    "type": "function",
    "class": null,
    "method": "test_vertical_align_top",
    "name": "test_vertical_align_top",
    "content": "def test_vertical_align_top():",
    "start_line": 160
  },
  {
    "file": "test_table.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(_environ={})",
    "start_line": 161
  },
  {
    "file": "test_table.py",
    "type": "function",
    "class": null,
    "method": "make_table",
    "name": "make_table",
    "content": "def make_table(vertical_align):",
    "start_line": 163
  },
  {
    "file": "test_table.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "table = Table(show_header=False, box=box.SQUARE)\n        table.add_column(vertical=vertical_align)\n        table.add_row(\"foo\", \"\\n\".join([\"bar\"] * 5))\n        return table\n    with console.capture() as capture:\n        console.print(make_table(\"top\"))\n        console.print()\n        console.print(make_table(\"middle\"))\n        console.print()\n        console.print(make_table(\"bottom\"))\n        console.print()\n    result = capture.get()\n    print(repr(result))\n    expected = \"\\n foo  bar \\n      bar \\n      bar \\n      bar \\n      bar \\n\\n\\n\\n      bar \\n      bar \\n foo  bar \\n      bar \\n      bar \\n\\n\\n\\n      bar \\n      bar \\n      bar \\n      bar \\n foo  bar \\n\\n\\n\"\n    assert result == expected\n@pytest.mark.parametrize(\n    \"box,result\",\n    [\n        (None, \" 1  2 \\n 3  4 \\n\"),\n        (box.HEAVY_HEAD, \"\\n 1  2 \\n 3  4 \\n\\n\"),\n        (box.SQUARE_DOUBLE_HEAD, \"\\n 1  2 \\n 3  4 \\n\\n\"),\n        (box.MINIMAL_DOUBLE_HEAD, \"        \\n  1  2  \\n  3  4  \\n        \\n\"),\n        (box.MINIMAL_HEAVY_HEAD, \"        \\n  1  2  \\n  3  4  \\n        \\n\"),\n        (box.ASCII_DOUBLE_HEAD, \"+---+---+\\n| 1 | 2 |\\n| 3 | 4 |\\n+---+---+\\n\"),\n    ],\n)",
    "start_line": 164
  },
  {
    "file": "test_table.py",
    "type": "function",
    "class": null,
    "method": "test_table_show_header_false_substitution",
    "name": "test_table_show_header_false_substitution",
    "content": "def test_table_show_header_false_substitution(box, result):\n    \"\"\"When the box style is one with a custom header edge, it should be substituted for\n    the equivalent box that does not have a custom header when show_header=False\"\"\"",
    "start_line": 194
  },
  {
    "file": "test_table.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "table = Table(show_header=False, box=box)\n    table.add_column()\n    table.add_column()\n    table.add_row(\"1\", \"2\")\n    table.add_row(\"3\", \"4\")\n    console = Console(record=True)\n    console.print(table)\n    output = console.export_text()\n    assert output == result",
    "start_line": 197
  },
  {
    "file": "test_table.py",
    "type": "function",
    "class": null,
    "method": "test_section",
    "name": "test_section",
    "content": "def test_section():",
    "start_line": 211
  },
  {
    "file": "test_table.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "table = Table(\"foo\")\n    table.add_section()  # Null-op\n    table.add_row(\"row1\")\n    table.add_row(\"row2\", end_section=True)\n    table.add_row(\"row3\")\n    table.add_row(\"row4\")\n    table.add_section()\n    table.add_row(\"row5\")\n    table.add_section()  # Null-op\n    console = Console(\n        width=80,\n        force_terminal=True,\n        color_system=\"truecolor\",\n        legacy_windows=False,\n        record=True,\n    )\n    console.print(table)\n    output = console.export_text()\n    print(repr(output))\n    expected = \"\\n foo  \\n\\n row1 \\n row2 \\n\\n row3 \\n row4 \\n\\n row5 \\n\\n\"\n    assert output == expected\n@pytest.mark.parametrize(\n    \"show_header,show_footer,expected\",\n    [\n        (\n            False,\n            False,\n            dedent(\n                \"\"\"\n                abbbbbcbbbbbbbbbcbbbbcbbbbbd\n                1Dec  2Skywalker2275M2375M 3\n                4May  5Solo     5275M5393M 6\n                ijjjjjkjjjjjjjjjkjjjjkjjjjjl\n                7Dec  8Last Jedi8262M81333M9\n                qrrrrrsrrrrrrrrrsrrrrsrrrrrt\n                \"\"\"\n            ).lstrip(),\n        ),\n        (\n            True,\n            False,\n            dedent(\n                \"\"\"\n                abbbbbcbbbbbbbbbcbbbbcbbbbbd\n                1Month2Nickname 2Cost2Gross3\n                efffffgfffffffffgffffgfffffh\n                4Dec  5Skywalker5275M5375M 6\n                4May  5Solo     5275M5393M 6\n                ijjjjjkjjjjjjjjjkjjjjkjjjjjl\n                7Dec  8Last Jedi8262M81333M9\n                qrrrrrsrrrrrrrrrsrrrrsrrrrrt\n                \"\"\"\n            ).lstrip(),\n        ),\n        (\n            False,\n            True,\n            dedent(\n                \"\"\"\n                abbbbbcbbbbbbbbbcbbbbcbbbbbd\n                1Dec  2Skywalker2275M2375M 3\n                4May  5Solo     5275M5393M 6\n                ijjjjjkjjjjjjjjjkjjjjkjjjjjl\n                4Dec  5Last Jedi5262M51333M6\n                mnnnnnonnnnnnnnnonnnnonnnnnp\n                7MONTH8NICKNAME 8COST8GROSS9\n                qrrrrrsrrrrrrrrrsrrrrsrrrrrt\n                \"\"\"\n            ).lstrip(),\n        ),\n        (\n            True,\n            True,\n            dedent(\n                \"\"\"\n                abbbbbcbbbbbbbbbcbbbbcbbbbbd\n                1Month2Nickname 2Cost2Gross3\n                efffffgfffffffffgffffgfffffh\n                4Dec  5Skywalker5275M5375M 6\n                4May  5Solo     5275M5393M 6\n                ijjjjjkjjjjjjjjjkjjjjkjjjjjl\n                4Dec  5Last Jedi5262M51333M6\n                mnnnnnonnnnnnnnnonnnnonnnnnp\n                7MONTH8NICKNAME 8COST8GROSS9\n                qrrrrrsrrrrrrrrrsrrrrsrrrrrt\n                \"\"\"\n            ).lstrip(),\n        ),\n    ],\n)",
    "start_line": 212
  },
  {
    "file": "test_table.py",
    "type": "function",
    "class": null,
    "method": "test_placement_table_box_elements",
    "name": "test_placement_table_box_elements",
    "content": "def test_placement_table_box_elements(show_header, show_footer, expected):\n    \"\"\"Ensure box drawing characters correctly positioned.\"\"\"",
    "start_line": 306
  },
  {
    "file": "test_table.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "table = Table(\n        box=box.ASCII, show_header=show_header, show_footer=show_footer, padding=0\n    )",
    "start_line": 309
  },
  {
    "file": "test_table.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# content rows indicated by numerals, pure dividers by letters\n    table.box.__dict__.update(",
    "start_line": 313
  },
  {
    "file": "test_table.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "top_left=\"a\",\n        top=\"b\",\n        top_divider=\"c\",\n        top_right=\"d\",\n        head_left=\"1\",\n        head_vertical=\"2\",\n        head_right=\"3\",\n        head_row_left=\"e\",\n        head_row_horizontal=\"f\",\n        head_row_cross=\"g\",\n        head_row_right=\"h\",\n        mid_left=\"4\",\n        mid_vertical=\"5\",\n        mid_right=\"6\",\n        row_left=\"i\",\n        row_horizontal=\"j\",\n        row_cross=\"k\",\n        row_right=\"l\",\n        foot_left=\"7\",\n        foot_vertical=\"8\",\n        foot_right=\"9\",\n        foot_row_left=\"m\",\n        foot_row_horizontal=\"n\",\n        foot_row_cross=\"o\",\n        foot_row_right=\"p\",\n        bottom_left=\"q\",\n        bottom=\"r\",\n        bottom_divider=\"s\",\n        bottom_right=\"t\",\n    )",
    "start_line": 315
  },
  {
    "file": "test_table.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# add content - note headers title case, footers upper case\n    table.add_column(\"Month\", \"MONTH\", width=5)\n    table.add_column(\"Nickname\", \"NICKNAME\", width=9)\n    table.add_column(\"Cost\", \"COST\", width=4)\n    table.add_column(\"Gross\", \"GROSS\", width=5)\n    table.add_row(\"Dec\", \"Skywalker\", \"275M\", \"375M\")\n    table.add_row(\"May\", \"Solo\", \"275M\", \"393M\")\n    table.add_section()\n    table.add_row(\"Dec\", \"Last Jedi\", \"262M\", \"1333M\")",
    "start_line": 346
  },
  {
    "file": "test_table.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(record=True, width=28)\n    console.print(table)\n    output = console.export_text()\n    print(repr(output))\n    assert output == expected",
    "start_line": 357
  },
  {
    "file": "test_table.py",
    "type": "function",
    "class": null,
    "method": "test_columns_highlight_added_by_add_row",
    "name": "test_columns_highlight_added_by_add_row",
    "content": "def test_columns_highlight_added_by_add_row() -> None:\n    \"\"\"Regression test for https://github.com/Textualize/rich/issues/3517\"\"\"",
    "start_line": 365
  },
  {
    "file": "test_table.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "table = Table(show_header=False, highlight=True)\n    table.add_row(\"1\", repr(\"FOO\"))\n    assert table.columns[0].highlight == table.highlight\n    assert table.columns[1].highlight == table.highlight\n    console = Console(record=True)\n    console.print(table)\n    output = console.export_text(styles=True)\n    print(repr(output))\n    expected = (\n        \"\\n \\x1b[1;36m1\\x1b[0m  \\x1b[32m'FOO'\\x1b[0m \\n\\n\"\n    )\n    assert output == expected\nif __name__ == \"__main__\":\n    render = render_tables()\n    print(render)\n    print(repr(render))",
    "start_line": 367
  },
  {
    "file": "test_table.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "# encoding=utf-8\n\nimport io\nfrom textwrap import dedent\n\nimport pytest\n\nfrom rich import box, errors\nfrom rich.console import Console\nfrom rich.measure import Measurement\nfrom rich.style import Style\nfrom rich.table import Column, Table\nfrom rich.text import Text\n\n\ndef render_tables():\n    console = Console(\n        width=60,\n        force_terminal=True,\n        file=io.StringIO(),\n        legacy_windows=False,\n        color_system=None,\n        _environ={},\n    )\n\n    table = Table(title=\"test table\", caption=\"table caption\", expand=False)\n    table.add_column(\"foo\", footer=Text(\"total\"), no_wrap=True, overflow=\"ellipsis\")\n    table.add_column(\"bar\", justify=\"center\")\n    table.add_column(\"baz\", justify=\"right\")\n\n    table.add_row(\"Averlongwordgoeshere\", \"banana pancakes\", None)\n\n    assert Measurement.get(console, console.options, table) == Measurement(41, 48)\n    table.expand = True\n    assert Measurement.get(console, console.options, table) == Measurement(41, 48)\n\n    for width in range(10, 60, 5):\n        console.print(table, width=width)\n\n    table.expand = False\n    console.print(table, justify=\"left\")\n    console.print(table, justify=\"center\")\n    console.print(table, justify=\"right\")\n\n    assert table.row_count == 1\n\n    table.row_styles = [\"red\", \"yellow\"]\n    table.add_row(\"Coffee\")\n    table.add_row(\"Coffee\", \"Chocolate\", None, \"cinnamon\")\n\n    assert table.row_count == 3\n\n    console.print(table)\n\n    table.show_lines = True\n    console.print(table)\n\n    table.show_footer = True\n    console.print(table)\n\n    table.show_edge = False\n\n    console.print(table)\n\n    table.padding = 1\n    console.print(table)\n\n    table.width = 20\n    assert Measurement.get(console, console.options, table) == Measurement(20, 20)\n    table.expand = False\n    assert Measurement.get(console, console.options, table) == Measurement(20, 20)\n    table.expand = True\n    console.print(table)\n\n    table.columns[0].no_wrap = True\n    table.columns[1].no_wrap = True\n    table.columns[2].no_wrap = True\n\n    console.print(table)\n\n    table.padding = 0\n    table.width = 60\n    table.leading = 1\n    console.print(table)\n\n    return console.file.getvalue()\n\n\ndef test_render_table():\n    expected = \"test table\\n\\n foo  \\n\\n Ave \\n\\n  table   \\n caption  \\n  test table   \\n\\n foo       \\n\\n Averlong \\n\\n table caption \\n     test table     \\n\\n foo            \\n\\n Averlongwordg \\n\\n   table caption    \\n       test table        \\n\\n foo                 \\n\\n Averlongwordgoeshe \\n\\n      table caption      \\n          test table          \\n\\n foo                      \\n\\n Averlongwordgoeshere     \\n\\n        table caption         \\n            test table             \\n\\n foo                   bar  b \\n\\n Averlongwordgoeshere  ba     \\n                       pa     \\n\\n           table caption           \\n               test table               \\n\\n foo                     bar    baz \\n\\n Averlongwordgoeshere  banana       \\n                       pancak      \\n\\n             table caption              \\n                 test table                  \\n\\n foo                       bar       baz \\n\\n Averlongwordgoeshere     banana         \\n                         pancakes        \\n\\n                table caption                \\n                    test table                    \\n\\n foo                          bar         baz \\n\\n Averlongwordgoeshere   banana pancakes       \\n\\n                  table caption                   \\n                      test table                       \\n\\n foo                              bar          baz \\n\\n Averlongwordgoeshere       banana pancakes        \\n\\n                     table caption                     \\n                   test table                               \\n            \\n foo                         bar        baz             \\n            \\n Averlongwordgoeshere  banana pancakes                  \\n            \\n                 table caption                              \\n                         test table                         \\n            \\n       foo                         bar        baz       \\n            \\n       Averlongwordgoeshere  banana pancakes            \\n            \\n                       table caption                        \\n                               test table                   \\n            \\n             foo                         bar        baz \\n            \\n             Averlongwordgoeshere  banana pancakes      \\n            \\n                             table caption                  \\n                        test table                         \\n\\n foo                         bar        baz           \\n\\n Averlongwordgoeshere  banana pancakes                \\n Coffee                                               \\n Coffee                   Chocolate          cinnamon \\n\\n                       table caption                       \\n                        test table                         \\n\\n foo                         bar        baz           \\n\\n Averlongwordgoeshere  banana pancakes                \\n\\n Coffee                                               \\n\\n Coffee                   Chocolate          cinnamon \\n\\n                       table caption                       \\n                        test table                         \\n\\n foo                         bar        baz           \\n\\n Averlongwordgoeshere  banana pancakes                \\n\\n Coffee                                               \\n\\n Coffee                   Chocolate          cinnamon \\n\\n total                                                \\n\\n                       table caption                       \\n                       test table                        \\n foo                         bar        baz           \\n\\n Averlongwordgoeshere  banana pancakes                \\n\\n Coffee                                               \\n\\n Coffee                   Chocolate          cinnamon \\n\\n total                                                \\n                      table caption                      \\n                       test table                        \\n                                                      \\n foo                         bar        baz           \\n                                                      \\n\\n                                                      \\n Averlongwordgoeshere  banana pancakes                \\n                                                      \\n\\n                                                      \\n Coffee                                               \\n                                                      \\n\\n                                                      \\n Coffee                   Chocolate          cinnamon \\n                                                      \\n\\n                                                      \\n total                                                \\n                                                      \\n                      table caption                      \\n     test table     \\n                 \\n foo             \\n                 \\n\\n                 \\n Averlongwordgo \\n                 \\n\\n                 \\n Coffee          \\n                 \\n\\n                 \\n Coffee          \\n                 \\n\\n                 \\n total           \\n                 \\n   table caption    \\n      test table      \\n                   \\n foo         bar   \\n                   \\n\\n                   \\n Averlon  banana \\n                   \\n\\n                   \\n Coffee            \\n                   \\n\\n                   \\n Coffee    Chocol \\n                   \\n\\n                   \\n total             \\n                   \\n    table caption     \\n                         test table                         \\nfoo                              bar         baz         \\n\\nAverlongwordgoeshere       banana pancakes               \\n                                                         \\nCoffee                                                   \\n                                                         \\nCoffee                        Chocolate         cinnamon \\n\\ntotal                                                    \\n                       table caption                        \\n\"\n    result = render_tables()\n    print(repr(result))\n    assert result == expected\n\n\ndef test_not_renderable():\n    class Foo:\n        pass\n\n    table = Table()\n    with pytest.raises(errors.NotRenderableError):\n        table.add_row(Foo())\n\n\ndef test_init_append_column():\n    header_names = [\"header1\", \"header2\", \"header3\"]\n    test_columns = [\n        Column(_index=index, header=header) for index, header in enumerate(header_names)\n    ]\n\n    # Test appending of strings for header names\n    assert Table(*header_names).columns == test_columns\n    # Test directly passing a Table Column objects\n    assert Table(*test_columns).columns == test_columns\n\n\ndef test_rich_measure():\n    console = Console()\n    assert Table(\"test_header\", width=-1).__rich_measure__(\n        console, console.options\n    ) == Measurement(0, 0)\n    # Check __rich_measure__() for a positive width passed as an argument\n    assert Table(\"test_header\", width=None).__rich_measure__(\n        console, console.options.update_width(10)\n    ) == Measurement(10, 10)\n\n\ndef test_min_width():\n    table = Table(\"foo\", min_width=30)\n    table.add_row(\"bar\")\n    console = Console()\n    assert table.__rich_measure__(\n        console, console.options.update_width(100)\n    ) == Measurement(30, 30)\n    console = Console(color_system=None)\n    console.begin_capture()\n    console.print(table)\n    output = console.end_capture()\n    print(output)\n    assert all(len(line) == 30 for line in output.splitlines())\n\n\ndef test_no_columns():\n    console = Console(color_system=None)\n    console.begin_capture()\n    console.print(Table())\n    output = console.end_capture()\n    print(repr(output))\n    assert output == \"\\n\"\n\n\ndef test_get_row_style():\n    console = Console()\n    table = Table()\n    table.add_row(\"foo\")\n    table.add_row(\"bar\", style=\"on red\")\n    assert table.get_row_style(console, 0) == Style.parse(\"\")\n    assert table.get_row_style(console, 1) == Style.parse(\"on red\")\n\n\ndef test_vertical_align_top():\n    console = Console(_environ={})\n\n    def make_table(vertical_align):\n        table = Table(show_header=False, box=box.SQUARE)\n        table.add_column(vertical=vertical_align)\n        table.add_row(\"foo\", \"\\n\".join([\"bar\"] * 5))\n\n        return table\n\n    with console.capture() as capture:\n        console.print(make_table(\"top\"))\n        console.print()\n        console.print(make_table(\"middle\"))\n        console.print()\n        console.print(make_table(\"bottom\"))\n        console.print()\n    result = capture.get()\n    print(repr(result))\n    expected = \"\\n foo  bar \\n      bar \\n      bar \\n      bar \\n      bar \\n\\n\\n\\n      bar \\n      bar \\n foo  bar \\n      bar \\n      bar \\n\\n\\n\\n      bar \\n      bar \\n      bar \\n      bar \\n foo  bar \\n\\n\\n\"\n    assert result == expected\n\n\n@pytest.mark.parametrize(\n    \"box,result\",\n    [\n        (None, \" 1  2 \\n 3  4 \\n\"),\n        (box.HEAVY_HEAD, \"\\n 1  2 \\n 3  4 \\n\\n\"),\n        (box.SQUARE_DOUBLE_HEAD, \"\\n 1  2 \\n 3  4 \\n\\n\"),\n        (box.MINIMAL_DOUBLE_HEAD, \"        \\n  1  2  \\n  3  4  \\n        \\n\"),\n        (box.MINIMAL_HEAVY_HEAD, \"        \\n  1  2  \\n  3  4  \\n        \\n\"),\n        (box.ASCII_DOUBLE_HEAD, \"+---+---+\\n| 1 | 2 |\\n| 3 | 4 |\\n+---+---+\\n\"),\n    ],\n)\ndef test_table_show_header_false_substitution(box, result):\n    \"\"\"When the box style is one with a custom header edge, it should be substituted for\n    the equivalent box that does not have a custom header when show_header=False\"\"\"\n    table = Table(show_header=False, box=box)\n    table.add_column()\n    table.add_column()\n\n    table.add_row(\"1\", \"2\")\n    table.add_row(\"3\", \"4\")\n\n    console = Console(record=True)\n    console.print(table)\n    output = console.export_text()\n\n    assert output == result\n\n\ndef test_section():\n    table = Table(\"foo\")\n    table.add_section()  # Null-op\n    table.add_row(\"row1\")\n    table.add_row(\"row2\", end_section=True)\n    table.add_row(\"row3\")\n    table.add_row(\"row4\")\n    table.add_section()\n    table.add_row(\"row5\")\n    table.add_section()  # Null-op\n\n    console = Console(\n        width=80,\n        force_terminal=True,\n        color_system=\"truecolor\",\n        legacy_windows=False,\n        record=True,\n    )\n    console.print(table)\n    output = console.export_text()\n    print(repr(output))\n    expected = \"\\n foo  \\n\\n row1 \\n row2 \\n\\n row3 \\n row4 \\n\\n row5 \\n\\n\"\n\n    assert output == expected\n\n\n@pytest.mark.parametrize(\n    \"show_header,show_footer,expected\",\n    [\n        (\n            False,\n            False,\n            dedent(\n                \"\"\"\n                abbbbbcbbbbbbbbbcbbbbcbbbbbd\n                1Dec  2Skywalker2275M2375M 3\n                4May  5Solo     5275M5393M 6\n                ijjjjjkjjjjjjjjjkjjjjkjjjjjl\n                7Dec  8Last Jedi8262M81333M9\n                qrrrrrsrrrrrrrrrsrrrrsrrrrrt\n                \"\"\"\n            ).lstrip(),\n        ),\n        (\n            True,\n            False,\n            dedent(\n                \"\"\"\n                abbbbbcbbbbbbbbbcbbbbcbbbbbd\n                1Month2Nickname 2Cost2Gross3\n                efffffgfffffffffgffffgfffffh\n                4Dec  5Skywalker5275M5375M 6\n                4May  5Solo     5275M5393M 6\n                ijjjjjkjjjjjjjjjkjjjjkjjjjjl\n                7Dec  8Last Jedi8262M81333M9\n                qrrrrrsrrrrrrrrrsrrrrsrrrrrt\n                \"\"\"\n            ).lstrip(),\n        ),\n        (\n            False,\n            True,\n            dedent(\n                \"\"\"\n                abbbbbcbbbbbbbbbcbbbbcbbbbbd\n                1Dec  2Skywalker2275M2375M 3\n                4May  5Solo     5275M5393M 6\n                ijjjjjkjjjjjjjjjkjjjjkjjjjjl\n                4Dec  5Last Jedi5262M51333M6\n                mnnnnnonnnnnnnnnonnnnonnnnnp\n                7MONTH8NICKNAME 8COST8GROSS9\n                qrrrrrsrrrrrrrrrsrrrrsrrrrrt\n                \"\"\"\n            ).lstrip(),\n        ),\n        (\n            True,\n            True,\n            dedent(\n                \"\"\"\n                abbbbbcbbbbbbbbbcbbbbcbbbbbd\n                1Month2Nickname 2Cost2Gross3\n                efffffgfffffffffgffffgfffffh\n                4Dec  5Skywalker5275M5375M 6\n                4May  5Solo     5275M5393M 6\n                ijjjjjkjjjjjjjjjkjjjjkjjjjjl\n                4Dec  5Last Jedi5262M51333M6\n                mnnnnnonnnnnnnnnonnnnonnnnnp\n                7MONTH8NICKNAME 8COST8GROSS9\n                qrrrrrsrrrrrrrrrsrrrrsrrrrrt\n                \"\"\"\n            ).lstrip(),\n        ),\n    ],\n)\ndef test_placement_table_box_elements(show_header, show_footer, expected):\n    \"\"\"Ensure box drawing characters correctly positioned.\"\"\"\n\n    table = Table(\n        box=box.ASCII, show_header=show_header, show_footer=show_footer, padding=0\n    )\n\n    # content rows indicated by numerals, pure dividers by letters\n    table.box.__dict__.update(\n        top_left=\"a\",\n        top=\"b\",\n        top_divider=\"c\",\n        top_right=\"d\",\n        head_left=\"1\",\n        head_vertical=\"2\",\n        head_right=\"3\",\n        head_row_left=\"e\",\n        head_row_horizontal=\"f\",\n        head_row_cross=\"g\",\n        head_row_right=\"h\",\n        mid_left=\"4\",\n        mid_vertical=\"5\",\n        mid_right=\"6\",\n        row_left=\"i\",\n        row_horizontal=\"j\",\n        row_cross=\"k\",\n        row_right=\"l\",\n        foot_left=\"7\",\n        foot_vertical=\"8\",\n        foot_right=\"9\",\n        foot_row_left=\"m\",\n        foot_row_horizontal=\"n\",\n        foot_row_cross=\"o\",\n        foot_row_right=\"p\",\n        bottom_left=\"q\",\n        bottom=\"r\",\n        bottom_divider=\"s\",\n        bottom_right=\"t\",\n    )\n\n    # add content - note headers title case, footers upper case\n    table.add_column(\"Month\", \"MONTH\", width=5)\n    table.add_column(\"Nickname\", \"NICKNAME\", width=9)\n    table.add_column(\"Cost\", \"COST\", width=4)\n    table.add_column(\"Gross\", \"GROSS\", width=5)\n\n    table.add_row(\"Dec\", \"Skywalker\", \"275M\", \"375M\")\n    table.add_row(\"May\", \"Solo\", \"275M\", \"393M\")\n    table.add_section()\n    table.add_row(\"Dec\", \"Last Jedi\", \"262M\", \"1333M\")\n\n    console = Console(record=True, width=28)\n    console.print(table)\n    output = console.export_text()\n    print(repr(output))\n\n    assert output == expected\n\n\ndef test_columns_highlight_added_by_add_row() -> None:\n    \"\"\"Regression test for https://github.com/Textualize/rich/issues/3517\"\"\"\n    table = Table(show_header=False, highlight=True)\n    table.add_row(\"1\", repr(\"FOO\"))\n\n    assert table.columns[0].highlight == table.highlight\n    assert table.columns[1].highlight == table.highlight\n\n    console = Console(record=True)\n    console.print(table)\n    output = console.export_text(styles=True)\n    print(repr(output))\n\n    expected = (\n        \"\\n \\x1b[1;36m1\\x1b[0m  \\x1b[32m'FOO'\\x1b[0m \\n\\n\"\n    )\n    assert output == expected\n\n\nif __name__ == \"__main__\":\n    render = render_tables()\n    print(render)\n    print(repr(render))\n",
    "start_line": 0
  },
  {
    "file": "test_cells.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "import string\nfrom rich import cells\nfrom rich.cells import _is_single_cell_widths, chop_cells",
    "start_line": 0
  },
  {
    "file": "test_cells.py",
    "type": "function",
    "class": null,
    "method": "test_cell_len_long_string",
    "name": "test_cell_len_long_string",
    "content": "def test_cell_len_long_string():",
    "start_line": 6
  },
  {
    "file": "test_cells.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# Long strings don't use cached cell length implementation\n    assert cells.cell_len(\"abc\" * 200) == 3 * 200\n    # Boundary case\n    assert cells.cell_len(\"a\" * 512) == 512",
    "start_line": 7
  },
  {
    "file": "test_cells.py",
    "type": "function",
    "class": null,
    "method": "test_cell_len_short_string",
    "name": "test_cell_len_short_string",
    "content": "def test_cell_len_short_string():",
    "start_line": 13
  },
  {
    "file": "test_cells.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# Short strings use cached cell length implementation\n    assert cells.cell_len(\"abc\" * 100) == 3 * 100\n    # Boundary case\n    assert cells.cell_len(\"a\" * 511) == 511",
    "start_line": 14
  },
  {
    "file": "test_cells.py",
    "type": "function",
    "class": null,
    "method": "test_set_cell_size",
    "name": "test_set_cell_size",
    "content": "def test_set_cell_size():\n    assert cells.set_cell_size(\"foo\", 0) == \"\"\n    assert cells.set_cell_size(\"f\", 0) == \"\"\n    assert cells.set_cell_size(\"\", 0) == \"\"\n    assert cells.set_cell_size(\"\", 0) == \"\"\n    assert cells.set_cell_size(\"foo\", 2) == \"fo\"\n    assert cells.set_cell_size(\"foo\", 3) == \"foo\"\n    assert cells.set_cell_size(\"foo\", 4) == \"foo \"\n    assert cells.set_cell_size(\"\", 4) == \"\"\n    assert cells.set_cell_size(\"\", 3) == \" \"\n    assert cells.set_cell_size(\"\", 2) == \"\"\n    assert cells.set_cell_size(\"\", 1) == \" \"\n    assert cells.set_cell_size(\"\", 5) == \" \"",
    "start_line": 20
  },
  {
    "file": "test_cells.py",
    "type": "function",
    "class": null,
    "method": "test_set_cell_size_infinite",
    "name": "test_set_cell_size_infinite",
    "content": "def test_set_cell_size_infinite():\n    for size in range(38):\n        assert (\n            cells.cell_len(\n                cells.set_cell_size(\n                    \"\", size\n                )\n            )\n            == size\n        )",
    "start_line": 35
  },
  {
    "file": "test_cells.py",
    "type": "function",
    "class": null,
    "method": "test_chop_cells",
    "name": "test_chop_cells",
    "content": "def test_chop_cells():\n    \"\"\"Simple example of splitting cells into lines of width 3.\"\"\"",
    "start_line": 47
  },
  {
    "file": "test_cells.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "text = \"abcdefghijk\"\n    assert chop_cells(text, 3) == [\"abc\", \"def\", \"ghi\", \"jk\"]",
    "start_line": 49
  },
  {
    "file": "test_cells.py",
    "type": "function",
    "class": null,
    "method": "test_chop_cells_double_width_boundary",
    "name": "test_chop_cells_double_width_boundary",
    "content": "def test_chop_cells_double_width_boundary():\n    \"\"\"The available width lies within a double-width character.\"\"\"",
    "start_line": 53
  },
  {
    "file": "test_cells.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "text = \"\"\n    assert chop_cells(text, 3) == [\"\", \"\", \"\", \"\", \"\"]",
    "start_line": 55
  },
  {
    "file": "test_cells.py",
    "type": "function",
    "class": null,
    "method": "test_chop_cells_mixed_width",
    "name": "test_chop_cells_mixed_width",
    "content": "def test_chop_cells_mixed_width():\n    \"\"\"Mixed single and double-width characters.\"\"\"",
    "start_line": 59
  },
  {
    "file": "test_cells.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "text = \"12345678\"\n    assert chop_cells(text, 3) == [\"1\", \"2\", \"34\", \"5\", \"6\", \"7\", \"8\"]",
    "start_line": 61
  },
  {
    "file": "test_cells.py",
    "type": "function",
    "class": null,
    "method": "test_is_single_cell_widths",
    "name": "test_is_single_cell_widths",
    "content": "def test_is_single_cell_widths() -> None:",
    "start_line": 65
  },
  {
    "file": "test_cells.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# Check _is_single_cell_widths reports correctly\n    for character in string.printable:\n        if ord(character) >= 32:\n            assert _is_single_cell_widths(character)",
    "start_line": 66
  },
  {
    "file": "test_cells.py",
    "type": "constants",
    "class": null,
    "method": null,
    "name": "module_constants",
    "content": "BOX = \"   \"\n    for character in BOX:\n        assert _is_single_cell_widths(character)\n    for character in \"\":\n        assert not _is_single_cell_widths(character)\n    for character in \"\":\n        assert not _is_single_cell_widths(character)",
    "start_line": 71
  },
  {
    "file": "test_cells.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "import string\n\nfrom rich import cells\nfrom rich.cells import _is_single_cell_widths, chop_cells\n\n\ndef test_cell_len_long_string():\n    # Long strings don't use cached cell length implementation\n    assert cells.cell_len(\"abc\" * 200) == 3 * 200\n    # Boundary case\n    assert cells.cell_len(\"a\" * 512) == 512\n\n\ndef test_cell_len_short_string():\n    # Short strings use cached cell length implementation\n    assert cells.cell_len(\"abc\" * 100) == 3 * 100\n    # Boundary case\n    assert cells.cell_len(\"a\" * 511) == 511\n\n\ndef test_set_cell_size():\n    assert cells.set_cell_size(\"foo\", 0) == \"\"\n    assert cells.set_cell_size(\"f\", 0) == \"\"\n    assert cells.set_cell_size(\"\", 0) == \"\"\n    assert cells.set_cell_size(\"\", 0) == \"\"\n    assert cells.set_cell_size(\"foo\", 2) == \"fo\"\n    assert cells.set_cell_size(\"foo\", 3) == \"foo\"\n    assert cells.set_cell_size(\"foo\", 4) == \"foo \"\n    assert cells.set_cell_size(\"\", 4) == \"\"\n    assert cells.set_cell_size(\"\", 3) == \" \"\n    assert cells.set_cell_size(\"\", 2) == \"\"\n    assert cells.set_cell_size(\"\", 1) == \" \"\n    assert cells.set_cell_size(\"\", 5) == \" \"\n\n\ndef test_set_cell_size_infinite():\n    for size in range(38):\n        assert (\n            cells.cell_len(\n                cells.set_cell_size(\n                    \"\", size\n                )\n            )\n            == size\n        )\n\n\ndef test_chop_cells():\n    \"\"\"Simple example of splitting cells into lines of width 3.\"\"\"\n    text = \"abcdefghijk\"\n    assert chop_cells(text, 3) == [\"abc\", \"def\", \"ghi\", \"jk\"]\n\n\ndef test_chop_cells_double_width_boundary():\n    \"\"\"The available width lies within a double-width character.\"\"\"\n    text = \"\"\n    assert chop_cells(text, 3) == [\"\", \"\", \"\", \"\", \"\"]\n\n\ndef test_chop_cells_mixed_width():\n    \"\"\"Mixed single and double-width characters.\"\"\"\n    text = \"12345678\"\n    assert chop_cells(text, 3) == [\"1\", \"2\", \"34\", \"5\", \"6\", \"7\", \"8\"]\n\n\ndef test_is_single_cell_widths() -> None:\n    # Check _is_single_cell_widths reports correctly\n    for character in string.printable:\n        if ord(character) >= 32:\n            assert _is_single_cell_widths(character)\n\n    BOX = \"   \"\n\n    for character in BOX:\n        assert _is_single_cell_widths(character)\n\n    for character in \"\":\n        assert not _is_single_cell_widths(character)\n\n    for character in \"\":\n        assert not _is_single_cell_widths(character)\n",
    "start_line": 0
  },
  {
    "file": "test_live_render.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "import pytest\nfrom rich.live_render import LiveRender\nfrom rich.console import Console, ConsoleDimensions, ConsoleOptions\nfrom rich.style import Style\nfrom rich.segment import Segment\n@pytest.fixture",
    "start_line": 0
  },
  {
    "file": "test_live_render.py",
    "type": "function",
    "class": null,
    "method": "live_render",
    "name": "live_render",
    "content": "def live_render():\n    return LiveRender(renderable=\"my string\")",
    "start_line": 8
  },
  {
    "file": "test_live_render.py",
    "type": "function",
    "class": null,
    "method": "test_renderable",
    "name": "test_renderable",
    "content": "def test_renderable(live_render):\n    assert live_render.renderable == \"my string\"\n    live_render.set_renderable(\"another string\")\n    assert live_render.renderable == \"another string\"",
    "start_line": 12
  },
  {
    "file": "test_live_render.py",
    "type": "function",
    "class": null,
    "method": "test_position_cursor",
    "name": "test_position_cursor",
    "content": "def test_position_cursor(live_render):\n    assert str(live_render.position_cursor()) == \"\"\n    live_render._shape = (80, 2)\n    assert str(live_render.position_cursor()) == \"\\r\\x1b[2K\\x1b[1A\\x1b[2K\"",
    "start_line": 18
  },
  {
    "file": "test_live_render.py",
    "type": "function",
    "class": null,
    "method": "test_restore_cursor",
    "name": "test_restore_cursor",
    "content": "def test_restore_cursor(live_render):\n    assert str(live_render.restore_cursor()) == \"\"\n    live_render._shape = (80, 2)\n    assert str(live_render.restore_cursor()) == \"\\r\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\"",
    "start_line": 24
  },
  {
    "file": "test_live_render.py",
    "type": "function",
    "class": null,
    "method": "test_rich_console",
    "name": "test_rich_console",
    "content": "def test_rich_console(live_render):",
    "start_line": 30
  },
  {
    "file": "test_live_render.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "options = ConsoleOptions(\n        ConsoleDimensions(80, 25),\n        max_height=25,\n        legacy_windows=False,\n        min_width=10,\n        max_width=20,\n        is_terminal=False,\n        encoding=\"utf-8\",\n    )\n    rich_console = live_render.__rich_console__(Console(), options)\n    assert [Segment(\"my string\", None)] == list(rich_console)\n    live_render.style = \"red\"\n    rich_console = live_render.__rich_console__(Console(), options)\n    assert [Segment(\"my string\", Style.parse(\"red\"))] == list(rich_console)",
    "start_line": 31
  },
  {
    "file": "test_live_render.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "import pytest\nfrom rich.live_render import LiveRender\nfrom rich.console import Console, ConsoleDimensions, ConsoleOptions\nfrom rich.style import Style\nfrom rich.segment import Segment\n\n\n@pytest.fixture\ndef live_render():\n    return LiveRender(renderable=\"my string\")\n\n\ndef test_renderable(live_render):\n    assert live_render.renderable == \"my string\"\n    live_render.set_renderable(\"another string\")\n    assert live_render.renderable == \"another string\"\n\n\ndef test_position_cursor(live_render):\n    assert str(live_render.position_cursor()) == \"\"\n    live_render._shape = (80, 2)\n    assert str(live_render.position_cursor()) == \"\\r\\x1b[2K\\x1b[1A\\x1b[2K\"\n\n\ndef test_restore_cursor(live_render):\n    assert str(live_render.restore_cursor()) == \"\"\n    live_render._shape = (80, 2)\n    assert str(live_render.restore_cursor()) == \"\\r\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\"\n\n\ndef test_rich_console(live_render):\n    options = ConsoleOptions(\n        ConsoleDimensions(80, 25),\n        max_height=25,\n        legacy_windows=False,\n        min_width=10,\n        max_width=20,\n        is_terminal=False,\n        encoding=\"utf-8\",\n    )\n    rich_console = live_render.__rich_console__(Console(), options)\n    assert [Segment(\"my string\", None)] == list(rich_console)\n    live_render.style = \"red\"\n    rich_console = live_render.__rich_console__(Console(), options)\n    assert [Segment(\"my string\", Style.parse(\"red\"))] == list(rich_console)\n",
    "start_line": 0
  },
  {
    "file": "test_panel.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "import io\nimport pytest\nfrom rich.console import Console\nfrom rich.panel import Panel\nfrom rich.segment import Segment\nfrom rich.style import Style\nfrom rich.text import Text",
    "start_line": 0
  },
  {
    "file": "test_panel.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "tests = [\n    Panel(\"Hello, World\", padding=0),\n    Panel(\"Hello, World\", expand=False, padding=0),\n    Panel.fit(\"Hello, World\", padding=0),\n    Panel(\"Hello, World\", width=8, padding=0),\n    Panel(Panel(\"Hello, World\", padding=0), padding=0),\n    Panel(\"Hello, World\", title=\"FOO\", padding=0),\n    Panel(\"Hello, World\", subtitle=\"FOO\", padding=0),\n]\nexpected = [\n    \"\\nHello, World                                    \\n\\n\",\n    \"\\nHello, World\\n\\n\",\n    \"\\nHello, World\\n\\n\",\n    \"\\nHello,\\nWorld \\n\\n\",\n    \"\\n\\nHello, World                                  \\n\\n\\n\",\n    \" FOO \\nHello, World                                    \\n\\n\",\n    \"\\nHello, World                                    \\n FOO \\n\",\n]",
    "start_line": 10
  },
  {
    "file": "test_panel.py",
    "type": "function",
    "class": null,
    "method": "render",
    "name": "render",
    "content": "def render(panel, width=50) -> str:",
    "start_line": 31
  },
  {
    "file": "test_panel.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(file=io.StringIO(), width=50, legacy_windows=False)\n    console.print(panel)\n    result = console.file.getvalue()\n    print(result)\n    return result\n@pytest.mark.parametrize(\"panel,expected\", zip(tests, expected))",
    "start_line": 32
  },
  {
    "file": "test_panel.py",
    "type": "function",
    "class": null,
    "method": "test_render_panel",
    "name": "test_render_panel",
    "content": "def test_render_panel(panel, expected) -> None:\n    assert render(panel) == expected",
    "start_line": 40
  },
  {
    "file": "test_panel.py",
    "type": "function",
    "class": null,
    "method": "test_console_width",
    "name": "test_console_width",
    "content": "def test_console_width() -> None:",
    "start_line": 44
  },
  {
    "file": "test_panel.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(file=io.StringIO(), width=50, legacy_windows=False)\n    panel = Panel(\"Hello, World\", expand=False)\n    min_width, max_width = panel.__rich_measure__(console, console.options)\n    assert min_width == 16\n    assert max_width == 16",
    "start_line": 45
  },
  {
    "file": "test_panel.py",
    "type": "function",
    "class": null,
    "method": "test_fixed_width",
    "name": "test_fixed_width",
    "content": "def test_fixed_width() -> None:",
    "start_line": 52
  },
  {
    "file": "test_panel.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(file=io.StringIO(), width=50, legacy_windows=False)\n    panel = Panel(\"Hello World\", width=20)\n    min_width, max_width = panel.__rich_measure__(console, console.options)\n    assert min_width == 20\n    assert max_width == 20",
    "start_line": 53
  },
  {
    "file": "test_panel.py",
    "type": "function",
    "class": null,
    "method": "test_render_size",
    "name": "test_render_size",
    "content": "def test_render_size() -> None:",
    "start_line": 60
  },
  {
    "file": "test_panel.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(width=63, height=46, legacy_windows=False)\n    options = console.options.update_dimensions(80, 4)\n    lines = console.render_lines(Panel(\"foo\", title=\"Hello\"), options=options)\n    print(repr(lines))\n    expected = [\n        [\n            Segment(\"\", Style()),\n            Segment(\n                \" Hello \"\n            ),\n            Segment(\"\", Style()),\n        ],\n        [\n            Segment(\"\", Style()),\n            Segment(\" \", Style()),\n            Segment(\"foo\"),\n            Segment(\n                \"                                                                         \",\n                Style(),\n            ),\n            Segment(\" \", Style()),\n            Segment(\"\", Style()),\n        ],\n        [\n            Segment(\"\", Style()),\n            Segment(\" \", Style()),\n            Segment(\n                \"                                                                            \",\n                Style(),\n            ),\n            Segment(\" \", Style()),\n            Segment(\"\", Style()),\n        ],\n        [\n            Segment(\n                \"\",\n                Style(),\n            )\n        ],\n    ]\n    assert lines == expected",
    "start_line": 61
  },
  {
    "file": "test_panel.py",
    "type": "function",
    "class": null,
    "method": "test_title_text",
    "name": "test_title_text",
    "content": "def test_title_text() -> None:",
    "start_line": 104
  },
  {
    "file": "test_panel.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "panel = Panel(\n        \"Hello, World\",\n        title=Text(\"title\", style=\"red\"),\n        subtitle=Text(\"subtitle\", style=\"magenta bold\"),\n    )\n    console = Console(\n        file=io.StringIO(),\n        width=50,\n        height=20,\n        legacy_windows=False,\n        force_terminal=True,\n        color_system=\"truecolor\",\n    )\n    console.print(panel)\n    result = console.file.getvalue()\n    print(repr(result))\n    expected = \"\\x1b[31m title \\x1b[0m\\n Hello, World                                   \\n\\x1b[1;35m subtitle \\x1b[0m\\n\"\n    assert result == expected\nif __name__ == \"__main__\":\n    expected = []\n    for panel in tests:\n        result = render(panel)\n        print(result)\n        expected.append(result)\n    print(\"--\")\n    print()\n    print(f\"expected={repr(expected)}\")",
    "start_line": 105
  },
  {
    "file": "test_panel.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "import io\n\nimport pytest\n\nfrom rich.console import Console\nfrom rich.panel import Panel\nfrom rich.segment import Segment\nfrom rich.style import Style\nfrom rich.text import Text\n\ntests = [\n    Panel(\"Hello, World\", padding=0),\n    Panel(\"Hello, World\", expand=False, padding=0),\n    Panel.fit(\"Hello, World\", padding=0),\n    Panel(\"Hello, World\", width=8, padding=0),\n    Panel(Panel(\"Hello, World\", padding=0), padding=0),\n    Panel(\"Hello, World\", title=\"FOO\", padding=0),\n    Panel(\"Hello, World\", subtitle=\"FOO\", padding=0),\n]\n\nexpected = [\n    \"\\nHello, World                                    \\n\\n\",\n    \"\\nHello, World\\n\\n\",\n    \"\\nHello, World\\n\\n\",\n    \"\\nHello,\\nWorld \\n\\n\",\n    \"\\n\\nHello, World                                  \\n\\n\\n\",\n    \" FOO \\nHello, World                                    \\n\\n\",\n    \"\\nHello, World                                    \\n FOO \\n\",\n]\n\n\ndef render(panel, width=50) -> str:\n    console = Console(file=io.StringIO(), width=50, legacy_windows=False)\n    console.print(panel)\n    result = console.file.getvalue()\n    print(result)\n    return result\n\n\n@pytest.mark.parametrize(\"panel,expected\", zip(tests, expected))\ndef test_render_panel(panel, expected) -> None:\n    assert render(panel) == expected\n\n\ndef test_console_width() -> None:\n    console = Console(file=io.StringIO(), width=50, legacy_windows=False)\n    panel = Panel(\"Hello, World\", expand=False)\n    min_width, max_width = panel.__rich_measure__(console, console.options)\n    assert min_width == 16\n    assert max_width == 16\n\n\ndef test_fixed_width() -> None:\n    console = Console(file=io.StringIO(), width=50, legacy_windows=False)\n    panel = Panel(\"Hello World\", width=20)\n    min_width, max_width = panel.__rich_measure__(console, console.options)\n    assert min_width == 20\n    assert max_width == 20\n\n\ndef test_render_size() -> None:\n    console = Console(width=63, height=46, legacy_windows=False)\n    options = console.options.update_dimensions(80, 4)\n    lines = console.render_lines(Panel(\"foo\", title=\"Hello\"), options=options)\n    print(repr(lines))\n    expected = [\n        [\n            Segment(\"\", Style()),\n            Segment(\n                \" Hello \"\n            ),\n            Segment(\"\", Style()),\n        ],\n        [\n            Segment(\"\", Style()),\n            Segment(\" \", Style()),\n            Segment(\"foo\"),\n            Segment(\n                \"                                                                         \",\n                Style(),\n            ),\n            Segment(\" \", Style()),\n            Segment(\"\", Style()),\n        ],\n        [\n            Segment(\"\", Style()),\n            Segment(\" \", Style()),\n            Segment(\n                \"                                                                            \",\n                Style(),\n            ),\n            Segment(\" \", Style()),\n            Segment(\"\", Style()),\n        ],\n        [\n            Segment(\n                \"\",\n                Style(),\n            )\n        ],\n    ]\n    assert lines == expected\n\n\ndef test_title_text() -> None:\n    panel = Panel(\n        \"Hello, World\",\n        title=Text(\"title\", style=\"red\"),\n        subtitle=Text(\"subtitle\", style=\"magenta bold\"),\n    )\n    console = Console(\n        file=io.StringIO(),\n        width=50,\n        height=20,\n        legacy_windows=False,\n        force_terminal=True,\n        color_system=\"truecolor\",\n    )\n    console.print(panel)\n\n    result = console.file.getvalue()\n    print(repr(result))\n    expected = \"\\x1b[31m title \\x1b[0m\\n Hello, World                                   \\n\\x1b[1;35m subtitle \\x1b[0m\\n\"\n    assert result == expected\n\n\nif __name__ == \"__main__\":\n    expected = []\n    for panel in tests:\n        result = render(panel)\n        print(result)\n        expected.append(result)\n    print(\"--\")\n    print()\n    print(f\"expected={repr(expected)}\")\n",
    "start_line": 0
  },
  {
    "file": "test_box.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "import pytest\nfrom rich.console import ConsoleOptions, ConsoleDimensions\nfrom rich.box import (\n    ASCII,\n    DOUBLE,\n    ROUNDED,\n    HEAVY,\n    SQUARE,\n    MINIMAL_HEAVY_HEAD,\n    MINIMAL,\n    SIMPLE_HEAVY,\n    SIMPLE,\n    HEAVY_EDGE,\n    HEAVY_HEAD,\n)",
    "start_line": 0
  },
  {
    "file": "test_box.py",
    "type": "function",
    "class": null,
    "method": "test_str",
    "name": "test_str",
    "content": "def test_str():\n    assert str(ASCII) == \"+--+\\n| ||\\n|-+|\\n| ||\\n|-+|\\n|-+|\\n| ||\\n+--+\\n\"",
    "start_line": 18
  },
  {
    "file": "test_box.py",
    "type": "function",
    "class": null,
    "method": "test_repr",
    "name": "test_repr",
    "content": "def test_repr():\n    assert repr(ASCII) == \"Box(...)\"",
    "start_line": 22
  },
  {
    "file": "test_box.py",
    "type": "function",
    "class": null,
    "method": "test_get_top",
    "name": "test_get_top",
    "content": "def test_get_top():",
    "start_line": 26
  },
  {
    "file": "test_box.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "top = HEAVY.get_top(widths=[1, 2])\n    assert top == \"\"",
    "start_line": 27
  },
  {
    "file": "test_box.py",
    "type": "function",
    "class": null,
    "method": "test_get_row",
    "name": "test_get_row",
    "content": "def test_get_row():",
    "start_line": 31
  },
  {
    "file": "test_box.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "head_row = DOUBLE.get_row(widths=[3, 2, 1], level=\"head\")\n    assert head_row == \"\"\n    row = ASCII.get_row(widths=[1, 2, 3], level=\"row\")\n    assert row == \"|-+--+---|\"\n    foot_row = ROUNDED.get_row(widths=[2, 1, 3], level=\"foot\")\n    assert foot_row == \"\"\n    with pytest.raises(ValueError):\n        ROUNDED.get_row(widths=[1, 2, 3], level=\"FOO\")",
    "start_line": 32
  },
  {
    "file": "test_box.py",
    "type": "function",
    "class": null,
    "method": "test_get_bottom",
    "name": "test_get_bottom",
    "content": "def test_get_bottom():",
    "start_line": 45
  },
  {
    "file": "test_box.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "bottom = HEAVY.get_bottom(widths=[1, 2, 3])\n    assert bottom == \"\"",
    "start_line": 46
  },
  {
    "file": "test_box.py",
    "type": "function",
    "class": null,
    "method": "test_box_substitute_for_same_box",
    "name": "test_box_substitute_for_same_box",
    "content": "def test_box_substitute_for_same_box():",
    "start_line": 50
  },
  {
    "file": "test_box.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "options = ConsoleOptions(\n        ConsoleDimensions(80, 25),\n        legacy_windows=False,\n        min_width=1,\n        max_width=100,\n        is_terminal=True,\n        encoding=\"utf-8\",\n        max_height=25,\n    )\n    assert ROUNDED.substitute(options) == ROUNDED\n    assert MINIMAL_HEAVY_HEAD.substitute(options) == MINIMAL_HEAVY_HEAD\n    assert SIMPLE_HEAVY.substitute(options) == SIMPLE_HEAVY\n    assert HEAVY.substitute(options) == HEAVY\n    assert HEAVY_EDGE.substitute(options) == HEAVY_EDGE\n    assert HEAVY_HEAD.substitute(options) == HEAVY_HEAD",
    "start_line": 51
  },
  {
    "file": "test_box.py",
    "type": "function",
    "class": null,
    "method": "test_box_substitute_for_different_box_legacy_windows",
    "name": "test_box_substitute_for_different_box_legacy_windows",
    "content": "def test_box_substitute_for_different_box_legacy_windows():",
    "start_line": 69
  },
  {
    "file": "test_box.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "options = ConsoleOptions(\n        ConsoleDimensions(80, 25),\n        legacy_windows=True,\n        min_width=1,\n        max_width=100,\n        is_terminal=True,\n        encoding=\"utf-8\",\n        max_height=25,\n    )\n    assert ROUNDED.substitute(options) == SQUARE\n    assert MINIMAL_HEAVY_HEAD.substitute(options) == MINIMAL\n    assert SIMPLE_HEAVY.substitute(options) == SIMPLE\n    assert HEAVY.substitute(options) == SQUARE\n    assert HEAVY_EDGE.substitute(options) == SQUARE\n    assert HEAVY_HEAD.substitute(options) == SQUARE",
    "start_line": 70
  },
  {
    "file": "test_box.py",
    "type": "function",
    "class": null,
    "method": "test_box_substitute_for_different_box_ascii_encoding",
    "name": "test_box_substitute_for_different_box_ascii_encoding",
    "content": "def test_box_substitute_for_different_box_ascii_encoding():",
    "start_line": 88
  },
  {
    "file": "test_box.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "options = ConsoleOptions(\n        ConsoleDimensions(80, 25),\n        legacy_windows=True,\n        min_width=1,\n        max_width=100,\n        is_terminal=True,\n        encoding=\"ascii\",\n        max_height=25,\n    )\n    assert ROUNDED.substitute(options) == ASCII\n    assert MINIMAL_HEAVY_HEAD.substitute(options) == ASCII\n    assert SIMPLE_HEAVY.substitute(options) == ASCII\n    assert HEAVY.substitute(options) == ASCII\n    assert HEAVY_EDGE.substitute(options) == ASCII\n    assert HEAVY_HEAD.substitute(options) == ASCII",
    "start_line": 89
  },
  {
    "file": "test_box.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "import pytest\n\nfrom rich.console import ConsoleOptions, ConsoleDimensions\nfrom rich.box import (\n    ASCII,\n    DOUBLE,\n    ROUNDED,\n    HEAVY,\n    SQUARE,\n    MINIMAL_HEAVY_HEAD,\n    MINIMAL,\n    SIMPLE_HEAVY,\n    SIMPLE,\n    HEAVY_EDGE,\n    HEAVY_HEAD,\n)\n\n\ndef test_str():\n    assert str(ASCII) == \"+--+\\n| ||\\n|-+|\\n| ||\\n|-+|\\n|-+|\\n| ||\\n+--+\\n\"\n\n\ndef test_repr():\n    assert repr(ASCII) == \"Box(...)\"\n\n\ndef test_get_top():\n    top = HEAVY.get_top(widths=[1, 2])\n    assert top == \"\"\n\n\ndef test_get_row():\n    head_row = DOUBLE.get_row(widths=[3, 2, 1], level=\"head\")\n    assert head_row == \"\"\n\n    row = ASCII.get_row(widths=[1, 2, 3], level=\"row\")\n    assert row == \"|-+--+---|\"\n\n    foot_row = ROUNDED.get_row(widths=[2, 1, 3], level=\"foot\")\n    assert foot_row == \"\"\n\n    with pytest.raises(ValueError):\n        ROUNDED.get_row(widths=[1, 2, 3], level=\"FOO\")\n\n\ndef test_get_bottom():\n    bottom = HEAVY.get_bottom(widths=[1, 2, 3])\n    assert bottom == \"\"\n\n\ndef test_box_substitute_for_same_box():\n    options = ConsoleOptions(\n        ConsoleDimensions(80, 25),\n        legacy_windows=False,\n        min_width=1,\n        max_width=100,\n        is_terminal=True,\n        encoding=\"utf-8\",\n        max_height=25,\n    )\n\n    assert ROUNDED.substitute(options) == ROUNDED\n    assert MINIMAL_HEAVY_HEAD.substitute(options) == MINIMAL_HEAVY_HEAD\n    assert SIMPLE_HEAVY.substitute(options) == SIMPLE_HEAVY\n    assert HEAVY.substitute(options) == HEAVY\n    assert HEAVY_EDGE.substitute(options) == HEAVY_EDGE\n    assert HEAVY_HEAD.substitute(options) == HEAVY_HEAD\n\n\ndef test_box_substitute_for_different_box_legacy_windows():\n    options = ConsoleOptions(\n        ConsoleDimensions(80, 25),\n        legacy_windows=True,\n        min_width=1,\n        max_width=100,\n        is_terminal=True,\n        encoding=\"utf-8\",\n        max_height=25,\n    )\n\n    assert ROUNDED.substitute(options) == SQUARE\n    assert MINIMAL_HEAVY_HEAD.substitute(options) == MINIMAL\n    assert SIMPLE_HEAVY.substitute(options) == SIMPLE\n    assert HEAVY.substitute(options) == SQUARE\n    assert HEAVY_EDGE.substitute(options) == SQUARE\n    assert HEAVY_HEAD.substitute(options) == SQUARE\n\n\ndef test_box_substitute_for_different_box_ascii_encoding():\n    options = ConsoleOptions(\n        ConsoleDimensions(80, 25),\n        legacy_windows=True,\n        min_width=1,\n        max_width=100,\n        is_terminal=True,\n        encoding=\"ascii\",\n        max_height=25,\n    )\n\n    assert ROUNDED.substitute(options) == ASCII\n    assert MINIMAL_HEAVY_HEAD.substitute(options) == ASCII\n    assert SIMPLE_HEAVY.substitute(options) == ASCII\n    assert HEAVY.substitute(options) == ASCII\n    assert HEAVY_EDGE.substitute(options) == ASCII\n    assert HEAVY_HEAD.substitute(options) == ASCII\n",
    "start_line": 0
  },
  {
    "file": "test_styled.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "import io\nfrom rich.console import Console\nfrom rich.measure import Measurement\nfrom rich.styled import Styled",
    "start_line": 0
  },
  {
    "file": "test_styled.py",
    "type": "function",
    "class": null,
    "method": "test_styled",
    "name": "test_styled",
    "content": "def test_styled():",
    "start_line": 7
  },
  {
    "file": "test_styled.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "styled_foo = Styled(\"foo\", \"on red\")\n    console = Console(file=io.StringIO(), force_terminal=True, _environ={})\n    assert Measurement.get(console, console.options, styled_foo) == Measurement(3, 3)\n    console.print(styled_foo)\n    result = console.file.getvalue()\n    expected = \"\\x1b[41mfoo\\x1b[0m\\n\"\n    assert result == expected",
    "start_line": 8
  },
  {
    "file": "test_styled.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "import io\n\nfrom rich.console import Console\nfrom rich.measure import Measurement\nfrom rich.styled import Styled\n\n\ndef test_styled():\n    styled_foo = Styled(\"foo\", \"on red\")\n    console = Console(file=io.StringIO(), force_terminal=True, _environ={})\n    assert Measurement.get(console, console.options, styled_foo) == Measurement(3, 3)\n    console.print(styled_foo)\n    result = console.file.getvalue()\n    expected = \"\\x1b[41mfoo\\x1b[0m\\n\"\n    assert result == expected\n",
    "start_line": 0
  },
  {
    "file": "test_palette.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from rich._palettes import STANDARD_PALETTE\nfrom rich.table import Table",
    "start_line": 0
  },
  {
    "file": "test_palette.py",
    "type": "function",
    "class": null,
    "method": "test_rich_cast",
    "name": "test_rich_cast",
    "content": "def test_rich_cast():",
    "start_line": 4
  },
  {
    "file": "test_palette.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "table = STANDARD_PALETTE.__rich__()\n    assert isinstance(table, Table)\n    assert table.row_count == 16",
    "start_line": 5
  },
  {
    "file": "test_palette.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "from rich._palettes import STANDARD_PALETTE\nfrom rich.table import Table\n\n\ndef test_rich_cast():\n    table = STANDARD_PALETTE.__rich__()\n    assert isinstance(table, Table)\n    assert table.row_count == 16\n",
    "start_line": 0
  },
  {
    "file": "test_windows_renderer.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "import sys\nfrom unittest.mock import call, create_autospec\nimport pytest\ntry:\n    from rich._win32_console import LegacyWindowsTerm, WindowsCoordinates\n    from rich._windows_renderer import legacy_windows_render\nexcept:",
    "start_line": 0
  },
  {
    "file": "test_windows_renderer.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# These modules can only be imported on Windows\n    pass",
    "start_line": 9
  },
  {
    "file": "test_windows_renderer.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from rich.segment import ControlType, Segment\nfrom rich.style import Style",
    "start_line": 11
  },
  {
    "file": "test_windows_renderer.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "pytestmark = pytest.mark.skipif(sys.platform != \"win32\", reason=\"windows only\")\n@pytest.fixture",
    "start_line": 14
  },
  {
    "file": "test_windows_renderer.py",
    "type": "function",
    "class": null,
    "method": "legacy_term_mock",
    "name": "legacy_term_mock",
    "content": "def legacy_term_mock():\n    return create_autospec(LegacyWindowsTerm)",
    "start_line": 18
  },
  {
    "file": "test_windows_renderer.py",
    "type": "function",
    "class": null,
    "method": "test_text_only",
    "name": "test_text_only",
    "content": "def test_text_only(legacy_term_mock):",
    "start_line": 22
  },
  {
    "file": "test_windows_renderer.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "text = \"Hello, world!\"\n    buffer = [Segment(text)]\n    legacy_windows_render(buffer, legacy_term_mock)\n    legacy_term_mock.write_text.assert_called_once_with(text)",
    "start_line": 23
  },
  {
    "file": "test_windows_renderer.py",
    "type": "function",
    "class": null,
    "method": "test_text_multiple_segments",
    "name": "test_text_multiple_segments",
    "content": "def test_text_multiple_segments(legacy_term_mock):",
    "start_line": 30
  },
  {
    "file": "test_windows_renderer.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "buffer = [Segment(\"Hello, \"), Segment(\"world!\")]\n    legacy_windows_render(buffer, legacy_term_mock)\n    assert legacy_term_mock.write_text.call_args_list == [\n        call(\"Hello, \"),\n        call(\"world!\"),\n    ]",
    "start_line": 31
  },
  {
    "file": "test_windows_renderer.py",
    "type": "function",
    "class": null,
    "method": "test_text_with_style",
    "name": "test_text_with_style",
    "content": "def test_text_with_style(legacy_term_mock):",
    "start_line": 40
  },
  {
    "file": "test_windows_renderer.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "text = \"Hello, world!\"\n    style = Style.parse(\"black on red\")\n    buffer = [Segment(text, style)]\n    legacy_windows_render(buffer, legacy_term_mock)\n    legacy_term_mock.write_styled.assert_called_once_with(text, style)",
    "start_line": 41
  },
  {
    "file": "test_windows_renderer.py",
    "type": "function",
    "class": null,
    "method": "test_control_cursor_move_to",
    "name": "test_control_cursor_move_to",
    "content": "def test_control_cursor_move_to(legacy_term_mock):",
    "start_line": 50
  },
  {
    "file": "test_windows_renderer.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "buffer = [Segment(\"\", None, [(ControlType.CURSOR_MOVE_TO, 20, 30)])]\n    legacy_windows_render(buffer, legacy_term_mock)\n    legacy_term_mock.move_cursor_to.assert_called_once_with(\n        WindowsCoordinates(row=29, col=19)\n    )",
    "start_line": 51
  },
  {
    "file": "test_windows_renderer.py",
    "type": "function",
    "class": null,
    "method": "test_control_carriage_return",
    "name": "test_control_carriage_return",
    "content": "def test_control_carriage_return(legacy_term_mock):",
    "start_line": 60
  },
  {
    "file": "test_windows_renderer.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "buffer = [Segment(\"\", None, [(ControlType.CARRIAGE_RETURN,)])]\n    legacy_windows_render(buffer, legacy_term_mock)\n    legacy_term_mock.write_text.assert_called_once_with(\"\\r\")",
    "start_line": 61
  },
  {
    "file": "test_windows_renderer.py",
    "type": "function",
    "class": null,
    "method": "test_control_home",
    "name": "test_control_home",
    "content": "def test_control_home(legacy_term_mock):",
    "start_line": 68
  },
  {
    "file": "test_windows_renderer.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "buffer = [Segment(\"\", None, [(ControlType.HOME,)])]\n    legacy_windows_render(buffer, legacy_term_mock)\n    legacy_term_mock.move_cursor_to.assert_called_once_with(WindowsCoordinates(0, 0))\n@pytest.mark.parametrize(\n    \"control_type, method_name\",\n    [\n        (ControlType.CURSOR_UP, \"move_cursor_up\"),\n        (ControlType.CURSOR_DOWN, \"move_cursor_down\"),\n        (ControlType.CURSOR_FORWARD, \"move_cursor_forward\"),\n        (ControlType.CURSOR_BACKWARD, \"move_cursor_backward\"),\n    ],\n)",
    "start_line": 69
  },
  {
    "file": "test_windows_renderer.py",
    "type": "function",
    "class": null,
    "method": "test_control_cursor_single_cell_movement",
    "name": "test_control_cursor_single_cell_movement",
    "content": "def test_control_cursor_single_cell_movement(\n    legacy_term_mock, control_type, method_name\n):",
    "start_line": 85
  },
  {
    "file": "test_windows_renderer.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "buffer = [Segment(\"\", None, [(control_type,)])]\n    legacy_windows_render(buffer, legacy_term_mock)\n    getattr(legacy_term_mock, method_name).assert_called_once_with()\n@pytest.mark.parametrize(\n    \"erase_mode, method_name\",\n    [\n        (0, \"erase_end_of_line\"),\n        (1, \"erase_start_of_line\"),\n        (2, \"erase_line\"),\n    ],\n)",
    "start_line": 88
  },
  {
    "file": "test_windows_renderer.py",
    "type": "function",
    "class": null,
    "method": "test_control_erase_line",
    "name": "test_control_erase_line",
    "content": "def test_control_erase_line(legacy_term_mock, erase_mode, method_name):",
    "start_line": 103
  },
  {
    "file": "test_windows_renderer.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "buffer = [Segment(\"\", None, [(ControlType.ERASE_IN_LINE, erase_mode)])]\n    legacy_windows_render(buffer, legacy_term_mock)\n    getattr(legacy_term_mock, method_name).assert_called_once_with()",
    "start_line": 104
  },
  {
    "file": "test_windows_renderer.py",
    "type": "function",
    "class": null,
    "method": "test_control_show_cursor",
    "name": "test_control_show_cursor",
    "content": "def test_control_show_cursor(legacy_term_mock):",
    "start_line": 111
  },
  {
    "file": "test_windows_renderer.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "buffer = [Segment(\"\", None, [(ControlType.SHOW_CURSOR,)])]\n    legacy_windows_render(buffer, legacy_term_mock)\n    legacy_term_mock.show_cursor.assert_called_once_with()",
    "start_line": 112
  },
  {
    "file": "test_windows_renderer.py",
    "type": "function",
    "class": null,
    "method": "test_control_hide_cursor",
    "name": "test_control_hide_cursor",
    "content": "def test_control_hide_cursor(legacy_term_mock):",
    "start_line": 119
  },
  {
    "file": "test_windows_renderer.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "buffer = [Segment(\"\", None, [(ControlType.HIDE_CURSOR,)])]\n    legacy_windows_render(buffer, legacy_term_mock)\n    legacy_term_mock.hide_cursor.assert_called_once_with()",
    "start_line": 120
  },
  {
    "file": "test_windows_renderer.py",
    "type": "function",
    "class": null,
    "method": "test_control_cursor_move_to_column",
    "name": "test_control_cursor_move_to_column",
    "content": "def test_control_cursor_move_to_column(legacy_term_mock):",
    "start_line": 127
  },
  {
    "file": "test_windows_renderer.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "buffer = [Segment(\"\", None, [(ControlType.CURSOR_MOVE_TO_COLUMN, 3)])]\n    legacy_windows_render(buffer, legacy_term_mock)\n    legacy_term_mock.move_cursor_to_column.assert_called_once_with(2)",
    "start_line": 128
  },
  {
    "file": "test_windows_renderer.py",
    "type": "function",
    "class": null,
    "method": "test_control_set_terminal_window_title",
    "name": "test_control_set_terminal_window_title",
    "content": "def test_control_set_terminal_window_title(legacy_term_mock):",
    "start_line": 135
  },
  {
    "file": "test_windows_renderer.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "buffer = [Segment(\"\", None, [(ControlType.SET_WINDOW_TITLE, \"Hello, world!\")])]\n    legacy_windows_render(buffer, legacy_term_mock)\n    legacy_term_mock.set_title.assert_called_once_with(\"Hello, world!\")",
    "start_line": 136
  },
  {
    "file": "test_windows_renderer.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "import sys\nfrom unittest.mock import call, create_autospec\n\nimport pytest\n\ntry:\n    from rich._win32_console import LegacyWindowsTerm, WindowsCoordinates\n    from rich._windows_renderer import legacy_windows_render\nexcept:\n    # These modules can only be imported on Windows\n    pass\nfrom rich.segment import ControlType, Segment\nfrom rich.style import Style\n\npytestmark = pytest.mark.skipif(sys.platform != \"win32\", reason=\"windows only\")\n\n\n@pytest.fixture\ndef legacy_term_mock():\n    return create_autospec(LegacyWindowsTerm)\n\n\ndef test_text_only(legacy_term_mock):\n    text = \"Hello, world!\"\n    buffer = [Segment(text)]\n    legacy_windows_render(buffer, legacy_term_mock)\n\n    legacy_term_mock.write_text.assert_called_once_with(text)\n\n\ndef test_text_multiple_segments(legacy_term_mock):\n    buffer = [Segment(\"Hello, \"), Segment(\"world!\")]\n    legacy_windows_render(buffer, legacy_term_mock)\n\n    assert legacy_term_mock.write_text.call_args_list == [\n        call(\"Hello, \"),\n        call(\"world!\"),\n    ]\n\n\ndef test_text_with_style(legacy_term_mock):\n    text = \"Hello, world!\"\n    style = Style.parse(\"black on red\")\n    buffer = [Segment(text, style)]\n\n    legacy_windows_render(buffer, legacy_term_mock)\n\n    legacy_term_mock.write_styled.assert_called_once_with(text, style)\n\n\ndef test_control_cursor_move_to(legacy_term_mock):\n    buffer = [Segment(\"\", None, [(ControlType.CURSOR_MOVE_TO, 20, 30)])]\n\n    legacy_windows_render(buffer, legacy_term_mock)\n\n    legacy_term_mock.move_cursor_to.assert_called_once_with(\n        WindowsCoordinates(row=29, col=19)\n    )\n\n\ndef test_control_carriage_return(legacy_term_mock):\n    buffer = [Segment(\"\", None, [(ControlType.CARRIAGE_RETURN,)])]\n\n    legacy_windows_render(buffer, legacy_term_mock)\n\n    legacy_term_mock.write_text.assert_called_once_with(\"\\r\")\n\n\ndef test_control_home(legacy_term_mock):\n    buffer = [Segment(\"\", None, [(ControlType.HOME,)])]\n\n    legacy_windows_render(buffer, legacy_term_mock)\n\n    legacy_term_mock.move_cursor_to.assert_called_once_with(WindowsCoordinates(0, 0))\n\n\n@pytest.mark.parametrize(\n    \"control_type, method_name\",\n    [\n        (ControlType.CURSOR_UP, \"move_cursor_up\"),\n        (ControlType.CURSOR_DOWN, \"move_cursor_down\"),\n        (ControlType.CURSOR_FORWARD, \"move_cursor_forward\"),\n        (ControlType.CURSOR_BACKWARD, \"move_cursor_backward\"),\n    ],\n)\ndef test_control_cursor_single_cell_movement(\n    legacy_term_mock, control_type, method_name\n):\n    buffer = [Segment(\"\", None, [(control_type,)])]\n\n    legacy_windows_render(buffer, legacy_term_mock)\n\n    getattr(legacy_term_mock, method_name).assert_called_once_with()\n\n\n@pytest.mark.parametrize(\n    \"erase_mode, method_name\",\n    [\n        (0, \"erase_end_of_line\"),\n        (1, \"erase_start_of_line\"),\n        (2, \"erase_line\"),\n    ],\n)\ndef test_control_erase_line(legacy_term_mock, erase_mode, method_name):\n    buffer = [Segment(\"\", None, [(ControlType.ERASE_IN_LINE, erase_mode)])]\n\n    legacy_windows_render(buffer, legacy_term_mock)\n\n    getattr(legacy_term_mock, method_name).assert_called_once_with()\n\n\ndef test_control_show_cursor(legacy_term_mock):\n    buffer = [Segment(\"\", None, [(ControlType.SHOW_CURSOR,)])]\n\n    legacy_windows_render(buffer, legacy_term_mock)\n\n    legacy_term_mock.show_cursor.assert_called_once_with()\n\n\ndef test_control_hide_cursor(legacy_term_mock):\n    buffer = [Segment(\"\", None, [(ControlType.HIDE_CURSOR,)])]\n\n    legacy_windows_render(buffer, legacy_term_mock)\n\n    legacy_term_mock.hide_cursor.assert_called_once_with()\n\n\ndef test_control_cursor_move_to_column(legacy_term_mock):\n    buffer = [Segment(\"\", None, [(ControlType.CURSOR_MOVE_TO_COLUMN, 3)])]\n\n    legacy_windows_render(buffer, legacy_term_mock)\n\n    legacy_term_mock.move_cursor_to_column.assert_called_once_with(2)\n\n\ndef test_control_set_terminal_window_title(legacy_term_mock):\n    buffer = [Segment(\"\", None, [(ControlType.SET_WINDOW_TITLE, \"Hello, world!\")])]\n\n    legacy_windows_render(buffer, legacy_term_mock)\n\n    legacy_term_mock.set_title.assert_called_once_with(\"Hello, world!\")\n",
    "start_line": 0
  },
  {
    "file": "__init__.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "",
    "start_line": 0
  },
  {
    "file": "test_rich_print.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "import io\nimport json\nimport rich\nfrom rich.console import Console",
    "start_line": 0
  },
  {
    "file": "test_rich_print.py",
    "type": "function",
    "class": null,
    "method": "test_get_console",
    "name": "test_get_console",
    "content": "def test_get_console():",
    "start_line": 7
  },
  {
    "file": "test_rich_print.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = rich.get_console()\n    assert isinstance(console, Console)",
    "start_line": 8
  },
  {
    "file": "test_rich_print.py",
    "type": "function",
    "class": null,
    "method": "test_reconfigure_console",
    "name": "test_reconfigure_console",
    "content": "def test_reconfigure_console():\n    rich.reconfigure(width=100)\n    assert rich.get_console().width == 100",
    "start_line": 12
  },
  {
    "file": "test_rich_print.py",
    "type": "function",
    "class": null,
    "method": "test_rich_print",
    "name": "test_rich_print",
    "content": "def test_rich_print():",
    "start_line": 17
  },
  {
    "file": "test_rich_print.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = rich.get_console()\n    output = io.StringIO()\n    backup_file = console.file\n    try:\n        console.file = output\n        rich.print(\"foo\", \"bar\")\n        rich.print(\"foo\\n\")\n        rich.print(\"foo\\n\\n\")\n        assert output.getvalue() == \"foo bar\\nfoo\\n\\nfoo\\n\\n\\n\"\n    finally:\n        console.file = backup_file",
    "start_line": 18
  },
  {
    "file": "test_rich_print.py",
    "type": "function",
    "class": null,
    "method": "test_rich_print_json",
    "name": "test_rich_print_json",
    "content": "def test_rich_print_json():",
    "start_line": 31
  },
  {
    "file": "test_rich_print.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = rich.get_console()\n    with console.capture() as capture:\n        rich.print_json('[false, true, null, \"foo\"]', indent=4)\n    result = capture.get()\n    print(repr(result))\n    expected = '[\\n    false,\\n    true,\\n    null,\\n    \"foo\"\\n]\\n'\n    assert result == expected",
    "start_line": 32
  },
  {
    "file": "test_rich_print.py",
    "type": "function",
    "class": null,
    "method": "test_rich_print_json_round_trip",
    "name": "test_rich_print_json_round_trip",
    "content": "def test_rich_print_json_round_trip():",
    "start_line": 41
  },
  {
    "file": "test_rich_print.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "data = [\"x\" * 100, 2e128]\n    console = rich.get_console()\n    with console.capture() as capture:\n        rich.print_json(data=data, indent=4)\n    result = capture.get()\n    print(repr(result))\n    result_data = json.loads(result)\n    assert result_data == data",
    "start_line": 42
  },
  {
    "file": "test_rich_print.py",
    "type": "function",
    "class": null,
    "method": "test_rich_print_json_no_truncation",
    "name": "test_rich_print_json_no_truncation",
    "content": "def test_rich_print_json_no_truncation():",
    "start_line": 52
  },
  {
    "file": "test_rich_print.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = rich.get_console()\n    with console.capture() as capture:\n        rich.print_json(f'[\"{\"x\" * 100}\", {int(2e128)}]', indent=4)\n    result = capture.get()\n    print(repr(result))\n    assert (\"x\" * 100) in result\n    assert str(int(2e128)) in result",
    "start_line": 53
  },
  {
    "file": "test_rich_print.py",
    "type": "function",
    "class": null,
    "method": "test_rich_print_X",
    "name": "test_rich_print_X",
    "content": "def test_rich_print_X():",
    "start_line": 62
  },
  {
    "file": "test_rich_print.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = rich.get_console()\n    output = io.StringIO()\n    backup_file = console.file\n    try:\n        console.file = output\n        rich.print(\"foo\")\n        rich.print(\"fooX\")\n        rich.print(\"fooXX\")\n        assert output.getvalue() == \"foo\\nfooX\\nfooXX\\n\"\n    finally:\n        console.file = backup_file",
    "start_line": 63
  },
  {
    "file": "test_rich_print.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "import io\nimport json\n\nimport rich\nfrom rich.console import Console\n\n\ndef test_get_console():\n    console = rich.get_console()\n    assert isinstance(console, Console)\n\n\ndef test_reconfigure_console():\n    rich.reconfigure(width=100)\n    assert rich.get_console().width == 100\n\n\ndef test_rich_print():\n    console = rich.get_console()\n    output = io.StringIO()\n    backup_file = console.file\n    try:\n        console.file = output\n        rich.print(\"foo\", \"bar\")\n        rich.print(\"foo\\n\")\n        rich.print(\"foo\\n\\n\")\n        assert output.getvalue() == \"foo bar\\nfoo\\n\\nfoo\\n\\n\\n\"\n    finally:\n        console.file = backup_file\n\n\ndef test_rich_print_json():\n    console = rich.get_console()\n    with console.capture() as capture:\n        rich.print_json('[false, true, null, \"foo\"]', indent=4)\n    result = capture.get()\n    print(repr(result))\n    expected = '[\\n    false,\\n    true,\\n    null,\\n    \"foo\"\\n]\\n'\n    assert result == expected\n\n\ndef test_rich_print_json_round_trip():\n    data = [\"x\" * 100, 2e128]\n    console = rich.get_console()\n    with console.capture() as capture:\n        rich.print_json(data=data, indent=4)\n    result = capture.get()\n    print(repr(result))\n    result_data = json.loads(result)\n    assert result_data == data\n\n\ndef test_rich_print_json_no_truncation():\n    console = rich.get_console()\n    with console.capture() as capture:\n        rich.print_json(f'[\"{\"x\" * 100}\", {int(2e128)}]', indent=4)\n    result = capture.get()\n    print(repr(result))\n    assert (\"x\" * 100) in result\n    assert str(int(2e128)) in result\n\n\ndef test_rich_print_X():\n    console = rich.get_console()\n    output = io.StringIO()\n    backup_file = console.file\n    try:\n        console.file = output\n        rich.print(\"foo\")\n        rich.print(\"fooX\")\n        rich.print(\"fooXX\")\n        assert output.getvalue() == \"foo\\nfooX\\nfooXX\\n\"\n    finally:\n        console.file = backup_file\n",
    "start_line": 0
  },
  {
    "file": "test_control.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from rich.control import Control, escape_control_codes, strip_control_codes\nfrom rich.segment import ControlType, Segment",
    "start_line": 0
  },
  {
    "file": "test_control.py",
    "type": "function",
    "class": null,
    "method": "test_control",
    "name": "test_control",
    "content": "def test_control():",
    "start_line": 4
  },
  {
    "file": "test_control.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "control = Control(ControlType.BELL)\n    assert str(control) == \"\\x07\"",
    "start_line": 5
  },
  {
    "file": "test_control.py",
    "type": "function",
    "class": null,
    "method": "test_strip_control_codes",
    "name": "test_strip_control_codes",
    "content": "def test_strip_control_codes():\n    assert strip_control_codes(\"\") == \"\"\n    assert strip_control_codes(\"foo\\rbar\") == \"foobar\"\n    assert strip_control_codes(\"Fear is the mind killer\") == \"Fear is the mind killer\"",
    "start_line": 9
  },
  {
    "file": "test_control.py",
    "type": "function",
    "class": null,
    "method": "test_escape_control_codes",
    "name": "test_escape_control_codes",
    "content": "def test_escape_control_codes():\n    assert escape_control_codes(\"\") == \"\"\n    assert escape_control_codes(\"foo\\rbar\") == \"foo\\\\rbar\"\n    assert escape_control_codes(\"Fear is the mind killer\") == \"Fear is the mind killer\"",
    "start_line": 15
  },
  {
    "file": "test_control.py",
    "type": "function",
    "class": null,
    "method": "test_control_move_to",
    "name": "test_control_move_to",
    "content": "def test_control_move_to():",
    "start_line": 21
  },
  {
    "file": "test_control.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "control = Control.move_to(5, 10)\n    print(control.segment)\n    assert control.segment == Segment(\n        \"\\x1b[11;6H\", None, [(ControlType.CURSOR_MOVE_TO, 5, 10)]\n    )",
    "start_line": 22
  },
  {
    "file": "test_control.py",
    "type": "function",
    "class": null,
    "method": "test_control_move",
    "name": "test_control_move",
    "content": "def test_control_move():\n    assert Control.move(0, 0).segment == Segment(\"\", None, [])",
    "start_line": 29
  },
  {
    "file": "test_control.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "control = Control.move(3, 4)\n    print(repr(control.segment))\n    assert control.segment == Segment(\n        \"\\x1b[3C\\x1b[4B\",\n        None,\n        [(ControlType.CURSOR_FORWARD, 3), (ControlType.CURSOR_DOWN, 4)],\n    )",
    "start_line": 31
  },
  {
    "file": "test_control.py",
    "type": "function",
    "class": null,
    "method": "test_move_to_column",
    "name": "test_move_to_column",
    "content": "def test_move_to_column():\n    print(repr(Control.move_to_column(10, 20).segment))\n    assert Control.move_to_column(10, 20).segment == Segment(\n        \"\\x1b[11G\\x1b[20B\",\n        None,\n        [(ControlType.CURSOR_MOVE_TO_COLUMN, 10), (ControlType.CURSOR_DOWN, 20)],\n    )\n\n    assert Control.move_to_column(10, -20).segment == Segment(\n        \"\\x1b[11G\\x1b[20A\",\n        None,\n        [(ControlType.CURSOR_MOVE_TO_COLUMN, 10), (ControlType.CURSOR_UP, 20)],\n    )",
    "start_line": 40
  },
  {
    "file": "test_control.py",
    "type": "function",
    "class": null,
    "method": "test_title",
    "name": "test_title",
    "content": "def test_title():",
    "start_line": 55
  },
  {
    "file": "test_control.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "control_segment = Control.title(\"hello\").segment\n    assert control_segment == Segment(\n        \"\\x1b]0;hello\\x07\",\n        None,\n        [(ControlType.SET_WINDOW_TITLE, \"hello\")],\n    )",
    "start_line": 56
  },
  {
    "file": "test_control.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "from rich.control import Control, escape_control_codes, strip_control_codes\nfrom rich.segment import ControlType, Segment\n\n\ndef test_control():\n    control = Control(ControlType.BELL)\n    assert str(control) == \"\\x07\"\n\n\ndef test_strip_control_codes():\n    assert strip_control_codes(\"\") == \"\"\n    assert strip_control_codes(\"foo\\rbar\") == \"foobar\"\n    assert strip_control_codes(\"Fear is the mind killer\") == \"Fear is the mind killer\"\n\n\ndef test_escape_control_codes():\n    assert escape_control_codes(\"\") == \"\"\n    assert escape_control_codes(\"foo\\rbar\") == \"foo\\\\rbar\"\n    assert escape_control_codes(\"Fear is the mind killer\") == \"Fear is the mind killer\"\n\n\ndef test_control_move_to():\n    control = Control.move_to(5, 10)\n    print(control.segment)\n    assert control.segment == Segment(\n        \"\\x1b[11;6H\", None, [(ControlType.CURSOR_MOVE_TO, 5, 10)]\n    )\n\n\ndef test_control_move():\n    assert Control.move(0, 0).segment == Segment(\"\", None, [])\n    control = Control.move(3, 4)\n    print(repr(control.segment))\n    assert control.segment == Segment(\n        \"\\x1b[3C\\x1b[4B\",\n        None,\n        [(ControlType.CURSOR_FORWARD, 3), (ControlType.CURSOR_DOWN, 4)],\n    )\n\n\ndef test_move_to_column():\n    print(repr(Control.move_to_column(10, 20).segment))\n    assert Control.move_to_column(10, 20).segment == Segment(\n        \"\\x1b[11G\\x1b[20B\",\n        None,\n        [(ControlType.CURSOR_MOVE_TO_COLUMN, 10), (ControlType.CURSOR_DOWN, 20)],\n    )\n\n    assert Control.move_to_column(10, -20).segment == Segment(\n        \"\\x1b[11G\\x1b[20A\",\n        None,\n        [(ControlType.CURSOR_MOVE_TO_COLUMN, 10), (ControlType.CURSOR_UP, 20)],\n    )\n\n\ndef test_title():\n    control_segment = Control.title(\"hello\").segment\n    assert control_segment == Segment(\n        \"\\x1b]0;hello\\x07\",\n        None,\n        [(ControlType.SET_WINDOW_TITLE, \"hello\")],\n    )\n",
    "start_line": 0
  },
  {
    "file": "test_status.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from time import sleep\nfrom rich.console import Console\nfrom rich.spinner import Spinner\nfrom rich.status import Status",
    "start_line": 0
  },
  {
    "file": "test_status.py",
    "type": "function",
    "class": null,
    "method": "test_status",
    "name": "test_status",
    "content": "def test_status():",
    "start_line": 7
  },
  {
    "file": "test_status.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(\n        color_system=None, width=80, legacy_windows=False, get_time=lambda: 0.0\n    )\n    status = Status(\"foo\", console=console)\n    assert status.console == console\n    previous_status_renderable = status.renderable\n    status.update(status=\"bar\", spinner_style=\"red\", speed=2.0)\n    assert previous_status_renderable == status.renderable\n    assert isinstance(status.renderable, Spinner)\n    status.update(spinner=\"dots2\")\n    assert previous_status_renderable != status.renderable",
    "start_line": 8
  },
  {
    "file": "test_status.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# TODO: Testing output is tricky with threads\n    with status:\n        sleep(0.2)",
    "start_line": 21
  },
  {
    "file": "test_status.py",
    "type": "function",
    "class": null,
    "method": "test_renderable",
    "name": "test_renderable",
    "content": "def test_renderable():",
    "start_line": 26
  },
  {
    "file": "test_status.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(\n        color_system=None, width=80, legacy_windows=False, get_time=lambda: 0.0\n    )\n    status = Status(\"foo\", console=console)\n    console.begin_capture()\n    console.print(status)\n    assert console.end_capture() == \" foo\\n\"",
    "start_line": 27
  },
  {
    "file": "test_status.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "from time import sleep\n\nfrom rich.console import Console\nfrom rich.spinner import Spinner\nfrom rich.status import Status\n\n\ndef test_status():\n    console = Console(\n        color_system=None, width=80, legacy_windows=False, get_time=lambda: 0.0\n    )\n    status = Status(\"foo\", console=console)\n    assert status.console == console\n    previous_status_renderable = status.renderable\n    status.update(status=\"bar\", spinner_style=\"red\", speed=2.0)\n\n    assert previous_status_renderable == status.renderable\n    assert isinstance(status.renderable, Spinner)\n    status.update(spinner=\"dots2\")\n    assert previous_status_renderable != status.renderable\n\n    # TODO: Testing output is tricky with threads\n    with status:\n        sleep(0.2)\n\n\ndef test_renderable():\n    console = Console(\n        color_system=None, width=80, legacy_windows=False, get_time=lambda: 0.0\n    )\n    status = Status(\"foo\", console=console)\n    console.begin_capture()\n    console.print(status)\n    assert console.end_capture() == \" foo\\n\"\n",
    "start_line": 0
  },
  {
    "file": "test_log.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# encoding=utf-8",
    "start_line": 0
  },
  {
    "file": "test_log.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "import io\nimport re\nfrom rich.console import Console",
    "start_line": 3
  },
  {
    "file": "test_log.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "re_link_ids = re.compile(r\"id=[\\d\\.\\-]*?;.*?\\x1b\")",
    "start_line": 8
  },
  {
    "file": "test_log.py",
    "type": "function",
    "class": null,
    "method": "replace_link_ids",
    "name": "replace_link_ids",
    "content": "def replace_link_ids(render: str) -> str:\n    \"\"\"Link IDs have a random ID and system path which is a problem for\n    reproducible tests.\n\n    \"\"\"\n    return re_link_ids.sub(\"id=0;foo\\x1b\", render)",
    "start_line": 11
  },
  {
    "file": "test_log.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "test_data = [1, 2, 3]",
    "start_line": 19
  },
  {
    "file": "test_log.py",
    "type": "function",
    "class": null,
    "method": "render_log",
    "name": "render_log",
    "content": "def render_log():",
    "start_line": 22
  },
  {
    "file": "test_log.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(\n        file=io.StringIO(),\n        width=80,\n        force_terminal=True,\n        log_time_format=\"[TIME]\",\n        color_system=\"truecolor\",\n        legacy_windows=False,\n    )\n    console.log()\n    console.log(\"Hello from\", console, \"!\")\n    console.log(test_data, log_locals=True)\n    return replace_link_ids(console.file.getvalue()).replace(\"test_log.py\", \"source.py\")",
    "start_line": 23
  },
  {
    "file": "test_log.py",
    "type": "function",
    "class": null,
    "method": "test_log",
    "name": "test_log",
    "content": "def test_log():",
    "start_line": 37
  },
  {
    "file": "test_log.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "expected = replace_link_ids(\n        \"\\x1b[2;36m[TIME]\\x1b[0m\\x1b[2;36m \\x1b[0m                                                           \\x1b]8;id=0;foo\\x1b\\\\\\x1b[2msource.py\\x1b[0m\\x1b]8;;\\x1b\\\\\\x1b[2m:\\x1b[0m\\x1b]8;id=0;foo\\x1b\\\\\\x1b[2m32\\x1b[0m\\x1b]8;;\\x1b\\\\\\n\\x1b[2;36m      \\x1b[0m\\x1b[2;36m \\x1b[0mHello from \\x1b[1m<\\x1b[0m\\x1b[1;95mconsole\\x1b[0m\\x1b[39m \\x1b[0m\\x1b[33mwidth\\x1b[0m\\x1b[39m=\\x1b[0m\\x1b[1;36m80\\x1b[0m\\x1b[39m ColorSystem.TRUECOLOR\\x1b[0m\\x1b[1m>\\x1b[0m !      \\x1b]8;id=0;foo\\x1b\\\\\\x1b[2msource.py\\x1b[0m\\x1b]8;;\\x1b\\\\\\x1b[2m:\\x1b[0m\\x1b]8;id=0;foo\\x1b\\\\\\x1b[2m33\\x1b[0m\\x1b]8;;\\x1b\\\\\\n\\x1b[2;36m      \\x1b[0m\\x1b[2;36m \\x1b[0m\\x1b[1m[\\x1b[0m\\x1b[1;36m1\\x1b[0m, \\x1b[1;36m2\\x1b[0m, \\x1b[1;36m3\\x1b[0m\\x1b[1m]\\x1b[0m                                                  \\x1b]8;id=0;foo\\x1b\\\\\\x1b[2msource.py\\x1b[0m\\x1b]8;;\\x1b\\\\\\x1b[2m:\\x1b[0m\\x1b]8;id=0;foo\\x1b\\\\\\x1b[2m34\\x1b[0m\\x1b]8;;\\x1b\\\\\\n\\x1b[2;36m       \\x1b[0m\\x1b[34m\\x1b[0m\\x1b[34m\\x1b[0m\\x1b[34m \\x1b[0m\\x1b[3;34mlocals\\x1b[0m\\x1b[34m \\x1b[0m\\x1b[34m\\x1b[0m\\x1b[34m\\x1b[0m     \\x1b[2m              \\x1b[0m\\n\\x1b[2;36m       \\x1b[0m\\x1b[34m\\x1b[0m \\x1b[3;33mconsole\\x1b[0m\\x1b[31m =\\x1b[0m \\x1b[1m<\\x1b[0m\\x1b[1;95mconsole\\x1b[0m\\x1b[39m \\x1b[0m\\x1b[33mwidth\\x1b[0m\\x1b[39m=\\x1b[0m\\x1b[1;36m80\\x1b[0m\\x1b[39m ColorSystem.TRUECOLOR\\x1b[0m\\x1b[1m>\\x1b[0m \\x1b[34m\\x1b[0m     \\x1b[2m              \\x1b[0m\\n\\x1b[2;36m       \\x1b[0m\\x1b[34m\\x1b[0m     \\x1b[2m              \\x1b[0m\\n\"\n    )\n    rendered = render_log()\n    print(repr(rendered))\n    assert rendered == expected",
    "start_line": 38
  },
  {
    "file": "test_log.py",
    "type": "function",
    "class": null,
    "method": "test_log_caller_frame_info",
    "name": "test_log_caller_frame_info",
    "content": "def test_log_caller_frame_info():\n    for i in range(2):\n        assert Console._caller_frame_info(i) == Console._caller_frame_info(\n            i, lambda: None\n        )",
    "start_line": 46
  },
  {
    "file": "test_log.py",
    "type": "function",
    "class": null,
    "method": "test_justify",
    "name": "test_justify",
    "content": "def test_justify():",
    "start_line": 53
  },
  {
    "file": "test_log.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(width=20, log_path=False, log_time=False, color_system=None)\n    console.begin_capture()\n    console.log(\"foo\", justify=\"right\")\n    result = console.end_capture()\n    assert result == \"                 foo\\n\"\nif __name__ == \"__main__\":\n    render = render_log()\n    print(render)\n    print(repr(render))",
    "start_line": 54
  },
  {
    "file": "test_log.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "# encoding=utf-8\n\n\nimport io\nimport re\n\nfrom rich.console import Console\n\nre_link_ids = re.compile(r\"id=[\\d\\.\\-]*?;.*?\\x1b\")\n\n\ndef replace_link_ids(render: str) -> str:\n    \"\"\"Link IDs have a random ID and system path which is a problem for\n    reproducible tests.\n\n    \"\"\"\n    return re_link_ids.sub(\"id=0;foo\\x1b\", render)\n\n\ntest_data = [1, 2, 3]\n\n\ndef render_log():\n    console = Console(\n        file=io.StringIO(),\n        width=80,\n        force_terminal=True,\n        log_time_format=\"[TIME]\",\n        color_system=\"truecolor\",\n        legacy_windows=False,\n    )\n    console.log()\n    console.log(\"Hello from\", console, \"!\")\n    console.log(test_data, log_locals=True)\n    return replace_link_ids(console.file.getvalue()).replace(\"test_log.py\", \"source.py\")\n\n\ndef test_log():\n    expected = replace_link_ids(\n        \"\\x1b[2;36m[TIME]\\x1b[0m\\x1b[2;36m \\x1b[0m                                                           \\x1b]8;id=0;foo\\x1b\\\\\\x1b[2msource.py\\x1b[0m\\x1b]8;;\\x1b\\\\\\x1b[2m:\\x1b[0m\\x1b]8;id=0;foo\\x1b\\\\\\x1b[2m32\\x1b[0m\\x1b]8;;\\x1b\\\\\\n\\x1b[2;36m      \\x1b[0m\\x1b[2;36m \\x1b[0mHello from \\x1b[1m<\\x1b[0m\\x1b[1;95mconsole\\x1b[0m\\x1b[39m \\x1b[0m\\x1b[33mwidth\\x1b[0m\\x1b[39m=\\x1b[0m\\x1b[1;36m80\\x1b[0m\\x1b[39m ColorSystem.TRUECOLOR\\x1b[0m\\x1b[1m>\\x1b[0m !      \\x1b]8;id=0;foo\\x1b\\\\\\x1b[2msource.py\\x1b[0m\\x1b]8;;\\x1b\\\\\\x1b[2m:\\x1b[0m\\x1b]8;id=0;foo\\x1b\\\\\\x1b[2m33\\x1b[0m\\x1b]8;;\\x1b\\\\\\n\\x1b[2;36m      \\x1b[0m\\x1b[2;36m \\x1b[0m\\x1b[1m[\\x1b[0m\\x1b[1;36m1\\x1b[0m, \\x1b[1;36m2\\x1b[0m, \\x1b[1;36m3\\x1b[0m\\x1b[1m]\\x1b[0m                                                  \\x1b]8;id=0;foo\\x1b\\\\\\x1b[2msource.py\\x1b[0m\\x1b]8;;\\x1b\\\\\\x1b[2m:\\x1b[0m\\x1b]8;id=0;foo\\x1b\\\\\\x1b[2m34\\x1b[0m\\x1b]8;;\\x1b\\\\\\n\\x1b[2;36m       \\x1b[0m\\x1b[34m\\x1b[0m\\x1b[34m\\x1b[0m\\x1b[34m \\x1b[0m\\x1b[3;34mlocals\\x1b[0m\\x1b[34m \\x1b[0m\\x1b[34m\\x1b[0m\\x1b[34m\\x1b[0m     \\x1b[2m              \\x1b[0m\\n\\x1b[2;36m       \\x1b[0m\\x1b[34m\\x1b[0m \\x1b[3;33mconsole\\x1b[0m\\x1b[31m =\\x1b[0m \\x1b[1m<\\x1b[0m\\x1b[1;95mconsole\\x1b[0m\\x1b[39m \\x1b[0m\\x1b[33mwidth\\x1b[0m\\x1b[39m=\\x1b[0m\\x1b[1;36m80\\x1b[0m\\x1b[39m ColorSystem.TRUECOLOR\\x1b[0m\\x1b[1m>\\x1b[0m \\x1b[34m\\x1b[0m     \\x1b[2m              \\x1b[0m\\n\\x1b[2;36m       \\x1b[0m\\x1b[34m\\x1b[0m     \\x1b[2m              \\x1b[0m\\n\"\n    )\n    rendered = render_log()\n    print(repr(rendered))\n    assert rendered == expected\n\n\ndef test_log_caller_frame_info():\n    for i in range(2):\n        assert Console._caller_frame_info(i) == Console._caller_frame_info(\n            i, lambda: None\n        )\n\n\ndef test_justify():\n    console = Console(width=20, log_path=False, log_time=False, color_system=None)\n    console.begin_capture()\n    console.log(\"foo\", justify=\"right\")\n    result = console.end_capture()\n    assert result == \"                 foo\\n\"\n\n\nif __name__ == \"__main__\":\n    render = render_log()\n    print(render)\n    print(repr(render))\n",
    "start_line": 0
  },
  {
    "file": "test_live.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# encoding=utf-8",
    "start_line": 0
  },
  {
    "file": "test_live.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "import time\nfrom typing import Optional",
    "start_line": 1
  },
  {
    "file": "test_live.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# import pytest",
    "start_line": 4
  },
  {
    "file": "test_live.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from rich.console import Console\nfrom rich.live import Live\nfrom rich.text import Text",
    "start_line": 5
  },
  {
    "file": "test_live.py",
    "type": "function",
    "class": null,
    "method": "create_capture_console",
    "name": "create_capture_console",
    "content": "def create_capture_console(\n    *, width: int = 60, height: int = 80, force_terminal: Optional[bool] = True\n) -> Console:\n    return Console(",
    "start_line": 10
  },
  {
    "file": "test_live.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "width=width,\n        height=height,\n        force_terminal=force_terminal,\n        legacy_windows=False,\n        color_system=None,  # use no color system to reduce complexity of output,\n        _environ={},\n    )",
    "start_line": 14
  },
  {
    "file": "test_live.py",
    "type": "function",
    "class": null,
    "method": "test_live_state",
    "name": "test_live_state",
    "content": "def test_live_state() -> None:\n    with Live(\"\") as live:\n        assert live._started\n        live.start()\n\n        assert live.renderable == \"\"\n\n        assert live._started\n        live.stop()\n        assert not live._started\n\n    assert not live._started",
    "start_line": 23
  },
  {
    "file": "test_live.py",
    "type": "function",
    "class": null,
    "method": "test_growing_display",
    "name": "test_growing_display",
    "content": "def test_growing_display() -> None:",
    "start_line": 37
  },
  {
    "file": "test_live.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = create_capture_console()\n    console.begin_capture()\n    with Live(console=console, auto_refresh=False) as live:\n        display = \"\"\n        for step in range(10):\n            display += f\"Step {step}\\n\"\n            live.update(display, refresh=True)\n    output = console.end_capture()\n    print(repr(output))\n    assert (\n        output\n        == \"\\x1b[?25lStep 0\\n\\r\\x1b[2K\\x1b[1A\\x1b[2KStep 0\\nStep 1\\n\\r\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2KStep 0\\nStep 1\\nStep 2\\n\\r\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2KStep 0\\nStep 1\\nStep 2\\nStep 3\\n\\r\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2KStep 0\\nStep 1\\nStep 2\\nStep 3\\nStep 4\\n\\r\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2KStep 0\\nStep 1\\nStep 2\\nStep 3\\nStep 4\\nStep 5\\n\\r\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2KStep 0\\nStep 1\\nStep 2\\nStep 3\\nStep 4\\nStep 5\\nStep 6\\n\\r\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2KStep 0\\nStep 1\\nStep 2\\nStep 3\\nStep 4\\nStep 5\\nStep 6\\nStep 7\\n\\r\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2KStep 0\\nStep 1\\nStep 2\\nStep 3\\nStep 4\\nStep 5\\nStep 6\\nStep 7\\nStep 8\\n\\r\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2KStep 0\\nStep 1\\nStep 2\\nStep 3\\nStep 4\\nStep 5\\nStep 6\\nStep 7\\nStep 8\\nStep 9\\n\\r\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2KStep 0\\nStep 1\\nStep 2\\nStep 3\\nStep 4\\nStep 5\\nStep 6\\nStep 7\\nStep 8\\nStep 9\\n\\n\\x1b[?25h\"\n    )",
    "start_line": 38
  },
  {
    "file": "test_live.py",
    "type": "function",
    "class": null,
    "method": "test_growing_display_transient",
    "name": "test_growing_display_transient",
    "content": "def test_growing_display_transient() -> None:",
    "start_line": 53
  },
  {
    "file": "test_live.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = create_capture_console()\n    console.begin_capture()\n    with Live(console=console, auto_refresh=False, transient=True) as live:\n        display = \"\"\n        for step in range(10):\n            display += f\"Step {step}\\n\"\n            live.update(display, refresh=True)\n    output = console.end_capture()\n    assert (\n        output\n        == \"\\x1b[?25lStep 0\\n\\r\\x1b[2K\\x1b[1A\\x1b[2KStep 0\\nStep 1\\n\\r\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2KStep 0\\nStep 1\\nStep 2\\n\\r\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2KStep 0\\nStep 1\\nStep 2\\nStep 3\\n\\r\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2KStep 0\\nStep 1\\nStep 2\\nStep 3\\nStep 4\\n\\r\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2KStep 0\\nStep 1\\nStep 2\\nStep 3\\nStep 4\\nStep 5\\n\\r\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2KStep 0\\nStep 1\\nStep 2\\nStep 3\\nStep 4\\nStep 5\\nStep 6\\n\\r\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2KStep 0\\nStep 1\\nStep 2\\nStep 3\\nStep 4\\nStep 5\\nStep 6\\nStep 7\\n\\r\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2KStep 0\\nStep 1\\nStep 2\\nStep 3\\nStep 4\\nStep 5\\nStep 6\\nStep 7\\nStep 8\\n\\r\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2KStep 0\\nStep 1\\nStep 2\\nStep 3\\nStep 4\\nStep 5\\nStep 6\\nStep 7\\nStep 8\\nStep 9\\n\\r\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2KStep 0\\nStep 1\\nStep 2\\nStep 3\\nStep 4\\nStep 5\\nStep 6\\nStep 7\\nStep 8\\nStep 9\\n\\n\\x1b[?25h\\r\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\"\n    )",
    "start_line": 54
  },
  {
    "file": "test_live.py",
    "type": "function",
    "class": null,
    "method": "test_growing_display_overflow_ellipsis",
    "name": "test_growing_display_overflow_ellipsis",
    "content": "def test_growing_display_overflow_ellipsis() -> None:",
    "start_line": 68
  },
  {
    "file": "test_live.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = create_capture_console(height=5)\n    console.begin_capture()\n    with Live(\n        console=console, auto_refresh=False, vertical_overflow=\"ellipsis\"\n    ) as live:\n        display = \"\"\n        for step in range(10):\n            display += f\"Step {step}\\n\"\n            live.update(display, refresh=True)\n    output = console.end_capture()\n    assert (\n        output\n        == \"\\x1b[?25lStep 0\\n\\r\\x1b[2K\\x1b[1A\\x1b[2KStep 0\\nStep 1\\n\\r\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2KStep 0\\nStep 1\\nStep 2\\n\\r\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2KStep 0\\nStep 1\\nStep 2\\nStep 3\\n\\r\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2KStep 0\\nStep 1\\nStep 2\\nStep 3\\n                            ...                             \\r\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2KStep 0\\nStep 1\\nStep 2\\nStep 3\\n                            ...                             \\r\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2KStep 0\\nStep 1\\nStep 2\\nStep 3\\n                            ...                             \\r\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2KStep 0\\nStep 1\\nStep 2\\nStep 3\\n                            ...                             \\r\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2KStep 0\\nStep 1\\nStep 2\\nStep 3\\n                            ...                             \\r\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2KStep 0\\nStep 1\\nStep 2\\nStep 3\\n                            ...                             \\r\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2KStep 0\\nStep 1\\nStep 2\\nStep 3\\nStep 4\\nStep 5\\nStep 6\\nStep 7\\nStep 8\\nStep 9\\n\\n\\x1b[?25h\"\n    )",
    "start_line": 69
  },
  {
    "file": "test_live.py",
    "type": "function",
    "class": null,
    "method": "test_growing_display_overflow_crop",
    "name": "test_growing_display_overflow_crop",
    "content": "def test_growing_display_overflow_crop() -> None:",
    "start_line": 85
  },
  {
    "file": "test_live.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = create_capture_console(height=5)\n    console.begin_capture()\n    with Live(console=console, auto_refresh=False, vertical_overflow=\"crop\") as live:\n        display = \"\"\n        for step in range(10):\n            display += f\"Step {step}\\n\"\n            live.update(display, refresh=True)\n    output = console.end_capture()\n    assert (\n        output\n        == \"\\x1b[?25lStep 0\\n\\r\\x1b[2K\\x1b[1A\\x1b[2KStep 0\\nStep 1\\n\\r\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2KStep 0\\nStep 1\\nStep 2\\n\\r\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2KStep 0\\nStep 1\\nStep 2\\nStep 3\\n\\r\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2KStep 0\\nStep 1\\nStep 2\\nStep 3\\nStep 4\\r\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2KStep 0\\nStep 1\\nStep 2\\nStep 3\\nStep 4\\r\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2KStep 0\\nStep 1\\nStep 2\\nStep 3\\nStep 4\\r\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2KStep 0\\nStep 1\\nStep 2\\nStep 3\\nStep 4\\r\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2KStep 0\\nStep 1\\nStep 2\\nStep 3\\nStep 4\\r\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2KStep 0\\nStep 1\\nStep 2\\nStep 3\\nStep 4\\r\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2KStep 0\\nStep 1\\nStep 2\\nStep 3\\nStep 4\\nStep 5\\nStep 6\\nStep 7\\nStep 8\\nStep 9\\n\\n\\x1b[?25h\"\n    )",
    "start_line": 86
  },
  {
    "file": "test_live.py",
    "type": "function",
    "class": null,
    "method": "test_growing_display_overflow_visible",
    "name": "test_growing_display_overflow_visible",
    "content": "def test_growing_display_overflow_visible() -> None:",
    "start_line": 100
  },
  {
    "file": "test_live.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = create_capture_console(height=5)\n    console.begin_capture()\n    with Live(console=console, auto_refresh=False, vertical_overflow=\"visible\") as live:\n        display = \"\"\n        for step in range(10):\n            display += f\"Step {step}\\n\"\n            live.update(display, refresh=True)\n    output = console.end_capture()\n    assert (\n        output\n        == \"\\x1b[?25lStep 0\\n\\r\\x1b[2K\\x1b[1A\\x1b[2KStep 0\\nStep 1\\n\\r\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2KStep 0\\nStep 1\\nStep 2\\n\\r\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2KStep 0\\nStep 1\\nStep 2\\nStep 3\\n\\r\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2KStep 0\\nStep 1\\nStep 2\\nStep 3\\nStep 4\\n\\r\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2KStep 0\\nStep 1\\nStep 2\\nStep 3\\nStep 4\\nStep 5\\n\\r\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2KStep 0\\nStep 1\\nStep 2\\nStep 3\\nStep 4\\nStep 5\\nStep 6\\n\\r\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2KStep 0\\nStep 1\\nStep 2\\nStep 3\\nStep 4\\nStep 5\\nStep 6\\nStep 7\\n\\r\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2KStep 0\\nStep 1\\nStep 2\\nStep 3\\nStep 4\\nStep 5\\nStep 6\\nStep 7\\nStep 8\\n\\r\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2KStep 0\\nStep 1\\nStep 2\\nStep 3\\nStep 4\\nStep 5\\nStep 6\\nStep 7\\nStep 8\\nStep 9\\n\\r\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2KStep 0\\nStep 1\\nStep 2\\nStep 3\\nStep 4\\nStep 5\\nStep 6\\nStep 7\\nStep 8\\nStep 9\\n\\n\\x1b[?25h\"\n    )",
    "start_line": 101
  },
  {
    "file": "test_live.py",
    "type": "function",
    "class": null,
    "method": "test_growing_display_autorefresh",
    "name": "test_growing_display_autorefresh",
    "content": "def test_growing_display_autorefresh() -> None:\n    \"\"\"Test generating a table but using auto-refresh from threading\"\"\"",
    "start_line": 115
  },
  {
    "file": "test_live.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = create_capture_console(height=5)\n    console.begin_capture()\n    with Live(console=console, auto_refresh=True, vertical_overflow=\"visible\") as live:\n        display = \"\"\n        for step in range(10):\n            display += f\"Step {step}\\n\"\n            live.update(display)\n            time.sleep(0.2)",
    "start_line": 117
  },
  {
    "file": "test_live.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# no way to truly test w/ multithreading, just make sure it doesn't crash",
    "start_line": 126
  },
  {
    "file": "test_live.py",
    "type": "function",
    "class": null,
    "method": "test_growing_display_console_redirect",
    "name": "test_growing_display_console_redirect",
    "content": "def test_growing_display_console_redirect() -> None:",
    "start_line": 129
  },
  {
    "file": "test_live.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = create_capture_console()\n    console.begin_capture()\n    with Live(console=console, auto_refresh=False) as live:\n        display = \"\"\n        for step in range(10):\n            console.print(f\"Running step {step}\")\n            display += f\"Step {step}\\n\"\n            live.update(display, refresh=True)\n    output = console.end_capture()\n    assert (\n        output\n        == \"\\x1b[?25lRunning step 0\\n\\r\\x1b[2KStep 0\\n\\r\\x1b[2K\\x1b[1A\\x1b[2KRunning step 1\\nStep 0\\n\\r\\x1b[2K\\x1b[1A\\x1b[2KStep 0\\nStep 1\\n\\r\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2KRunning step 2\\nStep 0\\nStep 1\\n\\r\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2KStep 0\\nStep 1\\nStep 2\\n\\r\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2KRunning step 3\\nStep 0\\nStep 1\\nStep 2\\n\\r\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2KStep 0\\nStep 1\\nStep 2\\nStep 3\\n\\r\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2KRunning step 4\\nStep 0\\nStep 1\\nStep 2\\nStep 3\\n\\r\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2KStep 0\\nStep 1\\nStep 2\\nStep 3\\nStep 4\\n\\r\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2KRunning step 5\\nStep 0\\nStep 1\\nStep 2\\nStep 3\\nStep 4\\n\\r\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2KStep 0\\nStep 1\\nStep 2\\nStep 3\\nStep 4\\nStep 5\\n\\r\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2KRunning step 6\\nStep 0\\nStep 1\\nStep 2\\nStep 3\\nStep 4\\nStep 5\\n\\r\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2KStep 0\\nStep 1\\nStep 2\\nStep 3\\nStep 4\\nStep 5\\nStep 6\\n\\r\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2KRunning step 7\\nStep 0\\nStep 1\\nStep 2\\nStep 3\\nStep 4\\nStep 5\\nStep 6\\n\\r\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2KStep 0\\nStep 1\\nStep 2\\nStep 3\\nStep 4\\nStep 5\\nStep 6\\nStep 7\\n\\r\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2KRunning step 8\\nStep 0\\nStep 1\\nStep 2\\nStep 3\\nStep 4\\nStep 5\\nStep 6\\nStep 7\\n\\r\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2KStep 0\\nStep 1\\nStep 2\\nStep 3\\nStep 4\\nStep 5\\nStep 6\\nStep 7\\nStep 8\\n\\r\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2KRunning step 9\\nStep 0\\nStep 1\\nStep 2\\nStep 3\\nStep 4\\nStep 5\\nStep 6\\nStep 7\\nStep 8\\n\\r\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2KStep 0\\nStep 1\\nStep 2\\nStep 3\\nStep 4\\nStep 5\\nStep 6\\nStep 7\\nStep 8\\nStep 9\\n\\r\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2KStep 0\\nStep 1\\nStep 2\\nStep 3\\nStep 4\\nStep 5\\nStep 6\\nStep 7\\nStep 8\\nStep 9\\n\\n\\x1b[?25h\"\n    )",
    "start_line": 130
  },
  {
    "file": "test_live.py",
    "type": "function",
    "class": null,
    "method": "test_growing_display_file_console",
    "name": "test_growing_display_file_console",
    "content": "def test_growing_display_file_console() -> None:",
    "start_line": 145
  },
  {
    "file": "test_live.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = create_capture_console(force_terminal=False)\n    console.begin_capture()\n    with Live(console=console, auto_refresh=False) as live:\n        display = \"\"\n        for step in range(10):\n            display += f\"Step {step}\\n\"\n            live.update(display, refresh=True)\n    output = console.end_capture()\n    assert (\n        output\n        == \"Step 0\\nStep 1\\nStep 2\\nStep 3\\nStep 4\\nStep 5\\nStep 6\\nStep 7\\nStep 8\\nStep 9\\n\"\n    )",
    "start_line": 146
  },
  {
    "file": "test_live.py",
    "type": "function",
    "class": null,
    "method": "test_live_screen",
    "name": "test_live_screen",
    "content": "def test_live_screen() -> None:",
    "start_line": 160
  },
  {
    "file": "test_live.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = create_capture_console(width=20, height=5)\n    console.begin_capture()\n    with Live(Text(\"foo\"), screen=True, console=console, auto_refresh=False) as live:\n        live.refresh()\n    result = console.end_capture()\n    print(repr(result))\n    expected = \"\\x1b[?1049h\\x1b[H\\x1b[?25l\\x1b[Hfoo                 \\n                    \\n                    \\n                    \\n                    \\x1b[Hfoo                 \\n                    \\n                    \\n                    \\n                    \\x1b[?25h\\x1b[?1049l\"\n    assert result == expected",
    "start_line": 161
  },
  {
    "file": "test_live.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "# encoding=utf-8\nimport time\nfrom typing import Optional\n\n# import pytest\nfrom rich.console import Console\nfrom rich.live import Live\nfrom rich.text import Text\n\n\ndef create_capture_console(\n    *, width: int = 60, height: int = 80, force_terminal: Optional[bool] = True\n) -> Console:\n    return Console(\n        width=width,\n        height=height,\n        force_terminal=force_terminal,\n        legacy_windows=False,\n        color_system=None,  # use no color system to reduce complexity of output,\n        _environ={},\n    )\n\n\ndef test_live_state() -> None:\n    with Live(\"\") as live:\n        assert live._started\n        live.start()\n\n        assert live.renderable == \"\"\n\n        assert live._started\n        live.stop()\n        assert not live._started\n\n    assert not live._started\n\n\ndef test_growing_display() -> None:\n    console = create_capture_console()\n    console.begin_capture()\n    with Live(console=console, auto_refresh=False) as live:\n        display = \"\"\n        for step in range(10):\n            display += f\"Step {step}\\n\"\n            live.update(display, refresh=True)\n    output = console.end_capture()\n    print(repr(output))\n    assert (\n        output\n        == \"\\x1b[?25lStep 0\\n\\r\\x1b[2K\\x1b[1A\\x1b[2KStep 0\\nStep 1\\n\\r\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2KStep 0\\nStep 1\\nStep 2\\n\\r\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2KStep 0\\nStep 1\\nStep 2\\nStep 3\\n\\r\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2KStep 0\\nStep 1\\nStep 2\\nStep 3\\nStep 4\\n\\r\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2KStep 0\\nStep 1\\nStep 2\\nStep 3\\nStep 4\\nStep 5\\n\\r\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2KStep 0\\nStep 1\\nStep 2\\nStep 3\\nStep 4\\nStep 5\\nStep 6\\n\\r\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2KStep 0\\nStep 1\\nStep 2\\nStep 3\\nStep 4\\nStep 5\\nStep 6\\nStep 7\\n\\r\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2KStep 0\\nStep 1\\nStep 2\\nStep 3\\nStep 4\\nStep 5\\nStep 6\\nStep 7\\nStep 8\\n\\r\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2KStep 0\\nStep 1\\nStep 2\\nStep 3\\nStep 4\\nStep 5\\nStep 6\\nStep 7\\nStep 8\\nStep 9\\n\\r\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2KStep 0\\nStep 1\\nStep 2\\nStep 3\\nStep 4\\nStep 5\\nStep 6\\nStep 7\\nStep 8\\nStep 9\\n\\n\\x1b[?25h\"\n    )\n\n\ndef test_growing_display_transient() -> None:\n    console = create_capture_console()\n    console.begin_capture()\n    with Live(console=console, auto_refresh=False, transient=True) as live:\n        display = \"\"\n        for step in range(10):\n            display += f\"Step {step}\\n\"\n            live.update(display, refresh=True)\n    output = console.end_capture()\n    assert (\n        output\n        == \"\\x1b[?25lStep 0\\n\\r\\x1b[2K\\x1b[1A\\x1b[2KStep 0\\nStep 1\\n\\r\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2KStep 0\\nStep 1\\nStep 2\\n\\r\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2KStep 0\\nStep 1\\nStep 2\\nStep 3\\n\\r\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2KStep 0\\nStep 1\\nStep 2\\nStep 3\\nStep 4\\n\\r\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2KStep 0\\nStep 1\\nStep 2\\nStep 3\\nStep 4\\nStep 5\\n\\r\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2KStep 0\\nStep 1\\nStep 2\\nStep 3\\nStep 4\\nStep 5\\nStep 6\\n\\r\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2KStep 0\\nStep 1\\nStep 2\\nStep 3\\nStep 4\\nStep 5\\nStep 6\\nStep 7\\n\\r\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2KStep 0\\nStep 1\\nStep 2\\nStep 3\\nStep 4\\nStep 5\\nStep 6\\nStep 7\\nStep 8\\n\\r\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2KStep 0\\nStep 1\\nStep 2\\nStep 3\\nStep 4\\nStep 5\\nStep 6\\nStep 7\\nStep 8\\nStep 9\\n\\r\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2KStep 0\\nStep 1\\nStep 2\\nStep 3\\nStep 4\\nStep 5\\nStep 6\\nStep 7\\nStep 8\\nStep 9\\n\\n\\x1b[?25h\\r\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\"\n    )\n\n\ndef test_growing_display_overflow_ellipsis() -> None:\n    console = create_capture_console(height=5)\n    console.begin_capture()\n    with Live(\n        console=console, auto_refresh=False, vertical_overflow=\"ellipsis\"\n    ) as live:\n        display = \"\"\n        for step in range(10):\n            display += f\"Step {step}\\n\"\n            live.update(display, refresh=True)\n    output = console.end_capture()\n    assert (\n        output\n        == \"\\x1b[?25lStep 0\\n\\r\\x1b[2K\\x1b[1A\\x1b[2KStep 0\\nStep 1\\n\\r\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2KStep 0\\nStep 1\\nStep 2\\n\\r\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2KStep 0\\nStep 1\\nStep 2\\nStep 3\\n\\r\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2KStep 0\\nStep 1\\nStep 2\\nStep 3\\n                            ...                             \\r\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2KStep 0\\nStep 1\\nStep 2\\nStep 3\\n                            ...                             \\r\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2KStep 0\\nStep 1\\nStep 2\\nStep 3\\n                            ...                             \\r\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2KStep 0\\nStep 1\\nStep 2\\nStep 3\\n                            ...                             \\r\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2KStep 0\\nStep 1\\nStep 2\\nStep 3\\n                            ...                             \\r\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2KStep 0\\nStep 1\\nStep 2\\nStep 3\\n                            ...                             \\r\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2KStep 0\\nStep 1\\nStep 2\\nStep 3\\nStep 4\\nStep 5\\nStep 6\\nStep 7\\nStep 8\\nStep 9\\n\\n\\x1b[?25h\"\n    )\n\n\ndef test_growing_display_overflow_crop() -> None:\n    console = create_capture_console(height=5)\n    console.begin_capture()\n    with Live(console=console, auto_refresh=False, vertical_overflow=\"crop\") as live:\n        display = \"\"\n        for step in range(10):\n            display += f\"Step {step}\\n\"\n            live.update(display, refresh=True)\n    output = console.end_capture()\n    assert (\n        output\n        == \"\\x1b[?25lStep 0\\n\\r\\x1b[2K\\x1b[1A\\x1b[2KStep 0\\nStep 1\\n\\r\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2KStep 0\\nStep 1\\nStep 2\\n\\r\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2KStep 0\\nStep 1\\nStep 2\\nStep 3\\n\\r\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2KStep 0\\nStep 1\\nStep 2\\nStep 3\\nStep 4\\r\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2KStep 0\\nStep 1\\nStep 2\\nStep 3\\nStep 4\\r\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2KStep 0\\nStep 1\\nStep 2\\nStep 3\\nStep 4\\r\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2KStep 0\\nStep 1\\nStep 2\\nStep 3\\nStep 4\\r\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2KStep 0\\nStep 1\\nStep 2\\nStep 3\\nStep 4\\r\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2KStep 0\\nStep 1\\nStep 2\\nStep 3\\nStep 4\\r\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2KStep 0\\nStep 1\\nStep 2\\nStep 3\\nStep 4\\nStep 5\\nStep 6\\nStep 7\\nStep 8\\nStep 9\\n\\n\\x1b[?25h\"\n    )\n\n\ndef test_growing_display_overflow_visible() -> None:\n    console = create_capture_console(height=5)\n    console.begin_capture()\n    with Live(console=console, auto_refresh=False, vertical_overflow=\"visible\") as live:\n        display = \"\"\n        for step in range(10):\n            display += f\"Step {step}\\n\"\n            live.update(display, refresh=True)\n    output = console.end_capture()\n    assert (\n        output\n        == \"\\x1b[?25lStep 0\\n\\r\\x1b[2K\\x1b[1A\\x1b[2KStep 0\\nStep 1\\n\\r\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2KStep 0\\nStep 1\\nStep 2\\n\\r\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2KStep 0\\nStep 1\\nStep 2\\nStep 3\\n\\r\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2KStep 0\\nStep 1\\nStep 2\\nStep 3\\nStep 4\\n\\r\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2KStep 0\\nStep 1\\nStep 2\\nStep 3\\nStep 4\\nStep 5\\n\\r\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2KStep 0\\nStep 1\\nStep 2\\nStep 3\\nStep 4\\nStep 5\\nStep 6\\n\\r\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2KStep 0\\nStep 1\\nStep 2\\nStep 3\\nStep 4\\nStep 5\\nStep 6\\nStep 7\\n\\r\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2KStep 0\\nStep 1\\nStep 2\\nStep 3\\nStep 4\\nStep 5\\nStep 6\\nStep 7\\nStep 8\\n\\r\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2KStep 0\\nStep 1\\nStep 2\\nStep 3\\nStep 4\\nStep 5\\nStep 6\\nStep 7\\nStep 8\\nStep 9\\n\\r\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2KStep 0\\nStep 1\\nStep 2\\nStep 3\\nStep 4\\nStep 5\\nStep 6\\nStep 7\\nStep 8\\nStep 9\\n\\n\\x1b[?25h\"\n    )\n\n\ndef test_growing_display_autorefresh() -> None:\n    \"\"\"Test generating a table but using auto-refresh from threading\"\"\"\n    console = create_capture_console(height=5)\n    console.begin_capture()\n    with Live(console=console, auto_refresh=True, vertical_overflow=\"visible\") as live:\n        display = \"\"\n        for step in range(10):\n            display += f\"Step {step}\\n\"\n            live.update(display)\n            time.sleep(0.2)\n\n    # no way to truly test w/ multithreading, just make sure it doesn't crash\n\n\ndef test_growing_display_console_redirect() -> None:\n    console = create_capture_console()\n    console.begin_capture()\n    with Live(console=console, auto_refresh=False) as live:\n        display = \"\"\n        for step in range(10):\n            console.print(f\"Running step {step}\")\n            display += f\"Step {step}\\n\"\n            live.update(display, refresh=True)\n    output = console.end_capture()\n    assert (\n        output\n        == \"\\x1b[?25lRunning step 0\\n\\r\\x1b[2KStep 0\\n\\r\\x1b[2K\\x1b[1A\\x1b[2KRunning step 1\\nStep 0\\n\\r\\x1b[2K\\x1b[1A\\x1b[2KStep 0\\nStep 1\\n\\r\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2KRunning step 2\\nStep 0\\nStep 1\\n\\r\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2KStep 0\\nStep 1\\nStep 2\\n\\r\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2KRunning step 3\\nStep 0\\nStep 1\\nStep 2\\n\\r\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2KStep 0\\nStep 1\\nStep 2\\nStep 3\\n\\r\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2KRunning step 4\\nStep 0\\nStep 1\\nStep 2\\nStep 3\\n\\r\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2KStep 0\\nStep 1\\nStep 2\\nStep 3\\nStep 4\\n\\r\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2KRunning step 5\\nStep 0\\nStep 1\\nStep 2\\nStep 3\\nStep 4\\n\\r\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2KStep 0\\nStep 1\\nStep 2\\nStep 3\\nStep 4\\nStep 5\\n\\r\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2KRunning step 6\\nStep 0\\nStep 1\\nStep 2\\nStep 3\\nStep 4\\nStep 5\\n\\r\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2KStep 0\\nStep 1\\nStep 2\\nStep 3\\nStep 4\\nStep 5\\nStep 6\\n\\r\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2KRunning step 7\\nStep 0\\nStep 1\\nStep 2\\nStep 3\\nStep 4\\nStep 5\\nStep 6\\n\\r\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2KStep 0\\nStep 1\\nStep 2\\nStep 3\\nStep 4\\nStep 5\\nStep 6\\nStep 7\\n\\r\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2KRunning step 8\\nStep 0\\nStep 1\\nStep 2\\nStep 3\\nStep 4\\nStep 5\\nStep 6\\nStep 7\\n\\r\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2KStep 0\\nStep 1\\nStep 2\\nStep 3\\nStep 4\\nStep 5\\nStep 6\\nStep 7\\nStep 8\\n\\r\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2KRunning step 9\\nStep 0\\nStep 1\\nStep 2\\nStep 3\\nStep 4\\nStep 5\\nStep 6\\nStep 7\\nStep 8\\n\\r\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2KStep 0\\nStep 1\\nStep 2\\nStep 3\\nStep 4\\nStep 5\\nStep 6\\nStep 7\\nStep 8\\nStep 9\\n\\r\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2KStep 0\\nStep 1\\nStep 2\\nStep 3\\nStep 4\\nStep 5\\nStep 6\\nStep 7\\nStep 8\\nStep 9\\n\\n\\x1b[?25h\"\n    )\n\n\ndef test_growing_display_file_console() -> None:\n    console = create_capture_console(force_terminal=False)\n    console.begin_capture()\n    with Live(console=console, auto_refresh=False) as live:\n        display = \"\"\n        for step in range(10):\n            display += f\"Step {step}\\n\"\n            live.update(display, refresh=True)\n    output = console.end_capture()\n    assert (\n        output\n        == \"Step 0\\nStep 1\\nStep 2\\nStep 3\\nStep 4\\nStep 5\\nStep 6\\nStep 7\\nStep 8\\nStep 9\\n\"\n    )\n\n\ndef test_live_screen() -> None:\n    console = create_capture_console(width=20, height=5)\n    console.begin_capture()\n    with Live(Text(\"foo\"), screen=True, console=console, auto_refresh=False) as live:\n        live.refresh()\n    result = console.end_capture()\n    print(repr(result))\n    expected = \"\\x1b[?1049h\\x1b[H\\x1b[?25l\\x1b[Hfoo                 \\n                    \\n                    \\n                    \\n                    \\x1b[Hfoo                 \\n                    \\n                    \\n                    \\n                    \\x1b[?25h\\x1b[?1049l\"\n    assert result == expected\n",
    "start_line": 0
  },
  {
    "file": "test_null_file.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from rich._null_file import NullFile",
    "start_line": 0
  },
  {
    "file": "test_null_file.py",
    "type": "function",
    "class": null,
    "method": "test_null_file",
    "name": "test_null_file",
    "content": "def test_null_file():",
    "start_line": 3
  },
  {
    "file": "test_null_file.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "file = NullFile()\n    with file:\n        assert file.write(\"abc\") == 0\n        assert file.close() is None\n        assert not file.isatty()\n        assert file.read() == \"\"\n        assert not file.readable()\n        assert file.readline() == \"\"\n        assert file.readlines() == []\n        assert file.seek(0, 0) == 0\n        assert not file.seekable()\n        assert file.tell() == 0\n        assert file.truncate() == 0\n        assert file.writable() == False\n        assert file.writelines([\"\"]) is None\n        assert next(file) == \"\"\n        assert next(iter(file)) == \"\"\n        assert file.fileno() == -1\n        assert file.flush() is None",
    "start_line": 4
  },
  {
    "file": "test_null_file.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "from rich._null_file import NullFile\n\n\ndef test_null_file():\n    file = NullFile()\n    with file:\n        assert file.write(\"abc\") == 0\n        assert file.close() is None\n        assert not file.isatty()\n        assert file.read() == \"\"\n        assert not file.readable()\n        assert file.readline() == \"\"\n        assert file.readlines() == []\n        assert file.seek(0, 0) == 0\n        assert not file.seekable()\n        assert file.tell() == 0\n        assert file.truncate() == 0\n        assert file.writable() == False\n        assert file.writelines([\"\"]) is None\n        assert next(file) == \"\"\n        assert next(iter(file)) == \"\"\n        assert file.fileno() == -1\n        assert file.flush() is None\n",
    "start_line": 0
  },
  {
    "file": "test_screen.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from rich.console import Console\nfrom rich.screen import Screen",
    "start_line": 0
  },
  {
    "file": "test_screen.py",
    "type": "function",
    "class": null,
    "method": "test_screen",
    "name": "test_screen",
    "content": "def test_screen():",
    "start_line": 4
  },
  {
    "file": "test_screen.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(color_system=None, width=20, height=5, legacy_windows=False)\n    with console.capture() as capture:\n        console.print(Screen(\"foo\\nbar\\nbaz\\nfoo\\nbar\\nbaz\\foo\"))\n    result = capture.get()\n    print(repr(result))\n    expected = \"foo                 \\nbar                 \\nbaz                 \\nfoo                 \\nbar                 \"\n    assert result == expected",
    "start_line": 5
  },
  {
    "file": "test_screen.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "from rich.console import Console\nfrom rich.screen import Screen\n\n\ndef test_screen():\n    console = Console(color_system=None, width=20, height=5, legacy_windows=False)\n    with console.capture() as capture:\n        console.print(Screen(\"foo\\nbar\\nbaz\\nfoo\\nbar\\nbaz\\foo\"))\n    result = capture.get()\n    print(repr(result))\n    expected = \"foo                 \\nbar                 \\nbaz                 \\nfoo                 \\nbar                 \"\n    assert result == expected\n",
    "start_line": 0
  },
  {
    "file": "test_progress.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# encoding=utf-8",
    "start_line": 0
  },
  {
    "file": "test_progress.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "import io\nimport os\nimport tempfile\nfrom types import SimpleNamespace\nimport pytest\nimport rich.progress\nfrom rich.console import Console\nfrom rich.highlighter import NullHighlighter\nfrom rich.progress import (\n    BarColumn,\n    DownloadColumn,\n    FileSizeColumn,\n    MofNCompleteColumn,\n    Progress,\n    RenderableColumn,\n    SpinnerColumn,\n    Task,\n    TaskID,\n    TaskProgressColumn,\n    TextColumn,\n    TimeElapsedColumn,\n    TimeRemainingColumn,\n    TotalFileSizeColumn,\n    TransferSpeedColumn,\n    _TrackThread,\n    track,\n)\nfrom rich.progress_bar import ProgressBar\nfrom rich.text import Text",
    "start_line": 2
  },
  {
    "file": "test_progress.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "MockClock",
    "content": "class MockClock:\n    \"\"\"A clock that is manually advanced.\"\"\"",
    "start_line": 35
  },
  {
    "file": "test_progress.py",
    "type": "method",
    "class": "MockClock",
    "method": "__init__",
    "name": "__init__",
    "content": "class MockClock:\n    def __init__(self, time=0.0, auto=True) -> None:\n        self.time = time\n        self.auto = auto",
    "start_line": 38
  },
  {
    "file": "test_progress.py",
    "type": "method",
    "class": "MockClock",
    "method": "__call__",
    "name": "__call__",
    "content": "class MockClock:\n    def __call__(self) -> float:\n        try:\n            return self.time\n        finally:\n            if self.auto:\n                self.time += 1",
    "start_line": 42
  },
  {
    "file": "test_progress.py",
    "type": "method",
    "class": "MockClock",
    "method": "tick",
    "name": "tick",
    "content": "class MockClock:\n    def tick(self, advance: float = 1) -> None:\n        self.time += advance",
    "start_line": 49
  },
  {
    "file": "test_progress.py",
    "type": "function",
    "class": null,
    "method": "test_bar_columns",
    "name": "test_bar_columns",
    "content": "def test_bar_columns():",
    "start_line": 53
  },
  {
    "file": "test_progress.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "bar_column = BarColumn(100)\n    assert bar_column.bar_width == 100\n    task = Task(1, \"test\", 100, 20, _get_time=lambda: 1.0)\n    bar = bar_column(task)\n    assert isinstance(bar, ProgressBar)\n    assert bar.completed == 20\n    assert bar.total == 100",
    "start_line": 54
  },
  {
    "file": "test_progress.py",
    "type": "function",
    "class": null,
    "method": "test_text_column",
    "name": "test_text_column",
    "content": "def test_text_column():",
    "start_line": 63
  },
  {
    "file": "test_progress.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "text_column = TextColumn(\"[b]foo\", highlighter=NullHighlighter())\n    task = Task(1, \"test\", 100, 20, _get_time=lambda: 1.0)\n    text = text_column.render(task)\n    assert str(text) == \"foo\"\n    text_column = TextColumn(\"[b]bar\", markup=False)\n    task = Task(1, \"test\", 100, 20, _get_time=lambda: 1.0)\n    text = text_column.render(task)\n    assert text == Text(\"[b]bar\")",
    "start_line": 64
  },
  {
    "file": "test_progress.py",
    "type": "function",
    "class": null,
    "method": "test_time_elapsed_column",
    "name": "test_time_elapsed_column",
    "content": "def test_time_elapsed_column():",
    "start_line": 75
  },
  {
    "file": "test_progress.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "column = TimeElapsedColumn()\n    task = Task(1, \"test\", 100, 20, _get_time=lambda: 1.0)\n    text = column.render(task)\n    assert str(text) == \"-:--:--\"",
    "start_line": 76
  },
  {
    "file": "test_progress.py",
    "type": "function",
    "class": null,
    "method": "test_time_remaining_column",
    "name": "test_time_remaining_column",
    "content": "def test_time_remaining_column():",
    "start_line": 82
  },
  {
    "file": "test_progress.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "FakeTask",
    "content": "class FakeTask(Task):\n        time_remaining = 60\n\n    column = TimeRemainingColumn()",
    "start_line": 83
  },
  {
    "file": "test_progress.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "task = Task(1, \"test\", 100, 20, _get_time=lambda: 1.0)\n    text = column(task)\n    assert str(text) == \"-:--:--\"\n    text = column(FakeTask(1, \"test\", 100, 20, _get_time=lambda: 1.0))\n    assert str(text) == \"0:01:00\"\n@pytest.mark.parametrize(\n    \"task_time, formatted\",\n    [\n        (None, \"--:--\"),\n        (0, \"00:00\"),\n        (59, \"00:59\"),\n        (71, \"01:11\"),\n        (4210, \"1:10:10\"),\n    ],\n)",
    "start_line": 87
  },
  {
    "file": "test_progress.py",
    "type": "function",
    "class": null,
    "method": "test_compact_time_remaining_column",
    "name": "test_compact_time_remaining_column",
    "content": "def test_compact_time_remaining_column(task_time, formatted):",
    "start_line": 105
  },
  {
    "file": "test_progress.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "task = SimpleNamespace(finished=False, time_remaining=task_time, total=100)\n    column = TimeRemainingColumn(compact=True)\n    assert str(column.render(task)) == formatted",
    "start_line": 106
  },
  {
    "file": "test_progress.py",
    "type": "function",
    "class": null,
    "method": "test_time_remaining_column_elapsed_when_finished",
    "name": "test_time_remaining_column_elapsed_when_finished",
    "content": "def test_time_remaining_column_elapsed_when_finished():",
    "start_line": 112
  },
  {
    "file": "test_progress.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "task_time = 71\n    formatted = \"0:01:11\"\n    task = SimpleNamespace(finished=True, finished_time=task_time, total=100)\n    column = TimeRemainingColumn(elapsed_when_finished=True)\n    assert str(column.render(task)) == formatted",
    "start_line": 113
  },
  {
    "file": "test_progress.py",
    "type": "function",
    "class": null,
    "method": "test_renderable_column",
    "name": "test_renderable_column",
    "content": "def test_renderable_column():",
    "start_line": 122
  },
  {
    "file": "test_progress.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "column = RenderableColumn(\"foo\")\n    task = Task(1, \"test\", 100, 20, _get_time=lambda: 1.0)\n    assert column.render(task) == \"foo\"",
    "start_line": 123
  },
  {
    "file": "test_progress.py",
    "type": "function",
    "class": null,
    "method": "test_spinner_column",
    "name": "test_spinner_column",
    "content": "def test_spinner_column():",
    "start_line": 128
  },
  {
    "file": "test_progress.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "time = 1.0",
    "start_line": 129
  },
  {
    "file": "test_progress.py",
    "type": "function",
    "class": null,
    "method": "get_time",
    "name": "get_time",
    "content": "def get_time():\n        nonlocal time\n        return time",
    "start_line": 131
  },
  {
    "file": "test_progress.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "column = SpinnerColumn()\n    column.set_spinner(\"dots2\")\n    task = Task(1, \"test\", 100, 20, _get_time=get_time)\n    result = column.render(task)\n    print(repr(result))\n    expected = \"\"\n    assert str(result) == expected\n    time += 1.0\n    column.spinner.update(speed=0.5)\n    result = column.render(task)\n    print(repr(result))\n    expected = \"\"\n    assert str(result) == expected",
    "start_line": 135
  },
  {
    "file": "test_progress.py",
    "type": "function",
    "class": null,
    "method": "test_download_progress_uses_decimal_units",
    "name": "test_download_progress_uses_decimal_units",
    "content": "def test_download_progress_uses_decimal_units() -> None:",
    "start_line": 151
  },
  {
    "file": "test_progress.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "column = DownloadColumn()\n    test_task = Task(1, \"test\", 1000, 500, _get_time=lambda: 1.0)\n    rendered_progress = str(column.render(test_task))\n    expected = \"0.5/1.0 kB\"\n    assert rendered_progress == expected",
    "start_line": 152
  },
  {
    "file": "test_progress.py",
    "type": "function",
    "class": null,
    "method": "test_download_progress_uses_binary_units",
    "name": "test_download_progress_uses_binary_units",
    "content": "def test_download_progress_uses_binary_units() -> None:",
    "start_line": 159
  },
  {
    "file": "test_progress.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "column = DownloadColumn(binary_units=True)\n    test_task = Task(1, \"test\", 1024, 512, _get_time=lambda: 1.0)\n    rendered_progress = str(column.render(test_task))\n    expected = \"0.5/1.0 KiB\"\n    assert rendered_progress == expected",
    "start_line": 160
  },
  {
    "file": "test_progress.py",
    "type": "function",
    "class": null,
    "method": "test_task_ids",
    "name": "test_task_ids",
    "content": "def test_task_ids():",
    "start_line": 167
  },
  {
    "file": "test_progress.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "progress = make_progress()\n    assert progress.task_ids == [0, 1, 2, 4]",
    "start_line": 168
  },
  {
    "file": "test_progress.py",
    "type": "function",
    "class": null,
    "method": "test_finished",
    "name": "test_finished",
    "content": "def test_finished():",
    "start_line": 172
  },
  {
    "file": "test_progress.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "progress = make_progress()\n    assert not progress.finished",
    "start_line": 173
  },
  {
    "file": "test_progress.py",
    "type": "function",
    "class": null,
    "method": "make_progress",
    "name": "make_progress",
    "content": "def make_progress() -> Progress:",
    "start_line": 177
  },
  {
    "file": "test_progress.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "_time = 0.0",
    "start_line": 178
  },
  {
    "file": "test_progress.py",
    "type": "function",
    "class": null,
    "method": "fake_time",
    "name": "fake_time",
    "content": "def fake_time():\n        nonlocal _time\n        try:\n            return _time\n        finally:\n            _time += 1",
    "start_line": 180
  },
  {
    "file": "test_progress.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(\n        file=io.StringIO(),\n        force_terminal=True,\n        color_system=\"truecolor\",\n        width=80,\n        legacy_windows=False,\n        _environ={},\n    )\n    progress = Progress(console=console, get_time=fake_time, auto_refresh=False)\n    task1 = progress.add_task(\"foo\")\n    task2 = progress.add_task(\"bar\", total=30)\n    progress.advance(task2, 16)\n    task3 = progress.add_task(\"baz\", visible=False)\n    task4 = progress.add_task(\"egg\")\n    progress.remove_task(task4)\n    task4 = progress.add_task(\"foo2\", completed=50, start=False)\n    progress.stop_task(task4)\n    progress.start_task(task4)\n    progress.update(\n        task4, total=200, advance=50, completed=200, visible=True, refresh=True\n    )\n    progress.stop_task(task4)\n    return progress",
    "start_line": 187
  },
  {
    "file": "test_progress.py",
    "type": "function",
    "class": null,
    "method": "render_progress",
    "name": "render_progress",
    "content": "def render_progress() -> str:",
    "start_line": 212
  },
  {
    "file": "test_progress.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "progress = make_progress()\n    progress.start()  # superfluous noop\n    with progress:\n        pass\n    progress.stop()  # superfluous noop\n    progress_render = progress.console.file.getvalue()\n    return progress_render",
    "start_line": 213
  },
  {
    "file": "test_progress.py",
    "type": "function",
    "class": null,
    "method": "test_expand_bar",
    "name": "test_expand_bar",
    "content": "def test_expand_bar() -> None:",
    "start_line": 222
  },
  {
    "file": "test_progress.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(\n        file=io.StringIO(),\n        force_terminal=True,\n        width=10,\n        color_system=\"truecolor\",\n        legacy_windows=False,\n        _environ={},\n    )\n    progress = Progress(\n        BarColumn(bar_width=None),\n        console=console,\n        get_time=lambda: 1.0,\n        auto_refresh=False,\n    )\n    progress.add_task(\"foo\")\n    with progress:\n        pass\n    expected = \"\\x1b[?25l\\x1b[38;5;237m\\x1b[0m\\r\\x1b[2K\\x1b[38;5;237m\\x1b[0m\\n\\x1b[?25h\"\n    render_result = console.file.getvalue()\n    print(\"RESULT\\n\", repr(render_result))\n    print(\"EXPECTED\\n\", repr(expected))\n    assert render_result == expected",
    "start_line": 223
  },
  {
    "file": "test_progress.py",
    "type": "function",
    "class": null,
    "method": "test_progress_with_none_total_renders_a_pulsing_bar",
    "name": "test_progress_with_none_total_renders_a_pulsing_bar",
    "content": "def test_progress_with_none_total_renders_a_pulsing_bar() -> None:",
    "start_line": 247
  },
  {
    "file": "test_progress.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(\n        file=io.StringIO(),\n        force_terminal=True,\n        width=10,\n        color_system=\"truecolor\",\n        legacy_windows=False,\n        _environ={},\n    )\n    progress = Progress(\n        BarColumn(bar_width=None),\n        console=console,\n        get_time=lambda: 1.0,\n        auto_refresh=False,\n    )\n    progress.add_task(\"foo\", total=None)\n    with progress:\n        pass\n    expected = \"\\x1b[?25l\\x1b[38;2;153;48;86m\\x1b[0m\\x1b[38;2;183;44;94m\\x1b[0m\\x1b[38;2;209;42;102m\\x1b[0m\\x1b[38;2;230;39;108m\\x1b[0m\\x1b[38;2;244;38;112m\\x1b[0m\\x1b[38;2;249;38;114m\\x1b[0m\\x1b[38;2;244;38;112m\\x1b[0m\\x1b[38;2;230;39;108m\\x1b[0m\\x1b[38;2;209;42;102m\\x1b[0m\\x1b[38;2;183;44;94m\\x1b[0m\\r\\x1b[2K\\x1b[38;2;153;48;86m\\x1b[0m\\x1b[38;2;183;44;94m\\x1b[0m\\x1b[38;2;209;42;102m\\x1b[0m\\x1b[38;2;230;39;108m\\x1b[0m\\x1b[38;2;244;38;112m\\x1b[0m\\x1b[38;2;249;38;114m\\x1b[0m\\x1b[38;2;244;38;112m\\x1b[0m\\x1b[38;2;230;39;108m\\x1b[0m\\x1b[38;2;209;42;102m\\x1b[0m\\x1b[38;2;183;44;94m\\x1b[0m\\n\\x1b[?25h\"\n    render_result = console.file.getvalue()\n    print(\"RESULT\\n\", repr(render_result))\n    print(\"EXPECTED\\n\", repr(expected))\n    assert render_result == expected",
    "start_line": 248
  },
  {
    "file": "test_progress.py",
    "type": "function",
    "class": null,
    "method": "test_render",
    "name": "test_render",
    "content": "def test_render() -> None:",
    "start_line": 272
  },
  {
    "file": "test_progress.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "expected = \"\\x1b[?25lfoo  \\x1b[38;5;237m\\x1b[0m \\x1b[35m  0%\\x1b[0m \\x1b[36m-:--:--\\x1b[0m\\nbar  \\x1b[38;2;249;38;114m\\x1b[0m\\x1b[38;5;237m\\x1b[0m\\x1b[38;5;237m\\x1b[0m \\x1b[35m 53%\\x1b[0m \\x1b[36m-:--:--\\x1b[0m\\nfoo2 \\x1b[38;2;114;156;31m\\x1b[0m \\x1b[35m100%\\x1b[0m \\x1b[36m0:00:00\\x1b[0m\\r\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2Kfoo  \\x1b[38;5;237m\\x1b[0m \\x1b[35m  0%\\x1b[0m \\x1b[36m-:--:--\\x1b[0m\\nbar  \\x1b[38;2;249;38;114m\\x1b[0m\\x1b[38;5;237m\\x1b[0m\\x1b[38;5;237m\\x1b[0m \\x1b[35m 53%\\x1b[0m \\x1b[36m-:--:--\\x1b[0m\\nfoo2 \\x1b[38;2;114;156;31m\\x1b[0m \\x1b[35m100%\\x1b[0m \\x1b[36m0:00:00\\x1b[0m\\n\\x1b[?25h\"\n    render_result = render_progress()\n    print(repr(render_result))\n    assert render_result == expected",
    "start_line": 273
  },
  {
    "file": "test_progress.py",
    "type": "function",
    "class": null,
    "method": "test_track",
    "name": "test_track",
    "content": "def test_track() -> None:",
    "start_line": 279
  },
  {
    "file": "test_progress.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(\n        file=io.StringIO(),\n        force_terminal=True,\n        width=60,\n        color_system=\"truecolor\",\n        legacy_windows=False,\n        _environ={},\n    )\n    test = [\"foo\", \"bar\", \"baz\"]\n    expected_values = iter(test)\n    for value in track(\n        test, \"test\", console=console, auto_refresh=False, get_time=MockClock(auto=True)\n    ):\n        assert value == next(expected_values)\n    result = console.file.getvalue()\n    print(repr(result))\n    expected = \"\\x1b[?25l\\r\\x1b[2Ktest \\x1b[38;5;237m\\x1b[0m \\x1b[35m  0%\\x1b[0m \\x1b[36m-:--:--\\x1b[0m\\r\\x1b[2Ktest \\x1b[38;2;249;38;114m\\x1b[0m\\x1b[38;5;237m\\x1b[0m\\x1b[38;5;237m\\x1b[0m \\x1b[35m 33%\\x1b[0m \\x1b[36m-:--:--\\x1b[0m\\r\\x1b[2Ktest \\x1b[38;2;249;38;114m\\x1b[0m\\x1b[38;2;249;38;114m\\x1b[0m\\x1b[38;5;237m\\x1b[0m \\x1b[35m 67%\\x1b[0m \\x1b[36m0:00:06\\x1b[0m\\r\\x1b[2Ktest \\x1b[38;2;114;156;31m\\x1b[0m \\x1b[35m100%\\x1b[0m \\x1b[33m0:00:19\\x1b[0m\\r\\x1b[2Ktest \\x1b[38;2;114;156;31m\\x1b[0m \\x1b[35m100%\\x1b[0m \\x1b[33m0:00:19\\x1b[0m\\n\\x1b[?25h\"\n    print(\"--\")\n    print(\"RESULT:\")\n    print(result)\n    print(repr(result))\n    print(\"EXPECTED:\")\n    print(expected)\n    print(repr(expected))\n    assert result == expected",
    "start_line": 280
  },
  {
    "file": "test_progress.py",
    "type": "function",
    "class": null,
    "method": "test_progress_track",
    "name": "test_progress_track",
    "content": "def test_progress_track() -> None:",
    "start_line": 308
  },
  {
    "file": "test_progress.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(\n        file=io.StringIO(),\n        force_terminal=True,\n        width=60,\n        color_system=\"truecolor\",\n        legacy_windows=False,\n        _environ={},\n    )\n    progress = Progress(\n        console=console, auto_refresh=False, get_time=MockClock(auto=True)\n    )\n    test = [\"foo\", \"bar\", \"baz\"]\n    expected_values = iter(test)\n    with progress:\n        for value in progress.track(test, description=\"test\"):\n            assert value == next(expected_values)\n    result = console.file.getvalue()\n    print(repr(result))\n    expected = \"\\x1b[?25l\\r\\x1b[2Ktest \\x1b[38;5;237m\\x1b[0m \\x1b[35m  0%\\x1b[0m \\x1b[36m-:--:--\\x1b[0m\\r\\x1b[2Ktest \\x1b[38;2;249;38;114m\\x1b[0m\\x1b[38;5;237m\\x1b[0m\\x1b[38;5;237m\\x1b[0m \\x1b[35m 33%\\x1b[0m \\x1b[36m-:--:--\\x1b[0m\\r\\x1b[2Ktest \\x1b[38;2;249;38;114m\\x1b[0m\\x1b[38;2;249;38;114m\\x1b[0m\\x1b[38;5;237m\\x1b[0m \\x1b[35m 67%\\x1b[0m \\x1b[36m0:00:06\\x1b[0m\\r\\x1b[2Ktest \\x1b[38;2;114;156;31m\\x1b[0m \\x1b[35m100%\\x1b[0m \\x1b[36m0:00:00\\x1b[0m\\r\\x1b[2Ktest \\x1b[38;2;114;156;31m\\x1b[0m \\x1b[35m100%\\x1b[0m \\x1b[36m0:00:00\\x1b[0m\\n\\x1b[?25h\"\n    print(expected)\n    print(repr(expected))\n    print(result)\n    print(repr(result))\n    assert result == expected",
    "start_line": 309
  },
  {
    "file": "test_progress.py",
    "type": "function",
    "class": null,
    "method": "test_columns",
    "name": "test_columns",
    "content": "def test_columns() -> None:",
    "start_line": 337
  },
  {
    "file": "test_progress.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(\n        file=io.StringIO(),\n        force_terminal=True,\n        width=80,\n        log_time_format=\"[TIME]\",\n        color_system=\"truecolor\",\n        legacy_windows=False,\n        log_path=False,\n        _environ={},\n    )\n    progress = Progress(\n        \"test\",\n        TextColumn(\"{task.description}\"),\n        BarColumn(bar_width=None),\n        TimeRemainingColumn(),\n        TimeElapsedColumn(),\n        FileSizeColumn(),\n        TotalFileSizeColumn(),\n        DownloadColumn(),\n        TransferSpeedColumn(),\n        MofNCompleteColumn(),\n        MofNCompleteColumn(separator=\" of \"),\n        transient=True,\n        console=console,\n        auto_refresh=False,\n        get_time=MockClock(),\n    )\n    task1 = progress.add_task(\"foo\", total=10)\n    task2 = progress.add_task(\"bar\", total=7)\n    with progress:\n        for n in range(4):\n            progress.advance(task1, 3)\n            progress.advance(task2, 4)\n        print(\"foo\")\n        console.log(\"hello\")\n        console.print(\"world\")\n        progress.refresh()",
    "start_line": 338
  },
  {
    "file": "test_progress.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from .render import replace_link_ids",
    "start_line": 375
  },
  {
    "file": "test_progress.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "result = replace_link_ids(console.file.getvalue())\n    print(repr(result))\n    expected = \"\\x1b[?25ltest foo \\x1b[38;5;237m\\x1b[0m \\x1b[36m-:--:--\\x1b[0m \\x1b[33m0:00:07\\x1b[0m \\x1b[32m0 bytes\\x1b[0m \\x1b[32m10 bytes\\x1b[0m \\x1b[32m0/10 bytes\\x1b[0m \\x1b[31m?\\x1b[0m \\x1b[32m 0/10\\x1b[0m \\x1b[32m 0 of 10\\x1b[0m\\ntest bar \\x1b[38;5;237m\\x1b[0m \\x1b[36m-:--:--\\x1b[0m \\x1b[33m0:00:18\\x1b[0m \\x1b[32m0 bytes\\x1b[0m \\x1b[32m7 bytes \\x1b[0m \\x1b[32m0/7 bytes \\x1b[0m \\x1b[31m?\\x1b[0m \\x1b[32m0/7  \\x1b[0m \\x1b[32m0 of 7  \\x1b[0m\\r\\x1b[2K\\x1b[1A\\x1b[2Kfoo\\ntest foo \\x1b[38;5;237m\\x1b[0m \\x1b[36m-:--:--\\x1b[0m \\x1b[33m0:00:07\\x1b[0m \\x1b[32m0 bytes\\x1b[0m \\x1b[32m10 bytes\\x1b[0m \\x1b[32m0/10 bytes\\x1b[0m \\x1b[31m?\\x1b[0m \\x1b[32m 0/10\\x1b[0m \\x1b[32m 0 of 10\\x1b[0m\\ntest bar \\x1b[38;5;237m\\x1b[0m \\x1b[36m-:--:--\\x1b[0m \\x1b[33m0:00:18\\x1b[0m \\x1b[32m0 bytes\\x1b[0m \\x1b[32m7 bytes \\x1b[0m \\x1b[32m0/7 bytes \\x1b[0m \\x1b[31m?\\x1b[0m \\x1b[32m0/7  \\x1b[0m \\x1b[32m0 of 7  \\x1b[0m\\r\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[2;36m[TIME]\\x1b[0m\\x1b[2;36m \\x1b[0mhello                                                                    \\ntest foo \\x1b[38;5;237m\\x1b[0m \\x1b[36m-:--:--\\x1b[0m \\x1b[33m0:00:07\\x1b[0m \\x1b[32m0 bytes\\x1b[0m \\x1b[32m10 bytes\\x1b[0m \\x1b[32m0/10 bytes\\x1b[0m \\x1b[31m?\\x1b[0m \\x1b[32m 0/10\\x1b[0m \\x1b[32m 0 of 10\\x1b[0m\\ntest bar \\x1b[38;5;237m\\x1b[0m \\x1b[36m-:--:--\\x1b[0m \\x1b[33m0:00:18\\x1b[0m \\x1b[32m0 bytes\\x1b[0m \\x1b[32m7 bytes \\x1b[0m \\x1b[32m0/7 bytes \\x1b[0m \\x1b[31m?\\x1b[0m \\x1b[32m0/7  \\x1b[0m \\x1b[32m0 of 7  \\x1b[0m\\r\\x1b[2K\\x1b[1A\\x1b[2Kworld\\ntest foo \\x1b[38;5;237m\\x1b[0m \\x1b[36m-:--:--\\x1b[0m \\x1b[33m0:00:07\\x1b[0m \\x1b[32m0 bytes\\x1b[0m \\x1b[32m10 bytes\\x1b[0m \\x1b[32m0/10 bytes\\x1b[0m \\x1b[31m?\\x1b[0m \\x1b[32m 0/10\\x1b[0m \\x1b[32m 0 of 10\\x1b[0m\\ntest bar \\x1b[38;5;237m\\x1b[0m \\x1b[36m-:--:--\\x1b[0m \\x1b[33m0:00:18\\x1b[0m \\x1b[32m0 bytes\\x1b[0m \\x1b[32m7 bytes \\x1b[0m \\x1b[32m0/7 bytes \\x1b[0m \\x1b[31m?\\x1b[0m \\x1b[32m0/7  \\x1b[0m \\x1b[32m0 of 7  \\x1b[0m\\r\\x1b[2K\\x1b[1A\\x1b[2Ktest foo \\x1b[38;2;114;156;31m\\x1b[0m \\x1b[36m0:00:00\\x1b[0m \\x1b[33m0:00:34\\x1b[0m \\x1b[32m12     \\x1b[0m \\x1b[32m10     \\x1b[0m \\x1b[32m12/10   \\x1b[0m \\x1b[31m1      \\x1b[0m \\x1b[32m12/10\\x1b[0m \\x1b[32m12 of 10\\x1b[0m\\n                                 \\x1b[32mbytes  \\x1b[0m \\x1b[32mbytes  \\x1b[0m \\x1b[32mbytes   \\x1b[0m \\x1b[31mbyte/s \\x1b[0m               \\ntest bar \\x1b[38;2;114;156;31m\\x1b[0m \\x1b[36m0:00:00\\x1b[0m \\x1b[33m0:00:29\\x1b[0m \\x1b[32m16     \\x1b[0m \\x1b[32m7 bytes\\x1b[0m \\x1b[32m16/7    \\x1b[0m \\x1b[31m2      \\x1b[0m \\x1b[32m16/7 \\x1b[0m \\x1b[32m16 of 7 \\x1b[0m\\n                                 \\x1b[32mbytes  \\x1b[0m         \\x1b[32mbytes   \\x1b[0m \\x1b[31mbytes/s\\x1b[0m               \\r\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2Ktest foo \\x1b[38;2;114;156;31m\\x1b[0m \\x1b[36m0:00:00\\x1b[0m \\x1b[33m0:00:34\\x1b[0m \\x1b[32m12     \\x1b[0m \\x1b[32m10     \\x1b[0m \\x1b[32m12/10   \\x1b[0m \\x1b[31m1      \\x1b[0m \\x1b[32m12/10\\x1b[0m \\x1b[32m12 of 10\\x1b[0m\\n                                 \\x1b[32mbytes  \\x1b[0m \\x1b[32mbytes  \\x1b[0m \\x1b[32mbytes   \\x1b[0m \\x1b[31mbyte/s \\x1b[0m               \\ntest bar \\x1b[38;2;114;156;31m\\x1b[0m \\x1b[36m0:00:00\\x1b[0m \\x1b[33m0:00:29\\x1b[0m \\x1b[32m16     \\x1b[0m \\x1b[32m7 bytes\\x1b[0m \\x1b[32m16/7    \\x1b[0m \\x1b[31m2      \\x1b[0m \\x1b[32m16/7 \\x1b[0m \\x1b[32m16 of 7 \\x1b[0m\\n                                 \\x1b[32mbytes  \\x1b[0m         \\x1b[32mbytes   \\x1b[0m \\x1b[31mbytes/s\\x1b[0m               \\n\\x1b[?25h\\r\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\"\n    assert result == expected",
    "start_line": 377
  },
  {
    "file": "test_progress.py",
    "type": "function",
    "class": null,
    "method": "test_using_default_columns",
    "name": "test_using_default_columns",
    "content": "def test_using_default_columns() -> None:",
    "start_line": 384
  },
  {
    "file": "test_progress.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# can only check types, as the instances do not '==' each other",
    "start_line": 385
  },
  {
    "file": "test_progress.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "expected_default_types = [\n        TextColumn,\n        BarColumn,\n        TaskProgressColumn,\n        TimeRemainingColumn,\n    ]\n    progress = Progress()\n    assert [type(c) for c in progress.columns] == expected_default_types\n    progress = Progress(\n        SpinnerColumn(),\n        *Progress.get_default_columns(),\n        \"Elapsed:\",\n        TimeElapsedColumn(),\n    )\n    assert [type(c) for c in progress.columns] == [\n        SpinnerColumn,\n        *expected_default_types,\n        str,\n        TimeElapsedColumn,\n    ]",
    "start_line": 386
  },
  {
    "file": "test_progress.py",
    "type": "function",
    "class": null,
    "method": "test_task_create",
    "name": "test_task_create",
    "content": "def test_task_create() -> None:",
    "start_line": 410
  },
  {
    "file": "test_progress.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "task = Task(TaskID(1), \"foo\", 100, 0, _get_time=lambda: 1)\n    assert task.elapsed is None\n    assert not task.finished\n    assert task.percentage == 0.0\n    assert task.speed is None\n    assert task.time_remaining is None",
    "start_line": 411
  },
  {
    "file": "test_progress.py",
    "type": "function",
    "class": null,
    "method": "test_task_start",
    "name": "test_task_start",
    "content": "def test_task_start() -> None:",
    "start_line": 419
  },
  {
    "file": "test_progress.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "current_time = 1",
    "start_line": 420
  },
  {
    "file": "test_progress.py",
    "type": "function",
    "class": null,
    "method": "get_time",
    "name": "get_time",
    "content": "def get_time():\n        nonlocal current_time\n        return current_time",
    "start_line": 422
  },
  {
    "file": "test_progress.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "task = Task(TaskID(1), \"foo\", 100, 0, _get_time=get_time)\n    task.start_time = get_time()\n    assert task.started == True\n    assert task.elapsed == 0\n    current_time += 1\n    assert task.elapsed == 1\n    current_time += 1\n    task.stop_time = get_time()\n    current_time += 1\n    assert task.elapsed == 2",
    "start_line": 426
  },
  {
    "file": "test_progress.py",
    "type": "function",
    "class": null,
    "method": "test_task_zero_total",
    "name": "test_task_zero_total",
    "content": "def test_task_zero_total() -> None:",
    "start_line": 438
  },
  {
    "file": "test_progress.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "task = Task(TaskID(1), \"foo\", 0, 0, _get_time=lambda: 1)\n    assert task.percentage == 0",
    "start_line": 439
  },
  {
    "file": "test_progress.py",
    "type": "function",
    "class": null,
    "method": "test_progress_create",
    "name": "test_progress_create",
    "content": "def test_progress_create() -> None:",
    "start_line": 443
  },
  {
    "file": "test_progress.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "progress = Progress()\n    assert progress.finished\n    assert progress.tasks == []\n    assert progress.task_ids == []",
    "start_line": 444
  },
  {
    "file": "test_progress.py",
    "type": "function",
    "class": null,
    "method": "test_track_thread",
    "name": "test_track_thread",
    "content": "def test_track_thread() -> None:",
    "start_line": 450
  },
  {
    "file": "test_progress.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "progress = Progress()\n    task_id = progress.add_task(\"foo\")\n    track_thread = _TrackThread(progress, task_id, 0.1)\n    assert track_thread.completed == 0",
    "start_line": 451
  },
  {
    "file": "test_progress.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from time import sleep\n    with track_thread:\n        track_thread.completed = 1\n        sleep(0.3)\n        assert progress.tasks[task_id].completed >= 1\n        track_thread.completed += 1",
    "start_line": 455
  },
  {
    "file": "test_progress.py",
    "type": "function",
    "class": null,
    "method": "test_reset",
    "name": "test_reset",
    "content": "def test_reset() -> None:",
    "start_line": 464
  },
  {
    "file": "test_progress.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "progress = Progress()\n    task_id = progress.add_task(\"foo\")\n    progress.advance(task_id, 1)\n    progress.advance(task_id, 1)\n    progress.advance(task_id, 1)\n    progress.advance(task_id, 7)\n    task = progress.tasks[task_id]\n    assert task.completed == 10\n    progress.reset(\n        task_id,\n        total=200,\n        completed=20,\n        visible=False,\n        description=\"bar\",\n        example=\"egg\",\n    )\n    assert task.total == 200\n    assert task.completed == 20\n    assert task.visible == False\n    assert task.description == \"bar\"\n    assert task.fields == {\"example\": \"egg\"}\n    assert not task._progress",
    "start_line": 465
  },
  {
    "file": "test_progress.py",
    "type": "function",
    "class": null,
    "method": "test_progress_max_refresh",
    "name": "test_progress_max_refresh",
    "content": "def test_progress_max_refresh() -> None:\n    \"\"\"Test max_refresh argument.\"\"\"",
    "start_line": 489
  },
  {
    "file": "test_progress.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "time = 0.0",
    "start_line": 491
  },
  {
    "file": "test_progress.py",
    "type": "function",
    "class": null,
    "method": "get_time",
    "name": "get_time",
    "content": "def get_time() -> float:\n        nonlocal time\n        try:\n            return time\n        finally:",
    "start_line": 493
  },
  {
    "file": "test_progress.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "time = time + 1.0\n    console = Console(\n        color_system=None,\n        width=80,\n        legacy_windows=False,\n        force_terminal=True,\n        _environ={},\n    )\n    column = TextColumn(\"{task.description}\")\n    column.max_refresh = 3\n    progress = Progress(\n        column,\n        get_time=get_time,\n        auto_refresh=False,\n        console=console,\n    )\n    console.begin_capture()\n    with progress:\n        task_id = progress.add_task(\"start\")\n        for tick in range(6):\n            progress.update(task_id, description=f\"tick {tick}\")\n            progress.refresh()\n    result = console.end_capture()\n    print(repr(result))\n    assert (\n        result\n        == \"\\x1b[?25l\\r\\x1b[2Kstart\\r\\x1b[2Kstart\\r\\x1b[2Ktick 1\\r\\x1b[2Ktick 1\\r\\x1b[2Ktick 3\\r\\x1b[2Ktick 3\\r\\x1b[2Ktick 5\\r\\x1b[2Ktick 5\\n\\x1b[?25h\"\n    )",
    "start_line": 498
  },
  {
    "file": "test_progress.py",
    "type": "function",
    "class": null,
    "method": "test_live_is_started_if_progress_is_enabled",
    "name": "test_live_is_started_if_progress_is_enabled",
    "content": "def test_live_is_started_if_progress_is_enabled() -> None:",
    "start_line": 529
  },
  {
    "file": "test_progress.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "progress = Progress(auto_refresh=False, disable=False)\n    with progress:\n        assert progress.live._started",
    "start_line": 530
  },
  {
    "file": "test_progress.py",
    "type": "function",
    "class": null,
    "method": "test_live_is_not_started_if_progress_is_disabled",
    "name": "test_live_is_not_started_if_progress_is_disabled",
    "content": "def test_live_is_not_started_if_progress_is_disabled() -> None:",
    "start_line": 536
  },
  {
    "file": "test_progress.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "progress = Progress(auto_refresh=False, disable=True)\n    with progress:\n        assert not progress.live._started",
    "start_line": 537
  },
  {
    "file": "test_progress.py",
    "type": "function",
    "class": null,
    "method": "test_no_output_if_progress_is_disabled",
    "name": "test_no_output_if_progress_is_disabled",
    "content": "def test_no_output_if_progress_is_disabled() -> None:",
    "start_line": 543
  },
  {
    "file": "test_progress.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(\n        file=io.StringIO(),\n        force_terminal=True,\n        width=60,\n        color_system=\"truecolor\",\n        legacy_windows=False,\n        _environ={},\n    )\n    progress = Progress(\n        console=console,\n        disable=True,\n    )\n    test = [\"foo\", \"bar\", \"baz\"]\n    expected_values = iter(test)\n    with progress:\n        for value in progress.track(test, description=\"test\"):\n            assert value == next(expected_values)\n    result = console.file.getvalue()\n    print(repr(result))\n    expected = \"\"\n    assert result == expected",
    "start_line": 544
  },
  {
    "file": "test_progress.py",
    "type": "function",
    "class": null,
    "method": "test_open",
    "name": "test_open",
    "content": "def test_open() -> None:",
    "start_line": 567
  },
  {
    "file": "test_progress.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(\n        file=io.StringIO(),\n        force_terminal=True,\n        width=60,\n        color_system=\"truecolor\",\n        legacy_windows=False,\n        _environ={},\n    )\n    progress = Progress(\n        console=console,\n    )\n    fd, filename = tempfile.mkstemp()\n    with os.fdopen(fd, \"wb\") as f:\n        f.write(b\"Hello, World!\")\n    try:\n        with rich.progress.open(filename) as f:\n            assert f.read() == \"Hello, World!\"\n        assert f.closed\n    finally:\n        os.remove(filename)",
    "start_line": 568
  },
  {
    "file": "test_progress.py",
    "type": "function",
    "class": null,
    "method": "test_open_text_mode",
    "name": "test_open_text_mode",
    "content": "def test_open_text_mode() -> None:\n    fd, filename = tempfile.mkstemp()\n    with os.fdopen(fd, \"wb\") as f:\n        f.write(b\"Hello, World!\")\n    try:\n        with rich.progress.open(filename, \"r\") as f:\n            assert f.read() == \"Hello, World!\"\n            assert f.name == filename\n        assert f.closed\n    finally:\n        os.remove(filename)",
    "start_line": 591
  },
  {
    "file": "test_progress.py",
    "type": "function",
    "class": null,
    "method": "test_wrap_file",
    "name": "test_wrap_file",
    "content": "def test_wrap_file() -> None:\n    fd, filename = tempfile.mkstemp()\n    with os.fdopen(fd, \"wb\") as f:",
    "start_line": 604
  },
  {
    "file": "test_progress.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "total = f.write(b\"Hello, World!\")\n    try:\n        with open(filename, \"rb\") as file:\n            with rich.progress.wrap_file(file, total=total) as f:\n                assert f.read() == b\"Hello, World!\"\n                assert f.mode == \"rb\"\n                assert f.name == filename\n            assert f.closed\n            assert not f.handle.closed\n            assert not file.closed\n        assert file.closed\n    finally:\n        os.remove(filename)",
    "start_line": 607
  },
  {
    "file": "test_progress.py",
    "type": "function",
    "class": null,
    "method": "test_wrap_file_task_total",
    "name": "test_wrap_file_task_total",
    "content": "def test_wrap_file_task_total() -> None:",
    "start_line": 622
  },
  {
    "file": "test_progress.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(\n        file=io.StringIO(),\n        force_terminal=True,\n        width=60,\n        color_system=\"truecolor\",\n        legacy_windows=False,\n        _environ={},\n    )\n    progress = Progress(\n        console=console,\n    )\n    fd, filename = tempfile.mkstemp()\n    with os.fdopen(fd, \"wb\") as f:\n        total = f.write(b\"Hello, World!\")\n    try:\n        with progress:\n            with open(filename, \"rb\") as file:\n                task_id = progress.add_task(\"Reading\", total=total)\n                with progress.wrap_file(file, task_id=task_id) as f:\n                    assert f.read() == b\"Hello, World!\"\n    finally:\n        os.remove(filename)",
    "start_line": 623
  },
  {
    "file": "test_progress.py",
    "type": "function",
    "class": null,
    "method": "test_task_progress_column_speed",
    "name": "test_task_progress_column_speed",
    "content": "def test_task_progress_column_speed() -> None:",
    "start_line": 648
  },
  {
    "file": "test_progress.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "speed_text = TaskProgressColumn.render_speed(None)\n    assert speed_text.plain == \"\"\n    speed_text = TaskProgressColumn.render_speed(5)\n    assert speed_text.plain == \"5.0 it/s\"\n    speed_text = TaskProgressColumn.render_speed(5000)\n    assert speed_text.plain == \"5.010 it/s\"\n    speed_text = TaskProgressColumn.render_speed(8888888)\n    assert speed_text.plain == \"8.910 it/s\"\nif __name__ == \"__main__\":\n    _render = render_progress()\n    print(_render)\n    print(repr(_render))",
    "start_line": 649
  },
  {
    "file": "test_progress.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "# encoding=utf-8\n\nimport io\nimport os\nimport tempfile\nfrom types import SimpleNamespace\n\nimport pytest\n\nimport rich.progress\nfrom rich.console import Console\nfrom rich.highlighter import NullHighlighter\nfrom rich.progress import (\n    BarColumn,\n    DownloadColumn,\n    FileSizeColumn,\n    MofNCompleteColumn,\n    Progress,\n    RenderableColumn,\n    SpinnerColumn,\n    Task,\n    TaskID,\n    TaskProgressColumn,\n    TextColumn,\n    TimeElapsedColumn,\n    TimeRemainingColumn,\n    TotalFileSizeColumn,\n    TransferSpeedColumn,\n    _TrackThread,\n    track,\n)\nfrom rich.progress_bar import ProgressBar\nfrom rich.text import Text\n\n\nclass MockClock:\n    \"\"\"A clock that is manually advanced.\"\"\"\n\n    def __init__(self, time=0.0, auto=True) -> None:\n        self.time = time\n        self.auto = auto\n\n    def __call__(self) -> float:\n        try:\n            return self.time\n        finally:\n            if self.auto:\n                self.time += 1\n\n    def tick(self, advance: float = 1) -> None:\n        self.time += advance\n\n\ndef test_bar_columns():\n    bar_column = BarColumn(100)\n    assert bar_column.bar_width == 100\n    task = Task(1, \"test\", 100, 20, _get_time=lambda: 1.0)\n    bar = bar_column(task)\n    assert isinstance(bar, ProgressBar)\n    assert bar.completed == 20\n    assert bar.total == 100\n\n\ndef test_text_column():\n    text_column = TextColumn(\"[b]foo\", highlighter=NullHighlighter())\n    task = Task(1, \"test\", 100, 20, _get_time=lambda: 1.0)\n    text = text_column.render(task)\n    assert str(text) == \"foo\"\n\n    text_column = TextColumn(\"[b]bar\", markup=False)\n    task = Task(1, \"test\", 100, 20, _get_time=lambda: 1.0)\n    text = text_column.render(task)\n    assert text == Text(\"[b]bar\")\n\n\ndef test_time_elapsed_column():\n    column = TimeElapsedColumn()\n    task = Task(1, \"test\", 100, 20, _get_time=lambda: 1.0)\n    text = column.render(task)\n    assert str(text) == \"-:--:--\"\n\n\ndef test_time_remaining_column():\n    class FakeTask(Task):\n        time_remaining = 60\n\n    column = TimeRemainingColumn()\n    task = Task(1, \"test\", 100, 20, _get_time=lambda: 1.0)\n    text = column(task)\n    assert str(text) == \"-:--:--\"\n\n    text = column(FakeTask(1, \"test\", 100, 20, _get_time=lambda: 1.0))\n    assert str(text) == \"0:01:00\"\n\n\n@pytest.mark.parametrize(\n    \"task_time, formatted\",\n    [\n        (None, \"--:--\"),\n        (0, \"00:00\"),\n        (59, \"00:59\"),\n        (71, \"01:11\"),\n        (4210, \"1:10:10\"),\n    ],\n)\ndef test_compact_time_remaining_column(task_time, formatted):\n    task = SimpleNamespace(finished=False, time_remaining=task_time, total=100)\n    column = TimeRemainingColumn(compact=True)\n\n    assert str(column.render(task)) == formatted\n\n\ndef test_time_remaining_column_elapsed_when_finished():\n    task_time = 71\n    formatted = \"0:01:11\"\n\n    task = SimpleNamespace(finished=True, finished_time=task_time, total=100)\n    column = TimeRemainingColumn(elapsed_when_finished=True)\n\n    assert str(column.render(task)) == formatted\n\n\ndef test_renderable_column():\n    column = RenderableColumn(\"foo\")\n    task = Task(1, \"test\", 100, 20, _get_time=lambda: 1.0)\n    assert column.render(task) == \"foo\"\n\n\ndef test_spinner_column():\n    time = 1.0\n\n    def get_time():\n        nonlocal time\n        return time\n\n    column = SpinnerColumn()\n    column.set_spinner(\"dots2\")\n    task = Task(1, \"test\", 100, 20, _get_time=get_time)\n    result = column.render(task)\n    print(repr(result))\n    expected = \"\"\n    assert str(result) == expected\n\n    time += 1.0\n    column.spinner.update(speed=0.5)\n    result = column.render(task)\n    print(repr(result))\n    expected = \"\"\n    assert str(result) == expected\n\n\ndef test_download_progress_uses_decimal_units() -> None:\n    column = DownloadColumn()\n    test_task = Task(1, \"test\", 1000, 500, _get_time=lambda: 1.0)\n    rendered_progress = str(column.render(test_task))\n    expected = \"0.5/1.0 kB\"\n    assert rendered_progress == expected\n\n\ndef test_download_progress_uses_binary_units() -> None:\n    column = DownloadColumn(binary_units=True)\n    test_task = Task(1, \"test\", 1024, 512, _get_time=lambda: 1.0)\n    rendered_progress = str(column.render(test_task))\n    expected = \"0.5/1.0 KiB\"\n    assert rendered_progress == expected\n\n\ndef test_task_ids():\n    progress = make_progress()\n    assert progress.task_ids == [0, 1, 2, 4]\n\n\ndef test_finished():\n    progress = make_progress()\n    assert not progress.finished\n\n\ndef make_progress() -> Progress:\n    _time = 0.0\n\n    def fake_time():\n        nonlocal _time\n        try:\n            return _time\n        finally:\n            _time += 1\n\n    console = Console(\n        file=io.StringIO(),\n        force_terminal=True,\n        color_system=\"truecolor\",\n        width=80,\n        legacy_windows=False,\n        _environ={},\n    )\n    progress = Progress(console=console, get_time=fake_time, auto_refresh=False)\n    task1 = progress.add_task(\"foo\")\n    task2 = progress.add_task(\"bar\", total=30)\n    progress.advance(task2, 16)\n    task3 = progress.add_task(\"baz\", visible=False)\n    task4 = progress.add_task(\"egg\")\n    progress.remove_task(task4)\n    task4 = progress.add_task(\"foo2\", completed=50, start=False)\n    progress.stop_task(task4)\n    progress.start_task(task4)\n    progress.update(\n        task4, total=200, advance=50, completed=200, visible=True, refresh=True\n    )\n    progress.stop_task(task4)\n    return progress\n\n\ndef render_progress() -> str:\n    progress = make_progress()\n    progress.start()  # superfluous noop\n    with progress:\n        pass\n    progress.stop()  # superfluous noop\n    progress_render = progress.console.file.getvalue()\n    return progress_render\n\n\ndef test_expand_bar() -> None:\n    console = Console(\n        file=io.StringIO(),\n        force_terminal=True,\n        width=10,\n        color_system=\"truecolor\",\n        legacy_windows=False,\n        _environ={},\n    )\n    progress = Progress(\n        BarColumn(bar_width=None),\n        console=console,\n        get_time=lambda: 1.0,\n        auto_refresh=False,\n    )\n    progress.add_task(\"foo\")\n    with progress:\n        pass\n    expected = \"\\x1b[?25l\\x1b[38;5;237m\\x1b[0m\\r\\x1b[2K\\x1b[38;5;237m\\x1b[0m\\n\\x1b[?25h\"\n    render_result = console.file.getvalue()\n    print(\"RESULT\\n\", repr(render_result))\n    print(\"EXPECTED\\n\", repr(expected))\n    assert render_result == expected\n\n\ndef test_progress_with_none_total_renders_a_pulsing_bar() -> None:\n    console = Console(\n        file=io.StringIO(),\n        force_terminal=True,\n        width=10,\n        color_system=\"truecolor\",\n        legacy_windows=False,\n        _environ={},\n    )\n    progress = Progress(\n        BarColumn(bar_width=None),\n        console=console,\n        get_time=lambda: 1.0,\n        auto_refresh=False,\n    )\n    progress.add_task(\"foo\", total=None)\n    with progress:\n        pass\n    expected = \"\\x1b[?25l\\x1b[38;2;153;48;86m\\x1b[0m\\x1b[38;2;183;44;94m\\x1b[0m\\x1b[38;2;209;42;102m\\x1b[0m\\x1b[38;2;230;39;108m\\x1b[0m\\x1b[38;2;244;38;112m\\x1b[0m\\x1b[38;2;249;38;114m\\x1b[0m\\x1b[38;2;244;38;112m\\x1b[0m\\x1b[38;2;230;39;108m\\x1b[0m\\x1b[38;2;209;42;102m\\x1b[0m\\x1b[38;2;183;44;94m\\x1b[0m\\r\\x1b[2K\\x1b[38;2;153;48;86m\\x1b[0m\\x1b[38;2;183;44;94m\\x1b[0m\\x1b[38;2;209;42;102m\\x1b[0m\\x1b[38;2;230;39;108m\\x1b[0m\\x1b[38;2;244;38;112m\\x1b[0m\\x1b[38;2;249;38;114m\\x1b[0m\\x1b[38;2;244;38;112m\\x1b[0m\\x1b[38;2;230;39;108m\\x1b[0m\\x1b[38;2;209;42;102m\\x1b[0m\\x1b[38;2;183;44;94m\\x1b[0m\\n\\x1b[?25h\"\n    render_result = console.file.getvalue()\n    print(\"RESULT\\n\", repr(render_result))\n    print(\"EXPECTED\\n\", repr(expected))\n    assert render_result == expected\n\n\ndef test_render() -> None:\n    expected = \"\\x1b[?25lfoo  \\x1b[38;5;237m\\x1b[0m \\x1b[35m  0%\\x1b[0m \\x1b[36m-:--:--\\x1b[0m\\nbar  \\x1b[38;2;249;38;114m\\x1b[0m\\x1b[38;5;237m\\x1b[0m\\x1b[38;5;237m\\x1b[0m \\x1b[35m 53%\\x1b[0m \\x1b[36m-:--:--\\x1b[0m\\nfoo2 \\x1b[38;2;114;156;31m\\x1b[0m \\x1b[35m100%\\x1b[0m \\x1b[36m0:00:00\\x1b[0m\\r\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2Kfoo  \\x1b[38;5;237m\\x1b[0m \\x1b[35m  0%\\x1b[0m \\x1b[36m-:--:--\\x1b[0m\\nbar  \\x1b[38;2;249;38;114m\\x1b[0m\\x1b[38;5;237m\\x1b[0m\\x1b[38;5;237m\\x1b[0m \\x1b[35m 53%\\x1b[0m \\x1b[36m-:--:--\\x1b[0m\\nfoo2 \\x1b[38;2;114;156;31m\\x1b[0m \\x1b[35m100%\\x1b[0m \\x1b[36m0:00:00\\x1b[0m\\n\\x1b[?25h\"\n    render_result = render_progress()\n    print(repr(render_result))\n    assert render_result == expected\n\n\ndef test_track() -> None:\n    console = Console(\n        file=io.StringIO(),\n        force_terminal=True,\n        width=60,\n        color_system=\"truecolor\",\n        legacy_windows=False,\n        _environ={},\n    )\n    test = [\"foo\", \"bar\", \"baz\"]\n    expected_values = iter(test)\n    for value in track(\n        test, \"test\", console=console, auto_refresh=False, get_time=MockClock(auto=True)\n    ):\n        assert value == next(expected_values)\n    result = console.file.getvalue()\n    print(repr(result))\n    expected = \"\\x1b[?25l\\r\\x1b[2Ktest \\x1b[38;5;237m\\x1b[0m \\x1b[35m  0%\\x1b[0m \\x1b[36m-:--:--\\x1b[0m\\r\\x1b[2Ktest \\x1b[38;2;249;38;114m\\x1b[0m\\x1b[38;5;237m\\x1b[0m\\x1b[38;5;237m\\x1b[0m \\x1b[35m 33%\\x1b[0m \\x1b[36m-:--:--\\x1b[0m\\r\\x1b[2Ktest \\x1b[38;2;249;38;114m\\x1b[0m\\x1b[38;2;249;38;114m\\x1b[0m\\x1b[38;5;237m\\x1b[0m \\x1b[35m 67%\\x1b[0m \\x1b[36m0:00:06\\x1b[0m\\r\\x1b[2Ktest \\x1b[38;2;114;156;31m\\x1b[0m \\x1b[35m100%\\x1b[0m \\x1b[33m0:00:19\\x1b[0m\\r\\x1b[2Ktest \\x1b[38;2;114;156;31m\\x1b[0m \\x1b[35m100%\\x1b[0m \\x1b[33m0:00:19\\x1b[0m\\n\\x1b[?25h\"\n    print(\"--\")\n    print(\"RESULT:\")\n    print(result)\n    print(repr(result))\n    print(\"EXPECTED:\")\n    print(expected)\n    print(repr(expected))\n\n    assert result == expected\n\n\ndef test_progress_track() -> None:\n    console = Console(\n        file=io.StringIO(),\n        force_terminal=True,\n        width=60,\n        color_system=\"truecolor\",\n        legacy_windows=False,\n        _environ={},\n    )\n    progress = Progress(\n        console=console, auto_refresh=False, get_time=MockClock(auto=True)\n    )\n    test = [\"foo\", \"bar\", \"baz\"]\n    expected_values = iter(test)\n    with progress:\n        for value in progress.track(test, description=\"test\"):\n            assert value == next(expected_values)\n    result = console.file.getvalue()\n    print(repr(result))\n    expected = \"\\x1b[?25l\\r\\x1b[2Ktest \\x1b[38;5;237m\\x1b[0m \\x1b[35m  0%\\x1b[0m \\x1b[36m-:--:--\\x1b[0m\\r\\x1b[2Ktest \\x1b[38;2;249;38;114m\\x1b[0m\\x1b[38;5;237m\\x1b[0m\\x1b[38;5;237m\\x1b[0m \\x1b[35m 33%\\x1b[0m \\x1b[36m-:--:--\\x1b[0m\\r\\x1b[2Ktest \\x1b[38;2;249;38;114m\\x1b[0m\\x1b[38;2;249;38;114m\\x1b[0m\\x1b[38;5;237m\\x1b[0m \\x1b[35m 67%\\x1b[0m \\x1b[36m0:00:06\\x1b[0m\\r\\x1b[2Ktest \\x1b[38;2;114;156;31m\\x1b[0m \\x1b[35m100%\\x1b[0m \\x1b[36m0:00:00\\x1b[0m\\r\\x1b[2Ktest \\x1b[38;2;114;156;31m\\x1b[0m \\x1b[35m100%\\x1b[0m \\x1b[36m0:00:00\\x1b[0m\\n\\x1b[?25h\"\n\n    print(expected)\n    print(repr(expected))\n    print(result)\n    print(repr(result))\n\n    assert result == expected\n\n\ndef test_columns() -> None:\n    console = Console(\n        file=io.StringIO(),\n        force_terminal=True,\n        width=80,\n        log_time_format=\"[TIME]\",\n        color_system=\"truecolor\",\n        legacy_windows=False,\n        log_path=False,\n        _environ={},\n    )\n    progress = Progress(\n        \"test\",\n        TextColumn(\"{task.description}\"),\n        BarColumn(bar_width=None),\n        TimeRemainingColumn(),\n        TimeElapsedColumn(),\n        FileSizeColumn(),\n        TotalFileSizeColumn(),\n        DownloadColumn(),\n        TransferSpeedColumn(),\n        MofNCompleteColumn(),\n        MofNCompleteColumn(separator=\" of \"),\n        transient=True,\n        console=console,\n        auto_refresh=False,\n        get_time=MockClock(),\n    )\n    task1 = progress.add_task(\"foo\", total=10)\n    task2 = progress.add_task(\"bar\", total=7)\n    with progress:\n        for n in range(4):\n            progress.advance(task1, 3)\n            progress.advance(task2, 4)\n        print(\"foo\")\n        console.log(\"hello\")\n        console.print(\"world\")\n        progress.refresh()\n    from .render import replace_link_ids\n\n    result = replace_link_ids(console.file.getvalue())\n    print(repr(result))\n    expected = \"\\x1b[?25ltest foo \\x1b[38;5;237m\\x1b[0m \\x1b[36m-:--:--\\x1b[0m \\x1b[33m0:00:07\\x1b[0m \\x1b[32m0 bytes\\x1b[0m \\x1b[32m10 bytes\\x1b[0m \\x1b[32m0/10 bytes\\x1b[0m \\x1b[31m?\\x1b[0m \\x1b[32m 0/10\\x1b[0m \\x1b[32m 0 of 10\\x1b[0m\\ntest bar \\x1b[38;5;237m\\x1b[0m \\x1b[36m-:--:--\\x1b[0m \\x1b[33m0:00:18\\x1b[0m \\x1b[32m0 bytes\\x1b[0m \\x1b[32m7 bytes \\x1b[0m \\x1b[32m0/7 bytes \\x1b[0m \\x1b[31m?\\x1b[0m \\x1b[32m0/7  \\x1b[0m \\x1b[32m0 of 7  \\x1b[0m\\r\\x1b[2K\\x1b[1A\\x1b[2Kfoo\\ntest foo \\x1b[38;5;237m\\x1b[0m \\x1b[36m-:--:--\\x1b[0m \\x1b[33m0:00:07\\x1b[0m \\x1b[32m0 bytes\\x1b[0m \\x1b[32m10 bytes\\x1b[0m \\x1b[32m0/10 bytes\\x1b[0m \\x1b[31m?\\x1b[0m \\x1b[32m 0/10\\x1b[0m \\x1b[32m 0 of 10\\x1b[0m\\ntest bar \\x1b[38;5;237m\\x1b[0m \\x1b[36m-:--:--\\x1b[0m \\x1b[33m0:00:18\\x1b[0m \\x1b[32m0 bytes\\x1b[0m \\x1b[32m7 bytes \\x1b[0m \\x1b[32m0/7 bytes \\x1b[0m \\x1b[31m?\\x1b[0m \\x1b[32m0/7  \\x1b[0m \\x1b[32m0 of 7  \\x1b[0m\\r\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[2;36m[TIME]\\x1b[0m\\x1b[2;36m \\x1b[0mhello                                                                    \\ntest foo \\x1b[38;5;237m\\x1b[0m \\x1b[36m-:--:--\\x1b[0m \\x1b[33m0:00:07\\x1b[0m \\x1b[32m0 bytes\\x1b[0m \\x1b[32m10 bytes\\x1b[0m \\x1b[32m0/10 bytes\\x1b[0m \\x1b[31m?\\x1b[0m \\x1b[32m 0/10\\x1b[0m \\x1b[32m 0 of 10\\x1b[0m\\ntest bar \\x1b[38;5;237m\\x1b[0m \\x1b[36m-:--:--\\x1b[0m \\x1b[33m0:00:18\\x1b[0m \\x1b[32m0 bytes\\x1b[0m \\x1b[32m7 bytes \\x1b[0m \\x1b[32m0/7 bytes \\x1b[0m \\x1b[31m?\\x1b[0m \\x1b[32m0/7  \\x1b[0m \\x1b[32m0 of 7  \\x1b[0m\\r\\x1b[2K\\x1b[1A\\x1b[2Kworld\\ntest foo \\x1b[38;5;237m\\x1b[0m \\x1b[36m-:--:--\\x1b[0m \\x1b[33m0:00:07\\x1b[0m \\x1b[32m0 bytes\\x1b[0m \\x1b[32m10 bytes\\x1b[0m \\x1b[32m0/10 bytes\\x1b[0m \\x1b[31m?\\x1b[0m \\x1b[32m 0/10\\x1b[0m \\x1b[32m 0 of 10\\x1b[0m\\ntest bar \\x1b[38;5;237m\\x1b[0m \\x1b[36m-:--:--\\x1b[0m \\x1b[33m0:00:18\\x1b[0m \\x1b[32m0 bytes\\x1b[0m \\x1b[32m7 bytes \\x1b[0m \\x1b[32m0/7 bytes \\x1b[0m \\x1b[31m?\\x1b[0m \\x1b[32m0/7  \\x1b[0m \\x1b[32m0 of 7  \\x1b[0m\\r\\x1b[2K\\x1b[1A\\x1b[2Ktest foo \\x1b[38;2;114;156;31m\\x1b[0m \\x1b[36m0:00:00\\x1b[0m \\x1b[33m0:00:34\\x1b[0m \\x1b[32m12     \\x1b[0m \\x1b[32m10     \\x1b[0m \\x1b[32m12/10   \\x1b[0m \\x1b[31m1      \\x1b[0m \\x1b[32m12/10\\x1b[0m \\x1b[32m12 of 10\\x1b[0m\\n                                 \\x1b[32mbytes  \\x1b[0m \\x1b[32mbytes  \\x1b[0m \\x1b[32mbytes   \\x1b[0m \\x1b[31mbyte/s \\x1b[0m               \\ntest bar \\x1b[38;2;114;156;31m\\x1b[0m \\x1b[36m0:00:00\\x1b[0m \\x1b[33m0:00:29\\x1b[0m \\x1b[32m16     \\x1b[0m \\x1b[32m7 bytes\\x1b[0m \\x1b[32m16/7    \\x1b[0m \\x1b[31m2      \\x1b[0m \\x1b[32m16/7 \\x1b[0m \\x1b[32m16 of 7 \\x1b[0m\\n                                 \\x1b[32mbytes  \\x1b[0m         \\x1b[32mbytes   \\x1b[0m \\x1b[31mbytes/s\\x1b[0m               \\r\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2Ktest foo \\x1b[38;2;114;156;31m\\x1b[0m \\x1b[36m0:00:00\\x1b[0m \\x1b[33m0:00:34\\x1b[0m \\x1b[32m12     \\x1b[0m \\x1b[32m10     \\x1b[0m \\x1b[32m12/10   \\x1b[0m \\x1b[31m1      \\x1b[0m \\x1b[32m12/10\\x1b[0m \\x1b[32m12 of 10\\x1b[0m\\n                                 \\x1b[32mbytes  \\x1b[0m \\x1b[32mbytes  \\x1b[0m \\x1b[32mbytes   \\x1b[0m \\x1b[31mbyte/s \\x1b[0m               \\ntest bar \\x1b[38;2;114;156;31m\\x1b[0m \\x1b[36m0:00:00\\x1b[0m \\x1b[33m0:00:29\\x1b[0m \\x1b[32m16     \\x1b[0m \\x1b[32m7 bytes\\x1b[0m \\x1b[32m16/7    \\x1b[0m \\x1b[31m2      \\x1b[0m \\x1b[32m16/7 \\x1b[0m \\x1b[32m16 of 7 \\x1b[0m\\n                                 \\x1b[32mbytes  \\x1b[0m         \\x1b[32mbytes   \\x1b[0m \\x1b[31mbytes/s\\x1b[0m               \\n\\x1b[?25h\\r\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\\x1b[1A\\x1b[2K\"\n\n    assert result == expected\n\n\ndef test_using_default_columns() -> None:\n    # can only check types, as the instances do not '==' each other\n    expected_default_types = [\n        TextColumn,\n        BarColumn,\n        TaskProgressColumn,\n        TimeRemainingColumn,\n    ]\n\n    progress = Progress()\n    assert [type(c) for c in progress.columns] == expected_default_types\n\n    progress = Progress(\n        SpinnerColumn(),\n        *Progress.get_default_columns(),\n        \"Elapsed:\",\n        TimeElapsedColumn(),\n    )\n    assert [type(c) for c in progress.columns] == [\n        SpinnerColumn,\n        *expected_default_types,\n        str,\n        TimeElapsedColumn,\n    ]\n\n\ndef test_task_create() -> None:\n    task = Task(TaskID(1), \"foo\", 100, 0, _get_time=lambda: 1)\n    assert task.elapsed is None\n    assert not task.finished\n    assert task.percentage == 0.0\n    assert task.speed is None\n    assert task.time_remaining is None\n\n\ndef test_task_start() -> None:\n    current_time = 1\n\n    def get_time():\n        nonlocal current_time\n        return current_time\n\n    task = Task(TaskID(1), \"foo\", 100, 0, _get_time=get_time)\n    task.start_time = get_time()\n    assert task.started == True\n    assert task.elapsed == 0\n    current_time += 1\n    assert task.elapsed == 1\n    current_time += 1\n    task.stop_time = get_time()\n    current_time += 1\n    assert task.elapsed == 2\n\n\ndef test_task_zero_total() -> None:\n    task = Task(TaskID(1), \"foo\", 0, 0, _get_time=lambda: 1)\n    assert task.percentage == 0\n\n\ndef test_progress_create() -> None:\n    progress = Progress()\n    assert progress.finished\n    assert progress.tasks == []\n    assert progress.task_ids == []\n\n\ndef test_track_thread() -> None:\n    progress = Progress()\n    task_id = progress.add_task(\"foo\")\n    track_thread = _TrackThread(progress, task_id, 0.1)\n    assert track_thread.completed == 0\n    from time import sleep\n\n    with track_thread:\n        track_thread.completed = 1\n        sleep(0.3)\n        assert progress.tasks[task_id].completed >= 1\n        track_thread.completed += 1\n\n\ndef test_reset() -> None:\n    progress = Progress()\n    task_id = progress.add_task(\"foo\")\n    progress.advance(task_id, 1)\n    progress.advance(task_id, 1)\n    progress.advance(task_id, 1)\n    progress.advance(task_id, 7)\n    task = progress.tasks[task_id]\n    assert task.completed == 10\n    progress.reset(\n        task_id,\n        total=200,\n        completed=20,\n        visible=False,\n        description=\"bar\",\n        example=\"egg\",\n    )\n    assert task.total == 200\n    assert task.completed == 20\n    assert task.visible == False\n    assert task.description == \"bar\"\n    assert task.fields == {\"example\": \"egg\"}\n    assert not task._progress\n\n\ndef test_progress_max_refresh() -> None:\n    \"\"\"Test max_refresh argument.\"\"\"\n    time = 0.0\n\n    def get_time() -> float:\n        nonlocal time\n        try:\n            return time\n        finally:\n            time = time + 1.0\n\n    console = Console(\n        color_system=None,\n        width=80,\n        legacy_windows=False,\n        force_terminal=True,\n        _environ={},\n    )\n    column = TextColumn(\"{task.description}\")\n    column.max_refresh = 3\n    progress = Progress(\n        column,\n        get_time=get_time,\n        auto_refresh=False,\n        console=console,\n    )\n    console.begin_capture()\n    with progress:\n        task_id = progress.add_task(\"start\")\n        for tick in range(6):\n            progress.update(task_id, description=f\"tick {tick}\")\n            progress.refresh()\n    result = console.end_capture()\n    print(repr(result))\n    assert (\n        result\n        == \"\\x1b[?25l\\r\\x1b[2Kstart\\r\\x1b[2Kstart\\r\\x1b[2Ktick 1\\r\\x1b[2Ktick 1\\r\\x1b[2Ktick 3\\r\\x1b[2Ktick 3\\r\\x1b[2Ktick 5\\r\\x1b[2Ktick 5\\n\\x1b[?25h\"\n    )\n\n\ndef test_live_is_started_if_progress_is_enabled() -> None:\n    progress = Progress(auto_refresh=False, disable=False)\n\n    with progress:\n        assert progress.live._started\n\n\ndef test_live_is_not_started_if_progress_is_disabled() -> None:\n    progress = Progress(auto_refresh=False, disable=True)\n\n    with progress:\n        assert not progress.live._started\n\n\ndef test_no_output_if_progress_is_disabled() -> None:\n    console = Console(\n        file=io.StringIO(),\n        force_terminal=True,\n        width=60,\n        color_system=\"truecolor\",\n        legacy_windows=False,\n        _environ={},\n    )\n    progress = Progress(\n        console=console,\n        disable=True,\n    )\n    test = [\"foo\", \"bar\", \"baz\"]\n    expected_values = iter(test)\n    with progress:\n        for value in progress.track(test, description=\"test\"):\n            assert value == next(expected_values)\n    result = console.file.getvalue()\n    print(repr(result))\n    expected = \"\"\n    assert result == expected\n\n\ndef test_open() -> None:\n    console = Console(\n        file=io.StringIO(),\n        force_terminal=True,\n        width=60,\n        color_system=\"truecolor\",\n        legacy_windows=False,\n        _environ={},\n    )\n    progress = Progress(\n        console=console,\n    )\n\n    fd, filename = tempfile.mkstemp()\n    with os.fdopen(fd, \"wb\") as f:\n        f.write(b\"Hello, World!\")\n    try:\n        with rich.progress.open(filename) as f:\n            assert f.read() == \"Hello, World!\"\n        assert f.closed\n    finally:\n        os.remove(filename)\n\n\ndef test_open_text_mode() -> None:\n    fd, filename = tempfile.mkstemp()\n    with os.fdopen(fd, \"wb\") as f:\n        f.write(b\"Hello, World!\")\n    try:\n        with rich.progress.open(filename, \"r\") as f:\n            assert f.read() == \"Hello, World!\"\n            assert f.name == filename\n        assert f.closed\n    finally:\n        os.remove(filename)\n\n\ndef test_wrap_file() -> None:\n    fd, filename = tempfile.mkstemp()\n    with os.fdopen(fd, \"wb\") as f:\n        total = f.write(b\"Hello, World!\")\n    try:\n        with open(filename, \"rb\") as file:\n            with rich.progress.wrap_file(file, total=total) as f:\n                assert f.read() == b\"Hello, World!\"\n                assert f.mode == \"rb\"\n                assert f.name == filename\n            assert f.closed\n            assert not f.handle.closed\n            assert not file.closed\n        assert file.closed\n    finally:\n        os.remove(filename)\n\n\ndef test_wrap_file_task_total() -> None:\n    console = Console(\n        file=io.StringIO(),\n        force_terminal=True,\n        width=60,\n        color_system=\"truecolor\",\n        legacy_windows=False,\n        _environ={},\n    )\n    progress = Progress(\n        console=console,\n    )\n\n    fd, filename = tempfile.mkstemp()\n    with os.fdopen(fd, \"wb\") as f:\n        total = f.write(b\"Hello, World!\")\n    try:\n        with progress:\n            with open(filename, \"rb\") as file:\n                task_id = progress.add_task(\"Reading\", total=total)\n                with progress.wrap_file(file, task_id=task_id) as f:\n                    assert f.read() == b\"Hello, World!\"\n    finally:\n        os.remove(filename)\n\n\ndef test_task_progress_column_speed() -> None:\n    speed_text = TaskProgressColumn.render_speed(None)\n    assert speed_text.plain == \"\"\n\n    speed_text = TaskProgressColumn.render_speed(5)\n    assert speed_text.plain == \"5.0 it/s\"\n\n    speed_text = TaskProgressColumn.render_speed(5000)\n    assert speed_text.plain == \"5.010 it/s\"\n\n    speed_text = TaskProgressColumn.render_speed(8888888)\n    assert speed_text.plain == \"8.910 it/s\"\n\n\nif __name__ == \"__main__\":\n    _render = render_progress()\n    print(_render)\n    print(repr(_render))\n",
    "start_line": 0
  },
  {
    "file": "test_containers.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from rich.console import Console\nfrom rich.containers import Lines, Renderables\nfrom rich.text import Span, Text\nfrom rich.style import Style",
    "start_line": 0
  },
  {
    "file": "test_containers.py",
    "type": "function",
    "class": null,
    "method": "test_renderables_measure",
    "name": "test_renderables_measure",
    "content": "def test_renderables_measure():",
    "start_line": 6
  },
  {
    "file": "test_containers.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console()\n    text = Text(\"foo\")\n    renderables = Renderables([text])\n    result = renderables.__rich_measure__(console, console.options)\n    _min, _max = result\n    assert _min == 3\n    assert _max == 3\n    assert list(renderables) == [text]",
    "start_line": 7
  },
  {
    "file": "test_containers.py",
    "type": "function",
    "class": null,
    "method": "test_renderables_empty",
    "name": "test_renderables_empty",
    "content": "def test_renderables_empty():",
    "start_line": 19
  },
  {
    "file": "test_containers.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console()\n    renderables = Renderables()\n    result = renderables.__rich_measure__(console, console.options)\n    _min, _max = result\n    assert _min == 1\n    assert _max == 1",
    "start_line": 20
  },
  {
    "file": "test_containers.py",
    "type": "function",
    "class": null,
    "method": "test_lines_rich_console",
    "name": "test_lines_rich_console",
    "content": "def test_lines_rich_console():",
    "start_line": 29
  },
  {
    "file": "test_containers.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console()\n    lines = Lines([Text(\"foo\")])\n    result = list(lines.__rich_console__(console, console.options))\n    assert result == [Text(\"foo\")]",
    "start_line": 30
  },
  {
    "file": "test_containers.py",
    "type": "function",
    "class": null,
    "method": "test_lines_justify",
    "name": "test_lines_justify",
    "content": "def test_lines_justify():",
    "start_line": 37
  },
  {
    "file": "test_containers.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console()\n    lines1 = Lines([Text(\"foo\", style=\"b\"), Text(\"test\", style=\"b\")])\n    lines1.justify(console, 10, justify=\"left\")\n    assert lines1._lines == [Text(\"foo       \"), Text(\"test      \")]\n    lines1.justify(console, 10, justify=\"center\")\n    assert lines1._lines == [Text(\"   foo    \"), Text(\"   test   \")]\n    lines1.justify(console, 10, justify=\"right\")\n    assert lines1._lines == [Text(\"       foo\"), Text(\"      test\")]\n    lines2 = Lines([Text(\"foo bar\", style=\"b\"), Text(\"test\", style=\"b\")])\n    lines2.justify(console, 7, justify=\"full\")\n    print(repr(lines2._lines[0].spans))\n    assert lines2._lines == [\n        Text(\n            \"foo bar\",\n            spans=[Span(0, 3, \"b\"), Span(3, 4, Style.parse(\"bold\")), Span(4, 7, \"b\")],\n        ),\n        Text(\"test\"),\n    ]",
    "start_line": 38
  },
  {
    "file": "test_containers.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "from rich.console import Console\nfrom rich.containers import Lines, Renderables\nfrom rich.text import Span, Text\nfrom rich.style import Style\n\n\ndef test_renderables_measure():\n    console = Console()\n    text = Text(\"foo\")\n    renderables = Renderables([text])\n\n    result = renderables.__rich_measure__(console, console.options)\n    _min, _max = result\n    assert _min == 3\n    assert _max == 3\n\n    assert list(renderables) == [text]\n\n\ndef test_renderables_empty():\n    console = Console()\n    renderables = Renderables()\n\n    result = renderables.__rich_measure__(console, console.options)\n    _min, _max = result\n    assert _min == 1\n    assert _max == 1\n\n\ndef test_lines_rich_console():\n    console = Console()\n    lines = Lines([Text(\"foo\")])\n\n    result = list(lines.__rich_console__(console, console.options))\n    assert result == [Text(\"foo\")]\n\n\ndef test_lines_justify():\n    console = Console()\n    lines1 = Lines([Text(\"foo\", style=\"b\"), Text(\"test\", style=\"b\")])\n    lines1.justify(console, 10, justify=\"left\")\n    assert lines1._lines == [Text(\"foo       \"), Text(\"test      \")]\n    lines1.justify(console, 10, justify=\"center\")\n    assert lines1._lines == [Text(\"   foo    \"), Text(\"   test   \")]\n    lines1.justify(console, 10, justify=\"right\")\n    assert lines1._lines == [Text(\"       foo\"), Text(\"      test\")]\n\n    lines2 = Lines([Text(\"foo bar\", style=\"b\"), Text(\"test\", style=\"b\")])\n    lines2.justify(console, 7, justify=\"full\")\n    print(repr(lines2._lines[0].spans))\n    assert lines2._lines == [\n        Text(\n            \"foo bar\",\n            spans=[Span(0, 3, \"b\"), Span(3, 4, Style.parse(\"bold\")), Span(4, 7, \"b\")],\n        ),\n        Text(\"test\"),\n    ]\n",
    "start_line": 0
  },
  {
    "file": "test_ratio.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "import pytest\nfrom typing import NamedTuple, Optional\nfrom rich._ratio import ratio_reduce, ratio_resolve",
    "start_line": 0
  },
  {
    "file": "test_ratio.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "Edge",
    "content": "class Edge(NamedTuple):\n    size: Optional[int] = None\n    ratio: int = 1\n    minimum_size: int = 1\n\n\n@pytest.mark.parametrize(\n    \"total,ratios,maximums,values,result\",\n    [\n        (20, [2, 4], [20, 20], [5, 5], [-2, -8]),\n        (20, [2, 4], [1, 1], [5, 5], [4, 4]),\n        (20, [2, 4], [1, 1], [2, 2], [1, 1]),\n        (3, [2, 4], [3, 3], [2, 2], [1, 0]),\n        (3, [2, 4], [3, 3], [0, 0], [-1, -2]),\n        (3, [0, 0], [3, 3], [4, 4], [4, 4]),\n    ],\n)",
    "start_line": 6
  },
  {
    "file": "test_ratio.py",
    "type": "function",
    "class": null,
    "method": "test_ratio_reduce",
    "name": "test_ratio_reduce",
    "content": "def test_ratio_reduce(total, ratios, maximums, values, result):\n    assert ratio_reduce(total, ratios, maximums, values) == result",
    "start_line": 23
  },
  {
    "file": "test_ratio.py",
    "type": "function",
    "class": null,
    "method": "test_ratio_resolve",
    "name": "test_ratio_resolve",
    "content": "def test_ratio_resolve():\n    assert ratio_resolve(100, []) == []\n    assert ratio_resolve(100, [Edge(size=100), Edge(ratio=1)]) == [100, 1]\n    assert ratio_resolve(100, [Edge(ratio=1)]) == [100]\n    assert ratio_resolve(100, [Edge(ratio=1), Edge(ratio=1)]) == [50, 50]\n    assert ratio_resolve(100, [Edge(size=20), Edge(ratio=1), Edge(ratio=1)]) == [\n        20,\n        40,\n        40,\n    ]\n    assert ratio_resolve(100, [Edge(size=40), Edge(ratio=2), Edge(ratio=1)]) == [\n        40,\n        40,\n        20,\n    ]\n    assert ratio_resolve(\n        100, [Edge(size=40), Edge(ratio=2), Edge(ratio=1, minimum_size=25)]\n    ) == [40, 35, 25]\n    assert ratio_resolve(100, [Edge(ratio=1), Edge(ratio=1), Edge(ratio=1)]) == [\n        33,\n        33,\n        34,\n    ]\n    assert ratio_resolve(\n        50, [Edge(size=30), Edge(ratio=1, minimum_size=10), Edge(size=30)]\n    ) == [30, 10, 30]\n    assert ratio_resolve(110, [Edge(ratio=1), Edge(ratio=1), Edge(ratio=1)]) == [\n        36,\n        37,\n        37,\n    ]",
    "start_line": 27
  },
  {
    "file": "test_ratio.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "import pytest\nfrom typing import NamedTuple, Optional\n\nfrom rich._ratio import ratio_reduce, ratio_resolve\n\n\nclass Edge(NamedTuple):\n    size: Optional[int] = None\n    ratio: int = 1\n    minimum_size: int = 1\n\n\n@pytest.mark.parametrize(\n    \"total,ratios,maximums,values,result\",\n    [\n        (20, [2, 4], [20, 20], [5, 5], [-2, -8]),\n        (20, [2, 4], [1, 1], [5, 5], [4, 4]),\n        (20, [2, 4], [1, 1], [2, 2], [1, 1]),\n        (3, [2, 4], [3, 3], [2, 2], [1, 0]),\n        (3, [2, 4], [3, 3], [0, 0], [-1, -2]),\n        (3, [0, 0], [3, 3], [4, 4], [4, 4]),\n    ],\n)\ndef test_ratio_reduce(total, ratios, maximums, values, result):\n    assert ratio_reduce(total, ratios, maximums, values) == result\n\n\ndef test_ratio_resolve():\n    assert ratio_resolve(100, []) == []\n    assert ratio_resolve(100, [Edge(size=100), Edge(ratio=1)]) == [100, 1]\n    assert ratio_resolve(100, [Edge(ratio=1)]) == [100]\n    assert ratio_resolve(100, [Edge(ratio=1), Edge(ratio=1)]) == [50, 50]\n    assert ratio_resolve(100, [Edge(size=20), Edge(ratio=1), Edge(ratio=1)]) == [\n        20,\n        40,\n        40,\n    ]\n    assert ratio_resolve(100, [Edge(size=40), Edge(ratio=2), Edge(ratio=1)]) == [\n        40,\n        40,\n        20,\n    ]\n    assert ratio_resolve(\n        100, [Edge(size=40), Edge(ratio=2), Edge(ratio=1, minimum_size=25)]\n    ) == [40, 35, 25]\n    assert ratio_resolve(100, [Edge(ratio=1), Edge(ratio=1), Edge(ratio=1)]) == [\n        33,\n        33,\n        34,\n    ]\n    assert ratio_resolve(\n        50, [Edge(size=30), Edge(ratio=1, minimum_size=10), Edge(size=30)]\n    ) == [30, 10, 30]\n    assert ratio_resolve(110, [Edge(ratio=1), Edge(ratio=1), Edge(ratio=1)]) == [\n        36,\n        37,\n        37,\n    ]\n",
    "start_line": 0
  },
  {
    "file": "test_text.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "import re\nfrom io import StringIO\nfrom typing import List\nimport pytest\nfrom rich.console import Console, Group\nfrom rich.measure import Measurement\nfrom rich.style import Style\nfrom rich.text import Span, Text",
    "start_line": 0
  },
  {
    "file": "test_text.py",
    "type": "function",
    "class": null,
    "method": "test_span",
    "name": "test_span",
    "content": "def test_span():",
    "start_line": 12
  },
  {
    "file": "test_text.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "span = Span(1, 10, \"foo\")\n    repr(span)\n    assert bool(span)\n    assert not Span(10, 10, \"foo\")",
    "start_line": 13
  },
  {
    "file": "test_text.py",
    "type": "function",
    "class": null,
    "method": "test_span_split",
    "name": "test_span_split",
    "content": "def test_span_split():\n    assert Span(5, 10, \"foo\").split(2) == (Span(5, 10, \"foo\"), None)\n    assert Span(5, 10, \"foo\").split(15) == (Span(5, 10, \"foo\"), None)\n    assert Span(0, 10, \"foo\").split(5) == (Span(0, 5, \"foo\"), Span(5, 10, \"foo\"))",
    "start_line": 19
  },
  {
    "file": "test_text.py",
    "type": "function",
    "class": null,
    "method": "test_span_move",
    "name": "test_span_move",
    "content": "def test_span_move():\n    assert Span(5, 10, \"foo\").move(2) == Span(7, 12, \"foo\")",
    "start_line": 25
  },
  {
    "file": "test_text.py",
    "type": "function",
    "class": null,
    "method": "test_span_right_crop",
    "name": "test_span_right_crop",
    "content": "def test_span_right_crop():\n    assert Span(5, 10, \"foo\").right_crop(15) == Span(5, 10, \"foo\")\n    assert Span(5, 10, \"foo\").right_crop(7) == Span(5, 7, \"foo\")",
    "start_line": 29
  },
  {
    "file": "test_text.py",
    "type": "function",
    "class": null,
    "method": "test_len",
    "name": "test_len",
    "content": "def test_len():\n    assert len(Text(\"foo\")) == 3",
    "start_line": 34
  },
  {
    "file": "test_text.py",
    "type": "function",
    "class": null,
    "method": "test_cell_len",
    "name": "test_cell_len",
    "content": "def test_cell_len():\n    assert Text(\"foo\").cell_len == 3\n    assert Text(\"\").cell_len == 2",
    "start_line": 38
  },
  {
    "file": "test_text.py",
    "type": "function",
    "class": null,
    "method": "test_bool",
    "name": "test_bool",
    "content": "def test_bool():\n    assert Text(\"foo\")\n    assert not Text(\"\")",
    "start_line": 43
  },
  {
    "file": "test_text.py",
    "type": "function",
    "class": null,
    "method": "test_str",
    "name": "test_str",
    "content": "def test_str():\n    assert str(Text(\"foo\")) == \"foo\"",
    "start_line": 48
  },
  {
    "file": "test_text.py",
    "type": "function",
    "class": null,
    "method": "test_repr",
    "name": "test_repr",
    "content": "def test_repr():\n    assert isinstance(repr(Text(\"foo\")), str)",
    "start_line": 52
  },
  {
    "file": "test_text.py",
    "type": "function",
    "class": null,
    "method": "test_add",
    "name": "test_add",
    "content": "def test_add():",
    "start_line": 56
  },
  {
    "file": "test_text.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "text = Text(\"foo\") + Text(\"bar\")\n    assert str(text) == \"foobar\"\n    assert Text(\"foo\").__add__(1) == NotImplemented",
    "start_line": 57
  },
  {
    "file": "test_text.py",
    "type": "function",
    "class": null,
    "method": "test_eq",
    "name": "test_eq",
    "content": "def test_eq():\n    assert Text(\"foo\") == Text(\"foo\")\n    assert Text(\"foo\") != Text(\"bar\")\n    assert Text(\"foo\").__eq__(1) == NotImplemented",
    "start_line": 62
  },
  {
    "file": "test_text.py",
    "type": "function",
    "class": null,
    "method": "test_contain",
    "name": "test_contain",
    "content": "def test_contain():",
    "start_line": 68
  },
  {
    "file": "test_text.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "text = Text(\"foobar\")\n    assert \"foo\" in text\n    assert \"foo \" not in text\n    assert Text(\"bar\") in text\n    assert None not in text",
    "start_line": 69
  },
  {
    "file": "test_text.py",
    "type": "function",
    "class": null,
    "method": "test_plain_property",
    "name": "test_plain_property",
    "content": "def test_plain_property():",
    "start_line": 76
  },
  {
    "file": "test_text.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "text = Text(\"foo\")\n    text.append(\"bar\")\n    text.append(\"baz\")\n    assert text.plain == \"foobarbaz\"",
    "start_line": 77
  },
  {
    "file": "test_text.py",
    "type": "function",
    "class": null,
    "method": "test_plain_property_setter",
    "name": "test_plain_property_setter",
    "content": "def test_plain_property_setter():",
    "start_line": 83
  },
  {
    "file": "test_text.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "text = Text(\"foo\")\n    text.plain = \"bar\"\n    assert str(text) == \"bar\"\n    text = Text()\n    text.append(\"Hello, World\", \"bold\")\n    text.plain = \"Hello\"\n    assert str(text) == \"Hello\"\n    assert text._spans == [Span(0, 5, \"bold\")]",
    "start_line": 84
  },
  {
    "file": "test_text.py",
    "type": "function",
    "class": null,
    "method": "test_from_markup",
    "name": "test_from_markup",
    "content": "def test_from_markup():",
    "start_line": 94
  },
  {
    "file": "test_text.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "text = Text.from_markup(\"Hello, [bold]World![/bold]\")\n    assert str(text) == \"Hello, World!\"\n    assert text._spans == [Span(7, 13, \"bold\")]",
    "start_line": 95
  },
  {
    "file": "test_text.py",
    "type": "function",
    "class": null,
    "method": "test_from_ansi",
    "name": "test_from_ansi",
    "content": "def test_from_ansi():",
    "start_line": 100
  },
  {
    "file": "test_text.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "text = Text.from_ansi(\"Hello, \\033[1mWorld!\\033[0m\")\n    assert str(text) == \"Hello, World!\"\n    assert text._spans == [Span(7, 13, Style(bold=True))]\n    text = Text.from_ansi(\"Hello, \\033[1m\\nWorld!\\033[0m\")\n    assert str(text) == \"Hello, \\nWorld!\"\n    assert text._spans == [Span(8, 14, Style(bold=True))]\n    text = Text.from_ansi(\"\\033[1mBOLD\\033[m not bold\")\n    assert str(text) == \"BOLD not bold\"\n    assert text._spans == [Span(0, 4, Style(bold=True))]\n    text = Text.from_ansi(\"\\033[1m\\033[Kfoo barmbaz\")\n    assert str(text) == \"foo barmbaz\"\n    assert text._spans == [Span(0, 11, Style(bold=True))]",
    "start_line": 101
  },
  {
    "file": "test_text.py",
    "type": "function",
    "class": null,
    "method": "test_copy",
    "name": "test_copy",
    "content": "def test_copy():",
    "start_line": 118
  },
  {
    "file": "test_text.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "text = Text()\n    text.append(\"Hello\", \"bold\")\n    text.append(\" \")\n    text.append(\"World\", \"italic\")\n    test_copy = text.copy()\n    assert text == test_copy\n    assert text is not test_copy",
    "start_line": 119
  },
  {
    "file": "test_text.py",
    "type": "function",
    "class": null,
    "method": "test_rstrip",
    "name": "test_rstrip",
    "content": "def test_rstrip():",
    "start_line": 128
  },
  {
    "file": "test_text.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "text = Text(\"Hello, World!    \")\n    text.rstrip()\n    assert str(text) == \"Hello, World!\"",
    "start_line": 129
  },
  {
    "file": "test_text.py",
    "type": "function",
    "class": null,
    "method": "test_rstrip_end",
    "name": "test_rstrip_end",
    "content": "def test_rstrip_end():",
    "start_line": 134
  },
  {
    "file": "test_text.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "text = Text(\"Hello, World!    \")\n    text.rstrip_end(14)\n    assert str(text) == \"Hello, World! \"",
    "start_line": 135
  },
  {
    "file": "test_text.py",
    "type": "function",
    "class": null,
    "method": "test_stylize",
    "name": "test_stylize",
    "content": "def test_stylize():",
    "start_line": 140
  },
  {
    "file": "test_text.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "text = Text(\"Hello, World!\")\n    text.stylize(\"bold\", 7, 11)\n    assert text._spans == [Span(7, 11, \"bold\")]\n    text.stylize(\"bold\", 20, 25)\n    assert text._spans == [Span(7, 11, \"bold\")]",
    "start_line": 141
  },
  {
    "file": "test_text.py",
    "type": "function",
    "class": null,
    "method": "test_stylize_before",
    "name": "test_stylize_before",
    "content": "def test_stylize_before():",
    "start_line": 148
  },
  {
    "file": "test_text.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "text = Text(\"Hello, World!\")\n    text.stylize(\"bold\", 0, 5)\n    text.stylize_before(\"italic\", 2, 7)\n    assert text._spans == [Span(2, 7, \"italic\"), Span(0, 5, \"bold\")]",
    "start_line": 149
  },
  {
    "file": "test_text.py",
    "type": "function",
    "class": null,
    "method": "test_stylize_negative_index",
    "name": "test_stylize_negative_index",
    "content": "def test_stylize_negative_index():",
    "start_line": 155
  },
  {
    "file": "test_text.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "text = Text(\"Hello, World!\")\n    text.stylize(\"bold\", -6, -1)\n    assert text._spans == [Span(7, 12, \"bold\")]",
    "start_line": 156
  },
  {
    "file": "test_text.py",
    "type": "function",
    "class": null,
    "method": "test_highlight_regex",
    "name": "test_highlight_regex",
    "content": "def test_highlight_regex():",
    "start_line": 161
  },
  {
    "file": "test_text.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# As a string",
    "start_line": 162
  },
  {
    "file": "test_text.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "text = Text(\"peek-a-boo\")\n    count = text.highlight_regex(r\"NEVER_MATCH\", \"red\")\n    assert count == 0\n    assert len(text._spans) == 0",
    "start_line": 163
  },
  {
    "file": "test_text.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# text: peek-a-boo\n    # indx: 0123456789",
    "start_line": 169
  },
  {
    "file": "test_text.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "count = text.highlight_regex(r\"[a|e|o]+\", \"red\")\n    assert count == 3\n    assert sorted(text._spans) == [\n        Span(1, 3, \"red\"),\n        Span(5, 6, \"red\"),\n        Span(8, 10, \"red\"),\n    ]\n    text = Text(\"Ada Lovelace, Alan Turing\")\n    count = text.highlight_regex(\n        r\"(?P<yellow>[A-Za-z]+)[ ]+(?P<red>[A-Za-z]+)(?P<NEVER_MATCH>NEVER_MATCH)*\"\n    )",
    "start_line": 171
  },
  {
    "file": "test_text.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# The number of matched name should be 2\n    assert count == 2\n    assert sorted(text._spans) == [\n        Span(0, 3, \"yellow\"),  # Ada\n        Span(4, 12, \"red\"),  # Lovelace\n        Span(14, 18, \"yellow\"),  # Alan\n        Span(19, 25, \"red\"),  # Turing\n    ]\n    # As a regular expression object",
    "start_line": 185
  },
  {
    "file": "test_text.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "text = Text(\"peek-a-boo\")\n    count = text.highlight_regex(re.compile(r\"NEVER_MATCH\"), \"red\")\n    assert count == 0\n    assert len(text._spans) == 0",
    "start_line": 195
  },
  {
    "file": "test_text.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# text: peek-a-boo\n    # indx: 0123456789",
    "start_line": 201
  },
  {
    "file": "test_text.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "count = text.highlight_regex(re.compile(r\"[a|e|o]+\"), \"red\")\n    assert count == 3\n    assert sorted(text._spans) == [\n        Span(1, 3, \"red\"),\n        Span(5, 6, \"red\"),\n        Span(8, 10, \"red\"),\n    ]\n    text = Text(\"Ada Lovelace, Alan Turing\")\n    count = text.highlight_regex(\n        re.compile(\n            r\"(?P<yellow>[A-Za-z]+)[ ]+(?P<red>[A-Za-z]+)(?P<NEVER_MATCH>NEVER_MATCH)*\"\n        )\n    )",
    "start_line": 203
  },
  {
    "file": "test_text.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# The number of matched name should be 2\n    assert count == 2\n    assert sorted(text._spans) == [\n        Span(0, 3, \"yellow\"),  # Ada\n        Span(4, 12, \"red\"),  # Lovelace\n        Span(14, 18, \"yellow\"),  # Alan\n        Span(19, 25, \"red\"),  # Turing\n    ]",
    "start_line": 219
  },
  {
    "file": "test_text.py",
    "type": "function",
    "class": null,
    "method": "test_highlight_regex_callable",
    "name": "test_highlight_regex_callable",
    "content": "def test_highlight_regex_callable():",
    "start_line": 229
  },
  {
    "file": "test_text.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "text = Text(\"Vulnerability CVE-2018-6543 detected\")\n    re_cve = r\"CVE-\\d{4}-\\d+\"\n    compiled_re_cve = re.compile(r\"CVE-\\d{4}-\\d+\")",
    "start_line": 230
  },
  {
    "file": "test_text.py",
    "type": "function",
    "class": null,
    "method": "get_style",
    "name": "get_style",
    "content": "def get_style(text: str) -> Style:\n        return Style.parse(\n            f\"bold yellow link https://cve.mitre.org/cgi-bin/cvekey.cgi?keyword={text}\"\n        )",
    "start_line": 234
  },
  {
    "file": "test_text.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# string",
    "start_line": 239
  },
  {
    "file": "test_text.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "count = text.highlight_regex(re_cve, get_style)\n    assert count == 1\n    assert len(text._spans) == 1\n    assert text._spans[0].start == 14\n    assert text._spans[0].end == 27\n    assert (\n        text._spans[0].style.link\n        == \"https://cve.mitre.org/cgi-bin/cvekey.cgi?keyword=CVE-2018-6543\"\n    )",
    "start_line": 240
  },
  {
    "file": "test_text.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# Clear the tracked _spans for the regular expression object's use\n    text._spans.clear()\n    # regular expression object",
    "start_line": 250
  },
  {
    "file": "test_text.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "count = text.highlight_regex(compiled_re_cve, get_style)\n    assert count == 1\n    assert len(text._spans) == 1\n    assert text._spans[0].start == 14\n    assert text._spans[0].end == 27\n    assert (\n        text._spans[0].style.link\n        == \"https://cve.mitre.org/cgi-bin/cvekey.cgi?keyword=CVE-2018-6543\"\n    )",
    "start_line": 254
  },
  {
    "file": "test_text.py",
    "type": "function",
    "class": null,
    "method": "test_highlight_words",
    "name": "test_highlight_words",
    "content": "def test_highlight_words():",
    "start_line": 265
  },
  {
    "file": "test_text.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "text = Text(\"Do NOT! touch anything!\")\n    words = [\"NOT\", \"!\"]\n    count = text.highlight_words(words, \"red\")\n    assert count == 3\n    assert sorted(text._spans) == [\n        Span(3, 6, \"red\"),  # NOT\n        Span(6, 7, \"red\"),  # !\n        Span(22, 23, \"red\"),  # !\n    ]",
    "start_line": 266
  },
  {
    "file": "test_text.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# regex escape test",
    "start_line": 276
  },
  {
    "file": "test_text.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "text = Text(\"[o|u]aeiou\")\n    words = [\"[a|e|i]\", \"[o|u]\"]\n    count = text.highlight_words(words, \"red\")\n    assert count == 1\n    assert text._spans == [Span(0, 5, \"red\")]",
    "start_line": 277
  },
  {
    "file": "test_text.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# case sensitive",
    "start_line": 283
  },
  {
    "file": "test_text.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "text = Text(\"AB Ab aB ab\")\n    words = [\"AB\"]\n    count = text.highlight_words(words, \"red\")\n    assert count == 1\n    assert text._spans == [Span(0, 2, \"red\")]\n    text = Text(\"AB Ab aB ab\")\n    count = text.highlight_words(words, \"red\", case_sensitive=False)\n    assert count == 4",
    "start_line": 284
  },
  {
    "file": "test_text.py",
    "type": "function",
    "class": null,
    "method": "test_set_length",
    "name": "test_set_length",
    "content": "def test_set_length():",
    "start_line": 296
  },
  {
    "file": "test_text.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "text = Text(\"Hello\")\n    text.set_length(5)\n    assert text == Text(\"Hello\")\n    text = Text(\"Hello\")\n    text.set_length(10)\n    assert text == Text(\"Hello     \")\n    text = Text(\"Hello World\")\n    text.stylize(\"bold\", 0, 5)\n    text.stylize(\"italic\", 7, 9)\n    text.set_length(3)\n    expected = Text()\n    expected.append(\"Hel\", \"bold\")\n    assert text == expected",
    "start_line": 297
  },
  {
    "file": "test_text.py",
    "type": "function",
    "class": null,
    "method": "test_console_width",
    "name": "test_console_width",
    "content": "def test_console_width():",
    "start_line": 315
  },
  {
    "file": "test_text.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console()\n    text = Text(\"Hello World!\\nfoobarbaz\")\n    assert text.__rich_measure__(console, 80) == Measurement(9, 12)\n    assert Text(\" \" * 4).__rich_measure__(console, 80) == Measurement(4, 4)\n    assert Text(\" \\n  \\n   \").__rich_measure__(console, 80) == Measurement(3, 3)",
    "start_line": 316
  },
  {
    "file": "test_text.py",
    "type": "function",
    "class": null,
    "method": "test_join",
    "name": "test_join",
    "content": "def test_join():",
    "start_line": 323
  },
  {
    "file": "test_text.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "text = Text(\"bar\").join([Text(\"foo\", \"red\"), Text(\"baz\", \"blue\")])\n    assert str(text) == \"foobarbaz\"\n    assert text._spans == [Span(0, 3, \"red\"), Span(6, 9, \"blue\")]",
    "start_line": 324
  },
  {
    "file": "test_text.py",
    "type": "function",
    "class": null,
    "method": "test_trim_spans",
    "name": "test_trim_spans",
    "content": "def test_trim_spans():",
    "start_line": 329
  },
  {
    "file": "test_text.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "text = Text(\"Hello\")\n    text._spans[:] = [Span(0, 3, \"red\"), Span(3, 6, \"green\"), Span(6, 9, \"blue\")]\n    text._trim_spans()\n    assert text._spans == [Span(0, 3, \"red\"), Span(3, 5, \"green\")]",
    "start_line": 330
  },
  {
    "file": "test_text.py",
    "type": "function",
    "class": null,
    "method": "test_pad_left",
    "name": "test_pad_left",
    "content": "def test_pad_left():",
    "start_line": 336
  },
  {
    "file": "test_text.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "text = Text(\"foo\")\n    text.pad_left(3, \"X\")\n    assert str(text) == \"XXXfoo\"",
    "start_line": 337
  },
  {
    "file": "test_text.py",
    "type": "function",
    "class": null,
    "method": "test_pad_right",
    "name": "test_pad_right",
    "content": "def test_pad_right():",
    "start_line": 342
  },
  {
    "file": "test_text.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "text = Text(\"foo\")\n    text.pad_right(3, \"X\")\n    assert str(text) == \"fooXXX\"",
    "start_line": 343
  },
  {
    "file": "test_text.py",
    "type": "function",
    "class": null,
    "method": "test_append",
    "name": "test_append",
    "content": "def test_append():",
    "start_line": 348
  },
  {
    "file": "test_text.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "text = Text(\"foo\")\n    text.append(\"bar\")\n    assert str(text) == \"foobar\"\n    text.append(Text(\"baz\", \"bold\"))\n    assert str(text) == \"foobarbaz\"\n    assert text._spans == [Span(6, 9, \"bold\")]\n    with pytest.raises(ValueError):\n        text.append(Text(\"foo\"), \"bar\")\n    with pytest.raises(TypeError):\n        text.append(1)",
    "start_line": 349
  },
  {
    "file": "test_text.py",
    "type": "function",
    "class": null,
    "method": "test_append_text",
    "name": "test_append_text",
    "content": "def test_append_text():",
    "start_line": 363
  },
  {
    "file": "test_text.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "text = Text(\"foo\")\n    text.append_text(Text(\"bar\", style=\"bold\"))\n    assert str(text) == \"foobar\"\n    assert text._spans == [Span(3, 6, \"bold\")]",
    "start_line": 364
  },
  {
    "file": "test_text.py",
    "type": "function",
    "class": null,
    "method": "test_end",
    "name": "test_end",
    "content": "def test_end():",
    "start_line": 370
  },
  {
    "file": "test_text.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(width=20, file=StringIO())\n    text = Group(Text.from_markup(\"foo\", end=\" \"), Text.from_markup(\"bar\"))\n    console.print(text)\n    assert console.file.getvalue() == \"foo bar\\n\"",
    "start_line": 371
  },
  {
    "file": "test_text.py",
    "type": "function",
    "class": null,
    "method": "test_split",
    "name": "test_split",
    "content": "def test_split():",
    "start_line": 377
  },
  {
    "file": "test_text.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "text = Text()\n    text.append(\"foo\", \"red\")\n    text.append(\"\\n\")\n    text.append(\"bar\", \"green\")\n    text.append(\"\\n\")\n    line1 = Text()\n    line1.append(\"foo\", \"red\")\n    line2 = Text()\n    line2.append(\"bar\", \"green\")\n    split = text.split(\"\\n\")\n    assert len(split) == 2\n    assert split[0] == line1\n    assert split[1] == line2\n    assert list(Text(\"foo\").split(\"\\n\")) == [Text(\"foo\")]",
    "start_line": 378
  },
  {
    "file": "test_text.py",
    "type": "function",
    "class": null,
    "method": "test_split_spans",
    "name": "test_split_spans",
    "content": "def test_split_spans():",
    "start_line": 396
  },
  {
    "file": "test_text.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "text = Text.from_markup(\"[red]Hello\\n[b]World\")\n    lines = text.split(\"\\n\")\n    assert lines[0].plain == \"Hello\"\n    assert lines[1].plain == \"World\"\n    assert lines[0].spans == [Span(0, 5, \"red\")]\n    assert lines[1].spans == [Span(0, 5, \"red\"), Span(0, 5, \"bold\")]",
    "start_line": 397
  },
  {
    "file": "test_text.py",
    "type": "function",
    "class": null,
    "method": "test_divide",
    "name": "test_divide",
    "content": "def test_divide():",
    "start_line": 405
  },
  {
    "file": "test_text.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "lines = Text(\"foo\").divide([])\n    assert len(lines) == 1\n    assert lines[0] == Text(\"foo\")\n    text = Text()\n    text.append(\"foo\", \"bold\")\n    lines = text.divide([1, 2])\n    assert len(lines) == 3\n    assert str(lines[0]) == \"f\"\n    assert str(lines[1]) == \"o\"\n    assert str(lines[2]) == \"o\"\n    assert lines[0]._spans == [Span(0, 1, \"bold\")]\n    assert lines[1]._spans == [Span(0, 1, \"bold\")]\n    assert lines[2]._spans == [Span(0, 1, \"bold\")]\n    text = Text()\n    text.append(\"foo\", \"red\")\n    text.append(\"bar\", \"green\")\n    text.append(\"baz\", \"blue\")\n    lines = text.divide([8])\n    assert len(lines) == 2\n    assert str(lines[0]) == \"foobarba\"\n    assert str(lines[1]) == \"z\"\n    assert lines[0]._spans == [\n        Span(0, 3, \"red\"),\n        Span(3, 6, \"green\"),\n        Span(6, 8, \"blue\"),\n    ]\n    assert lines[1]._spans == [Span(0, 1, \"blue\")]\n    lines = text.divide([1])\n    assert len(lines) == 2\n    assert str(lines[0]) == \"f\"\n    assert str(lines[1]) == \"oobarbaz\"\n    assert lines[0]._spans == [Span(0, 1, \"red\")]\n    assert lines[1]._spans == [\n        Span(0, 2, \"red\"),\n        Span(2, 5, \"green\"),\n        Span(5, 8, \"blue\"),\n    ]",
    "start_line": 406
  },
  {
    "file": "test_text.py",
    "type": "function",
    "class": null,
    "method": "test_right_crop",
    "name": "test_right_crop",
    "content": "def test_right_crop():",
    "start_line": 448
  },
  {
    "file": "test_text.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "text = Text()\n    text.append(\"foobar\", \"red\")\n    text.right_crop(3)\n    assert str(text) == \"foo\"\n    assert text._spans == [Span(0, 3, \"red\")]",
    "start_line": 449
  },
  {
    "file": "test_text.py",
    "type": "function",
    "class": null,
    "method": "test_wrap_3",
    "name": "test_wrap_3",
    "content": "def test_wrap_3():",
    "start_line": 456
  },
  {
    "file": "test_text.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "text = Text(\"foo bar baz\")\n    lines = text.wrap(Console(), 3)\n    print(repr(lines))\n    assert len(lines) == 3\n    assert lines[0] == Text(\"foo\")\n    assert lines[1] == Text(\"bar\")\n    assert lines[2] == Text(\"baz\")",
    "start_line": 457
  },
  {
    "file": "test_text.py",
    "type": "function",
    "class": null,
    "method": "test_wrap_4",
    "name": "test_wrap_4",
    "content": "def test_wrap_4():",
    "start_line": 466
  },
  {
    "file": "test_text.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "text = Text(\"foo bar baz\", justify=\"left\")\n    lines = text.wrap(Console(), 4)\n    assert len(lines) == 3\n    assert lines[0] == Text(\"foo \")\n    assert lines[1] == Text(\"bar \")\n    assert lines[2] == Text(\"baz \")",
    "start_line": 467
  },
  {
    "file": "test_text.py",
    "type": "function",
    "class": null,
    "method": "test_wrap_wrapped_word_length_greater_than_available_width",
    "name": "test_wrap_wrapped_word_length_greater_than_available_width",
    "content": "def test_wrap_wrapped_word_length_greater_than_available_width():",
    "start_line": 475
  },
  {
    "file": "test_text.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "text = Text(\"1234 12345678\")\n    lines = text.wrap(Console(), 7)\n    assert lines._lines == [\n        Text(\"1234 \"),\n        Text(\"1234567\"),\n        Text(\"8\"),\n    ]",
    "start_line": 476
  },
  {
    "file": "test_text.py",
    "type": "function",
    "class": null,
    "method": "test_wrap_cjk",
    "name": "test_wrap_cjk",
    "content": "def test_wrap_cjk():",
    "start_line": 485
  },
  {
    "file": "test_text.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "text = Text(\"\")\n    lines = text.wrap(Console(), 4)\n    assert lines._lines == [\n        Text(\"\"),\n        Text(\"\"),\n    ]",
    "start_line": 486
  },
  {
    "file": "test_text.py",
    "type": "function",
    "class": null,
    "method": "test_wrap_cjk_width_mid_character",
    "name": "test_wrap_cjk_width_mid_character",
    "content": "def test_wrap_cjk_width_mid_character():",
    "start_line": 494
  },
  {
    "file": "test_text.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "text = Text(\"\")\n    lines = text.wrap(Console(), 3)\n    assert lines._lines == [\n        Text(\"\"),\n        Text(\"\"),\n        Text(\"\"),\n    ]",
    "start_line": 495
  },
  {
    "file": "test_text.py",
    "type": "function",
    "class": null,
    "method": "test_wrap_cjk_mixed",
    "name": "test_wrap_cjk_mixed",
    "content": "def test_wrap_cjk_mixed():\n    \"\"\"Regression test covering https://github.com/Textualize/rich/issues/3176 and\n    https://github.com/Textualize/textual/issues/3567 - double width characters could\n    result in text going missing when wrapping.\"\"\"",
    "start_line": 504
  },
  {
    "file": "test_text.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "text = Text(\"123\")\n    console = Console(width=20)  # let's ensure the width passed to wrap() wins.\n    wrapped_lines = text.wrap(console, width=8)\n    with console.capture() as capture:\n        console.print(wrapped_lines)\n    assert capture.get() == \"123\\n\\n\\n\\n\"",
    "start_line": 508
  },
  {
    "file": "test_text.py",
    "type": "function",
    "class": null,
    "method": "test_wrap_long",
    "name": "test_wrap_long",
    "content": "def test_wrap_long():",
    "start_line": 518
  },
  {
    "file": "test_text.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "text = Text(\"abracadabra\", justify=\"left\")\n    lines = text.wrap(Console(), 4)\n    assert len(lines) == 3\n    assert lines[0] == Text(\"abra\")\n    assert lines[1] == Text(\"cada\")\n    assert lines[2] == Text(\"bra \")",
    "start_line": 519
  },
  {
    "file": "test_text.py",
    "type": "function",
    "class": null,
    "method": "test_wrap_overflow",
    "name": "test_wrap_overflow",
    "content": "def test_wrap_overflow():",
    "start_line": 527
  },
  {
    "file": "test_text.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "text = Text(\"Some more words\")\n    lines = text.wrap(Console(), 4, overflow=\"ellipsis\")\n    assert (len(lines)) == 3\n    assert lines[0] == Text(\"Some\")\n    assert lines[1] == Text(\"more\")\n    assert lines[2] == Text(\"wor\")",
    "start_line": 528
  },
  {
    "file": "test_text.py",
    "type": "function",
    "class": null,
    "method": "test_wrap_overflow_long",
    "name": "test_wrap_overflow_long",
    "content": "def test_wrap_overflow_long():",
    "start_line": 536
  },
  {
    "file": "test_text.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "text = Text(\"bigword\" * 10)\n    lines = text.wrap(Console(), 4, overflow=\"ellipsis\")\n    assert len(lines) == 1\n    assert lines[0] == Text(\"big\")",
    "start_line": 537
  },
  {
    "file": "test_text.py",
    "type": "function",
    "class": null,
    "method": "test_wrap_long_words",
    "name": "test_wrap_long_words",
    "content": "def test_wrap_long_words():",
    "start_line": 543
  },
  {
    "file": "test_text.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "text = Text(\"XX 12345678912\")\n    lines = text.wrap(Console(), 4)\n    assert lines._lines == [\n        Text(\"XX \"),\n        Text(\"1234\"),\n        Text(\"5678\"),\n        Text(\"912\"),\n    ]",
    "start_line": 544
  },
  {
    "file": "test_text.py",
    "type": "function",
    "class": null,
    "method": "test_wrap_long_words_2",
    "name": "test_wrap_long_words_2",
    "content": "def test_wrap_long_words_2():",
    "start_line": 555
  },
  {
    "file": "test_text.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# https://github.com/Textualize/rich/issues/2273",
    "start_line": 556
  },
  {
    "file": "test_text.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "text = Text(\"Hello, World...123\")\n    lines = text.wrap(Console(), 10)\n    assert lines._lines == [\n        Text(\"Hello, \"),\n        Text(\"World...12\"),\n        Text(\"3\"),\n    ]",
    "start_line": 557
  },
  {
    "file": "test_text.py",
    "type": "function",
    "class": null,
    "method": "test_wrap_long_words_followed_by_other_words",
    "name": "test_wrap_long_words_followed_by_other_words",
    "content": "def test_wrap_long_words_followed_by_other_words():\n    \"\"\"After folding a word across multiple lines, we should continue from\n    the next word immediately after the folded word (don't take a newline\n    following completion of the folded word).\"\"\"",
    "start_line": 566
  },
  {
    "file": "test_text.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "text = Text(\"123 12345678 123 123\")\n    lines = text.wrap(Console(), 6)\n    assert lines._lines == [\n        Text(\"123 \"),\n        Text(\"123456\"),\n        Text(\"78 123\"),\n        Text(\"123\"),\n    ]",
    "start_line": 570
  },
  {
    "file": "test_text.py",
    "type": "function",
    "class": null,
    "method": "test_wrap_long_word_preceeded_by_word_of_full_line_length",
    "name": "test_wrap_long_word_preceeded_by_word_of_full_line_length",
    "content": "def test_wrap_long_word_preceeded_by_word_of_full_line_length():\n    \"\"\"The width of the first word is the same as the available width.\n    Ensures that folding works correctly when there's no space available\n    on the current line.\"\"\"",
    "start_line": 580
  },
  {
    "file": "test_text.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "text = Text(\"123456 12345678 123 123\")\n    lines = text.wrap(Console(), 6)\n    assert lines._lines == [\n        Text(\"123456\"),\n        Text(\"123456\"),\n        Text(\"78 123\"),\n        Text(\"123\"),\n    ]",
    "start_line": 584
  },
  {
    "file": "test_text.py",
    "type": "function",
    "class": null,
    "method": "test_wrap_multiple_consecutive_spaces",
    "name": "test_wrap_multiple_consecutive_spaces",
    "content": "def test_wrap_multiple_consecutive_spaces():\n    \"\"\"Adding multiple consecutive spaces at the end of a line does not impact\n    the location at which a break will be added during the process of wrapping.\"\"\"",
    "start_line": 594
  },
  {
    "file": "test_text.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "text = Text(\"123456    12345678 123 123\")\n    lines = text.wrap(Console(), 6)\n    assert lines._lines == [\n        Text(\"123456\"),\n        Text(\"123456\"),\n        Text(\"78 123\"),\n        Text(\"123\"),\n    ]",
    "start_line": 597
  },
  {
    "file": "test_text.py",
    "type": "function",
    "class": null,
    "method": "test_wrap_long_words_justify_left",
    "name": "test_wrap_long_words_justify_left",
    "content": "def test_wrap_long_words_justify_left():",
    "start_line": 607
  },
  {
    "file": "test_text.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "text = Text(\"X 123456789\", justify=\"left\")\n    lines = text.wrap(Console(), 4)\n    assert len(lines) == 4\n    assert lines[0] == Text(\"X   \")\n    assert lines[1] == Text(\"1234\")\n    assert lines[2] == Text(\"5678\")\n    assert lines[3] == Text(\"9   \")",
    "start_line": 608
  },
  {
    "file": "test_text.py",
    "type": "function",
    "class": null,
    "method": "test_wrap_leading_and_trailing_whitespace",
    "name": "test_wrap_leading_and_trailing_whitespace",
    "content": "def test_wrap_leading_and_trailing_whitespace():",
    "start_line": 618
  },
  {
    "file": "test_text.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "text = Text(\"   123  456 789   \")\n    lines = text.wrap(Console(), 4)\n    assert lines._lines == [\n        Text(\"   1\"),\n        Text(\"23  \"),\n        Text(\"456 \"),\n        Text(\"789 \"),\n    ]",
    "start_line": 619
  },
  {
    "file": "test_text.py",
    "type": "function",
    "class": null,
    "method": "test_no_wrap_no_crop",
    "name": "test_no_wrap_no_crop",
    "content": "def test_no_wrap_no_crop():",
    "start_line": 629
  },
  {
    "file": "test_text.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "text = Text(\"Hello World!\" * 3)\n    console = Console(width=20, file=StringIO())\n    console.print(text, no_wrap=True)\n    console.print(text, no_wrap=True, crop=False, overflow=\"ignore\")\n    print(repr(console.file.getvalue()))\n    assert (\n        console.file.getvalue()\n        == \"Hello World!Hello Wo\\nHello World!Hello World!Hello World!\\n\"\n    )",
    "start_line": 630
  },
  {
    "file": "test_text.py",
    "type": "function",
    "class": null,
    "method": "test_fit",
    "name": "test_fit",
    "content": "def test_fit():",
    "start_line": 643
  },
  {
    "file": "test_text.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "text = Text(\"Hello\\nWorld\")\n    lines = text.fit(3)\n    assert str(lines[0]) == \"Hel\"\n    assert str(lines[1]) == \"Wor\"",
    "start_line": 644
  },
  {
    "file": "test_text.py",
    "type": "function",
    "class": null,
    "method": "test_wrap_tabs",
    "name": "test_wrap_tabs",
    "content": "def test_wrap_tabs():",
    "start_line": 650
  },
  {
    "file": "test_text.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "text = Text(\"foo\\tbar\", justify=\"left\")\n    lines = text.wrap(Console(), 4)\n    assert len(lines) == 2\n    assert str(lines[0]) == \"foo \"\n    assert str(lines[1]) == \"bar \"",
    "start_line": 651
  },
  {
    "file": "test_text.py",
    "type": "function",
    "class": null,
    "method": "test_render",
    "name": "test_render",
    "content": "def test_render():",
    "start_line": 658
  },
  {
    "file": "test_text.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(width=15, record=True)\n    text = Text.from_markup(\n        \"[u][b]Where[/b] there is a [i]Will[/i], there is a Way.[/u]\"\n    )\n    console.print(text)\n    output = console.export_text(styles=True)\n    expected = \"\\x1b[1;4mWhere\\x1b[0m\\x1b[4m there is \\x1b[0m\\n\\x1b[4ma \\x1b[0m\\x1b[3;4mWill\\x1b[0m\\x1b[4m, there \\x1b[0m\\n\\x1b[4mis a Way.\\x1b[0m\\n\"\n    assert output == expected",
    "start_line": 659
  },
  {
    "file": "test_text.py",
    "type": "function",
    "class": null,
    "method": "test_render_simple",
    "name": "test_render_simple",
    "content": "def test_render_simple():",
    "start_line": 669
  },
  {
    "file": "test_text.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(width=80)\n    console.begin_capture()\n    console.print(Text(\"foo\"))\n    result = console.end_capture()\n    assert result == \"foo\\n\"\n@pytest.mark.parametrize(\n    \"print_text,result\",\n    [\n        ((\".\"), \".\\n\"),\n        ((\".\", \".\"), \". .\\n\"),\n        ((\"Hello\", \"World\", \"!\"), \"Hello World !\\n\"),\n    ],\n)",
    "start_line": 670
  },
  {
    "file": "test_text.py",
    "type": "function",
    "class": null,
    "method": "test_print",
    "name": "test_print",
    "content": "def test_print(print_text, result):",
    "start_line": 685
  },
  {
    "file": "test_text.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(record=True)\n    console.print(*print_text)\n    assert console.export_text(styles=False) == result\n@pytest.mark.parametrize(\n    \"print_text,result\",\n    [\n        ((\".\"), \".X\"),\n        ((\".\", \".\"), \"..X\"),\n        ((\"Hello\", \"World\", \"!\"), \"HelloWorld!X\"),\n    ],\n)",
    "start_line": 686
  },
  {
    "file": "test_text.py",
    "type": "function",
    "class": null,
    "method": "test_print_sep_end",
    "name": "test_print_sep_end",
    "content": "def test_print_sep_end(print_text, result):",
    "start_line": 699
  },
  {
    "file": "test_text.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(record=True, file=StringIO())\n    console.print(*print_text, sep=\"\", end=\"X\")\n    assert console.file.getvalue() == result",
    "start_line": 700
  },
  {
    "file": "test_text.py",
    "type": "function",
    "class": null,
    "method": "test_tabs_to_spaces",
    "name": "test_tabs_to_spaces",
    "content": "def test_tabs_to_spaces():",
    "start_line": 705
  },
  {
    "file": "test_text.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "text = Text(\"\\tHello\\tWorld\", tab_size=8)\n    text.expand_tabs()\n    assert text.plain == \"        Hello   World\"\n    text = Text(\"\\tHello\\tWorld\", tab_size=4)\n    text.expand_tabs()\n    assert text.plain == \"    Hello   World\"\n    text = Text(\".\\t..\\t...\\t....\\t\", tab_size=4)\n    text.expand_tabs()\n    assert text.plain == \".   ..  ... ....    \"\n    text = Text(\"No Tabs\")\n    text.expand_tabs()\n    assert text.plain == \"No Tabs\"\n    text = Text(\"No Tabs\", style=\"bold\")\n    text.expand_tabs()\n    assert text.plain == \"No Tabs\"\n    assert text.style == \"bold\"\n@pytest.mark.parametrize(\n    \"markup,tab_size,expected_text,expected_spans\",\n    [\n        (\"\", 4, \"\", []),\n        (\"\\t\", 4, \"    \", []),\n        (\"\\tbar\", 4, \"    bar\", []),\n        (\"foo\\tbar\", 4, \"foo bar\", []),\n        (\"foo\\nbar\\nbaz\", 4, \"foo\\nbar\\nbaz\", []),\n        (\n            \"[bold]foo\\tbar\",\n            4,\n            \"foo bar\",\n            [\n                Span(0, 4, \"bold\"),\n                Span(4, 7, \"bold\"),\n            ],\n        ),\n        (\n            \"[bold]\\tbar\",\n            4,\n            \"    bar\",\n            [\n                Span(0, 4, \"bold\"),\n                Span(4, 7, \"bold\"),\n            ],\n        ),\n        (\n            \"\\t[bold]bar\",\n            4,\n            \"    bar\",\n            [\n                Span(4, 7, \"bold\"),\n            ],\n        ),\n        (\n            \"[red]foo\\tbar\\n[green]egg\\tbaz\",\n            8,\n            \"foo     bar\\negg     baz\",\n            [\n                Span(0, 8, \"red\"),\n                Span(8, 12, \"red\"),\n                Span(12, 20, \"red\"),\n                Span(12, 20, \"green\"),\n                Span(20, 23, \"red\"),\n                Span(20, 23, \"green\"),\n            ],\n        ),\n        (\n            \"[bold]X\\tY\",\n            8,\n            \"X       Y\",\n            [\n                Span(0, 8, \"bold\"),\n                Span(8, 9, \"bold\"),\n            ],\n        ),\n        (\n            \"[bold]\\t\",\n            8,\n            \"      \",\n            [\n                Span(0, 7, \"bold\"),\n                Span(7, 8, \"bold\"),\n            ],\n        ),\n        (\n            \"[bold]\\t\",\n            8,\n            \"        \",\n            [\n                Span(0, 12, \"bold\"),\n                Span(12, 13, \"bold\"),\n            ],\n        ),\n    ],\n)",
    "start_line": 706
  },
  {
    "file": "test_text.py",
    "type": "function",
    "class": null,
    "method": "test_tabs_to_spaces_spans",
    "name": "test_tabs_to_spaces_spans",
    "content": "def test_tabs_to_spaces_spans(\n    markup: str, tab_size: int, expected_text: str, expected_spans: List[Span]\n):\n    \"\"\"Test spans are correct after expand_tabs\"\"\"",
    "start_line": 804
  },
  {
    "file": "test_text.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "text = Text.from_markup(markup)\n    text.expand_tabs(tab_size)\n    print(text._spans)\n    assert text.plain == expected_text\n    assert text._spans == expected_spans",
    "start_line": 808
  },
  {
    "file": "test_text.py",
    "type": "function",
    "class": null,
    "method": "test_markup_switch",
    "name": "test_markup_switch",
    "content": "def test_markup_switch():\n    \"\"\"Test markup can be disabled.\"\"\"",
    "start_line": 815
  },
  {
    "file": "test_text.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(file=StringIO(), markup=False)\n    console.print(\"[bold]foo[/bold]\")\n    assert console.file.getvalue() == \"[bold]foo[/bold]\\n\"",
    "start_line": 817
  },
  {
    "file": "test_text.py",
    "type": "function",
    "class": null,
    "method": "test_emoji",
    "name": "test_emoji",
    "content": "def test_emoji():\n    \"\"\"Test printing emoji codes.\"\"\"",
    "start_line": 822
  },
  {
    "file": "test_text.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(file=StringIO())\n    console.print(\":+1:\")\n    assert console.file.getvalue() == \"\\n\"",
    "start_line": 824
  },
  {
    "file": "test_text.py",
    "type": "function",
    "class": null,
    "method": "test_emoji_switch",
    "name": "test_emoji_switch",
    "content": "def test_emoji_switch():\n    \"\"\"Test emoji can be disabled.\"\"\"",
    "start_line": 829
  },
  {
    "file": "test_text.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(file=StringIO(), emoji=False)\n    console.print(\":+1:\")\n    assert console.file.getvalue() == \":+1:\\n\"",
    "start_line": 831
  },
  {
    "file": "test_text.py",
    "type": "function",
    "class": null,
    "method": "test_assemble",
    "name": "test_assemble",
    "content": "def test_assemble():",
    "start_line": 836
  },
  {
    "file": "test_text.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "text = Text.assemble(\"foo\", (\"bar\", \"bold\"))\n    assert str(text) == \"foobar\"\n    assert text._spans == [Span(3, 6, \"bold\")]",
    "start_line": 837
  },
  {
    "file": "test_text.py",
    "type": "function",
    "class": null,
    "method": "test_assemble_meta",
    "name": "test_assemble_meta",
    "content": "def test_assemble_meta():",
    "start_line": 842
  },
  {
    "file": "test_text.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "text = Text.assemble(\"foo\", (\"bar\", \"bold\"), meta={\"foo\": \"bar\"})\n    assert str(text) == \"foobar\"\n    assert text._spans == [Span(3, 6, \"bold\"), Span(0, 6, Style(meta={\"foo\": \"bar\"}))]\n    console = Console()\n    assert text.get_style_at_offset(console, 0).meta == {\"foo\": \"bar\"}",
    "start_line": 843
  },
  {
    "file": "test_text.py",
    "type": "function",
    "class": null,
    "method": "test_styled",
    "name": "test_styled",
    "content": "def test_styled():",
    "start_line": 850
  },
  {
    "file": "test_text.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "text = Text.styled(\"foo\", \"bold red\")\n    assert text.style == \"\"\n    assert str(text) == \"foo\"\n    assert text._spans == [Span(0, 3, \"bold red\")]",
    "start_line": 851
  },
  {
    "file": "test_text.py",
    "type": "function",
    "class": null,
    "method": "test_strip_control_codes",
    "name": "test_strip_control_codes",
    "content": "def test_strip_control_codes():",
    "start_line": 857
  },
  {
    "file": "test_text.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "text = Text(\"foo\\rbar\")\n    assert str(text) == \"foobar\"\n    text.append(\"\\x08\")\n    assert str(text) == \"foobar\"",
    "start_line": 858
  },
  {
    "file": "test_text.py",
    "type": "function",
    "class": null,
    "method": "test_get_style_at_offset",
    "name": "test_get_style_at_offset",
    "content": "def test_get_style_at_offset():",
    "start_line": 864
  },
  {
    "file": "test_text.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console()\n    text = Text.from_markup(\"Hello [b]World[/b]\")\n    assert text.get_style_at_offset(console, 0) == Style()\n    assert text.get_style_at_offset(console, 6) == Style(bold=True)\n@pytest.mark.parametrize(\n    \"input, count, expected\",\n    [\n        (\"Hello\", 10, \"Hello\"),\n        (\"Hello\", 5, \"Hello\"),\n        (\"Hello\", 4, \"Hel\"),\n        (\"Hello\", 3, \"He\"),\n        (\"Hello\", 2, \"H\"),\n        (\"Hello\", 1, \"\"),\n    ],\n)",
    "start_line": 865
  },
  {
    "file": "test_text.py",
    "type": "function",
    "class": null,
    "method": "test_truncate_ellipsis",
    "name": "test_truncate_ellipsis",
    "content": "def test_truncate_ellipsis(input, count, expected):",
    "start_line": 882
  },
  {
    "file": "test_text.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "text = Text(input)\n    text.truncate(count, overflow=\"ellipsis\")\n    assert text.plain == expected\n@pytest.mark.parametrize(\n    \"input, count, expected\",\n    [\n        (\"Hello\", 5, \"Hello\"),\n        (\"Hello\", 10, \"Hello     \"),\n        (\"Hello\", 3, \"He\"),\n    ],\n)",
    "start_line": 883
  },
  {
    "file": "test_text.py",
    "type": "function",
    "class": null,
    "method": "test_truncate_ellipsis_pad",
    "name": "test_truncate_ellipsis_pad",
    "content": "def test_truncate_ellipsis_pad(input, count, expected):",
    "start_line": 896
  },
  {
    "file": "test_text.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "text = Text(input)\n    text.truncate(count, overflow=\"ellipsis\", pad=True)\n    assert text.plain == expected",
    "start_line": 897
  },
  {
    "file": "test_text.py",
    "type": "function",
    "class": null,
    "method": "test_pad",
    "name": "test_pad",
    "content": "def test_pad():",
    "start_line": 902
  },
  {
    "file": "test_text.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "text = Text(\"foo\")\n    text.pad(2)\n    assert text.plain == \"  foo  \"",
    "start_line": 903
  },
  {
    "file": "test_text.py",
    "type": "function",
    "class": null,
    "method": "test_align_left",
    "name": "test_align_left",
    "content": "def test_align_left():",
    "start_line": 908
  },
  {
    "file": "test_text.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "text = Text(\"foo\")\n    text.align(\"left\", 10)\n    assert text.plain == \"foo       \"",
    "start_line": 909
  },
  {
    "file": "test_text.py",
    "type": "function",
    "class": null,
    "method": "test_align_right",
    "name": "test_align_right",
    "content": "def test_align_right():",
    "start_line": 914
  },
  {
    "file": "test_text.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "text = Text(\"foo\")\n    text.align(\"right\", 10)\n    assert text.plain == \"       foo\"",
    "start_line": 915
  },
  {
    "file": "test_text.py",
    "type": "function",
    "class": null,
    "method": "test_align_center",
    "name": "test_align_center",
    "content": "def test_align_center():",
    "start_line": 920
  },
  {
    "file": "test_text.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "text = Text(\"foo\")\n    text.align(\"center\", 10)\n    assert text.plain == \"   foo    \"",
    "start_line": 921
  },
  {
    "file": "test_text.py",
    "type": "function",
    "class": null,
    "method": "test_detect_indentation",
    "name": "test_detect_indentation",
    "content": "def test_detect_indentation():",
    "start_line": 926
  },
  {
    "file": "test_text.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "text = \"\"\"\\\nfoo\n    bar\n    \"\"\"\n    assert Text(text).detect_indentation() == 4\n    text = \"\"\"\\\nfoo\n    bar\n      baz\n    \"\"\"\n    assert Text(text).detect_indentation() == 2\n    assert Text(\"\").detect_indentation() == 1\n    assert Text(\" \").detect_indentation() == 1",
    "start_line": 927
  },
  {
    "file": "test_text.py",
    "type": "function",
    "class": null,
    "method": "test_indentation_guides",
    "name": "test_indentation_guides",
    "content": "def test_indentation_guides():",
    "start_line": 942
  },
  {
    "file": "test_text.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "text = Text(\n        \"\"\"\\\nfor a in range(10):\n    print(a)\nfoo = [\n    1,\n    {\n        2\n    }\n]\n\"\"\"\n    )\n    result = text.with_indent_guides()\n    print(result.plain)\n    print(repr(result.plain))\n    expected = \"for a in range(10):\\n   print(a)\\n\\nfoo = [\\n   1,\\n   {\\n      2\\n   }\\n]\\n\\n\"\n    assert result.plain == expected",
    "start_line": 943
  },
  {
    "file": "test_text.py",
    "type": "function",
    "class": null,
    "method": "test_slice",
    "name": "test_slice",
    "content": "def test_slice():",
    "start_line": 964
  },
  {
    "file": "test_text.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "text = Text.from_markup(\"[red]foo [bold]bar[/red] baz[/bold]\")\n    assert text[0] == Text(\"f\", spans=[Span(0, 1, \"red\")])\n    assert text[4] == Text(\"b\", spans=[Span(0, 1, \"red\"), Span(0, 1, \"bold\")])\n    assert text[:3] == Text(\"foo\", spans=[Span(0, 3, \"red\")])\n    assert text[:4] == Text(\"foo \", spans=[Span(0, 4, \"red\")])\n    assert text[:5] == Text(\"foo b\", spans=[Span(0, 5, \"red\"), Span(4, 5, \"bold\")])\n    assert text[4:] == Text(\"bar baz\", spans=[Span(0, 3, \"red\"), Span(0, 7, \"bold\")])\n    with pytest.raises(TypeError):\n        text[::-1]",
    "start_line": 965
  },
  {
    "file": "test_text.py",
    "type": "function",
    "class": null,
    "method": "test_wrap_invalid_style",
    "name": "test_wrap_invalid_style",
    "content": "def test_wrap_invalid_style():",
    "start_line": 978
  },
  {
    "file": "test_text.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# https://github.com/textualize/rich/issues/987",
    "start_line": 979
  },
  {
    "file": "test_text.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(width=100, color_system=\"truecolor\")\n    a = \"[#######.................] xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx [#######.................]\"\n    console.print(a, justify=\"full\")",
    "start_line": 980
  },
  {
    "file": "test_text.py",
    "type": "function",
    "class": null,
    "method": "test_apply_meta",
    "name": "test_apply_meta",
    "content": "def test_apply_meta():",
    "start_line": 985
  },
  {
    "file": "test_text.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "text = Text(\"foobar\")\n    text.apply_meta({\"foo\": \"bar\"}, 1, 3)\n    console = Console()\n    assert text.get_style_at_offset(console, 0).meta == {}\n    assert text.get_style_at_offset(console, 1).meta == {\"foo\": \"bar\"}\n    assert text.get_style_at_offset(console, 2).meta == {\"foo\": \"bar\"}\n    assert text.get_style_at_offset(console, 3).meta == {}",
    "start_line": 986
  },
  {
    "file": "test_text.py",
    "type": "function",
    "class": null,
    "method": "test_on",
    "name": "test_on",
    "content": "def test_on():",
    "start_line": 996
  },
  {
    "file": "test_text.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console()\n    text = Text(\"foo\")\n    text.on({\"foo\": \"bar\"}, click=\"CLICK\")\n    expected = {\"foo\": \"bar\", \"@click\": \"CLICK\"}\n    assert text.get_style_at_offset(console, 0).meta == expected\n    assert text.get_style_at_offset(console, 1).meta == expected\n    assert text.get_style_at_offset(console, 2).meta == expected",
    "start_line": 997
  },
  {
    "file": "test_text.py",
    "type": "function",
    "class": null,
    "method": "test_markup_property",
    "name": "test_markup_property",
    "content": "def test_markup_property():\n    assert Text(\"\").markup == \"\"\n    assert Text(\"foo\").markup == \"foo\"\n    assert Text(\"foo\", style=\"bold\").markup == \"[bold]foo[/bold]\"\n    assert Text.from_markup(\"foo [red]bar[/red]\").markup == \"foo [red]bar[/red]\"\n    assert (\n        Text.from_markup(\"foo [red]bar[/red]\", style=\"bold\").markup\n        == \"[bold]foo [red]bar[/red][/bold]\"\n    )\n    assert (\n        Text.from_markup(\"[bold]foo [italic]bar[/bold] baz[/italic]\").markup\n        == \"[bold]foo [italic]bar[/bold] baz[/italic]\"\n    )\n    assert Text(\"[bold]foo\").markup == \"\\\\[bold]foo\"",
    "start_line": 1006
  },
  {
    "file": "test_text.py",
    "type": "function",
    "class": null,
    "method": "test_extend_style",
    "name": "test_extend_style",
    "content": "def test_extend_style():",
    "start_line": 1022
  },
  {
    "file": "test_text.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "text = Text.from_markup(\"[red]foo[/red] [bold]bar\")\n    text.extend_style(0)\n    assert text.plain == \"foo bar\"\n    assert text.spans == [Span(0, 3, \"red\"), Span(4, 7, \"bold\")]\n    text.extend_style(-1)\n    assert text.plain == \"foo bar\"\n    assert text.spans == [Span(0, 3, \"red\"), Span(4, 7, \"bold\")]\n    text.extend_style(2)\n    assert text.plain == \"foo bar  \"\n    assert text.spans == [Span(0, 3, \"red\"), Span(4, 9, \"bold\")]",
    "start_line": 1023
  },
  {
    "file": "test_text.py",
    "type": "function",
    "class": null,
    "method": "test_append_tokens",
    "name": "test_append_tokens",
    "content": "def test_append_tokens() -> None:\n    \"\"\"Regression test for https://github.com/Textualize/rich/issues/3014\"\"\"",
    "start_line": 1038
  },
  {
    "file": "test_text.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console()\n    t = Text().append_tokens(\n        [\n            (\n                \"long text that will be wrapped with a control code \\r\\n\",\n                \"red\",\n            ),\n        ]\n    )\n    with console.capture() as capture:\n        console.print(t, width=40)\n    output = capture.get()\n    print(repr(output))\n    assert output == \"long text that will be wrapped with a \\ncontrol code \\n\\n\"",
    "start_line": 1041
  },
  {
    "file": "test_text.py",
    "type": "function",
    "class": null,
    "method": "test_append_loop_regression",
    "name": "test_append_loop_regression",
    "content": "def test_append_loop_regression() -> None:\n    \"\"\"Regression text for https://github.com/Textualize/rich/issues/3479\"\"\"",
    "start_line": 1058
  },
  {
    "file": "test_text.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "a = Text(\"one\", \"blue\")\n    a.append(a)\n    assert a.plain == \"oneone\"\n    b = Text(\"two\", \"blue\")\n    b.append_text(b)\n    assert b.plain == \"twotwo\"",
    "start_line": 1060
  },
  {
    "file": "test_text.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "import re\nfrom io import StringIO\nfrom typing import List\n\nimport pytest\n\nfrom rich.console import Console, Group\nfrom rich.measure import Measurement\nfrom rich.style import Style\nfrom rich.text import Span, Text\n\n\ndef test_span():\n    span = Span(1, 10, \"foo\")\n    repr(span)\n    assert bool(span)\n    assert not Span(10, 10, \"foo\")\n\n\ndef test_span_split():\n    assert Span(5, 10, \"foo\").split(2) == (Span(5, 10, \"foo\"), None)\n    assert Span(5, 10, \"foo\").split(15) == (Span(5, 10, \"foo\"), None)\n    assert Span(0, 10, \"foo\").split(5) == (Span(0, 5, \"foo\"), Span(5, 10, \"foo\"))\n\n\ndef test_span_move():\n    assert Span(5, 10, \"foo\").move(2) == Span(7, 12, \"foo\")\n\n\ndef test_span_right_crop():\n    assert Span(5, 10, \"foo\").right_crop(15) == Span(5, 10, \"foo\")\n    assert Span(5, 10, \"foo\").right_crop(7) == Span(5, 7, \"foo\")\n\n\ndef test_len():\n    assert len(Text(\"foo\")) == 3\n\n\ndef test_cell_len():\n    assert Text(\"foo\").cell_len == 3\n    assert Text(\"\").cell_len == 2\n\n\ndef test_bool():\n    assert Text(\"foo\")\n    assert not Text(\"\")\n\n\ndef test_str():\n    assert str(Text(\"foo\")) == \"foo\"\n\n\ndef test_repr():\n    assert isinstance(repr(Text(\"foo\")), str)\n\n\ndef test_add():\n    text = Text(\"foo\") + Text(\"bar\")\n    assert str(text) == \"foobar\"\n    assert Text(\"foo\").__add__(1) == NotImplemented\n\n\ndef test_eq():\n    assert Text(\"foo\") == Text(\"foo\")\n    assert Text(\"foo\") != Text(\"bar\")\n    assert Text(\"foo\").__eq__(1) == NotImplemented\n\n\ndef test_contain():\n    text = Text(\"foobar\")\n    assert \"foo\" in text\n    assert \"foo \" not in text\n    assert Text(\"bar\") in text\n    assert None not in text\n\n\ndef test_plain_property():\n    text = Text(\"foo\")\n    text.append(\"bar\")\n    text.append(\"baz\")\n    assert text.plain == \"foobarbaz\"\n\n\ndef test_plain_property_setter():\n    text = Text(\"foo\")\n    text.plain = \"bar\"\n    assert str(text) == \"bar\"\n    text = Text()\n    text.append(\"Hello, World\", \"bold\")\n    text.plain = \"Hello\"\n    assert str(text) == \"Hello\"\n    assert text._spans == [Span(0, 5, \"bold\")]\n\n\ndef test_from_markup():\n    text = Text.from_markup(\"Hello, [bold]World![/bold]\")\n    assert str(text) == \"Hello, World!\"\n    assert text._spans == [Span(7, 13, \"bold\")]\n\n\ndef test_from_ansi():\n    text = Text.from_ansi(\"Hello, \\033[1mWorld!\\033[0m\")\n    assert str(text) == \"Hello, World!\"\n    assert text._spans == [Span(7, 13, Style(bold=True))]\n\n    text = Text.from_ansi(\"Hello, \\033[1m\\nWorld!\\033[0m\")\n    assert str(text) == \"Hello, \\nWorld!\"\n    assert text._spans == [Span(8, 14, Style(bold=True))]\n\n    text = Text.from_ansi(\"\\033[1mBOLD\\033[m not bold\")\n    assert str(text) == \"BOLD not bold\"\n    assert text._spans == [Span(0, 4, Style(bold=True))]\n\n    text = Text.from_ansi(\"\\033[1m\\033[Kfoo barmbaz\")\n    assert str(text) == \"foo barmbaz\"\n    assert text._spans == [Span(0, 11, Style(bold=True))]\n\n\ndef test_copy():\n    text = Text()\n    text.append(\"Hello\", \"bold\")\n    text.append(\" \")\n    text.append(\"World\", \"italic\")\n    test_copy = text.copy()\n    assert text == test_copy\n    assert text is not test_copy\n\n\ndef test_rstrip():\n    text = Text(\"Hello, World!    \")\n    text.rstrip()\n    assert str(text) == \"Hello, World!\"\n\n\ndef test_rstrip_end():\n    text = Text(\"Hello, World!    \")\n    text.rstrip_end(14)\n    assert str(text) == \"Hello, World! \"\n\n\ndef test_stylize():\n    text = Text(\"Hello, World!\")\n    text.stylize(\"bold\", 7, 11)\n    assert text._spans == [Span(7, 11, \"bold\")]\n    text.stylize(\"bold\", 20, 25)\n    assert text._spans == [Span(7, 11, \"bold\")]\n\n\ndef test_stylize_before():\n    text = Text(\"Hello, World!\")\n    text.stylize(\"bold\", 0, 5)\n    text.stylize_before(\"italic\", 2, 7)\n    assert text._spans == [Span(2, 7, \"italic\"), Span(0, 5, \"bold\")]\n\n\ndef test_stylize_negative_index():\n    text = Text(\"Hello, World!\")\n    text.stylize(\"bold\", -6, -1)\n    assert text._spans == [Span(7, 12, \"bold\")]\n\n\ndef test_highlight_regex():\n    # As a string\n    text = Text(\"peek-a-boo\")\n\n    count = text.highlight_regex(r\"NEVER_MATCH\", \"red\")\n    assert count == 0\n    assert len(text._spans) == 0\n\n    # text: peek-a-boo\n    # indx: 0123456789\n    count = text.highlight_regex(r\"[a|e|o]+\", \"red\")\n    assert count == 3\n    assert sorted(text._spans) == [\n        Span(1, 3, \"red\"),\n        Span(5, 6, \"red\"),\n        Span(8, 10, \"red\"),\n    ]\n\n    text = Text(\"Ada Lovelace, Alan Turing\")\n\n    count = text.highlight_regex(\n        r\"(?P<yellow>[A-Za-z]+)[ ]+(?P<red>[A-Za-z]+)(?P<NEVER_MATCH>NEVER_MATCH)*\"\n    )\n\n    # The number of matched name should be 2\n    assert count == 2\n    assert sorted(text._spans) == [\n        Span(0, 3, \"yellow\"),  # Ada\n        Span(4, 12, \"red\"),  # Lovelace\n        Span(14, 18, \"yellow\"),  # Alan\n        Span(19, 25, \"red\"),  # Turing\n    ]\n\n    # As a regular expression object\n    text = Text(\"peek-a-boo\")\n\n    count = text.highlight_regex(re.compile(r\"NEVER_MATCH\"), \"red\")\n    assert count == 0\n    assert len(text._spans) == 0\n\n    # text: peek-a-boo\n    # indx: 0123456789\n    count = text.highlight_regex(re.compile(r\"[a|e|o]+\"), \"red\")\n    assert count == 3\n    assert sorted(text._spans) == [\n        Span(1, 3, \"red\"),\n        Span(5, 6, \"red\"),\n        Span(8, 10, \"red\"),\n    ]\n\n    text = Text(\"Ada Lovelace, Alan Turing\")\n\n    count = text.highlight_regex(\n        re.compile(\n            r\"(?P<yellow>[A-Za-z]+)[ ]+(?P<red>[A-Za-z]+)(?P<NEVER_MATCH>NEVER_MATCH)*\"\n        )\n    )\n\n    # The number of matched name should be 2\n    assert count == 2\n    assert sorted(text._spans) == [\n        Span(0, 3, \"yellow\"),  # Ada\n        Span(4, 12, \"red\"),  # Lovelace\n        Span(14, 18, \"yellow\"),  # Alan\n        Span(19, 25, \"red\"),  # Turing\n    ]\n\n\ndef test_highlight_regex_callable():\n    text = Text(\"Vulnerability CVE-2018-6543 detected\")\n    re_cve = r\"CVE-\\d{4}-\\d+\"\n    compiled_re_cve = re.compile(r\"CVE-\\d{4}-\\d+\")\n\n    def get_style(text: str) -> Style:\n        return Style.parse(\n            f\"bold yellow link https://cve.mitre.org/cgi-bin/cvekey.cgi?keyword={text}\"\n        )\n\n    # string\n    count = text.highlight_regex(re_cve, get_style)\n    assert count == 1\n    assert len(text._spans) == 1\n    assert text._spans[0].start == 14\n    assert text._spans[0].end == 27\n    assert (\n        text._spans[0].style.link\n        == \"https://cve.mitre.org/cgi-bin/cvekey.cgi?keyword=CVE-2018-6543\"\n    )\n\n    # Clear the tracked _spans for the regular expression object's use\n    text._spans.clear()\n\n    # regular expression object\n    count = text.highlight_regex(compiled_re_cve, get_style)\n    assert count == 1\n    assert len(text._spans) == 1\n    assert text._spans[0].start == 14\n    assert text._spans[0].end == 27\n    assert (\n        text._spans[0].style.link\n        == \"https://cve.mitre.org/cgi-bin/cvekey.cgi?keyword=CVE-2018-6543\"\n    )\n\n\ndef test_highlight_words():\n    text = Text(\"Do NOT! touch anything!\")\n    words = [\"NOT\", \"!\"]\n    count = text.highlight_words(words, \"red\")\n    assert count == 3\n    assert sorted(text._spans) == [\n        Span(3, 6, \"red\"),  # NOT\n        Span(6, 7, \"red\"),  # !\n        Span(22, 23, \"red\"),  # !\n    ]\n\n    # regex escape test\n    text = Text(\"[o|u]aeiou\")\n    words = [\"[a|e|i]\", \"[o|u]\"]\n    count = text.highlight_words(words, \"red\")\n    assert count == 1\n    assert text._spans == [Span(0, 5, \"red\")]\n\n    # case sensitive\n    text = Text(\"AB Ab aB ab\")\n    words = [\"AB\"]\n\n    count = text.highlight_words(words, \"red\")\n    assert count == 1\n    assert text._spans == [Span(0, 2, \"red\")]\n\n    text = Text(\"AB Ab aB ab\")\n    count = text.highlight_words(words, \"red\", case_sensitive=False)\n    assert count == 4\n\n\ndef test_set_length():\n    text = Text(\"Hello\")\n    text.set_length(5)\n    assert text == Text(\"Hello\")\n\n    text = Text(\"Hello\")\n    text.set_length(10)\n    assert text == Text(\"Hello     \")\n\n    text = Text(\"Hello World\")\n    text.stylize(\"bold\", 0, 5)\n    text.stylize(\"italic\", 7, 9)\n\n    text.set_length(3)\n    expected = Text()\n    expected.append(\"Hel\", \"bold\")\n    assert text == expected\n\n\ndef test_console_width():\n    console = Console()\n    text = Text(\"Hello World!\\nfoobarbaz\")\n    assert text.__rich_measure__(console, 80) == Measurement(9, 12)\n    assert Text(\" \" * 4).__rich_measure__(console, 80) == Measurement(4, 4)\n    assert Text(\" \\n  \\n   \").__rich_measure__(console, 80) == Measurement(3, 3)\n\n\ndef test_join():\n    text = Text(\"bar\").join([Text(\"foo\", \"red\"), Text(\"baz\", \"blue\")])\n    assert str(text) == \"foobarbaz\"\n    assert text._spans == [Span(0, 3, \"red\"), Span(6, 9, \"blue\")]\n\n\ndef test_trim_spans():\n    text = Text(\"Hello\")\n    text._spans[:] = [Span(0, 3, \"red\"), Span(3, 6, \"green\"), Span(6, 9, \"blue\")]\n    text._trim_spans()\n    assert text._spans == [Span(0, 3, \"red\"), Span(3, 5, \"green\")]\n\n\ndef test_pad_left():\n    text = Text(\"foo\")\n    text.pad_left(3, \"X\")\n    assert str(text) == \"XXXfoo\"\n\n\ndef test_pad_right():\n    text = Text(\"foo\")\n    text.pad_right(3, \"X\")\n    assert str(text) == \"fooXXX\"\n\n\ndef test_append():\n    text = Text(\"foo\")\n    text.append(\"bar\")\n    assert str(text) == \"foobar\"\n    text.append(Text(\"baz\", \"bold\"))\n    assert str(text) == \"foobarbaz\"\n    assert text._spans == [Span(6, 9, \"bold\")]\n\n    with pytest.raises(ValueError):\n        text.append(Text(\"foo\"), \"bar\")\n\n    with pytest.raises(TypeError):\n        text.append(1)\n\n\ndef test_append_text():\n    text = Text(\"foo\")\n    text.append_text(Text(\"bar\", style=\"bold\"))\n    assert str(text) == \"foobar\"\n    assert text._spans == [Span(3, 6, \"bold\")]\n\n\ndef test_end():\n    console = Console(width=20, file=StringIO())\n    text = Group(Text.from_markup(\"foo\", end=\" \"), Text.from_markup(\"bar\"))\n    console.print(text)\n    assert console.file.getvalue() == \"foo bar\\n\"\n\n\ndef test_split():\n    text = Text()\n    text.append(\"foo\", \"red\")\n    text.append(\"\\n\")\n    text.append(\"bar\", \"green\")\n    text.append(\"\\n\")\n\n    line1 = Text()\n    line1.append(\"foo\", \"red\")\n    line2 = Text()\n    line2.append(\"bar\", \"green\")\n    split = text.split(\"\\n\")\n    assert len(split) == 2\n    assert split[0] == line1\n    assert split[1] == line2\n\n    assert list(Text(\"foo\").split(\"\\n\")) == [Text(\"foo\")]\n\n\ndef test_split_spans():\n    text = Text.from_markup(\"[red]Hello\\n[b]World\")\n    lines = text.split(\"\\n\")\n    assert lines[0].plain == \"Hello\"\n    assert lines[1].plain == \"World\"\n    assert lines[0].spans == [Span(0, 5, \"red\")]\n    assert lines[1].spans == [Span(0, 5, \"red\"), Span(0, 5, \"bold\")]\n\n\ndef test_divide():\n    lines = Text(\"foo\").divide([])\n    assert len(lines) == 1\n    assert lines[0] == Text(\"foo\")\n\n    text = Text()\n    text.append(\"foo\", \"bold\")\n    lines = text.divide([1, 2])\n    assert len(lines) == 3\n    assert str(lines[0]) == \"f\"\n    assert str(lines[1]) == \"o\"\n    assert str(lines[2]) == \"o\"\n    assert lines[0]._spans == [Span(0, 1, \"bold\")]\n    assert lines[1]._spans == [Span(0, 1, \"bold\")]\n    assert lines[2]._spans == [Span(0, 1, \"bold\")]\n\n    text = Text()\n    text.append(\"foo\", \"red\")\n    text.append(\"bar\", \"green\")\n    text.append(\"baz\", \"blue\")\n    lines = text.divide([8])\n    assert len(lines) == 2\n    assert str(lines[0]) == \"foobarba\"\n    assert str(lines[1]) == \"z\"\n    assert lines[0]._spans == [\n        Span(0, 3, \"red\"),\n        Span(3, 6, \"green\"),\n        Span(6, 8, \"blue\"),\n    ]\n    assert lines[1]._spans == [Span(0, 1, \"blue\")]\n\n    lines = text.divide([1])\n    assert len(lines) == 2\n    assert str(lines[0]) == \"f\"\n    assert str(lines[1]) == \"oobarbaz\"\n    assert lines[0]._spans == [Span(0, 1, \"red\")]\n    assert lines[1]._spans == [\n        Span(0, 2, \"red\"),\n        Span(2, 5, \"green\"),\n        Span(5, 8, \"blue\"),\n    ]\n\n\ndef test_right_crop():\n    text = Text()\n    text.append(\"foobar\", \"red\")\n    text.right_crop(3)\n    assert str(text) == \"foo\"\n    assert text._spans == [Span(0, 3, \"red\")]\n\n\ndef test_wrap_3():\n    text = Text(\"foo bar baz\")\n    lines = text.wrap(Console(), 3)\n    print(repr(lines))\n    assert len(lines) == 3\n    assert lines[0] == Text(\"foo\")\n    assert lines[1] == Text(\"bar\")\n    assert lines[2] == Text(\"baz\")\n\n\ndef test_wrap_4():\n    text = Text(\"foo bar baz\", justify=\"left\")\n    lines = text.wrap(Console(), 4)\n    assert len(lines) == 3\n    assert lines[0] == Text(\"foo \")\n    assert lines[1] == Text(\"bar \")\n    assert lines[2] == Text(\"baz \")\n\n\ndef test_wrap_wrapped_word_length_greater_than_available_width():\n    text = Text(\"1234 12345678\")\n    lines = text.wrap(Console(), 7)\n    assert lines._lines == [\n        Text(\"1234 \"),\n        Text(\"1234567\"),\n        Text(\"8\"),\n    ]\n\n\ndef test_wrap_cjk():\n    text = Text(\"\")\n    lines = text.wrap(Console(), 4)\n    assert lines._lines == [\n        Text(\"\"),\n        Text(\"\"),\n    ]\n\n\ndef test_wrap_cjk_width_mid_character():\n    text = Text(\"\")\n    lines = text.wrap(Console(), 3)\n    assert lines._lines == [\n        Text(\"\"),\n        Text(\"\"),\n        Text(\"\"),\n    ]\n\n\ndef test_wrap_cjk_mixed():\n    \"\"\"Regression test covering https://github.com/Textualize/rich/issues/3176 and\n    https://github.com/Textualize/textual/issues/3567 - double width characters could\n    result in text going missing when wrapping.\"\"\"\n    text = Text(\"123\")\n    console = Console(width=20)  # let's ensure the width passed to wrap() wins.\n\n    wrapped_lines = text.wrap(console, width=8)\n    with console.capture() as capture:\n        console.print(wrapped_lines)\n\n    assert capture.get() == \"123\\n\\n\\n\\n\"\n\n\ndef test_wrap_long():\n    text = Text(\"abracadabra\", justify=\"left\")\n    lines = text.wrap(Console(), 4)\n    assert len(lines) == 3\n    assert lines[0] == Text(\"abra\")\n    assert lines[1] == Text(\"cada\")\n    assert lines[2] == Text(\"bra \")\n\n\ndef test_wrap_overflow():\n    text = Text(\"Some more words\")\n    lines = text.wrap(Console(), 4, overflow=\"ellipsis\")\n    assert (len(lines)) == 3\n    assert lines[0] == Text(\"Some\")\n    assert lines[1] == Text(\"more\")\n    assert lines[2] == Text(\"wor\")\n\n\ndef test_wrap_overflow_long():\n    text = Text(\"bigword\" * 10)\n    lines = text.wrap(Console(), 4, overflow=\"ellipsis\")\n    assert len(lines) == 1\n    assert lines[0] == Text(\"big\")\n\n\ndef test_wrap_long_words():\n    text = Text(\"XX 12345678912\")\n    lines = text.wrap(Console(), 4)\n\n    assert lines._lines == [\n        Text(\"XX \"),\n        Text(\"1234\"),\n        Text(\"5678\"),\n        Text(\"912\"),\n    ]\n\n\ndef test_wrap_long_words_2():\n    # https://github.com/Textualize/rich/issues/2273\n    text = Text(\"Hello, World...123\")\n    lines = text.wrap(Console(), 10)\n    assert lines._lines == [\n        Text(\"Hello, \"),\n        Text(\"World...12\"),\n        Text(\"3\"),\n    ]\n\n\ndef test_wrap_long_words_followed_by_other_words():\n    \"\"\"After folding a word across multiple lines, we should continue from\n    the next word immediately after the folded word (don't take a newline\n    following completion of the folded word).\"\"\"\n    text = Text(\"123 12345678 123 123\")\n    lines = text.wrap(Console(), 6)\n    assert lines._lines == [\n        Text(\"123 \"),\n        Text(\"123456\"),\n        Text(\"78 123\"),\n        Text(\"123\"),\n    ]\n\n\ndef test_wrap_long_word_preceeded_by_word_of_full_line_length():\n    \"\"\"The width of the first word is the same as the available width.\n    Ensures that folding works correctly when there's no space available\n    on the current line.\"\"\"\n    text = Text(\"123456 12345678 123 123\")\n    lines = text.wrap(Console(), 6)\n    assert lines._lines == [\n        Text(\"123456\"),\n        Text(\"123456\"),\n        Text(\"78 123\"),\n        Text(\"123\"),\n    ]\n\n\ndef test_wrap_multiple_consecutive_spaces():\n    \"\"\"Adding multiple consecutive spaces at the end of a line does not impact\n    the location at which a break will be added during the process of wrapping.\"\"\"\n    text = Text(\"123456    12345678 123 123\")\n    lines = text.wrap(Console(), 6)\n    assert lines._lines == [\n        Text(\"123456\"),\n        Text(\"123456\"),\n        Text(\"78 123\"),\n        Text(\"123\"),\n    ]\n\n\ndef test_wrap_long_words_justify_left():\n    text = Text(\"X 123456789\", justify=\"left\")\n    lines = text.wrap(Console(), 4)\n\n    assert len(lines) == 4\n    assert lines[0] == Text(\"X   \")\n    assert lines[1] == Text(\"1234\")\n    assert lines[2] == Text(\"5678\")\n    assert lines[3] == Text(\"9   \")\n\n\ndef test_wrap_leading_and_trailing_whitespace():\n    text = Text(\"   123  456 789   \")\n    lines = text.wrap(Console(), 4)\n    assert lines._lines == [\n        Text(\"   1\"),\n        Text(\"23  \"),\n        Text(\"456 \"),\n        Text(\"789 \"),\n    ]\n\n\ndef test_no_wrap_no_crop():\n    text = Text(\"Hello World!\" * 3)\n\n    console = Console(width=20, file=StringIO())\n    console.print(text, no_wrap=True)\n    console.print(text, no_wrap=True, crop=False, overflow=\"ignore\")\n\n    print(repr(console.file.getvalue()))\n    assert (\n        console.file.getvalue()\n        == \"Hello World!Hello Wo\\nHello World!Hello World!Hello World!\\n\"\n    )\n\n\ndef test_fit():\n    text = Text(\"Hello\\nWorld\")\n    lines = text.fit(3)\n    assert str(lines[0]) == \"Hel\"\n    assert str(lines[1]) == \"Wor\"\n\n\ndef test_wrap_tabs():\n    text = Text(\"foo\\tbar\", justify=\"left\")\n    lines = text.wrap(Console(), 4)\n    assert len(lines) == 2\n    assert str(lines[0]) == \"foo \"\n    assert str(lines[1]) == \"bar \"\n\n\ndef test_render():\n    console = Console(width=15, record=True)\n    text = Text.from_markup(\n        \"[u][b]Where[/b] there is a [i]Will[/i], there is a Way.[/u]\"\n    )\n    console.print(text)\n    output = console.export_text(styles=True)\n    expected = \"\\x1b[1;4mWhere\\x1b[0m\\x1b[4m there is \\x1b[0m\\n\\x1b[4ma \\x1b[0m\\x1b[3;4mWill\\x1b[0m\\x1b[4m, there \\x1b[0m\\n\\x1b[4mis a Way.\\x1b[0m\\n\"\n    assert output == expected\n\n\ndef test_render_simple():\n    console = Console(width=80)\n    console.begin_capture()\n    console.print(Text(\"foo\"))\n    result = console.end_capture()\n    assert result == \"foo\\n\"\n\n\n@pytest.mark.parametrize(\n    \"print_text,result\",\n    [\n        ((\".\"), \".\\n\"),\n        ((\".\", \".\"), \". .\\n\"),\n        ((\"Hello\", \"World\", \"!\"), \"Hello World !\\n\"),\n    ],\n)\ndef test_print(print_text, result):\n    console = Console(record=True)\n    console.print(*print_text)\n    assert console.export_text(styles=False) == result\n\n\n@pytest.mark.parametrize(\n    \"print_text,result\",\n    [\n        ((\".\"), \".X\"),\n        ((\".\", \".\"), \"..X\"),\n        ((\"Hello\", \"World\", \"!\"), \"HelloWorld!X\"),\n    ],\n)\ndef test_print_sep_end(print_text, result):\n    console = Console(record=True, file=StringIO())\n    console.print(*print_text, sep=\"\", end=\"X\")\n    assert console.file.getvalue() == result\n\n\ndef test_tabs_to_spaces():\n    text = Text(\"\\tHello\\tWorld\", tab_size=8)\n    text.expand_tabs()\n    assert text.plain == \"        Hello   World\"\n\n    text = Text(\"\\tHello\\tWorld\", tab_size=4)\n    text.expand_tabs()\n    assert text.plain == \"    Hello   World\"\n\n    text = Text(\".\\t..\\t...\\t....\\t\", tab_size=4)\n    text.expand_tabs()\n    assert text.plain == \".   ..  ... ....    \"\n\n    text = Text(\"No Tabs\")\n    text.expand_tabs()\n    assert text.plain == \"No Tabs\"\n\n    text = Text(\"No Tabs\", style=\"bold\")\n    text.expand_tabs()\n    assert text.plain == \"No Tabs\"\n    assert text.style == \"bold\"\n\n\n@pytest.mark.parametrize(\n    \"markup,tab_size,expected_text,expected_spans\",\n    [\n        (\"\", 4, \"\", []),\n        (\"\\t\", 4, \"    \", []),\n        (\"\\tbar\", 4, \"    bar\", []),\n        (\"foo\\tbar\", 4, \"foo bar\", []),\n        (\"foo\\nbar\\nbaz\", 4, \"foo\\nbar\\nbaz\", []),\n        (\n            \"[bold]foo\\tbar\",\n            4,\n            \"foo bar\",\n            [\n                Span(0, 4, \"bold\"),\n                Span(4, 7, \"bold\"),\n            ],\n        ),\n        (\n            \"[bold]\\tbar\",\n            4,\n            \"    bar\",\n            [\n                Span(0, 4, \"bold\"),\n                Span(4, 7, \"bold\"),\n            ],\n        ),\n        (\n            \"\\t[bold]bar\",\n            4,\n            \"    bar\",\n            [\n                Span(4, 7, \"bold\"),\n            ],\n        ),\n        (\n            \"[red]foo\\tbar\\n[green]egg\\tbaz\",\n            8,\n            \"foo     bar\\negg     baz\",\n            [\n                Span(0, 8, \"red\"),\n                Span(8, 12, \"red\"),\n                Span(12, 20, \"red\"),\n                Span(12, 20, \"green\"),\n                Span(20, 23, \"red\"),\n                Span(20, 23, \"green\"),\n            ],\n        ),\n        (\n            \"[bold]X\\tY\",\n            8,\n            \"X       Y\",\n            [\n                Span(0, 8, \"bold\"),\n                Span(8, 9, \"bold\"),\n            ],\n        ),\n        (\n            \"[bold]\\t\",\n            8,\n            \"      \",\n            [\n                Span(0, 7, \"bold\"),\n                Span(7, 8, \"bold\"),\n            ],\n        ),\n        (\n            \"[bold]\\t\",\n            8,\n            \"        \",\n            [\n                Span(0, 12, \"bold\"),\n                Span(12, 13, \"bold\"),\n            ],\n        ),\n    ],\n)\ndef test_tabs_to_spaces_spans(\n    markup: str, tab_size: int, expected_text: str, expected_spans: List[Span]\n):\n    \"\"\"Test spans are correct after expand_tabs\"\"\"\n    text = Text.from_markup(markup)\n    text.expand_tabs(tab_size)\n    print(text._spans)\n    assert text.plain == expected_text\n    assert text._spans == expected_spans\n\n\ndef test_markup_switch():\n    \"\"\"Test markup can be disabled.\"\"\"\n    console = Console(file=StringIO(), markup=False)\n    console.print(\"[bold]foo[/bold]\")\n    assert console.file.getvalue() == \"[bold]foo[/bold]\\n\"\n\n\ndef test_emoji():\n    \"\"\"Test printing emoji codes.\"\"\"\n    console = Console(file=StringIO())\n    console.print(\":+1:\")\n    assert console.file.getvalue() == \"\\n\"\n\n\ndef test_emoji_switch():\n    \"\"\"Test emoji can be disabled.\"\"\"\n    console = Console(file=StringIO(), emoji=False)\n    console.print(\":+1:\")\n    assert console.file.getvalue() == \":+1:\\n\"\n\n\ndef test_assemble():\n    text = Text.assemble(\"foo\", (\"bar\", \"bold\"))\n    assert str(text) == \"foobar\"\n    assert text._spans == [Span(3, 6, \"bold\")]\n\n\ndef test_assemble_meta():\n    text = Text.assemble(\"foo\", (\"bar\", \"bold\"), meta={\"foo\": \"bar\"})\n    assert str(text) == \"foobar\"\n    assert text._spans == [Span(3, 6, \"bold\"), Span(0, 6, Style(meta={\"foo\": \"bar\"}))]\n    console = Console()\n    assert text.get_style_at_offset(console, 0).meta == {\"foo\": \"bar\"}\n\n\ndef test_styled():\n    text = Text.styled(\"foo\", \"bold red\")\n    assert text.style == \"\"\n    assert str(text) == \"foo\"\n    assert text._spans == [Span(0, 3, \"bold red\")]\n\n\ndef test_strip_control_codes():\n    text = Text(\"foo\\rbar\")\n    assert str(text) == \"foobar\"\n    text.append(\"\\x08\")\n    assert str(text) == \"foobar\"\n\n\ndef test_get_style_at_offset():\n    console = Console()\n    text = Text.from_markup(\"Hello [b]World[/b]\")\n    assert text.get_style_at_offset(console, 0) == Style()\n    assert text.get_style_at_offset(console, 6) == Style(bold=True)\n\n\n@pytest.mark.parametrize(\n    \"input, count, expected\",\n    [\n        (\"Hello\", 10, \"Hello\"),\n        (\"Hello\", 5, \"Hello\"),\n        (\"Hello\", 4, \"Hel\"),\n        (\"Hello\", 3, \"He\"),\n        (\"Hello\", 2, \"H\"),\n        (\"Hello\", 1, \"\"),\n    ],\n)\ndef test_truncate_ellipsis(input, count, expected):\n    text = Text(input)\n    text.truncate(count, overflow=\"ellipsis\")\n    assert text.plain == expected\n\n\n@pytest.mark.parametrize(\n    \"input, count, expected\",\n    [\n        (\"Hello\", 5, \"Hello\"),\n        (\"Hello\", 10, \"Hello     \"),\n        (\"Hello\", 3, \"He\"),\n    ],\n)\ndef test_truncate_ellipsis_pad(input, count, expected):\n    text = Text(input)\n    text.truncate(count, overflow=\"ellipsis\", pad=True)\n    assert text.plain == expected\n\n\ndef test_pad():\n    text = Text(\"foo\")\n    text.pad(2)\n    assert text.plain == \"  foo  \"\n\n\ndef test_align_left():\n    text = Text(\"foo\")\n    text.align(\"left\", 10)\n    assert text.plain == \"foo       \"\n\n\ndef test_align_right():\n    text = Text(\"foo\")\n    text.align(\"right\", 10)\n    assert text.plain == \"       foo\"\n\n\ndef test_align_center():\n    text = Text(\"foo\")\n    text.align(\"center\", 10)\n    assert text.plain == \"   foo    \"\n\n\ndef test_detect_indentation():\n    text = \"\"\"\\\nfoo\n    bar\n    \"\"\"\n    assert Text(text).detect_indentation() == 4\n    text = \"\"\"\\\nfoo\n    bar\n      baz\n    \"\"\"\n    assert Text(text).detect_indentation() == 2\n    assert Text(\"\").detect_indentation() == 1\n    assert Text(\" \").detect_indentation() == 1\n\n\ndef test_indentation_guides():\n    text = Text(\n        \"\"\"\\\nfor a in range(10):\n    print(a)\n\nfoo = [\n    1,\n    {\n        2\n    }\n]\n\n\"\"\"\n    )\n    result = text.with_indent_guides()\n    print(result.plain)\n    print(repr(result.plain))\n    expected = \"for a in range(10):\\n   print(a)\\n\\nfoo = [\\n   1,\\n   {\\n      2\\n   }\\n]\\n\\n\"\n    assert result.plain == expected\n\n\ndef test_slice():\n    text = Text.from_markup(\"[red]foo [bold]bar[/red] baz[/bold]\")\n    assert text[0] == Text(\"f\", spans=[Span(0, 1, \"red\")])\n    assert text[4] == Text(\"b\", spans=[Span(0, 1, \"red\"), Span(0, 1, \"bold\")])\n\n    assert text[:3] == Text(\"foo\", spans=[Span(0, 3, \"red\")])\n    assert text[:4] == Text(\"foo \", spans=[Span(0, 4, \"red\")])\n    assert text[:5] == Text(\"foo b\", spans=[Span(0, 5, \"red\"), Span(4, 5, \"bold\")])\n    assert text[4:] == Text(\"bar baz\", spans=[Span(0, 3, \"red\"), Span(0, 7, \"bold\")])\n\n    with pytest.raises(TypeError):\n        text[::-1]\n\n\ndef test_wrap_invalid_style():\n    # https://github.com/textualize/rich/issues/987\n    console = Console(width=100, color_system=\"truecolor\")\n    a = \"[#######.................] xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx [#######.................]\"\n    console.print(a, justify=\"full\")\n\n\ndef test_apply_meta():\n    text = Text(\"foobar\")\n    text.apply_meta({\"foo\": \"bar\"}, 1, 3)\n\n    console = Console()\n    assert text.get_style_at_offset(console, 0).meta == {}\n    assert text.get_style_at_offset(console, 1).meta == {\"foo\": \"bar\"}\n    assert text.get_style_at_offset(console, 2).meta == {\"foo\": \"bar\"}\n    assert text.get_style_at_offset(console, 3).meta == {}\n\n\ndef test_on():\n    console = Console()\n    text = Text(\"foo\")\n    text.on({\"foo\": \"bar\"}, click=\"CLICK\")\n    expected = {\"foo\": \"bar\", \"@click\": \"CLICK\"}\n    assert text.get_style_at_offset(console, 0).meta == expected\n    assert text.get_style_at_offset(console, 1).meta == expected\n    assert text.get_style_at_offset(console, 2).meta == expected\n\n\ndef test_markup_property():\n    assert Text(\"\").markup == \"\"\n    assert Text(\"foo\").markup == \"foo\"\n    assert Text(\"foo\", style=\"bold\").markup == \"[bold]foo[/bold]\"\n    assert Text.from_markup(\"foo [red]bar[/red]\").markup == \"foo [red]bar[/red]\"\n    assert (\n        Text.from_markup(\"foo [red]bar[/red]\", style=\"bold\").markup\n        == \"[bold]foo [red]bar[/red][/bold]\"\n    )\n    assert (\n        Text.from_markup(\"[bold]foo [italic]bar[/bold] baz[/italic]\").markup\n        == \"[bold]foo [italic]bar[/bold] baz[/italic]\"\n    )\n    assert Text(\"[bold]foo\").markup == \"\\\\[bold]foo\"\n\n\ndef test_extend_style():\n    text = Text.from_markup(\"[red]foo[/red] [bold]bar\")\n    text.extend_style(0)\n\n    assert text.plain == \"foo bar\"\n    assert text.spans == [Span(0, 3, \"red\"), Span(4, 7, \"bold\")]\n\n    text.extend_style(-1)\n    assert text.plain == \"foo bar\"\n    assert text.spans == [Span(0, 3, \"red\"), Span(4, 7, \"bold\")]\n\n    text.extend_style(2)\n    assert text.plain == \"foo bar  \"\n    assert text.spans == [Span(0, 3, \"red\"), Span(4, 9, \"bold\")]\n\n\ndef test_append_tokens() -> None:\n    \"\"\"Regression test for https://github.com/Textualize/rich/issues/3014\"\"\"\n\n    console = Console()\n    t = Text().append_tokens(\n        [\n            (\n                \"long text that will be wrapped with a control code \\r\\n\",\n                \"red\",\n            ),\n        ]\n    )\n    with console.capture() as capture:\n        console.print(t, width=40)\n\n    output = capture.get()\n    print(repr(output))\n    assert output == \"long text that will be wrapped with a \\ncontrol code \\n\\n\"\n\n\ndef test_append_loop_regression() -> None:\n    \"\"\"Regression text for https://github.com/Textualize/rich/issues/3479\"\"\"\n    a = Text(\"one\", \"blue\")\n    a.append(a)\n    assert a.plain == \"oneone\"\n\n    b = Text(\"two\", \"blue\")\n    b.append_text(b)\n    assert b.plain == \"twotwo\"\n",
    "start_line": 0
  },
  {
    "file": "test_align.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "import io\nimport pytest\nfrom rich.console import Console\nfrom rich.align import Align, VerticalCenter\nfrom rich.measure import Measurement",
    "start_line": 0
  },
  {
    "file": "test_align.py",
    "type": "function",
    "class": null,
    "method": "test_bad_align_legal",
    "name": "test_bad_align_legal",
    "content": "def test_bad_align_legal():",
    "start_line": 9
  },
  {
    "file": "test_align.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# Legal\n    Align(\"foo\", \"left\")\n    Align(\"foo\", \"center\")\n    Align(\"foo\", \"right\")\n    # illegal\n    with pytest.raises(ValueError):\n        Align(\"foo\", None)\n    with pytest.raises(ValueError):\n        Align(\"foo\", \"middle\")\n    with pytest.raises(ValueError):\n        Align(\"foo\", \"\")\n    with pytest.raises(ValueError):\n        Align(\"foo\", \"LEFT\")\n    with pytest.raises(ValueError):\n        Align(\"foo\", vertical=\"somewhere\")",
    "start_line": 10
  },
  {
    "file": "test_align.py",
    "type": "function",
    "class": null,
    "method": "test_repr",
    "name": "test_repr",
    "content": "def test_repr():\n    repr(Align(\"foo\", \"left\"))\n    repr(Align(\"foo\", \"center\"))\n    repr(Align(\"foo\", \"right\"))",
    "start_line": 28
  },
  {
    "file": "test_align.py",
    "type": "function",
    "class": null,
    "method": "test_align_left",
    "name": "test_align_left",
    "content": "def test_align_left():",
    "start_line": 34
  },
  {
    "file": "test_align.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(file=io.StringIO(), width=10)\n    console.print(Align(\"foo\", \"left\"))\n    assert console.file.getvalue() == \"foo       \\n\"",
    "start_line": 35
  },
  {
    "file": "test_align.py",
    "type": "function",
    "class": null,
    "method": "test_align_center",
    "name": "test_align_center",
    "content": "def test_align_center():",
    "start_line": 40
  },
  {
    "file": "test_align.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(file=io.StringIO(), width=10)\n    console.print(Align(\"foo\", \"center\"))\n    assert console.file.getvalue() == \"   foo    \\n\"",
    "start_line": 41
  },
  {
    "file": "test_align.py",
    "type": "function",
    "class": null,
    "method": "test_align_right",
    "name": "test_align_right",
    "content": "def test_align_right():",
    "start_line": 46
  },
  {
    "file": "test_align.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(file=io.StringIO(), width=10)\n    console.print(Align(\"foo\", \"right\"))\n    assert console.file.getvalue() == \"       foo\\n\"",
    "start_line": 47
  },
  {
    "file": "test_align.py",
    "type": "function",
    "class": null,
    "method": "test_align_top",
    "name": "test_align_top",
    "content": "def test_align_top():",
    "start_line": 52
  },
  {
    "file": "test_align.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(file=io.StringIO(), width=10)\n    console.print(Align(\"foo\", vertical=\"top\"), height=5)\n    expected = \"foo       \\n          \\n          \\n          \\n          \\n\"\n    result = console.file.getvalue()\n    print(repr(result))\n    assert result == expected",
    "start_line": 53
  },
  {
    "file": "test_align.py",
    "type": "function",
    "class": null,
    "method": "test_align_middle",
    "name": "test_align_middle",
    "content": "def test_align_middle():",
    "start_line": 61
  },
  {
    "file": "test_align.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(file=io.StringIO(), width=10)\n    console.print(Align(\"foo\", vertical=\"middle\"), height=5)\n    expected = \"          \\n          \\nfoo       \\n          \\n          \\n\"\n    result = console.file.getvalue()\n    print(repr(result))\n    assert result == expected",
    "start_line": 62
  },
  {
    "file": "test_align.py",
    "type": "function",
    "class": null,
    "method": "test_align_bottom",
    "name": "test_align_bottom",
    "content": "def test_align_bottom():",
    "start_line": 70
  },
  {
    "file": "test_align.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(file=io.StringIO(), width=10)\n    console.print(Align(\"foo\", vertical=\"bottom\"), height=5)\n    expected = \"          \\n          \\n          \\n          \\nfoo       \\n\"\n    result = console.file.getvalue()\n    print(repr(result))\n    assert result == expected",
    "start_line": 71
  },
  {
    "file": "test_align.py",
    "type": "function",
    "class": null,
    "method": "test_align_center_middle",
    "name": "test_align_center_middle",
    "content": "def test_align_center_middle():",
    "start_line": 79
  },
  {
    "file": "test_align.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(file=io.StringIO(), width=10)\n    console.print(Align(\"foo\\nbar\", \"center\", vertical=\"middle\"), height=5)\n    expected = \"          \\n   foo    \\n   bar    \\n          \\n          \\n\"\n    result = console.file.getvalue()\n    print(repr(result))\n    assert result == expected",
    "start_line": 80
  },
  {
    "file": "test_align.py",
    "type": "function",
    "class": null,
    "method": "test_align_fit",
    "name": "test_align_fit",
    "content": "def test_align_fit():",
    "start_line": 88
  },
  {
    "file": "test_align.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(file=io.StringIO(), width=10)\n    console.print(Align(\"foobarbaze\", \"center\"))\n    assert console.file.getvalue() == \"foobarbaze\\n\"",
    "start_line": 89
  },
  {
    "file": "test_align.py",
    "type": "function",
    "class": null,
    "method": "test_align_right_style",
    "name": "test_align_right_style",
    "content": "def test_align_right_style():",
    "start_line": 94
  },
  {
    "file": "test_align.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(\n        file=io.StringIO(),\n        width=10,\n        color_system=\"truecolor\",\n        force_terminal=True,\n        _environ={},\n    )\n    console.print(Align(\"foo\", \"right\", style=\"on blue\"))\n    assert console.file.getvalue() == \"\\x1b[44m       \\x1b[0m\\x1b[44mfoo\\x1b[0m\\n\"",
    "start_line": 95
  },
  {
    "file": "test_align.py",
    "type": "function",
    "class": null,
    "method": "test_measure",
    "name": "test_measure",
    "content": "def test_measure():",
    "start_line": 106
  },
  {
    "file": "test_align.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(file=io.StringIO(), width=20)\n    _min, _max = Measurement.get(console, console.options, Align(\"foo bar\", \"left\"))\n    assert _min == 3\n    assert _max == 7",
    "start_line": 107
  },
  {
    "file": "test_align.py",
    "type": "function",
    "class": null,
    "method": "test_align_no_pad",
    "name": "test_align_no_pad",
    "content": "def test_align_no_pad():",
    "start_line": 113
  },
  {
    "file": "test_align.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(file=io.StringIO(), width=10)\n    console.print(Align(\"foo\", \"center\", pad=False))\n    console.print(Align(\"foo\", \"left\", pad=False))\n    assert console.file.getvalue() == \"   foo\\nfoo\\n\"",
    "start_line": 114
  },
  {
    "file": "test_align.py",
    "type": "function",
    "class": null,
    "method": "test_align_width",
    "name": "test_align_width",
    "content": "def test_align_width():",
    "start_line": 120
  },
  {
    "file": "test_align.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(file=io.StringIO(), width=40)\n    words = \"Deep in the human unconscious is a pervasive need for a logical universe that makes sense. But the real universe is always one step beyond logic\"\n    console.print(Align(words, \"center\", width=30))\n    result = console.file.getvalue()\n    expected = \"     Deep in the human unconscious      \\n     is a pervasive need for a          \\n     logical universe that makes        \\n     sense. But the real universe       \\n     is always one step beyond          \\n     logic                              \\n\"\n    assert result == expected",
    "start_line": 121
  },
  {
    "file": "test_align.py",
    "type": "function",
    "class": null,
    "method": "test_shortcuts",
    "name": "test_shortcuts",
    "content": "def test_shortcuts():\n    assert Align.left(\"foo\").align == \"left\"\n    assert Align.left(\"foo\").renderable == \"foo\"\n    assert Align.right(\"foo\").align == \"right\"\n    assert Align.right(\"foo\").renderable == \"foo\"\n    assert Align.center(\"foo\").align == \"center\"\n    assert Align.center(\"foo\").renderable == \"foo\"",
    "start_line": 129
  },
  {
    "file": "test_align.py",
    "type": "function",
    "class": null,
    "method": "test_vertical_center",
    "name": "test_vertical_center",
    "content": "def test_vertical_center():",
    "start_line": 138
  },
  {
    "file": "test_align.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(color_system=None, height=6)\n    console.begin_capture()\n    vertical_center = VerticalCenter(\"foo\")\n    repr(vertical_center)\n    console.print(vertical_center)\n    result = console.end_capture()\n    print(repr(result))\n    expected = \"   \\n   \\nfoo\\n   \\n   \\n   \\n\"\n    assert result == expected\n    assert Measurement.get(console, console.options, vertical_center) == Measurement(\n        3, 3\n    )",
    "start_line": 139
  },
  {
    "file": "test_align.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "import io\n\nimport pytest\n\nfrom rich.console import Console\nfrom rich.align import Align, VerticalCenter\nfrom rich.measure import Measurement\n\n\ndef test_bad_align_legal():\n    # Legal\n    Align(\"foo\", \"left\")\n    Align(\"foo\", \"center\")\n    Align(\"foo\", \"right\")\n\n    # illegal\n    with pytest.raises(ValueError):\n        Align(\"foo\", None)\n    with pytest.raises(ValueError):\n        Align(\"foo\", \"middle\")\n    with pytest.raises(ValueError):\n        Align(\"foo\", \"\")\n    with pytest.raises(ValueError):\n        Align(\"foo\", \"LEFT\")\n    with pytest.raises(ValueError):\n        Align(\"foo\", vertical=\"somewhere\")\n\n\ndef test_repr():\n    repr(Align(\"foo\", \"left\"))\n    repr(Align(\"foo\", \"center\"))\n    repr(Align(\"foo\", \"right\"))\n\n\ndef test_align_left():\n    console = Console(file=io.StringIO(), width=10)\n    console.print(Align(\"foo\", \"left\"))\n    assert console.file.getvalue() == \"foo       \\n\"\n\n\ndef test_align_center():\n    console = Console(file=io.StringIO(), width=10)\n    console.print(Align(\"foo\", \"center\"))\n    assert console.file.getvalue() == \"   foo    \\n\"\n\n\ndef test_align_right():\n    console = Console(file=io.StringIO(), width=10)\n    console.print(Align(\"foo\", \"right\"))\n    assert console.file.getvalue() == \"       foo\\n\"\n\n\ndef test_align_top():\n    console = Console(file=io.StringIO(), width=10)\n    console.print(Align(\"foo\", vertical=\"top\"), height=5)\n    expected = \"foo       \\n          \\n          \\n          \\n          \\n\"\n    result = console.file.getvalue()\n    print(repr(result))\n    assert result == expected\n\n\ndef test_align_middle():\n    console = Console(file=io.StringIO(), width=10)\n    console.print(Align(\"foo\", vertical=\"middle\"), height=5)\n    expected = \"          \\n          \\nfoo       \\n          \\n          \\n\"\n    result = console.file.getvalue()\n    print(repr(result))\n    assert result == expected\n\n\ndef test_align_bottom():\n    console = Console(file=io.StringIO(), width=10)\n    console.print(Align(\"foo\", vertical=\"bottom\"), height=5)\n    expected = \"          \\n          \\n          \\n          \\nfoo       \\n\"\n    result = console.file.getvalue()\n    print(repr(result))\n    assert result == expected\n\n\ndef test_align_center_middle():\n    console = Console(file=io.StringIO(), width=10)\n    console.print(Align(\"foo\\nbar\", \"center\", vertical=\"middle\"), height=5)\n    expected = \"          \\n   foo    \\n   bar    \\n          \\n          \\n\"\n    result = console.file.getvalue()\n    print(repr(result))\n    assert result == expected\n\n\ndef test_align_fit():\n    console = Console(file=io.StringIO(), width=10)\n    console.print(Align(\"foobarbaze\", \"center\"))\n    assert console.file.getvalue() == \"foobarbaze\\n\"\n\n\ndef test_align_right_style():\n    console = Console(\n        file=io.StringIO(),\n        width=10,\n        color_system=\"truecolor\",\n        force_terminal=True,\n        _environ={},\n    )\n    console.print(Align(\"foo\", \"right\", style=\"on blue\"))\n    assert console.file.getvalue() == \"\\x1b[44m       \\x1b[0m\\x1b[44mfoo\\x1b[0m\\n\"\n\n\ndef test_measure():\n    console = Console(file=io.StringIO(), width=20)\n    _min, _max = Measurement.get(console, console.options, Align(\"foo bar\", \"left\"))\n    assert _min == 3\n    assert _max == 7\n\n\ndef test_align_no_pad():\n    console = Console(file=io.StringIO(), width=10)\n    console.print(Align(\"foo\", \"center\", pad=False))\n    console.print(Align(\"foo\", \"left\", pad=False))\n    assert console.file.getvalue() == \"   foo\\nfoo\\n\"\n\n\ndef test_align_width():\n    console = Console(file=io.StringIO(), width=40)\n    words = \"Deep in the human unconscious is a pervasive need for a logical universe that makes sense. But the real universe is always one step beyond logic\"\n    console.print(Align(words, \"center\", width=30))\n    result = console.file.getvalue()\n    expected = \"     Deep in the human unconscious      \\n     is a pervasive need for a          \\n     logical universe that makes        \\n     sense. But the real universe       \\n     is always one step beyond          \\n     logic                              \\n\"\n    assert result == expected\n\n\ndef test_shortcuts():\n    assert Align.left(\"foo\").align == \"left\"\n    assert Align.left(\"foo\").renderable == \"foo\"\n    assert Align.right(\"foo\").align == \"right\"\n    assert Align.right(\"foo\").renderable == \"foo\"\n    assert Align.center(\"foo\").align == \"center\"\n    assert Align.center(\"foo\").renderable == \"foo\"\n\n\ndef test_vertical_center():\n    console = Console(color_system=None, height=6)\n    console.begin_capture()\n    vertical_center = VerticalCenter(\"foo\")\n    repr(vertical_center)\n    console.print(vertical_center)\n    result = console.end_capture()\n    print(repr(result))\n    expected = \"   \\n   \\nfoo\\n   \\n   \\n   \\n\"\n    assert result == expected\n    assert Measurement.get(console, console.options, vertical_center) == Measurement(\n        3, 3\n    )\n",
    "start_line": 0
  },
  {
    "file": "test_inspect.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "import io\nimport sys\nfrom types import ModuleType\nfrom typing import Sequence, Type\nimport pytest\nfrom rich import inspect\nfrom rich._inspect import (\n    get_object_types_mro,\n    get_object_types_mro_as_strings,\n    is_object_one_of_types,\n)\nfrom rich.console import Console",
    "start_line": 0
  },
  {
    "file": "test_inspect.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "skip_py38 = pytest.mark.skipif(\n    sys.version_info.minor == 8 and sys.version_info.major == 3,\n    reason=\"rendered differently on py3.8\",\n)\nskip_py39 = pytest.mark.skipif(\n    sys.version_info.minor == 9 and sys.version_info.major == 3,\n    reason=\"rendered differently on py3.9\",\n)\nskip_py310 = pytest.mark.skipif(\n    sys.version_info.minor == 10 and sys.version_info.major == 3,\n    reason=\"rendered differently on py3.10\",\n)\nskip_py311 = pytest.mark.skipif(\n    sys.version_info.minor == 11 and sys.version_info.major == 3,\n    reason=\"rendered differently on py3.11\",\n)\nskip_py312 = pytest.mark.skipif(\n    sys.version_info.minor == 12 and sys.version_info.major == 3,\n    reason=\"rendered differently on py3.12\",\n)\nskip_py313 = pytest.mark.skipif(\n    sys.version_info.minor == 13 and sys.version_info.major == 3,\n    reason=\"rendered differently on py3.13\",\n)\nskip_pypy3 = pytest.mark.skipif(\n    hasattr(sys, \"pypy_version_info\"),\n    reason=\"rendered differently on pypy3\",\n)",
    "start_line": 15
  },
  {
    "file": "test_inspect.py",
    "type": "function",
    "class": null,
    "method": "render",
    "name": "render",
    "content": "def render(obj, methods=False, value=False, width=50) -> str:",
    "start_line": 51
  },
  {
    "file": "test_inspect.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(file=io.StringIO(), width=width, legacy_windows=False)\n    inspect(obj, console=console, methods=methods, value=value)\n    return console.file.getvalue()",
    "start_line": 52
  },
  {
    "file": "test_inspect.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "InspectError",
    "content": "class InspectError(Exception):",
    "start_line": 57
  },
  {
    "file": "test_inspect.py",
    "type": "method",
    "class": "InspectError",
    "method": "__str__",
    "name": "__str__",
    "content": "class InspectError:\n    def __str__(self) -> str:\n        return \"INSPECT ERROR\"",
    "start_line": 58
  },
  {
    "file": "test_inspect.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "Foo",
    "content": "class Foo:\n    \"\"\"Foo test\n\n    Second line\n    \"\"\"",
    "start_line": 62
  },
  {
    "file": "test_inspect.py",
    "type": "method",
    "class": "Foo",
    "method": "__init__",
    "name": "__init__",
    "content": "class Foo:\n    def __init__(self, foo: int) -> None:\n        \"\"\"constructor docs.\"\"\"\n        self.foo = foo\n\n    @property",
    "start_line": 68
  },
  {
    "file": "test_inspect.py",
    "type": "method",
    "class": "Foo",
    "method": "broken",
    "name": "broken",
    "content": "class Foo:\n    def broken(self):\n        raise InspectError()",
    "start_line": 73
  },
  {
    "file": "test_inspect.py",
    "type": "method",
    "class": "Foo",
    "method": "method",
    "name": "method",
    "content": "class Foo:\n    def method(self, a, b) -> str:\n        \"\"\"Multi line\n\n        docs.\n        \"\"\"\n        return \"test\"",
    "start_line": 76
  },
  {
    "file": "test_inspect.py",
    "type": "method",
    "class": "Foo",
    "method": "__dir__",
    "name": "__dir__",
    "content": "class Foo:\n    def __dir__(self):\n        return [\"__init__\", \"broken\", \"method\"]",
    "start_line": 83
  },
  {
    "file": "test_inspect.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "FooSubclass",
    "content": "class FooSubclass(Foo):\n    pass",
    "start_line": 87
  },
  {
    "file": "test_inspect.py",
    "type": "function",
    "class": null,
    "method": "test_render",
    "name": "test_render",
    "content": "def test_render():",
    "start_line": 91
  },
  {
    "file": "test_inspect.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(width=100, file=io.StringIO(), legacy_windows=False)\n    foo = Foo(\"hello\")\n    inspect(foo, console=console, all=True, value=False)\n    result = console.file.getvalue()\n    print(repr(result))\n    expected = \" <class 'tests.test_inspect.Foo'> \\n Foo test                                                     \\n                                                              \\n   broken = InspectError()                                    \\n __init__ = def __init__(foo: int) -> None: constructor docs. \\n   method = def method(a, b) -> str: Multi line               \\n\\n\"\n    assert result == expected\n@skip_pypy3",
    "start_line": 92
  },
  {
    "file": "test_inspect.py",
    "type": "function",
    "class": null,
    "method": "test_inspect_text",
    "name": "test_inspect_text",
    "content": "def test_inspect_text():",
    "start_line": 103
  },
  {
    "file": "test_inspect.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "num_attributes = 34 if sys.version_info >= (3, 11) else 33\n    expected = (\n        \" <class 'str'> \\n\"\n        \" str(object='') -> str                          \\n\"\n        \" str(bytes_or_buffer[, encoding[, errors]]) ->  \\n\"\n        \" str                                            \\n\"\n        \"                                                \\n\"\n        f\" {num_attributes} attribute(s) not shown. Run                 \\n\"\n        \" inspect(inspect) for options.                  \\n\"\n        \"\\n\"\n    )\n    print(repr(expected))\n    assert render(\"Hello\") == expected\n@skip_pypy3",
    "start_line": 104
  },
  {
    "file": "test_inspect.py",
    "type": "function",
    "class": null,
    "method": "test_inspect_empty_dict",
    "name": "test_inspect_empty_dict",
    "content": "def test_inspect_empty_dict():",
    "start_line": 120
  },
  {
    "file": "test_inspect.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "expected = (\n        \" <class 'dict'> \\n\"\n        \" dict() -> new empty dictionary                 \\n\"\n        \" dict(mapping) -> new dictionary initialized    \\n\"\n        \" from a mapping object's                        \\n\"\n        \"     (key, value) pairs                         \\n\"\n        \" dict(iterable) -> new dictionary initialized   \\n\"\n        \" as if via:                                     \\n\"\n        \"     d = {}                                     \\n\"\n        \"     for k, v in iterable:                      \\n\"\n        \"         d[k] = v                               \\n\"\n        \" dict(**kwargs) -> new dictionary initialized   \\n\"\n        \" with the name=value pairs                      \\n\"\n        \"     in the keyword argument list.  For         \\n\"\n        \" example:  dict(one=1, two=2)                   \\n\"\n        \"                                                \\n\"\n    )\n    assert render({}).startswith(expected)\n@skip_py313\n@skip_py312\n@skip_py311\n@skip_pypy3",
    "start_line": 121
  },
  {
    "file": "test_inspect.py",
    "type": "function",
    "class": null,
    "method": "test_inspect_builtin_function_except_python311",
    "name": "test_inspect_builtin_function_except_python311",
    "content": "def test_inspect_builtin_function_except_python311():",
    "start_line": 145
  },
  {
    "file": "test_inspect.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# Pre-3.11 Python versions - print builtin has no signature available",
    "start_line": 146
  },
  {
    "file": "test_inspect.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "expected = (\n        \" <built-in function print> \\n\"\n        \" def print(...)                                 \\n\"\n        \"                                                \\n\"\n        \" print(value, ..., sep=' ', end='\\\\n',           \\n\"\n        \" file=sys.stdout, flush=False)                  \\n\"\n        \"                                                \\n\"\n        \" 29 attribute(s) not shown. Run                 \\n\"\n        \" inspect(inspect) for options.                  \\n\"\n        \"\\n\"\n    )\n    assert render(print) == expected\n@pytest.mark.skipif(\n    sys.version_info < (3, 11), reason=\"print builtin signature only available on 3.11+\"\n)\n@skip_pypy3",
    "start_line": 147
  },
  {
    "file": "test_inspect.py",
    "type": "function",
    "class": null,
    "method": "test_inspect_builtin_function_only_python311",
    "name": "test_inspect_builtin_function_only_python311",
    "content": "def test_inspect_builtin_function_only_python311():",
    "start_line": 165
  },
  {
    "file": "test_inspect.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# On 3.11, the print builtin *does* have a signature, unlike in prior versions",
    "start_line": 166
  },
  {
    "file": "test_inspect.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "expected = (\n        \" <built-in function print> \\n\"\n        \" def print(*args, sep=' ', end='\\\\n', file=None, \\n\"\n        \" flush=False):                                  \\n\"\n        \"                                                \\n\"\n        \" Prints the values to a stream, or to           \\n\"\n        \" sys.stdout by default.                         \\n\"\n        \"                                                \\n\"\n        \" 30 attribute(s) not shown. Run                 \\n\"\n        \" inspect(inspect) for options.                  \\n\"\n        \"\\n\"\n    )\n    assert render(print) == expected\n@skip_pypy3",
    "start_line": 167
  },
  {
    "file": "test_inspect.py",
    "type": "function",
    "class": null,
    "method": "test_inspect_coroutine",
    "name": "test_inspect_coroutine",
    "content": "def test_inspect_coroutine():\n    async def coroutine():\n        pass",
    "start_line": 183
  },
  {
    "file": "test_inspect.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "expected = (\n        \" <function test_inspect_coroutine.<locals>.cor\\n\"\n        \" async def                                      \\n\"\n        \" test_inspect_coroutine.<locals>.coroutine():   \\n\"\n    )\n    assert render(coroutine).startswith(expected)",
    "start_line": 187
  },
  {
    "file": "test_inspect.py",
    "type": "function",
    "class": null,
    "method": "test_inspect_integer",
    "name": "test_inspect_integer",
    "content": "def test_inspect_integer():",
    "start_line": 195
  },
  {
    "file": "test_inspect.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "expected = (\n        \" <class 'int'> \\n\"\n        \" int([x]) -> integer        \\n\"\n        \" int(x, base=10) -> integer \\n\"\n        \"                            \\n\"\n        \" denominator = 1            \\n\"\n        \"        imag = 0            \\n\"\n        \"   numerator = 1            \\n\"\n        \"        real = 1            \\n\"\n        \"\\n\"\n    )\n    assert expected == render(1)",
    "start_line": 196
  },
  {
    "file": "test_inspect.py",
    "type": "function",
    "class": null,
    "method": "test_inspect_integer_with_value",
    "name": "test_inspect_integer_with_value",
    "content": "def test_inspect_integer_with_value():",
    "start_line": 210
  },
  {
    "file": "test_inspect.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "expected = \" <class 'int'> \\n int([x]) -> integer        \\n int(x, base=10) -> integer \\n                            \\n  \\n  1                       \\n  \\n                            \\n denominator = 1            \\n        imag = 0            \\n   numerator = 1            \\n        real = 1            \\n\\n\"\n    value = render(1, value=True)\n    print(repr(value))\n    assert value == expected\n@skip_py310\n@skip_py311\n@skip_py312\n@skip_py313",
    "start_line": 211
  },
  {
    "file": "test_inspect.py",
    "type": "function",
    "class": null,
    "method": "test_inspect_integer_with_methods_python38_and_python39",
    "name": "test_inspect_integer_with_methods_python38_and_python39",
    "content": "def test_inspect_integer_with_methods_python38_and_python39():",
    "start_line": 221
  },
  {
    "file": "test_inspect.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "expected = (\n        \" <class 'int'> \\n\"\n        \" int([x]) -> integer                            \\n\"\n        \" int(x, base=10) -> integer                     \\n\"\n        \"                                                \\n\"\n        \"      denominator = 1                           \\n\"\n        \"             imag = 0                           \\n\"\n        \"        numerator = 1                           \\n\"\n        \"             real = 1                           \\n\"\n        \" as_integer_ratio = def as_integer_ratio():     \\n\"\n        \"                    Return integer ratio.       \\n\"\n        \"       bit_length = def bit_length(): Number of \\n\"\n        \"                    bits necessary to represent \\n\"\n        \"                    self in binary.             \\n\"\n        \"        conjugate = def conjugate(...) Returns  \\n\"\n        \"                    self, the complex conjugate \\n\"\n        \"                    of any int.                 \\n\"\n        \"       from_bytes = def from_bytes(bytes,       \\n\"\n        \"                    byteorder, *,               \\n\"\n        \"                    signed=False): Return the   \\n\"\n        \"                    integer represented by the  \\n\"\n        \"                    given array of bytes.       \\n\"\n        \"         to_bytes = def to_bytes(length,        \\n\"\n        \"                    byteorder, *,               \\n\"\n        \"                    signed=False): Return an    \\n\"\n        \"                    array of bytes representing \\n\"\n        \"                    an integer.                 \\n\"\n        \"\\n\"\n    )\n    assert render(1, methods=True) == expected\n@skip_py38\n@skip_py39\n@skip_py311\n@skip_py312\n@skip_py313",
    "start_line": 222
  },
  {
    "file": "test_inspect.py",
    "type": "function",
    "class": null,
    "method": "test_inspect_integer_with_methods_python310only",
    "name": "test_inspect_integer_with_methods_python310only",
    "content": "def test_inspect_integer_with_methods_python310only():",
    "start_line": 259
  },
  {
    "file": "test_inspect.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "expected = (\n        \" <class 'int'> \\n\"\n        \" int([x]) -> integer                            \\n\"\n        \" int(x, base=10) -> integer                     \\n\"\n        \"                                                \\n\"\n        \"      denominator = 1                           \\n\"\n        \"             imag = 0                           \\n\"\n        \"        numerator = 1                           \\n\"\n        \"             real = 1                           \\n\"\n        \" as_integer_ratio = def as_integer_ratio():     \\n\"\n        \"                    Return integer ratio.       \\n\"\n        \"        bit_count = def bit_count(): Number of  \\n\"\n        \"                    ones in the binary          \\n\"\n        \"                    representation of the       \\n\"\n        \"                    absolute value of self.     \\n\"\n        \"       bit_length = def bit_length(): Number of \\n\"\n        \"                    bits necessary to represent \\n\"\n        \"                    self in binary.             \\n\"\n        \"        conjugate = def conjugate(...) Returns  \\n\"\n        \"                    self, the complex conjugate \\n\"\n        \"                    of any int.                 \\n\"\n        \"       from_bytes = def from_bytes(bytes,       \\n\"\n        \"                    byteorder, *,               \\n\"\n        \"                    signed=False): Return the   \\n\"\n        \"                    integer represented by the  \\n\"\n        \"                    given array of bytes.       \\n\"\n        \"         to_bytes = def to_bytes(length,        \\n\"\n        \"                    byteorder, *,               \\n\"\n        \"                    signed=False): Return an    \\n\"\n        \"                    array of bytes representing \\n\"\n        \"                    an integer.                 \\n\"\n        \"\\n\"\n    )\n    assert render(1, methods=True) == expected\n@skip_py38\n@skip_py39\n@skip_py310\n@skip_py312\n@skip_py313",
    "start_line": 260
  },
  {
    "file": "test_inspect.py",
    "type": "function",
    "class": null,
    "method": "test_inspect_integer_with_methods_python311",
    "name": "test_inspect_integer_with_methods_python311",
    "content": "def test_inspect_integer_with_methods_python311():",
    "start_line": 301
  },
  {
    "file": "test_inspect.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# to_bytes and from_bytes methods on int had minor signature change -\n    # they now, as of 3.11, have default values for all of their parameters",
    "start_line": 302
  },
  {
    "file": "test_inspect.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "expected = (\n        \" <class 'int'> \\n\"\n        \" int([x]) -> integer                            \\n\"\n        \" int(x, base=10) -> integer                     \\n\"\n        \"                                                \\n\"\n        \"      denominator = 1                           \\n\"\n        \"             imag = 0                           \\n\"\n        \"        numerator = 1                           \\n\"\n        \"             real = 1                           \\n\"\n        \" as_integer_ratio = def as_integer_ratio():     \\n\"\n        \"                    Return integer ratio.       \\n\"\n        \"        bit_count = def bit_count(): Number of  \\n\"\n        \"                    ones in the binary          \\n\"\n        \"                    representation of the       \\n\"\n        \"                    absolute value of self.     \\n\"\n        \"       bit_length = def bit_length(): Number of \\n\"\n        \"                    bits necessary to represent \\n\"\n        \"                    self in binary.             \\n\"\n        \"        conjugate = def conjugate(...) Returns  \\n\"\n        \"                    self, the complex conjugate \\n\"\n        \"                    of any int.                 \\n\"\n        \"       from_bytes = def from_bytes(bytes,       \\n\"\n        \"                    byteorder='big', *,         \\n\"\n        \"                    signed=False): Return the   \\n\"\n        \"                    integer represented by the  \\n\"\n        \"                    given array of bytes.       \\n\"\n        \"         to_bytes = def to_bytes(length=1,      \\n\"\n        \"                    byteorder='big', *,         \\n\"\n        \"                    signed=False): Return an    \\n\"\n        \"                    array of bytes representing \\n\"\n        \"                    an integer.                 \\n\"\n        \"\\n\"\n    )\n    assert render(1, methods=True) == expected\n@skip_pypy3",
    "start_line": 304
  },
  {
    "file": "test_inspect.py",
    "type": "function",
    "class": null,
    "method": "test_broken_call_attr",
    "name": "test_broken_call_attr",
    "content": "def test_broken_call_attr():",
    "start_line": 341
  },
  {
    "file": "test_inspect.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "NotCallable",
    "content": "class NotCallable:\n        __call__ = 5  # Passes callable() but isn't really callable",
    "start_line": 342
  },
  {
    "file": "test_inspect.py",
    "type": "method",
    "class": "NotCallable",
    "method": "__repr__",
    "name": "__repr__",
    "content": "class NotCallable:\n        def __repr__(self):\n            return \"NotCallable()\"",
    "start_line": 345
  },
  {
    "file": "test_inspect.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "Foo",
    "content": "class Foo:\n        foo = NotCallable()\n\n    foo = Foo()\n    assert callable(foo.foo)",
    "start_line": 348
  },
  {
    "file": "test_inspect.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "expected = \" <class 'tests.test_inspect.test_broken_call_attr.<locals>.Foo'> \\n foo = NotCallable()                                               \\n\\n\"\n    result = render(foo, methods=True, width=100)\n    print(repr(result))\n    assert expected == result",
    "start_line": 353
  },
  {
    "file": "test_inspect.py",
    "type": "function",
    "class": null,
    "method": "test_inspect_swig_edge_case",
    "name": "test_inspect_swig_edge_case",
    "content": "def test_inspect_swig_edge_case():\n    \"\"\"Issue #1838 - Edge case with Faiss library - object with empty dir()\"\"\"",
    "start_line": 359
  },
  {
    "file": "test_inspect.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "Thing",
    "content": "class Thing:\n        @property",
    "start_line": 362
  },
  {
    "file": "test_inspect.py",
    "type": "method",
    "class": "Thing",
    "method": "__class__",
    "name": "__class__",
    "content": "class Thing:\n        def __class__(self):\n            raise AttributeError\n\n    thing = Thing()\n    try:\n        inspect(thing)\n    except Exception as e:\n        assert False, f\"Object with no __class__ shouldn't raise {e}\"",
    "start_line": 364
  },
  {
    "file": "test_inspect.py",
    "type": "function",
    "class": null,
    "method": "test_inspect_module_with_class",
    "name": "test_inspect_module_with_class",
    "content": "def test_inspect_module_with_class():",
    "start_line": 374
  },
  {
    "file": "test_inspect.py",
    "type": "function",
    "class": null,
    "method": "function",
    "name": "function",
    "content": "def function():\n        pass",
    "start_line": 375
  },
  {
    "file": "test_inspect.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "Thing",
    "content": "class Thing:\n        \"\"\"Docstring\"\"\"\n\n        pass\n\n    module = ModuleType(\"my_module\")\n    module.SomeClass = Thing\n    module.function = function",
    "start_line": 378
  },
  {
    "file": "test_inspect.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "expected = (\n        \" <module 'my_module'> \\n\"\n        \"  function = def function():              \\n\"\n        \" SomeClass = class SomeClass(): Docstring \\n\"\n        \"\\n\"\n    )\n    assert render(module, methods=True) == expected\n@pytest.mark.parametrize(\n    \"special_character,expected_replacement\",\n    (\n        (\"\\a\", \"\\\\a\"),\n        (\"\\b\", \"\\\\b\"),\n        (\"\\f\", \"\\\\f\"),\n        (\"\\r\", \"\\\\r\"),\n        (\"\\v\", \"\\\\v\"),\n    ),\n)",
    "start_line": 387
  },
  {
    "file": "test_inspect.py",
    "type": "function",
    "class": null,
    "method": "test_can_handle_special_characters_in_docstrings",
    "name": "test_can_handle_special_characters_in_docstrings",
    "content": "def test_can_handle_special_characters_in_docstrings(\n    special_character: str, expected_replacement: str\n) -> None:",
    "start_line": 406
  },
  {
    "file": "test_inspect.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "Something",
    "content": "class Something:",
    "start_line": 409
  },
  {
    "file": "test_inspect.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "Thing",
    "content": "class Thing:\n            pass\n\n    Something.Thing.__doc__ = f\"\"\"\n    Multiline docstring\n    with {special_character} should be handled\n    \"\"\"",
    "start_line": 410
  },
  {
    "file": "test_inspect.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "expected = \"\"\"\\\n <class 'tests.test_inspect.test_can_handle_sp\n class                                          \n test_can_handle_special_characters_in_docstrin \n gs.<locals>.Something():                       \n                                                \n Thing = class Thing():                         \n         Multiline docstring                    \n         with %s should be handled              \n\n\"\"\" % (\n        expected_replacement\n    )\n    assert render(Something, methods=True) == expected\n@pytest.mark.parametrize(\n    \"obj,expected_result\",\n    (\n        [object, (object,)],\n        [object(), (object,)],\n        [\"hi\", (str, object)],\n        [str, (str, object)],\n        [Foo(1), (Foo, object)],\n        [Foo, (Foo, object)],\n        [FooSubclass(1), (FooSubclass, Foo, object)],\n        [FooSubclass, (FooSubclass, Foo, object)],\n    ),\n)",
    "start_line": 418
  },
  {
    "file": "test_inspect.py",
    "type": "function",
    "class": null,
    "method": "test_object_types_mro",
    "name": "test_object_types_mro",
    "content": "def test_object_types_mro(obj: object, expected_result: Sequence[Type]):\n    assert get_object_types_mro(obj) == expected_result\n\n\n@pytest.mark.parametrize(\n    \"obj,expected_result\",\n    (",
    "start_line": 447
  },
  {
    "file": "test_inspect.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# fmt: off\n        [\"hi\", [\"builtins.str\", \"builtins.object\"]],\n        [str, [\"builtins.str\", \"builtins.object\"]],\n        [Foo(1), [f\"{__name__}.Foo\", \"builtins.object\"]],\n        [Foo, [f\"{__name__}.Foo\", \"builtins.object\"]],\n        [FooSubclass(1),\n         [f\"{__name__}.FooSubclass\", f\"{__name__}.Foo\", \"builtins.object\"]],\n        [FooSubclass,\n         [f\"{__name__}.FooSubclass\", f\"{__name__}.Foo\", \"builtins.object\"]],\n        # fmt: on\n    ),\n)",
    "start_line": 454
  },
  {
    "file": "test_inspect.py",
    "type": "function",
    "class": null,
    "method": "test_object_types_mro_as_strings",
    "name": "test_object_types_mro_as_strings",
    "content": "def test_object_types_mro_as_strings(obj: object, expected_result: Sequence[str]):\n    assert get_object_types_mro_as_strings(obj) == expected_result\n\n\n@pytest.mark.parametrize(\n    \"obj,types,expected_result\",\n    (",
    "start_line": 466
  },
  {
    "file": "test_inspect.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# fmt: off\n        [\"hi\", [\"builtins.str\"], True],\n        [str, [\"builtins.str\"], True],\n        [\"hi\", [\"builtins.str\", \"foo\"], True],\n        [str, [\"builtins.str\", \"foo\"], True],\n        [Foo(1), [f\"{__name__}.Foo\"], True],\n        [Foo, [f\"{__name__}.Foo\"], True],\n        [Foo(1), [\"builtins.str\", f\"{__name__}.Foo\"], True],\n        [Foo, [\"builtins.int\", f\"{__name__}.Foo\"], True],\n        [Foo(1), [f\"{__name__}.FooSubclass\"], False],\n        [Foo, [f\"{__name__}.FooSubclass\"], False],\n        [Foo(1), [f\"{__name__}.FooSubclass\", f\"{__name__}.Foo\"], True],\n        [Foo, [f\"{__name__}.Foo\", f\"{__name__}.FooSubclass\"], True],\n        # fmt: on\n    ),\n)",
    "start_line": 473
  },
  {
    "file": "test_inspect.py",
    "type": "function",
    "class": null,
    "method": "test_object_is_one_of_types",
    "name": "test_object_is_one_of_types",
    "content": "def test_object_is_one_of_types(\n    obj: object, types: Sequence[str], expected_result: bool\n):\n    assert is_object_one_of_types(obj, types) is expected_result",
    "start_line": 489
  },
  {
    "file": "test_inspect.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "import io\nimport sys\nfrom types import ModuleType\nfrom typing import Sequence, Type\n\nimport pytest\n\nfrom rich import inspect\nfrom rich._inspect import (\n    get_object_types_mro,\n    get_object_types_mro_as_strings,\n    is_object_one_of_types,\n)\nfrom rich.console import Console\n\nskip_py38 = pytest.mark.skipif(\n    sys.version_info.minor == 8 and sys.version_info.major == 3,\n    reason=\"rendered differently on py3.8\",\n)\n\nskip_py39 = pytest.mark.skipif(\n    sys.version_info.minor == 9 and sys.version_info.major == 3,\n    reason=\"rendered differently on py3.9\",\n)\n\nskip_py310 = pytest.mark.skipif(\n    sys.version_info.minor == 10 and sys.version_info.major == 3,\n    reason=\"rendered differently on py3.10\",\n)\n\nskip_py311 = pytest.mark.skipif(\n    sys.version_info.minor == 11 and sys.version_info.major == 3,\n    reason=\"rendered differently on py3.11\",\n)\n\nskip_py312 = pytest.mark.skipif(\n    sys.version_info.minor == 12 and sys.version_info.major == 3,\n    reason=\"rendered differently on py3.12\",\n)\n\nskip_py313 = pytest.mark.skipif(\n    sys.version_info.minor == 13 and sys.version_info.major == 3,\n    reason=\"rendered differently on py3.13\",\n)\n\nskip_pypy3 = pytest.mark.skipif(\n    hasattr(sys, \"pypy_version_info\"),\n    reason=\"rendered differently on pypy3\",\n)\n\n\ndef render(obj, methods=False, value=False, width=50) -> str:\n    console = Console(file=io.StringIO(), width=width, legacy_windows=False)\n    inspect(obj, console=console, methods=methods, value=value)\n    return console.file.getvalue()\n\n\nclass InspectError(Exception):\n    def __str__(self) -> str:\n        return \"INSPECT ERROR\"\n\n\nclass Foo:\n    \"\"\"Foo test\n\n    Second line\n    \"\"\"\n\n    def __init__(self, foo: int) -> None:\n        \"\"\"constructor docs.\"\"\"\n        self.foo = foo\n\n    @property\n    def broken(self):\n        raise InspectError()\n\n    def method(self, a, b) -> str:\n        \"\"\"Multi line\n\n        docs.\n        \"\"\"\n        return \"test\"\n\n    def __dir__(self):\n        return [\"__init__\", \"broken\", \"method\"]\n\n\nclass FooSubclass(Foo):\n    pass\n\n\ndef test_render():\n    console = Console(width=100, file=io.StringIO(), legacy_windows=False)\n\n    foo = Foo(\"hello\")\n    inspect(foo, console=console, all=True, value=False)\n    result = console.file.getvalue()\n    print(repr(result))\n    expected = \" <class 'tests.test_inspect.Foo'> \\n Foo test                                                     \\n                                                              \\n   broken = InspectError()                                    \\n __init__ = def __init__(foo: int) -> None: constructor docs. \\n   method = def method(a, b) -> str: Multi line               \\n\\n\"\n    assert result == expected\n\n\n@skip_pypy3\ndef test_inspect_text():\n    num_attributes = 34 if sys.version_info >= (3, 11) else 33\n    expected = (\n        \" <class 'str'> \\n\"\n        \" str(object='') -> str                          \\n\"\n        \" str(bytes_or_buffer[, encoding[, errors]]) ->  \\n\"\n        \" str                                            \\n\"\n        \"                                                \\n\"\n        f\" {num_attributes} attribute(s) not shown. Run                 \\n\"\n        \" inspect(inspect) for options.                  \\n\"\n        \"\\n\"\n    )\n    print(repr(expected))\n    assert render(\"Hello\") == expected\n\n\n@skip_pypy3\ndef test_inspect_empty_dict():\n    expected = (\n        \" <class 'dict'> \\n\"\n        \" dict() -> new empty dictionary                 \\n\"\n        \" dict(mapping) -> new dictionary initialized    \\n\"\n        \" from a mapping object's                        \\n\"\n        \"     (key, value) pairs                         \\n\"\n        \" dict(iterable) -> new dictionary initialized   \\n\"\n        \" as if via:                                     \\n\"\n        \"     d = {}                                     \\n\"\n        \"     for k, v in iterable:                      \\n\"\n        \"         d[k] = v                               \\n\"\n        \" dict(**kwargs) -> new dictionary initialized   \\n\"\n        \" with the name=value pairs                      \\n\"\n        \"     in the keyword argument list.  For         \\n\"\n        \" example:  dict(one=1, two=2)                   \\n\"\n        \"                                                \\n\"\n    )\n    assert render({}).startswith(expected)\n\n\n@skip_py313\n@skip_py312\n@skip_py311\n@skip_pypy3\ndef test_inspect_builtin_function_except_python311():\n    # Pre-3.11 Python versions - print builtin has no signature available\n    expected = (\n        \" <built-in function print> \\n\"\n        \" def print(...)                                 \\n\"\n        \"                                                \\n\"\n        \" print(value, ..., sep=' ', end='\\\\n',           \\n\"\n        \" file=sys.stdout, flush=False)                  \\n\"\n        \"                                                \\n\"\n        \" 29 attribute(s) not shown. Run                 \\n\"\n        \" inspect(inspect) for options.                  \\n\"\n        \"\\n\"\n    )\n    assert render(print) == expected\n\n\n@pytest.mark.skipif(\n    sys.version_info < (3, 11), reason=\"print builtin signature only available on 3.11+\"\n)\n@skip_pypy3\ndef test_inspect_builtin_function_only_python311():\n    # On 3.11, the print builtin *does* have a signature, unlike in prior versions\n    expected = (\n        \" <built-in function print> \\n\"\n        \" def print(*args, sep=' ', end='\\\\n', file=None, \\n\"\n        \" flush=False):                                  \\n\"\n        \"                                                \\n\"\n        \" Prints the values to a stream, or to           \\n\"\n        \" sys.stdout by default.                         \\n\"\n        \"                                                \\n\"\n        \" 30 attribute(s) not shown. Run                 \\n\"\n        \" inspect(inspect) for options.                  \\n\"\n        \"\\n\"\n    )\n    assert render(print) == expected\n\n\n@skip_pypy3\ndef test_inspect_coroutine():\n    async def coroutine():\n        pass\n\n    expected = (\n        \" <function test_inspect_coroutine.<locals>.cor\\n\"\n        \" async def                                      \\n\"\n        \" test_inspect_coroutine.<locals>.coroutine():   \\n\"\n    )\n    assert render(coroutine).startswith(expected)\n\n\ndef test_inspect_integer():\n    expected = (\n        \" <class 'int'> \\n\"\n        \" int([x]) -> integer        \\n\"\n        \" int(x, base=10) -> integer \\n\"\n        \"                            \\n\"\n        \" denominator = 1            \\n\"\n        \"        imag = 0            \\n\"\n        \"   numerator = 1            \\n\"\n        \"        real = 1            \\n\"\n        \"\\n\"\n    )\n    assert expected == render(1)\n\n\ndef test_inspect_integer_with_value():\n    expected = \" <class 'int'> \\n int([x]) -> integer        \\n int(x, base=10) -> integer \\n                            \\n  \\n  1                       \\n  \\n                            \\n denominator = 1            \\n        imag = 0            \\n   numerator = 1            \\n        real = 1            \\n\\n\"\n    value = render(1, value=True)\n    print(repr(value))\n    assert value == expected\n\n\n@skip_py310\n@skip_py311\n@skip_py312\n@skip_py313\ndef test_inspect_integer_with_methods_python38_and_python39():\n    expected = (\n        \" <class 'int'> \\n\"\n        \" int([x]) -> integer                            \\n\"\n        \" int(x, base=10) -> integer                     \\n\"\n        \"                                                \\n\"\n        \"      denominator = 1                           \\n\"\n        \"             imag = 0                           \\n\"\n        \"        numerator = 1                           \\n\"\n        \"             real = 1                           \\n\"\n        \" as_integer_ratio = def as_integer_ratio():     \\n\"\n        \"                    Return integer ratio.       \\n\"\n        \"       bit_length = def bit_length(): Number of \\n\"\n        \"                    bits necessary to represent \\n\"\n        \"                    self in binary.             \\n\"\n        \"        conjugate = def conjugate(...) Returns  \\n\"\n        \"                    self, the complex conjugate \\n\"\n        \"                    of any int.                 \\n\"\n        \"       from_bytes = def from_bytes(bytes,       \\n\"\n        \"                    byteorder, *,               \\n\"\n        \"                    signed=False): Return the   \\n\"\n        \"                    integer represented by the  \\n\"\n        \"                    given array of bytes.       \\n\"\n        \"         to_bytes = def to_bytes(length,        \\n\"\n        \"                    byteorder, *,               \\n\"\n        \"                    signed=False): Return an    \\n\"\n        \"                    array of bytes representing \\n\"\n        \"                    an integer.                 \\n\"\n        \"\\n\"\n    )\n    assert render(1, methods=True) == expected\n\n\n@skip_py38\n@skip_py39\n@skip_py311\n@skip_py312\n@skip_py313\ndef test_inspect_integer_with_methods_python310only():\n    expected = (\n        \" <class 'int'> \\n\"\n        \" int([x]) -> integer                            \\n\"\n        \" int(x, base=10) -> integer                     \\n\"\n        \"                                                \\n\"\n        \"      denominator = 1                           \\n\"\n        \"             imag = 0                           \\n\"\n        \"        numerator = 1                           \\n\"\n        \"             real = 1                           \\n\"\n        \" as_integer_ratio = def as_integer_ratio():     \\n\"\n        \"                    Return integer ratio.       \\n\"\n        \"        bit_count = def bit_count(): Number of  \\n\"\n        \"                    ones in the binary          \\n\"\n        \"                    representation of the       \\n\"\n        \"                    absolute value of self.     \\n\"\n        \"       bit_length = def bit_length(): Number of \\n\"\n        \"                    bits necessary to represent \\n\"\n        \"                    self in binary.             \\n\"\n        \"        conjugate = def conjugate(...) Returns  \\n\"\n        \"                    self, the complex conjugate \\n\"\n        \"                    of any int.                 \\n\"\n        \"       from_bytes = def from_bytes(bytes,       \\n\"\n        \"                    byteorder, *,               \\n\"\n        \"                    signed=False): Return the   \\n\"\n        \"                    integer represented by the  \\n\"\n        \"                    given array of bytes.       \\n\"\n        \"         to_bytes = def to_bytes(length,        \\n\"\n        \"                    byteorder, *,               \\n\"\n        \"                    signed=False): Return an    \\n\"\n        \"                    array of bytes representing \\n\"\n        \"                    an integer.                 \\n\"\n        \"\\n\"\n    )\n    assert render(1, methods=True) == expected\n\n\n@skip_py38\n@skip_py39\n@skip_py310\n@skip_py312\n@skip_py313\ndef test_inspect_integer_with_methods_python311():\n    # to_bytes and from_bytes methods on int had minor signature change -\n    # they now, as of 3.11, have default values for all of their parameters\n    expected = (\n        \" <class 'int'> \\n\"\n        \" int([x]) -> integer                            \\n\"\n        \" int(x, base=10) -> integer                     \\n\"\n        \"                                                \\n\"\n        \"      denominator = 1                           \\n\"\n        \"             imag = 0                           \\n\"\n        \"        numerator = 1                           \\n\"\n        \"             real = 1                           \\n\"\n        \" as_integer_ratio = def as_integer_ratio():     \\n\"\n        \"                    Return integer ratio.       \\n\"\n        \"        bit_count = def bit_count(): Number of  \\n\"\n        \"                    ones in the binary          \\n\"\n        \"                    representation of the       \\n\"\n        \"                    absolute value of self.     \\n\"\n        \"       bit_length = def bit_length(): Number of \\n\"\n        \"                    bits necessary to represent \\n\"\n        \"                    self in binary.             \\n\"\n        \"        conjugate = def conjugate(...) Returns  \\n\"\n        \"                    self, the complex conjugate \\n\"\n        \"                    of any int.                 \\n\"\n        \"       from_bytes = def from_bytes(bytes,       \\n\"\n        \"                    byteorder='big', *,         \\n\"\n        \"                    signed=False): Return the   \\n\"\n        \"                    integer represented by the  \\n\"\n        \"                    given array of bytes.       \\n\"\n        \"         to_bytes = def to_bytes(length=1,      \\n\"\n        \"                    byteorder='big', *,         \\n\"\n        \"                    signed=False): Return an    \\n\"\n        \"                    array of bytes representing \\n\"\n        \"                    an integer.                 \\n\"\n        \"\\n\"\n    )\n    assert render(1, methods=True) == expected\n\n\n@skip_pypy3\ndef test_broken_call_attr():\n    class NotCallable:\n        __call__ = 5  # Passes callable() but isn't really callable\n\n        def __repr__(self):\n            return \"NotCallable()\"\n\n    class Foo:\n        foo = NotCallable()\n\n    foo = Foo()\n    assert callable(foo.foo)\n    expected = \" <class 'tests.test_inspect.test_broken_call_attr.<locals>.Foo'> \\n foo = NotCallable()                                               \\n\\n\"\n    result = render(foo, methods=True, width=100)\n    print(repr(result))\n    assert expected == result\n\n\ndef test_inspect_swig_edge_case():\n    \"\"\"Issue #1838 - Edge case with Faiss library - object with empty dir()\"\"\"\n\n    class Thing:\n        @property\n        def __class__(self):\n            raise AttributeError\n\n    thing = Thing()\n    try:\n        inspect(thing)\n    except Exception as e:\n        assert False, f\"Object with no __class__ shouldn't raise {e}\"\n\n\ndef test_inspect_module_with_class():\n    def function():\n        pass\n\n    class Thing:\n        \"\"\"Docstring\"\"\"\n\n        pass\n\n    module = ModuleType(\"my_module\")\n    module.SomeClass = Thing\n    module.function = function\n\n    expected = (\n        \" <module 'my_module'> \\n\"\n        \"  function = def function():              \\n\"\n        \" SomeClass = class SomeClass(): Docstring \\n\"\n        \"\\n\"\n    )\n    assert render(module, methods=True) == expected\n\n\n@pytest.mark.parametrize(\n    \"special_character,expected_replacement\",\n    (\n        (\"\\a\", \"\\\\a\"),\n        (\"\\b\", \"\\\\b\"),\n        (\"\\f\", \"\\\\f\"),\n        (\"\\r\", \"\\\\r\"),\n        (\"\\v\", \"\\\\v\"),\n    ),\n)\ndef test_can_handle_special_characters_in_docstrings(\n    special_character: str, expected_replacement: str\n) -> None:\n    class Something:\n        class Thing:\n            pass\n\n    Something.Thing.__doc__ = f\"\"\"\n    Multiline docstring\n    with {special_character} should be handled\n    \"\"\"\n\n    expected = \"\"\"\\\n <class 'tests.test_inspect.test_can_handle_sp\n class                                          \n test_can_handle_special_characters_in_docstrin \n gs.<locals>.Something():                       \n                                                \n Thing = class Thing():                         \n         Multiline docstring                    \n         with %s should be handled              \n\n\"\"\" % (\n        expected_replacement\n    )\n    assert render(Something, methods=True) == expected\n\n\n@pytest.mark.parametrize(\n    \"obj,expected_result\",\n    (\n        [object, (object,)],\n        [object(), (object,)],\n        [\"hi\", (str, object)],\n        [str, (str, object)],\n        [Foo(1), (Foo, object)],\n        [Foo, (Foo, object)],\n        [FooSubclass(1), (FooSubclass, Foo, object)],\n        [FooSubclass, (FooSubclass, Foo, object)],\n    ),\n)\ndef test_object_types_mro(obj: object, expected_result: Sequence[Type]):\n    assert get_object_types_mro(obj) == expected_result\n\n\n@pytest.mark.parametrize(\n    \"obj,expected_result\",\n    (\n        # fmt: off\n        [\"hi\", [\"builtins.str\", \"builtins.object\"]],\n        [str, [\"builtins.str\", \"builtins.object\"]],\n        [Foo(1), [f\"{__name__}.Foo\", \"builtins.object\"]],\n        [Foo, [f\"{__name__}.Foo\", \"builtins.object\"]],\n        [FooSubclass(1),\n         [f\"{__name__}.FooSubclass\", f\"{__name__}.Foo\", \"builtins.object\"]],\n        [FooSubclass,\n         [f\"{__name__}.FooSubclass\", f\"{__name__}.Foo\", \"builtins.object\"]],\n        # fmt: on\n    ),\n)\ndef test_object_types_mro_as_strings(obj: object, expected_result: Sequence[str]):\n    assert get_object_types_mro_as_strings(obj) == expected_result\n\n\n@pytest.mark.parametrize(\n    \"obj,types,expected_result\",\n    (\n        # fmt: off\n        [\"hi\", [\"builtins.str\"], True],\n        [str, [\"builtins.str\"], True],\n        [\"hi\", [\"builtins.str\", \"foo\"], True],\n        [str, [\"builtins.str\", \"foo\"], True],\n        [Foo(1), [f\"{__name__}.Foo\"], True],\n        [Foo, [f\"{__name__}.Foo\"], True],\n        [Foo(1), [\"builtins.str\", f\"{__name__}.Foo\"], True],\n        [Foo, [\"builtins.int\", f\"{__name__}.Foo\"], True],\n        [Foo(1), [f\"{__name__}.FooSubclass\"], False],\n        [Foo, [f\"{__name__}.FooSubclass\"], False],\n        [Foo(1), [f\"{__name__}.FooSubclass\", f\"{__name__}.Foo\"], True],\n        [Foo, [f\"{__name__}.Foo\", f\"{__name__}.FooSubclass\"], True],\n        # fmt: on\n    ),\n)\ndef test_object_is_one_of_types(\n    obj: object, types: Sequence[str], expected_result: bool\n):\n    assert is_object_one_of_types(obj, types) is expected_result\n",
    "start_line": 0
  },
  {
    "file": "test_color.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from rich.color import (\n    blend_rgb,\n    parse_rgb_hex,\n    Color,\n    ColorParseError,\n    ColorSystem,\n    ColorType,\n    ColorTriplet,\n)\nfrom rich.style import Style\nfrom rich.text import Text, Span\nimport pytest",
    "start_line": 0
  },
  {
    "file": "test_color.py",
    "type": "function",
    "class": null,
    "method": "test_str",
    "name": "test_str",
    "content": "def test_str() -> None:\n    assert str(Color.parse(\"red\")) == \"Color('red', ColorType.STANDARD, number=1)\"",
    "start_line": 15
  },
  {
    "file": "test_color.py",
    "type": "function",
    "class": null,
    "method": "test_repr",
    "name": "test_repr",
    "content": "def test_repr() -> None:\n    assert repr(Color.parse(\"red\")) == \"Color('red', ColorType.STANDARD, number=1)\"",
    "start_line": 19
  },
  {
    "file": "test_color.py",
    "type": "function",
    "class": null,
    "method": "test_color_system_repr",
    "name": "test_color_system_repr",
    "content": "def test_color_system_repr() -> None:\n    assert repr(ColorSystem.EIGHT_BIT) == \"ColorSystem.EIGHT_BIT\"",
    "start_line": 23
  },
  {
    "file": "test_color.py",
    "type": "function",
    "class": null,
    "method": "test_rich",
    "name": "test_rich",
    "content": "def test_rich() -> None:",
    "start_line": 27
  },
  {
    "file": "test_color.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "color = Color.parse(\"red\")\n    as_text = color.__rich__()\n    print(repr(as_text))\n    print(repr(as_text.spans))\n    assert as_text == Text(\n        \"<color 'red' (standard) >\", spans=[Span(23, 24, Style(color=color))]\n    )",
    "start_line": 28
  },
  {
    "file": "test_color.py",
    "type": "function",
    "class": null,
    "method": "test_system",
    "name": "test_system",
    "content": "def test_system() -> None:\n    assert Color.parse(\"default\").system == ColorSystem.STANDARD\n    assert Color.parse(\"red\").system == ColorSystem.STANDARD\n    assert Color.parse(\"#ff0000\").system == ColorSystem.TRUECOLOR",
    "start_line": 37
  },
  {
    "file": "test_color.py",
    "type": "function",
    "class": null,
    "method": "test_windows",
    "name": "test_windows",
    "content": "def test_windows() -> None:\n    assert Color(\"red\", ColorType.WINDOWS, number=1).get_ansi_codes() == (\"31\",)",
    "start_line": 43
  },
  {
    "file": "test_color.py",
    "type": "function",
    "class": null,
    "method": "test_truecolor",
    "name": "test_truecolor",
    "content": "def test_truecolor() -> None:\n    assert Color.parse(\"#ff0000\").get_truecolor() == ColorTriplet(255, 0, 0)\n    assert Color.parse(\"red\").get_truecolor() == ColorTriplet(128, 0, 0)\n    assert Color.parse(\"color(1)\").get_truecolor() == ColorTriplet(128, 0, 0)\n    assert Color.parse(\"color(17)\").get_truecolor() == ColorTriplet(0, 0, 95)\n    assert Color.parse(\"default\").get_truecolor() == ColorTriplet(0, 0, 0)\n    assert Color.parse(\"default\").get_truecolor(foreground=False) == ColorTriplet(\n        255, 255, 255\n    )\n    assert Color(\"red\", ColorType.WINDOWS, number=1).get_truecolor() == ColorTriplet(\n        197, 15, 31\n    )",
    "start_line": 47
  },
  {
    "file": "test_color.py",
    "type": "function",
    "class": null,
    "method": "test_parse_success",
    "name": "test_parse_success",
    "content": "def test_parse_success() -> None:\n    assert Color.parse(\"default\") == Color(\"default\", ColorType.DEFAULT, None, None)\n    assert Color.parse(\"red\") == Color(\"red\", ColorType.STANDARD, 1, None)\n    assert Color.parse(\"bright_red\") == Color(\"bright_red\", ColorType.STANDARD, 9, None)\n    assert Color.parse(\"yellow4\") == Color(\"yellow4\", ColorType.EIGHT_BIT, 106, None)\n    assert Color.parse(\"color(100)\") == Color(\n        \"color(100)\", ColorType.EIGHT_BIT, 100, None\n    )\n    assert Color.parse(\"#112233\") == Color(\n        \"#112233\", ColorType.TRUECOLOR, None, ColorTriplet(0x11, 0x22, 0x33)\n    )\n    assert Color.parse(\"rgb(90,100,110)\") == Color(\n        \"rgb(90,100,110)\", ColorType.TRUECOLOR, None, ColorTriplet(90, 100, 110)\n    )",
    "start_line": 61
  },
  {
    "file": "test_color.py",
    "type": "function",
    "class": null,
    "method": "test_from_triplet",
    "name": "test_from_triplet",
    "content": "def test_from_triplet() -> None:\n    assert Color.from_triplet(ColorTriplet(0x10, 0x20, 0x30)) == Color(\n        \"#102030\", ColorType.TRUECOLOR, None, ColorTriplet(0x10, 0x20, 0x30)\n    )",
    "start_line": 77
  },
  {
    "file": "test_color.py",
    "type": "function",
    "class": null,
    "method": "test_from_rgb",
    "name": "test_from_rgb",
    "content": "def test_from_rgb() -> None:\n    assert Color.from_rgb(0x10, 0x20, 0x30) == Color(\n        \"#102030\", ColorType.TRUECOLOR, None, ColorTriplet(0x10, 0x20, 0x30)\n    )",
    "start_line": 83
  },
  {
    "file": "test_color.py",
    "type": "function",
    "class": null,
    "method": "test_from_ansi",
    "name": "test_from_ansi",
    "content": "def test_from_ansi() -> None:\n    assert Color.from_ansi(1) == Color(\"color(1)\", ColorType.STANDARD, 1)",
    "start_line": 89
  },
  {
    "file": "test_color.py",
    "type": "function",
    "class": null,
    "method": "test_default",
    "name": "test_default",
    "content": "def test_default() -> None:\n    assert Color.default() == Color(\"default\", ColorType.DEFAULT, None, None)",
    "start_line": 93
  },
  {
    "file": "test_color.py",
    "type": "function",
    "class": null,
    "method": "test_parse_error",
    "name": "test_parse_error",
    "content": "def test_parse_error() -> None:\n    with pytest.raises(ColorParseError):\n        Color.parse(\"256\")\n    with pytest.raises(ColorParseError):\n        Color.parse(\"color(256)\")\n    with pytest.raises(ColorParseError):\n        Color.parse(\"rgb(999,0,0)\")\n    with pytest.raises(ColorParseError):\n        Color.parse(\"rgb(0,0)\")\n    with pytest.raises(ColorParseError):\n        Color.parse(\"rgb(0,0,0,0)\")\n    with pytest.raises(ColorParseError):\n        Color.parse(\"nosuchcolor\")\n    with pytest.raises(ColorParseError):\n        Color.parse(\"#xxyyzz\")",
    "start_line": 97
  },
  {
    "file": "test_color.py",
    "type": "function",
    "class": null,
    "method": "test_get_ansi_codes",
    "name": "test_get_ansi_codes",
    "content": "def test_get_ansi_codes() -> None:\n    assert Color.parse(\"default\").get_ansi_codes() == (\"39\",)\n    assert Color.parse(\"default\").get_ansi_codes(False) == (\"49\",)\n    assert Color.parse(\"red\").get_ansi_codes() == (\"31\",)\n    assert Color.parse(\"red\").get_ansi_codes(False) == (\"41\",)\n    assert Color.parse(\"color(1)\").get_ansi_codes() == (\"31\",)\n    assert Color.parse(\"color(1)\").get_ansi_codes(False) == (\"41\",)\n    assert Color.parse(\"#ff0000\").get_ansi_codes() == (\"38\", \"2\", \"255\", \"0\", \"0\")\n    assert Color.parse(\"#ff0000\").get_ansi_codes(False) == (\"48\", \"2\", \"255\", \"0\", \"0\")",
    "start_line": 114
  },
  {
    "file": "test_color.py",
    "type": "function",
    "class": null,
    "method": "test_downgrade",
    "name": "test_downgrade",
    "content": "def test_downgrade() -> None:\n    assert Color.parse(\"color(9)\").downgrade(0) == Color(\n        \"color(9)\", ColorType.STANDARD, 9, None\n    )\n\n    assert Color.parse(\"#000000\").downgrade(ColorSystem.EIGHT_BIT) == Color(\n        \"#000000\", ColorType.EIGHT_BIT, 16, None\n    )\n\n    assert Color.parse(\"#ffffff\").downgrade(ColorSystem.EIGHT_BIT) == Color(\n        \"#ffffff\", ColorType.EIGHT_BIT, 231, None\n    )\n\n    assert Color.parse(\"#404142\").downgrade(ColorSystem.EIGHT_BIT) == Color(\n        \"#404142\", ColorType.EIGHT_BIT, 237, None\n    )\n\n    assert Color.parse(\"#ff0000\").downgrade(ColorSystem.EIGHT_BIT) == Color(\n        \"#ff0000\", ColorType.EIGHT_BIT, 196, None\n    )\n\n    assert Color.parse(\"#ff0000\").downgrade(ColorSystem.STANDARD) == Color(\n        \"#ff0000\", ColorType.STANDARD, 1, None\n    )\n\n    assert Color.parse(\"color(9)\").downgrade(ColorSystem.STANDARD) == Color(\n        \"color(9)\", ColorType.STANDARD, 9, None\n    )\n\n    assert Color.parse(\"color(20)\").downgrade(ColorSystem.STANDARD) == Color(\n        \"color(20)\", ColorType.STANDARD, 4, None\n    )\n\n    assert Color.parse(\"red\").downgrade(ColorSystem.WINDOWS) == Color(\n        \"red\", ColorType.WINDOWS, 1, None\n    )\n\n    assert Color.parse(\"bright_red\").downgrade(ColorSystem.WINDOWS) == Color(\n        \"bright_red\", ColorType.WINDOWS, 9, None\n    )\n\n    assert Color.parse(\"#ff0000\").downgrade(ColorSystem.WINDOWS) == Color(\n        \"#ff0000\", ColorType.WINDOWS, 1, None\n    )\n\n    assert Color.parse(\"color(255)\").downgrade(ColorSystem.WINDOWS) == Color(\n        \"color(255)\", ColorType.WINDOWS, 15, None\n    )\n\n    assert Color.parse(\"#00ff00\").downgrade(ColorSystem.STANDARD) == Color(\n        \"#00ff00\", ColorType.STANDARD, 2, None\n    )",
    "start_line": 125
  },
  {
    "file": "test_color.py",
    "type": "function",
    "class": null,
    "method": "test_parse_rgb_hex",
    "name": "test_parse_rgb_hex",
    "content": "def test_parse_rgb_hex() -> None:\n    assert parse_rgb_hex(\"aabbcc\") == ColorTriplet(0xAA, 0xBB, 0xCC)",
    "start_line": 179
  },
  {
    "file": "test_color.py",
    "type": "function",
    "class": null,
    "method": "test_blend_rgb",
    "name": "test_blend_rgb",
    "content": "def test_blend_rgb() -> None:\n    assert blend_rgb(\n        ColorTriplet(10, 20, 30), ColorTriplet(30, 40, 50)\n    ) == ColorTriplet(20, 30, 40)",
    "start_line": 183
  },
  {
    "file": "test_color.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "from rich.color import (\n    blend_rgb,\n    parse_rgb_hex,\n    Color,\n    ColorParseError,\n    ColorSystem,\n    ColorType,\n    ColorTriplet,\n)\nfrom rich.style import Style\nfrom rich.text import Text, Span\n\nimport pytest\n\n\ndef test_str() -> None:\n    assert str(Color.parse(\"red\")) == \"Color('red', ColorType.STANDARD, number=1)\"\n\n\ndef test_repr() -> None:\n    assert repr(Color.parse(\"red\")) == \"Color('red', ColorType.STANDARD, number=1)\"\n\n\ndef test_color_system_repr() -> None:\n    assert repr(ColorSystem.EIGHT_BIT) == \"ColorSystem.EIGHT_BIT\"\n\n\ndef test_rich() -> None:\n    color = Color.parse(\"red\")\n    as_text = color.__rich__()\n    print(repr(as_text))\n    print(repr(as_text.spans))\n    assert as_text == Text(\n        \"<color 'red' (standard) >\", spans=[Span(23, 24, Style(color=color))]\n    )\n\n\ndef test_system() -> None:\n    assert Color.parse(\"default\").system == ColorSystem.STANDARD\n    assert Color.parse(\"red\").system == ColorSystem.STANDARD\n    assert Color.parse(\"#ff0000\").system == ColorSystem.TRUECOLOR\n\n\ndef test_windows() -> None:\n    assert Color(\"red\", ColorType.WINDOWS, number=1).get_ansi_codes() == (\"31\",)\n\n\ndef test_truecolor() -> None:\n    assert Color.parse(\"#ff0000\").get_truecolor() == ColorTriplet(255, 0, 0)\n    assert Color.parse(\"red\").get_truecolor() == ColorTriplet(128, 0, 0)\n    assert Color.parse(\"color(1)\").get_truecolor() == ColorTriplet(128, 0, 0)\n    assert Color.parse(\"color(17)\").get_truecolor() == ColorTriplet(0, 0, 95)\n    assert Color.parse(\"default\").get_truecolor() == ColorTriplet(0, 0, 0)\n    assert Color.parse(\"default\").get_truecolor(foreground=False) == ColorTriplet(\n        255, 255, 255\n    )\n    assert Color(\"red\", ColorType.WINDOWS, number=1).get_truecolor() == ColorTriplet(\n        197, 15, 31\n    )\n\n\ndef test_parse_success() -> None:\n    assert Color.parse(\"default\") == Color(\"default\", ColorType.DEFAULT, None, None)\n    assert Color.parse(\"red\") == Color(\"red\", ColorType.STANDARD, 1, None)\n    assert Color.parse(\"bright_red\") == Color(\"bright_red\", ColorType.STANDARD, 9, None)\n    assert Color.parse(\"yellow4\") == Color(\"yellow4\", ColorType.EIGHT_BIT, 106, None)\n    assert Color.parse(\"color(100)\") == Color(\n        \"color(100)\", ColorType.EIGHT_BIT, 100, None\n    )\n    assert Color.parse(\"#112233\") == Color(\n        \"#112233\", ColorType.TRUECOLOR, None, ColorTriplet(0x11, 0x22, 0x33)\n    )\n    assert Color.parse(\"rgb(90,100,110)\") == Color(\n        \"rgb(90,100,110)\", ColorType.TRUECOLOR, None, ColorTriplet(90, 100, 110)\n    )\n\n\ndef test_from_triplet() -> None:\n    assert Color.from_triplet(ColorTriplet(0x10, 0x20, 0x30)) == Color(\n        \"#102030\", ColorType.TRUECOLOR, None, ColorTriplet(0x10, 0x20, 0x30)\n    )\n\n\ndef test_from_rgb() -> None:\n    assert Color.from_rgb(0x10, 0x20, 0x30) == Color(\n        \"#102030\", ColorType.TRUECOLOR, None, ColorTriplet(0x10, 0x20, 0x30)\n    )\n\n\ndef test_from_ansi() -> None:\n    assert Color.from_ansi(1) == Color(\"color(1)\", ColorType.STANDARD, 1)\n\n\ndef test_default() -> None:\n    assert Color.default() == Color(\"default\", ColorType.DEFAULT, None, None)\n\n\ndef test_parse_error() -> None:\n    with pytest.raises(ColorParseError):\n        Color.parse(\"256\")\n    with pytest.raises(ColorParseError):\n        Color.parse(\"color(256)\")\n    with pytest.raises(ColorParseError):\n        Color.parse(\"rgb(999,0,0)\")\n    with pytest.raises(ColorParseError):\n        Color.parse(\"rgb(0,0)\")\n    with pytest.raises(ColorParseError):\n        Color.parse(\"rgb(0,0,0,0)\")\n    with pytest.raises(ColorParseError):\n        Color.parse(\"nosuchcolor\")\n    with pytest.raises(ColorParseError):\n        Color.parse(\"#xxyyzz\")\n\n\ndef test_get_ansi_codes() -> None:\n    assert Color.parse(\"default\").get_ansi_codes() == (\"39\",)\n    assert Color.parse(\"default\").get_ansi_codes(False) == (\"49\",)\n    assert Color.parse(\"red\").get_ansi_codes() == (\"31\",)\n    assert Color.parse(\"red\").get_ansi_codes(False) == (\"41\",)\n    assert Color.parse(\"color(1)\").get_ansi_codes() == (\"31\",)\n    assert Color.parse(\"color(1)\").get_ansi_codes(False) == (\"41\",)\n    assert Color.parse(\"#ff0000\").get_ansi_codes() == (\"38\", \"2\", \"255\", \"0\", \"0\")\n    assert Color.parse(\"#ff0000\").get_ansi_codes(False) == (\"48\", \"2\", \"255\", \"0\", \"0\")\n\n\ndef test_downgrade() -> None:\n    assert Color.parse(\"color(9)\").downgrade(0) == Color(\n        \"color(9)\", ColorType.STANDARD, 9, None\n    )\n\n    assert Color.parse(\"#000000\").downgrade(ColorSystem.EIGHT_BIT) == Color(\n        \"#000000\", ColorType.EIGHT_BIT, 16, None\n    )\n\n    assert Color.parse(\"#ffffff\").downgrade(ColorSystem.EIGHT_BIT) == Color(\n        \"#ffffff\", ColorType.EIGHT_BIT, 231, None\n    )\n\n    assert Color.parse(\"#404142\").downgrade(ColorSystem.EIGHT_BIT) == Color(\n        \"#404142\", ColorType.EIGHT_BIT, 237, None\n    )\n\n    assert Color.parse(\"#ff0000\").downgrade(ColorSystem.EIGHT_BIT) == Color(\n        \"#ff0000\", ColorType.EIGHT_BIT, 196, None\n    )\n\n    assert Color.parse(\"#ff0000\").downgrade(ColorSystem.STANDARD) == Color(\n        \"#ff0000\", ColorType.STANDARD, 1, None\n    )\n\n    assert Color.parse(\"color(9)\").downgrade(ColorSystem.STANDARD) == Color(\n        \"color(9)\", ColorType.STANDARD, 9, None\n    )\n\n    assert Color.parse(\"color(20)\").downgrade(ColorSystem.STANDARD) == Color(\n        \"color(20)\", ColorType.STANDARD, 4, None\n    )\n\n    assert Color.parse(\"red\").downgrade(ColorSystem.WINDOWS) == Color(\n        \"red\", ColorType.WINDOWS, 1, None\n    )\n\n    assert Color.parse(\"bright_red\").downgrade(ColorSystem.WINDOWS) == Color(\n        \"bright_red\", ColorType.WINDOWS, 9, None\n    )\n\n    assert Color.parse(\"#ff0000\").downgrade(ColorSystem.WINDOWS) == Color(\n        \"#ff0000\", ColorType.WINDOWS, 1, None\n    )\n\n    assert Color.parse(\"color(255)\").downgrade(ColorSystem.WINDOWS) == Color(\n        \"color(255)\", ColorType.WINDOWS, 15, None\n    )\n\n    assert Color.parse(\"#00ff00\").downgrade(ColorSystem.STANDARD) == Color(\n        \"#00ff00\", ColorType.STANDARD, 2, None\n    )\n\n\ndef test_parse_rgb_hex() -> None:\n    assert parse_rgb_hex(\"aabbcc\") == ColorTriplet(0xAA, 0xBB, 0xCC)\n\n\ndef test_blend_rgb() -> None:\n    assert blend_rgb(\n        ColorTriplet(10, 20, 30), ColorTriplet(30, 40, 50)\n    ) == ColorTriplet(20, 30, 40)\n",
    "start_line": 0
  },
  {
    "file": "test_rule.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "import io\nimport pytest\nfrom rich.console import Console\nfrom rich.rule import Rule\nfrom rich.text import Text",
    "start_line": 0
  },
  {
    "file": "test_rule.py",
    "type": "function",
    "class": null,
    "method": "test_rule",
    "name": "test_rule",
    "content": "def test_rule():",
    "start_line": 9
  },
  {
    "file": "test_rule.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(\n        width=16,\n        file=io.StringIO(),\n        force_terminal=True,\n        legacy_windows=False,\n        _environ={},\n    )\n    console.print(Rule())\n    console.print(Rule(\"foo\"))\n    console.rule(Text(\"foo\", style=\"bold\"))\n    console.rule(\"foobarbazeggfoobarbazegg\")\n    expected = \"\\x1b[92m\\x1b[0m\\n\"\n    expected += \"\\x1b[92m \\x1b[0mfoo\\x1b[92m \\x1b[0m\\n\"\n    expected += \"\\x1b[92m \\x1b[0m\\x1b[1mfoo\\x1b[0m\\x1b[92m \\x1b[0m\\n\"\n    expected += \"\\x1b[92m \\x1b[0mfoobarbazeg\\x1b[92m \\x1b[0m\\n\"\n    result = console.file.getvalue()\n    assert result == expected",
    "start_line": 10
  },
  {
    "file": "test_rule.py",
    "type": "function",
    "class": null,
    "method": "test_rule_error",
    "name": "test_rule_error",
    "content": "def test_rule_error():",
    "start_line": 30
  },
  {
    "file": "test_rule.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(width=16, file=io.StringIO(), legacy_windows=False, _environ={})\n    with pytest.raises(ValueError):\n        console.rule(\"foo\", align=\"foo\")",
    "start_line": 31
  },
  {
    "file": "test_rule.py",
    "type": "function",
    "class": null,
    "method": "test_rule_align",
    "name": "test_rule_align",
    "content": "def test_rule_align():",
    "start_line": 36
  },
  {
    "file": "test_rule.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(width=16, file=io.StringIO(), legacy_windows=False, _environ={})\n    console.rule(\"foo\")\n    console.rule(\"foo\", align=\"left\")\n    console.rule(\"foo\", align=\"center\")\n    console.rule(\"foo\", align=\"right\")\n    console.rule()\n    result = console.file.getvalue()\n    print(repr(result))\n    expected = \" foo \\nfoo \\n foo \\n foo\\n\\n\"\n    assert result == expected",
    "start_line": 37
  },
  {
    "file": "test_rule.py",
    "type": "function",
    "class": null,
    "method": "test_rule_cjk",
    "name": "test_rule_cjk",
    "content": "def test_rule_cjk():",
    "start_line": 49
  },
  {
    "file": "test_rule.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(\n        width=16,\n        file=io.StringIO(),\n        force_terminal=True,\n        color_system=None,\n        legacy_windows=False,\n        _environ={},\n    )\n    console.rule(\"\")\n    expected = \"  \\n\"\n    assert console.file.getvalue() == expected\n@pytest.mark.parametrize(\n    \"align,outcome\",\n    [\n        (\"center\", \"\\n\"),\n        (\"left\", \" \\n\"),\n        (\"right\", \" \\n\"),\n    ],\n)",
    "start_line": 50
  },
  {
    "file": "test_rule.py",
    "type": "function",
    "class": null,
    "method": "test_rule_not_enough_space_for_title_text",
    "name": "test_rule_not_enough_space_for_title_text",
    "content": "def test_rule_not_enough_space_for_title_text(align, outcome):",
    "start_line": 71
  },
  {
    "file": "test_rule.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(width=3, file=io.StringIO(), record=True)\n    console.rule(\"Hello!\", align=align)\n    assert console.file.getvalue() == outcome",
    "start_line": 72
  },
  {
    "file": "test_rule.py",
    "type": "function",
    "class": null,
    "method": "test_rule_center_aligned_title_not_enough_space_for_rule",
    "name": "test_rule_center_aligned_title_not_enough_space_for_rule",
    "content": "def test_rule_center_aligned_title_not_enough_space_for_rule():",
    "start_line": 77
  },
  {
    "file": "test_rule.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(width=4, file=io.StringIO(), record=True)\n    console.rule(\"ABCD\")\n    assert console.file.getvalue() == \"\\n\"\n@pytest.mark.parametrize(\"align\", [\"left\", \"right\"])",
    "start_line": 78
  },
  {
    "file": "test_rule.py",
    "type": "function",
    "class": null,
    "method": "test_rule_side_aligned_not_enough_space_for_rule",
    "name": "test_rule_side_aligned_not_enough_space_for_rule",
    "content": "def test_rule_side_aligned_not_enough_space_for_rule(align):",
    "start_line": 84
  },
  {
    "file": "test_rule.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(width=2, file=io.StringIO(), record=True)\n    console.rule(\"ABCD\", align=align)\n    assert console.file.getvalue() == \"\\n\"\n@pytest.mark.parametrize(\n    \"align,outcome\",\n    [\n        (\"center\", \"  \\n\"),\n        (\"left\", \"AB \\n\"),\n        (\"right\", \" AB\\n\"),\n    ],\n)",
    "start_line": 85
  },
  {
    "file": "test_rule.py",
    "type": "function",
    "class": null,
    "method": "test_rule_just_enough_width_available_for_title",
    "name": "test_rule_just_enough_width_available_for_title",
    "content": "def test_rule_just_enough_width_available_for_title(align, outcome):",
    "start_line": 98
  },
  {
    "file": "test_rule.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(width=5, file=io.StringIO(), record=True)\n    console.rule(\"ABCD\", align=align)\n    assert console.file.getvalue() == outcome",
    "start_line": 99
  },
  {
    "file": "test_rule.py",
    "type": "function",
    "class": null,
    "method": "test_characters",
    "name": "test_characters",
    "content": "def test_characters():",
    "start_line": 104
  },
  {
    "file": "test_rule.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(\n        width=16,\n        file=io.StringIO(),\n        force_terminal=True,\n        color_system=None,\n        legacy_windows=False,\n        _environ={},\n    )\n    console.rule(characters=\"+*\")\n    console.rule(\"foo\", characters=\"+*\")\n    console.print(Rule(characters=\".,\"))\n    expected = \"+*+*+*+*+*+*+*+*\\n\"\n    expected += \"+*+*+ foo +*+*+*\\n\"\n    expected += \".,.,.,.,.,.,.,.,\\n\"\n    assert console.file.getvalue() == expected",
    "start_line": 105
  },
  {
    "file": "test_rule.py",
    "type": "function",
    "class": null,
    "method": "test_repr",
    "name": "test_repr",
    "content": "def test_repr():",
    "start_line": 122
  },
  {
    "file": "test_rule.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "rule = Rule(\"foo\")\n    assert isinstance(repr(rule), str)",
    "start_line": 123
  },
  {
    "file": "test_rule.py",
    "type": "function",
    "class": null,
    "method": "test_error",
    "name": "test_error",
    "content": "def test_error():\n    with pytest.raises(ValueError):\n        Rule(characters=\"\")",
    "start_line": 127
  },
  {
    "file": "test_rule.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "import io\n\nimport pytest\n\nfrom rich.console import Console\nfrom rich.rule import Rule\nfrom rich.text import Text\n\n\ndef test_rule():\n    console = Console(\n        width=16,\n        file=io.StringIO(),\n        force_terminal=True,\n        legacy_windows=False,\n        _environ={},\n    )\n    console.print(Rule())\n    console.print(Rule(\"foo\"))\n    console.rule(Text(\"foo\", style=\"bold\"))\n    console.rule(\"foobarbazeggfoobarbazegg\")\n    expected = \"\\x1b[92m\\x1b[0m\\n\"\n    expected += \"\\x1b[92m \\x1b[0mfoo\\x1b[92m \\x1b[0m\\n\"\n    expected += \"\\x1b[92m \\x1b[0m\\x1b[1mfoo\\x1b[0m\\x1b[92m \\x1b[0m\\n\"\n    expected += \"\\x1b[92m \\x1b[0mfoobarbazeg\\x1b[92m \\x1b[0m\\n\"\n\n    result = console.file.getvalue()\n    assert result == expected\n\n\ndef test_rule_error():\n    console = Console(width=16, file=io.StringIO(), legacy_windows=False, _environ={})\n    with pytest.raises(ValueError):\n        console.rule(\"foo\", align=\"foo\")\n\n\ndef test_rule_align():\n    console = Console(width=16, file=io.StringIO(), legacy_windows=False, _environ={})\n    console.rule(\"foo\")\n    console.rule(\"foo\", align=\"left\")\n    console.rule(\"foo\", align=\"center\")\n    console.rule(\"foo\", align=\"right\")\n    console.rule()\n    result = console.file.getvalue()\n    print(repr(result))\n    expected = \" foo \\nfoo \\n foo \\n foo\\n\\n\"\n    assert result == expected\n\n\ndef test_rule_cjk():\n    console = Console(\n        width=16,\n        file=io.StringIO(),\n        force_terminal=True,\n        color_system=None,\n        legacy_windows=False,\n        _environ={},\n    )\n    console.rule(\"\")\n    expected = \"  \\n\"\n    assert console.file.getvalue() == expected\n\n\n@pytest.mark.parametrize(\n    \"align,outcome\",\n    [\n        (\"center\", \"\\n\"),\n        (\"left\", \" \\n\"),\n        (\"right\", \" \\n\"),\n    ],\n)\ndef test_rule_not_enough_space_for_title_text(align, outcome):\n    console = Console(width=3, file=io.StringIO(), record=True)\n    console.rule(\"Hello!\", align=align)\n    assert console.file.getvalue() == outcome\n\n\ndef test_rule_center_aligned_title_not_enough_space_for_rule():\n    console = Console(width=4, file=io.StringIO(), record=True)\n    console.rule(\"ABCD\")\n    assert console.file.getvalue() == \"\\n\"\n\n\n@pytest.mark.parametrize(\"align\", [\"left\", \"right\"])\ndef test_rule_side_aligned_not_enough_space_for_rule(align):\n    console = Console(width=2, file=io.StringIO(), record=True)\n    console.rule(\"ABCD\", align=align)\n    assert console.file.getvalue() == \"\\n\"\n\n\n@pytest.mark.parametrize(\n    \"align,outcome\",\n    [\n        (\"center\", \"  \\n\"),\n        (\"left\", \"AB \\n\"),\n        (\"right\", \" AB\\n\"),\n    ],\n)\ndef test_rule_just_enough_width_available_for_title(align, outcome):\n    console = Console(width=5, file=io.StringIO(), record=True)\n    console.rule(\"ABCD\", align=align)\n    assert console.file.getvalue() == outcome\n\n\ndef test_characters():\n    console = Console(\n        width=16,\n        file=io.StringIO(),\n        force_terminal=True,\n        color_system=None,\n        legacy_windows=False,\n        _environ={},\n    )\n    console.rule(characters=\"+*\")\n    console.rule(\"foo\", characters=\"+*\")\n    console.print(Rule(characters=\".,\"))\n    expected = \"+*+*+*+*+*+*+*+*\\n\"\n    expected += \"+*+*+ foo +*+*+*\\n\"\n    expected += \".,.,.,.,.,.,.,.,\\n\"\n    assert console.file.getvalue() == expected\n\n\ndef test_repr():\n    rule = Rule(\"foo\")\n    assert isinstance(repr(rule), str)\n\n\ndef test_error():\n    with pytest.raises(ValueError):\n        Rule(characters=\"\")\n",
    "start_line": 0
  },
  {
    "file": "test_columns.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# encoding=utf-8",
    "start_line": 0
  },
  {
    "file": "test_columns.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "import io\nfrom rich.columns import Columns\nfrom rich.console import Console",
    "start_line": 2
  },
  {
    "file": "test_columns.py",
    "type": "constants",
    "class": null,
    "method": null,
    "name": "module_constants",
    "content": "COLUMN_DATA = [\n    \"Ursus americanus\",\n    \"American buffalo\",\n    \"Bison bison\",\n    \"American crow\",\n    \"Corvus brachyrhynchos\",\n    \"American marten\",\n    \"Martes americana\",\n    \"American racer\",\n    \"Coluber constrictor\",\n    \"American woodcock\",\n    \"Scolopax minor\",\n    \"Anaconda (unidentified)\",\n    \"Eunectes sp.\",\n    \"Andean goose\",\n    \"Chloephaga melanoptera\",\n    \"Ant\",\n    \"Anteater, australian spiny\",\n    \"Tachyglossus aculeatus\",\n    \"Anteater, giant\",\n]",
    "start_line": 7
  },
  {
    "file": "test_columns.py",
    "type": "function",
    "class": null,
    "method": "render",
    "name": "render",
    "content": "def render():",
    "start_line": 30
  },
  {
    "file": "test_columns.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(file=io.StringIO(), width=100, legacy_windows=False)\n    console.rule(\"empty\")\n    empty_columns = Columns([])\n    console.print(empty_columns)\n    columns = Columns(COLUMN_DATA)\n    columns.add_renderable(\"Myrmecophaga tridactyla\")\n    console.rule(\"optimal\")\n    console.print(columns)\n    console.rule(\"optimal, expand\")\n    columns.expand = True\n    console.print(columns)\n    console.rule(\"column first, optimal\")\n    columns.column_first = True\n    columns.expand = False\n    console.print(columns)\n    console.rule(\"column first, right to left\")\n    columns.right_to_left = True\n    console.print(columns)\n    console.rule(\"equal columns, expand\")\n    columns.equal = True\n    columns.expand = True\n    console.print(columns)\n    console.rule(\"fixed width\")\n    columns.width = 16\n    columns.expand = False\n    console.print(columns)\n    console.print()\n    render_result = console.file.getvalue()\n    return render_result",
    "start_line": 31
  },
  {
    "file": "test_columns.py",
    "type": "function",
    "class": null,
    "method": "test_render",
    "name": "test_render",
    "content": "def test_render():",
    "start_line": 63
  },
  {
    "file": "test_columns.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "expected = \" empty \\n optimal \\nUrsus americanus           American buffalo       Bison bison            American crow          \\nCorvus brachyrhynchos      American marten        Martes americana       American racer         \\nColuber constrictor        American woodcock      Scolopax minor         Anaconda (unidentified)\\nEunectes sp.               Andean goose           Chloephaga melanoptera Ant                    \\nAnteater, australian spiny Tachyglossus aculeatus Anteater, giant        Myrmecophaga tridactyla\\n optimal, expand \\nUrsus americanus             American buffalo        Bison bison             American crow          \\nCorvus brachyrhynchos        American marten         Martes americana        American racer         \\nColuber constrictor          American woodcock       Scolopax minor          Anaconda (unidentified)\\nEunectes sp.                 Andean goose            Chloephaga melanoptera  Ant                    \\nAnteater, australian spiny   Tachyglossus aculeatus  Anteater, giant         Myrmecophaga tridactyla\\n column first, optimal \\nUrsus americanus      American marten     Scolopax minor          Ant                       \\nAmerican buffalo      Martes americana    Anaconda (unidentified) Anteater, australian spiny\\nBison bison           American racer      Eunectes sp.            Tachyglossus aculeatus    \\nAmerican crow         Coluber constrictor Andean goose            Anteater, giant           \\nCorvus brachyrhynchos American woodcock   Chloephaga melanoptera  Myrmecophaga tridactyla   \\n column first, right to left \\nAnt                        Scolopax minor          American marten     Ursus americanus     \\nAnteater, australian spiny Anaconda (unidentified) Martes americana    American buffalo     \\nTachyglossus aculeatus     Eunectes sp.            American racer      Bison bison          \\nAnteater, giant            Andean goose            Coluber constrictor American crow        \\nMyrmecophaga tridactyla    Chloephaga melanoptera  American woodcock   Corvus brachyrhynchos\\n equal columns, expand \\nChloephaga melanoptera                American racer                    Ursus americanus            \\nAnt                                   Coluber constrictor               American buffalo            \\nAnteater, australian spiny            American woodcock                 Bison bison                 \\nTachyglossus aculeatus                Scolopax minor                    American crow               \\nAnteater, giant                       Anaconda (unidentified)           Corvus brachyrhynchos       \\nMyrmecophaga tridactyla               Eunectes sp.                      American marten             \\n                                      Andean goose                      Martes americana            \\n fixed width \\nAnteater,         Eunectes sp.     Coluber          Corvus           Ursus americanus \\naustralian spiny                   constrictor      brachyrhynchos                    \\nTachyglossus      Andean goose     American         American marten  American buffalo \\naculeatus                          woodcock                                           \\nAnteater, giant   Chloephaga       Scolopax minor   Martes americana Bison bison      \\n                  melanoptera                                                         \\nMyrmecophaga      Ant              Anaconda         American racer   American crow    \\ntridactyla                         (unidentified)                                     \\n\\n\"\n    assert render() == expected\nif __name__ == \"__main__\":\n    result = render()\n    print(result)\n    print(repr(result))",
    "start_line": 64
  },
  {
    "file": "test_columns.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "# encoding=utf-8\n\nimport io\n\nfrom rich.columns import Columns\nfrom rich.console import Console\n\nCOLUMN_DATA = [\n    \"Ursus americanus\",\n    \"American buffalo\",\n    \"Bison bison\",\n    \"American crow\",\n    \"Corvus brachyrhynchos\",\n    \"American marten\",\n    \"Martes americana\",\n    \"American racer\",\n    \"Coluber constrictor\",\n    \"American woodcock\",\n    \"Scolopax minor\",\n    \"Anaconda (unidentified)\",\n    \"Eunectes sp.\",\n    \"Andean goose\",\n    \"Chloephaga melanoptera\",\n    \"Ant\",\n    \"Anteater, australian spiny\",\n    \"Tachyglossus aculeatus\",\n    \"Anteater, giant\",\n]\n\n\ndef render():\n    console = Console(file=io.StringIO(), width=100, legacy_windows=False)\n\n    console.rule(\"empty\")\n    empty_columns = Columns([])\n    console.print(empty_columns)\n    columns = Columns(COLUMN_DATA)\n    columns.add_renderable(\"Myrmecophaga tridactyla\")\n    console.rule(\"optimal\")\n    console.print(columns)\n    console.rule(\"optimal, expand\")\n    columns.expand = True\n    console.print(columns)\n    console.rule(\"column first, optimal\")\n    columns.column_first = True\n    columns.expand = False\n    console.print(columns)\n    console.rule(\"column first, right to left\")\n    columns.right_to_left = True\n    console.print(columns)\n    console.rule(\"equal columns, expand\")\n    columns.equal = True\n    columns.expand = True\n    console.print(columns)\n    console.rule(\"fixed width\")\n    columns.width = 16\n    columns.expand = False\n    console.print(columns)\n    console.print()\n    render_result = console.file.getvalue()\n    return render_result\n\n\ndef test_render():\n    expected = \" empty \\n optimal \\nUrsus americanus           American buffalo       Bison bison            American crow          \\nCorvus brachyrhynchos      American marten        Martes americana       American racer         \\nColuber constrictor        American woodcock      Scolopax minor         Anaconda (unidentified)\\nEunectes sp.               Andean goose           Chloephaga melanoptera Ant                    \\nAnteater, australian spiny Tachyglossus aculeatus Anteater, giant        Myrmecophaga tridactyla\\n optimal, expand \\nUrsus americanus             American buffalo        Bison bison             American crow          \\nCorvus brachyrhynchos        American marten         Martes americana        American racer         \\nColuber constrictor          American woodcock       Scolopax minor          Anaconda (unidentified)\\nEunectes sp.                 Andean goose            Chloephaga melanoptera  Ant                    \\nAnteater, australian spiny   Tachyglossus aculeatus  Anteater, giant         Myrmecophaga tridactyla\\n column first, optimal \\nUrsus americanus      American marten     Scolopax minor          Ant                       \\nAmerican buffalo      Martes americana    Anaconda (unidentified) Anteater, australian spiny\\nBison bison           American racer      Eunectes sp.            Tachyglossus aculeatus    \\nAmerican crow         Coluber constrictor Andean goose            Anteater, giant           \\nCorvus brachyrhynchos American woodcock   Chloephaga melanoptera  Myrmecophaga tridactyla   \\n column first, right to left \\nAnt                        Scolopax minor          American marten     Ursus americanus     \\nAnteater, australian spiny Anaconda (unidentified) Martes americana    American buffalo     \\nTachyglossus aculeatus     Eunectes sp.            American racer      Bison bison          \\nAnteater, giant            Andean goose            Coluber constrictor American crow        \\nMyrmecophaga tridactyla    Chloephaga melanoptera  American woodcock   Corvus brachyrhynchos\\n equal columns, expand \\nChloephaga melanoptera                American racer                    Ursus americanus            \\nAnt                                   Coluber constrictor               American buffalo            \\nAnteater, australian spiny            American woodcock                 Bison bison                 \\nTachyglossus aculeatus                Scolopax minor                    American crow               \\nAnteater, giant                       Anaconda (unidentified)           Corvus brachyrhynchos       \\nMyrmecophaga tridactyla               Eunectes sp.                      American marten             \\n                                      Andean goose                      Martes americana            \\n fixed width \\nAnteater,         Eunectes sp.     Coluber          Corvus           Ursus americanus \\naustralian spiny                   constrictor      brachyrhynchos                    \\nTachyglossus      Andean goose     American         American marten  American buffalo \\naculeatus                          woodcock                                           \\nAnteater, giant   Chloephaga       Scolopax minor   Martes americana Bison bison      \\n                  melanoptera                                                         \\nMyrmecophaga      Ant              Anaconda         American racer   American crow    \\ntridactyla                         (unidentified)                                     \\n\\n\"\n    assert render() == expected\n\n\nif __name__ == \"__main__\":\n    result = render()\n    print(result)\n    print(repr(result))\n",
    "start_line": 0
  },
  {
    "file": "test_repr.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from typing import Optional\nimport pytest\nimport rich.repr\nfrom rich.console import Console\nfrom inspect import Parameter\n@rich.repr.auto",
    "start_line": 0
  },
  {
    "file": "test_repr.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "Foo",
    "content": "class Foo:",
    "start_line": 11
  },
  {
    "file": "test_repr.py",
    "type": "method",
    "class": "Foo",
    "method": "__init__",
    "name": "__init__",
    "content": "class Foo:\n    def __init__(self, foo: str, bar: Optional[int] = None, egg: int = 1):\n        self.foo = foo\n        self.bar = bar\n        self.egg = egg",
    "start_line": 12
  },
  {
    "file": "test_repr.py",
    "type": "method",
    "class": "Foo",
    "method": "__rich_repr__",
    "name": "__rich_repr__",
    "content": "class Foo:\n    def __rich_repr__(self):\n        yield self.foo\n        yield None, self.foo,\n        yield \"bar\", self.bar, None\n        yield \"egg\", self.egg\n\n\n@rich.repr.auto",
    "start_line": 17
  },
  {
    "file": "test_repr.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "Egg",
    "content": "class Egg:",
    "start_line": 25
  },
  {
    "file": "test_repr.py",
    "type": "method",
    "class": "Egg",
    "method": "__init__",
    "name": "__init__",
    "content": "class Egg:\n    def __init__(self, foo: str, bar: Optional[int] = None, egg: int = 1):\n        self.foo = foo\n        self.bar = bar\n        self.egg = egg\n\n\n@rich.repr.auto",
    "start_line": 26
  },
  {
    "file": "test_repr.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "BrokenEgg",
    "content": "class BrokenEgg:",
    "start_line": 33
  },
  {
    "file": "test_repr.py",
    "type": "method",
    "class": "BrokenEgg",
    "method": "__init__",
    "name": "__init__",
    "content": "class BrokenEgg:\n    def __init__(self, foo: str, *, bar: Optional[int] = None, egg: int = 1):\n        self.foo = foo\n        self.fubar = bar\n        self.egg = egg\n\n\n@rich.repr.auto(angular=True)",
    "start_line": 34
  },
  {
    "file": "test_repr.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "AngularEgg",
    "content": "class AngularEgg:",
    "start_line": 41
  },
  {
    "file": "test_repr.py",
    "type": "method",
    "class": "AngularEgg",
    "method": "__init__",
    "name": "__init__",
    "content": "class AngularEgg:\n    def __init__(self, foo: str, *, bar: Optional[int] = None, egg: int = 1):\n        self.foo = foo\n        self.bar = bar\n        self.egg = egg\n\n\n@rich.repr.auto",
    "start_line": 42
  },
  {
    "file": "test_repr.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "Bar",
    "content": "class Bar(Foo):",
    "start_line": 49
  },
  {
    "file": "test_repr.py",
    "type": "method",
    "class": "Bar",
    "method": "__rich_repr__",
    "name": "__rich_repr__",
    "content": "class Bar:\n    def __rich_repr__(self):\n        yield (self.foo,)\n        yield None, self.foo,\n        yield \"bar\", self.bar, None\n        yield \"egg\", self.egg\n\n    __rich_repr__.angular = True",
    "start_line": 50
  },
  {
    "file": "test_repr.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "StupidClass",
    "content": "class StupidClass:",
    "start_line": 59
  },
  {
    "file": "test_repr.py",
    "type": "method",
    "class": "StupidClass",
    "method": "__init__",
    "name": "__init__",
    "content": "class StupidClass:\n    def __init__(self, a):\n        self.a = a",
    "start_line": 60
  },
  {
    "file": "test_repr.py",
    "type": "method",
    "class": "StupidClass",
    "method": "__eq__",
    "name": "__eq__",
    "content": "class StupidClass:\n    def __eq__(self, other) -> bool:\n        if other is Parameter.empty:\n            return True\n        try:\n            return self.a == other.a\n        except Exception:\n            return False",
    "start_line": 63
  },
  {
    "file": "test_repr.py",
    "type": "method",
    "class": "StupidClass",
    "method": "__ne__",
    "name": "__ne__",
    "content": "class StupidClass:\n    def __ne__(self, other: object) -> bool:\n        return not self.__eq__(other)",
    "start_line": 71
  },
  {
    "file": "test_repr.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "NotStupid",
    "content": "class NotStupid:\n    pass\n\n\n@rich.repr.auto",
    "start_line": 75
  },
  {
    "file": "test_repr.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "Bird",
    "content": "class Bird:",
    "start_line": 80
  },
  {
    "file": "test_repr.py",
    "type": "method",
    "class": "Bird",
    "method": "__init__",
    "name": "__init__",
    "content": "class Bird:\n    def __init__(\n        self, name, eats, fly=True, another=StupidClass(2), extinct=NotStupid()\n    ):\n        self.name = name\n        self.eats = eats\n        self.fly = fly\n        self.another = another\n        self.extinct = extinct",
    "start_line": 81
  },
  {
    "file": "test_repr.py",
    "type": "function",
    "class": null,
    "method": "test_rich_repr",
    "name": "test_rich_repr",
    "content": "def test_rich_repr() -> None:\n    assert (repr(Foo(\"hello\"))) == \"Foo('hello', 'hello', egg=1)\"\n    assert (repr(Foo(\"hello\", bar=3))) == \"Foo('hello', 'hello', bar=3, egg=1)\"",
    "start_line": 91
  },
  {
    "file": "test_repr.py",
    "type": "function",
    "class": null,
    "method": "test_rich_repr_positional_only",
    "name": "test_rich_repr_positional_only",
    "content": "def test_rich_repr_positional_only() -> None:",
    "start_line": 96
  },
  {
    "file": "test_repr.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "_locals = locals().copy()\n    exec(\n        \"\"\"\\\n@rich.repr.auto",
    "start_line": 97
  },
  {
    "file": "test_repr.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "PosOnly",
    "content": "class PosOnly:",
    "start_line": 101
  },
  {
    "file": "test_repr.py",
    "type": "method",
    "class": "PosOnly",
    "method": "__init__",
    "name": "__init__",
    "content": "class PosOnly:\n    def __init__(self, foo, /):\n        self.foo = 1\n    \"\"\",\n        globals(),\n        _locals,\n    )\n    p = _locals[\"PosOnly\"](1)\n    assert repr(p) == \"PosOnly(1)\"",
    "start_line": 102
  },
  {
    "file": "test_repr.py",
    "type": "function",
    "class": null,
    "method": "test_rich_angular",
    "name": "test_rich_angular",
    "content": "def test_rich_angular() -> None:\n    assert (repr(Bar(\"hello\"))) == \"<Bar 'hello' 'hello' egg=1>\"\n    assert (repr(Bar(\"hello\", bar=3))) == \"<Bar 'hello' 'hello' bar=3 egg=1>\"",
    "start_line": 112
  },
  {
    "file": "test_repr.py",
    "type": "function",
    "class": null,
    "method": "test_rich_repr_auto",
    "name": "test_rich_repr_auto",
    "content": "def test_rich_repr_auto() -> None:\n    assert repr(Egg(\"hello\", egg=2)) == \"Egg('hello', egg=2)\"",
    "start_line": 117
  },
  {
    "file": "test_repr.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "stupid_class = StupidClass(9)\n    not_stupid = NotStupid()\n    assert (\n        repr(Bird(\"penguin\", [\"fish\"], another=stupid_class, extinct=not_stupid))\n        == f\"Bird('penguin', ['fish'], another={repr(stupid_class)}, extinct={repr(not_stupid)})\"\n    )",
    "start_line": 119
  },
  {
    "file": "test_repr.py",
    "type": "function",
    "class": null,
    "method": "test_rich_repr_auto_angular",
    "name": "test_rich_repr_auto_angular",
    "content": "def test_rich_repr_auto_angular() -> None:\n    assert repr(AngularEgg(\"hello\", egg=2)) == \"<AngularEgg 'hello' egg=2>\"",
    "start_line": 127
  },
  {
    "file": "test_repr.py",
    "type": "function",
    "class": null,
    "method": "test_broken_egg",
    "name": "test_broken_egg",
    "content": "def test_broken_egg() -> None:\n    with pytest.raises(rich.repr.ReprError):\n        repr(BrokenEgg(\"foo\"))",
    "start_line": 131
  },
  {
    "file": "test_repr.py",
    "type": "function",
    "class": null,
    "method": "test_rich_pretty",
    "name": "test_rich_pretty",
    "content": "def test_rich_pretty() -> None:",
    "start_line": 136
  },
  {
    "file": "test_repr.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console()\n    with console.capture() as capture:\n        console.print(Foo(\"hello\", bar=3))\n    result = capture.get()\n    expected = \"Foo('hello', 'hello', bar=3, egg=1)\\n\"\n    assert result == expected",
    "start_line": 137
  },
  {
    "file": "test_repr.py",
    "type": "function",
    "class": null,
    "method": "test_rich_pretty_angular",
    "name": "test_rich_pretty_angular",
    "content": "def test_rich_pretty_angular() -> None:",
    "start_line": 145
  },
  {
    "file": "test_repr.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console()\n    with console.capture() as capture:\n        console.print(Bar(\"hello\", bar=3))\n    result = capture.get()\n    expected = \"<Bar 'hello' 'hello' bar=3 egg=1>\\n\"\n    assert result == expected",
    "start_line": 146
  },
  {
    "file": "test_repr.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "from typing import Optional\n\nimport pytest\n\nimport rich.repr\nfrom rich.console import Console\n\nfrom inspect import Parameter\n\n\n@rich.repr.auto\nclass Foo:\n    def __init__(self, foo: str, bar: Optional[int] = None, egg: int = 1):\n        self.foo = foo\n        self.bar = bar\n        self.egg = egg\n\n    def __rich_repr__(self):\n        yield self.foo\n        yield None, self.foo,\n        yield \"bar\", self.bar, None\n        yield \"egg\", self.egg\n\n\n@rich.repr.auto\nclass Egg:\n    def __init__(self, foo: str, bar: Optional[int] = None, egg: int = 1):\n        self.foo = foo\n        self.bar = bar\n        self.egg = egg\n\n\n@rich.repr.auto\nclass BrokenEgg:\n    def __init__(self, foo: str, *, bar: Optional[int] = None, egg: int = 1):\n        self.foo = foo\n        self.fubar = bar\n        self.egg = egg\n\n\n@rich.repr.auto(angular=True)\nclass AngularEgg:\n    def __init__(self, foo: str, *, bar: Optional[int] = None, egg: int = 1):\n        self.foo = foo\n        self.bar = bar\n        self.egg = egg\n\n\n@rich.repr.auto\nclass Bar(Foo):\n    def __rich_repr__(self):\n        yield (self.foo,)\n        yield None, self.foo,\n        yield \"bar\", self.bar, None\n        yield \"egg\", self.egg\n\n    __rich_repr__.angular = True\n\n\nclass StupidClass:\n    def __init__(self, a):\n        self.a = a\n\n    def __eq__(self, other) -> bool:\n        if other is Parameter.empty:\n            return True\n        try:\n            return self.a == other.a\n        except Exception:\n            return False\n\n    def __ne__(self, other: object) -> bool:\n        return not self.__eq__(other)\n\n\nclass NotStupid:\n    pass\n\n\n@rich.repr.auto\nclass Bird:\n    def __init__(\n        self, name, eats, fly=True, another=StupidClass(2), extinct=NotStupid()\n    ):\n        self.name = name\n        self.eats = eats\n        self.fly = fly\n        self.another = another\n        self.extinct = extinct\n\n\ndef test_rich_repr() -> None:\n    assert (repr(Foo(\"hello\"))) == \"Foo('hello', 'hello', egg=1)\"\n    assert (repr(Foo(\"hello\", bar=3))) == \"Foo('hello', 'hello', bar=3, egg=1)\"\n\n\ndef test_rich_repr_positional_only() -> None:\n    _locals = locals().copy()\n    exec(\n        \"\"\"\\\n@rich.repr.auto\nclass PosOnly:\n    def __init__(self, foo, /):\n        self.foo = 1\n    \"\"\",\n        globals(),\n        _locals,\n    )\n    p = _locals[\"PosOnly\"](1)\n    assert repr(p) == \"PosOnly(1)\"\n\n\ndef test_rich_angular() -> None:\n    assert (repr(Bar(\"hello\"))) == \"<Bar 'hello' 'hello' egg=1>\"\n    assert (repr(Bar(\"hello\", bar=3))) == \"<Bar 'hello' 'hello' bar=3 egg=1>\"\n\n\ndef test_rich_repr_auto() -> None:\n    assert repr(Egg(\"hello\", egg=2)) == \"Egg('hello', egg=2)\"\n    stupid_class = StupidClass(9)\n    not_stupid = NotStupid()\n    assert (\n        repr(Bird(\"penguin\", [\"fish\"], another=stupid_class, extinct=not_stupid))\n        == f\"Bird('penguin', ['fish'], another={repr(stupid_class)}, extinct={repr(not_stupid)})\"\n    )\n\n\ndef test_rich_repr_auto_angular() -> None:\n    assert repr(AngularEgg(\"hello\", egg=2)) == \"<AngularEgg 'hello' egg=2>\"\n\n\ndef test_broken_egg() -> None:\n    with pytest.raises(rich.repr.ReprError):\n        repr(BrokenEgg(\"foo\"))\n\n\ndef test_rich_pretty() -> None:\n    console = Console()\n    with console.capture() as capture:\n        console.print(Foo(\"hello\", bar=3))\n    result = capture.get()\n    expected = \"Foo('hello', 'hello', bar=3, egg=1)\\n\"\n    assert result == expected\n\n\ndef test_rich_pretty_angular() -> None:\n    console = Console()\n    with console.capture() as capture:\n        console.print(Bar(\"hello\", bar=3))\n    result = capture.get()\n    expected = \"<Bar 'hello' 'hello' bar=3 egg=1>\\n\"\n    assert result == expected\n",
    "start_line": 0
  },
  {
    "file": "test_card.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "import io\nimport re\nfrom rich.__main__ import make_test_card\nfrom rich.console import Console, RenderableType\nfrom ._card_render import expected",
    "start_line": 0
  },
  {
    "file": "test_card.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "re_link_ids = re.compile(r\"id=[\\d\\.\\-]*?;.*?\\x1b\")",
    "start_line": 8
  },
  {
    "file": "test_card.py",
    "type": "function",
    "class": null,
    "method": "replace_link_ids",
    "name": "replace_link_ids",
    "content": "def replace_link_ids(render: str) -> str:\n    \"\"\"Link IDs have a random ID and system path which is a problem for\n    reproducible tests.\n\n    \"\"\"\n    return re_link_ids.sub(\"id=0;foo\\x1b\", render)",
    "start_line": 11
  },
  {
    "file": "test_card.py",
    "type": "function",
    "class": null,
    "method": "render",
    "name": "render",
    "content": "def render(renderable: RenderableType) -> str:",
    "start_line": 19
  },
  {
    "file": "test_card.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(\n        width=100, file=io.StringIO(), color_system=\"truecolor\", legacy_windows=False\n    )\n    console.print(renderable)\n    output = replace_link_ids(console.file.getvalue())\n    return output",
    "start_line": 20
  },
  {
    "file": "test_card.py",
    "type": "function",
    "class": null,
    "method": "test_card_render",
    "name": "test_card_render",
    "content": "def test_card_render():",
    "start_line": 28
  },
  {
    "file": "test_card.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "card = make_test_card()\n    result = render(card)\n    print(repr(result))\n    assert result == expected\nif __name__ == \"__main__\":\n    card = make_test_card()\n    with open(\"_card_render.py\", \"wt\") as fh:\n        card_render = render(card)\n        print(card_render)\n        fh.write(f\"expected={card_render!r}\")",
    "start_line": 29
  },
  {
    "file": "test_card.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "import io\nimport re\n\nfrom rich.__main__ import make_test_card\nfrom rich.console import Console, RenderableType\n\nfrom ._card_render import expected\n\nre_link_ids = re.compile(r\"id=[\\d\\.\\-]*?;.*?\\x1b\")\n\n\ndef replace_link_ids(render: str) -> str:\n    \"\"\"Link IDs have a random ID and system path which is a problem for\n    reproducible tests.\n\n    \"\"\"\n    return re_link_ids.sub(\"id=0;foo\\x1b\", render)\n\n\ndef render(renderable: RenderableType) -> str:\n    console = Console(\n        width=100, file=io.StringIO(), color_system=\"truecolor\", legacy_windows=False\n    )\n    console.print(renderable)\n    output = replace_link_ids(console.file.getvalue())\n    return output\n\n\ndef test_card_render():\n    card = make_test_card()\n    result = render(card)\n    print(repr(result))\n    assert result == expected\n\n\nif __name__ == \"__main__\":\n    card = make_test_card()\n    with open(\"_card_render.py\", \"wt\") as fh:\n        card_render = render(card)\n        print(card_render)\n        fh.write(f\"expected={card_render!r}\")\n",
    "start_line": 0
  },
  {
    "file": "test_file_proxy.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "import io\nimport sys\nimport pytest\nfrom rich.console import Console\nfrom rich.file_proxy import FileProxy",
    "start_line": 0
  },
  {
    "file": "test_file_proxy.py",
    "type": "function",
    "class": null,
    "method": "test_empty_bytes",
    "name": "test_empty_bytes",
    "content": "def test_empty_bytes():",
    "start_line": 9
  },
  {
    "file": "test_file_proxy.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console()\n    file_proxy = FileProxy(console, sys.stdout)",
    "start_line": 10
  },
  {
    "file": "test_file_proxy.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# File should raise TypeError when writing bytes\n    with pytest.raises(TypeError):\n        file_proxy.write(b\"\")  # type: ignore\n    with pytest.raises(TypeError):\n        file_proxy.write(b\"foo\")  # type: ignore",
    "start_line": 12
  },
  {
    "file": "test_file_proxy.py",
    "type": "function",
    "class": null,
    "method": "test_flush",
    "name": "test_flush",
    "content": "def test_flush():",
    "start_line": 19
  },
  {
    "file": "test_file_proxy.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "file = io.StringIO()\n    console = Console(file=file)\n    file_proxy = FileProxy(console, file)\n    file_proxy.write(\"foo\")\n    assert file.getvalue() == \"\"\n    file_proxy.flush()\n    assert file.getvalue() == \"foo\\n\"",
    "start_line": 20
  },
  {
    "file": "test_file_proxy.py",
    "type": "function",
    "class": null,
    "method": "test_new_lines",
    "name": "test_new_lines",
    "content": "def test_new_lines():",
    "start_line": 29
  },
  {
    "file": "test_file_proxy.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "file = io.StringIO()\n    console = Console(file=file)\n    file_proxy = FileProxy(console, file)\n    file_proxy.write(\"-\\n-\")\n    assert file.getvalue() == \"-\\n\"\n    file_proxy.flush()\n    assert file.getvalue() == \"-\\n-\\n\"",
    "start_line": 30
  },
  {
    "file": "test_file_proxy.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "import io\nimport sys\n\nimport pytest\n\nfrom rich.console import Console\nfrom rich.file_proxy import FileProxy\n\n\ndef test_empty_bytes():\n    console = Console()\n    file_proxy = FileProxy(console, sys.stdout)\n    # File should raise TypeError when writing bytes\n    with pytest.raises(TypeError):\n        file_proxy.write(b\"\")  # type: ignore\n    with pytest.raises(TypeError):\n        file_proxy.write(b\"foo\")  # type: ignore\n\n\ndef test_flush():\n    file = io.StringIO()\n    console = Console(file=file)\n    file_proxy = FileProxy(console, file)\n    file_proxy.write(\"foo\")\n    assert file.getvalue() == \"\"\n    file_proxy.flush()\n    assert file.getvalue() == \"foo\\n\"\n\n\ndef test_new_lines():\n    file = io.StringIO()\n    console = Console(file=file)\n    file_proxy = FileProxy(console, file)\n    file_proxy.write(\"-\\n-\")\n    assert file.getvalue() == \"-\\n\"\n    file_proxy.flush()\n    assert file.getvalue() == \"-\\n-\\n\"\n",
    "start_line": 0
  },
  {
    "file": "test_theme.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "import io\nimport os\nimport tempfile\nimport pytest\nfrom rich.style import Style\nfrom rich.theme import Theme, ThemeStack, ThemeStackError",
    "start_line": 0
  },
  {
    "file": "test_theme.py",
    "type": "function",
    "class": null,
    "method": "test_inherit",
    "name": "test_inherit",
    "content": "def test_inherit():",
    "start_line": 10
  },
  {
    "file": "test_theme.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "theme = Theme({\"warning\": \"red\"})\n    assert theme.styles[\"warning\"] == Style(color=\"red\")\n    assert theme.styles[\"dim\"] == Style(dim=True)",
    "start_line": 11
  },
  {
    "file": "test_theme.py",
    "type": "function",
    "class": null,
    "method": "test_config",
    "name": "test_config",
    "content": "def test_config():",
    "start_line": 16
  },
  {
    "file": "test_theme.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "theme = Theme({\"warning\": \"red\"})\n    config = theme.config\n    assert \"warning = red\\n\" in config",
    "start_line": 17
  },
  {
    "file": "test_theme.py",
    "type": "function",
    "class": null,
    "method": "test_from_file",
    "name": "test_from_file",
    "content": "def test_from_file():",
    "start_line": 22
  },
  {
    "file": "test_theme.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "theme = Theme({\"warning\": \"red\"})\n    text_file = io.StringIO()\n    text_file.write(theme.config)\n    text_file.seek(0)\n    load_theme = Theme.from_file(text_file)\n    assert theme.styles == load_theme.styles",
    "start_line": 23
  },
  {
    "file": "test_theme.py",
    "type": "function",
    "class": null,
    "method": "test_read",
    "name": "test_read",
    "content": "def test_read():",
    "start_line": 32
  },
  {
    "file": "test_theme.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "theme = Theme({\"warning\": \"red\"})\n    with tempfile.TemporaryDirectory(\"richtheme\") as name:\n        filename = os.path.join(name, \"theme.cfg\")\n        with open(filename, \"wt\") as write_theme:\n            write_theme.write(theme.config)\n        load_theme = Theme.read(filename)\n        assert theme.styles == load_theme.styles",
    "start_line": 33
  },
  {
    "file": "test_theme.py",
    "type": "function",
    "class": null,
    "method": "test_theme_stack",
    "name": "test_theme_stack",
    "content": "def test_theme_stack():",
    "start_line": 42
  },
  {
    "file": "test_theme.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "theme = Theme({\"warning\": \"red\"})\n    stack = ThemeStack(theme)\n    assert stack.get(\"warning\") == Style.parse(\"red\")\n    new_theme = Theme({\"warning\": \"bold yellow\"})\n    stack.push_theme(new_theme)\n    assert stack.get(\"warning\") == Style.parse(\"bold yellow\")\n    stack.pop_theme()\n    assert stack.get(\"warning\") == Style.parse(\"red\")\n    with pytest.raises(ThemeStackError):\n        stack.pop_theme()",
    "start_line": 43
  },
  {
    "file": "test_theme.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "import io\nimport os\nimport tempfile\n\nimport pytest\n\nfrom rich.style import Style\nfrom rich.theme import Theme, ThemeStack, ThemeStackError\n\n\ndef test_inherit():\n    theme = Theme({\"warning\": \"red\"})\n    assert theme.styles[\"warning\"] == Style(color=\"red\")\n    assert theme.styles[\"dim\"] == Style(dim=True)\n\n\ndef test_config():\n    theme = Theme({\"warning\": \"red\"})\n    config = theme.config\n    assert \"warning = red\\n\" in config\n\n\ndef test_from_file():\n    theme = Theme({\"warning\": \"red\"})\n    text_file = io.StringIO()\n    text_file.write(theme.config)\n    text_file.seek(0)\n\n    load_theme = Theme.from_file(text_file)\n    assert theme.styles == load_theme.styles\n\n\ndef test_read():\n    theme = Theme({\"warning\": \"red\"})\n    with tempfile.TemporaryDirectory(\"richtheme\") as name:\n        filename = os.path.join(name, \"theme.cfg\")\n        with open(filename, \"wt\") as write_theme:\n            write_theme.write(theme.config)\n        load_theme = Theme.read(filename)\n        assert theme.styles == load_theme.styles\n\n\ndef test_theme_stack():\n    theme = Theme({\"warning\": \"red\"})\n    stack = ThemeStack(theme)\n    assert stack.get(\"warning\") == Style.parse(\"red\")\n    new_theme = Theme({\"warning\": \"bold yellow\"})\n    stack.push_theme(new_theme)\n    assert stack.get(\"warning\") == Style.parse(\"bold yellow\")\n    stack.pop_theme()\n    assert stack.get(\"warning\") == Style.parse(\"red\")\n    with pytest.raises(ThemeStackError):\n        stack.pop_theme()\n",
    "start_line": 0
  },
  {
    "file": "test_style.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "import pytest\nfrom rich import errors\nfrom rich.color import Color, ColorSystem, ColorType\nfrom rich.style import Style, StyleStack",
    "start_line": 0
  },
  {
    "file": "test_style.py",
    "type": "function",
    "class": null,
    "method": "test_str",
    "name": "test_str",
    "content": "def test_str():\n    assert str(Style(bold=False)) == \"not bold\"\n    assert str(Style(color=\"red\", bold=False)) == \"not bold red\"\n    assert str(Style(color=\"red\", bold=False, italic=True)) == \"not bold italic red\"\n    assert str(Style()) == \"none\"\n    assert str(Style(bold=True)) == \"bold\"\n    assert str(Style(color=\"red\", bold=True)) == \"bold red\"\n    assert str(Style(color=\"red\", bgcolor=\"black\", bold=True)) == \"bold red on black\"",
    "start_line": 7
  },
  {
    "file": "test_style.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "all_styles = Style(\n        color=\"red\",\n        bgcolor=\"black\",\n        bold=True,\n        dim=True,\n        italic=True,\n        underline=True,\n        blink=True,\n        blink2=True,\n        reverse=True,\n        conceal=True,\n        strike=True,\n        underline2=True,\n        frame=True,\n        encircle=True,\n        overline=True,\n    )\n    expected = \"bold dim italic underline blink blink2 reverse conceal strike underline2 frame encircle overline red on black\"\n    assert str(all_styles) == expected\n    assert str(Style(link=\"foo\")) == \"link foo\"",
    "start_line": 15
  },
  {
    "file": "test_style.py",
    "type": "function",
    "class": null,
    "method": "test_ansi_codes",
    "name": "test_ansi_codes",
    "content": "def test_ansi_codes():",
    "start_line": 37
  },
  {
    "file": "test_style.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "all_styles = Style(\n        color=\"red\",\n        bgcolor=\"black\",\n        bold=True,\n        dim=True,\n        italic=True,\n        underline=True,\n        blink=True,\n        blink2=True,\n        reverse=True,\n        conceal=True,\n        strike=True,\n        underline2=True,\n        frame=True,\n        encircle=True,\n        overline=True,\n    )\n    expected = \"1;2;3;4;5;6;7;8;9;21;51;52;53;31;40\"\n    assert all_styles._make_ansi_codes(ColorSystem.TRUECOLOR) == expected",
    "start_line": 38
  },
  {
    "file": "test_style.py",
    "type": "function",
    "class": null,
    "method": "test_repr",
    "name": "test_repr",
    "content": "def test_repr():\n    assert (\n        repr(Style(bold=True, color=\"red\"))\n        == \"Style(color=Color('red', ColorType.STANDARD, number=1), bold=True)\"\n    )",
    "start_line": 59
  },
  {
    "file": "test_style.py",
    "type": "function",
    "class": null,
    "method": "test_eq",
    "name": "test_eq",
    "content": "def test_eq():\n    assert Style(bold=True, color=\"red\") == Style(bold=True, color=\"red\")\n    assert Style(bold=True, color=\"red\") != Style(bold=True, color=\"green\")\n    assert Style().__eq__(\"foo\") == NotImplemented",
    "start_line": 66
  },
  {
    "file": "test_style.py",
    "type": "function",
    "class": null,
    "method": "test_hash",
    "name": "test_hash",
    "content": "def test_hash():\n    assert isinstance(hash(Style()), int)",
    "start_line": 72
  },
  {
    "file": "test_style.py",
    "type": "function",
    "class": null,
    "method": "test_empty",
    "name": "test_empty",
    "content": "def test_empty():\n    assert Style.null() == Style()",
    "start_line": 76
  },
  {
    "file": "test_style.py",
    "type": "function",
    "class": null,
    "method": "test_bool",
    "name": "test_bool",
    "content": "def test_bool():\n    assert bool(Style()) is False\n    assert bool(Style(bold=True)) is True\n    assert bool(Style(color=\"red\")) is True\n    assert bool(Style.parse(\"\")) is False",
    "start_line": 80
  },
  {
    "file": "test_style.py",
    "type": "function",
    "class": null,
    "method": "test_color_property",
    "name": "test_color_property",
    "content": "def test_color_property():\n    assert Style(color=\"red\").color == Color(\"red\", ColorType.STANDARD, 1, None)",
    "start_line": 87
  },
  {
    "file": "test_style.py",
    "type": "function",
    "class": null,
    "method": "test_bgcolor_property",
    "name": "test_bgcolor_property",
    "content": "def test_bgcolor_property():\n    assert Style(bgcolor=\"black\").bgcolor == Color(\"black\", ColorType.STANDARD, 0, None)",
    "start_line": 91
  },
  {
    "file": "test_style.py",
    "type": "function",
    "class": null,
    "method": "test_parse",
    "name": "test_parse",
    "content": "def test_parse():\n    assert Style.parse(\"\") == Style()\n    assert Style.parse(\"red\") == Style(color=\"red\")\n    assert Style.parse(\"not bold\") == Style(bold=False)\n    assert Style.parse(\"bold red on black\") == Style(",
    "start_line": 95
  },
  {
    "file": "test_style.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "color=\"red\", bgcolor=\"black\", bold=True\n    )\n    assert Style.parse(\"bold link https://example.org\") == Style(\n        bold=True, link=\"https://example.org\"\n    )\n    with pytest.raises(errors.StyleSyntaxError):\n        Style.parse(\"on\")\n    with pytest.raises(errors.StyleSyntaxError):\n        Style.parse(\"on nothing\")\n    with pytest.raises(errors.StyleSyntaxError):\n        Style.parse(\"rgb(999,999,999)\")\n    with pytest.raises(errors.StyleSyntaxError):\n        Style.parse(\"not monkey\")\n    with pytest.raises(errors.StyleSyntaxError):\n        Style.parse(\"link\")",
    "start_line": 100
  },
  {
    "file": "test_style.py",
    "type": "function",
    "class": null,
    "method": "test_link_id",
    "name": "test_link_id",
    "content": "def test_link_id():\n    assert Style().link_id == \"\"\n    assert Style.parse(\"\").link_id == \"\"\n    assert Style.parse(\"red\").link_id == \"\"",
    "start_line": 117
  },
  {
    "file": "test_style.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "style = Style.parse(\"red link https://example.org\")\n    assert isinstance(style.link_id, str)\n    assert len(style.link_id) > 1",
    "start_line": 121
  },
  {
    "file": "test_style.py",
    "type": "function",
    "class": null,
    "method": "test_get_html_style",
    "name": "test_get_html_style",
    "content": "def test_get_html_style():",
    "start_line": 126
  },
  {
    "file": "test_style.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "expected = \"color: #7f7fbf; text-decoration-color: #7f7fbf; background-color: #800000; font-weight: bold; font-style: italic; text-decoration: underline; text-decoration: line-through; text-decoration: overline\"\n    html_style = Style(\n        reverse=True,\n        dim=True,\n        color=\"red\",\n        bgcolor=\"blue\",\n        bold=True,\n        italic=True,\n        underline=True,\n        strike=True,\n        overline=True,\n    ).get_html_style()\n    print(repr(html_style))\n    assert html_style == expected",
    "start_line": 127
  },
  {
    "file": "test_style.py",
    "type": "function",
    "class": null,
    "method": "test_chain",
    "name": "test_chain",
    "content": "def test_chain():\n    assert Style.chain(Style(color=\"red\"), Style(bold=True)) == Style(",
    "start_line": 143
  },
  {
    "file": "test_style.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "color=\"red\", bold=True\n    )",
    "start_line": 145
  },
  {
    "file": "test_style.py",
    "type": "function",
    "class": null,
    "method": "test_copy",
    "name": "test_copy",
    "content": "def test_copy():",
    "start_line": 149
  },
  {
    "file": "test_style.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "style = Style(color=\"red\", bgcolor=\"black\", italic=True)\n    assert style == style.copy()\n    assert style is not style.copy()",
    "start_line": 150
  },
  {
    "file": "test_style.py",
    "type": "function",
    "class": null,
    "method": "test_render",
    "name": "test_render",
    "content": "def test_render():\n    assert Style(color=\"red\").render(\"foo\", color_system=None) == \"foo\"\n    assert (\n        Style(color=\"red\", bgcolor=\"black\", bold=True).render(\"foo\")\n        == \"\\x1b[1;31;40mfoo\\x1b[0m\"\n    )\n    assert Style().render(\"foo\") == \"foo\"",
    "start_line": 155
  },
  {
    "file": "test_style.py",
    "type": "function",
    "class": null,
    "method": "test_test",
    "name": "test_test",
    "content": "def test_test():\n    Style(color=\"red\").test(\"hello\")",
    "start_line": 164
  },
  {
    "file": "test_style.py",
    "type": "function",
    "class": null,
    "method": "test_add",
    "name": "test_add",
    "content": "def test_add():\n    assert Style(color=\"red\") + None == Style(color=\"red\")",
    "start_line": 168
  },
  {
    "file": "test_style.py",
    "type": "function",
    "class": null,
    "method": "test_iadd",
    "name": "test_iadd",
    "content": "def test_iadd():",
    "start_line": 172
  },
  {
    "file": "test_style.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "style = Style(color=\"red\")\n    style += Style(bold=True)\n    assert style == Style(color=\"red\", bold=True)\n    style += None\n    assert style == Style(color=\"red\", bold=True)",
    "start_line": 173
  },
  {
    "file": "test_style.py",
    "type": "function",
    "class": null,
    "method": "test_style_stack",
    "name": "test_style_stack",
    "content": "def test_style_stack():",
    "start_line": 180
  },
  {
    "file": "test_style.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "stack = StyleStack(Style(color=\"red\"))\n    repr(stack)\n    assert stack.current == Style(color=\"red\")\n    stack.push(Style(bold=True))\n    assert stack.current == Style(color=\"red\", bold=True)\n    stack.pop()\n    assert stack.current == Style(color=\"red\")",
    "start_line": 181
  },
  {
    "file": "test_style.py",
    "type": "function",
    "class": null,
    "method": "test_pick_first",
    "name": "test_pick_first",
    "content": "def test_pick_first():\n    with pytest.raises(ValueError):\n        Style.pick_first()",
    "start_line": 190
  },
  {
    "file": "test_style.py",
    "type": "function",
    "class": null,
    "method": "test_background_style",
    "name": "test_background_style",
    "content": "def test_background_style():\n    assert Style(bold=True, color=\"yellow\", bgcolor=\"red\").background_style == Style(",
    "start_line": 195
  },
  {
    "file": "test_style.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "bgcolor=\"red\"\n    )",
    "start_line": 197
  },
  {
    "file": "test_style.py",
    "type": "function",
    "class": null,
    "method": "test_without_color",
    "name": "test_without_color",
    "content": "def test_without_color():",
    "start_line": 201
  },
  {
    "file": "test_style.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "style = Style(bold=True, color=\"red\", bgcolor=\"blue\")\n    colorless_style = style.without_color\n    assert colorless_style.color == None\n    assert colorless_style.bgcolor == None\n    assert colorless_style.bold == True\n    null_style = Style.null()\n    assert null_style.without_color == null_style",
    "start_line": 202
  },
  {
    "file": "test_style.py",
    "type": "function",
    "class": null,
    "method": "test_meta",
    "name": "test_meta",
    "content": "def test_meta():",
    "start_line": 211
  },
  {
    "file": "test_style.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "style = Style(bold=True, meta={\"foo\": \"bar\"})\n    assert style.meta[\"foo\"] == \"bar\"\n    style += Style(meta={\"egg\": \"baz\"})\n    assert style.meta == {\"foo\": \"bar\", \"egg\": \"baz\"}\n    assert repr(style) == \"Style(bold=True, meta={'foo': 'bar', 'egg': 'baz'})\"",
    "start_line": 212
  },
  {
    "file": "test_style.py",
    "type": "function",
    "class": null,
    "method": "test_from_meta",
    "name": "test_from_meta",
    "content": "def test_from_meta():",
    "start_line": 222
  },
  {
    "file": "test_style.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "style = Style.from_meta({\"foo\": \"bar\"})\n    assert style.color is None\n    assert style.bold is None",
    "start_line": 223
  },
  {
    "file": "test_style.py",
    "type": "function",
    "class": null,
    "method": "test_on",
    "name": "test_on",
    "content": "def test_on():",
    "start_line": 228
  },
  {
    "file": "test_style.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "style = Style.on({\"foo\": \"bar\"}, click=\"CLICK\") + Style(color=\"red\")\n    assert style.meta == {\"foo\": \"bar\", \"@click\": \"CLICK\"}",
    "start_line": 229
  },
  {
    "file": "test_style.py",
    "type": "function",
    "class": null,
    "method": "test_clear_meta_and_links",
    "name": "test_clear_meta_and_links",
    "content": "def test_clear_meta_and_links():",
    "start_line": 233
  },
  {
    "file": "test_style.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "style = Style.parse(\"bold red on black link https://example.org\") + Style.on(\n        click=\"CLICK\"\n    )\n    assert style.meta == {\"@click\": \"CLICK\"}\n    assert style.link == \"https://example.org\"\n    assert style.color == Color.parse(\"red\")\n    assert style.bgcolor == Color.parse(\"black\")\n    assert style.bold\n    assert not style.italic\n    clear_style = style.clear_meta_and_links()\n    assert clear_style.meta == {}\n    assert clear_style.link == None\n    assert clear_style.color == Color.parse(\"red\")\n    assert clear_style.bgcolor == Color.parse(\"black\")\n    assert clear_style.bold\n    assert not clear_style.italic",
    "start_line": 234
  },
  {
    "file": "test_style.py",
    "type": "function",
    "class": null,
    "method": "test_clear_meta_and_links_clears_hash",
    "name": "test_clear_meta_and_links_clears_hash",
    "content": "def test_clear_meta_and_links_clears_hash():\n    \"\"\"Regression test for https://github.com/Textualize/rich/issues/2942.\"\"\"",
    "start_line": 255
  },
  {
    "file": "test_style.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "style = Style.parse(\"bold red on black link https://example.org\") + Style.on(\n        click=\"CLICK\"\n    )\n    hash(style)  # Force hash caching.\n    assert style._hash is not None\n    clear_style = style.clear_meta_and_links()\n    assert clear_style._hash is None",
    "start_line": 258
  },
  {
    "file": "test_style.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "import pytest\n\nfrom rich import errors\nfrom rich.color import Color, ColorSystem, ColorType\nfrom rich.style import Style, StyleStack\n\n\ndef test_str():\n    assert str(Style(bold=False)) == \"not bold\"\n    assert str(Style(color=\"red\", bold=False)) == \"not bold red\"\n    assert str(Style(color=\"red\", bold=False, italic=True)) == \"not bold italic red\"\n    assert str(Style()) == \"none\"\n    assert str(Style(bold=True)) == \"bold\"\n    assert str(Style(color=\"red\", bold=True)) == \"bold red\"\n    assert str(Style(color=\"red\", bgcolor=\"black\", bold=True)) == \"bold red on black\"\n    all_styles = Style(\n        color=\"red\",\n        bgcolor=\"black\",\n        bold=True,\n        dim=True,\n        italic=True,\n        underline=True,\n        blink=True,\n        blink2=True,\n        reverse=True,\n        conceal=True,\n        strike=True,\n        underline2=True,\n        frame=True,\n        encircle=True,\n        overline=True,\n    )\n    expected = \"bold dim italic underline blink blink2 reverse conceal strike underline2 frame encircle overline red on black\"\n    assert str(all_styles) == expected\n    assert str(Style(link=\"foo\")) == \"link foo\"\n\n\ndef test_ansi_codes():\n    all_styles = Style(\n        color=\"red\",\n        bgcolor=\"black\",\n        bold=True,\n        dim=True,\n        italic=True,\n        underline=True,\n        blink=True,\n        blink2=True,\n        reverse=True,\n        conceal=True,\n        strike=True,\n        underline2=True,\n        frame=True,\n        encircle=True,\n        overline=True,\n    )\n    expected = \"1;2;3;4;5;6;7;8;9;21;51;52;53;31;40\"\n    assert all_styles._make_ansi_codes(ColorSystem.TRUECOLOR) == expected\n\n\ndef test_repr():\n    assert (\n        repr(Style(bold=True, color=\"red\"))\n        == \"Style(color=Color('red', ColorType.STANDARD, number=1), bold=True)\"\n    )\n\n\ndef test_eq():\n    assert Style(bold=True, color=\"red\") == Style(bold=True, color=\"red\")\n    assert Style(bold=True, color=\"red\") != Style(bold=True, color=\"green\")\n    assert Style().__eq__(\"foo\") == NotImplemented\n\n\ndef test_hash():\n    assert isinstance(hash(Style()), int)\n\n\ndef test_empty():\n    assert Style.null() == Style()\n\n\ndef test_bool():\n    assert bool(Style()) is False\n    assert bool(Style(bold=True)) is True\n    assert bool(Style(color=\"red\")) is True\n    assert bool(Style.parse(\"\")) is False\n\n\ndef test_color_property():\n    assert Style(color=\"red\").color == Color(\"red\", ColorType.STANDARD, 1, None)\n\n\ndef test_bgcolor_property():\n    assert Style(bgcolor=\"black\").bgcolor == Color(\"black\", ColorType.STANDARD, 0, None)\n\n\ndef test_parse():\n    assert Style.parse(\"\") == Style()\n    assert Style.parse(\"red\") == Style(color=\"red\")\n    assert Style.parse(\"not bold\") == Style(bold=False)\n    assert Style.parse(\"bold red on black\") == Style(\n        color=\"red\", bgcolor=\"black\", bold=True\n    )\n    assert Style.parse(\"bold link https://example.org\") == Style(\n        bold=True, link=\"https://example.org\"\n    )\n    with pytest.raises(errors.StyleSyntaxError):\n        Style.parse(\"on\")\n    with pytest.raises(errors.StyleSyntaxError):\n        Style.parse(\"on nothing\")\n    with pytest.raises(errors.StyleSyntaxError):\n        Style.parse(\"rgb(999,999,999)\")\n    with pytest.raises(errors.StyleSyntaxError):\n        Style.parse(\"not monkey\")\n    with pytest.raises(errors.StyleSyntaxError):\n        Style.parse(\"link\")\n\n\ndef test_link_id():\n    assert Style().link_id == \"\"\n    assert Style.parse(\"\").link_id == \"\"\n    assert Style.parse(\"red\").link_id == \"\"\n    style = Style.parse(\"red link https://example.org\")\n    assert isinstance(style.link_id, str)\n    assert len(style.link_id) > 1\n\n\ndef test_get_html_style():\n    expected = \"color: #7f7fbf; text-decoration-color: #7f7fbf; background-color: #800000; font-weight: bold; font-style: italic; text-decoration: underline; text-decoration: line-through; text-decoration: overline\"\n    html_style = Style(\n        reverse=True,\n        dim=True,\n        color=\"red\",\n        bgcolor=\"blue\",\n        bold=True,\n        italic=True,\n        underline=True,\n        strike=True,\n        overline=True,\n    ).get_html_style()\n    print(repr(html_style))\n    assert html_style == expected\n\n\ndef test_chain():\n    assert Style.chain(Style(color=\"red\"), Style(bold=True)) == Style(\n        color=\"red\", bold=True\n    )\n\n\ndef test_copy():\n    style = Style(color=\"red\", bgcolor=\"black\", italic=True)\n    assert style == style.copy()\n    assert style is not style.copy()\n\n\ndef test_render():\n    assert Style(color=\"red\").render(\"foo\", color_system=None) == \"foo\"\n    assert (\n        Style(color=\"red\", bgcolor=\"black\", bold=True).render(\"foo\")\n        == \"\\x1b[1;31;40mfoo\\x1b[0m\"\n    )\n    assert Style().render(\"foo\") == \"foo\"\n\n\ndef test_test():\n    Style(color=\"red\").test(\"hello\")\n\n\ndef test_add():\n    assert Style(color=\"red\") + None == Style(color=\"red\")\n\n\ndef test_iadd():\n    style = Style(color=\"red\")\n    style += Style(bold=True)\n    assert style == Style(color=\"red\", bold=True)\n    style += None\n    assert style == Style(color=\"red\", bold=True)\n\n\ndef test_style_stack():\n    stack = StyleStack(Style(color=\"red\"))\n    repr(stack)\n    assert stack.current == Style(color=\"red\")\n    stack.push(Style(bold=True))\n    assert stack.current == Style(color=\"red\", bold=True)\n    stack.pop()\n    assert stack.current == Style(color=\"red\")\n\n\ndef test_pick_first():\n    with pytest.raises(ValueError):\n        Style.pick_first()\n\n\ndef test_background_style():\n    assert Style(bold=True, color=\"yellow\", bgcolor=\"red\").background_style == Style(\n        bgcolor=\"red\"\n    )\n\n\ndef test_without_color():\n    style = Style(bold=True, color=\"red\", bgcolor=\"blue\")\n    colorless_style = style.without_color\n    assert colorless_style.color == None\n    assert colorless_style.bgcolor == None\n    assert colorless_style.bold == True\n    null_style = Style.null()\n    assert null_style.without_color == null_style\n\n\ndef test_meta():\n    style = Style(bold=True, meta={\"foo\": \"bar\"})\n    assert style.meta[\"foo\"] == \"bar\"\n\n    style += Style(meta={\"egg\": \"baz\"})\n\n    assert style.meta == {\"foo\": \"bar\", \"egg\": \"baz\"}\n\n    assert repr(style) == \"Style(bold=True, meta={'foo': 'bar', 'egg': 'baz'})\"\n\n\ndef test_from_meta():\n    style = Style.from_meta({\"foo\": \"bar\"})\n    assert style.color is None\n    assert style.bold is None\n\n\ndef test_on():\n    style = Style.on({\"foo\": \"bar\"}, click=\"CLICK\") + Style(color=\"red\")\n    assert style.meta == {\"foo\": \"bar\", \"@click\": \"CLICK\"}\n\n\ndef test_clear_meta_and_links():\n    style = Style.parse(\"bold red on black link https://example.org\") + Style.on(\n        click=\"CLICK\"\n    )\n\n    assert style.meta == {\"@click\": \"CLICK\"}\n    assert style.link == \"https://example.org\"\n    assert style.color == Color.parse(\"red\")\n    assert style.bgcolor == Color.parse(\"black\")\n    assert style.bold\n    assert not style.italic\n\n    clear_style = style.clear_meta_and_links()\n\n    assert clear_style.meta == {}\n    assert clear_style.link == None\n    assert clear_style.color == Color.parse(\"red\")\n    assert clear_style.bgcolor == Color.parse(\"black\")\n    assert clear_style.bold\n    assert not clear_style.italic\n\n\ndef test_clear_meta_and_links_clears_hash():\n    \"\"\"Regression test for https://github.com/Textualize/rich/issues/2942.\"\"\"\n\n    style = Style.parse(\"bold red on black link https://example.org\") + Style.on(\n        click=\"CLICK\"\n    )\n    hash(style)  # Force hash caching.\n\n    assert style._hash is not None\n\n    clear_style = style.clear_meta_and_links()\n    assert clear_style._hash is None\n",
    "start_line": 0
  },
  {
    "file": "test_markdown_no_hyperlinks.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# coding=utf-8",
    "start_line": 0
  },
  {
    "file": "test_markdown_no_hyperlinks.py",
    "type": "constants",
    "class": null,
    "method": null,
    "name": "module_constants",
    "content": "MARKDOWN = \"\"\"Heading\n=======\nSub-heading\n-----------",
    "start_line": 2
  },
  {
    "file": "test_markdown_no_hyperlinks.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "### Heading\n#### H4 Heading\n##### H5 Heading\n###### H6 Heading\nParagraphs are separated\nby a blank line.\nTwo spaces at the end of a line  \nproduces a line break.\nText attributes _italic_, \n**bold**, `monospace`.\nHorizontal rule:\n---\nBullet list:\n  * apples\n  * oranges\n  * pears\nNumbered list:\n  1. lather\n  2. rinse\n  3. repeat\nAn [example](http://example.com).\n> Markdown uses email-style > characters for blockquoting.\n>\n> Lorem ipsum\n![progress](https://github.com/textualize/rich/raw/master/imgs/progress.gif)\n```",
    "start_line": 8
  },
  {
    "file": "test_markdown_no_hyperlinks.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "a=1\n```\n```python",
    "start_line": 52
  },
  {
    "file": "test_markdown_no_hyperlinks.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "import this\n```\n```somelang\nfoobar\n```\n\"\"\"\nimport io\nimport re\nfrom rich.console import Console, RenderableType\nfrom rich.markdown import Markdown",
    "start_line": 56
  },
  {
    "file": "test_markdown_no_hyperlinks.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "re_link_ids = re.compile(r\"id=[\\d\\.\\-]*?;.*?\\x1b\")",
    "start_line": 71
  },
  {
    "file": "test_markdown_no_hyperlinks.py",
    "type": "function",
    "class": null,
    "method": "replace_link_ids",
    "name": "replace_link_ids",
    "content": "def replace_link_ids(render: str) -> str:\n    \"\"\"Link IDs have a random ID and system path which is a problem for\n    reproducible tests.\n\n    \"\"\"\n    return re_link_ids.sub(\"id=0;foo\\x1b\", render)",
    "start_line": 74
  },
  {
    "file": "test_markdown_no_hyperlinks.py",
    "type": "function",
    "class": null,
    "method": "render",
    "name": "render",
    "content": "def render(renderable: RenderableType) -> str:",
    "start_line": 82
  },
  {
    "file": "test_markdown_no_hyperlinks.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(\n        width=100, file=io.StringIO(), color_system=\"truecolor\", legacy_windows=False\n    )\n    console.print(renderable)\n    output = replace_link_ids(console.file.getvalue())\n    return output",
    "start_line": 83
  },
  {
    "file": "test_markdown_no_hyperlinks.py",
    "type": "function",
    "class": null,
    "method": "test_markdown_render",
    "name": "test_markdown_render",
    "content": "def test_markdown_render():",
    "start_line": 91
  },
  {
    "file": "test_markdown_no_hyperlinks.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "markdown = Markdown(MARKDOWN, hyperlinks=False)\n    rendered_markdown = render(markdown)\n    print(repr(rendered_markdown))\n    expected = \"\\n                                             \\x1b[1mHeading\\x1b[0m                                              \\n\\n\\n\\n                                            \\x1b[1;4mSub-heading\\x1b[0m                                             \\n\\n                                              \\x1b[1mHeading\\x1b[0m                                               \\n\\n                                             \\x1b[1;2mH4 Heading\\x1b[0m                                             \\n\\n                                             \\x1b[4mH5 Heading\\x1b[0m                                             \\n\\n                                             \\x1b[3mH6 Heading\\x1b[0m                                             \\n\\nParagraphs are separated by a blank line.                                                           \\n\\nTwo spaces at the end of a line                                                                     \\nproduces a line break.                                                                              \\n\\nText attributes \\x1b[3mitalic\\x1b[0m, \\x1b[1mbold\\x1b[0m, \\x1b[1;36;40mmonospace\\x1b[0m.                                                            \\n\\nHorizontal rule:                                                                                    \\n\\n\\x1b[33m\\x1b[0m\\nBullet list:                                                                                        \\n\\n\\x1b[1;33m  \\x1b[0mapples                                                                                           \\n\\x1b[1;33m  \\x1b[0moranges                                                                                          \\n\\x1b[1;33m  \\x1b[0mpears                                                                                            \\n\\nNumbered list:                                                                                      \\n\\n\\x1b[1;33m 1 \\x1b[0mlather                                                                                           \\n\\x1b[1;33m 2 \\x1b[0mrinse                                                                                            \\n\\x1b[1;33m 3 \\x1b[0mrepeat                                                                                           \\n\\nAn \\x1b[94mexample\\x1b[0m (\\x1b[4;34mhttp://example.com\\x1b[0m).                                                                    \\n\\n\\x1b[35m \\x1b[0m\\x1b[35mMarkdown uses email-style > characters for blockquoting.\\x1b[0m\\x1b[35m                                        \\x1b[0m\\n\\x1b[35m \\x1b[0m\\x1b[35mLorem ipsum\\x1b[0m\\x1b[35m                                                                                     \\x1b[0m\\n\\n progress                                                                                         \\n\\n\\x1b[48;2;39;40;34m                                                                                                    \\x1b[0m\\n\\x1b[48;2;39;40;34m \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34ma=1\\x1b[0m\\x1b[48;2;39;40;34m                                                                                               \\x1b[0m\\x1b[48;2;39;40;34m \\x1b[0m\\n\\x1b[48;2;39;40;34m                                                                                                    \\x1b[0m\\n\\n\\x1b[48;2;39;40;34m                                                                                                    \\x1b[0m\\n\\x1b[48;2;39;40;34m \\x1b[0m\\x1b[38;2;255;70;137;48;2;39;40;34mimport\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mthis\\x1b[0m\\x1b[48;2;39;40;34m                                                                                       \\x1b[0m\\x1b[48;2;39;40;34m \\x1b[0m\\n\\x1b[48;2;39;40;34m                                                                                                    \\x1b[0m\\n\\n\\x1b[48;2;39;40;34m                                                                                                    \\x1b[0m\\n\\x1b[48;2;39;40;34m \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mfoobar\\x1b[0m\\x1b[48;2;39;40;34m                                                                                            \\x1b[0m\\x1b[48;2;39;40;34m \\x1b[0m\\n\\x1b[48;2;39;40;34m                                                                                                    \\x1b[0m\\n\"\n    assert rendered_markdown == expected\nif __name__ == \"__main__\":\n    markdown = Markdown(MARKDOWN, hyperlinks=False)\n    rendered = render(markdown)\n    print(rendered)\n    print(repr(rendered))",
    "start_line": 92
  },
  {
    "file": "test_markdown_no_hyperlinks.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "# coding=utf-8\n\nMARKDOWN = \"\"\"Heading\n=======\n\nSub-heading\n-----------\n\n### Heading\n\n#### H4 Heading\n\n##### H5 Heading\n\n###### H6 Heading\n\n\nParagraphs are separated\nby a blank line.\n\nTwo spaces at the end of a line  \nproduces a line break.\n\nText attributes _italic_, \n**bold**, `monospace`.\n\nHorizontal rule:\n\n---\n\nBullet list:\n\n  * apples\n  * oranges\n  * pears\n\nNumbered list:\n\n  1. lather\n  2. rinse\n  3. repeat\n\nAn [example](http://example.com).\n\n> Markdown uses email-style > characters for blockquoting.\n>\n> Lorem ipsum\n\n![progress](https://github.com/textualize/rich/raw/master/imgs/progress.gif)\n\n\n```\na=1\n```\n\n```python\nimport this\n```\n\n```somelang\nfoobar\n```\n\n\"\"\"\n\nimport io\nimport re\n\nfrom rich.console import Console, RenderableType\nfrom rich.markdown import Markdown\n\nre_link_ids = re.compile(r\"id=[\\d\\.\\-]*?;.*?\\x1b\")\n\n\ndef replace_link_ids(render: str) -> str:\n    \"\"\"Link IDs have a random ID and system path which is a problem for\n    reproducible tests.\n\n    \"\"\"\n    return re_link_ids.sub(\"id=0;foo\\x1b\", render)\n\n\ndef render(renderable: RenderableType) -> str:\n    console = Console(\n        width=100, file=io.StringIO(), color_system=\"truecolor\", legacy_windows=False\n    )\n    console.print(renderable)\n    output = replace_link_ids(console.file.getvalue())\n    return output\n\n\ndef test_markdown_render():\n    markdown = Markdown(MARKDOWN, hyperlinks=False)\n    rendered_markdown = render(markdown)\n    print(repr(rendered_markdown))\n    expected = \"\\n                                             \\x1b[1mHeading\\x1b[0m                                              \\n\\n\\n\\n                                            \\x1b[1;4mSub-heading\\x1b[0m                                             \\n\\n                                              \\x1b[1mHeading\\x1b[0m                                               \\n\\n                                             \\x1b[1;2mH4 Heading\\x1b[0m                                             \\n\\n                                             \\x1b[4mH5 Heading\\x1b[0m                                             \\n\\n                                             \\x1b[3mH6 Heading\\x1b[0m                                             \\n\\nParagraphs are separated by a blank line.                                                           \\n\\nTwo spaces at the end of a line                                                                     \\nproduces a line break.                                                                              \\n\\nText attributes \\x1b[3mitalic\\x1b[0m, \\x1b[1mbold\\x1b[0m, \\x1b[1;36;40mmonospace\\x1b[0m.                                                            \\n\\nHorizontal rule:                                                                                    \\n\\n\\x1b[33m\\x1b[0m\\nBullet list:                                                                                        \\n\\n\\x1b[1;33m  \\x1b[0mapples                                                                                           \\n\\x1b[1;33m  \\x1b[0moranges                                                                                          \\n\\x1b[1;33m  \\x1b[0mpears                                                                                            \\n\\nNumbered list:                                                                                      \\n\\n\\x1b[1;33m 1 \\x1b[0mlather                                                                                           \\n\\x1b[1;33m 2 \\x1b[0mrinse                                                                                            \\n\\x1b[1;33m 3 \\x1b[0mrepeat                                                                                           \\n\\nAn \\x1b[94mexample\\x1b[0m (\\x1b[4;34mhttp://example.com\\x1b[0m).                                                                    \\n\\n\\x1b[35m \\x1b[0m\\x1b[35mMarkdown uses email-style > characters for blockquoting.\\x1b[0m\\x1b[35m                                        \\x1b[0m\\n\\x1b[35m \\x1b[0m\\x1b[35mLorem ipsum\\x1b[0m\\x1b[35m                                                                                     \\x1b[0m\\n\\n progress                                                                                         \\n\\n\\x1b[48;2;39;40;34m                                                                                                    \\x1b[0m\\n\\x1b[48;2;39;40;34m \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34ma=1\\x1b[0m\\x1b[48;2;39;40;34m                                                                                               \\x1b[0m\\x1b[48;2;39;40;34m \\x1b[0m\\n\\x1b[48;2;39;40;34m                                                                                                    \\x1b[0m\\n\\n\\x1b[48;2;39;40;34m                                                                                                    \\x1b[0m\\n\\x1b[48;2;39;40;34m \\x1b[0m\\x1b[38;2;255;70;137;48;2;39;40;34mimport\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mthis\\x1b[0m\\x1b[48;2;39;40;34m                                                                                       \\x1b[0m\\x1b[48;2;39;40;34m \\x1b[0m\\n\\x1b[48;2;39;40;34m                                                                                                    \\x1b[0m\\n\\n\\x1b[48;2;39;40;34m                                                                                                    \\x1b[0m\\n\\x1b[48;2;39;40;34m \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mfoobar\\x1b[0m\\x1b[48;2;39;40;34m                                                                                            \\x1b[0m\\x1b[48;2;39;40;34m \\x1b[0m\\n\\x1b[48;2;39;40;34m                                                                                                    \\x1b[0m\\n\"\n    assert rendered_markdown == expected\n\n\nif __name__ == \"__main__\":\n    markdown = Markdown(MARKDOWN, hyperlinks=False)\n    rendered = render(markdown)\n    print(rendered)\n    print(repr(rendered))\n",
    "start_line": 0
  },
  {
    "file": "test_pick.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from rich._pick import pick_bool",
    "start_line": 0
  },
  {
    "file": "test_pick.py",
    "type": "function",
    "class": null,
    "method": "test_pick_bool",
    "name": "test_pick_bool",
    "content": "def test_pick_bool():\n    assert pick_bool(False) == False\n    assert pick_bool(True) == True\n    assert pick_bool(None) == False\n    assert pick_bool(False, True) == False\n    assert pick_bool(None, True) == True\n    assert pick_bool(True, None) == True\n    assert pick_bool(False, None) == False\n    assert pick_bool(None, None) == False\n    assert pick_bool(None, None, False, True) == False\n    assert pick_bool(None, None, True, False) == True",
    "start_line": 3
  },
  {
    "file": "test_pick.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "from rich._pick import pick_bool\n\n\ndef test_pick_bool():\n    assert pick_bool(False) == False\n    assert pick_bool(True) == True\n    assert pick_bool(None) == False\n    assert pick_bool(False, True) == False\n    assert pick_bool(None, True) == True\n    assert pick_bool(True, None) == True\n    assert pick_bool(False, None) == False\n    assert pick_bool(None, None) == False\n    assert pick_bool(None, None, False, True) == False\n    assert pick_bool(None, None, True, False) == True\n",
    "start_line": 0
  },
  {
    "file": "test_rule_in_table.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "import io\nfrom textwrap import dedent\nimport pytest\nfrom rich import box\nfrom rich.console import Console\nfrom rich.rule import Rule\nfrom rich.table import Table\n@pytest.mark.parametrize(\"expand_kwarg\", ({}, {\"expand\": False}))",
    "start_line": 0
  },
  {
    "file": "test_rule_in_table.py",
    "type": "function",
    "class": null,
    "method": "test_rule_in_unexpanded_table",
    "name": "test_rule_in_unexpanded_table",
    "content": "def test_rule_in_unexpanded_table(expand_kwarg):",
    "start_line": 12
  },
  {
    "file": "test_rule_in_table.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(width=32, file=io.StringIO(), legacy_windows=False, _environ={})\n    table = Table(box=box.ASCII, show_header=False, **expand_kwarg)\n    table.add_column()\n    table.add_column()\n    table.add_row(\"COL1\", \"COL2\")\n    table.add_row(\"COL1\", Rule())\n    table.add_row(\"COL1\", \"COL2\")\n    console.print(table)\n    expected = dedent(\n        \"\"\"\\\n        +-------------+\n        | COL1 | COL2 |\n        | COL1 |  |\n        | COL1 | COL2 |\n        +-------------+\n        \"\"\"\n    )\n    result = console.file.getvalue()\n    assert result == expected",
    "start_line": 13
  },
  {
    "file": "test_rule_in_table.py",
    "type": "function",
    "class": null,
    "method": "test_rule_in_expanded_table",
    "name": "test_rule_in_expanded_table",
    "content": "def test_rule_in_expanded_table():",
    "start_line": 34
  },
  {
    "file": "test_rule_in_table.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(width=32, file=io.StringIO(), legacy_windows=False, _environ={})\n    table = Table(box=box.ASCII, expand=True, show_header=False)\n    table.add_column()\n    table.add_column()\n    table.add_row(\"COL1\", \"COL2\")\n    table.add_row(\"COL1\", Rule(style=None))\n    table.add_row(\"COL1\", \"COL2\")\n    console.print(table)\n    expected = dedent(\n        \"\"\"\\\n        +------------------------------+\n        | COL1          | COL2         |\n        | COL1          |  |\n        | COL1          | COL2         |\n        +------------------------------+\n        \"\"\"\n    )\n    result = console.file.getvalue()\n    assert result == expected",
    "start_line": 35
  },
  {
    "file": "test_rule_in_table.py",
    "type": "function",
    "class": null,
    "method": "test_rule_in_ratio_table",
    "name": "test_rule_in_ratio_table",
    "content": "def test_rule_in_ratio_table():",
    "start_line": 56
  },
  {
    "file": "test_rule_in_table.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(width=32, file=io.StringIO(), legacy_windows=False, _environ={})\n    table = Table(box=box.ASCII, expand=True, show_header=False)\n    table.add_column(ratio=1)\n    table.add_column()\n    table.add_row(\"COL1\", \"COL2\")\n    table.add_row(\"COL1\", Rule(style=None))\n    table.add_row(\"COL1\", \"COL2\")\n    console.print(table)\n    expected = dedent(\n        \"\"\"\\\n        +------------------------------+\n        | COL1                  | COL2 |\n        | COL1                  |  |\n        | COL1                  | COL2 |\n        +------------------------------+\n        \"\"\"\n    )\n    result = console.file.getvalue()\n    assert result == expected",
    "start_line": 57
  },
  {
    "file": "test_rule_in_table.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "import io\nfrom textwrap import dedent\n\nimport pytest\n\nfrom rich import box\nfrom rich.console import Console\nfrom rich.rule import Rule\nfrom rich.table import Table\n\n\n@pytest.mark.parametrize(\"expand_kwarg\", ({}, {\"expand\": False}))\ndef test_rule_in_unexpanded_table(expand_kwarg):\n    console = Console(width=32, file=io.StringIO(), legacy_windows=False, _environ={})\n    table = Table(box=box.ASCII, show_header=False, **expand_kwarg)\n    table.add_column()\n    table.add_column()\n    table.add_row(\"COL1\", \"COL2\")\n    table.add_row(\"COL1\", Rule())\n    table.add_row(\"COL1\", \"COL2\")\n    console.print(table)\n    expected = dedent(\n        \"\"\"\\\n        +-------------+\n        | COL1 | COL2 |\n        | COL1 |  |\n        | COL1 | COL2 |\n        +-------------+\n        \"\"\"\n    )\n    result = console.file.getvalue()\n    assert result == expected\n\n\ndef test_rule_in_expanded_table():\n    console = Console(width=32, file=io.StringIO(), legacy_windows=False, _environ={})\n    table = Table(box=box.ASCII, expand=True, show_header=False)\n    table.add_column()\n    table.add_column()\n    table.add_row(\"COL1\", \"COL2\")\n    table.add_row(\"COL1\", Rule(style=None))\n    table.add_row(\"COL1\", \"COL2\")\n    console.print(table)\n    expected = dedent(\n        \"\"\"\\\n        +------------------------------+\n        | COL1          | COL2         |\n        | COL1          |  |\n        | COL1          | COL2         |\n        +------------------------------+\n        \"\"\"\n    )\n    result = console.file.getvalue()\n    assert result == expected\n\n\ndef test_rule_in_ratio_table():\n    console = Console(width=32, file=io.StringIO(), legacy_windows=False, _environ={})\n    table = Table(box=box.ASCII, expand=True, show_header=False)\n    table.add_column(ratio=1)\n    table.add_column()\n    table.add_row(\"COL1\", \"COL2\")\n    table.add_row(\"COL1\", Rule(style=None))\n    table.add_row(\"COL1\", \"COL2\")\n    console.print(table)\n    expected = dedent(\n        \"\"\"\\\n        +------------------------------+\n        | COL1                  | COL2 |\n        | COL1                  |  |\n        | COL1                  | COL2 |\n        +------------------------------+\n        \"\"\"\n    )\n    result = console.file.getvalue()\n    assert result == expected\n",
    "start_line": 0
  },
  {
    "file": "test_emoji.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "import pytest\nfrom rich.emoji import Emoji, NoEmoji\nfrom .render import render",
    "start_line": 0
  },
  {
    "file": "test_emoji.py",
    "type": "function",
    "class": null,
    "method": "test_no_emoji",
    "name": "test_no_emoji",
    "content": "def test_no_emoji():\n    with pytest.raises(NoEmoji):\n        Emoji(\"ambivalent_bunny\")",
    "start_line": 7
  },
  {
    "file": "test_emoji.py",
    "type": "function",
    "class": null,
    "method": "test_str_repr",
    "name": "test_str_repr",
    "content": "def test_str_repr():\n    assert str(Emoji(\"pile_of_poo\")) == \"\"\n    assert repr(Emoji(\"pile_of_poo\")) == \"<emoji 'pile_of_poo'>\"",
    "start_line": 12
  },
  {
    "file": "test_emoji.py",
    "type": "function",
    "class": null,
    "method": "test_replace",
    "name": "test_replace",
    "content": "def test_replace():\n    assert Emoji.replace(\"my code is :pile_of_poo:\") == \"my code is \"",
    "start_line": 17
  },
  {
    "file": "test_emoji.py",
    "type": "function",
    "class": null,
    "method": "test_render",
    "name": "test_render",
    "content": "def test_render():",
    "start_line": 21
  },
  {
    "file": "test_emoji.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "render_result = render(Emoji(\"pile_of_poo\"))\n    assert render_result == \"\"",
    "start_line": 22
  },
  {
    "file": "test_emoji.py",
    "type": "function",
    "class": null,
    "method": "test_variant",
    "name": "test_variant",
    "content": "def test_variant():\n    print(repr(Emoji.replace(\":warning:\")))\n    assert Emoji.replace(\":warning:\") == \"\"\n    assert Emoji.replace(\":warning-text:\") == \"\" + \"\\uFE0E\"\n    assert Emoji.replace(\":warning-emoji:\") == \"\" + \"\\uFE0F\"\n    assert Emoji.replace(\":warning-foo:\") == \":warning-foo:\"",
    "start_line": 26
  },
  {
    "file": "test_emoji.py",
    "type": "function",
    "class": null,
    "method": "test_variant_non_default",
    "name": "test_variant_non_default",
    "content": "def test_variant_non_default():",
    "start_line": 34
  },
  {
    "file": "test_emoji.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "render_result = render(Emoji(\"warning\", variant=\"emoji\"))\n    assert render_result == \"\" + \"\\uFE0F\"",
    "start_line": 35
  },
  {
    "file": "test_emoji.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "import pytest\n\nfrom rich.emoji import Emoji, NoEmoji\n\nfrom .render import render\n\n\ndef test_no_emoji():\n    with pytest.raises(NoEmoji):\n        Emoji(\"ambivalent_bunny\")\n\n\ndef test_str_repr():\n    assert str(Emoji(\"pile_of_poo\")) == \"\"\n    assert repr(Emoji(\"pile_of_poo\")) == \"<emoji 'pile_of_poo'>\"\n\n\ndef test_replace():\n    assert Emoji.replace(\"my code is :pile_of_poo:\") == \"my code is \"\n\n\ndef test_render():\n    render_result = render(Emoji(\"pile_of_poo\"))\n    assert render_result == \"\"\n\n\ndef test_variant():\n    print(repr(Emoji.replace(\":warning:\")))\n    assert Emoji.replace(\":warning:\") == \"\"\n    assert Emoji.replace(\":warning-text:\") == \"\" + \"\\uFE0E\"\n    assert Emoji.replace(\":warning-emoji:\") == \"\" + \"\\uFE0F\"\n    assert Emoji.replace(\":warning-foo:\") == \":warning-foo:\"\n\n\ndef test_variant_non_default():\n    render_result = render(Emoji(\"warning\", variant=\"emoji\"))\n    assert render_result == \"\" + \"\\uFE0F\"\n",
    "start_line": 0
  },
  {
    "file": "test_color_triplet.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from rich.color_triplet import ColorTriplet",
    "start_line": 0
  },
  {
    "file": "test_color_triplet.py",
    "type": "function",
    "class": null,
    "method": "test_hex",
    "name": "test_hex",
    "content": "def test_hex():\n    assert ColorTriplet(255, 255, 255).hex == \"#ffffff\"\n    assert ColorTriplet(0, 255, 0).hex == \"#00ff00\"",
    "start_line": 3
  },
  {
    "file": "test_color_triplet.py",
    "type": "function",
    "class": null,
    "method": "test_rgb",
    "name": "test_rgb",
    "content": "def test_rgb():\n    assert ColorTriplet(255, 255, 255).rgb == \"rgb(255,255,255)\"\n    assert ColorTriplet(0, 255, 0).rgb == \"rgb(0,255,0)\"",
    "start_line": 8
  },
  {
    "file": "test_color_triplet.py",
    "type": "function",
    "class": null,
    "method": "test_normalized",
    "name": "test_normalized",
    "content": "def test_normalized():\n    assert ColorTriplet(255, 255, 255).normalized == (1.0, 1.0, 1.0)\n    assert ColorTriplet(0, 255, 0).normalized == (0.0, 1.0, 0.0)",
    "start_line": 13
  },
  {
    "file": "test_color_triplet.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "from rich.color_triplet import ColorTriplet\n\n\ndef test_hex():\n    assert ColorTriplet(255, 255, 255).hex == \"#ffffff\"\n    assert ColorTriplet(0, 255, 0).hex == \"#00ff00\"\n\n\ndef test_rgb():\n    assert ColorTriplet(255, 255, 255).rgb == \"rgb(255,255,255)\"\n    assert ColorTriplet(0, 255, 0).rgb == \"rgb(0,255,0)\"\n\n\ndef test_normalized():\n    assert ColorTriplet(255, 255, 255).normalized == (1.0, 1.0, 1.0)\n    assert ColorTriplet(0, 255, 0).normalized == (0.0, 1.0, 0.0)\n",
    "start_line": 0
  },
  {
    "file": "test_layout.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "import sys\nimport pytest\nfrom rich.console import Console\nfrom rich.layout import Layout, NoSplitter\nfrom rich.panel import Panel",
    "start_line": 0
  },
  {
    "file": "test_layout.py",
    "type": "function",
    "class": null,
    "method": "test_no_layout",
    "name": "test_no_layout",
    "content": "def test_no_layout():",
    "start_line": 9
  },
  {
    "file": "test_layout.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "layout = Layout()\n    with pytest.raises(NoSplitter):\n        layout.split(Layout(), Layout(), splitter=\"nope\")",
    "start_line": 10
  },
  {
    "file": "test_layout.py",
    "type": "function",
    "class": null,
    "method": "test_add_split",
    "name": "test_add_split",
    "content": "def test_add_split():",
    "start_line": 15
  },
  {
    "file": "test_layout.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "layout = Layout()\n    layout.split(Layout(), Layout())\n    assert len(layout.children) == 2\n    layout.add_split(Layout(name=\"foo\"))\n    assert len(layout.children) == 3\n    assert layout.children[2].name == \"foo\"",
    "start_line": 16
  },
  {
    "file": "test_layout.py",
    "type": "function",
    "class": null,
    "method": "test_unsplit",
    "name": "test_unsplit",
    "content": "def test_unsplit():",
    "start_line": 24
  },
  {
    "file": "test_layout.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "layout = Layout()\n    layout.split(Layout(), Layout())\n    assert len(layout.children) == 2\n    layout.unsplit()\n    assert len(layout.children) == 0\n@pytest.mark.skipif(sys.platform == \"win32\", reason=\"does not run on windows\")",
    "start_line": 25
  },
  {
    "file": "test_layout.py",
    "type": "function",
    "class": null,
    "method": "test_render",
    "name": "test_render",
    "content": "def test_render():",
    "start_line": 34
  },
  {
    "file": "test_layout.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "layout = Layout(name=\"root\")\n    repr(layout)\n    layout.split_column(Layout(name=\"top\"), Layout(name=\"bottom\"))\n    top = layout[\"top\"]\n    top.update(Panel(\"foo\"))\n    print(type(top._renderable))\n    assert isinstance(top.renderable, Panel)\n    layout[\"bottom\"].split_row(Layout(name=\"left\"), Layout(name=\"right\"))\n    assert layout[\"root\"].name == \"root\"\n    assert layout[\"left\"].name == \"left\"\n    assert isinstance(layout.map, dict)\n    with pytest.raises(KeyError):\n        top[\"asdasd\"]\n    layout[\"left\"].update(\"foobar\")\n    print(layout[\"left\"].children)\n    console = Console(width=60, color_system=None)\n    with console.capture() as capture:\n        console.print(layout, height=10)\n    result = capture.get()\n    print(repr(result))\n    expected = \"\\n foo                                                      \\n                                                          \\n                                                          \\n\\nfoobar                         'right' (30 x 5) \\n                                                          \\n                                  Layout(name='right')    \\n                                                          \\n                              \\n\"\n    assert result == expected",
    "start_line": 35
  },
  {
    "file": "test_layout.py",
    "type": "function",
    "class": null,
    "method": "test_tree",
    "name": "test_tree",
    "content": "def test_tree():",
    "start_line": 69
  },
  {
    "file": "test_layout.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "layout = Layout(name=\"root\")\n    layout.split(Layout(\"foo\", size=2), Layout(\"bar\", name=\"bar\"))\n    layout[\"bar\"].split_row(Layout(), Layout())\n    console = Console(width=60, color_system=None)\n    with console.capture() as capture:\n        console.print(layout.tree, height=10)\n    result = capture.get()\n    print(repr(result))\n    expected = \" Layout(name='root')\\n  Layout(size=2)\\n  Layout(name='bar')\\n      Layout()\\n      Layout()\\n\"\n    print(result, \"\\n\", expected)\n    assert result == expected\n@pytest.mark.skipif(sys.platform == \"win32\", reason=\"does not run on windows\")",
    "start_line": 70
  },
  {
    "file": "test_layout.py",
    "type": "function",
    "class": null,
    "method": "test_refresh_screen",
    "name": "test_refresh_screen",
    "content": "def test_refresh_screen():",
    "start_line": 86
  },
  {
    "file": "test_layout.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "layout = Layout()\n    layout.split_row(Layout(name=\"foo\"), Layout(name=\"bar\"))\n    console = Console(force_terminal=True, width=20, height=5, _environ={})\n    with console.capture():\n        console.print(layout)\n    with console.screen():\n        with console.capture() as capture:\n            layout.refresh_screen(console, \"foo\")\n    result = capture.get()\n    print()\n    print(repr(result))\n    expected = \"\\x1b[1;1H\\x1b[34m\\x1b[0m\\x1b[34m \\x1b[0m\\x1b[32m'foo'\\x1b[0m\\x1b[34m\\x1b[0m\\x1b[2;1H\\x1b[34m\\x1b[0m \\x1b[1;35mLayout\\x1b[0m \\x1b[34m\\x1b[0m\\x1b[3;1H\\x1b[34m\\x1b[0m \\x1b[1m(\\x1b[0m      \\x1b[34m\\x1b[0m\\x1b[4;1H\\x1b[34m\\x1b[0m     \\x1b[33mna\\x1b[0m \\x1b[34m\\x1b[0m\\x1b[5;1H\\x1b[34m\\x1b[0m\"\n    assert result == expected",
    "start_line": 87
  },
  {
    "file": "test_layout.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "import sys\n\nimport pytest\n\nfrom rich.console import Console\nfrom rich.layout import Layout, NoSplitter\nfrom rich.panel import Panel\n\n\ndef test_no_layout():\n    layout = Layout()\n    with pytest.raises(NoSplitter):\n        layout.split(Layout(), Layout(), splitter=\"nope\")\n\n\ndef test_add_split():\n    layout = Layout()\n    layout.split(Layout(), Layout())\n    assert len(layout.children) == 2\n    layout.add_split(Layout(name=\"foo\"))\n    assert len(layout.children) == 3\n    assert layout.children[2].name == \"foo\"\n\n\ndef test_unsplit():\n    layout = Layout()\n    layout.split(Layout(), Layout())\n    assert len(layout.children) == 2\n\n    layout.unsplit()\n    assert len(layout.children) == 0\n\n\n@pytest.mark.skipif(sys.platform == \"win32\", reason=\"does not run on windows\")\ndef test_render():\n    layout = Layout(name=\"root\")\n    repr(layout)\n\n    layout.split_column(Layout(name=\"top\"), Layout(name=\"bottom\"))\n    top = layout[\"top\"]\n    top.update(Panel(\"foo\"))\n\n    print(type(top._renderable))\n    assert isinstance(top.renderable, Panel)\n    layout[\"bottom\"].split_row(Layout(name=\"left\"), Layout(name=\"right\"))\n\n    assert layout[\"root\"].name == \"root\"\n    assert layout[\"left\"].name == \"left\"\n\n    assert isinstance(layout.map, dict)\n\n    with pytest.raises(KeyError):\n        top[\"asdasd\"]\n\n    layout[\"left\"].update(\"foobar\")\n    print(layout[\"left\"].children)\n\n    console = Console(width=60, color_system=None)\n\n    with console.capture() as capture:\n        console.print(layout, height=10)\n\n    result = capture.get()\n    print(repr(result))\n    expected = \"\\n foo                                                      \\n                                                          \\n                                                          \\n\\nfoobar                         'right' (30 x 5) \\n                                                          \\n                                  Layout(name='right')    \\n                                                          \\n                              \\n\"\n\n    assert result == expected\n\n\ndef test_tree():\n    layout = Layout(name=\"root\")\n    layout.split(Layout(\"foo\", size=2), Layout(\"bar\", name=\"bar\"))\n    layout[\"bar\"].split_row(Layout(), Layout())\n\n    console = Console(width=60, color_system=None)\n\n    with console.capture() as capture:\n        console.print(layout.tree, height=10)\n    result = capture.get()\n    print(repr(result))\n    expected = \" Layout(name='root')\\n  Layout(size=2)\\n  Layout(name='bar')\\n      Layout()\\n      Layout()\\n\"\n    print(result, \"\\n\", expected)\n    assert result == expected\n\n\n@pytest.mark.skipif(sys.platform == \"win32\", reason=\"does not run on windows\")\ndef test_refresh_screen():\n    layout = Layout()\n    layout.split_row(Layout(name=\"foo\"), Layout(name=\"bar\"))\n    console = Console(force_terminal=True, width=20, height=5, _environ={})\n    with console.capture():\n        console.print(layout)\n    with console.screen():\n        with console.capture() as capture:\n            layout.refresh_screen(console, \"foo\")\n    result = capture.get()\n    print()\n    print(repr(result))\n    expected = \"\\x1b[1;1H\\x1b[34m\\x1b[0m\\x1b[34m \\x1b[0m\\x1b[32m'foo'\\x1b[0m\\x1b[34m\\x1b[0m\\x1b[2;1H\\x1b[34m\\x1b[0m \\x1b[1;35mLayout\\x1b[0m \\x1b[34m\\x1b[0m\\x1b[3;1H\\x1b[34m\\x1b[0m \\x1b[1m(\\x1b[0m      \\x1b[34m\\x1b[0m\\x1b[4;1H\\x1b[34m\\x1b[0m     \\x1b[33mna\\x1b[0m \\x1b[34m\\x1b[0m\\x1b[5;1H\\x1b[34m\\x1b[0m\"\n    assert result == expected\n",
    "start_line": 0
  },
  {
    "file": "test_padding.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "import pytest\nfrom rich.padding import Padding\nfrom rich.console import Console, ConsoleDimensions, ConsoleOptions\nfrom rich.style import Style\nfrom rich.segment import Segment",
    "start_line": 0
  },
  {
    "file": "test_padding.py",
    "type": "function",
    "class": null,
    "method": "test_repr",
    "name": "test_repr",
    "content": "def test_repr():",
    "start_line": 8
  },
  {
    "file": "test_padding.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "padding = Padding(\"foo\", (1, 2))\n    assert isinstance(repr(padding), str)",
    "start_line": 9
  },
  {
    "file": "test_padding.py",
    "type": "function",
    "class": null,
    "method": "test_indent",
    "name": "test_indent",
    "content": "def test_indent():",
    "start_line": 13
  },
  {
    "file": "test_padding.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "indent_result = Padding.indent(\"test\", 4)\n    assert indent_result.top == 0\n    assert indent_result.right == 0\n    assert indent_result.bottom == 0\n    assert indent_result.left == 4",
    "start_line": 14
  },
  {
    "file": "test_padding.py",
    "type": "function",
    "class": null,
    "method": "test_unpack",
    "name": "test_unpack",
    "content": "def test_unpack():\n    assert Padding.unpack(3) == (3, 3, 3, 3)\n    assert Padding.unpack((3,)) == (3, 3, 3, 3)\n    assert Padding.unpack((3, 4)) == (3, 4, 3, 4)\n    assert Padding.unpack((3, 4, 5, 6)) == (3, 4, 5, 6)\n    with pytest.raises(ValueError):\n        Padding.unpack((1, 2, 3))",
    "start_line": 21
  },
  {
    "file": "test_padding.py",
    "type": "function",
    "class": null,
    "method": "test_expand_false",
    "name": "test_expand_false",
    "content": "def test_expand_false():",
    "start_line": 30
  },
  {
    "file": "test_padding.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(width=100, color_system=None)\n    console.begin_capture()\n    console.print(Padding(\"foo\", 1, expand=False))\n    assert console.end_capture() == \"     \\n foo \\n     \\n\"",
    "start_line": 31
  },
  {
    "file": "test_padding.py",
    "type": "function",
    "class": null,
    "method": "test_rich_console",
    "name": "test_rich_console",
    "content": "def test_rich_console():",
    "start_line": 37
  },
  {
    "file": "test_padding.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "renderable = \"test renderable\"\n    style = Style(color=\"red\")\n    options = ConsoleOptions(\n        ConsoleDimensions(80, 25),\n        max_height=25,\n        legacy_windows=False,\n        min_width=10,\n        max_width=20,\n        is_terminal=False,\n        encoding=\"utf-8\",\n    )\n    expected_outputs = [\n        Segment(renderable, style=style),\n        Segment(\" \" * (20 - len(renderable)), style=style),\n        Segment(\"\\n\", style=None),\n    ]\n    padding_generator = Padding(renderable, style=style).__rich_console__(\n        Console(), options\n    )\n    for output, expected in zip(padding_generator, expected_outputs):\n        assert output == expected",
    "start_line": 38
  },
  {
    "file": "test_padding.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "import pytest\n\nfrom rich.padding import Padding\nfrom rich.console import Console, ConsoleDimensions, ConsoleOptions\nfrom rich.style import Style\nfrom rich.segment import Segment\n\n\ndef test_repr():\n    padding = Padding(\"foo\", (1, 2))\n    assert isinstance(repr(padding), str)\n\n\ndef test_indent():\n    indent_result = Padding.indent(\"test\", 4)\n    assert indent_result.top == 0\n    assert indent_result.right == 0\n    assert indent_result.bottom == 0\n    assert indent_result.left == 4\n\n\ndef test_unpack():\n    assert Padding.unpack(3) == (3, 3, 3, 3)\n    assert Padding.unpack((3,)) == (3, 3, 3, 3)\n    assert Padding.unpack((3, 4)) == (3, 4, 3, 4)\n    assert Padding.unpack((3, 4, 5, 6)) == (3, 4, 5, 6)\n    with pytest.raises(ValueError):\n        Padding.unpack((1, 2, 3))\n\n\ndef test_expand_false():\n    console = Console(width=100, color_system=None)\n    console.begin_capture()\n    console.print(Padding(\"foo\", 1, expand=False))\n    assert console.end_capture() == \"     \\n foo \\n     \\n\"\n\n\ndef test_rich_console():\n    renderable = \"test renderable\"\n    style = Style(color=\"red\")\n    options = ConsoleOptions(\n        ConsoleDimensions(80, 25),\n        max_height=25,\n        legacy_windows=False,\n        min_width=10,\n        max_width=20,\n        is_terminal=False,\n        encoding=\"utf-8\",\n    )\n\n    expected_outputs = [\n        Segment(renderable, style=style),\n        Segment(\" \" * (20 - len(renderable)), style=style),\n        Segment(\"\\n\", style=None),\n    ]\n    padding_generator = Padding(renderable, style=style).__rich_console__(\n        Console(), options\n    )\n    for output, expected in zip(padding_generator, expected_outputs):\n        assert output == expected\n",
    "start_line": 0
  },
  {
    "file": "test_json.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from rich.json import JSON\nimport datetime",
    "start_line": 0
  },
  {
    "file": "test_json.py",
    "type": "function",
    "class": null,
    "method": "test_print_json_data_with_default",
    "name": "test_print_json_data_with_default",
    "content": "def test_print_json_data_with_default():",
    "start_line": 4
  },
  {
    "file": "test_json.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "date = datetime.date(2021, 1, 1)\n    json = JSON.from_data({\"date\": date}, default=lambda d: d.isoformat())\n    assert str(json.text) == '{\\n  \"date\": \"2021-01-01\"\\n}'",
    "start_line": 5
  },
  {
    "file": "test_json.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "from rich.json import JSON\nimport datetime\n\n\ndef test_print_json_data_with_default():\n    date = datetime.date(2021, 1, 1)\n    json = JSON.from_data({\"date\": date}, default=lambda d: d.isoformat())\n    assert str(json.text) == '{\\n  \"date\": \"2021-01-01\"\\n}'\n",
    "start_line": 0
  },
  {
    "file": "test_jupyter.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from rich.console import Console",
    "start_line": 0
  },
  {
    "file": "test_jupyter.py",
    "type": "function",
    "class": null,
    "method": "test_jupyter",
    "name": "test_jupyter",
    "content": "def test_jupyter():",
    "start_line": 3
  },
  {
    "file": "test_jupyter.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(force_jupyter=True)\n    assert console.width == 115\n    assert console.height == 100\n    assert console.color_system == \"truecolor\"",
    "start_line": 4
  },
  {
    "file": "test_jupyter.py",
    "type": "function",
    "class": null,
    "method": "test_jupyter_columns_env",
    "name": "test_jupyter_columns_env",
    "content": "def test_jupyter_columns_env():",
    "start_line": 10
  },
  {
    "file": "test_jupyter.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(_environ={\"JUPYTER_COLUMNS\": \"314\"}, force_jupyter=True)\n    assert console.width == 314",
    "start_line": 11
  },
  {
    "file": "test_jupyter.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# width take precedence",
    "start_line": 13
  },
  {
    "file": "test_jupyter.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(width=40, _environ={\"JUPYTER_COLUMNS\": \"314\"}, force_jupyter=True)\n    assert console.width == 40",
    "start_line": 14
  },
  {
    "file": "test_jupyter.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# Should not fail",
    "start_line": 16
  },
  {
    "file": "test_jupyter.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(\n        width=40, _environ={\"JUPYTER_COLUMNS\": \"broken\"}, force_jupyter=True\n    )",
    "start_line": 17
  },
  {
    "file": "test_jupyter.py",
    "type": "function",
    "class": null,
    "method": "test_jupyter_lines_env",
    "name": "test_jupyter_lines_env",
    "content": "def test_jupyter_lines_env():",
    "start_line": 22
  },
  {
    "file": "test_jupyter.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(_environ={\"JUPYTER_LINES\": \"220\"}, force_jupyter=True)\n    assert console.height == 220",
    "start_line": 23
  },
  {
    "file": "test_jupyter.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# height take precedence",
    "start_line": 25
  },
  {
    "file": "test_jupyter.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(height=40, _environ={\"JUPYTER_LINES\": \"220\"}, force_jupyter=True)\n    assert console.height == 40",
    "start_line": 26
  },
  {
    "file": "test_jupyter.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# Should not fail",
    "start_line": 28
  },
  {
    "file": "test_jupyter.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(\n        width=40, _environ={\"JUPYTER_LINES\": \"broken\"}, force_jupyter=True\n    )",
    "start_line": 29
  },
  {
    "file": "test_jupyter.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "from rich.console import Console\n\n\ndef test_jupyter():\n    console = Console(force_jupyter=True)\n    assert console.width == 115\n    assert console.height == 100\n    assert console.color_system == \"truecolor\"\n\n\ndef test_jupyter_columns_env():\n    console = Console(_environ={\"JUPYTER_COLUMNS\": \"314\"}, force_jupyter=True)\n    assert console.width == 314\n    # width take precedence\n    console = Console(width=40, _environ={\"JUPYTER_COLUMNS\": \"314\"}, force_jupyter=True)\n    assert console.width == 40\n    # Should not fail\n    console = Console(\n        width=40, _environ={\"JUPYTER_COLUMNS\": \"broken\"}, force_jupyter=True\n    )\n\n\ndef test_jupyter_lines_env():\n    console = Console(_environ={\"JUPYTER_LINES\": \"220\"}, force_jupyter=True)\n    assert console.height == 220\n    # height take precedence\n    console = Console(height=40, _environ={\"JUPYTER_LINES\": \"220\"}, force_jupyter=True)\n    assert console.height == 40\n    # Should not fail\n    console = Console(\n        width=40, _environ={\"JUPYTER_LINES\": \"broken\"}, force_jupyter=True\n    )\n",
    "start_line": 0
  },
  {
    "file": "test_tools.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from rich._loop import loop_first, loop_last, loop_first_last\nfrom rich._ratio import ratio_distribute",
    "start_line": 0
  },
  {
    "file": "test_tools.py",
    "type": "function",
    "class": null,
    "method": "test_loop_first",
    "name": "test_loop_first",
    "content": "def test_loop_first():\n    assert list(loop_first([])) == []",
    "start_line": 4
  },
  {
    "file": "test_tools.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "iterable = loop_first([\"apples\", \"oranges\", \"pears\", \"lemons\"])\n    assert next(iterable) == (True, \"apples\")\n    assert next(iterable) == (False, \"oranges\")\n    assert next(iterable) == (False, \"pears\")\n    assert next(iterable) == (False, \"lemons\")",
    "start_line": 6
  },
  {
    "file": "test_tools.py",
    "type": "function",
    "class": null,
    "method": "test_loop_last",
    "name": "test_loop_last",
    "content": "def test_loop_last():\n    assert list(loop_last([])) == []",
    "start_line": 13
  },
  {
    "file": "test_tools.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "iterable = loop_last([\"apples\", \"oranges\", \"pears\", \"lemons\"])\n    assert next(iterable) == (False, \"apples\")\n    assert next(iterable) == (False, \"oranges\")\n    assert next(iterable) == (False, \"pears\")\n    assert next(iterable) == (True, \"lemons\")",
    "start_line": 15
  },
  {
    "file": "test_tools.py",
    "type": "function",
    "class": null,
    "method": "test_loop_first_last",
    "name": "test_loop_first_last",
    "content": "def test_loop_first_last():\n    assert list(loop_first_last([])) == []",
    "start_line": 22
  },
  {
    "file": "test_tools.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "iterable = loop_first_last([\"apples\", \"oranges\", \"pears\", \"lemons\"])\n    assert next(iterable) == (True, False, \"apples\")\n    assert next(iterable) == (False, False, \"oranges\")\n    assert next(iterable) == (False, False, \"pears\")\n    assert next(iterable) == (False, True, \"lemons\")",
    "start_line": 24
  },
  {
    "file": "test_tools.py",
    "type": "function",
    "class": null,
    "method": "test_ratio_distribute",
    "name": "test_ratio_distribute",
    "content": "def test_ratio_distribute():\n    assert ratio_distribute(10, [1]) == [10]\n    assert ratio_distribute(10, [1, 1]) == [5, 5]\n    assert ratio_distribute(12, [1, 3]) == [3, 9]\n    assert ratio_distribute(0, [1, 3]) == [0, 0]\n    assert ratio_distribute(0, [1, 3], [1, 1]) == [1, 1]\n    assert ratio_distribute(10, [1, 0]) == [10, 0]",
    "start_line": 31
  },
  {
    "file": "test_tools.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "from rich._loop import loop_first, loop_last, loop_first_last\nfrom rich._ratio import ratio_distribute\n\n\ndef test_loop_first():\n    assert list(loop_first([])) == []\n    iterable = loop_first([\"apples\", \"oranges\", \"pears\", \"lemons\"])\n    assert next(iterable) == (True, \"apples\")\n    assert next(iterable) == (False, \"oranges\")\n    assert next(iterable) == (False, \"pears\")\n    assert next(iterable) == (False, \"lemons\")\n\n\ndef test_loop_last():\n    assert list(loop_last([])) == []\n    iterable = loop_last([\"apples\", \"oranges\", \"pears\", \"lemons\"])\n    assert next(iterable) == (False, \"apples\")\n    assert next(iterable) == (False, \"oranges\")\n    assert next(iterable) == (False, \"pears\")\n    assert next(iterable) == (True, \"lemons\")\n\n\ndef test_loop_first_last():\n    assert list(loop_first_last([])) == []\n    iterable = loop_first_last([\"apples\", \"oranges\", \"pears\", \"lemons\"])\n    assert next(iterable) == (True, False, \"apples\")\n    assert next(iterable) == (False, False, \"oranges\")\n    assert next(iterable) == (False, False, \"pears\")\n    assert next(iterable) == (False, True, \"lemons\")\n\n\ndef test_ratio_distribute():\n    assert ratio_distribute(10, [1]) == [10]\n    assert ratio_distribute(10, [1, 1]) == [5, 5]\n    assert ratio_distribute(12, [1, 3]) == [3, 9]\n    assert ratio_distribute(0, [1, 3]) == [0, 0]\n    assert ratio_distribute(0, [1, 3], [1, 1]) == [1, 1]\n    assert ratio_distribute(10, [1, 0]) == [10, 0]\n",
    "start_line": 0
  },
  {
    "file": "test_segment.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from io import StringIO\nimport pytest\nfrom rich.cells import cell_len\nfrom rich.segment import ControlType, Segment, SegmentLines, Segments\nfrom rich.style import Style",
    "start_line": 0
  },
  {
    "file": "test_segment.py",
    "type": "function",
    "class": null,
    "method": "test_repr",
    "name": "test_repr",
    "content": "def test_repr():\n    assert repr(Segment(\"foo\")) == \"Segment('foo')\"",
    "start_line": 9
  },
  {
    "file": "test_segment.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "home = (ControlType.HOME, 0)\n    assert (\n        repr(Segment(\"foo\", None, [home]))\n        == \"Segment('foo', None, [(<ControlType.HOME: 3>, 0)])\"\n    )",
    "start_line": 11
  },
  {
    "file": "test_segment.py",
    "type": "function",
    "class": null,
    "method": "test_line",
    "name": "test_line",
    "content": "def test_line():\n    assert Segment.line() == Segment(\"\\n\")",
    "start_line": 18
  },
  {
    "file": "test_segment.py",
    "type": "function",
    "class": null,
    "method": "test_apply_style",
    "name": "test_apply_style",
    "content": "def test_apply_style():",
    "start_line": 22
  },
  {
    "file": "test_segment.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "segments = [Segment(\"foo\"), Segment(\"bar\", Style(bold=True))]\n    assert Segment.apply_style(segments, None) is segments\n    assert list(Segment.apply_style(segments, Style(italic=True))) == [\n        Segment(\"foo\", Style(italic=True)),\n        Segment(\"bar\", Style(italic=True, bold=True)),\n    ]",
    "start_line": 23
  },
  {
    "file": "test_segment.py",
    "type": "function",
    "class": null,
    "method": "test_split_lines",
    "name": "test_split_lines",
    "content": "def test_split_lines():",
    "start_line": 31
  },
  {
    "file": "test_segment.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "lines = [Segment(\"Hello\\nWorld\")]\n    assert list(Segment.split_lines(lines)) == [[Segment(\"Hello\")], [Segment(\"World\")]]",
    "start_line": 32
  },
  {
    "file": "test_segment.py",
    "type": "function",
    "class": null,
    "method": "test_split_and_crop_lines",
    "name": "test_split_and_crop_lines",
    "content": "def test_split_and_crop_lines():\n    assert list(\n        Segment.split_and_crop_lines([Segment(\"Hello\\nWorld!\\n\"), Segment(\"foo\")], 4)\n    ) == [\n        [Segment(\"Hell\"), Segment(\"\\n\", None)],\n        [Segment(\"Worl\"), Segment(\"\\n\", None)],\n        [Segment(\"foo\"), Segment(\" \")],\n    ]",
    "start_line": 36
  },
  {
    "file": "test_segment.py",
    "type": "function",
    "class": null,
    "method": "test_adjust_line_length",
    "name": "test_adjust_line_length",
    "content": "def test_adjust_line_length():",
    "start_line": 46
  },
  {
    "file": "test_segment.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "line = [Segment(\"Hello\", \"foo\")]\n    assert Segment.adjust_line_length(line, 10, style=\"bar\") == [\n        Segment(\"Hello\", \"foo\"),\n        Segment(\"     \", \"bar\"),\n    ]\n    line = [Segment(\"H\"), Segment(\"ello, World!\")]\n    assert Segment.adjust_line_length(line, 5) == [Segment(\"H\"), Segment(\"ello\")]\n    line = [Segment(\"Hello\")]\n    assert Segment.adjust_line_length(line, 5) == line",
    "start_line": 47
  },
  {
    "file": "test_segment.py",
    "type": "function",
    "class": null,
    "method": "test_get_line_length",
    "name": "test_get_line_length",
    "content": "def test_get_line_length():\n    assert Segment.get_line_length([Segment(\"foo\"), Segment(\"bar\")]) == 6",
    "start_line": 60
  },
  {
    "file": "test_segment.py",
    "type": "function",
    "class": null,
    "method": "test_get_shape",
    "name": "test_get_shape",
    "content": "def test_get_shape():\n    assert Segment.get_shape([[Segment(\"Hello\")]]) == (5, 1)\n    assert Segment.get_shape([[Segment(\"Hello\")], [Segment(\"World!\")]]) == (6, 2)",
    "start_line": 64
  },
  {
    "file": "test_segment.py",
    "type": "function",
    "class": null,
    "method": "test_set_shape",
    "name": "test_set_shape",
    "content": "def test_set_shape():\n    assert Segment.set_shape([[Segment(\"Hello\")]], 10) == [\n        [Segment(\"Hello\"), Segment(\"     \")]\n    ]\n    assert Segment.set_shape([[Segment(\"Hello\")]], 10, 2) == [\n        [Segment(\"Hello\"), Segment(\"     \")],\n        [Segment(\" \" * 10)],\n    ]",
    "start_line": 69
  },
  {
    "file": "test_segment.py",
    "type": "function",
    "class": null,
    "method": "test_simplify",
    "name": "test_simplify",
    "content": "def test_simplify():\n    assert list(\n        Segment.simplify([Segment(\"Hello\"), Segment(\" \"), Segment(\"World!\")])\n    ) == [Segment(\"Hello World!\")]\n    assert list(\n        Segment.simplify(\n            [Segment(\"Hello\", \"red\"), Segment(\" \", \"red\"), Segment(\"World!\", \"blue\")]\n        )\n    ) == [Segment(\"Hello \", \"red\"), Segment(\"World!\", \"blue\")]\n    assert list(Segment.simplify([])) == []",
    "start_line": 79
  },
  {
    "file": "test_segment.py",
    "type": "function",
    "class": null,
    "method": "test_filter_control",
    "name": "test_filter_control",
    "content": "def test_filter_control():",
    "start_line": 91
  },
  {
    "file": "test_segment.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "control_code = (ControlType.HOME, 0)\n    segments = [Segment(\"foo\"), Segment(\"bar\", None, (control_code,))]\n    assert list(Segment.filter_control(segments)) == [Segment(\"foo\")]\n    assert list(Segment.filter_control(segments, is_control=True)) == [\n        Segment(\"bar\", None, (control_code,))\n    ]",
    "start_line": 92
  },
  {
    "file": "test_segment.py",
    "type": "function",
    "class": null,
    "method": "test_strip_styles",
    "name": "test_strip_styles",
    "content": "def test_strip_styles():",
    "start_line": 100
  },
  {
    "file": "test_segment.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "segments = [Segment(\"foo\", Style(bold=True))]\n    assert list(Segment.strip_styles(segments)) == [Segment(\"foo\", None)]",
    "start_line": 101
  },
  {
    "file": "test_segment.py",
    "type": "function",
    "class": null,
    "method": "test_strip_links",
    "name": "test_strip_links",
    "content": "def test_strip_links():",
    "start_line": 105
  },
  {
    "file": "test_segment.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "segments = [Segment(\"foo\", Style(bold=True, link=\"https://www.example.org\"))]\n    assert list(Segment.strip_links(segments)) == [Segment(\"foo\", Style(bold=True))]",
    "start_line": 106
  },
  {
    "file": "test_segment.py",
    "type": "function",
    "class": null,
    "method": "test_remove_color",
    "name": "test_remove_color",
    "content": "def test_remove_color():",
    "start_line": 110
  },
  {
    "file": "test_segment.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "segments = [\n        Segment(\"foo\", Style(bold=True, color=\"red\")),\n        Segment(\"bar\", None),\n    ]\n    assert list(Segment.remove_color(segments)) == [\n        Segment(\"foo\", Style(bold=True)),\n        Segment(\"bar\", None),\n    ]",
    "start_line": 111
  },
  {
    "file": "test_segment.py",
    "type": "function",
    "class": null,
    "method": "test_is_control",
    "name": "test_is_control",
    "content": "def test_is_control():\n    assert Segment(\"foo\", Style(bold=True)).is_control == False\n    assert Segment(\"foo\", Style(bold=True), []).is_control == True\n    assert Segment(\"foo\", Style(bold=True), [(ControlType.HOME, 0)]).is_control == True",
    "start_line": 121
  },
  {
    "file": "test_segment.py",
    "type": "function",
    "class": null,
    "method": "test_segments_renderable",
    "name": "test_segments_renderable",
    "content": "def test_segments_renderable():",
    "start_line": 127
  },
  {
    "file": "test_segment.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "segments = Segments([Segment(\"foo\")])\n    assert list(segments.__rich_console__(None, None)) == [Segment(\"foo\")]\n    segments = Segments([Segment(\"foo\")], new_lines=True)\n    assert list(segments.__rich_console__(None, None)) == [\n        Segment(\"foo\"),\n        Segment.line(),\n    ]",
    "start_line": 128
  },
  {
    "file": "test_segment.py",
    "type": "function",
    "class": null,
    "method": "test_divide",
    "name": "test_divide",
    "content": "def test_divide():",
    "start_line": 138
  },
  {
    "file": "test_segment.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "bold = Style(bold=True)\n    italic = Style(italic=True)\n    segments = [\n        Segment(\"Hello\", bold),\n        Segment(\" World!\", italic),\n    ]\n    assert list(Segment.divide(segments, [])) == []\n    assert list(Segment.divide([], [1])) == [[]]\n    assert list(Segment.divide(segments, [1])) == [[Segment(\"H\", bold)]]\n    assert list(Segment.divide(segments, [1, 2])) == [\n        [Segment(\"H\", bold)],\n        [Segment(\"e\", bold)],\n    ]\n    assert list(Segment.divide(segments, [1, 2, 12])) == [\n        [Segment(\"H\", bold)],\n        [Segment(\"e\", bold)],\n        [Segment(\"llo\", bold), Segment(\" World!\", italic)],\n    ]\n    assert list(Segment.divide(segments, [4, 20])) == [\n        [Segment(\"Hell\", bold)],\n        [Segment(\"o\", bold), Segment(\" World!\", italic)],\n    ]",
    "start_line": 139
  },
  {
    "file": "test_segment.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# https://github.com/textualize/rich/issues/1755",
    "start_line": 168
  },
  {
    "file": "test_segment.py",
    "type": "function",
    "class": null,
    "method": "test_divide_complex",
    "name": "test_divide_complex",
    "content": "def test_divide_complex():",
    "start_line": 169
  },
  {
    "file": "test_segment.py",
    "type": "constants",
    "class": null,
    "method": null,
    "name": "module_constants",
    "content": "MAP = (\n        \"[on orange4]          [on green]XX[on orange4]          \\n\"\n        \"                        \\n\"\n        \"                        \\n\"\n        \"                        \\n\"\n        \"              [bright_red on black]Y[on orange4]        \\n\"\n        \"[on green]X[on orange4]                  [on green]X[on orange4]  \\n\"\n        \" [on green]X[on orange4]                   [on green]X\\n\"\n        \"[on orange4]                        \\n\"\n        \"          [on green]XX[on orange4]          \\n\"\n    )",
    "start_line": 170
  },
  {
    "file": "test_segment.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from rich.console import Console\n    from rich.text import Text",
    "start_line": 181
  },
  {
    "file": "test_segment.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "text = Text.from_markup(MAP)\n    console = Console(\n        color_system=\"truecolor\", width=30, force_terminal=True, file=StringIO()\n    )\n    console.print(text)\n    result = console.file.getvalue()\n    print(repr(result))\n    expected = \"\\x1b[48;5;94m          \\x1b[0m\\x1b[42mXX\\x1b[0m\\x1b[48;5;94m          \\x1b[0m\\n\\x1b[48;5;94m                        \\x1b[0m\\n\\x1b[48;5;94m                        \\x1b[0m\\n\\x1b[48;5;94m                        \\x1b[0m\\n\\x1b[48;5;94m              \\x1b[0m\\x1b[91;40mY\\x1b[0m\\x1b[91;48;5;94m        \\x1b[0m\\n\\x1b[91;42mX\\x1b[0m\\x1b[91;48;5;94m                  \\x1b[0m\\x1b[91;42mX\\x1b[0m\\x1b[91;48;5;94m  \\x1b[0m\\n\\x1b[91;48;5;94m \\x1b[0m\\x1b[91;42mX\\x1b[0m\\x1b[91;48;5;94m                   \\x1b[0m\\x1b[91;42mX\\x1b[0m\\n\\x1b[91;48;5;94m                        \\x1b[0m\\n\\x1b[91;48;5;94m          \\x1b[0m\\x1b[91;42mXX\\x1b[0m\\x1b[91;48;5;94m          \\x1b[0m\\n\\n\"\n    assert result == expected",
    "start_line": 184
  },
  {
    "file": "test_segment.py",
    "type": "function",
    "class": null,
    "method": "test_divide_emoji",
    "name": "test_divide_emoji",
    "content": "def test_divide_emoji():",
    "start_line": 196
  },
  {
    "file": "test_segment.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "bold = Style(bold=True)\n    italic = Style(italic=True)\n    segments = [\n        Segment(\"Hello\", bold),\n        Segment(\"\", italic),\n    ]\n    assert list(Segment.divide(segments, [7])) == [\n        [Segment(\"Hello\", bold), Segment(\"\", italic)],\n    ]\n    assert list(Segment.divide(segments, [8])) == [\n        [Segment(\"Hello\", bold), Segment(\" \", italic)],\n    ]\n    assert list(Segment.divide(segments, [9])) == [\n        [Segment(\"Hello\", bold), Segment(\"\", italic)],\n    ]\n    assert list(Segment.divide(segments, [8, 11])) == [\n        [Segment(\"Hello\", bold), Segment(\" \", italic)],\n        [Segment(\" \", italic)],\n    ]\n    assert list(Segment.divide(segments, [9, 11])) == [\n        [Segment(\"Hello\", bold), Segment(\"\", italic)],\n        [Segment(\"\", italic)],\n    ]",
    "start_line": 197
  },
  {
    "file": "test_segment.py",
    "type": "function",
    "class": null,
    "method": "test_divide_edge",
    "name": "test_divide_edge",
    "content": "def test_divide_edge():",
    "start_line": 223
  },
  {
    "file": "test_segment.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "segments = [Segment(\"foo\"), Segment(\"bar\"), Segment(\"baz\")]\n    result = list(Segment.divide(segments, [1, 3, 9]))\n    print(result)\n    assert result == [\n        [Segment(\"f\")],\n        [Segment(\"oo\")],\n        [Segment(\"bar\"), Segment(\"baz\")],\n    ]",
    "start_line": 224
  },
  {
    "file": "test_segment.py",
    "type": "function",
    "class": null,
    "method": "test_divide_edge_2",
    "name": "test_divide_edge_2",
    "content": "def test_divide_edge_2():",
    "start_line": 234
  },
  {
    "file": "test_segment.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "segments = [\n        Segment(\"\"),\n        Segment(\n            \" Placeholder \",\n        ),\n        Segment(\n            \"\",\n        ),\n    ]\n    result = list(Segment.divide(segments, [30, 60]))\n    expected = [segments, []]\n    print(repr(result))\n    assert result == expected\n@pytest.mark.parametrize(\n    \"text,split,result\",\n    [\n        (\"XX\", 4, (Segment(\"XX\"), Segment(\"\"))),\n        (\"X\", 1, (Segment(\"X\"), Segment(\"\"))),\n        (\"\", 1, (Segment(\" \"), Segment(\" \"))),\n        (\"XY\", 1, (Segment(\"X\"), Segment(\"Y\"))),\n        (\"X\", 1, (Segment(\" \"), Segment(\" X\"))),\n        (\"\", 1, (Segment(\" \"), Segment(\" \"))),\n        (\"XY\", 2, (Segment(\"X \"), Segment(\" Y\"))),\n        (\"XYZ\", 2, (Segment(\"X \"), Segment(\" YZ\"))),\n        (\"XZ\", 2, (Segment(\"X \"), Segment(\" Z\"))),\n        (\"XZ\", 3, (Segment(\"X\"), Segment(\"Z\"))),\n        (\"XZ\", 4, (Segment(\"X \"), Segment(\" Z\"))),\n        (\"XZ\", 5, (Segment(\"X\"), Segment(\"Z\"))),\n        (\"XZ\", 6, (Segment(\"XZ\"), Segment(\"\"))),\n        (\"XYZABC\", 6, (Segment(\"XYZABC\"), Segment(\"\"))),\n        (\"XYZABC\", 7, (Segment(\"XYZABC \"), Segment(\" \"))),\n        (\"XYZABC\", 8, (Segment(\"XYZABC\"), Segment(\"\"))),\n        (\"XYZABC\", 9, (Segment(\"XYZABC \"), Segment(\" \"))),\n        (\"XYZABC\", 10, (Segment(\"XYZABC\"), Segment(\"\"))),\n        (\"\", 3, (Segment(\" \"), Segment(\" \"))),\n        (\"\", 4, (Segment(\"\"), Segment(\"\"))),\n        (\"XYZA\", 4, (Segment(\"X \"), Segment(\" YZA\"))),\n        (\"XYZABC\", 4, (Segment(\"XYZA\"), Segment(\"BC\"))),\n        (\"XYZABC\", 5, (Segment(\"XYZAB\"), Segment(\"C\"))),\n        (\n            \"a1bcdaef\",\n            9,\n            (Segment(\"a1b\"), Segment(\"cdaef\")),\n        ),\n    ],\n)",
    "start_line": 235
  },
  {
    "file": "test_segment.py",
    "type": "function",
    "class": null,
    "method": "test_split_cells_emoji",
    "name": "test_split_cells_emoji",
    "content": "def test_split_cells_emoji(text, split, result):\n    assert Segment(text).split_cells(split) == result\n\n\n@pytest.mark.parametrize(\n    \"segment\",\n    [\n        Segment(\" (CV: \"),\n        Segment(\"    \"),\n        Segment(\"TV -- CD\"),\n        Segment(\"JK?     \"),\n        Segment(\" (CV: )     \"),\n        Segment(\"  (CV: )     \"),\n        Segment(\"   (CV: )     \"),\n        Segment(\"   (CV: )      \"),\n    ],\n)",
    "start_line": 283
  },
  {
    "file": "test_segment.py",
    "type": "function",
    "class": null,
    "method": "test_split_cells_mixed",
    "name": "test_split_cells_mixed",
    "content": "def test_split_cells_mixed(segment: Segment) -> None:\n    \"\"\"Check that split cells splits on cell positions.\"\"\"",
    "start_line": 300
  },
  {
    "file": "test_segment.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# Caused https://github.com/Textualize/textual/issues/4996 in Textual\n    for position in range(0, segment.cell_length + 1):\n        left, right = Segment.split_cells(segment, position)\n        assert all(\n            cell_len(c) > 0 for c in segment.text\n        )  # Sanity check there aren't any sneaky control codes\n        assert cell_len(left.text) == position\n        assert cell_len(right.text) == segment.cell_length - position",
    "start_line": 302
  },
  {
    "file": "test_segment.py",
    "type": "function",
    "class": null,
    "method": "test_split_cells_doubles",
    "name": "test_split_cells_doubles",
    "content": "def test_split_cells_doubles() -> None:\n    \"\"\"Check that split cells splits on cell positions with all double width characters.\"\"\"",
    "start_line": 313
  },
  {
    "file": "test_segment.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "test = Segment(\"\" * 20)\n    for position in range(1, test.cell_length):\n        left, right = Segment.split_cells(test, position)\n        assert cell_len(left.text) == position\n        assert cell_len(right.text) == test.cell_length - position",
    "start_line": 315
  },
  {
    "file": "test_segment.py",
    "type": "function",
    "class": null,
    "method": "test_split_cells_single",
    "name": "test_split_cells_single",
    "content": "def test_split_cells_single() -> None:\n    \"\"\"Check that split cells splits on cell positions with all single width characters.\"\"\"",
    "start_line": 322
  },
  {
    "file": "test_segment.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "test = Segment(\"A\" * 20)\n    for position in range(1, test.cell_length):\n        left, right = Segment.split_cells(test, position)\n        assert cell_len(left.text) == position\n        assert cell_len(right.text) == test.cell_length - position",
    "start_line": 324
  },
  {
    "file": "test_segment.py",
    "type": "function",
    "class": null,
    "method": "test_segment_lines_renderable",
    "name": "test_segment_lines_renderable",
    "content": "def test_segment_lines_renderable():",
    "start_line": 331
  },
  {
    "file": "test_segment.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "lines = [[Segment(\"hello\"), Segment(\" \"), Segment(\"world\")], [Segment(\"foo\")]]\n    segment_lines = SegmentLines(lines)\n    assert list(segment_lines.__rich_console__(None, None)) == [\n        Segment(\"hello\"),\n        Segment(\" \"),\n        Segment(\"world\"),\n        Segment(\"foo\"),\n    ]\n    segment_lines = SegmentLines(lines, new_lines=True)\n    assert list(segment_lines.__rich_console__(None, None)) == [\n        Segment(\"hello\"),\n        Segment(\" \"),\n        Segment(\"world\"),\n        Segment(\"\\n\"),\n        Segment(\"foo\"),\n        Segment(\"\\n\"),\n    ]",
    "start_line": 332
  },
  {
    "file": "test_segment.py",
    "type": "function",
    "class": null,
    "method": "test_align_top",
    "name": "test_align_top",
    "content": "def test_align_top():",
    "start_line": 352
  },
  {
    "file": "test_segment.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "lines = [[Segment(\"X\")]]\n    assert Segment.align_top(lines, 3, 1, Style()) == lines\n    assert Segment.align_top(lines, 3, 3, Style()) == [\n        [Segment(\"X\")],\n        [Segment(\"   \", Style())],\n        [Segment(\"   \", Style())],\n    ]",
    "start_line": 353
  },
  {
    "file": "test_segment.py",
    "type": "function",
    "class": null,
    "method": "test_align_middle",
    "name": "test_align_middle",
    "content": "def test_align_middle():",
    "start_line": 362
  },
  {
    "file": "test_segment.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "lines = [[Segment(\"X\")]]\n    assert Segment.align_middle(lines, 3, 1, Style()) == lines\n    assert Segment.align_middle(lines, 3, 3, Style()) == [\n        [Segment(\"   \", Style())],\n        [Segment(\"X\")],\n        [Segment(\"   \", Style())],\n    ]",
    "start_line": 363
  },
  {
    "file": "test_segment.py",
    "type": "function",
    "class": null,
    "method": "test_align_bottom",
    "name": "test_align_bottom",
    "content": "def test_align_bottom():",
    "start_line": 372
  },
  {
    "file": "test_segment.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "lines = [[Segment(\"X\")]]\n    assert Segment.align_bottom(lines, 3, 1, Style()) == lines\n    assert Segment.align_bottom(lines, 3, 3, Style()) == [\n        [Segment(\"   \", Style())],\n        [Segment(\"   \", Style())],\n        [Segment(\"X\")],\n    ]",
    "start_line": 373
  },
  {
    "file": "test_segment.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "from io import StringIO\n\nimport pytest\n\nfrom rich.cells import cell_len\nfrom rich.segment import ControlType, Segment, SegmentLines, Segments\nfrom rich.style import Style\n\n\ndef test_repr():\n    assert repr(Segment(\"foo\")) == \"Segment('foo')\"\n    home = (ControlType.HOME, 0)\n    assert (\n        repr(Segment(\"foo\", None, [home]))\n        == \"Segment('foo', None, [(<ControlType.HOME: 3>, 0)])\"\n    )\n\n\ndef test_line():\n    assert Segment.line() == Segment(\"\\n\")\n\n\ndef test_apply_style():\n    segments = [Segment(\"foo\"), Segment(\"bar\", Style(bold=True))]\n    assert Segment.apply_style(segments, None) is segments\n    assert list(Segment.apply_style(segments, Style(italic=True))) == [\n        Segment(\"foo\", Style(italic=True)),\n        Segment(\"bar\", Style(italic=True, bold=True)),\n    ]\n\n\ndef test_split_lines():\n    lines = [Segment(\"Hello\\nWorld\")]\n    assert list(Segment.split_lines(lines)) == [[Segment(\"Hello\")], [Segment(\"World\")]]\n\n\ndef test_split_and_crop_lines():\n    assert list(\n        Segment.split_and_crop_lines([Segment(\"Hello\\nWorld!\\n\"), Segment(\"foo\")], 4)\n    ) == [\n        [Segment(\"Hell\"), Segment(\"\\n\", None)],\n        [Segment(\"Worl\"), Segment(\"\\n\", None)],\n        [Segment(\"foo\"), Segment(\" \")],\n    ]\n\n\ndef test_adjust_line_length():\n    line = [Segment(\"Hello\", \"foo\")]\n    assert Segment.adjust_line_length(line, 10, style=\"bar\") == [\n        Segment(\"Hello\", \"foo\"),\n        Segment(\"     \", \"bar\"),\n    ]\n\n    line = [Segment(\"H\"), Segment(\"ello, World!\")]\n    assert Segment.adjust_line_length(line, 5) == [Segment(\"H\"), Segment(\"ello\")]\n\n    line = [Segment(\"Hello\")]\n    assert Segment.adjust_line_length(line, 5) == line\n\n\ndef test_get_line_length():\n    assert Segment.get_line_length([Segment(\"foo\"), Segment(\"bar\")]) == 6\n\n\ndef test_get_shape():\n    assert Segment.get_shape([[Segment(\"Hello\")]]) == (5, 1)\n    assert Segment.get_shape([[Segment(\"Hello\")], [Segment(\"World!\")]]) == (6, 2)\n\n\ndef test_set_shape():\n    assert Segment.set_shape([[Segment(\"Hello\")]], 10) == [\n        [Segment(\"Hello\"), Segment(\"     \")]\n    ]\n    assert Segment.set_shape([[Segment(\"Hello\")]], 10, 2) == [\n        [Segment(\"Hello\"), Segment(\"     \")],\n        [Segment(\" \" * 10)],\n    ]\n\n\ndef test_simplify():\n    assert list(\n        Segment.simplify([Segment(\"Hello\"), Segment(\" \"), Segment(\"World!\")])\n    ) == [Segment(\"Hello World!\")]\n    assert list(\n        Segment.simplify(\n            [Segment(\"Hello\", \"red\"), Segment(\" \", \"red\"), Segment(\"World!\", \"blue\")]\n        )\n    ) == [Segment(\"Hello \", \"red\"), Segment(\"World!\", \"blue\")]\n    assert list(Segment.simplify([])) == []\n\n\ndef test_filter_control():\n    control_code = (ControlType.HOME, 0)\n    segments = [Segment(\"foo\"), Segment(\"bar\", None, (control_code,))]\n    assert list(Segment.filter_control(segments)) == [Segment(\"foo\")]\n    assert list(Segment.filter_control(segments, is_control=True)) == [\n        Segment(\"bar\", None, (control_code,))\n    ]\n\n\ndef test_strip_styles():\n    segments = [Segment(\"foo\", Style(bold=True))]\n    assert list(Segment.strip_styles(segments)) == [Segment(\"foo\", None)]\n\n\ndef test_strip_links():\n    segments = [Segment(\"foo\", Style(bold=True, link=\"https://www.example.org\"))]\n    assert list(Segment.strip_links(segments)) == [Segment(\"foo\", Style(bold=True))]\n\n\ndef test_remove_color():\n    segments = [\n        Segment(\"foo\", Style(bold=True, color=\"red\")),\n        Segment(\"bar\", None),\n    ]\n    assert list(Segment.remove_color(segments)) == [\n        Segment(\"foo\", Style(bold=True)),\n        Segment(\"bar\", None),\n    ]\n\n\ndef test_is_control():\n    assert Segment(\"foo\", Style(bold=True)).is_control == False\n    assert Segment(\"foo\", Style(bold=True), []).is_control == True\n    assert Segment(\"foo\", Style(bold=True), [(ControlType.HOME, 0)]).is_control == True\n\n\ndef test_segments_renderable():\n    segments = Segments([Segment(\"foo\")])\n    assert list(segments.__rich_console__(None, None)) == [Segment(\"foo\")]\n\n    segments = Segments([Segment(\"foo\")], new_lines=True)\n    assert list(segments.__rich_console__(None, None)) == [\n        Segment(\"foo\"),\n        Segment.line(),\n    ]\n\n\ndef test_divide():\n    bold = Style(bold=True)\n    italic = Style(italic=True)\n    segments = [\n        Segment(\"Hello\", bold),\n        Segment(\" World!\", italic),\n    ]\n\n    assert list(Segment.divide(segments, [])) == []\n    assert list(Segment.divide([], [1])) == [[]]\n\n    assert list(Segment.divide(segments, [1])) == [[Segment(\"H\", bold)]]\n\n    assert list(Segment.divide(segments, [1, 2])) == [\n        [Segment(\"H\", bold)],\n        [Segment(\"e\", bold)],\n    ]\n\n    assert list(Segment.divide(segments, [1, 2, 12])) == [\n        [Segment(\"H\", bold)],\n        [Segment(\"e\", bold)],\n        [Segment(\"llo\", bold), Segment(\" World!\", italic)],\n    ]\n\n    assert list(Segment.divide(segments, [4, 20])) == [\n        [Segment(\"Hell\", bold)],\n        [Segment(\"o\", bold), Segment(\" World!\", italic)],\n    ]\n\n\n# https://github.com/textualize/rich/issues/1755\ndef test_divide_complex():\n    MAP = (\n        \"[on orange4]          [on green]XX[on orange4]          \\n\"\n        \"                        \\n\"\n        \"                        \\n\"\n        \"                        \\n\"\n        \"              [bright_red on black]Y[on orange4]        \\n\"\n        \"[on green]X[on orange4]                  [on green]X[on orange4]  \\n\"\n        \" [on green]X[on orange4]                   [on green]X\\n\"\n        \"[on orange4]                        \\n\"\n        \"          [on green]XX[on orange4]          \\n\"\n    )\n    from rich.console import Console\n    from rich.text import Text\n\n    text = Text.from_markup(MAP)\n    console = Console(\n        color_system=\"truecolor\", width=30, force_terminal=True, file=StringIO()\n    )\n    console.print(text)\n    result = console.file.getvalue()\n\n    print(repr(result))\n    expected = \"\\x1b[48;5;94m          \\x1b[0m\\x1b[42mXX\\x1b[0m\\x1b[48;5;94m          \\x1b[0m\\n\\x1b[48;5;94m                        \\x1b[0m\\n\\x1b[48;5;94m                        \\x1b[0m\\n\\x1b[48;5;94m                        \\x1b[0m\\n\\x1b[48;5;94m              \\x1b[0m\\x1b[91;40mY\\x1b[0m\\x1b[91;48;5;94m        \\x1b[0m\\n\\x1b[91;42mX\\x1b[0m\\x1b[91;48;5;94m                  \\x1b[0m\\x1b[91;42mX\\x1b[0m\\x1b[91;48;5;94m  \\x1b[0m\\n\\x1b[91;48;5;94m \\x1b[0m\\x1b[91;42mX\\x1b[0m\\x1b[91;48;5;94m                   \\x1b[0m\\x1b[91;42mX\\x1b[0m\\n\\x1b[91;48;5;94m                        \\x1b[0m\\n\\x1b[91;48;5;94m          \\x1b[0m\\x1b[91;42mXX\\x1b[0m\\x1b[91;48;5;94m          \\x1b[0m\\n\\n\"\n    assert result == expected\n\n\ndef test_divide_emoji():\n    bold = Style(bold=True)\n    italic = Style(italic=True)\n    segments = [\n        Segment(\"Hello\", bold),\n        Segment(\"\", italic),\n    ]\n\n    assert list(Segment.divide(segments, [7])) == [\n        [Segment(\"Hello\", bold), Segment(\"\", italic)],\n    ]\n    assert list(Segment.divide(segments, [8])) == [\n        [Segment(\"Hello\", bold), Segment(\" \", italic)],\n    ]\n    assert list(Segment.divide(segments, [9])) == [\n        [Segment(\"Hello\", bold), Segment(\"\", italic)],\n    ]\n    assert list(Segment.divide(segments, [8, 11])) == [\n        [Segment(\"Hello\", bold), Segment(\" \", italic)],\n        [Segment(\" \", italic)],\n    ]\n    assert list(Segment.divide(segments, [9, 11])) == [\n        [Segment(\"Hello\", bold), Segment(\"\", italic)],\n        [Segment(\"\", italic)],\n    ]\n\n\ndef test_divide_edge():\n    segments = [Segment(\"foo\"), Segment(\"bar\"), Segment(\"baz\")]\n    result = list(Segment.divide(segments, [1, 3, 9]))\n    print(result)\n    assert result == [\n        [Segment(\"f\")],\n        [Segment(\"oo\")],\n        [Segment(\"bar\"), Segment(\"baz\")],\n    ]\n\n\ndef test_divide_edge_2():\n    segments = [\n        Segment(\"\"),\n        Segment(\n            \" Placeholder \",\n        ),\n        Segment(\n            \"\",\n        ),\n    ]\n    result = list(Segment.divide(segments, [30, 60]))\n    expected = [segments, []]\n    print(repr(result))\n    assert result == expected\n\n\n@pytest.mark.parametrize(\n    \"text,split,result\",\n    [\n        (\"XX\", 4, (Segment(\"XX\"), Segment(\"\"))),\n        (\"X\", 1, (Segment(\"X\"), Segment(\"\"))),\n        (\"\", 1, (Segment(\" \"), Segment(\" \"))),\n        (\"XY\", 1, (Segment(\"X\"), Segment(\"Y\"))),\n        (\"X\", 1, (Segment(\" \"), Segment(\" X\"))),\n        (\"\", 1, (Segment(\" \"), Segment(\" \"))),\n        (\"XY\", 2, (Segment(\"X \"), Segment(\" Y\"))),\n        (\"XYZ\", 2, (Segment(\"X \"), Segment(\" YZ\"))),\n        (\"XZ\", 2, (Segment(\"X \"), Segment(\" Z\"))),\n        (\"XZ\", 3, (Segment(\"X\"), Segment(\"Z\"))),\n        (\"XZ\", 4, (Segment(\"X \"), Segment(\" Z\"))),\n        (\"XZ\", 5, (Segment(\"X\"), Segment(\"Z\"))),\n        (\"XZ\", 6, (Segment(\"XZ\"), Segment(\"\"))),\n        (\"XYZABC\", 6, (Segment(\"XYZABC\"), Segment(\"\"))),\n        (\"XYZABC\", 7, (Segment(\"XYZABC \"), Segment(\" \"))),\n        (\"XYZABC\", 8, (Segment(\"XYZABC\"), Segment(\"\"))),\n        (\"XYZABC\", 9, (Segment(\"XYZABC \"), Segment(\" \"))),\n        (\"XYZABC\", 10, (Segment(\"XYZABC\"), Segment(\"\"))),\n        (\"\", 3, (Segment(\" \"), Segment(\" \"))),\n        (\"\", 4, (Segment(\"\"), Segment(\"\"))),\n        (\"XYZA\", 4, (Segment(\"X \"), Segment(\" YZA\"))),\n        (\"XYZABC\", 4, (Segment(\"XYZA\"), Segment(\"BC\"))),\n        (\"XYZABC\", 5, (Segment(\"XYZAB\"), Segment(\"C\"))),\n        (\n            \"a1bcdaef\",\n            9,\n            (Segment(\"a1b\"), Segment(\"cdaef\")),\n        ),\n    ],\n)\ndef test_split_cells_emoji(text, split, result):\n    assert Segment(text).split_cells(split) == result\n\n\n@pytest.mark.parametrize(\n    \"segment\",\n    [\n        Segment(\" (CV: \"),\n        Segment(\"    \"),\n        Segment(\"TV -- CD\"),\n        Segment(\"JK?     \"),\n        Segment(\" (CV: )     \"),\n        Segment(\"  (CV: )     \"),\n        Segment(\"   (CV: )     \"),\n        Segment(\"   (CV: )      \"),\n    ],\n)\ndef test_split_cells_mixed(segment: Segment) -> None:\n    \"\"\"Check that split cells splits on cell positions.\"\"\"\n    # Caused https://github.com/Textualize/textual/issues/4996 in Textual\n\n    for position in range(0, segment.cell_length + 1):\n        left, right = Segment.split_cells(segment, position)\n        assert all(\n            cell_len(c) > 0 for c in segment.text\n        )  # Sanity check there aren't any sneaky control codes\n        assert cell_len(left.text) == position\n        assert cell_len(right.text) == segment.cell_length - position\n\n\ndef test_split_cells_doubles() -> None:\n    \"\"\"Check that split cells splits on cell positions with all double width characters.\"\"\"\n    test = Segment(\"\" * 20)\n    for position in range(1, test.cell_length):\n        left, right = Segment.split_cells(test, position)\n        assert cell_len(left.text) == position\n        assert cell_len(right.text) == test.cell_length - position\n\n\ndef test_split_cells_single() -> None:\n    \"\"\"Check that split cells splits on cell positions with all single width characters.\"\"\"\n    test = Segment(\"A\" * 20)\n    for position in range(1, test.cell_length):\n        left, right = Segment.split_cells(test, position)\n        assert cell_len(left.text) == position\n        assert cell_len(right.text) == test.cell_length - position\n\n\ndef test_segment_lines_renderable():\n    lines = [[Segment(\"hello\"), Segment(\" \"), Segment(\"world\")], [Segment(\"foo\")]]\n    segment_lines = SegmentLines(lines)\n    assert list(segment_lines.__rich_console__(None, None)) == [\n        Segment(\"hello\"),\n        Segment(\" \"),\n        Segment(\"world\"),\n        Segment(\"foo\"),\n    ]\n\n    segment_lines = SegmentLines(lines, new_lines=True)\n    assert list(segment_lines.__rich_console__(None, None)) == [\n        Segment(\"hello\"),\n        Segment(\" \"),\n        Segment(\"world\"),\n        Segment(\"\\n\"),\n        Segment(\"foo\"),\n        Segment(\"\\n\"),\n    ]\n\n\ndef test_align_top():\n    lines = [[Segment(\"X\")]]\n    assert Segment.align_top(lines, 3, 1, Style()) == lines\n    assert Segment.align_top(lines, 3, 3, Style()) == [\n        [Segment(\"X\")],\n        [Segment(\"   \", Style())],\n        [Segment(\"   \", Style())],\n    ]\n\n\ndef test_align_middle():\n    lines = [[Segment(\"X\")]]\n    assert Segment.align_middle(lines, 3, 1, Style()) == lines\n    assert Segment.align_middle(lines, 3, 3, Style()) == [\n        [Segment(\"   \", Style())],\n        [Segment(\"X\")],\n        [Segment(\"   \", Style())],\n    ]\n\n\ndef test_align_bottom():\n    lines = [[Segment(\"X\")]]\n    assert Segment.align_bottom(lines, 3, 1, Style()) == lines\n    assert Segment.align_bottom(lines, 3, 3, Style()) == [\n        [Segment(\"   \", Style())],\n        [Segment(\"   \", Style())],\n        [Segment(\"X\")],\n    ]\n",
    "start_line": 0
  },
  {
    "file": "_card_render.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "expected = \"\\x1b[3m                                           Rich features                                            \\x1b[0m\\n\\x1b[1;31m              \\x1b[0m                                                                                      \\n\\x1b[1;31m \\x1b[0m\\x1b[1;31m   Colors   \\x1b[0m\\x1b[1;31m \\x1b[0m \\x1b[1;32m4-bit color\\x1b[0m                 \\x1b[38;2;86;0;0;48;2;51;0;0m\\x1b[0m\\x1b[38;2;86;9;0;48;2;51;5;0m\\x1b[0m\\x1b[38;2;86;18;0;48;2;51;11;0m\\x1b[0m\\x1b[38;2;86;28;0;48;2;51;16;0m\\x1b[0m\\x1b[38;2;86;37;0;48;2;51;22;0m\\x1b[0m\\x1b[38;2;86;47;0;48;2;51;27;0m\\x1b[0m\\x1b[38;2;86;56;0;48;2;51;33;0m\\x1b[0m\\x1b[38;2;86;66;0;48;2;51;38;0m\\x1b[0m\\x1b[38;2;86;75;0;48;2;51;44;0m\\x1b[0m\\x1b[38;2;86;85;0;48;2;51;50;0m\\x1b[0m\\x1b[38;2;78;86;0;48;2;46;51;0m\\x1b[0m\\x1b[38;2;69;86;0;48;2;40;51;0m\\x1b[0m\\x1b[38;2;59;86;0;48;2;35;51;0m\\x1b[0m\\x1b[38;2;50;86;0;48;2;29;51;0m\\x1b[0m\\x1b[38;2;40;86;0;48;2;24;51;0m\\x1b[0m\\x1b[38;2;31;86;0;48;2;18;51;0m\\x1b[0m\\x1b[38;2;22;86;0;48;2;12;51;0m\\x1b[0m\\x1b[38;2;12;86;0;48;2;7;51;0m\\x1b[0m\\x1b[38;2;3;86;0;48;2;1;51;0m\\x1b[0m\\x1b[38;2;0;86;6;48;2;0;51;3m\\x1b[0m\\x1b[38;2;0;86;15;48;2;0;51;9m\\x1b[0m\\x1b[38;2;0;86;25;48;2;0;51;14m\\x1b[0m\\x1b[38;2;0;86;34;48;2;0;51;20m\\x1b[0m\\x1b[38;2;0;86;44;48;2;0;51;25m\\x1b[0m\\x1b[38;2;0;86;53;48;2;0;51;31m\\x1b[0m\\x1b[38;2;0;86;63;48;2;0;51;37m\\x1b[0m\\x1b[38;2;0;86;72;48;2;0;51;42m\\x1b[0m\\x1b[38;2;0;86;81;48;2;0;51;48m\\x1b[0m\\x1b[38;2;0;81;86;48;2;0;48;51m\\x1b[0m\\x1b[38;2;0;72;86;48;2;0;42;51m\\x1b[0m\\x1b[38;2;0;63;86;48;2;0;37;51m\\x1b[0m\\x1b[38;2;0;53;86;48;2;0;31;51m\\x1b[0m\\x1b[38;2;0;44;86;48;2;0;25;51m\\x1b[0m\\x1b[38;2;0;34;86;48;2;0;20;51m\\x1b[0m\\x1b[38;2;0;25;86;48;2;0;14;51m\\x1b[0m\\x1b[38;2;0;15;86;48;2;0;9;51m\\x1b[0m\\x1b[38;2;0;6;86;48;2;0;3;51m\\x1b[0m\\x1b[38;2;3;0;86;48;2;1;0;51m\\x1b[0m\\x1b[38;2;12;0;86;48;2;7;0;51m\\x1b[0m\\x1b[38;2;22;0;86;48;2;12;0;51m\\x1b[0m\\x1b[38;2;31;0;86;48;2;18;0;51m\\x1b[0m\\x1b[38;2;40;0;86;48;2;24;0;51m\\x1b[0m\\x1b[38;2;50;0;86;48;2;29;0;51m\\x1b[0m\\x1b[38;2;59;0;86;48;2;35;0;51m\\x1b[0m\\x1b[38;2;69;0;86;48;2;40;0;51m\\x1b[0m\\x1b[38;2;78;0;86;48;2;46;0;51m\\x1b[0m\\x1b[38;2;86;0;85;48;2;51;0;50m\\x1b[0m\\x1b[38;2;86;0;75;48;2;51;0;44m\\x1b[0m\\x1b[38;2;86;0;66;48;2;51;0;38m\\x1b[0m\\x1b[38;2;86;0;56;48;2;51;0;33m\\x1b[0m\\x1b[38;2;86;0;47;48;2;51;0;27m\\x1b[0m\\x1b[38;2;86;0;37;48;2;51;0;22m\\x1b[0m\\x1b[38;2;86;0;28;48;2;51;0;16m\\x1b[0m\\x1b[38;2;86;0;18;48;2;51;0;11m\\x1b[0m\\x1b[38;2;86;0;9;48;2;51;0;5m\\x1b[0m \\n\\x1b[1;31m              \\x1b[0m \\x1b[1;34m8-bit color\\x1b[0m                 \\x1b[38;2;158;0;0;48;2;122;0;0m\\x1b[0m\\x1b[38;2;158;17;0;48;2;122;13;0m\\x1b[0m\\x1b[38;2;158;34;0;48;2;122;26;0m\\x1b[0m\\x1b[38;2;158;51;0;48;2;122;40;0m\\x1b[0m\\x1b[38;2;158;68;0;48;2;122;53;0m\\x1b[0m\\x1b[38;2;158;86;0;48;2;122;66;0m\\x1b[0m\\x1b[38;2;158;103;0;48;2;122;80;0m\\x1b[0m\\x1b[38;2;158;120;0;48;2;122;93;0m\\x1b[0m\\x1b[38;2;158;137;0;48;2;122;106;0m\\x1b[0m\\x1b[38;2;158;155;0;48;2;122;120;0m\\x1b[0m\\x1b[38;2;143;158;0;48;2;111;122;0m\\x1b[0m\\x1b[38;2;126;158;0;48;2;97;122;0m\\x1b[0m\\x1b[38;2;109;158;0;48;2;84;122;0m\\x1b[0m\\x1b[38;2;91;158;0;48;2;71;122;0m\\x1b[0m\\x1b[38;2;74;158;0;48;2;57;122;0m\\x1b[0m\\x1b[38;2;57;158;0;48;2;44;122;0m\\x1b[0m\\x1b[38;2;40;158;0;48;2;31;122;0m\\x1b[0m\\x1b[38;2;22;158;0;48;2;17;122;0m\\x1b[0m\\x1b[38;2;5;158;0;48;2;4;122;0m\\x1b[0m\\x1b[38;2;0;158;11;48;2;0;122;8m\\x1b[0m\\x1b[38;2;0;158;28;48;2;0;122;22m\\x1b[0m\\x1b[38;2;0;158;45;48;2;0;122;35m\\x1b[0m\\x1b[38;2;0;158;63;48;2;0;122;48m\\x1b[0m\\x1b[38;2;0;158;80;48;2;0;122;62m\\x1b[0m\\x1b[38;2;0;158;97;48;2;0;122;75m\\x1b[0m\\x1b[38;2;0;158;114;48;2;0;122;89m\\x1b[0m\\x1b[38;2;0;158;132;48;2;0;122;102m\\x1b[0m\\x1b[38;2;0;158;149;48;2;0;122;115m\\x1b[0m\\x1b[38;2;0;149;158;48;2;0;115;122m\\x1b[0m\\x1b[38;2;0;132;158;48;2;0;102;122m\\x1b[0m\\x1b[38;2;0;114;158;48;2;0;89;122m\\x1b[0m\\x1b[38;2;0;97;158;48;2;0;75;122m\\x1b[0m\\x1b[38;2;0;80;158;48;2;0;62;122m\\x1b[0m\\x1b[38;2;0;63;158;48;2;0;48;122m\\x1b[0m\\x1b[38;2;0;45;158;48;2;0;35;122m\\x1b[0m\\x1b[38;2;0;28;158;48;2;0;22;122m\\x1b[0m\\x1b[38;2;0;11;158;48;2;0;8;122m\\x1b[0m\\x1b[38;2;5;0;158;48;2;4;0;122m\\x1b[0m\\x1b[38;2;22;0;158;48;2;17;0;122m\\x1b[0m\\x1b[38;2;40;0;158;48;2;31;0;122m\\x1b[0m\\x1b[38;2;57;0;158;48;2;44;0;122m\\x1b[0m\\x1b[38;2;74;0;158;48;2;57;0;122m\\x1b[0m\\x1b[38;2;91;0;158;48;2;71;0;122m\\x1b[0m\\x1b[38;2;109;0;158;48;2;84;0;122m\\x1b[0m\\x1b[38;2;126;0;158;48;2;97;0;122m\\x1b[0m\\x1b[38;2;143;0;158;48;2;111;0;122m\\x1b[0m\\x1b[38;2;158;0;155;48;2;122;0;120m\\x1b[0m\\x1b[38;2;158;0;137;48;2;122;0;106m\\x1b[0m\\x1b[38;2;158;0;120;48;2;122;0;93m\\x1b[0m\\x1b[38;2;158;0;103;48;2;122;0;80m\\x1b[0m\\x1b[38;2;158;0;86;48;2;122;0;66m\\x1b[0m\\x1b[38;2;158;0;68;48;2;122;0;53m\\x1b[0m\\x1b[38;2;158;0;51;48;2;122;0;40m\\x1b[0m\\x1b[38;2;158;0;34;48;2;122;0;26m\\x1b[0m\\x1b[38;2;158;0;17;48;2;122;0;13m\\x1b[0m \\n\\x1b[1;31m              \\x1b[0m \\x1b[1;35mTruecolor (16.7 million)\\x1b[0m    \\x1b[38;2;229;0;0;48;2;193;0;0m\\x1b[0m\\x1b[38;2;229;25;0;48;2;193;21;0m\\x1b[0m\\x1b[38;2;229;50;0;48;2;193;42;0m\\x1b[0m\\x1b[38;2;229;75;0;48;2;193;63;0m\\x1b[0m\\x1b[38;2;229;100;0;48;2;193;84;0m\\x1b[0m\\x1b[38;2;229;125;0;48;2;193;105;0m\\x1b[0m\\x1b[38;2;229;150;0;48;2;193;126;0m\\x1b[0m\\x1b[38;2;229;175;0;48;2;193;147;0m\\x1b[0m\\x1b[38;2;229;200;0;48;2;193;169;0m\\x1b[0m\\x1b[38;2;229;225;0;48;2;193;190;0m\\x1b[0m\\x1b[38;2;208;229;0;48;2;176;193;0m\\x1b[0m\\x1b[38;2;183;229;0;48;2;155;193;0m\\x1b[0m\\x1b[38;2;158;229;0;48;2;133;193;0m\\x1b[0m\\x1b[38;2;133;229;0;48;2;112;193;0m\\x1b[0m\\x1b[38;2;108;229;0;48;2;91;193;0m\\x1b[0m\\x1b[38;2;83;229;0;48;2;70;193;0m\\x1b[0m\\x1b[38;2;58;229;0;48;2;49;193;0m\\x1b[0m\\x1b[38;2;33;229;0;48;2;28;193;0m\\x1b[0m\\x1b[38;2;8;229;0;48;2;7;193;0m\\x1b[0m\\x1b[38;2;0;229;16;48;2;0;193;14m\\x1b[0m\\x1b[38;2;0;229;41;48;2;0;193;35m\\x1b[0m\\x1b[38;2;0;229;66;48;2;0;193;56m\\x1b[0m\\x1b[38;2;0;229;91;48;2;0;193;77m\\x1b[0m\\x1b[38;2;0;229;116;48;2;0;193;98m\\x1b[0m\\x1b[38;2;0;229;141;48;2;0;193;119m\\x1b[0m\\x1b[38;2;0;229;166;48;2;0;193;140m\\x1b[0m\\x1b[38;2;0;229;191;48;2;0;193;162m\\x1b[0m\\x1b[38;2;0;229;216;48;2;0;193;183m\\x1b[0m\\x1b[38;2;0;216;229;48;2;0;183;193m\\x1b[0m\\x1b[38;2;0;191;229;48;2;0;162;193m\\x1b[0m\\x1b[38;2;0;166;229;48;2;0;140;193m\\x1b[0m\\x1b[38;2;0;141;229;48;2;0;119;193m\\x1b[0m\\x1b[38;2;0;116;229;48;2;0;98;193m\\x1b[0m\\x1b[38;2;0;91;229;48;2;0;77;193m\\x1b[0m\\x1b[38;2;0;66;229;48;2;0;56;193m\\x1b[0m\\x1b[38;2;0;41;229;48;2;0;35;193m\\x1b[0m\\x1b[38;2;0;16;229;48;2;0;14;193m\\x1b[0m\\x1b[38;2;8;0;229;48;2;7;0;193m\\x1b[0m\\x1b[38;2;33;0;229;48;2;28;0;193m\\x1b[0m\\x1b[38;2;58;0;229;48;2;49;0;193m\\x1b[0m\\x1b[38;2;83;0;229;48;2;70;0;193m\\x1b[0m\\x1b[38;2;108;0;229;48;2;91;0;193m\\x1b[0m\\x1b[38;2;133;0;229;48;2;112;0;193m\\x1b[0m\\x1b[38;2;158;0;229;48;2;133;0;193m\\x1b[0m\\x1b[38;2;183;0;229;48;2;155;0;193m\\x1b[0m\\x1b[38;2;208;0;229;48;2;176;0;193m\\x1b[0m\\x1b[38;2;229;0;225;48;2;193;0;190m\\x1b[0m\\x1b[38;2;229;0;200;48;2;193;0;169m\\x1b[0m\\x1b[38;2;229;0;175;48;2;193;0;147m\\x1b[0m\\x1b[38;2;229;0;150;48;2;193;0;126m\\x1b[0m\\x1b[38;2;229;0;125;48;2;193;0;105m\\x1b[0m\\x1b[38;2;229;0;100;48;2;193;0;84m\\x1b[0m\\x1b[38;2;229;0;75;48;2;193;0;63m\\x1b[0m\\x1b[38;2;229;0;50;48;2;193;0;42m\\x1b[0m\\x1b[38;2;229;0;25;48;2;193;0;21m\\x1b[0m \\n\\x1b[1;31m              \\x1b[0m \\x1b[1;33mDumb terminals\\x1b[0m              \\x1b[38;2;254;45;45;48;2;255;10;10m\\x1b[0m\\x1b[38;2;254;68;45;48;2;255;36;10m\\x1b[0m\\x1b[38;2;254;91;45;48;2;255;63;10m\\x1b[0m\\x1b[38;2;254;114;45;48;2;255;90;10m\\x1b[0m\\x1b[38;2;254;137;45;48;2;255;117;10m\\x1b[0m\\x1b[38;2;254;159;45;48;2;255;143;10m\\x1b[0m\\x1b[38;2;254;182;45;48;2;255;170;10m\\x1b[0m\\x1b[38;2;254;205;45;48;2;255;197;10m\\x1b[0m\\x1b[38;2;254;228;45;48;2;255;223;10m\\x1b[0m\\x1b[38;2;254;251;45;48;2;255;250;10m\\x1b[0m\\x1b[38;2;235;254;45;48;2;232;255;10m\\x1b[0m\\x1b[38;2;213;254;45;48;2;206;255;10m\\x1b[0m\\x1b[38;2;190;254;45;48;2;179;255;10m\\x1b[0m\\x1b[38;2;167;254;45;48;2;152;255;10m\\x1b[0m\\x1b[38;2;144;254;45;48;2;125;255;10m\\x1b[0m\\x1b[38;2;121;254;45;48;2;99;255;10m\\x1b[0m\\x1b[38;2;99;254;45;48;2;72;255;10m\\x1b[0m\\x1b[38;2;76;254;45;48;2;45;255;10m\\x1b[0m\\x1b[38;2;53;254;45;48;2;19;255;10m\\x1b[0m\\x1b[38;2;45;254;61;48;2;10;255;28m\\x1b[0m\\x1b[38;2;45;254;83;48;2;10;255;54m\\x1b[0m\\x1b[38;2;45;254;106;48;2;10;255;81m\\x1b[0m\\x1b[38;2;45;254;129;48;2;10;255;108m\\x1b[0m\\x1b[38;2;45;254;152;48;2;10;255;134m\\x1b[0m\\x1b[38;2;45;254;175;48;2;10;255;161m\\x1b[0m\\x1b[38;2;45;254;197;48;2;10;255;188m\\x1b[0m\\x1b[38;2;45;254;220;48;2;10;255;214m\\x1b[0m\\x1b[38;2;45;254;243;48;2;10;255;241m\\x1b[0m\\x1b[38;2;45;243;254;48;2;10;241;255m\\x1b[0m\\x1b[38;2;45;220;254;48;2;10;214;255m\\x1b[0m\\x1b[38;2;45;197;254;48;2;10;188;255m\\x1b[0m\\x1b[38;2;45;175;254;48;2;10;161;255m\\x1b[0m\\x1b[38;2;45;152;254;48;2;10;134;255m\\x1b[0m\\x1b[38;2;45;129;254;48;2;10;108;255m\\x1b[0m\\x1b[38;2;45;106;254;48;2;10;81;255m\\x1b[0m\\x1b[38;2;45;83;254;48;2;10;54;255m\\x1b[0m\\x1b[38;2;45;61;254;48;2;10;28;255m\\x1b[0m\\x1b[38;2;53;45;254;48;2;19;10;255m\\x1b[0m\\x1b[38;2;76;45;254;48;2;45;10;255m\\x1b[0m\\x1b[38;2;99;45;254;48;2;72;10;255m\\x1b[0m\\x1b[38;2;121;45;254;48;2;99;10;255m\\x1b[0m\\x1b[38;2;144;45;254;48;2;125;10;255m\\x1b[0m\\x1b[38;2;167;45;254;48;2;152;10;255m\\x1b[0m\\x1b[38;2;190;45;254;48;2;179;10;255m\\x1b[0m\\x1b[38;2;213;45;254;48;2;206;10;255m\\x1b[0m\\x1b[38;2;235;45;254;48;2;232;10;255m\\x1b[0m\\x1b[38;2;254;45;251;48;2;255;10;250m\\x1b[0m\\x1b[38;2;254;45;228;48;2;255;10;223m\\x1b[0m\\x1b[38;2;254;45;205;48;2;255;10;197m\\x1b[0m\\x1b[38;2;254;45;182;48;2;255;10;170m\\x1b[0m\\x1b[38;2;254;45;159;48;2;255;10;143m\\x1b[0m\\x1b[38;2;254;45;137;48;2;255;10;117m\\x1b[0m\\x1b[38;2;254;45;114;48;2;255;10;90m\\x1b[0m\\x1b[38;2;254;45;91;48;2;255;10;63m\\x1b[0m\\x1b[38;2;254;45;68;48;2;255;10;36m\\x1b[0m \\n\\x1b[1;31m              \\x1b[0m \\x1b[1;36mAutomatic color conversion\\x1b[0m  \\x1b[38;2;255;117;117;48;2;255;81;81m\\x1b[0m\\x1b[38;2;255;132;117;48;2;255;100;81m\\x1b[0m\\x1b[38;2;255;147;117;48;2;255;119;81m\\x1b[0m\\x1b[38;2;255;162;117;48;2;255;138;81m\\x1b[0m\\x1b[38;2;255;177;117;48;2;255;157;81m\\x1b[0m\\x1b[38;2;255;192;117;48;2;255;176;81m\\x1b[0m\\x1b[38;2;255;207;117;48;2;255;195;81m\\x1b[0m\\x1b[38;2;255;222;117;48;2;255;214;81m\\x1b[0m\\x1b[38;2;255;237;117;48;2;255;232;81m\\x1b[0m\\x1b[38;2;255;252;117;48;2;255;251;81m\\x1b[0m\\x1b[38;2;242;255;117;48;2;239;255;81m\\x1b[0m\\x1b[38;2;227;255;117;48;2;220;255;81m\\x1b[0m\\x1b[38;2;212;255;117;48;2;201;255;81m\\x1b[0m\\x1b[38;2;197;255;117;48;2;182;255;81m\\x1b[0m\\x1b[38;2;182;255;117;48;2;163;255;81m\\x1b[0m\\x1b[38;2;167;255;117;48;2;144;255;81m\\x1b[0m\\x1b[38;2;152;255;117;48;2;125;255;81m\\x1b[0m\\x1b[38;2;137;255;117;48;2;106;255;81m\\x1b[0m\\x1b[38;2;122;255;117;48;2;87;255;81m\\x1b[0m\\x1b[38;2;117;255;127;48;2;81;255;94m\\x1b[0m\\x1b[38;2;117;255;142;48;2;81;255;113m\\x1b[0m\\x1b[38;2;117;255;157;48;2;81;255;132m\\x1b[0m\\x1b[38;2;117;255;172;48;2;81;255;150m\\x1b[0m\\x1b[38;2;117;255;187;48;2;81;255;169m\\x1b[0m\\x1b[38;2;117;255;202;48;2;81;255;188m\\x1b[0m\\x1b[38;2;117;255;217;48;2;81;255;207m\\x1b[0m\\x1b[38;2;117;255;232;48;2;81;255;226m\\x1b[0m\\x1b[38;2;117;255;247;48;2;81;255;245m\\x1b[0m\\x1b[38;2;117;247;255;48;2;81;245;255m\\x1b[0m\\x1b[38;2;117;232;255;48;2;81;226;255m\\x1b[0m\\x1b[38;2;117;217;255;48;2;81;207;255m\\x1b[0m\\x1b[38;2;117;202;255;48;2;81;188;255m\\x1b[0m\\x1b[38;2;117;187;255;48;2;81;169;255m\\x1b[0m\\x1b[38;2;117;172;255;48;2;81;150;255m\\x1b[0m\\x1b[38;2;117;157;255;48;2;81;132;255m\\x1b[0m\\x1b[38;2;117;142;255;48;2;81;113;255m\\x1b[0m\\x1b[38;2;117;127;255;48;2;81;94;255m\\x1b[0m\\x1b[38;2;122;117;255;48;2;87;81;255m\\x1b[0m\\x1b[38;2;137;117;255;48;2;106;81;255m\\x1b[0m\\x1b[38;2;152;117;255;48;2;125;81;255m\\x1b[0m\\x1b[38;2;167;117;255;48;2;144;81;255m\\x1b[0m\\x1b[38;2;182;117;255;48;2;163;81;255m\\x1b[0m\\x1b[38;2;197;117;255;48;2;182;81;255m\\x1b[0m\\x1b[38;2;212;117;255;48;2;201;81;255m\\x1b[0m\\x1b[38;2;227;117;255;48;2;220;81;255m\\x1b[0m\\x1b[38;2;242;117;255;48;2;239;81;255m\\x1b[0m\\x1b[38;2;255;117;252;48;2;255;81;251m\\x1b[0m\\x1b[38;2;255;117;237;48;2;255;81;232m\\x1b[0m\\x1b[38;2;255;117;222;48;2;255;81;214m\\x1b[0m\\x1b[38;2;255;117;207;48;2;255;81;195m\\x1b[0m\\x1b[38;2;255;117;192;48;2;255;81;176m\\x1b[0m\\x1b[38;2;255;117;177;48;2;255;81;157m\\x1b[0m\\x1b[38;2;255;117;162;48;2;255;81;138m\\x1b[0m\\x1b[38;2;255;117;147;48;2;255;81;119m\\x1b[0m\\x1b[38;2;255;117;132;48;2;255;81;100m\\x1b[0m \\n\\x1b[1;31m              \\x1b[0m                                                                                      \\n\\x1b[1;31m \\x1b[0m\\x1b[1;31m   Styles   \\x1b[0m\\x1b[1;31m \\x1b[0mAll ansi styles: \\x1b[1mbold\\x1b[0m, \\x1b[2mdim\\x1b[0m, \\x1b[3mitalic\\x1b[0m, \\x1b[4munderline\\x1b[0m, \\x1b[9mstrikethrough\\x1b[0m, \\x1b[7mreverse\\x1b[0m, and even       \\n\\x1b[1;31m              \\x1b[0m\\x1b[5mblink\\x1b[0m.                                                                                \\n\\x1b[1;31m              \\x1b[0m                                                                                      \\n\\x1b[1;31m \\x1b[0m\\x1b[1;31m    Text    \\x1b[0m\\x1b[1;31m \\x1b[0mWord wrap text. Justify \\x1b[32mleft\\x1b[0m, \\x1b[33mcenter\\x1b[0m, \\x1b[34mright\\x1b[0m or \\x1b[31mfull\\x1b[0m.                                  \\n\\x1b[1;31m              \\x1b[0m                                                                                      \\n\\x1b[1;31m              \\x1b[0m\\x1b[32mLorem ipsum dolor   \\x1b[0m \\x1b[33m Lorem ipsum dolor  \\x1b[0m \\x1b[34m   Lorem ipsum dolor\\x1b[0m \\x1b[31mLorem\\x1b[0m\\x1b[31m \\x1b[0m\\x1b[31mipsum\\x1b[0m\\x1b[31m \\x1b[0m\\x1b[31mdolor\\x1b[0m\\x1b[31m  \\x1b[0m\\x1b[31msit\\x1b[0m \\n\\x1b[1;31m              \\x1b[0m\\x1b[32msit amet,           \\x1b[0m \\x1b[33m     sit amet,      \\x1b[0m \\x1b[34m           sit amet,\\x1b[0m \\x1b[31mamet,\\x1b[0m\\x1b[31m      \\x1b[0m\\x1b[31mconsectetur\\x1b[0m \\n\\x1b[1;31m              \\x1b[0m\\x1b[32mconsectetur         \\x1b[0m \\x1b[33m    consectetur     \\x1b[0m \\x1b[34m         consectetur\\x1b[0m \\x1b[31madipiscing\\x1b[0m\\x1b[31m       \\x1b[0m\\x1b[31melit.\\x1b[0m \\n\\x1b[1;31m              \\x1b[0m\\x1b[32madipiscing elit.    \\x1b[0m \\x1b[33m  adipiscing elit.  \\x1b[0m \\x1b[34m    adipiscing elit.\\x1b[0m \\x1b[31mQuisque\\x1b[0m\\x1b[31m \\x1b[0m\\x1b[31min\\x1b[0m\\x1b[31m  \\x1b[0m\\x1b[31mmetus\\x1b[0m\\x1b[31m  \\x1b[0m\\x1b[31msed\\x1b[0m \\n\\x1b[1;31m              \\x1b[0m\\x1b[32mQuisque in metus sed\\x1b[0m \\x1b[33mQuisque in metus sed\\x1b[0m \\x1b[34mQuisque in metus sed\\x1b[0m \\x1b[31msapien\\x1b[0m\\x1b[31m       \\x1b[0m\\x1b[31multricies\\x1b[0m \\n\\x1b[1;31m              \\x1b[0m\\x1b[32msapien ultricies    \\x1b[0m \\x1b[33m  sapien ultricies  \\x1b[0m \\x1b[34m    sapien ultricies\\x1b[0m \\x1b[31mpretium\\x1b[0m\\x1b[31m  \\x1b[0m\\x1b[31ma\\x1b[0m\\x1b[31m  \\x1b[0m\\x1b[31mat\\x1b[0m\\x1b[31m  \\x1b[0m\\x1b[31mjusto.\\x1b[0m \\n\\x1b[1;31m              \\x1b[0m\\x1b[32mpretium a at justo. \\x1b[0m \\x1b[33mpretium a at justo. \\x1b[0m \\x1b[34m pretium a at justo.\\x1b[0m \\x1b[31mMaecenas\\x1b[0m\\x1b[31m \\x1b[0m\\x1b[31mluctus\\x1b[0m\\x1b[31m  \\x1b[0m\\x1b[31mvelit\\x1b[0m \\n\\x1b[1;31m              \\x1b[0m\\x1b[32mMaecenas luctus     \\x1b[0m \\x1b[33m  Maecenas luctus   \\x1b[0m \\x1b[34m     Maecenas luctus\\x1b[0m \\x1b[31met auctor maximus.\\x1b[0m     \\n\\x1b[1;31m              \\x1b[0m\\x1b[32mvelit et auctor     \\x1b[0m \\x1b[33m  velit et auctor   \\x1b[0m \\x1b[34m     velit et auctor\\x1b[0m                        \\n\\x1b[1;31m              \\x1b[0m\\x1b[32mmaximus.            \\x1b[0m \\x1b[33m      maximus.      \\x1b[0m \\x1b[34m            maximus.\\x1b[0m                        \\n\\x1b[1;31m              \\x1b[0m                                                                                      \\n\\x1b[1;31m \\x1b[0m\\x1b[1;31m   Asian    \\x1b[0m\\x1b[1;31m \\x1b[0m                                                      \\n\\x1b[1;31m \\x1b[0m\\x1b[1;31m  language  \\x1b[0m\\x1b[1;31m \\x1b[0m                    \\n\\x1b[1;31m \\x1b[0m\\x1b[1;31m  support   \\x1b[0m\\x1b[1;31m \\x1b[0m    ,                           \\n\\x1b[1;31m              \\x1b[0m                                                                                      \\n\\x1b[1;31m \\x1b[0m\\x1b[1;31m   Markup   \\x1b[0m\\x1b[1;31m \\x1b[0m\\x1b[1;35mRich\\x1b[0m supports a simple \\x1b[3mbbcode\\x1b[0m-like \\x1b[1mmarkup\\x1b[0m for \\x1b[33mcolor\\x1b[0m, \\x1b[4mstyle\\x1b[0m, and emoji!       \\n\\x1b[1;31m              \\x1b[0m                                                                                    \\n\\x1b[1;31m              \\x1b[0m                                                                                      \\n\\x1b[1;31m \\x1b[0m\\x1b[1;31m   Tables   \\x1b[0m\\x1b[1;31m \\x1b[0m\\x1b[1m \\x1b[0m\\x1b[1;32mDate\\x1b[0m\\x1b[1m        \\x1b[0m\\x1b[1m \\x1b[0m \\x1b[1m \\x1b[0m\\x1b[1;34mTitle\\x1b[0m\\x1b[1m                          \\x1b[0m\\x1b[1m \\x1b[0m \\x1b[1m \\x1b[0m\\x1b[1;36mProduction Budget\\x1b[0m\\x1b[1m \\x1b[0m \\x1b[1m \\x1b[0m\\x1b[1m    \\x1b[0m\\x1b[1;35mBox Office\\x1b[0m\\x1b[1m \\x1b[0m \\n\\x1b[1;31m              \\x1b[0m \\n\\x1b[1;31m              \\x1b[0m\\x1b[32m \\x1b[0m\\x1b[32mDec 20, 2019\\x1b[0m\\x1b[32m \\x1b[0m \\x1b[34m \\x1b[0m\\x1b[34mStar Wars: The Rise of         \\x1b[0m\\x1b[34m \\x1b[0m \\x1b[36m \\x1b[0m\\x1b[36m     $275,000,000\\x1b[0m\\x1b[36m \\x1b[0m \\x1b[35m \\x1b[0m\\x1b[35m  $375,126,118\\x1b[0m\\x1b[35m \\x1b[0m \\n\\x1b[1;31m              \\x1b[0m\\x1b[32m              \\x1b[0m \\x1b[34m \\x1b[0m\\x1b[34mSkywalker                      \\x1b[0m\\x1b[34m \\x1b[0m \\x1b[36m                   \\x1b[0m \\x1b[35m                \\x1b[0m \\n\\x1b[1;31m              \\x1b[0m\\x1b[2;32m \\x1b[0m\\x1b[2;32mMay 25, 2018\\x1b[0m\\x1b[2;32m \\x1b[0m \\x1b[2;34m \\x1b[0m\\x1b[1;2;34mSolo\\x1b[0m\\x1b[2;34m: A Star Wars Story        \\x1b[0m\\x1b[2;34m \\x1b[0m \\x1b[2;36m \\x1b[0m\\x1b[2;36m     $275,000,000\\x1b[0m\\x1b[2;36m \\x1b[0m \\x1b[2;35m \\x1b[0m\\x1b[2;35m  $393,151,347\\x1b[0m\\x1b[2;35m \\x1b[0m \\n\\x1b[1;31m              \\x1b[0m\\x1b[32m \\x1b[0m\\x1b[32mDec 15, 2017\\x1b[0m\\x1b[32m \\x1b[0m \\x1b[34m \\x1b[0m\\x1b[34mStar Wars Ep. VIII: The Last   \\x1b[0m\\x1b[34m \\x1b[0m \\x1b[36m \\x1b[0m\\x1b[36m     $262,000,000\\x1b[0m\\x1b[36m \\x1b[0m \\x1b[35m \\x1b[0m\\x1b[1;35m$1,332,539,889\\x1b[0m\\x1b[35m \\x1b[0m \\n\\x1b[1;31m              \\x1b[0m\\x1b[32m              \\x1b[0m \\x1b[34m \\x1b[0m\\x1b[34mJedi                           \\x1b[0m\\x1b[34m \\x1b[0m \\x1b[36m                   \\x1b[0m \\x1b[35m                \\x1b[0m \\n\\x1b[1;31m              \\x1b[0m\\x1b[2;32m \\x1b[0m\\x1b[2;32mMay 19, 1999\\x1b[0m\\x1b[2;32m \\x1b[0m \\x1b[2;34m \\x1b[0m\\x1b[2;34mStar Wars Ep. \\x1b[0m\\x1b[1;2;34mI\\x1b[0m\\x1b[2;34m: \\x1b[0m\\x1b[2;3;34mThe phantom \\x1b[0m\\x1b[2;34m  \\x1b[0m\\x1b[2;34m \\x1b[0m \\x1b[2;36m \\x1b[0m\\x1b[2;36m     $115,000,000\\x1b[0m\\x1b[2;36m \\x1b[0m \\x1b[2;35m \\x1b[0m\\x1b[2;35m$1,027,044,677\\x1b[0m\\x1b[2;35m \\x1b[0m \\n\\x1b[1;31m              \\x1b[0m\\x1b[2;32m              \\x1b[0m \\x1b[2;34m \\x1b[0m\\x1b[2;3;34mMenace\\x1b[0m\\x1b[2;34m                         \\x1b[0m\\x1b[2;34m \\x1b[0m \\x1b[2;36m                   \\x1b[0m \\x1b[2;35m                \\x1b[0m \\n\\x1b[1;31m              \\x1b[0m                                                                                      \\n\\x1b[1;31m \\x1b[0m\\x1b[1;31m   Syntax   \\x1b[0m\\x1b[1;31m \\x1b[0m\\x1b[1;38;2;227;227;221;48;2;39;40;34m  \\x1b[0m\\x1b[38;2;101;102;96;48;2;39;40;34m 1 \\x1b[0m\\x1b[38;2;102;217;239;48;2;39;40;34mdef\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;166;226;46;48;2;39;40;34miter_last\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m(\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mvalues\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m:\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mIterable\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m[\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mT\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m]\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m)\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;255;70;137;48;2;39;40;34m-\\x1b[0m\\x1b[38;2;255;70;137;48;2;39;40;34m>\\x1b[0m  \\x1b[1m{\\x1b[0m                                         \\n\\x1b[1;31m \\x1b[0m\\x1b[1;31mhighlighting\\x1b[0m\\x1b[1;31m \\x1b[0m\\x1b[1;38;2;227;227;221;48;2;39;40;34m  \\x1b[0m\\x1b[38;2;101;102;96;48;2;39;40;34m 2 \\x1b[0m\\x1b[2;38;2;149;144;119;48;2;39;40;34m   \\x1b[0m\\x1b[38;2;230;219;116;48;2;39;40;34m\\\"\\\"\\\"Iterate and generate a tuple w\\x1b[0m  \\x1b[2;32m   \\x1b[0m\\x1b[32m'foo'\\x1b[0m: \\x1b[1m[\\x1b[0m                              \\n\\x1b[1;31m \\x1b[0m\\x1b[1;31m     &      \\x1b[0m\\x1b[1;31m \\x1b[0m\\x1b[1;38;2;227;227;221;48;2;39;40;34m  \\x1b[0m\\x1b[38;2;101;102;96;48;2;39;40;34m 3 \\x1b[0m\\x1b[2;38;2;149;144;119;48;2;39;40;34m   \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34miter_values\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;255;70;137;48;2;39;40;34m=\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34miter\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m(\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mvalues\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m)\\x1b[0m\\x1b[48;2;39;40;34m       \\x1b[0m  \\x1b[2;32m      \\x1b[0m\\x1b[1;36m3.1427\\x1b[0m,                           \\n\\x1b[1;31m \\x1b[0m\\x1b[1;31m   pretty   \\x1b[0m\\x1b[1;31m \\x1b[0m\\x1b[1;38;2;227;227;221;48;2;39;40;34m  \\x1b[0m\\x1b[38;2;101;102;96;48;2;39;40;34m 4 \\x1b[0m\\x1b[2;38;2;149;144;119;48;2;39;40;34m   \\x1b[0m\\x1b[38;2;102;217;239;48;2;39;40;34mtry\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m:\\x1b[0m\\x1b[48;2;39;40;34m                             \\x1b[0m  \\x1b[2;32m      \\x1b[0m\\x1b[1m(\\x1b[0m                                 \\n\\x1b[1;31m \\x1b[0m\\x1b[1;31m  printing  \\x1b[0m\\x1b[1;31m \\x1b[0m\\x1b[1;38;2;227;227;221;48;2;39;40;34m  \\x1b[0m\\x1b[38;2;101;102;96;48;2;39;40;34m 5 \\x1b[0m\\x1b[2;38;2;149;144;119;48;2;39;40;34m      \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mprevious_value\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;255;70;137;48;2;39;40;34m=\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mnext\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m(\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34miter_va\\x1b[0m  \\x1b[2;32m         \\x1b[0m\\x1b[32m'Paul Atreides'\\x1b[0m,              \\n\\x1b[1;31m              \\x1b[0m\\x1b[1;38;2;227;227;221;48;2;39;40;34m  \\x1b[0m\\x1b[38;2;101;102;96;48;2;39;40;34m 6 \\x1b[0m\\x1b[2;38;2;149;144;119;48;2;39;40;34m   \\x1b[0m\\x1b[38;2;102;217;239;48;2;39;40;34mexcept\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;166;226;46;48;2;39;40;34mStopIteration\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m:\\x1b[0m\\x1b[48;2;39;40;34m            \\x1b[0m  \\x1b[2;32m         \\x1b[0m\\x1b[32m'Vladimir Harkonnen'\\x1b[0m,         \\n\\x1b[1;31m              \\x1b[0m\\x1b[1;38;2;227;227;221;48;2;39;40;34m  \\x1b[0m\\x1b[38;2;101;102;96;48;2;39;40;34m 7 \\x1b[0m\\x1b[2;38;2;149;144;119;48;2;39;40;34m      \\x1b[0m\\x1b[38;2;102;217;239;48;2;39;40;34mreturn\\x1b[0m\\x1b[48;2;39;40;34m                       \\x1b[0m  \\x1b[2;32m         \\x1b[0m\\x1b[32m'Thufir Hawat'\\x1b[0m                \\n\\x1b[1;31m              \\x1b[0m\\x1b[1;38;2;227;227;221;48;2;39;40;34m  \\x1b[0m\\x1b[38;2;101;102;96;48;2;39;40;34m 8 \\x1b[0m\\x1b[2;38;2;149;144;119;48;2;39;40;34m   \\x1b[0m\\x1b[38;2;102;217;239;48;2;39;40;34mfor\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mvalue\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;255;70;137;48;2;39;40;34min\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34miter_values\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m:\\x1b[0m\\x1b[48;2;39;40;34m        \\x1b[0m  \\x1b[2;32m      \\x1b[0m\\x1b[1m)\\x1b[0m                                 \\n\\x1b[1;31m              \\x1b[0m\\x1b[1;38;2;227;227;221;48;2;39;40;34m  \\x1b[0m\\x1b[38;2;101;102;96;48;2;39;40;34m 9 \\x1b[0m\\x1b[2;38;2;149;144;119;48;2;39;40;34m      \\x1b[0m\\x1b[38;2;102;217;239;48;2;39;40;34myield\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;102;217;239;48;2;39;40;34mFalse\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m,\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mprevious_value\\x1b[0m\\x1b[48;2;39;40;34m  \\x1b[0m  \\x1b[2;32m   \\x1b[0m\\x1b[1m]\\x1b[0m,                                    \\n\\x1b[1;31m              \\x1b[0m\\x1b[1;38;2;227;227;221;48;2;39;40;34m  \\x1b[0m\\x1b[38;2;101;102;96;48;2;39;40;34m10 \\x1b[0m\\x1b[2;38;2;149;144;119;48;2;39;40;34m      \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mprevious_value\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;255;70;137;48;2;39;40;34m=\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mvalue\\x1b[0m\\x1b[48;2;39;40;34m       \\x1b[0m  \\x1b[2;32m   \\x1b[0m\\x1b[32m'atomic'\\x1b[0m: \\x1b[1m(\\x1b[0m\\x1b[3;91mFalse\\x1b[0m, \\x1b[3;92mTrue\\x1b[0m, \\x1b[3;35mNone\\x1b[0m\\x1b[1m)\\x1b[0m         \\n\\x1b[1;31m              \\x1b[0m\\x1b[1;38;2;227;227;221;48;2;39;40;34m  \\x1b[0m\\x1b[38;2;101;102;96;48;2;39;40;34m11 \\x1b[0m\\x1b[2;38;2;149;144;119;48;2;39;40;34m   \\x1b[0m\\x1b[38;2;102;217;239;48;2;39;40;34myield\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;102;217;239;48;2;39;40;34mTrue\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m,\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mprevious_value\\x1b[0m\\x1b[48;2;39;40;34m       \\x1b[0m  \\x1b[1m}\\x1b[0m                                         \\n\\x1b[1;31m              \\x1b[0m                                                                                      \\n\\x1b[1;31m \\x1b[0m\\x1b[1;31m  Markdown  \\x1b[0m\\x1b[1;31m \\x1b[0m\\x1b[36m# Markdown\\x1b[0m                                   \\n\\x1b[1;31m              \\x1b[0m                                                           \\x1b[1mMarkdown\\x1b[0m                 \\n\\x1b[1;31m              \\x1b[0m\\x1b[36mSupports much of the *markdown* \\x1b[0m             \\n\\x1b[1;31m              \\x1b[0m\\x1b[36m__syntax__!\\x1b[0m                                                                           \\n\\x1b[1;31m              \\x1b[0m                                            Supports much of the \\x1b[3mmarkdown\\x1b[0m \\x1b[1msyntax\\x1b[0m!     \\n\\x1b[1;31m              \\x1b[0m\\x1b[36m- Headers\\x1b[0m                                                                             \\n\\x1b[1;31m              \\x1b[0m\\x1b[36m- Basic formatting: **bold**, *italic*, \\x1b[0m    \\x1b[1;33m  \\x1b[0mHeaders                                \\n\\x1b[1;31m              \\x1b[0m\\x1b[36m`code`\\x1b[0m                                      \\x1b[1;33m  \\x1b[0mBasic formatting: \\x1b[1mbold\\x1b[0m, \\x1b[3mitalic\\x1b[0m, \\x1b[1;36;40mcode\\x1b[0m   \\n\\x1b[1;31m              \\x1b[0m\\x1b[36m- Block quotes\\x1b[0m                              \\x1b[1;33m  \\x1b[0mBlock quotes                           \\n\\x1b[1;31m              \\x1b[0m\\x1b[36m- Lists, and more...\\x1b[0m                        \\x1b[1;33m  \\x1b[0mLists, and more...                     \\n\\x1b[1;31m              \\x1b[0m\\x1b[36m    \\x1b[0m                                                                                  \\n\\x1b[1;31m              \\x1b[0m                                                                                      \\n\\x1b[1;31m \\x1b[0m\\x1b[1;31m   +more!   \\x1b[0m\\x1b[1;31m \\x1b[0mProgress bars, columns, styled logging handler, tracebacks, etc...                    \\n\\x1b[1;31m              \\x1b[0m                                                                                      \\n\"",
    "start_line": 0
  },
  {
    "file": "_card_render.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "expected = \"\\x1b[3m                                           Rich features                                            \\x1b[0m\\n\\x1b[1;31m              \\x1b[0m                                                                                      \\n\\x1b[1;31m \\x1b[0m\\x1b[1;31m   Colors   \\x1b[0m\\x1b[1;31m \\x1b[0m \\x1b[1;32m4-bit color\\x1b[0m                 \\x1b[38;2;86;0;0;48;2;51;0;0m\\x1b[0m\\x1b[38;2;86;9;0;48;2;51;5;0m\\x1b[0m\\x1b[38;2;86;18;0;48;2;51;11;0m\\x1b[0m\\x1b[38;2;86;28;0;48;2;51;16;0m\\x1b[0m\\x1b[38;2;86;37;0;48;2;51;22;0m\\x1b[0m\\x1b[38;2;86;47;0;48;2;51;27;0m\\x1b[0m\\x1b[38;2;86;56;0;48;2;51;33;0m\\x1b[0m\\x1b[38;2;86;66;0;48;2;51;38;0m\\x1b[0m\\x1b[38;2;86;75;0;48;2;51;44;0m\\x1b[0m\\x1b[38;2;86;85;0;48;2;51;50;0m\\x1b[0m\\x1b[38;2;78;86;0;48;2;46;51;0m\\x1b[0m\\x1b[38;2;69;86;0;48;2;40;51;0m\\x1b[0m\\x1b[38;2;59;86;0;48;2;35;51;0m\\x1b[0m\\x1b[38;2;50;86;0;48;2;29;51;0m\\x1b[0m\\x1b[38;2;40;86;0;48;2;24;51;0m\\x1b[0m\\x1b[38;2;31;86;0;48;2;18;51;0m\\x1b[0m\\x1b[38;2;22;86;0;48;2;12;51;0m\\x1b[0m\\x1b[38;2;12;86;0;48;2;7;51;0m\\x1b[0m\\x1b[38;2;3;86;0;48;2;1;51;0m\\x1b[0m\\x1b[38;2;0;86;6;48;2;0;51;3m\\x1b[0m\\x1b[38;2;0;86;15;48;2;0;51;9m\\x1b[0m\\x1b[38;2;0;86;25;48;2;0;51;14m\\x1b[0m\\x1b[38;2;0;86;34;48;2;0;51;20m\\x1b[0m\\x1b[38;2;0;86;44;48;2;0;51;25m\\x1b[0m\\x1b[38;2;0;86;53;48;2;0;51;31m\\x1b[0m\\x1b[38;2;0;86;63;48;2;0;51;37m\\x1b[0m\\x1b[38;2;0;86;72;48;2;0;51;42m\\x1b[0m\\x1b[38;2;0;86;81;48;2;0;51;48m\\x1b[0m\\x1b[38;2;0;81;86;48;2;0;48;51m\\x1b[0m\\x1b[38;2;0;72;86;48;2;0;42;51m\\x1b[0m\\x1b[38;2;0;63;86;48;2;0;37;51m\\x1b[0m\\x1b[38;2;0;53;86;48;2;0;31;51m\\x1b[0m\\x1b[38;2;0;44;86;48;2;0;25;51m\\x1b[0m\\x1b[38;2;0;34;86;48;2;0;20;51m\\x1b[0m\\x1b[38;2;0;25;86;48;2;0;14;51m\\x1b[0m\\x1b[38;2;0;15;86;48;2;0;9;51m\\x1b[0m\\x1b[38;2;0;6;86;48;2;0;3;51m\\x1b[0m\\x1b[38;2;3;0;86;48;2;1;0;51m\\x1b[0m\\x1b[38;2;12;0;86;48;2;7;0;51m\\x1b[0m\\x1b[38;2;22;0;86;48;2;12;0;51m\\x1b[0m\\x1b[38;2;31;0;86;48;2;18;0;51m\\x1b[0m\\x1b[38;2;40;0;86;48;2;24;0;51m\\x1b[0m\\x1b[38;2;50;0;86;48;2;29;0;51m\\x1b[0m\\x1b[38;2;59;0;86;48;2;35;0;51m\\x1b[0m\\x1b[38;2;69;0;86;48;2;40;0;51m\\x1b[0m\\x1b[38;2;78;0;86;48;2;46;0;51m\\x1b[0m\\x1b[38;2;86;0;85;48;2;51;0;50m\\x1b[0m\\x1b[38;2;86;0;75;48;2;51;0;44m\\x1b[0m\\x1b[38;2;86;0;66;48;2;51;0;38m\\x1b[0m\\x1b[38;2;86;0;56;48;2;51;0;33m\\x1b[0m\\x1b[38;2;86;0;47;48;2;51;0;27m\\x1b[0m\\x1b[38;2;86;0;37;48;2;51;0;22m\\x1b[0m\\x1b[38;2;86;0;28;48;2;51;0;16m\\x1b[0m\\x1b[38;2;86;0;18;48;2;51;0;11m\\x1b[0m\\x1b[38;2;86;0;9;48;2;51;0;5m\\x1b[0m \\n\\x1b[1;31m              \\x1b[0m \\x1b[1;34m8-bit color\\x1b[0m                 \\x1b[38;2;158;0;0;48;2;122;0;0m\\x1b[0m\\x1b[38;2;158;17;0;48;2;122;13;0m\\x1b[0m\\x1b[38;2;158;34;0;48;2;122;26;0m\\x1b[0m\\x1b[38;2;158;51;0;48;2;122;40;0m\\x1b[0m\\x1b[38;2;158;68;0;48;2;122;53;0m\\x1b[0m\\x1b[38;2;158;86;0;48;2;122;66;0m\\x1b[0m\\x1b[38;2;158;103;0;48;2;122;80;0m\\x1b[0m\\x1b[38;2;158;120;0;48;2;122;93;0m\\x1b[0m\\x1b[38;2;158;137;0;48;2;122;106;0m\\x1b[0m\\x1b[38;2;158;155;0;48;2;122;120;0m\\x1b[0m\\x1b[38;2;143;158;0;48;2;111;122;0m\\x1b[0m\\x1b[38;2;126;158;0;48;2;97;122;0m\\x1b[0m\\x1b[38;2;109;158;0;48;2;84;122;0m\\x1b[0m\\x1b[38;2;91;158;0;48;2;71;122;0m\\x1b[0m\\x1b[38;2;74;158;0;48;2;57;122;0m\\x1b[0m\\x1b[38;2;57;158;0;48;2;44;122;0m\\x1b[0m\\x1b[38;2;40;158;0;48;2;31;122;0m\\x1b[0m\\x1b[38;2;22;158;0;48;2;17;122;0m\\x1b[0m\\x1b[38;2;5;158;0;48;2;4;122;0m\\x1b[0m\\x1b[38;2;0;158;11;48;2;0;122;8m\\x1b[0m\\x1b[38;2;0;158;28;48;2;0;122;22m\\x1b[0m\\x1b[38;2;0;158;45;48;2;0;122;35m\\x1b[0m\\x1b[38;2;0;158;63;48;2;0;122;48m\\x1b[0m\\x1b[38;2;0;158;80;48;2;0;122;62m\\x1b[0m\\x1b[38;2;0;158;97;48;2;0;122;75m\\x1b[0m\\x1b[38;2;0;158;114;48;2;0;122;89m\\x1b[0m\\x1b[38;2;0;158;132;48;2;0;122;102m\\x1b[0m\\x1b[38;2;0;158;149;48;2;0;122;115m\\x1b[0m\\x1b[38;2;0;149;158;48;2;0;115;122m\\x1b[0m\\x1b[38;2;0;132;158;48;2;0;102;122m\\x1b[0m\\x1b[38;2;0;114;158;48;2;0;89;122m\\x1b[0m\\x1b[38;2;0;97;158;48;2;0;75;122m\\x1b[0m\\x1b[38;2;0;80;158;48;2;0;62;122m\\x1b[0m\\x1b[38;2;0;63;158;48;2;0;48;122m\\x1b[0m\\x1b[38;2;0;45;158;48;2;0;35;122m\\x1b[0m\\x1b[38;2;0;28;158;48;2;0;22;122m\\x1b[0m\\x1b[38;2;0;11;158;48;2;0;8;122m\\x1b[0m\\x1b[38;2;5;0;158;48;2;4;0;122m\\x1b[0m\\x1b[38;2;22;0;158;48;2;17;0;122m\\x1b[0m\\x1b[38;2;40;0;158;48;2;31;0;122m\\x1b[0m\\x1b[38;2;57;0;158;48;2;44;0;122m\\x1b[0m\\x1b[38;2;74;0;158;48;2;57;0;122m\\x1b[0m\\x1b[38;2;91;0;158;48;2;71;0;122m\\x1b[0m\\x1b[38;2;109;0;158;48;2;84;0;122m\\x1b[0m\\x1b[38;2;126;0;158;48;2;97;0;122m\\x1b[0m\\x1b[38;2;143;0;158;48;2;111;0;122m\\x1b[0m\\x1b[38;2;158;0;155;48;2;122;0;120m\\x1b[0m\\x1b[38;2;158;0;137;48;2;122;0;106m\\x1b[0m\\x1b[38;2;158;0;120;48;2;122;0;93m\\x1b[0m\\x1b[38;2;158;0;103;48;2;122;0;80m\\x1b[0m\\x1b[38;2;158;0;86;48;2;122;0;66m\\x1b[0m\\x1b[38;2;158;0;68;48;2;122;0;53m\\x1b[0m\\x1b[38;2;158;0;51;48;2;122;0;40m\\x1b[0m\\x1b[38;2;158;0;34;48;2;122;0;26m\\x1b[0m\\x1b[38;2;158;0;17;48;2;122;0;13m\\x1b[0m \\n\\x1b[1;31m              \\x1b[0m \\x1b[1;35mTruecolor (16.7 million)\\x1b[0m    \\x1b[38;2;229;0;0;48;2;193;0;0m\\x1b[0m\\x1b[38;2;229;25;0;48;2;193;21;0m\\x1b[0m\\x1b[38;2;229;50;0;48;2;193;42;0m\\x1b[0m\\x1b[38;2;229;75;0;48;2;193;63;0m\\x1b[0m\\x1b[38;2;229;100;0;48;2;193;84;0m\\x1b[0m\\x1b[38;2;229;125;0;48;2;193;105;0m\\x1b[0m\\x1b[38;2;229;150;0;48;2;193;126;0m\\x1b[0m\\x1b[38;2;229;175;0;48;2;193;147;0m\\x1b[0m\\x1b[38;2;229;200;0;48;2;193;169;0m\\x1b[0m\\x1b[38;2;229;225;0;48;2;193;190;0m\\x1b[0m\\x1b[38;2;208;229;0;48;2;176;193;0m\\x1b[0m\\x1b[38;2;183;229;0;48;2;155;193;0m\\x1b[0m\\x1b[38;2;158;229;0;48;2;133;193;0m\\x1b[0m\\x1b[38;2;133;229;0;48;2;112;193;0m\\x1b[0m\\x1b[38;2;108;229;0;48;2;91;193;0m\\x1b[0m\\x1b[38;2;83;229;0;48;2;70;193;0m\\x1b[0m\\x1b[38;2;58;229;0;48;2;49;193;0m\\x1b[0m\\x1b[38;2;33;229;0;48;2;28;193;0m\\x1b[0m\\x1b[38;2;8;229;0;48;2;7;193;0m\\x1b[0m\\x1b[38;2;0;229;16;48;2;0;193;14m\\x1b[0m\\x1b[38;2;0;229;41;48;2;0;193;35m\\x1b[0m\\x1b[38;2;0;229;66;48;2;0;193;56m\\x1b[0m\\x1b[38;2;0;229;91;48;2;0;193;77m\\x1b[0m\\x1b[38;2;0;229;116;48;2;0;193;98m\\x1b[0m\\x1b[38;2;0;229;141;48;2;0;193;119m\\x1b[0m\\x1b[38;2;0;229;166;48;2;0;193;140m\\x1b[0m\\x1b[38;2;0;229;191;48;2;0;193;162m\\x1b[0m\\x1b[38;2;0;229;216;48;2;0;193;183m\\x1b[0m\\x1b[38;2;0;216;229;48;2;0;183;193m\\x1b[0m\\x1b[38;2;0;191;229;48;2;0;162;193m\\x1b[0m\\x1b[38;2;0;166;229;48;2;0;140;193m\\x1b[0m\\x1b[38;2;0;141;229;48;2;0;119;193m\\x1b[0m\\x1b[38;2;0;116;229;48;2;0;98;193m\\x1b[0m\\x1b[38;2;0;91;229;48;2;0;77;193m\\x1b[0m\\x1b[38;2;0;66;229;48;2;0;56;193m\\x1b[0m\\x1b[38;2;0;41;229;48;2;0;35;193m\\x1b[0m\\x1b[38;2;0;16;229;48;2;0;14;193m\\x1b[0m\\x1b[38;2;8;0;229;48;2;7;0;193m\\x1b[0m\\x1b[38;2;33;0;229;48;2;28;0;193m\\x1b[0m\\x1b[38;2;58;0;229;48;2;49;0;193m\\x1b[0m\\x1b[38;2;83;0;229;48;2;70;0;193m\\x1b[0m\\x1b[38;2;108;0;229;48;2;91;0;193m\\x1b[0m\\x1b[38;2;133;0;229;48;2;112;0;193m\\x1b[0m\\x1b[38;2;158;0;229;48;2;133;0;193m\\x1b[0m\\x1b[38;2;183;0;229;48;2;155;0;193m\\x1b[0m\\x1b[38;2;208;0;229;48;2;176;0;193m\\x1b[0m\\x1b[38;2;229;0;225;48;2;193;0;190m\\x1b[0m\\x1b[38;2;229;0;200;48;2;193;0;169m\\x1b[0m\\x1b[38;2;229;0;175;48;2;193;0;147m\\x1b[0m\\x1b[38;2;229;0;150;48;2;193;0;126m\\x1b[0m\\x1b[38;2;229;0;125;48;2;193;0;105m\\x1b[0m\\x1b[38;2;229;0;100;48;2;193;0;84m\\x1b[0m\\x1b[38;2;229;0;75;48;2;193;0;63m\\x1b[0m\\x1b[38;2;229;0;50;48;2;193;0;42m\\x1b[0m\\x1b[38;2;229;0;25;48;2;193;0;21m\\x1b[0m \\n\\x1b[1;31m              \\x1b[0m \\x1b[1;33mDumb terminals\\x1b[0m              \\x1b[38;2;254;45;45;48;2;255;10;10m\\x1b[0m\\x1b[38;2;254;68;45;48;2;255;36;10m\\x1b[0m\\x1b[38;2;254;91;45;48;2;255;63;10m\\x1b[0m\\x1b[38;2;254;114;45;48;2;255;90;10m\\x1b[0m\\x1b[38;2;254;137;45;48;2;255;117;10m\\x1b[0m\\x1b[38;2;254;159;45;48;2;255;143;10m\\x1b[0m\\x1b[38;2;254;182;45;48;2;255;170;10m\\x1b[0m\\x1b[38;2;254;205;45;48;2;255;197;10m\\x1b[0m\\x1b[38;2;254;228;45;48;2;255;223;10m\\x1b[0m\\x1b[38;2;254;251;45;48;2;255;250;10m\\x1b[0m\\x1b[38;2;235;254;45;48;2;232;255;10m\\x1b[0m\\x1b[38;2;213;254;45;48;2;206;255;10m\\x1b[0m\\x1b[38;2;190;254;45;48;2;179;255;10m\\x1b[0m\\x1b[38;2;167;254;45;48;2;152;255;10m\\x1b[0m\\x1b[38;2;144;254;45;48;2;125;255;10m\\x1b[0m\\x1b[38;2;121;254;45;48;2;99;255;10m\\x1b[0m\\x1b[38;2;99;254;45;48;2;72;255;10m\\x1b[0m\\x1b[38;2;76;254;45;48;2;45;255;10m\\x1b[0m\\x1b[38;2;53;254;45;48;2;19;255;10m\\x1b[0m\\x1b[38;2;45;254;61;48;2;10;255;28m\\x1b[0m\\x1b[38;2;45;254;83;48;2;10;255;54m\\x1b[0m\\x1b[38;2;45;254;106;48;2;10;255;81m\\x1b[0m\\x1b[38;2;45;254;129;48;2;10;255;108m\\x1b[0m\\x1b[38;2;45;254;152;48;2;10;255;134m\\x1b[0m\\x1b[38;2;45;254;175;48;2;10;255;161m\\x1b[0m\\x1b[38;2;45;254;197;48;2;10;255;188m\\x1b[0m\\x1b[38;2;45;254;220;48;2;10;255;214m\\x1b[0m\\x1b[38;2;45;254;243;48;2;10;255;241m\\x1b[0m\\x1b[38;2;45;243;254;48;2;10;241;255m\\x1b[0m\\x1b[38;2;45;220;254;48;2;10;214;255m\\x1b[0m\\x1b[38;2;45;197;254;48;2;10;188;255m\\x1b[0m\\x1b[38;2;45;175;254;48;2;10;161;255m\\x1b[0m\\x1b[38;2;45;152;254;48;2;10;134;255m\\x1b[0m\\x1b[38;2;45;129;254;48;2;10;108;255m\\x1b[0m\\x1b[38;2;45;106;254;48;2;10;81;255m\\x1b[0m\\x1b[38;2;45;83;254;48;2;10;54;255m\\x1b[0m\\x1b[38;2;45;61;254;48;2;10;28;255m\\x1b[0m\\x1b[38;2;53;45;254;48;2;19;10;255m\\x1b[0m\\x1b[38;2;76;45;254;48;2;45;10;255m\\x1b[0m\\x1b[38;2;99;45;254;48;2;72;10;255m\\x1b[0m\\x1b[38;2;121;45;254;48;2;99;10;255m\\x1b[0m\\x1b[38;2;144;45;254;48;2;125;10;255m\\x1b[0m\\x1b[38;2;167;45;254;48;2;152;10;255m\\x1b[0m\\x1b[38;2;190;45;254;48;2;179;10;255m\\x1b[0m\\x1b[38;2;213;45;254;48;2;206;10;255m\\x1b[0m\\x1b[38;2;235;45;254;48;2;232;10;255m\\x1b[0m\\x1b[38;2;254;45;251;48;2;255;10;250m\\x1b[0m\\x1b[38;2;254;45;228;48;2;255;10;223m\\x1b[0m\\x1b[38;2;254;45;205;48;2;255;10;197m\\x1b[0m\\x1b[38;2;254;45;182;48;2;255;10;170m\\x1b[0m\\x1b[38;2;254;45;159;48;2;255;10;143m\\x1b[0m\\x1b[38;2;254;45;137;48;2;255;10;117m\\x1b[0m\\x1b[38;2;254;45;114;48;2;255;10;90m\\x1b[0m\\x1b[38;2;254;45;91;48;2;255;10;63m\\x1b[0m\\x1b[38;2;254;45;68;48;2;255;10;36m\\x1b[0m \\n\\x1b[1;31m              \\x1b[0m \\x1b[1;36mAutomatic color conversion\\x1b[0m  \\x1b[38;2;255;117;117;48;2;255;81;81m\\x1b[0m\\x1b[38;2;255;132;117;48;2;255;100;81m\\x1b[0m\\x1b[38;2;255;147;117;48;2;255;119;81m\\x1b[0m\\x1b[38;2;255;162;117;48;2;255;138;81m\\x1b[0m\\x1b[38;2;255;177;117;48;2;255;157;81m\\x1b[0m\\x1b[38;2;255;192;117;48;2;255;176;81m\\x1b[0m\\x1b[38;2;255;207;117;48;2;255;195;81m\\x1b[0m\\x1b[38;2;255;222;117;48;2;255;214;81m\\x1b[0m\\x1b[38;2;255;237;117;48;2;255;232;81m\\x1b[0m\\x1b[38;2;255;252;117;48;2;255;251;81m\\x1b[0m\\x1b[38;2;242;255;117;48;2;239;255;81m\\x1b[0m\\x1b[38;2;227;255;117;48;2;220;255;81m\\x1b[0m\\x1b[38;2;212;255;117;48;2;201;255;81m\\x1b[0m\\x1b[38;2;197;255;117;48;2;182;255;81m\\x1b[0m\\x1b[38;2;182;255;117;48;2;163;255;81m\\x1b[0m\\x1b[38;2;167;255;117;48;2;144;255;81m\\x1b[0m\\x1b[38;2;152;255;117;48;2;125;255;81m\\x1b[0m\\x1b[38;2;137;255;117;48;2;106;255;81m\\x1b[0m\\x1b[38;2;122;255;117;48;2;87;255;81m\\x1b[0m\\x1b[38;2;117;255;127;48;2;81;255;94m\\x1b[0m\\x1b[38;2;117;255;142;48;2;81;255;113m\\x1b[0m\\x1b[38;2;117;255;157;48;2;81;255;132m\\x1b[0m\\x1b[38;2;117;255;172;48;2;81;255;150m\\x1b[0m\\x1b[38;2;117;255;187;48;2;81;255;169m\\x1b[0m\\x1b[38;2;117;255;202;48;2;81;255;188m\\x1b[0m\\x1b[38;2;117;255;217;48;2;81;255;207m\\x1b[0m\\x1b[38;2;117;255;232;48;2;81;255;226m\\x1b[0m\\x1b[38;2;117;255;247;48;2;81;255;245m\\x1b[0m\\x1b[38;2;117;247;255;48;2;81;245;255m\\x1b[0m\\x1b[38;2;117;232;255;48;2;81;226;255m\\x1b[0m\\x1b[38;2;117;217;255;48;2;81;207;255m\\x1b[0m\\x1b[38;2;117;202;255;48;2;81;188;255m\\x1b[0m\\x1b[38;2;117;187;255;48;2;81;169;255m\\x1b[0m\\x1b[38;2;117;172;255;48;2;81;150;255m\\x1b[0m\\x1b[38;2;117;157;255;48;2;81;132;255m\\x1b[0m\\x1b[38;2;117;142;255;48;2;81;113;255m\\x1b[0m\\x1b[38;2;117;127;255;48;2;81;94;255m\\x1b[0m\\x1b[38;2;122;117;255;48;2;87;81;255m\\x1b[0m\\x1b[38;2;137;117;255;48;2;106;81;255m\\x1b[0m\\x1b[38;2;152;117;255;48;2;125;81;255m\\x1b[0m\\x1b[38;2;167;117;255;48;2;144;81;255m\\x1b[0m\\x1b[38;2;182;117;255;48;2;163;81;255m\\x1b[0m\\x1b[38;2;197;117;255;48;2;182;81;255m\\x1b[0m\\x1b[38;2;212;117;255;48;2;201;81;255m\\x1b[0m\\x1b[38;2;227;117;255;48;2;220;81;255m\\x1b[0m\\x1b[38;2;242;117;255;48;2;239;81;255m\\x1b[0m\\x1b[38;2;255;117;252;48;2;255;81;251m\\x1b[0m\\x1b[38;2;255;117;237;48;2;255;81;232m\\x1b[0m\\x1b[38;2;255;117;222;48;2;255;81;214m\\x1b[0m\\x1b[38;2;255;117;207;48;2;255;81;195m\\x1b[0m\\x1b[38;2;255;117;192;48;2;255;81;176m\\x1b[0m\\x1b[38;2;255;117;177;48;2;255;81;157m\\x1b[0m\\x1b[38;2;255;117;162;48;2;255;81;138m\\x1b[0m\\x1b[38;2;255;117;147;48;2;255;81;119m\\x1b[0m\\x1b[38;2;255;117;132;48;2;255;81;100m\\x1b[0m \\n\\x1b[1;31m              \\x1b[0m                                                                                      \\n\\x1b[1;31m \\x1b[0m\\x1b[1;31m   Styles   \\x1b[0m\\x1b[1;31m \\x1b[0mAll ansi styles: \\x1b[1mbold\\x1b[0m, \\x1b[2mdim\\x1b[0m, \\x1b[3mitalic\\x1b[0m, \\x1b[4munderline\\x1b[0m, \\x1b[9mstrikethrough\\x1b[0m, \\x1b[7mreverse\\x1b[0m, and even       \\n\\x1b[1;31m              \\x1b[0m\\x1b[5mblink\\x1b[0m.                                                                                \\n\\x1b[1;31m              \\x1b[0m                                                                                      \\n\\x1b[1;31m \\x1b[0m\\x1b[1;31m    Text    \\x1b[0m\\x1b[1;31m \\x1b[0mWord wrap text. Justify \\x1b[32mleft\\x1b[0m, \\x1b[33mcenter\\x1b[0m, \\x1b[34mright\\x1b[0m or \\x1b[31mfull\\x1b[0m.                                  \\n\\x1b[1;31m              \\x1b[0m                                                                                      \\n\\x1b[1;31m              \\x1b[0m\\x1b[32mLorem ipsum dolor   \\x1b[0m \\x1b[33m Lorem ipsum dolor  \\x1b[0m \\x1b[34m   Lorem ipsum dolor\\x1b[0m \\x1b[31mLorem\\x1b[0m\\x1b[31m \\x1b[0m\\x1b[31mipsum\\x1b[0m\\x1b[31m \\x1b[0m\\x1b[31mdolor\\x1b[0m\\x1b[31m  \\x1b[0m\\x1b[31msit\\x1b[0m \\n\\x1b[1;31m              \\x1b[0m\\x1b[32msit amet,           \\x1b[0m \\x1b[33m     sit amet,      \\x1b[0m \\x1b[34m           sit amet,\\x1b[0m \\x1b[31mamet,\\x1b[0m\\x1b[31m      \\x1b[0m\\x1b[31mconsectetur\\x1b[0m \\n\\x1b[1;31m              \\x1b[0m\\x1b[32mconsectetur         \\x1b[0m \\x1b[33m    consectetur     \\x1b[0m \\x1b[34m         consectetur\\x1b[0m \\x1b[31madipiscing\\x1b[0m\\x1b[31m       \\x1b[0m\\x1b[31melit.\\x1b[0m \\n\\x1b[1;31m              \\x1b[0m\\x1b[32madipiscing elit.    \\x1b[0m \\x1b[33m  adipiscing elit.  \\x1b[0m \\x1b[34m    adipiscing elit.\\x1b[0m \\x1b[31mQuisque\\x1b[0m\\x1b[31m \\x1b[0m\\x1b[31min\\x1b[0m\\x1b[31m  \\x1b[0m\\x1b[31mmetus\\x1b[0m\\x1b[31m  \\x1b[0m\\x1b[31msed\\x1b[0m \\n\\x1b[1;31m              \\x1b[0m\\x1b[32mQuisque in metus sed\\x1b[0m \\x1b[33mQuisque in metus sed\\x1b[0m \\x1b[34mQuisque in metus sed\\x1b[0m \\x1b[31msapien\\x1b[0m\\x1b[31m       \\x1b[0m\\x1b[31multricies\\x1b[0m \\n\\x1b[1;31m              \\x1b[0m\\x1b[32msapien ultricies    \\x1b[0m \\x1b[33m  sapien ultricies  \\x1b[0m \\x1b[34m    sapien ultricies\\x1b[0m \\x1b[31mpretium\\x1b[0m\\x1b[31m  \\x1b[0m\\x1b[31ma\\x1b[0m\\x1b[31m  \\x1b[0m\\x1b[31mat\\x1b[0m\\x1b[31m  \\x1b[0m\\x1b[31mjusto.\\x1b[0m \\n\\x1b[1;31m              \\x1b[0m\\x1b[32mpretium a at justo. \\x1b[0m \\x1b[33mpretium a at justo. \\x1b[0m \\x1b[34m pretium a at justo.\\x1b[0m \\x1b[31mMaecenas\\x1b[0m\\x1b[31m \\x1b[0m\\x1b[31mluctus\\x1b[0m\\x1b[31m  \\x1b[0m\\x1b[31mvelit\\x1b[0m \\n\\x1b[1;31m              \\x1b[0m\\x1b[32mMaecenas luctus     \\x1b[0m \\x1b[33m  Maecenas luctus   \\x1b[0m \\x1b[34m     Maecenas luctus\\x1b[0m \\x1b[31met auctor maximus.\\x1b[0m     \\n\\x1b[1;31m              \\x1b[0m\\x1b[32mvelit et auctor     \\x1b[0m \\x1b[33m  velit et auctor   \\x1b[0m \\x1b[34m     velit et auctor\\x1b[0m                        \\n\\x1b[1;31m              \\x1b[0m\\x1b[32mmaximus.            \\x1b[0m \\x1b[33m      maximus.      \\x1b[0m \\x1b[34m            maximus.\\x1b[0m                        \\n\\x1b[1;31m              \\x1b[0m                                                                                      \\n\\x1b[1;31m \\x1b[0m\\x1b[1;31m   Asian    \\x1b[0m\\x1b[1;31m \\x1b[0m                                                      \\n\\x1b[1;31m \\x1b[0m\\x1b[1;31m  language  \\x1b[0m\\x1b[1;31m \\x1b[0m                    \\n\\x1b[1;31m \\x1b[0m\\x1b[1;31m  support   \\x1b[0m\\x1b[1;31m \\x1b[0m    ,                           \\n\\x1b[1;31m              \\x1b[0m                                                                                      \\n\\x1b[1;31m \\x1b[0m\\x1b[1;31m   Markup   \\x1b[0m\\x1b[1;31m \\x1b[0m\\x1b[1;35mRich\\x1b[0m supports a simple \\x1b[3mbbcode\\x1b[0m-like \\x1b[1mmarkup\\x1b[0m for \\x1b[33mcolor\\x1b[0m, \\x1b[4mstyle\\x1b[0m, and emoji!       \\n\\x1b[1;31m              \\x1b[0m                                                                                    \\n\\x1b[1;31m              \\x1b[0m                                                                                      \\n\\x1b[1;31m \\x1b[0m\\x1b[1;31m   Tables   \\x1b[0m\\x1b[1;31m \\x1b[0m\\x1b[1m \\x1b[0m\\x1b[1;32mDate\\x1b[0m\\x1b[1m        \\x1b[0m\\x1b[1m \\x1b[0m \\x1b[1m \\x1b[0m\\x1b[1;34mTitle\\x1b[0m\\x1b[1m                          \\x1b[0m\\x1b[1m \\x1b[0m \\x1b[1m \\x1b[0m\\x1b[1;36mProduction Budget\\x1b[0m\\x1b[1m \\x1b[0m \\x1b[1m \\x1b[0m\\x1b[1m    \\x1b[0m\\x1b[1;35mBox Office\\x1b[0m\\x1b[1m \\x1b[0m \\n\\x1b[1;31m              \\x1b[0m \\n\\x1b[1;31m              \\x1b[0m\\x1b[32m \\x1b[0m\\x1b[32mDec 20, 2019\\x1b[0m\\x1b[32m \\x1b[0m \\x1b[34m \\x1b[0m\\x1b[34mStar Wars: The Rise of         \\x1b[0m\\x1b[34m \\x1b[0m \\x1b[36m \\x1b[0m\\x1b[36m     $275,000,000\\x1b[0m\\x1b[36m \\x1b[0m \\x1b[35m \\x1b[0m\\x1b[35m  $375,126,118\\x1b[0m\\x1b[35m \\x1b[0m \\n\\x1b[1;31m              \\x1b[0m\\x1b[32m              \\x1b[0m \\x1b[34m \\x1b[0m\\x1b[34mSkywalker                      \\x1b[0m\\x1b[34m \\x1b[0m \\x1b[36m                   \\x1b[0m \\x1b[35m                \\x1b[0m \\n\\x1b[1;31m              \\x1b[0m\\x1b[2;32m \\x1b[0m\\x1b[2;32mMay 25, 2018\\x1b[0m\\x1b[2;32m \\x1b[0m \\x1b[2;34m \\x1b[0m\\x1b[1;2;34mSolo\\x1b[0m\\x1b[2;34m: A Star Wars Story        \\x1b[0m\\x1b[2;34m \\x1b[0m \\x1b[2;36m \\x1b[0m\\x1b[2;36m     $275,000,000\\x1b[0m\\x1b[2;36m \\x1b[0m \\x1b[2;35m \\x1b[0m\\x1b[2;35m  $393,151,347\\x1b[0m\\x1b[2;35m \\x1b[0m \\n\\x1b[1;31m              \\x1b[0m\\x1b[32m \\x1b[0m\\x1b[32mDec 15, 2017\\x1b[0m\\x1b[32m \\x1b[0m \\x1b[34m \\x1b[0m\\x1b[34mStar Wars Ep. VIII: The Last   \\x1b[0m\\x1b[34m \\x1b[0m \\x1b[36m \\x1b[0m\\x1b[36m     $262,000,000\\x1b[0m\\x1b[36m \\x1b[0m \\x1b[35m \\x1b[0m\\x1b[1;35m$1,332,539,889\\x1b[0m\\x1b[35m \\x1b[0m \\n\\x1b[1;31m              \\x1b[0m\\x1b[32m              \\x1b[0m \\x1b[34m \\x1b[0m\\x1b[34mJedi                           \\x1b[0m\\x1b[34m \\x1b[0m \\x1b[36m                   \\x1b[0m \\x1b[35m                \\x1b[0m \\n\\x1b[1;31m              \\x1b[0m\\x1b[2;32m \\x1b[0m\\x1b[2;32mMay 19, 1999\\x1b[0m\\x1b[2;32m \\x1b[0m \\x1b[2;34m \\x1b[0m\\x1b[2;34mStar Wars Ep. \\x1b[0m\\x1b[1;2;34mI\\x1b[0m\\x1b[2;34m: \\x1b[0m\\x1b[2;3;34mThe phantom \\x1b[0m\\x1b[2;34m  \\x1b[0m\\x1b[2;34m \\x1b[0m \\x1b[2;36m \\x1b[0m\\x1b[2;36m     $115,000,000\\x1b[0m\\x1b[2;36m \\x1b[0m \\x1b[2;35m \\x1b[0m\\x1b[2;35m$1,027,044,677\\x1b[0m\\x1b[2;35m \\x1b[0m \\n\\x1b[1;31m              \\x1b[0m\\x1b[2;32m              \\x1b[0m \\x1b[2;34m \\x1b[0m\\x1b[2;3;34mMenace\\x1b[0m\\x1b[2;34m                         \\x1b[0m\\x1b[2;34m \\x1b[0m \\x1b[2;36m                   \\x1b[0m \\x1b[2;35m                \\x1b[0m \\n\\x1b[1;31m              \\x1b[0m                                                                                      \\n\\x1b[1;31m \\x1b[0m\\x1b[1;31m   Syntax   \\x1b[0m\\x1b[1;31m \\x1b[0m\\x1b[1;38;2;227;227;221;48;2;39;40;34m  \\x1b[0m\\x1b[38;2;101;102;96;48;2;39;40;34m 1 \\x1b[0m\\x1b[38;2;102;217;239;48;2;39;40;34mdef\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;166;226;46;48;2;39;40;34miter_last\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m(\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mvalues\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m:\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mIterable\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m[\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mT\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m]\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m)\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;255;70;137;48;2;39;40;34m-\\x1b[0m\\x1b[38;2;255;70;137;48;2;39;40;34m>\\x1b[0m  \\x1b[1m{\\x1b[0m                                         \\n\\x1b[1;31m \\x1b[0m\\x1b[1;31mhighlighting\\x1b[0m\\x1b[1;31m \\x1b[0m\\x1b[1;38;2;227;227;221;48;2;39;40;34m  \\x1b[0m\\x1b[38;2;101;102;96;48;2;39;40;34m 2 \\x1b[0m\\x1b[2;38;2;149;144;119;48;2;39;40;34m   \\x1b[0m\\x1b[38;2;230;219;116;48;2;39;40;34m\\\"\\\"\\\"Iterate and generate a tuple w\\x1b[0m  \\x1b[2;32m   \\x1b[0m\\x1b[32m'foo'\\x1b[0m: \\x1b[1m[\\x1b[0m                              \\n\\x1b[1;31m \\x1b[0m\\x1b[1;31m     &      \\x1b[0m\\x1b[1;31m \\x1b[0m\\x1b[1;38;2;227;227;221;48;2;39;40;34m  \\x1b[0m\\x1b[38;2;101;102;96;48;2;39;40;34m 3 \\x1b[0m\\x1b[2;38;2;149;144;119;48;2;39;40;34m   \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34miter_values\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;255;70;137;48;2;39;40;34m=\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34miter\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m(\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mvalues\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m)\\x1b[0m\\x1b[48;2;39;40;34m       \\x1b[0m  \\x1b[2;32m      \\x1b[0m\\x1b[1;36m3.1427\\x1b[0m,                           \\n\\x1b[1;31m \\x1b[0m\\x1b[1;31m   pretty   \\x1b[0m\\x1b[1;31m \\x1b[0m\\x1b[1;38;2;227;227;221;48;2;39;40;34m  \\x1b[0m\\x1b[38;2;101;102;96;48;2;39;40;34m 4 \\x1b[0m\\x1b[2;38;2;149;144;119;48;2;39;40;34m   \\x1b[0m\\x1b[38;2;102;217;239;48;2;39;40;34mtry\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m:\\x1b[0m\\x1b[48;2;39;40;34m                             \\x1b[0m  \\x1b[2;32m      \\x1b[0m\\x1b[1m(\\x1b[0m                                 \\n\\x1b[1;31m \\x1b[0m\\x1b[1;31m  printing  \\x1b[0m\\x1b[1;31m \\x1b[0m\\x1b[1;38;2;227;227;221;48;2;39;40;34m  \\x1b[0m\\x1b[38;2;101;102;96;48;2;39;40;34m 5 \\x1b[0m\\x1b[2;38;2;149;144;119;48;2;39;40;34m      \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mprevious_value\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;255;70;137;48;2;39;40;34m=\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mnext\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m(\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34miter_va\\x1b[0m  \\x1b[2;32m         \\x1b[0m\\x1b[32m'Paul Atreides'\\x1b[0m,              \\n\\x1b[1;31m              \\x1b[0m\\x1b[1;38;2;227;227;221;48;2;39;40;34m  \\x1b[0m\\x1b[38;2;101;102;96;48;2;39;40;34m 6 \\x1b[0m\\x1b[2;38;2;149;144;119;48;2;39;40;34m   \\x1b[0m\\x1b[38;2;102;217;239;48;2;39;40;34mexcept\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;166;226;46;48;2;39;40;34mStopIteration\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m:\\x1b[0m\\x1b[48;2;39;40;34m            \\x1b[0m  \\x1b[2;32m         \\x1b[0m\\x1b[32m'Vladimir Harkonnen'\\x1b[0m,         \\n\\x1b[1;31m              \\x1b[0m\\x1b[1;38;2;227;227;221;48;2;39;40;34m  \\x1b[0m\\x1b[38;2;101;102;96;48;2;39;40;34m 7 \\x1b[0m\\x1b[2;38;2;149;144;119;48;2;39;40;34m      \\x1b[0m\\x1b[38;2;102;217;239;48;2;39;40;34mreturn\\x1b[0m\\x1b[48;2;39;40;34m                       \\x1b[0m  \\x1b[2;32m         \\x1b[0m\\x1b[32m'Thufir Hawat'\\x1b[0m                \\n\\x1b[1;31m              \\x1b[0m\\x1b[1;38;2;227;227;221;48;2;39;40;34m  \\x1b[0m\\x1b[38;2;101;102;96;48;2;39;40;34m 8 \\x1b[0m\\x1b[2;38;2;149;144;119;48;2;39;40;34m   \\x1b[0m\\x1b[38;2;102;217;239;48;2;39;40;34mfor\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mvalue\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;255;70;137;48;2;39;40;34min\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34miter_values\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m:\\x1b[0m\\x1b[48;2;39;40;34m        \\x1b[0m  \\x1b[2;32m      \\x1b[0m\\x1b[1m)\\x1b[0m                                 \\n\\x1b[1;31m              \\x1b[0m\\x1b[1;38;2;227;227;221;48;2;39;40;34m  \\x1b[0m\\x1b[38;2;101;102;96;48;2;39;40;34m 9 \\x1b[0m\\x1b[2;38;2;149;144;119;48;2;39;40;34m      \\x1b[0m\\x1b[38;2;102;217;239;48;2;39;40;34myield\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;102;217;239;48;2;39;40;34mFalse\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m,\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mprevious_value\\x1b[0m\\x1b[48;2;39;40;34m  \\x1b[0m  \\x1b[2;32m   \\x1b[0m\\x1b[1m]\\x1b[0m,                                    \\n\\x1b[1;31m              \\x1b[0m\\x1b[1;38;2;227;227;221;48;2;39;40;34m  \\x1b[0m\\x1b[38;2;101;102;96;48;2;39;40;34m10 \\x1b[0m\\x1b[2;38;2;149;144;119;48;2;39;40;34m      \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mprevious_value\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;255;70;137;48;2;39;40;34m=\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mvalue\\x1b[0m\\x1b[48;2;39;40;34m       \\x1b[0m  \\x1b[2;32m   \\x1b[0m\\x1b[32m'atomic'\\x1b[0m: \\x1b[1m(\\x1b[0m\\x1b[3;91mFalse\\x1b[0m, \\x1b[3;92mTrue\\x1b[0m, \\x1b[3;35mNone\\x1b[0m\\x1b[1m)\\x1b[0m         \\n\\x1b[1;31m              \\x1b[0m\\x1b[1;38;2;227;227;221;48;2;39;40;34m  \\x1b[0m\\x1b[38;2;101;102;96;48;2;39;40;34m11 \\x1b[0m\\x1b[2;38;2;149;144;119;48;2;39;40;34m   \\x1b[0m\\x1b[38;2;102;217;239;48;2;39;40;34myield\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;102;217;239;48;2;39;40;34mTrue\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m,\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mprevious_value\\x1b[0m\\x1b[48;2;39;40;34m       \\x1b[0m  \\x1b[1m}\\x1b[0m                                         \\n\\x1b[1;31m              \\x1b[0m                                                                                      \\n\\x1b[1;31m \\x1b[0m\\x1b[1;31m  Markdown  \\x1b[0m\\x1b[1;31m \\x1b[0m\\x1b[36m# Markdown\\x1b[0m                                   \\n\\x1b[1;31m              \\x1b[0m                                                           \\x1b[1mMarkdown\\x1b[0m                 \\n\\x1b[1;31m              \\x1b[0m\\x1b[36mSupports much of the *markdown* \\x1b[0m             \\n\\x1b[1;31m              \\x1b[0m\\x1b[36m__syntax__!\\x1b[0m                                                                           \\n\\x1b[1;31m              \\x1b[0m                                            Supports much of the \\x1b[3mmarkdown\\x1b[0m \\x1b[1msyntax\\x1b[0m!     \\n\\x1b[1;31m              \\x1b[0m\\x1b[36m- Headers\\x1b[0m                                                                             \\n\\x1b[1;31m              \\x1b[0m\\x1b[36m- Basic formatting: **bold**, *italic*, \\x1b[0m    \\x1b[1;33m  \\x1b[0mHeaders                                \\n\\x1b[1;31m              \\x1b[0m\\x1b[36m`code`\\x1b[0m                                      \\x1b[1;33m  \\x1b[0mBasic formatting: \\x1b[1mbold\\x1b[0m, \\x1b[3mitalic\\x1b[0m, \\x1b[1;36;40mcode\\x1b[0m   \\n\\x1b[1;31m              \\x1b[0m\\x1b[36m- Block quotes\\x1b[0m                              \\x1b[1;33m  \\x1b[0mBlock quotes                           \\n\\x1b[1;31m              \\x1b[0m\\x1b[36m- Lists, and more...\\x1b[0m                        \\x1b[1;33m  \\x1b[0mLists, and more...                     \\n\\x1b[1;31m              \\x1b[0m\\x1b[36m    \\x1b[0m                                                                                  \\n\\x1b[1;31m              \\x1b[0m                                                                                      \\n\\x1b[1;31m \\x1b[0m\\x1b[1;31m   +more!   \\x1b[0m\\x1b[1;31m \\x1b[0mProgress bars, columns, styled logging handler, tracebacks, etc...                    \\n\\x1b[1;31m              \\x1b[0m                                                                                      \\n\"\n",
    "start_line": 0
  },
  {
    "file": "test_highlighter.py",
    "type": "module_docstring",
    "class": null,
    "method": null,
    "name": "module_docstring",
    "content": "\"\"\"Tests for the highlighter classes.\"\"\"",
    "start_line": 0
  },
  {
    "file": "test_highlighter.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "import json\nfrom typing import List\nimport pytest\nfrom rich.highlighter import (\n    ISO8601Highlighter,\n    JSONHighlighter,\n    NullHighlighter,\n    ReprHighlighter,\n)\nfrom rich.text import Span, Text",
    "start_line": 1
  },
  {
    "file": "test_highlighter.py",
    "type": "function",
    "class": null,
    "method": "test_wrong_type",
    "name": "test_wrong_type",
    "content": "def test_wrong_type():",
    "start_line": 15
  },
  {
    "file": "test_highlighter.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "highlighter = NullHighlighter()\n    with pytest.raises(TypeError):\n        highlighter([])\nhighlight_tests = [\n    (\"\", []),\n    (\" \", []),\n    (\n        \"<foo>\",\n        [\n            Span(0, 1, \"repr.tag_start\"),\n            Span(1, 4, \"repr.tag_name\"),\n            Span(4, 5, \"repr.tag_end\"),\n        ],\n    ),\n    (\n        \"<foo: 23>\",\n        [\n            Span(0, 1, \"repr.tag_start\"),\n            Span(1, 5, \"repr.tag_name\"),\n            Span(5, 8, \"repr.tag_contents\"),\n            Span(8, 9, \"repr.tag_end\"),\n            Span(6, 8, \"repr.number\"),\n        ],\n    ),\n    (\n        \"<foo: <bar: 23>>\",\n        [\n            Span(0, 1, \"repr.tag_start\"),\n            Span(1, 5, \"repr.tag_name\"),\n            Span(5, 15, \"repr.tag_contents\"),\n            Span(15, 16, \"repr.tag_end\"),\n            Span(12, 14, \"repr.number\"),\n        ],\n    ),\n    (\n        \"False True None\",\n        [\n            Span(0, 5, \"repr.bool_false\"),\n            Span(6, 10, \"repr.bool_true\"),\n            Span(11, 15, \"repr.none\"),\n        ],\n    ),\n    (\"foo=bar\", [Span(0, 3, \"repr.attrib_name\"), Span(4, 7, \"repr.attrib_value\")]),\n    (\n        'foo=\"bar\"',\n        [\n            Span(0, 3, \"repr.attrib_name\"),\n            Span(4, 9, \"repr.attrib_value\"),\n            Span(4, 9, \"repr.str\"),\n        ],\n    ),\n    (\n        \"<Permission.WRITE|READ: 3>\",\n        [\n            Span(0, 1, \"repr.tag_start\"),\n            Span(1, 23, \"repr.tag_name\"),\n            Span(23, 25, \"repr.tag_contents\"),\n            Span(25, 26, \"repr.tag_end\"),\n            Span(24, 25, \"repr.number\"),\n        ],\n    ),\n    (\"( )\", [Span(0, 1, \"repr.brace\"), Span(2, 3, \"repr.brace\")]),\n    (\"[ ]\", [Span(0, 1, \"repr.brace\"), Span(2, 3, \"repr.brace\")]),\n    (\"{ }\", [Span(0, 1, \"repr.brace\"), Span(2, 3, \"repr.brace\")]),\n    (\" 1 \", [Span(1, 2, \"repr.number\")]),\n    (\" 1.2 \", [Span(1, 4, \"repr.number\")]),\n    (\" 0xff \", [Span(1, 5, \"repr.number\")]),\n    (\" 1e10 \", [Span(1, 5, \"repr.number\")]),\n    (\" 1j \", [Span(1, 3, \"repr.number_complex\")]),\n    (\" 3.14j \", [Span(1, 6, \"repr.number_complex\")]),\n    (\n        \" (3.14+2.06j) \",\n        [\n            Span(1, 2, \"repr.brace\"),\n            Span(12, 13, \"repr.brace\"),\n            Span(2, 12, \"repr.number_complex\"),\n        ],\n    ),\n    (\n        \" (3+2j) \",\n        [\n            Span(1, 2, \"repr.brace\"),\n            Span(6, 7, \"repr.brace\"),\n            Span(2, 6, \"repr.number_complex\"),\n        ],\n    ),\n    (\n        \" (123456.4321-1234.5678j) \",\n        [\n            Span(1, 2, \"repr.brace\"),\n            Span(24, 25, \"repr.brace\"),\n            Span(2, 24, \"repr.number_complex\"),\n        ],\n    ),\n    (\n        \" (-123123-2.1312342342423422e+25j) \",\n        [\n            Span(1, 2, \"repr.brace\"),\n            Span(33, 34, \"repr.brace\"),\n            Span(2, 33, \"repr.number_complex\"),\n        ],\n    ),\n    (\" /foo \", [Span(1, 2, \"repr.path\"), Span(2, 5, \"repr.filename\")]),\n    (\" /foo/bar.html \", [Span(1, 6, \"repr.path\"), Span(6, 14, \"repr.filename\")]),\n    (\"01-23-45-67-89-AB\", [Span(0, 17, \"repr.eui48\")]),  # 6x2 hyphen\n    (\"01-23-45-FF-FE-67-89-AB\", [Span(0, 23, \"repr.eui64\")]),  # 8x2 hyphen\n    (\"01:23:45:67:89:AB\", [Span(0, 17, \"repr.ipv6\")]),  # 6x2 colon\n    (\"01:23:45:FF:FE:67:89:AB\", [Span(0, 23, \"repr.ipv6\")]),  # 8x2 colon\n    (\"0123.4567.89AB\", [Span(0, 14, \"repr.eui48\")]),  # 3x4 dot\n    (\"0123.45FF.FE67.89AB\", [Span(0, 19, \"repr.eui64\")]),  # 4x4 dot\n    (\"ed-ed-ed-ed-ed-ed\", [Span(0, 17, \"repr.eui48\")]),  # lowercase\n    (\"ED-ED-ED-ED-ED-ED\", [Span(0, 17, \"repr.eui48\")]),  # uppercase\n    (\"Ed-Ed-Ed-Ed-Ed-Ed\", [Span(0, 17, \"repr.eui48\")]),  # mixed case\n    (\"0-00-1-01-2-02\", [Span(0, 14, \"repr.eui48\")]),  # dropped zero\n    (\" https://example.org \", [Span(1, 20, \"repr.url\")]),\n    (\" http://example.org \", [Span(1, 19, \"repr.url\")]),\n    (\" http://example.org/index.html \", [Span(1, 30, \"repr.url\")]),\n    (\" http://example.org/index.html#anchor \", [Span(1, 37, \"repr.url\")]),\n    (\"https://www.youtube.com/@LinusTechTips\", [Span(0, 38, \"repr.url\")]),\n    (\n        \" http://example.org/index.html?param1=value1 \",\n        [\n            Span(31, 37, \"repr.attrib_name\"),\n            Span(38, 44, \"repr.attrib_value\"),\n            Span(1, 44, \"repr.url\"),\n        ],\n    ),\n    (\" http://example.org/~folder \", [Span(1, 27, \"repr.url\")]),\n    (\"No place like 127.0.0.1\", [Span(14, 23, \"repr.ipv4\")]),\n    (\"''\", [Span(0, 2, \"repr.str\")]),\n    (\"'hello'\", [Span(0, 7, \"repr.str\")]),\n    (\"'''hello'''\", [Span(0, 11, \"repr.str\")]),\n    ('\"\"', [Span(0, 2, \"repr.str\")]),\n    ('\"hello\"', [Span(0, 7, \"repr.str\")]),\n    ('\"\"\"hello\"\"\"', [Span(0, 11, \"repr.str\")]),\n    (\"\\\\'foo'\", []),\n    (\"it's no 'string'\", [Span(8, 16, \"repr.str\")]),\n    (\"78351748-9b32-4e08-ad3e-7e9ff124d541\", [Span(0, 36, \"repr.uuid\")]),\n]\n@pytest.mark.parametrize(\"test, spans\", highlight_tests)",
    "start_line": 16
  },
  {
    "file": "test_highlighter.py",
    "type": "function",
    "class": null,
    "method": "test_highlight_regex",
    "name": "test_highlight_regex",
    "content": "def test_highlight_regex(test: str, spans: List[Span]):\n    \"\"\"Tests for the regular expressions used in ReprHighlighter.\"\"\"",
    "start_line": 160
  },
  {
    "file": "test_highlighter.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "text = Text(test)\n    highlighter = ReprHighlighter()\n    highlighter.highlight(text)\n    print(text.spans)\n    assert text.spans == spans",
    "start_line": 162
  },
  {
    "file": "test_highlighter.py",
    "type": "function",
    "class": null,
    "method": "test_highlight_json_with_indent",
    "name": "test_highlight_json_with_indent",
    "content": "def test_highlight_json_with_indent():",
    "start_line": 169
  },
  {
    "file": "test_highlighter.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "json_string = json.dumps({\"name\": \"apple\", \"count\": 1}, indent=4)\n    text = Text(json_string)\n    highlighter = JSONHighlighter()\n    highlighter.highlight(text)\n    assert text.spans == [\n        Span(0, 1, \"json.brace\"),\n        Span(6, 12, \"json.str\"),\n        Span(14, 21, \"json.str\"),\n        Span(27, 34, \"json.str\"),\n        Span(36, 37, \"json.number\"),\n        Span(38, 39, \"json.brace\"),\n        Span(6, 12, \"json.key\"),\n        Span(27, 34, \"json.key\"),\n    ]",
    "start_line": 170
  },
  {
    "file": "test_highlighter.py",
    "type": "function",
    "class": null,
    "method": "test_highlight_json_string_only",
    "name": "test_highlight_json_string_only",
    "content": "def test_highlight_json_string_only():",
    "start_line": 186
  },
  {
    "file": "test_highlighter.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "json_string = '\"abc\"'\n    text = Text(json_string)\n    highlighter = JSONHighlighter()\n    highlighter.highlight(text)\n    assert text.spans == [Span(0, 5, \"json.str\")]",
    "start_line": 187
  },
  {
    "file": "test_highlighter.py",
    "type": "function",
    "class": null,
    "method": "test_highlight_json_empty_string_only",
    "name": "test_highlight_json_empty_string_only",
    "content": "def test_highlight_json_empty_string_only():",
    "start_line": 194
  },
  {
    "file": "test_highlighter.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "json_string = '\"\"'\n    text = Text(json_string)\n    highlighter = JSONHighlighter()\n    highlighter.highlight(text)\n    assert text.spans == [Span(0, 2, \"json.str\")]",
    "start_line": 195
  },
  {
    "file": "test_highlighter.py",
    "type": "function",
    "class": null,
    "method": "test_highlight_json_no_indent",
    "name": "test_highlight_json_no_indent",
    "content": "def test_highlight_json_no_indent():",
    "start_line": 202
  },
  {
    "file": "test_highlighter.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "json_string = json.dumps({\"name\": \"apple\", \"count\": 1}, indent=None)\n    text = Text(json_string)\n    highlighter = JSONHighlighter()\n    highlighter.highlight(text)\n    assert text.spans == [\n        Span(0, 1, \"json.brace\"),\n        Span(1, 7, \"json.str\"),\n        Span(9, 16, \"json.str\"),\n        Span(18, 25, \"json.str\"),\n        Span(27, 28, \"json.number\"),\n        Span(28, 29, \"json.brace\"),\n        Span(1, 7, \"json.key\"),\n        Span(18, 25, \"json.key\"),\n    ]\niso8601_highlight_tests = [\n    (\"2008-08\", [Span(0, 4, \"iso8601.year\"), Span(5, 7, \"iso8601.month\")]),\n    (\n        \"2008-08-30\",\n        [\n            Span(0, 10, \"iso8601.date\"),\n            Span(0, 4, \"iso8601.year\"),\n            Span(5, 7, \"iso8601.month\"),\n            Span(8, 10, \"iso8601.day\"),\n        ],\n    ),\n    (\n        \"20080830\",\n        [\n            Span(0, 8, \"iso8601.date\"),\n            Span(0, 4, \"iso8601.year\"),\n            Span(4, 6, \"iso8601.month\"),\n            Span(6, 8, \"iso8601.day\"),\n        ],\n    ),\n    (\n        \"2008-243\",\n        [\n            Span(0, 8, \"iso8601.date\"),\n            Span(0, 4, \"iso8601.year\"),\n            Span(5, 8, \"iso8601.day\"),\n        ],\n    ),\n    (\n        \"2008243\",\n        [\n            Span(0, 7, \"iso8601.date\"),\n            Span(0, 4, \"iso8601.year\"),\n            Span(4, 7, \"iso8601.day\"),\n        ],\n    ),\n    (\n        \"2008-W35\",\n        [\n            Span(0, 8, \"iso8601.date\"),\n            Span(0, 4, \"iso8601.year\"),\n            Span(6, 8, \"iso8601.week\"),\n        ],\n    ),\n    (\n        \"2008W35\",\n        [\n            Span(0, 7, \"iso8601.date\"),\n            Span(0, 4, \"iso8601.year\"),\n            Span(5, 7, \"iso8601.week\"),\n        ],\n    ),\n    (\n        \"2008-W35-6\",\n        [\n            Span(0, 10, \"iso8601.date\"),\n            Span(0, 4, \"iso8601.year\"),\n            Span(6, 8, \"iso8601.week\"),\n            Span(9, 10, \"iso8601.day\"),\n        ],\n    ),\n    (\n        \"2008W356\",\n        [\n            Span(0, 8, \"iso8601.date\"),\n            Span(0, 4, \"iso8601.year\"),\n            Span(5, 7, \"iso8601.week\"),\n            Span(7, 8, \"iso8601.day\"),\n        ],\n    ),\n    (\n        \"17:21\",\n        [\n            Span(0, 5, \"iso8601.time\"),\n            Span(0, 2, \"iso8601.hour\"),\n            Span(3, 5, \"iso8601.minute\"),\n        ],\n    ),\n    (\n        \"1721\",\n        [\n            Span(0, 4, \"iso8601.time\"),\n            Span(0, 2, \"iso8601.hour\"),\n            Span(2, 4, \"iso8601.minute\"),\n        ],\n    ),\n    (\n        \"172159\",\n        [\n            Span(0, 6, \"iso8601.time\"),\n            Span(0, 2, \"iso8601.hour\"),\n            Span(2, 4, \"iso8601.minute\"),\n            Span(4, 6, \"iso8601.second\"),\n        ],\n    ),\n    (\"Z\", [Span(0, 1, \"iso8601.timezone\")]),\n    (\"+07\", [Span(0, 3, \"iso8601.timezone\")]),\n    (\"+07:00\", [Span(0, 6, \"iso8601.timezone\")]),\n    (\n        \"17:21:59+07:00\",\n        [\n            Span(0, 8, \"iso8601.time\"),\n            Span(0, 2, \"iso8601.hour\"),\n            Span(3, 5, \"iso8601.minute\"),\n            Span(6, 8, \"iso8601.second\"),\n            Span(8, 14, \"iso8601.timezone\"),\n        ],\n    ),\n    (\n        \"172159+0700\",\n        [\n            Span(0, 6, \"iso8601.time\"),\n            Span(0, 2, \"iso8601.hour\"),\n            Span(2, 4, \"iso8601.minute\"),\n            Span(4, 6, \"iso8601.second\"),\n            Span(6, 11, \"iso8601.timezone\"),\n        ],\n    ),\n    (\n        \"172159+07\",\n        [\n            Span(0, 6, \"iso8601.time\"),\n            Span(0, 2, \"iso8601.hour\"),\n            Span(2, 4, \"iso8601.minute\"),\n            Span(4, 6, \"iso8601.second\"),\n            Span(6, 9, \"iso8601.timezone\"),\n        ],\n    ),\n    (\n        \"2008-08-30 17:21:59\",\n        [\n            Span(0, 10, \"iso8601.date\"),\n            Span(0, 4, \"iso8601.year\"),\n            Span(4, 5, \"iso8601.hyphen\"),\n            Span(5, 7, \"iso8601.month\"),\n            Span(8, 10, \"iso8601.day\"),\n            Span(11, 19, \"iso8601.time\"),\n            Span(11, 13, \"iso8601.hour\"),\n            Span(14, 16, \"iso8601.minute\"),\n            Span(17, 19, \"iso8601.second\"),\n        ],\n    ),\n    (\n        \"20080830 172159\",\n        [\n            Span(0, 8, \"iso8601.date\"),\n            Span(0, 4, \"iso8601.year\"),\n            Span(4, 6, \"iso8601.month\"),\n            Span(6, 8, \"iso8601.day\"),\n            Span(9, 15, \"iso8601.time\"),\n            Span(9, 11, \"iso8601.hour\"),\n            Span(11, 13, \"iso8601.minute\"),\n            Span(13, 15, \"iso8601.second\"),\n        ],\n    ),\n    (\n        \"2008-08-30\",\n        [\n            Span(0, 10, \"iso8601.date\"),\n            Span(0, 4, \"iso8601.year\"),\n            Span(5, 7, \"iso8601.month\"),\n            Span(8, 10, \"iso8601.day\"),\n        ],\n    ),\n    (\n        \"2008-08-30+07:00\",\n        [\n            Span(0, 10, \"iso8601.date\"),\n            Span(0, 4, \"iso8601.year\"),\n            Span(5, 7, \"iso8601.month\"),\n            Span(8, 10, \"iso8601.day\"),\n            Span(10, 16, \"iso8601.timezone\"),\n        ],\n    ),\n    (\n        \"01:45:36\",\n        [\n            Span(0, 8, \"iso8601.time\"),\n            Span(0, 2, \"iso8601.hour\"),\n            Span(3, 5, \"iso8601.minute\"),\n            Span(6, 8, \"iso8601.second\"),\n        ],\n    ),\n    (\n        \"01:45:36.123+07:00\",\n        [\n            Span(0, 12, \"iso8601.time\"),\n            Span(0, 2, \"iso8601.hour\"),\n            Span(3, 5, \"iso8601.minute\"),\n            Span(6, 8, \"iso8601.second\"),\n            Span(8, 12, \"iso8601.frac\"),\n            Span(12, 18, \"iso8601.timezone\"),\n        ],\n    ),\n    (\n        \"01:45:36.123+07:00\",\n        [\n            Span(0, 12, \"iso8601.time\"),\n            Span(0, 2, \"iso8601.hour\"),\n            Span(3, 5, \"iso8601.minute\"),\n            Span(6, 8, \"iso8601.second\"),\n            Span(8, 12, \"iso8601.frac\"),\n            Span(12, 18, \"iso8601.timezone\"),\n        ],\n    ),\n    (\n        \"2008-08-30T01:45:36\",\n        [\n            Span(0, 10, \"iso8601.date\"),\n            Span(0, 4, \"iso8601.year\"),\n            Span(5, 7, \"iso8601.month\"),\n            Span(8, 10, \"iso8601.day\"),\n            Span(11, 19, \"iso8601.time\"),\n            Span(11, 13, \"iso8601.hour\"),\n            Span(14, 16, \"iso8601.minute\"),\n            Span(17, 19, \"iso8601.second\"),\n        ],\n    ),\n    (\n        \"2008-08-30T01:45:36.123Z\",\n        [\n            Span(0, 10, \"iso8601.date\"),\n            Span(0, 4, \"iso8601.year\"),\n            Span(5, 7, \"iso8601.month\"),\n            Span(8, 10, \"iso8601.day\"),\n            Span(11, 23, \"iso8601.time\"),\n            Span(11, 13, \"iso8601.hour\"),\n            Span(14, 16, \"iso8601.minute\"),\n            Span(17, 19, \"iso8601.second\"),\n            Span(19, 23, \"iso8601.ms\"),\n            Span(23, 24, \"iso8601.timezone\"),\n        ],\n    ),\n]\n@pytest.mark.parametrize(\"test, spans\", iso8601_highlight_tests)",
    "start_line": 203
  },
  {
    "file": "test_highlighter.py",
    "type": "function",
    "class": null,
    "method": "test_highlight_iso8601_regex",
    "name": "test_highlight_iso8601_regex",
    "content": "def test_highlight_iso8601_regex(test: str, spans: List[Span]):\n    \"\"\"Tests for the regular expressions used in ISO8601Highlighter.\"\"\"",
    "start_line": 456
  },
  {
    "file": "test_highlighter.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "text = Text(test)\n    highlighter = ISO8601Highlighter()\n    highlighter.highlight(text)\n    print(text.spans)\n    assert text.spans == spans",
    "start_line": 458
  },
  {
    "file": "test_highlighter.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "\"\"\"Tests for the highlighter classes.\"\"\"\nimport json\nfrom typing import List\n\nimport pytest\n\nfrom rich.highlighter import (\n    ISO8601Highlighter,\n    JSONHighlighter,\n    NullHighlighter,\n    ReprHighlighter,\n)\nfrom rich.text import Span, Text\n\n\ndef test_wrong_type():\n    highlighter = NullHighlighter()\n    with pytest.raises(TypeError):\n        highlighter([])\n\n\nhighlight_tests = [\n    (\"\", []),\n    (\" \", []),\n    (\n        \"<foo>\",\n        [\n            Span(0, 1, \"repr.tag_start\"),\n            Span(1, 4, \"repr.tag_name\"),\n            Span(4, 5, \"repr.tag_end\"),\n        ],\n    ),\n    (\n        \"<foo: 23>\",\n        [\n            Span(0, 1, \"repr.tag_start\"),\n            Span(1, 5, \"repr.tag_name\"),\n            Span(5, 8, \"repr.tag_contents\"),\n            Span(8, 9, \"repr.tag_end\"),\n            Span(6, 8, \"repr.number\"),\n        ],\n    ),\n    (\n        \"<foo: <bar: 23>>\",\n        [\n            Span(0, 1, \"repr.tag_start\"),\n            Span(1, 5, \"repr.tag_name\"),\n            Span(5, 15, \"repr.tag_contents\"),\n            Span(15, 16, \"repr.tag_end\"),\n            Span(12, 14, \"repr.number\"),\n        ],\n    ),\n    (\n        \"False True None\",\n        [\n            Span(0, 5, \"repr.bool_false\"),\n            Span(6, 10, \"repr.bool_true\"),\n            Span(11, 15, \"repr.none\"),\n        ],\n    ),\n    (\"foo=bar\", [Span(0, 3, \"repr.attrib_name\"), Span(4, 7, \"repr.attrib_value\")]),\n    (\n        'foo=\"bar\"',\n        [\n            Span(0, 3, \"repr.attrib_name\"),\n            Span(4, 9, \"repr.attrib_value\"),\n            Span(4, 9, \"repr.str\"),\n        ],\n    ),\n    (\n        \"<Permission.WRITE|READ: 3>\",\n        [\n            Span(0, 1, \"repr.tag_start\"),\n            Span(1, 23, \"repr.tag_name\"),\n            Span(23, 25, \"repr.tag_contents\"),\n            Span(25, 26, \"repr.tag_end\"),\n            Span(24, 25, \"repr.number\"),\n        ],\n    ),\n    (\"( )\", [Span(0, 1, \"repr.brace\"), Span(2, 3, \"repr.brace\")]),\n    (\"[ ]\", [Span(0, 1, \"repr.brace\"), Span(2, 3, \"repr.brace\")]),\n    (\"{ }\", [Span(0, 1, \"repr.brace\"), Span(2, 3, \"repr.brace\")]),\n    (\" 1 \", [Span(1, 2, \"repr.number\")]),\n    (\" 1.2 \", [Span(1, 4, \"repr.number\")]),\n    (\" 0xff \", [Span(1, 5, \"repr.number\")]),\n    (\" 1e10 \", [Span(1, 5, \"repr.number\")]),\n    (\" 1j \", [Span(1, 3, \"repr.number_complex\")]),\n    (\" 3.14j \", [Span(1, 6, \"repr.number_complex\")]),\n    (\n        \" (3.14+2.06j) \",\n        [\n            Span(1, 2, \"repr.brace\"),\n            Span(12, 13, \"repr.brace\"),\n            Span(2, 12, \"repr.number_complex\"),\n        ],\n    ),\n    (\n        \" (3+2j) \",\n        [\n            Span(1, 2, \"repr.brace\"),\n            Span(6, 7, \"repr.brace\"),\n            Span(2, 6, \"repr.number_complex\"),\n        ],\n    ),\n    (\n        \" (123456.4321-1234.5678j) \",\n        [\n            Span(1, 2, \"repr.brace\"),\n            Span(24, 25, \"repr.brace\"),\n            Span(2, 24, \"repr.number_complex\"),\n        ],\n    ),\n    (\n        \" (-123123-2.1312342342423422e+25j) \",\n        [\n            Span(1, 2, \"repr.brace\"),\n            Span(33, 34, \"repr.brace\"),\n            Span(2, 33, \"repr.number_complex\"),\n        ],\n    ),\n    (\" /foo \", [Span(1, 2, \"repr.path\"), Span(2, 5, \"repr.filename\")]),\n    (\" /foo/bar.html \", [Span(1, 6, \"repr.path\"), Span(6, 14, \"repr.filename\")]),\n    (\"01-23-45-67-89-AB\", [Span(0, 17, \"repr.eui48\")]),  # 6x2 hyphen\n    (\"01-23-45-FF-FE-67-89-AB\", [Span(0, 23, \"repr.eui64\")]),  # 8x2 hyphen\n    (\"01:23:45:67:89:AB\", [Span(0, 17, \"repr.ipv6\")]),  # 6x2 colon\n    (\"01:23:45:FF:FE:67:89:AB\", [Span(0, 23, \"repr.ipv6\")]),  # 8x2 colon\n    (\"0123.4567.89AB\", [Span(0, 14, \"repr.eui48\")]),  # 3x4 dot\n    (\"0123.45FF.FE67.89AB\", [Span(0, 19, \"repr.eui64\")]),  # 4x4 dot\n    (\"ed-ed-ed-ed-ed-ed\", [Span(0, 17, \"repr.eui48\")]),  # lowercase\n    (\"ED-ED-ED-ED-ED-ED\", [Span(0, 17, \"repr.eui48\")]),  # uppercase\n    (\"Ed-Ed-Ed-Ed-Ed-Ed\", [Span(0, 17, \"repr.eui48\")]),  # mixed case\n    (\"0-00-1-01-2-02\", [Span(0, 14, \"repr.eui48\")]),  # dropped zero\n    (\" https://example.org \", [Span(1, 20, \"repr.url\")]),\n    (\" http://example.org \", [Span(1, 19, \"repr.url\")]),\n    (\" http://example.org/index.html \", [Span(1, 30, \"repr.url\")]),\n    (\" http://example.org/index.html#anchor \", [Span(1, 37, \"repr.url\")]),\n    (\"https://www.youtube.com/@LinusTechTips\", [Span(0, 38, \"repr.url\")]),\n    (\n        \" http://example.org/index.html?param1=value1 \",\n        [\n            Span(31, 37, \"repr.attrib_name\"),\n            Span(38, 44, \"repr.attrib_value\"),\n            Span(1, 44, \"repr.url\"),\n        ],\n    ),\n    (\" http://example.org/~folder \", [Span(1, 27, \"repr.url\")]),\n    (\"No place like 127.0.0.1\", [Span(14, 23, \"repr.ipv4\")]),\n    (\"''\", [Span(0, 2, \"repr.str\")]),\n    (\"'hello'\", [Span(0, 7, \"repr.str\")]),\n    (\"'''hello'''\", [Span(0, 11, \"repr.str\")]),\n    ('\"\"', [Span(0, 2, \"repr.str\")]),\n    ('\"hello\"', [Span(0, 7, \"repr.str\")]),\n    ('\"\"\"hello\"\"\"', [Span(0, 11, \"repr.str\")]),\n    (\"\\\\'foo'\", []),\n    (\"it's no 'string'\", [Span(8, 16, \"repr.str\")]),\n    (\"78351748-9b32-4e08-ad3e-7e9ff124d541\", [Span(0, 36, \"repr.uuid\")]),\n]\n\n\n@pytest.mark.parametrize(\"test, spans\", highlight_tests)\ndef test_highlight_regex(test: str, spans: List[Span]):\n    \"\"\"Tests for the regular expressions used in ReprHighlighter.\"\"\"\n    text = Text(test)\n    highlighter = ReprHighlighter()\n    highlighter.highlight(text)\n    print(text.spans)\n    assert text.spans == spans\n\n\ndef test_highlight_json_with_indent():\n    json_string = json.dumps({\"name\": \"apple\", \"count\": 1}, indent=4)\n    text = Text(json_string)\n    highlighter = JSONHighlighter()\n    highlighter.highlight(text)\n    assert text.spans == [\n        Span(0, 1, \"json.brace\"),\n        Span(6, 12, \"json.str\"),\n        Span(14, 21, \"json.str\"),\n        Span(27, 34, \"json.str\"),\n        Span(36, 37, \"json.number\"),\n        Span(38, 39, \"json.brace\"),\n        Span(6, 12, \"json.key\"),\n        Span(27, 34, \"json.key\"),\n    ]\n\n\ndef test_highlight_json_string_only():\n    json_string = '\"abc\"'\n    text = Text(json_string)\n    highlighter = JSONHighlighter()\n    highlighter.highlight(text)\n    assert text.spans == [Span(0, 5, \"json.str\")]\n\n\ndef test_highlight_json_empty_string_only():\n    json_string = '\"\"'\n    text = Text(json_string)\n    highlighter = JSONHighlighter()\n    highlighter.highlight(text)\n    assert text.spans == [Span(0, 2, \"json.str\")]\n\n\ndef test_highlight_json_no_indent():\n    json_string = json.dumps({\"name\": \"apple\", \"count\": 1}, indent=None)\n    text = Text(json_string)\n    highlighter = JSONHighlighter()\n    highlighter.highlight(text)\n    assert text.spans == [\n        Span(0, 1, \"json.brace\"),\n        Span(1, 7, \"json.str\"),\n        Span(9, 16, \"json.str\"),\n        Span(18, 25, \"json.str\"),\n        Span(27, 28, \"json.number\"),\n        Span(28, 29, \"json.brace\"),\n        Span(1, 7, \"json.key\"),\n        Span(18, 25, \"json.key\"),\n    ]\n\n\niso8601_highlight_tests = [\n    (\"2008-08\", [Span(0, 4, \"iso8601.year\"), Span(5, 7, \"iso8601.month\")]),\n    (\n        \"2008-08-30\",\n        [\n            Span(0, 10, \"iso8601.date\"),\n            Span(0, 4, \"iso8601.year\"),\n            Span(5, 7, \"iso8601.month\"),\n            Span(8, 10, \"iso8601.day\"),\n        ],\n    ),\n    (\n        \"20080830\",\n        [\n            Span(0, 8, \"iso8601.date\"),\n            Span(0, 4, \"iso8601.year\"),\n            Span(4, 6, \"iso8601.month\"),\n            Span(6, 8, \"iso8601.day\"),\n        ],\n    ),\n    (\n        \"2008-243\",\n        [\n            Span(0, 8, \"iso8601.date\"),\n            Span(0, 4, \"iso8601.year\"),\n            Span(5, 8, \"iso8601.day\"),\n        ],\n    ),\n    (\n        \"2008243\",\n        [\n            Span(0, 7, \"iso8601.date\"),\n            Span(0, 4, \"iso8601.year\"),\n            Span(4, 7, \"iso8601.day\"),\n        ],\n    ),\n    (\n        \"2008-W35\",\n        [\n            Span(0, 8, \"iso8601.date\"),\n            Span(0, 4, \"iso8601.year\"),\n            Span(6, 8, \"iso8601.week\"),\n        ],\n    ),\n    (\n        \"2008W35\",\n        [\n            Span(0, 7, \"iso8601.date\"),\n            Span(0, 4, \"iso8601.year\"),\n            Span(5, 7, \"iso8601.week\"),\n        ],\n    ),\n    (\n        \"2008-W35-6\",\n        [\n            Span(0, 10, \"iso8601.date\"),\n            Span(0, 4, \"iso8601.year\"),\n            Span(6, 8, \"iso8601.week\"),\n            Span(9, 10, \"iso8601.day\"),\n        ],\n    ),\n    (\n        \"2008W356\",\n        [\n            Span(0, 8, \"iso8601.date\"),\n            Span(0, 4, \"iso8601.year\"),\n            Span(5, 7, \"iso8601.week\"),\n            Span(7, 8, \"iso8601.day\"),\n        ],\n    ),\n    (\n        \"17:21\",\n        [\n            Span(0, 5, \"iso8601.time\"),\n            Span(0, 2, \"iso8601.hour\"),\n            Span(3, 5, \"iso8601.minute\"),\n        ],\n    ),\n    (\n        \"1721\",\n        [\n            Span(0, 4, \"iso8601.time\"),\n            Span(0, 2, \"iso8601.hour\"),\n            Span(2, 4, \"iso8601.minute\"),\n        ],\n    ),\n    (\n        \"172159\",\n        [\n            Span(0, 6, \"iso8601.time\"),\n            Span(0, 2, \"iso8601.hour\"),\n            Span(2, 4, \"iso8601.minute\"),\n            Span(4, 6, \"iso8601.second\"),\n        ],\n    ),\n    (\"Z\", [Span(0, 1, \"iso8601.timezone\")]),\n    (\"+07\", [Span(0, 3, \"iso8601.timezone\")]),\n    (\"+07:00\", [Span(0, 6, \"iso8601.timezone\")]),\n    (\n        \"17:21:59+07:00\",\n        [\n            Span(0, 8, \"iso8601.time\"),\n            Span(0, 2, \"iso8601.hour\"),\n            Span(3, 5, \"iso8601.minute\"),\n            Span(6, 8, \"iso8601.second\"),\n            Span(8, 14, \"iso8601.timezone\"),\n        ],\n    ),\n    (\n        \"172159+0700\",\n        [\n            Span(0, 6, \"iso8601.time\"),\n            Span(0, 2, \"iso8601.hour\"),\n            Span(2, 4, \"iso8601.minute\"),\n            Span(4, 6, \"iso8601.second\"),\n            Span(6, 11, \"iso8601.timezone\"),\n        ],\n    ),\n    (\n        \"172159+07\",\n        [\n            Span(0, 6, \"iso8601.time\"),\n            Span(0, 2, \"iso8601.hour\"),\n            Span(2, 4, \"iso8601.minute\"),\n            Span(4, 6, \"iso8601.second\"),\n            Span(6, 9, \"iso8601.timezone\"),\n        ],\n    ),\n    (\n        \"2008-08-30 17:21:59\",\n        [\n            Span(0, 10, \"iso8601.date\"),\n            Span(0, 4, \"iso8601.year\"),\n            Span(4, 5, \"iso8601.hyphen\"),\n            Span(5, 7, \"iso8601.month\"),\n            Span(8, 10, \"iso8601.day\"),\n            Span(11, 19, \"iso8601.time\"),\n            Span(11, 13, \"iso8601.hour\"),\n            Span(14, 16, \"iso8601.minute\"),\n            Span(17, 19, \"iso8601.second\"),\n        ],\n    ),\n    (\n        \"20080830 172159\",\n        [\n            Span(0, 8, \"iso8601.date\"),\n            Span(0, 4, \"iso8601.year\"),\n            Span(4, 6, \"iso8601.month\"),\n            Span(6, 8, \"iso8601.day\"),\n            Span(9, 15, \"iso8601.time\"),\n            Span(9, 11, \"iso8601.hour\"),\n            Span(11, 13, \"iso8601.minute\"),\n            Span(13, 15, \"iso8601.second\"),\n        ],\n    ),\n    (\n        \"2008-08-30\",\n        [\n            Span(0, 10, \"iso8601.date\"),\n            Span(0, 4, \"iso8601.year\"),\n            Span(5, 7, \"iso8601.month\"),\n            Span(8, 10, \"iso8601.day\"),\n        ],\n    ),\n    (\n        \"2008-08-30+07:00\",\n        [\n            Span(0, 10, \"iso8601.date\"),\n            Span(0, 4, \"iso8601.year\"),\n            Span(5, 7, \"iso8601.month\"),\n            Span(8, 10, \"iso8601.day\"),\n            Span(10, 16, \"iso8601.timezone\"),\n        ],\n    ),\n    (\n        \"01:45:36\",\n        [\n            Span(0, 8, \"iso8601.time\"),\n            Span(0, 2, \"iso8601.hour\"),\n            Span(3, 5, \"iso8601.minute\"),\n            Span(6, 8, \"iso8601.second\"),\n        ],\n    ),\n    (\n        \"01:45:36.123+07:00\",\n        [\n            Span(0, 12, \"iso8601.time\"),\n            Span(0, 2, \"iso8601.hour\"),\n            Span(3, 5, \"iso8601.minute\"),\n            Span(6, 8, \"iso8601.second\"),\n            Span(8, 12, \"iso8601.frac\"),\n            Span(12, 18, \"iso8601.timezone\"),\n        ],\n    ),\n    (\n        \"01:45:36.123+07:00\",\n        [\n            Span(0, 12, \"iso8601.time\"),\n            Span(0, 2, \"iso8601.hour\"),\n            Span(3, 5, \"iso8601.minute\"),\n            Span(6, 8, \"iso8601.second\"),\n            Span(8, 12, \"iso8601.frac\"),\n            Span(12, 18, \"iso8601.timezone\"),\n        ],\n    ),\n    (\n        \"2008-08-30T01:45:36\",\n        [\n            Span(0, 10, \"iso8601.date\"),\n            Span(0, 4, \"iso8601.year\"),\n            Span(5, 7, \"iso8601.month\"),\n            Span(8, 10, \"iso8601.day\"),\n            Span(11, 19, \"iso8601.time\"),\n            Span(11, 13, \"iso8601.hour\"),\n            Span(14, 16, \"iso8601.minute\"),\n            Span(17, 19, \"iso8601.second\"),\n        ],\n    ),\n    (\n        \"2008-08-30T01:45:36.123Z\",\n        [\n            Span(0, 10, \"iso8601.date\"),\n            Span(0, 4, \"iso8601.year\"),\n            Span(5, 7, \"iso8601.month\"),\n            Span(8, 10, \"iso8601.day\"),\n            Span(11, 23, \"iso8601.time\"),\n            Span(11, 13, \"iso8601.hour\"),\n            Span(14, 16, \"iso8601.minute\"),\n            Span(17, 19, \"iso8601.second\"),\n            Span(19, 23, \"iso8601.ms\"),\n            Span(23, 24, \"iso8601.timezone\"),\n        ],\n    ),\n]\n\n\n@pytest.mark.parametrize(\"test, spans\", iso8601_highlight_tests)\ndef test_highlight_iso8601_regex(test: str, spans: List[Span]):\n    \"\"\"Tests for the regular expressions used in ISO8601Highlighter.\"\"\"\n    text = Text(test)\n    highlighter = ISO8601Highlighter()\n    highlighter.highlight(text)\n    print(text.spans)\n    assert text.spans == spans\n",
    "start_line": 0
  },
  {
    "file": "test_markdown.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# coding=utf-8",
    "start_line": 0
  },
  {
    "file": "test_markdown.py",
    "type": "constants",
    "class": null,
    "method": null,
    "name": "module_constants",
    "content": "MARKDOWN = \"\"\"Heading\n=======\nSub-heading\n-----------",
    "start_line": 2
  },
  {
    "file": "test_markdown.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "### Heading\n#### H4 Heading\n##### H5 Heading\n###### H6 Heading\nParagraphs are separated\nby a blank line.\nTwo spaces at the end of a line\nproduces a line break.\nText attributes _italic_,\n**bold**, `monospace`.\nHorizontal rule:\n---\nBullet list:\n  * apples\n  * oranges\n  * pears\nNumbered list:\n  1. lather\n  2. rinse\n  3. repeat\nAn [example](http://example.com).\n> Markdown uses email-style > characters for blockquoting.\n>\n> Lorem ipsum\n![progress](https://github.com/textualize/rich/raw/master/imgs/progress.gif)\n```",
    "start_line": 8
  },
  {
    "file": "test_markdown.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "a=1\n```\n```python",
    "start_line": 52
  },
  {
    "file": "test_markdown.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "import this\n```\n```somelang\nfoobar\n```\n    import this\n1. List item\n       Code block\n\"\"\"\nimport io\nimport re\nfrom rich.console import Console, RenderableType\nfrom rich.markdown import Markdown",
    "start_line": 56
  },
  {
    "file": "test_markdown.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "re_link_ids = re.compile(r\"id=[\\d\\.\\-]*?;.*?\\x1b\")",
    "start_line": 77
  },
  {
    "file": "test_markdown.py",
    "type": "function",
    "class": null,
    "method": "replace_link_ids",
    "name": "replace_link_ids",
    "content": "def replace_link_ids(render: str) -> str:\n    \"\"\"Link IDs have a random ID and system path which is a problem for\n    reproducible tests.\n\n    \"\"\"\n    return re_link_ids.sub(\"id=0;foo\\x1b\", render)",
    "start_line": 80
  },
  {
    "file": "test_markdown.py",
    "type": "function",
    "class": null,
    "method": "render",
    "name": "render",
    "content": "def render(renderable: RenderableType) -> str:",
    "start_line": 88
  },
  {
    "file": "test_markdown.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(\n        width=100, file=io.StringIO(), color_system=\"truecolor\", legacy_windows=False\n    )\n    console.print(renderable)\n    output = replace_link_ids(console.file.getvalue())\n    print(repr(output))\n    return output",
    "start_line": 89
  },
  {
    "file": "test_markdown.py",
    "type": "function",
    "class": null,
    "method": "test_markdown_render",
    "name": "test_markdown_render",
    "content": "def test_markdown_render():",
    "start_line": 98
  },
  {
    "file": "test_markdown.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "markdown = Markdown(MARKDOWN)\n    rendered_markdown = render(markdown)\n    expected = \"\\n                                             \\x1b[1mHeading\\x1b[0m                                              \\n\\n\\n\\n                                            \\x1b[1;4mSub-heading\\x1b[0m                                             \\n\\n                                              \\x1b[1mHeading\\x1b[0m                                               \\n\\n                                             \\x1b[1;2mH4 Heading\\x1b[0m                                             \\n\\n                                             \\x1b[4mH5 Heading\\x1b[0m                                             \\n\\n                                             \\x1b[3mH6 Heading\\x1b[0m                                             \\n\\nParagraphs are separated by a blank line.                                                           \\n\\nTwo spaces at the end of a line produces a line break.                                              \\n\\nText attributes \\x1b[3mitalic\\x1b[0m, \\x1b[1mbold\\x1b[0m, \\x1b[1;36;40mmonospace\\x1b[0m.                                                            \\n\\nHorizontal rule:                                                                                    \\n\\n\\x1b[33m\\x1b[0m\\nBullet list:                                                                                        \\n\\n\\x1b[1;33m  \\x1b[0mapples                                                                                           \\n\\x1b[1;33m  \\x1b[0moranges                                                                                          \\n\\x1b[1;33m  \\x1b[0mpears                                                                                            \\n\\nNumbered list:                                                                                      \\n\\n\\x1b[1;33m 1 \\x1b[0mlather                                                                                           \\n\\x1b[1;33m 2 \\x1b[0mrinse                                                                                            \\n\\x1b[1;33m 3 \\x1b[0mrepeat                                                                                           \\n\\nAn \\x1b]8;id=0;foo\\x1b\\\\\\x1b[4;34mexample\\x1b[0m\\x1b]8;;\\x1b\\\\.                                                                                         \\n\\n\\x1b[35m \\x1b[0m\\x1b[35mMarkdown uses email-style > characters for blockquoting.\\x1b[0m\\x1b[35m                                        \\x1b[0m\\n\\x1b[35m \\x1b[0m\\x1b[35mLorem ipsum\\x1b[0m\\x1b[35m                                                                                     \\x1b[0m\\n\\n \\x1b]8;id=0;foo\\x1b\\\\progress\\x1b]8;;\\x1b\\\\                                                                                         \\n\\n\\x1b[48;2;39;40;34m                                                                                                    \\x1b[0m\\n\\x1b[48;2;39;40;34m \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34ma=1\\x1b[0m\\x1b[48;2;39;40;34m                                                                                               \\x1b[0m\\x1b[48;2;39;40;34m \\x1b[0m\\n\\x1b[48;2;39;40;34m                                                                                                    \\x1b[0m\\n\\n\\x1b[48;2;39;40;34m                                                                                                    \\x1b[0m\\n\\x1b[48;2;39;40;34m \\x1b[0m\\x1b[38;2;255;70;137;48;2;39;40;34mimport\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mthis\\x1b[0m\\x1b[48;2;39;40;34m                                                                                       \\x1b[0m\\x1b[48;2;39;40;34m \\x1b[0m\\n\\x1b[48;2;39;40;34m                                                                                                    \\x1b[0m\\n\\n\\x1b[48;2;39;40;34m                                                                                                    \\x1b[0m\\n\\x1b[48;2;39;40;34m \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mfoobar\\x1b[0m\\x1b[48;2;39;40;34m                                                                                            \\x1b[0m\\x1b[48;2;39;40;34m \\x1b[0m\\n\\x1b[48;2;39;40;34m                                                                                                    \\x1b[0m\\n\\n\\x1b[48;2;39;40;34m                                                                                                    \\x1b[0m\\n\\x1b[48;2;39;40;34m \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mimport this\\x1b[0m\\x1b[48;2;39;40;34m                                                                                       \\x1b[0m\\x1b[48;2;39;40;34m \\x1b[0m\\n\\x1b[48;2;39;40;34m                                                                                                    \\x1b[0m\\n\\n\\x1b[1;33m 1 \\x1b[0mList item                                                                                        \\n\\x1b[1;33m   \\x1b[0m\\x1b[48;2;39;40;34m                                                                                                 \\x1b[0m\\n\\x1b[1;33m   \\x1b[0m\\x1b[48;2;39;40;34m \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mCode block\\x1b[0m\\x1b[48;2;39;40;34m                                                                                     \\x1b[0m\\x1b[48;2;39;40;34m \\x1b[0m\\n\\x1b[1;33m   \\x1b[0m\\x1b[48;2;39;40;34m                                                                                                 \\x1b[0m\\n\"\n    assert rendered_markdown == expected",
    "start_line": 99
  },
  {
    "file": "test_markdown.py",
    "type": "function",
    "class": null,
    "method": "test_inline_code",
    "name": "test_inline_code",
    "content": "def test_inline_code():",
    "start_line": 105
  },
  {
    "file": "test_markdown.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "markdown = Markdown(\n        \"inline `import this` code\",\n        inline_code_lexer=\"python\",\n        inline_code_theme=\"emacs\",\n    )\n    result = render(markdown)\n    expected = \"inline \\x1b[1;38;2;170;34;255;48;2;248;248;248mimport\\x1b[0m\\x1b[38;2;0;0;0;48;2;248;248;248m \\x1b[0m\\x1b[1;38;2;0;0;255;48;2;248;248;248mthis\\x1b[0m code                                                                             \\n\"\n    print(result)\n    print(repr(result))\n    assert result == expected",
    "start_line": 106
  },
  {
    "file": "test_markdown.py",
    "type": "function",
    "class": null,
    "method": "test_markdown_table",
    "name": "test_markdown_table",
    "content": "def test_markdown_table():",
    "start_line": 118
  },
  {
    "file": "test_markdown.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "markdown = Markdown(\n        \"\"\"\\\n| Year |                      Title                       | Director          |  Box Office (USD) |\n|------|:------------------------------------------------:|:------------------|------------------:|\n| 1982 |            *E.T. the Extra-Terrestrial*          | Steven Spielberg  |    $792.9 million |\n| 1980 |  Star Wars: Episode V  The Empire Strikes Back  | Irvin Kershner    |    $538.4 million |\n| 1983 |    Star Wars: Episode VI  Return of the Jedi    | Richard Marquand  |    $475.1 million |\n| 1981 |             Raiders of the Lost Ark              | Steven Spielberg  |    $389.9 million |\n| 1984 |       Indiana Jones and the Temple of Doom       | Steven Spielberg  |    $333.1 million |\n\"\"\"\n    )\n    result = render(markdown)\n    expected = \"\\n                                                                                               \\n \\x1b[1m \\x1b[0m\\x1b[1mYear\\x1b[0m\\x1b[1m \\x1b[0m \\x1b[1m \\x1b[0m\\x1b[1m                    Title                     \\x1b[0m\\x1b[1m \\x1b[0m \\x1b[1m \\x1b[0m\\x1b[1mDirector        \\x1b[0m\\x1b[1m \\x1b[0m \\x1b[1m \\x1b[0m\\x1b[1mBox Office (USD)\\x1b[0m\\x1b[1m \\x1b[0m \\n  \\n  1982             \\x1b[3mE.T. the Extra-Terrestrial\\x1b[0m             Steven Spielberg     $792.9 million  \\n  1980   Star Wars: Episode V  The Empire Strikes Back   Irvin Kershner       $538.4 million  \\n  1983     Star Wars: Episode VI  Return of the Jedi     Richard Marquand     $475.1 million  \\n  1981              Raiders of the Lost Ark               Steven Spielberg     $389.9 million  \\n  1984        Indiana Jones and the Temple of Doom        Steven Spielberg     $333.1 million  \\n                                                                                               \\n\"\n    assert result == expected",
    "start_line": 119
  },
  {
    "file": "test_markdown.py",
    "type": "function",
    "class": null,
    "method": "test_inline_styles_in_table",
    "name": "test_inline_styles_in_table",
    "content": "def test_inline_styles_in_table():\n    \"\"\"Regression test for https://github.com/Textualize/rich/issues/3115\"\"\"",
    "start_line": 135
  },
  {
    "file": "test_markdown.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "markdown = Markdown(\n        \"\"\"\\\n| Year | This **column** displays _the_ movie _title_ ~~description~~ | Director          |  Box Office (USD) |\n|------|:----------------------------------------------------------:|:------------------|------------------:|\n| 1982 | *E.T. the Extra-Terrestrial* ([Wikipedia article](https://en.wikipedia.org/wiki/E.T._the_Extra-Terrestrial)) | Steven Spielberg  |    $792.9 million |\n| 1980 |  Star Wars: Episode V  The *Empire* **Strikes** ~~Back~~  | Irvin Kershner    |    $538.4 million |\n\"\"\"\n    )\n    result = render(markdown)\n    expected = \"\\n                                                                                                 \\n \\x1b[1m \\x1b[0m\\x1b[1mYear\\x1b[0m\\x1b[1m \\x1b[0m \\x1b[1m \\x1b[0m\\x1b[1mThis \\x1b[0m\\x1b[1mcolumn\\x1b[0m\\x1b[1m displays \\x1b[0m\\x1b[1;3mthe\\x1b[0m\\x1b[1m movie \\x1b[0m\\x1b[1;3mtitle\\x1b[0m\\x1b[1m \\x1b[0m\\x1b[1;9mdescription\\x1b[0m\\x1b[1m \\x1b[0m \\x1b[1m \\x1b[0m\\x1b[1mDirector        \\x1b[0m\\x1b[1m \\x1b[0m \\x1b[1m \\x1b[0m\\x1b[1mBox Office (USD)\\x1b[0m\\x1b[1m \\x1b[0m \\n  \\n  1982    \\x1b[3mE.T. the Extra-Terrestrial\\x1b[0m (\\x1b]8;id=0;foo\\x1b\\\\\\x1b[4;34mWikipedia article\\x1b[0m\\x1b]8;;\\x1b\\\\)    Steven Spielberg     $792.9 million  \\n  1980    Star Wars: Episode V  The \\x1b[3mEmpire\\x1b[0m \\x1b[1mStrikes\\x1b[0m \\x1b[9mBack\\x1b[0m    Irvin Kershner       $538.4 million  \\n                                                                                                 \\n\"\n    assert result == expected",
    "start_line": 137
  },
  {
    "file": "test_markdown.py",
    "type": "function",
    "class": null,
    "method": "test_inline_styles_with_justification",
    "name": "test_inline_styles_with_justification",
    "content": "def test_inline_styles_with_justification():\n    \"\"\"Regression test for https://github.com/Textualize/rich/issues/3115\n\n    In particular, this tests the interaction between the change that was made to fix",
    "start_line": 150
  },
  {
    "file": "test_markdown.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "#3115 and column text justification.\n    \"\"\"",
    "start_line": 154
  },
  {
    "file": "test_markdown.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "markdown = Markdown(\n        \"\"\"\\\n| left | center | right |\n| :- | :-: | -: |\n| This is a long row | because it contains | a fairly long sentence. |\n| a*b* _c_ ~~d~~ e | a*b* _c_ ~~d~~ e | a*b* _c_ ~~d~~ e |\"\"\"\n    )\n    result = render(markdown)\n    expected = \"\\n                                                                      \\n \\x1b[1m \\x1b[0m\\x1b[1mleft              \\x1b[0m\\x1b[1m \\x1b[0m \\x1b[1m \\x1b[0m\\x1b[1m      center       \\x1b[0m\\x1b[1m \\x1b[0m \\x1b[1m \\x1b[0m\\x1b[1m                  right\\x1b[0m\\x1b[1m \\x1b[0m \\n  \\n  This is a long row   because it contains   a fairly long sentence.  \\n  a\\x1b[3mb\\x1b[0m \\x1b[3mc\\x1b[0m \\x1b[9md\\x1b[0m e                  a\\x1b[3mb\\x1b[0m \\x1b[3mc\\x1b[0m \\x1b[9md\\x1b[0m e                        a\\x1b[3mb\\x1b[0m \\x1b[3mc\\x1b[0m \\x1b[9md\\x1b[0m e  \\n                                                                      \\n\"\n    assert result == expected",
    "start_line": 156
  },
  {
    "file": "test_markdown.py",
    "type": "function",
    "class": null,
    "method": "test_partial_table",
    "name": "test_partial_table",
    "content": "def test_partial_table():",
    "start_line": 168
  },
  {
    "file": "test_markdown.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "markdown = Markdown(\"| Simple | Table |\\n| ------ | ----- \")\n    result = render(markdown)\n    print(repr(result))\n    expected = \"\\n                  \\n \\x1b[1m \\x1b[0m\\x1b[1mSimple\\x1b[0m\\x1b[1m \\x1b[0m \\x1b[1m \\x1b[0m\\x1b[1mTable\\x1b[0m\\x1b[1m \\x1b[0m \\n  \\n                  \\n\"\n    assert result == expected",
    "start_line": 169
  },
  {
    "file": "test_markdown.py",
    "type": "function",
    "class": null,
    "method": "test_table_with_empty_cells",
    "name": "test_table_with_empty_cells",
    "content": "def test_table_with_empty_cells() -> None:\n    \"\"\"Test a table with empty cells is rendered without extra newlines above.\n    Regression test for #3027 https://github.com/Textualize/rich/issues/3027\n    \"\"\"",
    "start_line": 176
  },
  {
    "file": "test_markdown.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "complete_table = Markdown(\n        \"\"\"\\\n| First Header  | Second Header |\n| ------------- | ------------- |\n| Content Cell  | Content Cell  |\n| Content Cell  | Content Cell  |\n\"\"\"\n    )\n    table_with_empty_cells = Markdown(\n        \"\"\"\\\n| First Header  |               |\n| ------------- | ------------- |\n| Content Cell  | Content Cell  |\n|               | Content Cell  |\n\"\"\"\n    )\n    result = len(render(table_with_empty_cells).splitlines())\n    expected = len(render(complete_table).splitlines())\n    assert result == expected\nif __name__ == \"__main__\":\n    markdown = Markdown(MARKDOWN)\n    rendered = render(markdown)\n    print(rendered)\n    print(repr(rendered))",
    "start_line": 180
  },
  {
    "file": "test_markdown.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "# coding=utf-8\n\nMARKDOWN = \"\"\"Heading\n=======\n\nSub-heading\n-----------\n\n### Heading\n\n#### H4 Heading\n\n##### H5 Heading\n\n###### H6 Heading\n\n\nParagraphs are separated\nby a blank line.\n\nTwo spaces at the end of a line\nproduces a line break.\n\nText attributes _italic_,\n**bold**, `monospace`.\n\nHorizontal rule:\n\n---\n\nBullet list:\n\n  * apples\n  * oranges\n  * pears\n\nNumbered list:\n\n  1. lather\n  2. rinse\n  3. repeat\n\nAn [example](http://example.com).\n\n> Markdown uses email-style > characters for blockquoting.\n>\n> Lorem ipsum\n\n![progress](https://github.com/textualize/rich/raw/master/imgs/progress.gif)\n\n\n```\na=1\n```\n\n```python\nimport this\n```\n\n```somelang\nfoobar\n```\n\n    import this\n\n\n1. List item\n\n       Code block\n\"\"\"\n\nimport io\nimport re\n\nfrom rich.console import Console, RenderableType\nfrom rich.markdown import Markdown\n\nre_link_ids = re.compile(r\"id=[\\d\\.\\-]*?;.*?\\x1b\")\n\n\ndef replace_link_ids(render: str) -> str:\n    \"\"\"Link IDs have a random ID and system path which is a problem for\n    reproducible tests.\n\n    \"\"\"\n    return re_link_ids.sub(\"id=0;foo\\x1b\", render)\n\n\ndef render(renderable: RenderableType) -> str:\n    console = Console(\n        width=100, file=io.StringIO(), color_system=\"truecolor\", legacy_windows=False\n    )\n    console.print(renderable)\n    output = replace_link_ids(console.file.getvalue())\n    print(repr(output))\n    return output\n\n\ndef test_markdown_render():\n    markdown = Markdown(MARKDOWN)\n    rendered_markdown = render(markdown)\n    expected = \"\\n                                             \\x1b[1mHeading\\x1b[0m                                              \\n\\n\\n\\n                                            \\x1b[1;4mSub-heading\\x1b[0m                                             \\n\\n                                              \\x1b[1mHeading\\x1b[0m                                               \\n\\n                                             \\x1b[1;2mH4 Heading\\x1b[0m                                             \\n\\n                                             \\x1b[4mH5 Heading\\x1b[0m                                             \\n\\n                                             \\x1b[3mH6 Heading\\x1b[0m                                             \\n\\nParagraphs are separated by a blank line.                                                           \\n\\nTwo spaces at the end of a line produces a line break.                                              \\n\\nText attributes \\x1b[3mitalic\\x1b[0m, \\x1b[1mbold\\x1b[0m, \\x1b[1;36;40mmonospace\\x1b[0m.                                                            \\n\\nHorizontal rule:                                                                                    \\n\\n\\x1b[33m\\x1b[0m\\nBullet list:                                                                                        \\n\\n\\x1b[1;33m  \\x1b[0mapples                                                                                           \\n\\x1b[1;33m  \\x1b[0moranges                                                                                          \\n\\x1b[1;33m  \\x1b[0mpears                                                                                            \\n\\nNumbered list:                                                                                      \\n\\n\\x1b[1;33m 1 \\x1b[0mlather                                                                                           \\n\\x1b[1;33m 2 \\x1b[0mrinse                                                                                            \\n\\x1b[1;33m 3 \\x1b[0mrepeat                                                                                           \\n\\nAn \\x1b]8;id=0;foo\\x1b\\\\\\x1b[4;34mexample\\x1b[0m\\x1b]8;;\\x1b\\\\.                                                                                         \\n\\n\\x1b[35m \\x1b[0m\\x1b[35mMarkdown uses email-style > characters for blockquoting.\\x1b[0m\\x1b[35m                                        \\x1b[0m\\n\\x1b[35m \\x1b[0m\\x1b[35mLorem ipsum\\x1b[0m\\x1b[35m                                                                                     \\x1b[0m\\n\\n \\x1b]8;id=0;foo\\x1b\\\\progress\\x1b]8;;\\x1b\\\\                                                                                         \\n\\n\\x1b[48;2;39;40;34m                                                                                                    \\x1b[0m\\n\\x1b[48;2;39;40;34m \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34ma=1\\x1b[0m\\x1b[48;2;39;40;34m                                                                                               \\x1b[0m\\x1b[48;2;39;40;34m \\x1b[0m\\n\\x1b[48;2;39;40;34m                                                                                                    \\x1b[0m\\n\\n\\x1b[48;2;39;40;34m                                                                                                    \\x1b[0m\\n\\x1b[48;2;39;40;34m \\x1b[0m\\x1b[38;2;255;70;137;48;2;39;40;34mimport\\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34m \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mthis\\x1b[0m\\x1b[48;2;39;40;34m                                                                                       \\x1b[0m\\x1b[48;2;39;40;34m \\x1b[0m\\n\\x1b[48;2;39;40;34m                                                                                                    \\x1b[0m\\n\\n\\x1b[48;2;39;40;34m                                                                                                    \\x1b[0m\\n\\x1b[48;2;39;40;34m \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mfoobar\\x1b[0m\\x1b[48;2;39;40;34m                                                                                            \\x1b[0m\\x1b[48;2;39;40;34m \\x1b[0m\\n\\x1b[48;2;39;40;34m                                                                                                    \\x1b[0m\\n\\n\\x1b[48;2;39;40;34m                                                                                                    \\x1b[0m\\n\\x1b[48;2;39;40;34m \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mimport this\\x1b[0m\\x1b[48;2;39;40;34m                                                                                       \\x1b[0m\\x1b[48;2;39;40;34m \\x1b[0m\\n\\x1b[48;2;39;40;34m                                                                                                    \\x1b[0m\\n\\n\\x1b[1;33m 1 \\x1b[0mList item                                                                                        \\n\\x1b[1;33m   \\x1b[0m\\x1b[48;2;39;40;34m                                                                                                 \\x1b[0m\\n\\x1b[1;33m   \\x1b[0m\\x1b[48;2;39;40;34m \\x1b[0m\\x1b[38;2;248;248;242;48;2;39;40;34mCode block\\x1b[0m\\x1b[48;2;39;40;34m                                                                                     \\x1b[0m\\x1b[48;2;39;40;34m \\x1b[0m\\n\\x1b[1;33m   \\x1b[0m\\x1b[48;2;39;40;34m                                                                                                 \\x1b[0m\\n\"\n    assert rendered_markdown == expected\n\n\ndef test_inline_code():\n    markdown = Markdown(\n        \"inline `import this` code\",\n        inline_code_lexer=\"python\",\n        inline_code_theme=\"emacs\",\n    )\n    result = render(markdown)\n    expected = \"inline \\x1b[1;38;2;170;34;255;48;2;248;248;248mimport\\x1b[0m\\x1b[38;2;0;0;0;48;2;248;248;248m \\x1b[0m\\x1b[1;38;2;0;0;255;48;2;248;248;248mthis\\x1b[0m code                                                                             \\n\"\n    print(result)\n    print(repr(result))\n    assert result == expected\n\n\ndef test_markdown_table():\n    markdown = Markdown(\n        \"\"\"\\\n| Year |                      Title                       | Director          |  Box Office (USD) |\n|------|:------------------------------------------------:|:------------------|------------------:|\n| 1982 |            *E.T. the Extra-Terrestrial*          | Steven Spielberg  |    $792.9 million |\n| 1980 |  Star Wars: Episode V  The Empire Strikes Back  | Irvin Kershner    |    $538.4 million |\n| 1983 |    Star Wars: Episode VI  Return of the Jedi    | Richard Marquand  |    $475.1 million |\n| 1981 |             Raiders of the Lost Ark              | Steven Spielberg  |    $389.9 million |\n| 1984 |       Indiana Jones and the Temple of Doom       | Steven Spielberg  |    $333.1 million |\n\"\"\"\n    )\n    result = render(markdown)\n    expected = \"\\n                                                                                               \\n \\x1b[1m \\x1b[0m\\x1b[1mYear\\x1b[0m\\x1b[1m \\x1b[0m \\x1b[1m \\x1b[0m\\x1b[1m                    Title                     \\x1b[0m\\x1b[1m \\x1b[0m \\x1b[1m \\x1b[0m\\x1b[1mDirector        \\x1b[0m\\x1b[1m \\x1b[0m \\x1b[1m \\x1b[0m\\x1b[1mBox Office (USD)\\x1b[0m\\x1b[1m \\x1b[0m \\n  \\n  1982             \\x1b[3mE.T. the Extra-Terrestrial\\x1b[0m             Steven Spielberg     $792.9 million  \\n  1980   Star Wars: Episode V  The Empire Strikes Back   Irvin Kershner       $538.4 million  \\n  1983     Star Wars: Episode VI  Return of the Jedi     Richard Marquand     $475.1 million  \\n  1981              Raiders of the Lost Ark               Steven Spielberg     $389.9 million  \\n  1984        Indiana Jones and the Temple of Doom        Steven Spielberg     $333.1 million  \\n                                                                                               \\n\"\n    assert result == expected\n\n\ndef test_inline_styles_in_table():\n    \"\"\"Regression test for https://github.com/Textualize/rich/issues/3115\"\"\"\n    markdown = Markdown(\n        \"\"\"\\\n| Year | This **column** displays _the_ movie _title_ ~~description~~ | Director          |  Box Office (USD) |\n|------|:----------------------------------------------------------:|:------------------|------------------:|\n| 1982 | *E.T. the Extra-Terrestrial* ([Wikipedia article](https://en.wikipedia.org/wiki/E.T._the_Extra-Terrestrial)) | Steven Spielberg  |    $792.9 million |\n| 1980 |  Star Wars: Episode V  The *Empire* **Strikes** ~~Back~~  | Irvin Kershner    |    $538.4 million |\n\"\"\"\n    )\n    result = render(markdown)\n    expected = \"\\n                                                                                                 \\n \\x1b[1m \\x1b[0m\\x1b[1mYear\\x1b[0m\\x1b[1m \\x1b[0m \\x1b[1m \\x1b[0m\\x1b[1mThis \\x1b[0m\\x1b[1mcolumn\\x1b[0m\\x1b[1m displays \\x1b[0m\\x1b[1;3mthe\\x1b[0m\\x1b[1m movie \\x1b[0m\\x1b[1;3mtitle\\x1b[0m\\x1b[1m \\x1b[0m\\x1b[1;9mdescription\\x1b[0m\\x1b[1m \\x1b[0m \\x1b[1m \\x1b[0m\\x1b[1mDirector        \\x1b[0m\\x1b[1m \\x1b[0m \\x1b[1m \\x1b[0m\\x1b[1mBox Office (USD)\\x1b[0m\\x1b[1m \\x1b[0m \\n  \\n  1982    \\x1b[3mE.T. the Extra-Terrestrial\\x1b[0m (\\x1b]8;id=0;foo\\x1b\\\\\\x1b[4;34mWikipedia article\\x1b[0m\\x1b]8;;\\x1b\\\\)    Steven Spielberg     $792.9 million  \\n  1980    Star Wars: Episode V  The \\x1b[3mEmpire\\x1b[0m \\x1b[1mStrikes\\x1b[0m \\x1b[9mBack\\x1b[0m    Irvin Kershner       $538.4 million  \\n                                                                                                 \\n\"\n    assert result == expected\n\n\ndef test_inline_styles_with_justification():\n    \"\"\"Regression test for https://github.com/Textualize/rich/issues/3115\n\n    In particular, this tests the interaction between the change that was made to fix\n    #3115 and column text justification.\n    \"\"\"\n    markdown = Markdown(\n        \"\"\"\\\n| left | center | right |\n| :- | :-: | -: |\n| This is a long row | because it contains | a fairly long sentence. |\n| a*b* _c_ ~~d~~ e | a*b* _c_ ~~d~~ e | a*b* _c_ ~~d~~ e |\"\"\"\n    )\n    result = render(markdown)\n    expected = \"\\n                                                                      \\n \\x1b[1m \\x1b[0m\\x1b[1mleft              \\x1b[0m\\x1b[1m \\x1b[0m \\x1b[1m \\x1b[0m\\x1b[1m      center       \\x1b[0m\\x1b[1m \\x1b[0m \\x1b[1m \\x1b[0m\\x1b[1m                  right\\x1b[0m\\x1b[1m \\x1b[0m \\n  \\n  This is a long row   because it contains   a fairly long sentence.  \\n  a\\x1b[3mb\\x1b[0m \\x1b[3mc\\x1b[0m \\x1b[9md\\x1b[0m e                  a\\x1b[3mb\\x1b[0m \\x1b[3mc\\x1b[0m \\x1b[9md\\x1b[0m e                        a\\x1b[3mb\\x1b[0m \\x1b[3mc\\x1b[0m \\x1b[9md\\x1b[0m e  \\n                                                                      \\n\"\n    assert result == expected\n\n\ndef test_partial_table():\n    markdown = Markdown(\"| Simple | Table |\\n| ------ | ----- \")\n    result = render(markdown)\n    print(repr(result))\n    expected = \"\\n                  \\n \\x1b[1m \\x1b[0m\\x1b[1mSimple\\x1b[0m\\x1b[1m \\x1b[0m \\x1b[1m \\x1b[0m\\x1b[1mTable\\x1b[0m\\x1b[1m \\x1b[0m \\n  \\n                  \\n\"\n    assert result == expected\n\n\ndef test_table_with_empty_cells() -> None:\n    \"\"\"Test a table with empty cells is rendered without extra newlines above.\n    Regression test for #3027 https://github.com/Textualize/rich/issues/3027\n    \"\"\"\n    complete_table = Markdown(\n        \"\"\"\\\n| First Header  | Second Header |\n| ------------- | ------------- |\n| Content Cell  | Content Cell  |\n| Content Cell  | Content Cell  |\n\"\"\"\n    )\n    table_with_empty_cells = Markdown(\n        \"\"\"\\\n| First Header  |               |\n| ------------- | ------------- |\n| Content Cell  | Content Cell  |\n|               | Content Cell  |\n\"\"\"\n    )\n    result = len(render(table_with_empty_cells).splitlines())\n    expected = len(render(complete_table).splitlines())\n    assert result == expected\n\n\nif __name__ == \"__main__\":\n    markdown = Markdown(MARKDOWN)\n    rendered = render(markdown)\n    print(rendered)\n    print(repr(rendered))\n",
    "start_line": 0
  },
  {
    "file": "test_bar.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from rich.console import Console\nfrom rich.progress_bar import ProgressBar\nfrom rich.segment import Segment\nfrom rich.style import Style\nfrom .render import render",
    "start_line": 0
  },
  {
    "file": "test_bar.py",
    "type": "function",
    "class": null,
    "method": "test_init",
    "name": "test_init",
    "content": "def test_init():",
    "start_line": 8
  },
  {
    "file": "test_bar.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "bar = ProgressBar(completed=50)\n    repr(bar)\n    assert bar.percentage_completed == 50.0",
    "start_line": 9
  },
  {
    "file": "test_bar.py",
    "type": "function",
    "class": null,
    "method": "test_update",
    "name": "test_update",
    "content": "def test_update():",
    "start_line": 14
  },
  {
    "file": "test_bar.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "bar = ProgressBar()\n    assert bar.completed == 0\n    assert bar.total == 100\n    bar.update(10, 20)\n    assert bar.completed == 10\n    assert bar.total == 20\n    assert bar.percentage_completed == 50\n    bar.update(100)\n    assert bar.percentage_completed == 100\nexpected = [\n    \"\\x1b[38;2;249;38;114m\\x1b[0m\\x1b[38;2;249;38;114m\\x1b[0m\\x1b[38;5;237m\\x1b[0m\",\n    \"\\x1b[38;2;249;38;114m\\x1b[0m\\x1b[38;5;237m\\x1b[0m\\x1b[38;5;237m\\x1b[0m\",\n]",
    "start_line": 15
  },
  {
    "file": "test_bar.py",
    "type": "function",
    "class": null,
    "method": "test_render",
    "name": "test_render",
    "content": "def test_render():",
    "start_line": 32
  },
  {
    "file": "test_bar.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "bar = ProgressBar(completed=11, width=50)\n    bar_render = render(bar)\n    assert bar_render == expected[0]\n    bar.update(completed=12)\n    bar_render = render(bar)\n    assert bar_render == expected[1]",
    "start_line": 33
  },
  {
    "file": "test_bar.py",
    "type": "function",
    "class": null,
    "method": "test_measure",
    "name": "test_measure",
    "content": "def test_measure():",
    "start_line": 41
  },
  {
    "file": "test_bar.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(width=120)\n    bar = ProgressBar()\n    measurement = bar.__rich_measure__(console, console.options)\n    assert measurement.minimum == 4\n    assert measurement.maximum == 120",
    "start_line": 42
  },
  {
    "file": "test_bar.py",
    "type": "function",
    "class": null,
    "method": "test_zero_total",
    "name": "test_zero_total",
    "content": "def test_zero_total():",
    "start_line": 49
  },
  {
    "file": "test_bar.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# Shouldn't throw zero division error",
    "start_line": 50
  },
  {
    "file": "test_bar.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "bar = ProgressBar(total=0)\n    render(bar)",
    "start_line": 51
  },
  {
    "file": "test_bar.py",
    "type": "function",
    "class": null,
    "method": "test_pulse",
    "name": "test_pulse",
    "content": "def test_pulse():",
    "start_line": 55
  },
  {
    "file": "test_bar.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "bar = ProgressBar(pulse=True, animation_time=10)\n    bar_render = render(bar)\n    print(repr(bar_render))\n    expected = \"\\x1b[38;2;249;38;114m\\x1b[0m\\x1b[38;2;244;38;112m\\x1b[0m\\x1b[38;2;230;39;108m\\x1b[0m\\x1b[38;2;209;42;102m\\x1b[0m\\x1b[38;2;183;44;94m\\x1b[0m\\x1b[38;2;153;48;86m\\x1b[0m\\x1b[38;2;123;51;77m\\x1b[0m\\x1b[38;2;97;53;69m\\x1b[0m\\x1b[38;2;76;56;63m\\x1b[0m\\x1b[38;2;62;57;59m\\x1b[0m\\x1b[38;2;58;58;58m\\x1b[0m\\x1b[38;2;62;57;59m\\x1b[0m\\x1b[38;2;76;56;63m\\x1b[0m\\x1b[38;2;97;53;69m\\x1b[0m\\x1b[38;2;123;51;77m\\x1b[0m\\x1b[38;2;153;48;86m\\x1b[0m\\x1b[38;2;183;44;94m\\x1b[0m\\x1b[38;2;209;42;102m\\x1b[0m\\x1b[38;2;230;39;108m\\x1b[0m\\x1b[38;2;244;38;112m\\x1b[0m\\x1b[38;2;249;38;114m\\x1b[0m\\x1b[38;2;244;38;112m\\x1b[0m\\x1b[38;2;230;39;108m\\x1b[0m\\x1b[38;2;209;42;102m\\x1b[0m\\x1b[38;2;183;44;94m\\x1b[0m\\x1b[38;2;153;48;86m\\x1b[0m\\x1b[38;2;123;51;77m\\x1b[0m\\x1b[38;2;97;53;69m\\x1b[0m\\x1b[38;2;76;56;63m\\x1b[0m\\x1b[38;2;62;57;59m\\x1b[0m\\x1b[38;2;58;58;58m\\x1b[0m\\x1b[38;2;62;57;59m\\x1b[0m\\x1b[38;2;76;56;63m\\x1b[0m\\x1b[38;2;97;53;69m\\x1b[0m\\x1b[38;2;123;51;77m\\x1b[0m\\x1b[38;2;153;48;86m\\x1b[0m\\x1b[38;2;183;44;94m\\x1b[0m\\x1b[38;2;209;42;102m\\x1b[0m\\x1b[38;2;230;39;108m\\x1b[0m\\x1b[38;2;244;38;112m\\x1b[0m\\x1b[38;2;249;38;114m\\x1b[0m\\x1b[38;2;244;38;112m\\x1b[0m\\x1b[38;2;230;39;108m\\x1b[0m\\x1b[38;2;209;42;102m\\x1b[0m\\x1b[38;2;183;44;94m\\x1b[0m\\x1b[38;2;153;48;86m\\x1b[0m\\x1b[38;2;123;51;77m\\x1b[0m\\x1b[38;2;97;53;69m\\x1b[0m\\x1b[38;2;76;56;63m\\x1b[0m\\x1b[38;2;62;57;59m\\x1b[0m\\x1b[38;2;58;58;58m\\x1b[0m\\x1b[38;2;62;57;59m\\x1b[0m\\x1b[38;2;76;56;63m\\x1b[0m\\x1b[38;2;97;53;69m\\x1b[0m\\x1b[38;2;123;51;77m\\x1b[0m\\x1b[38;2;153;48;86m\\x1b[0m\\x1b[38;2;183;44;94m\\x1b[0m\\x1b[38;2;209;42;102m\\x1b[0m\\x1b[38;2;230;39;108m\\x1b[0m\\x1b[38;2;244;38;112m\\x1b[0m\\x1b[38;2;249;38;114m\\x1b[0m\\x1b[38;2;244;38;112m\\x1b[0m\\x1b[38;2;230;39;108m\\x1b[0m\\x1b[38;2;209;42;102m\\x1b[0m\\x1b[38;2;183;44;94m\\x1b[0m\\x1b[38;2;153;48;86m\\x1b[0m\\x1b[38;2;123;51;77m\\x1b[0m\\x1b[38;2;97;53;69m\\x1b[0m\\x1b[38;2;76;56;63m\\x1b[0m\\x1b[38;2;62;57;59m\\x1b[0m\\x1b[38;2;58;58;58m\\x1b[0m\\x1b[38;2;62;57;59m\\x1b[0m\\x1b[38;2;76;56;63m\\x1b[0m\\x1b[38;2;97;53;69m\\x1b[0m\\x1b[38;2;123;51;77m\\x1b[0m\\x1b[38;2;153;48;86m\\x1b[0m\\x1b[38;2;183;44;94m\\x1b[0m\\x1b[38;2;209;42;102m\\x1b[0m\\x1b[38;2;230;39;108m\\x1b[0m\\x1b[38;2;244;38;112m\\x1b[0m\\x1b[38;2;249;38;114m\\x1b[0m\\x1b[38;2;244;38;112m\\x1b[0m\\x1b[38;2;230;39;108m\\x1b[0m\\x1b[38;2;209;42;102m\\x1b[0m\\x1b[38;2;183;44;94m\\x1b[0m\\x1b[38;2;153;48;86m\\x1b[0m\\x1b[38;2;123;51;77m\\x1b[0m\\x1b[38;2;97;53;69m\\x1b[0m\\x1b[38;2;76;56;63m\\x1b[0m\\x1b[38;2;62;57;59m\\x1b[0m\\x1b[38;2;58;58;58m\\x1b[0m\\x1b[38;2;62;57;59m\\x1b[0m\\x1b[38;2;76;56;63m\\x1b[0m\\x1b[38;2;97;53;69m\\x1b[0m\\x1b[38;2;123;51;77m\\x1b[0m\\x1b[38;2;153;48;86m\\x1b[0m\\x1b[38;2;183;44;94m\\x1b[0m\\x1b[38;2;209;42;102m\\x1b[0m\\x1b[38;2;230;39;108m\\x1b[0m\\x1b[38;2;244;38;112m\\x1b[0m\"\n    assert bar_render == expected",
    "start_line": 56
  },
  {
    "file": "test_bar.py",
    "type": "function",
    "class": null,
    "method": "test_get_pulse_segments",
    "name": "test_get_pulse_segments",
    "content": "def test_get_pulse_segments():",
    "start_line": 63
  },
  {
    "file": "test_bar.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "bar = ProgressBar()\n    segments = bar._get_pulse_segments(\n        Style.parse(\"red\"), Style.parse(\"yellow\"), None, False, False\n    )\n    print(repr(segments))\n    expected = [\n        Segment(\"\", Style.parse(\"red\")),\n        Segment(\"\", Style.parse(\"red\")),\n        Segment(\"\", Style.parse(\"red\")),\n        Segment(\"\", Style.parse(\"red\")),\n        Segment(\"\", Style.parse(\"red\")),\n        Segment(\"\", Style.parse(\"red\")),\n        Segment(\"\", Style.parse(\"red\")),\n        Segment(\"\", Style.parse(\"red\")),\n        Segment(\"\", Style.parse(\"red\")),\n        Segment(\"\", Style.parse(\"red\")),\n        Segment(\"\", Style.parse(\"yellow\")),\n        Segment(\"\", Style.parse(\"yellow\")),\n        Segment(\"\", Style.parse(\"yellow\")),\n        Segment(\"\", Style.parse(\"yellow\")),\n        Segment(\"\", Style.parse(\"yellow\")),\n        Segment(\"\", Style.parse(\"yellow\")),\n        Segment(\"\", Style.parse(\"yellow\")),\n        Segment(\"\", Style.parse(\"yellow\")),\n        Segment(\"\", Style.parse(\"yellow\")),\n        Segment(\"\", Style.parse(\"yellow\")),\n    ]\n    assert segments == expected\nif __name__ == \"__main__\":\n    bar = ProgressBar(completed=11, width=50)\n    bar_render = render(bar)\n    print(repr(bar_render))\n    bar.update(completed=12)\n    bar_render = render(bar)\n    print(repr(bar_render))",
    "start_line": 64
  },
  {
    "file": "test_bar.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "from rich.console import Console\nfrom rich.progress_bar import ProgressBar\nfrom rich.segment import Segment\nfrom rich.style import Style\n\nfrom .render import render\n\n\ndef test_init():\n    bar = ProgressBar(completed=50)\n    repr(bar)\n    assert bar.percentage_completed == 50.0\n\n\ndef test_update():\n    bar = ProgressBar()\n    assert bar.completed == 0\n    assert bar.total == 100\n    bar.update(10, 20)\n    assert bar.completed == 10\n    assert bar.total == 20\n    assert bar.percentage_completed == 50\n    bar.update(100)\n    assert bar.percentage_completed == 100\n\n\nexpected = [\n    \"\\x1b[38;2;249;38;114m\\x1b[0m\\x1b[38;2;249;38;114m\\x1b[0m\\x1b[38;5;237m\\x1b[0m\",\n    \"\\x1b[38;2;249;38;114m\\x1b[0m\\x1b[38;5;237m\\x1b[0m\\x1b[38;5;237m\\x1b[0m\",\n]\n\n\ndef test_render():\n    bar = ProgressBar(completed=11, width=50)\n    bar_render = render(bar)\n    assert bar_render == expected[0]\n    bar.update(completed=12)\n    bar_render = render(bar)\n    assert bar_render == expected[1]\n\n\ndef test_measure():\n    console = Console(width=120)\n    bar = ProgressBar()\n    measurement = bar.__rich_measure__(console, console.options)\n    assert measurement.minimum == 4\n    assert measurement.maximum == 120\n\n\ndef test_zero_total():\n    # Shouldn't throw zero division error\n    bar = ProgressBar(total=0)\n    render(bar)\n\n\ndef test_pulse():\n    bar = ProgressBar(pulse=True, animation_time=10)\n    bar_render = render(bar)\n    print(repr(bar_render))\n    expected = \"\\x1b[38;2;249;38;114m\\x1b[0m\\x1b[38;2;244;38;112m\\x1b[0m\\x1b[38;2;230;39;108m\\x1b[0m\\x1b[38;2;209;42;102m\\x1b[0m\\x1b[38;2;183;44;94m\\x1b[0m\\x1b[38;2;153;48;86m\\x1b[0m\\x1b[38;2;123;51;77m\\x1b[0m\\x1b[38;2;97;53;69m\\x1b[0m\\x1b[38;2;76;56;63m\\x1b[0m\\x1b[38;2;62;57;59m\\x1b[0m\\x1b[38;2;58;58;58m\\x1b[0m\\x1b[38;2;62;57;59m\\x1b[0m\\x1b[38;2;76;56;63m\\x1b[0m\\x1b[38;2;97;53;69m\\x1b[0m\\x1b[38;2;123;51;77m\\x1b[0m\\x1b[38;2;153;48;86m\\x1b[0m\\x1b[38;2;183;44;94m\\x1b[0m\\x1b[38;2;209;42;102m\\x1b[0m\\x1b[38;2;230;39;108m\\x1b[0m\\x1b[38;2;244;38;112m\\x1b[0m\\x1b[38;2;249;38;114m\\x1b[0m\\x1b[38;2;244;38;112m\\x1b[0m\\x1b[38;2;230;39;108m\\x1b[0m\\x1b[38;2;209;42;102m\\x1b[0m\\x1b[38;2;183;44;94m\\x1b[0m\\x1b[38;2;153;48;86m\\x1b[0m\\x1b[38;2;123;51;77m\\x1b[0m\\x1b[38;2;97;53;69m\\x1b[0m\\x1b[38;2;76;56;63m\\x1b[0m\\x1b[38;2;62;57;59m\\x1b[0m\\x1b[38;2;58;58;58m\\x1b[0m\\x1b[38;2;62;57;59m\\x1b[0m\\x1b[38;2;76;56;63m\\x1b[0m\\x1b[38;2;97;53;69m\\x1b[0m\\x1b[38;2;123;51;77m\\x1b[0m\\x1b[38;2;153;48;86m\\x1b[0m\\x1b[38;2;183;44;94m\\x1b[0m\\x1b[38;2;209;42;102m\\x1b[0m\\x1b[38;2;230;39;108m\\x1b[0m\\x1b[38;2;244;38;112m\\x1b[0m\\x1b[38;2;249;38;114m\\x1b[0m\\x1b[38;2;244;38;112m\\x1b[0m\\x1b[38;2;230;39;108m\\x1b[0m\\x1b[38;2;209;42;102m\\x1b[0m\\x1b[38;2;183;44;94m\\x1b[0m\\x1b[38;2;153;48;86m\\x1b[0m\\x1b[38;2;123;51;77m\\x1b[0m\\x1b[38;2;97;53;69m\\x1b[0m\\x1b[38;2;76;56;63m\\x1b[0m\\x1b[38;2;62;57;59m\\x1b[0m\\x1b[38;2;58;58;58m\\x1b[0m\\x1b[38;2;62;57;59m\\x1b[0m\\x1b[38;2;76;56;63m\\x1b[0m\\x1b[38;2;97;53;69m\\x1b[0m\\x1b[38;2;123;51;77m\\x1b[0m\\x1b[38;2;153;48;86m\\x1b[0m\\x1b[38;2;183;44;94m\\x1b[0m\\x1b[38;2;209;42;102m\\x1b[0m\\x1b[38;2;230;39;108m\\x1b[0m\\x1b[38;2;244;38;112m\\x1b[0m\\x1b[38;2;249;38;114m\\x1b[0m\\x1b[38;2;244;38;112m\\x1b[0m\\x1b[38;2;230;39;108m\\x1b[0m\\x1b[38;2;209;42;102m\\x1b[0m\\x1b[38;2;183;44;94m\\x1b[0m\\x1b[38;2;153;48;86m\\x1b[0m\\x1b[38;2;123;51;77m\\x1b[0m\\x1b[38;2;97;53;69m\\x1b[0m\\x1b[38;2;76;56;63m\\x1b[0m\\x1b[38;2;62;57;59m\\x1b[0m\\x1b[38;2;58;58;58m\\x1b[0m\\x1b[38;2;62;57;59m\\x1b[0m\\x1b[38;2;76;56;63m\\x1b[0m\\x1b[38;2;97;53;69m\\x1b[0m\\x1b[38;2;123;51;77m\\x1b[0m\\x1b[38;2;153;48;86m\\x1b[0m\\x1b[38;2;183;44;94m\\x1b[0m\\x1b[38;2;209;42;102m\\x1b[0m\\x1b[38;2;230;39;108m\\x1b[0m\\x1b[38;2;244;38;112m\\x1b[0m\\x1b[38;2;249;38;114m\\x1b[0m\\x1b[38;2;244;38;112m\\x1b[0m\\x1b[38;2;230;39;108m\\x1b[0m\\x1b[38;2;209;42;102m\\x1b[0m\\x1b[38;2;183;44;94m\\x1b[0m\\x1b[38;2;153;48;86m\\x1b[0m\\x1b[38;2;123;51;77m\\x1b[0m\\x1b[38;2;97;53;69m\\x1b[0m\\x1b[38;2;76;56;63m\\x1b[0m\\x1b[38;2;62;57;59m\\x1b[0m\\x1b[38;2;58;58;58m\\x1b[0m\\x1b[38;2;62;57;59m\\x1b[0m\\x1b[38;2;76;56;63m\\x1b[0m\\x1b[38;2;97;53;69m\\x1b[0m\\x1b[38;2;123;51;77m\\x1b[0m\\x1b[38;2;153;48;86m\\x1b[0m\\x1b[38;2;183;44;94m\\x1b[0m\\x1b[38;2;209;42;102m\\x1b[0m\\x1b[38;2;230;39;108m\\x1b[0m\\x1b[38;2;244;38;112m\\x1b[0m\"\n    assert bar_render == expected\n\n\ndef test_get_pulse_segments():\n    bar = ProgressBar()\n    segments = bar._get_pulse_segments(\n        Style.parse(\"red\"), Style.parse(\"yellow\"), None, False, False\n    )\n    print(repr(segments))\n    expected = [\n        Segment(\"\", Style.parse(\"red\")),\n        Segment(\"\", Style.parse(\"red\")),\n        Segment(\"\", Style.parse(\"red\")),\n        Segment(\"\", Style.parse(\"red\")),\n        Segment(\"\", Style.parse(\"red\")),\n        Segment(\"\", Style.parse(\"red\")),\n        Segment(\"\", Style.parse(\"red\")),\n        Segment(\"\", Style.parse(\"red\")),\n        Segment(\"\", Style.parse(\"red\")),\n        Segment(\"\", Style.parse(\"red\")),\n        Segment(\"\", Style.parse(\"yellow\")),\n        Segment(\"\", Style.parse(\"yellow\")),\n        Segment(\"\", Style.parse(\"yellow\")),\n        Segment(\"\", Style.parse(\"yellow\")),\n        Segment(\"\", Style.parse(\"yellow\")),\n        Segment(\"\", Style.parse(\"yellow\")),\n        Segment(\"\", Style.parse(\"yellow\")),\n        Segment(\"\", Style.parse(\"yellow\")),\n        Segment(\"\", Style.parse(\"yellow\")),\n        Segment(\"\", Style.parse(\"yellow\")),\n    ]\n    assert segments == expected\n\n\nif __name__ == \"__main__\":\n    bar = ProgressBar(completed=11, width=50)\n    bar_render = render(bar)\n    print(repr(bar_render))\n    bar.update(completed=12)\n    bar_render = render(bar)\n    print(repr(bar_render))\n",
    "start_line": 0
  },
  {
    "file": "test_ansi.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "import pytest\nfrom rich.ansi import AnsiDecoder\nfrom rich.console import Console\nfrom rich.style import Style\nfrom rich.text import Span, Text",
    "start_line": 0
  },
  {
    "file": "test_ansi.py",
    "type": "function",
    "class": null,
    "method": "test_decode",
    "name": "test_decode",
    "content": "def test_decode():",
    "start_line": 8
  },
  {
    "file": "test_ansi.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(\n        force_terminal=True, legacy_windows=False, color_system=\"truecolor\"\n    )\n    console.begin_capture()\n    console.print(\"Hello\")\n    console.print(\"[b]foo[/b]\")\n    console.print(\"[link http://example.org]bar\")\n    console.print(\"[#ff0000 on color(200)]red\")\n    console.print(\"[color(200) on #ff0000]red\")\n    terminal_codes = console.end_capture()\n    decoder = AnsiDecoder()\n    lines = list(decoder.decode(terminal_codes))\n    expected = [\n        Text(\"Hello\"),\n        Text(\"foo\", spans=[Span(0, 3, Style.parse(\"bold\"))]),\n        Text(\"bar\", spans=[Span(0, 3, Style.parse(\"link http://example.org\"))]),\n        Text(\"red\", spans=[Span(0, 3, Style.parse(\"#ff0000 on color(200)\"))]),\n        Text(\"red\", spans=[Span(0, 3, Style.parse(\"color(200) on #ff0000\"))]),\n    ]\n    assert lines == expected",
    "start_line": 9
  },
  {
    "file": "test_ansi.py",
    "type": "function",
    "class": null,
    "method": "test_decode_example",
    "name": "test_decode_example",
    "content": "def test_decode_example():",
    "start_line": 34
  },
  {
    "file": "test_ansi.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "ansi_bytes = b\"\\x1b[01m\\x1b[KC:\\\\Users\\\\stefa\\\\AppData\\\\Local\\\\Temp\\\\tmp3ydingba:\\x1b[m\\x1b[K In function '\\x1b[01m\\x1b[Kmain\\x1b[m\\x1b[K':\\n\\x1b[01m\\x1b[KC:\\\\Users\\\\stefa\\\\AppData\\\\Local\\\\Temp\\\\tmp3ydingba:3:5:\\x1b[m\\x1b[K \\x1b[01;35m\\x1b[Kwarning: \\x1b[m\\x1b[Kunused variable '\\x1b[01m\\x1b[Ka\\x1b[m\\x1b[K' [\\x1b[01;35m\\x1b[K-Wunused-variable\\x1b[m\\x1b[K]\\n    3 | int \\x1b[01;35m\\x1b[Ka\\x1b[m\\x1b[K=1;\\n      |     \\x1b[01;35m\\x1b[K^\\x1b[m\\x1b[K\\n\"\n    ansi_text = ansi_bytes.decode(\"utf-8\")\n    text = Text.from_ansi(ansi_text)\n    console = Console(\n        force_terminal=True, legacy_windows=False, color_system=\"truecolor\"\n    )\n    with console.capture() as capture:\n        console.print(text)\n    result = capture.get()\n    print(repr(result))\n    expected = \"\\x1b[1mC:\\\\Users\\\\stefa\\\\AppData\\\\Local\\\\Temp\\\\tmp3ydingba:\\x1b[0m In function '\\x1b[1mmain\\x1b[0m':\\n\\x1b[1mC:\\\\Users\\\\stefa\\\\AppData\\\\Local\\\\Temp\\\\tmp3ydingba:3:5:\\x1b[0m \\x1b[1;35mwarning: \\x1b[0munused variable '\\x1b[1ma\\x1b[0m' \\n[\\x1b[1;35m-Wunused-variable\\x1b[0m]\\n    3 | int \\x1b[1;35ma\\x1b[0m=1;\\n      |     \\x1b[1;35m^\\x1b[0m\\n\"\n    assert result == expected\n@pytest.mark.parametrize(\n    \"ansi_bytes, expected_text\",\n    [",
    "start_line": 35
  },
  {
    "file": "test_ansi.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# https://github.com/Textualize/rich/issues/2688\n        (\n            b\"\\x1b[31mFound 4 errors in 2 files (checked 18 source files)\\x1b(B\\x1b[m\\n\",\n            \"Found 4 errors in 2 files (checked 18 source files)\",\n        ),\n        # https://mail.python.org/pipermail/python-list/2007-December/424756.html\n        (b\"Hallo\", \"Hallo\"),\n        (b\"\\x1b(BHallo\", \"Hallo\"),\n        (b\"\\x1b(JHallo\", \"Hallo\"),\n        (b\"\\x1b(BHal\\x1b(Jlo\", \"Hallo\"),\n    ],\n)",
    "start_line": 54
  },
  {
    "file": "test_ansi.py",
    "type": "function",
    "class": null,
    "method": "test_decode_issue_2688",
    "name": "test_decode_issue_2688",
    "content": "def test_decode_issue_2688(ansi_bytes, expected_text):",
    "start_line": 66
  },
  {
    "file": "test_ansi.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "text = Text.from_ansi(ansi_bytes.decode())\n    assert str(text) == expected_text\n@pytest.mark.parametrize(\"code\", [*\"0123456789:;<=>?\"])",
    "start_line": 67
  },
  {
    "file": "test_ansi.py",
    "type": "function",
    "class": null,
    "method": "test_strip_private_escape_sequences",
    "name": "test_strip_private_escape_sequences",
    "content": "def test_strip_private_escape_sequences(code):",
    "start_line": 73
  },
  {
    "file": "test_ansi.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "text = Text.from_ansi(f\"\\x1b{code}x\")\n    console = Console(force_terminal=True)\n    with console.capture() as capture:\n        console.print(text)\n    expected = \"x\\n\"\n    assert capture.get() == expected",
    "start_line": 74
  },
  {
    "file": "test_ansi.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "import pytest\n\nfrom rich.ansi import AnsiDecoder\nfrom rich.console import Console\nfrom rich.style import Style\nfrom rich.text import Span, Text\n\n\ndef test_decode():\n    console = Console(\n        force_terminal=True, legacy_windows=False, color_system=\"truecolor\"\n    )\n    console.begin_capture()\n    console.print(\"Hello\")\n    console.print(\"[b]foo[/b]\")\n    console.print(\"[link http://example.org]bar\")\n    console.print(\"[#ff0000 on color(200)]red\")\n    console.print(\"[color(200) on #ff0000]red\")\n    terminal_codes = console.end_capture()\n\n    decoder = AnsiDecoder()\n    lines = list(decoder.decode(terminal_codes))\n\n    expected = [\n        Text(\"Hello\"),\n        Text(\"foo\", spans=[Span(0, 3, Style.parse(\"bold\"))]),\n        Text(\"bar\", spans=[Span(0, 3, Style.parse(\"link http://example.org\"))]),\n        Text(\"red\", spans=[Span(0, 3, Style.parse(\"#ff0000 on color(200)\"))]),\n        Text(\"red\", spans=[Span(0, 3, Style.parse(\"color(200) on #ff0000\"))]),\n    ]\n\n    assert lines == expected\n\n\ndef test_decode_example():\n    ansi_bytes = b\"\\x1b[01m\\x1b[KC:\\\\Users\\\\stefa\\\\AppData\\\\Local\\\\Temp\\\\tmp3ydingba:\\x1b[m\\x1b[K In function '\\x1b[01m\\x1b[Kmain\\x1b[m\\x1b[K':\\n\\x1b[01m\\x1b[KC:\\\\Users\\\\stefa\\\\AppData\\\\Local\\\\Temp\\\\tmp3ydingba:3:5:\\x1b[m\\x1b[K \\x1b[01;35m\\x1b[Kwarning: \\x1b[m\\x1b[Kunused variable '\\x1b[01m\\x1b[Ka\\x1b[m\\x1b[K' [\\x1b[01;35m\\x1b[K-Wunused-variable\\x1b[m\\x1b[K]\\n    3 | int \\x1b[01;35m\\x1b[Ka\\x1b[m\\x1b[K=1;\\n      |     \\x1b[01;35m\\x1b[K^\\x1b[m\\x1b[K\\n\"\n    ansi_text = ansi_bytes.decode(\"utf-8\")\n\n    text = Text.from_ansi(ansi_text)\n\n    console = Console(\n        force_terminal=True, legacy_windows=False, color_system=\"truecolor\"\n    )\n    with console.capture() as capture:\n        console.print(text)\n    result = capture.get()\n    print(repr(result))\n    expected = \"\\x1b[1mC:\\\\Users\\\\stefa\\\\AppData\\\\Local\\\\Temp\\\\tmp3ydingba:\\x1b[0m In function '\\x1b[1mmain\\x1b[0m':\\n\\x1b[1mC:\\\\Users\\\\stefa\\\\AppData\\\\Local\\\\Temp\\\\tmp3ydingba:3:5:\\x1b[0m \\x1b[1;35mwarning: \\x1b[0munused variable '\\x1b[1ma\\x1b[0m' \\n[\\x1b[1;35m-Wunused-variable\\x1b[0m]\\n    3 | int \\x1b[1;35ma\\x1b[0m=1;\\n      |     \\x1b[1;35m^\\x1b[0m\\n\"\n    assert result == expected\n\n\n@pytest.mark.parametrize(\n    \"ansi_bytes, expected_text\",\n    [\n        # https://github.com/Textualize/rich/issues/2688\n        (\n            b\"\\x1b[31mFound 4 errors in 2 files (checked 18 source files)\\x1b(B\\x1b[m\\n\",\n            \"Found 4 errors in 2 files (checked 18 source files)\",\n        ),\n        # https://mail.python.org/pipermail/python-list/2007-December/424756.html\n        (b\"Hallo\", \"Hallo\"),\n        (b\"\\x1b(BHallo\", \"Hallo\"),\n        (b\"\\x1b(JHallo\", \"Hallo\"),\n        (b\"\\x1b(BHal\\x1b(Jlo\", \"Hallo\"),\n    ],\n)\ndef test_decode_issue_2688(ansi_bytes, expected_text):\n    text = Text.from_ansi(ansi_bytes.decode())\n\n    assert str(text) == expected_text\n\n\n@pytest.mark.parametrize(\"code\", [*\"0123456789:;<=>?\"])\ndef test_strip_private_escape_sequences(code):\n    text = Text.from_ansi(f\"\\x1b{code}x\")\n\n    console = Console(force_terminal=True)\n\n    with console.capture() as capture:\n        console.print(text)\n\n    expected = \"x\\n\"\n\n    assert capture.get() == expected\n",
    "start_line": 0
  },
  {
    "file": "test_traceback.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "import io\nimport re\nimport sys\nfrom typing import List\nimport pytest\nfrom rich.console import Console\nfrom rich.theme import Theme\nfrom rich.traceback import Traceback, install",
    "start_line": 0
  },
  {
    "file": "test_traceback.py",
    "type": "function",
    "class": null,
    "method": "test_handler",
    "name": "test_handler",
    "content": "def test_handler():",
    "start_line": 12
  },
  {
    "file": "test_traceback.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(file=io.StringIO(), width=100, color_system=None)\n    expected_old_handler = sys.excepthook",
    "start_line": 13
  },
  {
    "file": "test_traceback.py",
    "type": "function",
    "class": null,
    "method": "level1",
    "name": "level1",
    "content": "def level1():\n        level2()",
    "start_line": 16
  },
  {
    "file": "test_traceback.py",
    "type": "function",
    "class": null,
    "method": "level2",
    "name": "level2",
    "content": "def level2():\n        return 1 / 0\n\n    try:",
    "start_line": 19
  },
  {
    "file": "test_traceback.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "old_handler = install(console=console)\n        try:\n            level1()\n        except Exception:\n            exc_type, exc_value, traceback = sys.exc_info()\n            sys.excepthook(exc_type, exc_value, traceback)\n            rendered_exception = console.file.getvalue()\n            print(repr(rendered_exception))\n            assert \"Traceback\" in rendered_exception\n            assert \"ZeroDivisionError\" in rendered_exception\n            frame_blank_line_possible_preambles = (",
    "start_line": 23
  },
  {
    "file": "test_traceback.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# Start of the stack rendering:\n                \" Traceback (most recent call last) \",\n                # Each subsequent frame (starting with the file name) should then be preceded with a blank line:\n                \"\" + (\" \" * 98) + \"\",\n            )\n            for frame_start in re.finditer(\n                \"^ .+rich/tests/test_traceback.py:\",\n                rendered_exception,",
    "start_line": 35
  },
  {
    "file": "test_traceback.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "flags=re.MULTILINE,\n            ):\n                frame_start_index = frame_start.start()\n                for preamble in frame_blank_line_possible_preambles:\n                    preamble_start, preamble_end = (\n                        frame_start_index - len(preamble) - 1,\n                        frame_start_index - 1,\n                    )\n                    if rendered_exception[preamble_start:preamble_end] == preamble:\n                        break\n                else:\n                    pytest.fail(\n                        f\"Frame {frame_start[0]} doesn't have the expected preamble\"\n                    )\n    finally:\n        sys.excepthook = old_handler\n        assert old_handler == expected_old_handler",
    "start_line": 43
  },
  {
    "file": "test_traceback.py",
    "type": "function",
    "class": null,
    "method": "test_capture",
    "name": "test_capture",
    "content": "def test_capture():\n    try:\n        1 / 0\n    except Exception:",
    "start_line": 62
  },
  {
    "file": "test_traceback.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "tb = Traceback()\n        assert tb.trace.stacks[0].exc_type == \"ZeroDivisionError\"",
    "start_line": 66
  },
  {
    "file": "test_traceback.py",
    "type": "function",
    "class": null,
    "method": "test_no_exception",
    "name": "test_no_exception",
    "content": "def test_no_exception():\n    with pytest.raises(ValueError):",
    "start_line": 70
  },
  {
    "file": "test_traceback.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "tb = Traceback()",
    "start_line": 72
  },
  {
    "file": "test_traceback.py",
    "type": "function",
    "class": null,
    "method": "get_exception",
    "name": "get_exception",
    "content": "def get_exception() -> Traceback:",
    "start_line": 75
  },
  {
    "file": "test_traceback.py",
    "type": "function",
    "class": null,
    "method": "bar",
    "name": "bar",
    "content": "def bar(a):\n        print(1 / a)",
    "start_line": 76
  },
  {
    "file": "test_traceback.py",
    "type": "function",
    "class": null,
    "method": "foo",
    "name": "foo",
    "content": "def foo(a):\n        bar(a)\n\n    try:\n        try:\n            foo(0)\n        except:\n            foobarbaz\n    except:",
    "start_line": 79
  },
  {
    "file": "test_traceback.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "tb = Traceback()\n        return tb",
    "start_line": 88
  },
  {
    "file": "test_traceback.py",
    "type": "function",
    "class": null,
    "method": "test_print_exception",
    "name": "test_print_exception",
    "content": "def test_print_exception():",
    "start_line": 92
  },
  {
    "file": "test_traceback.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(width=100, file=io.StringIO())\n    try:\n        1 / 0\n    except Exception:\n        console.print_exception()\n    exception_text = console.file.getvalue()\n    assert \"ZeroDivisionError\" in exception_text",
    "start_line": 93
  },
  {
    "file": "test_traceback.py",
    "type": "function",
    "class": null,
    "method": "test_print_exception_no_msg",
    "name": "test_print_exception_no_msg",
    "content": "def test_print_exception_no_msg():",
    "start_line": 102
  },
  {
    "file": "test_traceback.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(width=100, file=io.StringIO())\n    try:\n        raise RuntimeError\n    except Exception:\n        console.print_exception()\n    exception_text = console.file.getvalue()\n    assert \"RuntimeError\" in exception_text\n    assert \"RuntimeError:\" not in exception_text",
    "start_line": 103
  },
  {
    "file": "test_traceback.py",
    "type": "function",
    "class": null,
    "method": "test_print_exception_locals",
    "name": "test_print_exception_locals",
    "content": "def test_print_exception_locals():",
    "start_line": 113
  },
  {
    "file": "test_traceback.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(width=100, file=io.StringIO())\n    try:\n        1 / 0\n    except Exception:\n        console.print_exception(show_locals=True)\n    exception_text = console.file.getvalue()\n    print(exception_text)\n    assert \"ZeroDivisionError\" in exception_text\n    assert \"locals\" in exception_text\n    assert \"console = <console width=100 None>\" in exception_text",
    "start_line": 114
  },
  {
    "file": "test_traceback.py",
    "type": "function",
    "class": null,
    "method": "test_syntax_error",
    "name": "test_syntax_error",
    "content": "def test_syntax_error():",
    "start_line": 126
  },
  {
    "file": "test_traceback.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(width=100, file=io.StringIO())\n    try:",
    "start_line": 127
  },
  {
    "file": "test_traceback.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# raises SyntaxError: unexpected EOF while parsing\n        eval(\"(2+2\")\n    except SyntaxError:\n        console.print_exception()",
    "start_line": 129
  },
  {
    "file": "test_traceback.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "exception_text = console.file.getvalue()\n    assert \"SyntaxError\" in exception_text",
    "start_line": 133
  },
  {
    "file": "test_traceback.py",
    "type": "function",
    "class": null,
    "method": "test_nested_exception",
    "name": "test_nested_exception",
    "content": "def test_nested_exception():",
    "start_line": 137
  },
  {
    "file": "test_traceback.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(width=100, file=io.StringIO())\n    value_error_message = \"ValueError because of ZeroDivisionError\"\n    try:\n        try:\n            1 / 0\n        except ZeroDivisionError:\n            raise ValueError(value_error_message)\n    except Exception:\n        console.print_exception()\n    exception_text = console.file.getvalue()\n    text_should_contain = [\n        value_error_message,\n        \"ZeroDivisionError\",\n        \"ValueError\",\n        \"During handling of the above exception\",\n    ]\n    for msg in text_should_contain:\n        assert msg in exception_text",
    "start_line": 138
  },
  {
    "file": "test_traceback.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# ZeroDivisionError should come before ValueError\n    assert exception_text.find(\"ZeroDivisionError\") < exception_text.find(\"ValueError\")",
    "start_line": 160
  },
  {
    "file": "test_traceback.py",
    "type": "function",
    "class": null,
    "method": "test_caused_exception",
    "name": "test_caused_exception",
    "content": "def test_caused_exception():",
    "start_line": 164
  },
  {
    "file": "test_traceback.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(width=100, file=io.StringIO())\n    value_error_message = \"ValueError caused by ZeroDivisionError\"\n    try:\n        try:\n            1 / 0\n        except ZeroDivisionError as e:\n            raise ValueError(value_error_message) from e\n    except Exception:\n        console.print_exception()\n    exception_text = console.file.getvalue()\n    text_should_contain = [\n        value_error_message,\n        \"ZeroDivisionError\",\n        \"ValueError\",\n        \"The above exception was the direct cause\",\n    ]\n    for msg in text_should_contain:\n        assert msg in exception_text",
    "start_line": 165
  },
  {
    "file": "test_traceback.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# ZeroDivisionError should come before ValueError\n    assert exception_text.find(\"ZeroDivisionError\") < exception_text.find(\"ValueError\")",
    "start_line": 187
  },
  {
    "file": "test_traceback.py",
    "type": "function",
    "class": null,
    "method": "test_filename_with_bracket",
    "name": "test_filename_with_bracket",
    "content": "def test_filename_with_bracket():",
    "start_line": 191
  },
  {
    "file": "test_traceback.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(width=100, file=io.StringIO())\n    try:\n        exec(compile(\"1/0\", filename=\"<string>\", mode=\"exec\"))\n    except Exception:\n        console.print_exception()\n    exception_text = console.file.getvalue()\n    assert \"<string>\" in exception_text",
    "start_line": 192
  },
  {
    "file": "test_traceback.py",
    "type": "function",
    "class": null,
    "method": "test_filename_not_a_file",
    "name": "test_filename_not_a_file",
    "content": "def test_filename_not_a_file():",
    "start_line": 201
  },
  {
    "file": "test_traceback.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(width=100, file=io.StringIO())\n    try:\n        exec(compile(\"1/0\", filename=\"string\", mode=\"exec\"))\n    except Exception:\n        console.print_exception()\n    exception_text = console.file.getvalue()\n    assert \"string\" in exception_text\n@pytest.mark.skipif(sys.platform == \"win32\", reason=\"renders different on windows\")",
    "start_line": 202
  },
  {
    "file": "test_traceback.py",
    "type": "function",
    "class": null,
    "method": "test_traceback_console_theme_applies",
    "name": "test_traceback_console_theme_applies",
    "content": "def test_traceback_console_theme_applies():\n    \"\"\"\n    Ensure that themes supplied via Console init work on Tracebacks.\n    Regression test for https://github.com/Textualize/rich/issues/1786\n    \"\"\"\n    r, g, b = 123, 234, 123",
    "start_line": 212
  },
  {
    "file": "test_traceback.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(\n        force_terminal=True,\n        _environ={\"COLORTERM\": \"truecolor\"},\n        theme=Theme({\"traceback.title\": f\"rgb({r},{g},{b})\"}),\n    )\n    console.begin_capture()\n    try:\n        1 / 0\n    except Exception:\n        console.print_exception()\n    result = console.end_capture()\n    assert f\"\\\\x1b[38;2;{r};{g};{b}mTraceback \\\\x1b[0m\" in repr(result)",
    "start_line": 218
  },
  {
    "file": "test_traceback.py",
    "type": "function",
    "class": null,
    "method": "test_broken_str",
    "name": "test_broken_str",
    "content": "def test_broken_str():",
    "start_line": 235
  },
  {
    "file": "test_traceback.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "BrokenStr",
    "content": "class BrokenStr(Exception):",
    "start_line": 236
  },
  {
    "file": "test_traceback.py",
    "type": "method",
    "class": "BrokenStr",
    "method": "__str__",
    "name": "__str__",
    "content": "class BrokenStr:\n        def __str__(self):\n            1 / 0\n\n    console = Console(width=100, file=io.StringIO())\n    try:\n        raise BrokenStr()\n    except Exception:\n        console.print_exception()\n    result = console.file.getvalue()\n    print(result)\n    assert \"<exception str() failed>\" in result",
    "start_line": 237
  },
  {
    "file": "test_traceback.py",
    "type": "function",
    "class": null,
    "method": "test_guess_lexer",
    "name": "test_guess_lexer",
    "content": "def test_guess_lexer():\n    assert Traceback._guess_lexer(\"foo.py\", \"code\") == \"python\"",
    "start_line": 250
  },
  {
    "file": "test_traceback.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "code_python = \"#! usr/bin/env python\\nimport this\"\n    assert Traceback._guess_lexer(\"foo\", code_python) == \"python\"\n    assert Traceback._guess_lexer(\"foo\", \"foo\\nbnar\") == \"text\"",
    "start_line": 252
  },
  {
    "file": "test_traceback.py",
    "type": "function",
    "class": null,
    "method": "test_guess_lexer_yaml_j2",
    "name": "test_guess_lexer_yaml_j2",
    "content": "def test_guess_lexer_yaml_j2():",
    "start_line": 257
  },
  {
    "file": "test_traceback.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# https://github.com/Textualize/rich/issues/2018",
    "start_line": 258
  },
  {
    "file": "test_traceback.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "code = \"\"\"\\\nfoobar:\n    something: {{ raiser() }}\n    else: {{ 5 + 5 }}\n    \"\"\"\n    assert Traceback._guess_lexer(\"test.yaml.j2\", code) in (\"text\", \"YAML+Jinja\")",
    "start_line": 259
  },
  {
    "file": "test_traceback.py",
    "type": "function",
    "class": null,
    "method": "test_recursive",
    "name": "test_recursive",
    "content": "def test_recursive():",
    "start_line": 267
  },
  {
    "file": "test_traceback.py",
    "type": "function",
    "class": null,
    "method": "foo",
    "name": "foo",
    "content": "def foo(n):\n        return bar(n)",
    "start_line": 268
  },
  {
    "file": "test_traceback.py",
    "type": "function",
    "class": null,
    "method": "bar",
    "name": "bar",
    "content": "def bar(n):\n        return foo(n)",
    "start_line": 271
  },
  {
    "file": "test_traceback.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(width=100, file=io.StringIO())\n    try:\n        foo(1)\n    except Exception:\n        console.print_exception(max_frames=6)\n    result = console.file.getvalue()\n    print(result)\n    assert \"frames hidden\" in result\n    assert result.count(\"in foo\") < 4",
    "start_line": 274
  },
  {
    "file": "test_traceback.py",
    "type": "function",
    "class": null,
    "method": "test_suppress",
    "name": "test_suppress",
    "content": "def test_suppress():\n    try:\n        1 / 0\n    except Exception:",
    "start_line": 285
  },
  {
    "file": "test_traceback.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "traceback = Traceback(suppress=[pytest, \"foo\"])\n        assert len(traceback.suppress) == 2\n        assert \"pytest\" in traceback.suppress[0]\n        assert \"foo\" in traceback.suppress[1]\n@pytest.mark.parametrize(\n    \"rich_traceback_omit_for_level2,expected_frames_length,expected_frame_names\",\n    (",
    "start_line": 289
  },
  {
    "file": "test_traceback.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# fmt: off\n        [True, 3, [\"test_rich_traceback_omit_optional_local_flag\", \"level1\", \"level3\"]],\n        [False, 4, [\"test_rich_traceback_omit_optional_local_flag\", \"level1\", \"level2\", \"level3\"]],\n        # fmt: on\n    ),\n)",
    "start_line": 298
  },
  {
    "file": "test_traceback.py",
    "type": "function",
    "class": null,
    "method": "test_rich_traceback_omit_optional_local_flag",
    "name": "test_rich_traceback_omit_optional_local_flag",
    "content": "def test_rich_traceback_omit_optional_local_flag(\n    rich_traceback_omit_for_level2: bool,\n    expected_frames_length: int,\n    expected_frame_names: List[str],\n):",
    "start_line": 304
  },
  {
    "file": "test_traceback.py",
    "type": "function",
    "class": null,
    "method": "level1",
    "name": "level1",
    "content": "def level1():\n        return level2()",
    "start_line": 309
  },
  {
    "file": "test_traceback.py",
    "type": "function",
    "class": null,
    "method": "level2",
    "name": "level2",
    "content": "def level2():",
    "start_line": 312
  },
  {
    "file": "test_traceback.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# true-ish values are enough to trigger the opt-out:",
    "start_line": 313
  },
  {
    "file": "test_traceback.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "_rich_traceback_omit = 1 if rich_traceback_omit_for_level2 else 0\n        return level3()",
    "start_line": 314
  },
  {
    "file": "test_traceback.py",
    "type": "function",
    "class": null,
    "method": "level3",
    "name": "level3",
    "content": "def level3():\n        return 1 / 0\n\n    try:\n        level1()\n    except Exception:\n        exc_type, exc_value, traceback = sys.exc_info()",
    "start_line": 317
  },
  {
    "file": "test_traceback.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "trace = Traceback.from_exception(exc_type, exc_value, traceback).trace\n        frames = trace.stacks[0].frames\n        assert len(frames) == expected_frames_length\n        frame_names = [f.name for f in frames]\n        assert frame_names == expected_frame_names\n@pytest.mark.skipif(\n    sys.version_info.minor >= 11, reason=\"Not applicable after Python 3.11\"\n)",
    "start_line": 324
  },
  {
    "file": "test_traceback.py",
    "type": "function",
    "class": null,
    "method": "test_traceback_finely_grained_missing",
    "name": "test_traceback_finely_grained_missing",
    "content": "def test_traceback_finely_grained_missing() -> None:\n    \"\"\"Before 3.11, the last_instruction should be None\"\"\"\n    try:\n        1 / 0\n    except:",
    "start_line": 334
  },
  {
    "file": "test_traceback.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "traceback = Traceback()\n        last_instruction = traceback.trace.stacks[-1].frames[-1].last_instruction\n        assert last_instruction is None\n@pytest.mark.skipif(\n    sys.version_info.minor < 11, reason=\"Not applicable before Python 3.11\"\n)",
    "start_line": 339
  },
  {
    "file": "test_traceback.py",
    "type": "function",
    "class": null,
    "method": "test_traceback_finely_grained",
    "name": "test_traceback_finely_grained",
    "content": "def test_traceback_finely_grained() -> None:\n    \"\"\"Check that last instruction is populated.\"\"\"\n    try:\n        1 / 0\n    except:",
    "start_line": 347
  },
  {
    "file": "test_traceback.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "traceback = Traceback()\n        last_instruction = traceback.trace.stacks[-1].frames[-1].last_instruction\n        assert last_instruction is not None\n        assert isinstance(last_instruction, tuple)\n        assert len(last_instruction) == 2\n        start, end = last_instruction\n        print(start, end)\n        assert start[0] == end[0]\n@pytest.mark.skipif(\n    sys.version_info.minor < 11, reason=\"Not supported before Python 3.11\"\n)",
    "start_line": 352
  },
  {
    "file": "test_traceback.py",
    "type": "function",
    "class": null,
    "method": "test_notes",
    "name": "test_notes",
    "content": "def test_notes() -> None:\n    \"\"\"Check traceback captures __note__.\"\"\"\n    try:\n        1 / 0\n    except Exception as error:\n        error.add_note(\"Hello\")\n        error.add_note(\"World\")",
    "start_line": 365
  },
  {
    "file": "test_traceback.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "traceback = Traceback()\n        assert traceback.trace.stacks[0].notes == [\"Hello\", \"World\"]",
    "start_line": 372
  },
  {
    "file": "test_traceback.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "import io\nimport re\nimport sys\nfrom typing import List\n\nimport pytest\n\nfrom rich.console import Console\nfrom rich.theme import Theme\nfrom rich.traceback import Traceback, install\n\n\ndef test_handler():\n    console = Console(file=io.StringIO(), width=100, color_system=None)\n    expected_old_handler = sys.excepthook\n\n    def level1():\n        level2()\n\n    def level2():\n        return 1 / 0\n\n    try:\n        old_handler = install(console=console)\n        try:\n            level1()\n        except Exception:\n            exc_type, exc_value, traceback = sys.exc_info()\n            sys.excepthook(exc_type, exc_value, traceback)\n            rendered_exception = console.file.getvalue()\n            print(repr(rendered_exception))\n            assert \"Traceback\" in rendered_exception\n            assert \"ZeroDivisionError\" in rendered_exception\n\n            frame_blank_line_possible_preambles = (\n                # Start of the stack rendering:\n                \" Traceback (most recent call last) \",\n                # Each subsequent frame (starting with the file name) should then be preceded with a blank line:\n                \"\" + (\" \" * 98) + \"\",\n            )\n            for frame_start in re.finditer(\n                \"^ .+rich/tests/test_traceback.py:\",\n                rendered_exception,\n                flags=re.MULTILINE,\n            ):\n                frame_start_index = frame_start.start()\n                for preamble in frame_blank_line_possible_preambles:\n                    preamble_start, preamble_end = (\n                        frame_start_index - len(preamble) - 1,\n                        frame_start_index - 1,\n                    )\n                    if rendered_exception[preamble_start:preamble_end] == preamble:\n                        break\n                else:\n                    pytest.fail(\n                        f\"Frame {frame_start[0]} doesn't have the expected preamble\"\n                    )\n    finally:\n        sys.excepthook = old_handler\n        assert old_handler == expected_old_handler\n\n\ndef test_capture():\n    try:\n        1 / 0\n    except Exception:\n        tb = Traceback()\n        assert tb.trace.stacks[0].exc_type == \"ZeroDivisionError\"\n\n\ndef test_no_exception():\n    with pytest.raises(ValueError):\n        tb = Traceback()\n\n\ndef get_exception() -> Traceback:\n    def bar(a):\n        print(1 / a)\n\n    def foo(a):\n        bar(a)\n\n    try:\n        try:\n            foo(0)\n        except:\n            foobarbaz\n    except:\n        tb = Traceback()\n        return tb\n\n\ndef test_print_exception():\n    console = Console(width=100, file=io.StringIO())\n    try:\n        1 / 0\n    except Exception:\n        console.print_exception()\n    exception_text = console.file.getvalue()\n    assert \"ZeroDivisionError\" in exception_text\n\n\ndef test_print_exception_no_msg():\n    console = Console(width=100, file=io.StringIO())\n    try:\n        raise RuntimeError\n    except Exception:\n        console.print_exception()\n    exception_text = console.file.getvalue()\n    assert \"RuntimeError\" in exception_text\n    assert \"RuntimeError:\" not in exception_text\n\n\ndef test_print_exception_locals():\n    console = Console(width=100, file=io.StringIO())\n    try:\n        1 / 0\n    except Exception:\n        console.print_exception(show_locals=True)\n    exception_text = console.file.getvalue()\n    print(exception_text)\n    assert \"ZeroDivisionError\" in exception_text\n    assert \"locals\" in exception_text\n    assert \"console = <console width=100 None>\" in exception_text\n\n\ndef test_syntax_error():\n    console = Console(width=100, file=io.StringIO())\n    try:\n        # raises SyntaxError: unexpected EOF while parsing\n        eval(\"(2+2\")\n    except SyntaxError:\n        console.print_exception()\n    exception_text = console.file.getvalue()\n    assert \"SyntaxError\" in exception_text\n\n\ndef test_nested_exception():\n    console = Console(width=100, file=io.StringIO())\n    value_error_message = \"ValueError because of ZeroDivisionError\"\n\n    try:\n        try:\n            1 / 0\n        except ZeroDivisionError:\n            raise ValueError(value_error_message)\n    except Exception:\n        console.print_exception()\n    exception_text = console.file.getvalue()\n\n    text_should_contain = [\n        value_error_message,\n        \"ZeroDivisionError\",\n        \"ValueError\",\n        \"During handling of the above exception\",\n    ]\n\n    for msg in text_should_contain:\n        assert msg in exception_text\n\n    # ZeroDivisionError should come before ValueError\n    assert exception_text.find(\"ZeroDivisionError\") < exception_text.find(\"ValueError\")\n\n\ndef test_caused_exception():\n    console = Console(width=100, file=io.StringIO())\n    value_error_message = \"ValueError caused by ZeroDivisionError\"\n\n    try:\n        try:\n            1 / 0\n        except ZeroDivisionError as e:\n            raise ValueError(value_error_message) from e\n    except Exception:\n        console.print_exception()\n    exception_text = console.file.getvalue()\n\n    text_should_contain = [\n        value_error_message,\n        \"ZeroDivisionError\",\n        \"ValueError\",\n        \"The above exception was the direct cause\",\n    ]\n\n    for msg in text_should_contain:\n        assert msg in exception_text\n\n    # ZeroDivisionError should come before ValueError\n    assert exception_text.find(\"ZeroDivisionError\") < exception_text.find(\"ValueError\")\n\n\ndef test_filename_with_bracket():\n    console = Console(width=100, file=io.StringIO())\n    try:\n        exec(compile(\"1/0\", filename=\"<string>\", mode=\"exec\"))\n    except Exception:\n        console.print_exception()\n    exception_text = console.file.getvalue()\n    assert \"<string>\" in exception_text\n\n\ndef test_filename_not_a_file():\n    console = Console(width=100, file=io.StringIO())\n    try:\n        exec(compile(\"1/0\", filename=\"string\", mode=\"exec\"))\n    except Exception:\n        console.print_exception()\n    exception_text = console.file.getvalue()\n    assert \"string\" in exception_text\n\n\n@pytest.mark.skipif(sys.platform == \"win32\", reason=\"renders different on windows\")\ndef test_traceback_console_theme_applies():\n    \"\"\"\n    Ensure that themes supplied via Console init work on Tracebacks.\n    Regression test for https://github.com/Textualize/rich/issues/1786\n    \"\"\"\n    r, g, b = 123, 234, 123\n    console = Console(\n        force_terminal=True,\n        _environ={\"COLORTERM\": \"truecolor\"},\n        theme=Theme({\"traceback.title\": f\"rgb({r},{g},{b})\"}),\n    )\n\n    console.begin_capture()\n    try:\n        1 / 0\n    except Exception:\n        console.print_exception()\n\n    result = console.end_capture()\n\n    assert f\"\\\\x1b[38;2;{r};{g};{b}mTraceback \\\\x1b[0m\" in repr(result)\n\n\ndef test_broken_str():\n    class BrokenStr(Exception):\n        def __str__(self):\n            1 / 0\n\n    console = Console(width=100, file=io.StringIO())\n    try:\n        raise BrokenStr()\n    except Exception:\n        console.print_exception()\n    result = console.file.getvalue()\n    print(result)\n    assert \"<exception str() failed>\" in result\n\n\ndef test_guess_lexer():\n    assert Traceback._guess_lexer(\"foo.py\", \"code\") == \"python\"\n    code_python = \"#! usr/bin/env python\\nimport this\"\n    assert Traceback._guess_lexer(\"foo\", code_python) == \"python\"\n    assert Traceback._guess_lexer(\"foo\", \"foo\\nbnar\") == \"text\"\n\n\ndef test_guess_lexer_yaml_j2():\n    # https://github.com/Textualize/rich/issues/2018\n    code = \"\"\"\\\nfoobar:\n    something: {{ raiser() }}\n    else: {{ 5 + 5 }}\n    \"\"\"\n    assert Traceback._guess_lexer(\"test.yaml.j2\", code) in (\"text\", \"YAML+Jinja\")\n\n\ndef test_recursive():\n    def foo(n):\n        return bar(n)\n\n    def bar(n):\n        return foo(n)\n\n    console = Console(width=100, file=io.StringIO())\n    try:\n        foo(1)\n    except Exception:\n        console.print_exception(max_frames=6)\n    result = console.file.getvalue()\n    print(result)\n    assert \"frames hidden\" in result\n    assert result.count(\"in foo\") < 4\n\n\ndef test_suppress():\n    try:\n        1 / 0\n    except Exception:\n        traceback = Traceback(suppress=[pytest, \"foo\"])\n        assert len(traceback.suppress) == 2\n        assert \"pytest\" in traceback.suppress[0]\n        assert \"foo\" in traceback.suppress[1]\n\n\n@pytest.mark.parametrize(\n    \"rich_traceback_omit_for_level2,expected_frames_length,expected_frame_names\",\n    (\n        # fmt: off\n        [True, 3, [\"test_rich_traceback_omit_optional_local_flag\", \"level1\", \"level3\"]],\n        [False, 4, [\"test_rich_traceback_omit_optional_local_flag\", \"level1\", \"level2\", \"level3\"]],\n        # fmt: on\n    ),\n)\ndef test_rich_traceback_omit_optional_local_flag(\n    rich_traceback_omit_for_level2: bool,\n    expected_frames_length: int,\n    expected_frame_names: List[str],\n):\n    def level1():\n        return level2()\n\n    def level2():\n        # true-ish values are enough to trigger the opt-out:\n        _rich_traceback_omit = 1 if rich_traceback_omit_for_level2 else 0\n        return level3()\n\n    def level3():\n        return 1 / 0\n\n    try:\n        level1()\n    except Exception:\n        exc_type, exc_value, traceback = sys.exc_info()\n        trace = Traceback.from_exception(exc_type, exc_value, traceback).trace\n        frames = trace.stacks[0].frames\n        assert len(frames) == expected_frames_length\n        frame_names = [f.name for f in frames]\n        assert frame_names == expected_frame_names\n\n\n@pytest.mark.skipif(\n    sys.version_info.minor >= 11, reason=\"Not applicable after Python 3.11\"\n)\ndef test_traceback_finely_grained_missing() -> None:\n    \"\"\"Before 3.11, the last_instruction should be None\"\"\"\n    try:\n        1 / 0\n    except:\n        traceback = Traceback()\n        last_instruction = traceback.trace.stacks[-1].frames[-1].last_instruction\n        assert last_instruction is None\n\n\n@pytest.mark.skipif(\n    sys.version_info.minor < 11, reason=\"Not applicable before Python 3.11\"\n)\ndef test_traceback_finely_grained() -> None:\n    \"\"\"Check that last instruction is populated.\"\"\"\n    try:\n        1 / 0\n    except:\n        traceback = Traceback()\n        last_instruction = traceback.trace.stacks[-1].frames[-1].last_instruction\n        assert last_instruction is not None\n        assert isinstance(last_instruction, tuple)\n        assert len(last_instruction) == 2\n        start, end = last_instruction\n        print(start, end)\n        assert start[0] == end[0]\n\n\n@pytest.mark.skipif(\n    sys.version_info.minor < 11, reason=\"Not supported before Python 3.11\"\n)\ndef test_notes() -> None:\n    \"\"\"Check traceback captures __note__.\"\"\"\n    try:\n        1 / 0\n    except Exception as error:\n        error.add_note(\"Hello\")\n        error.add_note(\"World\")\n        traceback = Traceback()\n\n        assert traceback.trace.stacks[0].notes == [\"Hello\", \"World\"]\n",
    "start_line": 0
  },
  {
    "file": "test_block_bar.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from rich.bar import Bar\nfrom rich.console import Console\nfrom .render import render",
    "start_line": 0
  },
  {
    "file": "test_block_bar.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "expected = [\n    \"\\x1b[39;49m                        \\x1b[0m\\n\",\n    \"\\x1b[39;49m                           \\x1b[0m\\n\",\n    \"\\x1b[39;49m                                                  \\x1b[0m\\n\",\n]",
    "start_line": 6
  },
  {
    "file": "test_block_bar.py",
    "type": "function",
    "class": null,
    "method": "test_repr",
    "name": "test_repr",
    "content": "def test_repr():",
    "start_line": 13
  },
  {
    "file": "test_block_bar.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "bar = Bar(size=100, begin=11, end=62, width=50)\n    assert repr(bar) == \"Bar(100, 11, 62)\"",
    "start_line": 14
  },
  {
    "file": "test_block_bar.py",
    "type": "function",
    "class": null,
    "method": "test_render",
    "name": "test_render",
    "content": "def test_render():",
    "start_line": 18
  },
  {
    "file": "test_block_bar.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "bar = Bar(size=100, begin=11, end=62, width=50)\n    bar_render = render(bar)\n    assert bar_render == expected[0]\n    bar = Bar(size=100, begin=12, end=57, width=50)\n    bar_render = render(bar)\n    assert bar_render == expected[1]",
    "start_line": 19
  },
  {
    "file": "test_block_bar.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# begin after end",
    "start_line": 25
  },
  {
    "file": "test_block_bar.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "bar = Bar(size=100, begin=60, end=40, width=50)\n    bar_render = render(bar)\n    assert bar_render == expected[2]",
    "start_line": 26
  },
  {
    "file": "test_block_bar.py",
    "type": "function",
    "class": null,
    "method": "test_measure",
    "name": "test_measure",
    "content": "def test_measure():",
    "start_line": 31
  },
  {
    "file": "test_block_bar.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(width=120)\n    bar = Bar(size=100, begin=11, end=62)\n    measurement = bar.__rich_measure__(console, console.options)\n    assert measurement.minimum == 4\n    assert measurement.maximum == 120",
    "start_line": 32
  },
  {
    "file": "test_block_bar.py",
    "type": "function",
    "class": null,
    "method": "test_zero_total",
    "name": "test_zero_total",
    "content": "def test_zero_total():",
    "start_line": 39
  },
  {
    "file": "test_block_bar.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# Shouldn't throw zero division error",
    "start_line": 40
  },
  {
    "file": "test_block_bar.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "bar = Bar(size=0, begin=0, end=0)\n    render(bar)\nif __name__ == \"__main__\":\n    bar = Bar(size=100, begin=11, end=62, width=50)\n    bar_render = render(bar)\n    print(repr(bar_render))\n    bar = Bar(size=100, begin=12, end=57, width=50)\n    bar_render = render(bar)\n    print(repr(bar_render))\n    bar = Bar(size=100, begin=60, end=40, width=50)\n    bar_render = render(bar)\n    print(repr(bar_render))",
    "start_line": 41
  },
  {
    "file": "test_block_bar.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "from rich.bar import Bar\nfrom rich.console import Console\n\nfrom .render import render\n\n\nexpected = [\n    \"\\x1b[39;49m                        \\x1b[0m\\n\",\n    \"\\x1b[39;49m                           \\x1b[0m\\n\",\n    \"\\x1b[39;49m                                                  \\x1b[0m\\n\",\n]\n\n\ndef test_repr():\n    bar = Bar(size=100, begin=11, end=62, width=50)\n    assert repr(bar) == \"Bar(100, 11, 62)\"\n\n\ndef test_render():\n    bar = Bar(size=100, begin=11, end=62, width=50)\n    bar_render = render(bar)\n    assert bar_render == expected[0]\n    bar = Bar(size=100, begin=12, end=57, width=50)\n    bar_render = render(bar)\n    assert bar_render == expected[1]\n    # begin after end\n    bar = Bar(size=100, begin=60, end=40, width=50)\n    bar_render = render(bar)\n    assert bar_render == expected[2]\n\n\ndef test_measure():\n    console = Console(width=120)\n    bar = Bar(size=100, begin=11, end=62)\n    measurement = bar.__rich_measure__(console, console.options)\n    assert measurement.minimum == 4\n    assert measurement.maximum == 120\n\n\ndef test_zero_total():\n    # Shouldn't throw zero division error\n    bar = Bar(size=0, begin=0, end=0)\n    render(bar)\n\n\nif __name__ == \"__main__\":\n    bar = Bar(size=100, begin=11, end=62, width=50)\n    bar_render = render(bar)\n    print(repr(bar_render))\n    bar = Bar(size=100, begin=12, end=57, width=50)\n    bar_render = render(bar)\n    print(repr(bar_render))\n    bar = Bar(size=100, begin=60, end=40, width=50)\n    bar_render = render(bar)\n    print(repr(bar_render))\n",
    "start_line": 0
  },
  {
    "file": "test_spinner.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "import pytest\nfrom rich.console import Console\nfrom rich.measure import Measurement\nfrom rich.rule import Rule\nfrom rich.spinner import Spinner\nfrom rich.text import Text",
    "start_line": 0
  },
  {
    "file": "test_spinner.py",
    "type": "function",
    "class": null,
    "method": "test_spinner_create",
    "name": "test_spinner_create",
    "content": "def test_spinner_create():\n    Spinner(\"dots\")\n    with pytest.raises(KeyError):\n        Spinner(\"foobar\")",
    "start_line": 9
  },
  {
    "file": "test_spinner.py",
    "type": "function",
    "class": null,
    "method": "test_spinner_render",
    "name": "test_spinner_render",
    "content": "def test_spinner_render():",
    "start_line": 15
  },
  {
    "file": "test_spinner.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "time = 0.0",
    "start_line": 16
  },
  {
    "file": "test_spinner.py",
    "type": "function",
    "class": null,
    "method": "get_time",
    "name": "get_time",
    "content": "def get_time():\n        nonlocal time\n        return time",
    "start_line": 18
  },
  {
    "file": "test_spinner.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(\n        width=80, color_system=None, force_terminal=True, get_time=get_time\n    )\n    console.begin_capture()\n    spinner = Spinner(\"dots\", \"Foo\")\n    console.print(spinner)\n    time += 80 / 1000\n    console.print(spinner)\n    result = console.end_capture()\n    print(repr(result))\n    expected = \" Foo\\n Foo\\n\"\n    assert result == expected",
    "start_line": 22
  },
  {
    "file": "test_spinner.py",
    "type": "function",
    "class": null,
    "method": "test_spinner_update",
    "name": "test_spinner_update",
    "content": "def test_spinner_update():",
    "start_line": 36
  },
  {
    "file": "test_spinner.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "time = 0.0",
    "start_line": 37
  },
  {
    "file": "test_spinner.py",
    "type": "function",
    "class": null,
    "method": "get_time",
    "name": "get_time",
    "content": "def get_time():\n        nonlocal time\n        return time",
    "start_line": 39
  },
  {
    "file": "test_spinner.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(width=20, force_terminal=True, get_time=get_time, _environ={})\n    console.begin_capture()\n    spinner = Spinner(\"dots\")\n    console.print(spinner)\n    rule = Rule(\"Bar\")\n    spinner.update(text=rule)\n    time += 80 / 1000\n    console.print(spinner)\n    result = console.end_capture()\n    print(repr(result))\n    expected = \"\\n \\x1b[92m\\x1b[0m\\n\"\n    assert result == expected",
    "start_line": 43
  },
  {
    "file": "test_spinner.py",
    "type": "function",
    "class": null,
    "method": "test_rich_measure",
    "name": "test_rich_measure",
    "content": "def test_rich_measure():",
    "start_line": 60
  },
  {
    "file": "test_spinner.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(width=80, color_system=None, force_terminal=True)\n    spinner = Spinner(\"dots\", \"Foo\")\n    min_width, max_width = Measurement.get(console, console.options, spinner)\n    assert min_width == 3\n    assert max_width == 5",
    "start_line": 61
  },
  {
    "file": "test_spinner.py",
    "type": "function",
    "class": null,
    "method": "test_spinner_markup",
    "name": "test_spinner_markup",
    "content": "def test_spinner_markup():",
    "start_line": 68
  },
  {
    "file": "test_spinner.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "spinner = Spinner(\"dots\", \"[bold]spinning[/bold]\")\n    assert isinstance(spinner.text, Text)\n    assert str(spinner.text) == \"spinning\"",
    "start_line": 69
  },
  {
    "file": "test_spinner.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "import pytest\n\nfrom rich.console import Console\nfrom rich.measure import Measurement\nfrom rich.rule import Rule\nfrom rich.spinner import Spinner\nfrom rich.text import Text\n\n\ndef test_spinner_create():\n    Spinner(\"dots\")\n    with pytest.raises(KeyError):\n        Spinner(\"foobar\")\n\n\ndef test_spinner_render():\n    time = 0.0\n\n    def get_time():\n        nonlocal time\n        return time\n\n    console = Console(\n        width=80, color_system=None, force_terminal=True, get_time=get_time\n    )\n    console.begin_capture()\n    spinner = Spinner(\"dots\", \"Foo\")\n    console.print(spinner)\n    time += 80 / 1000\n    console.print(spinner)\n    result = console.end_capture()\n    print(repr(result))\n    expected = \" Foo\\n Foo\\n\"\n    assert result == expected\n\n\ndef test_spinner_update():\n    time = 0.0\n\n    def get_time():\n        nonlocal time\n        return time\n\n    console = Console(width=20, force_terminal=True, get_time=get_time, _environ={})\n    console.begin_capture()\n    spinner = Spinner(\"dots\")\n    console.print(spinner)\n\n    rule = Rule(\"Bar\")\n\n    spinner.update(text=rule)\n    time += 80 / 1000\n    console.print(spinner)\n\n    result = console.end_capture()\n    print(repr(result))\n    expected = \"\\n \\x1b[92m\\x1b[0m\\n\"\n    assert result == expected\n\n\ndef test_rich_measure():\n    console = Console(width=80, color_system=None, force_terminal=True)\n    spinner = Spinner(\"dots\", \"Foo\")\n    min_width, max_width = Measurement.get(console, console.options, spinner)\n    assert min_width == 3\n    assert max_width == 5\n\n\ndef test_spinner_markup():\n    spinner = Spinner(\"dots\", \"[bold]spinning[/bold]\")\n    assert isinstance(spinner.text, Text)\n    assert str(spinner.text) == \"spinning\"\n",
    "start_line": 0
  },
  {
    "file": "test_markup.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "import pytest\nfrom rich.console import Console\nfrom rich.errors import MarkupError\nfrom rich.markup import RE_TAGS, Tag, _parse, escape, render\nfrom rich.text import Span, Text",
    "start_line": 0
  },
  {
    "file": "test_markup.py",
    "type": "function",
    "class": null,
    "method": "test_re_no_match",
    "name": "test_re_no_match",
    "content": "def test_re_no_match():\n    assert RE_TAGS.match(\"[True]\") == None\n    assert RE_TAGS.match(\"[False]\") == None\n    assert RE_TAGS.match(\"[None]\") == None\n    assert RE_TAGS.match(\"[1]\") == None\n    assert RE_TAGS.match(\"[2]\") == None\n    assert RE_TAGS.match(\"[]\") == None",
    "start_line": 8
  },
  {
    "file": "test_markup.py",
    "type": "function",
    "class": null,
    "method": "test_re_match",
    "name": "test_re_match",
    "content": "def test_re_match():\n    assert RE_TAGS.match(\"[true]\")\n    assert RE_TAGS.match(\"[false]\")\n    assert RE_TAGS.match(\"[none]\")\n    assert RE_TAGS.match(\"[color(1)]\")\n    assert RE_TAGS.match(\"[#ff00ff]\")\n    assert RE_TAGS.match(\"[/]\")\n    assert RE_TAGS.match(\"[@]\")\n    assert RE_TAGS.match(\"[@foo]\")\n    assert RE_TAGS.match(\"[@foo=bar]\")",
    "start_line": 17
  },
  {
    "file": "test_markup.py",
    "type": "function",
    "class": null,
    "method": "test_escape",
    "name": "test_escape",
    "content": "def test_escape():",
    "start_line": 29
  },
  {
    "file": "test_markup.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# Potential tags\n    assert escape(\"foo[bar]\") == r\"foo\\[bar]\"\n    assert escape(r\"foo\\[bar]\") == r\"foo\\\\\\[bar]\"\n    # Not tags (escape not required)\n    assert escape(\"[5]\") == \"[5]\"\n    assert escape(\"\\\\[5]\") == \"\\\\[5]\"\n    # Test @ escape\n    assert escape(\"[@foo]\") == \"\\\\[@foo]\"\n    assert escape(\"[@]\") == \"\\\\[@]\"\n    # https://github.com/Textualize/rich/issues/2187\n    assert escape(\"[nil, [nil]]\") == r\"[nil, \\[nil]]\"",
    "start_line": 30
  },
  {
    "file": "test_markup.py",
    "type": "function",
    "class": null,
    "method": "test_escape_backslash_end",
    "name": "test_escape_backslash_end",
    "content": "def test_escape_backslash_end():",
    "start_line": 46
  },
  {
    "file": "test_markup.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# https://github.com/Textualize/rich/issues/2987",
    "start_line": 47
  },
  {
    "file": "test_markup.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "value = \"C:\\\\\"\n    assert escape(value) == \"C:\\\\\\\\\"\n    escaped_tags = f\"[red]{escape(value)}[/red]\"\n    assert escaped_tags == \"[red]C:\\\\\\\\[/red]\"\n    escaped_text = Text.from_markup(escaped_tags)\n    assert escaped_text.plain == \"C:\\\\\"\n    assert escaped_text.spans == [Span(0, 3, \"red\")]",
    "start_line": 48
  },
  {
    "file": "test_markup.py",
    "type": "function",
    "class": null,
    "method": "test_render_escape",
    "name": "test_render_escape",
    "content": "def test_render_escape():",
    "start_line": 58
  },
  {
    "file": "test_markup.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(width=80, color_system=None)\n    console.begin_capture()\n    console.print(\n        escape(r\"[red]\"), escape(r\"\\[red]\"), escape(r\"\\\\[red]\"), escape(r\"\\\\\\[red]\")\n    )\n    result = console.end_capture()\n    expected = r\"[red] \\[red] \\\\[red] \\\\\\[red]\" + \"\\n\"\n    assert result == expected",
    "start_line": 59
  },
  {
    "file": "test_markup.py",
    "type": "function",
    "class": null,
    "method": "test_parse",
    "name": "test_parse",
    "content": "def test_parse():",
    "start_line": 69
  },
  {
    "file": "test_markup.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "result = list(_parse(r\"[foo]hello[/foo][bar]world[/]\\[escaped]\"))\n    expected = [\n        (0, None, Tag(name=\"foo\", parameters=None)),\n        (10, \"hello\", None),\n        (10, None, Tag(name=\"/foo\", parameters=None)),\n        (16, None, Tag(name=\"bar\", parameters=None)),\n        (26, \"world\", None),\n        (26, None, Tag(name=\"/\", parameters=None)),\n        (29, \"[escaped]\", None),\n    ]\n    print(repr(result))\n    assert result == expected",
    "start_line": 70
  },
  {
    "file": "test_markup.py",
    "type": "function",
    "class": null,
    "method": "test_parse_link",
    "name": "test_parse_link",
    "content": "def test_parse_link():",
    "start_line": 84
  },
  {
    "file": "test_markup.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "result = list(_parse(\"[link=foo]bar[/link]\"))\n    expected = [\n        (0, None, Tag(name=\"link\", parameters=\"foo\")),\n        (13, \"bar\", None),\n        (13, None, Tag(name=\"/link\", parameters=None)),\n    ]\n    assert result == expected",
    "start_line": 85
  },
  {
    "file": "test_markup.py",
    "type": "function",
    "class": null,
    "method": "test_render",
    "name": "test_render",
    "content": "def test_render():",
    "start_line": 94
  },
  {
    "file": "test_markup.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "result = render(\"[bold]FOO[/bold]\")\n    assert str(result) == \"FOO\"\n    assert result.spans == [Span(0, 3, \"bold\")]",
    "start_line": 95
  },
  {
    "file": "test_markup.py",
    "type": "function",
    "class": null,
    "method": "test_render_not_tags",
    "name": "test_render_not_tags",
    "content": "def test_render_not_tags():",
    "start_line": 100
  },
  {
    "file": "test_markup.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "result = render('[[1], [1,2,3,4], [\"hello\"], [None], [False], [True]] []')\n    assert str(result) == '[[1], [1,2,3,4], [\"hello\"], [None], [False], [True]] []'\n    assert result.spans == []",
    "start_line": 101
  },
  {
    "file": "test_markup.py",
    "type": "function",
    "class": null,
    "method": "test_render_link",
    "name": "test_render_link",
    "content": "def test_render_link():",
    "start_line": 106
  },
  {
    "file": "test_markup.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "result = render(\"[link=foo]FOO[/link]\")\n    assert str(result) == \"FOO\"\n    assert result.spans == [Span(0, 3, \"link foo\")]",
    "start_line": 107
  },
  {
    "file": "test_markup.py",
    "type": "function",
    "class": null,
    "method": "test_render_combine",
    "name": "test_render_combine",
    "content": "def test_render_combine():",
    "start_line": 112
  },
  {
    "file": "test_markup.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "result = render(\"[green]X[blue]Y[/blue]Z[/green]\")\n    assert str(result) == \"XYZ\"\n    assert result.spans == [\n        Span(0, 3, \"green\"),\n        Span(1, 2, \"blue\"),\n    ]",
    "start_line": 113
  },
  {
    "file": "test_markup.py",
    "type": "function",
    "class": null,
    "method": "test_render_overlap",
    "name": "test_render_overlap",
    "content": "def test_render_overlap():",
    "start_line": 121
  },
  {
    "file": "test_markup.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "result = render(\"[green]X[bold]Y[/green]Z[/bold]\")\n    assert str(result) == \"XYZ\"\n    assert result.spans == [\n        Span(0, 2, \"green\"),\n        Span(1, 3, \"bold\"),\n    ]",
    "start_line": 122
  },
  {
    "file": "test_markup.py",
    "type": "function",
    "class": null,
    "method": "test_adjoint",
    "name": "test_adjoint",
    "content": "def test_adjoint():",
    "start_line": 130
  },
  {
    "file": "test_markup.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "result = render(\"[red][blue]B[/blue]R[/red]\")\n    print(repr(result))\n    assert result.spans == [Span(0, 2, \"red\"), Span(0, 1, \"blue\")]",
    "start_line": 131
  },
  {
    "file": "test_markup.py",
    "type": "function",
    "class": null,
    "method": "test_render_close",
    "name": "test_render_close",
    "content": "def test_render_close():",
    "start_line": 136
  },
  {
    "file": "test_markup.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "result = render(\"[bold]X[/]Y\")\n    assert str(result) == \"XY\"\n    assert result.spans == [Span(0, 1, \"bold\")]",
    "start_line": 137
  },
  {
    "file": "test_markup.py",
    "type": "function",
    "class": null,
    "method": "test_render_close_ambiguous",
    "name": "test_render_close_ambiguous",
    "content": "def test_render_close_ambiguous():",
    "start_line": 142
  },
  {
    "file": "test_markup.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "result = render(\"[green]X[bold]Y[/]Z[/]\")\n    assert str(result) == \"XYZ\"\n    assert result.spans == [Span(0, 3, \"green\"), Span(1, 2, \"bold\")]",
    "start_line": 143
  },
  {
    "file": "test_markup.py",
    "type": "function",
    "class": null,
    "method": "test_markup_error",
    "name": "test_markup_error",
    "content": "def test_markup_error():\n    with pytest.raises(MarkupError):\n        assert render(\"foo[/]\")\n    with pytest.raises(MarkupError):\n        assert render(\"foo[/bar]\")\n    with pytest.raises(MarkupError):\n        assert render(\"[foo]hello[/bar]\")",
    "start_line": 148
  },
  {
    "file": "test_markup.py",
    "type": "function",
    "class": null,
    "method": "test_markup_escape",
    "name": "test_markup_escape",
    "content": "def test_markup_escape():",
    "start_line": 157
  },
  {
    "file": "test_markup.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "result = str(render(\"[dim white][url=[/]\"))\n    assert result == \"[url=\"",
    "start_line": 158
  },
  {
    "file": "test_markup.py",
    "type": "function",
    "class": null,
    "method": "test_escape_escape",
    "name": "test_escape_escape",
    "content": "def test_escape_escape():",
    "start_line": 162
  },
  {
    "file": "test_markup.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# Escaped escapes (i.e. double backslash)should be treated as literal",
    "start_line": 163
  },
  {
    "file": "test_markup.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "result = render(r\"\\\\[bold]FOO\")\n    assert str(result) == r\"\\FOO\"",
    "start_line": 164
  },
  {
    "file": "test_markup.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# Single backslash makes the tag literal",
    "start_line": 167
  },
  {
    "file": "test_markup.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "result = render(r\"\\[bold]FOO\")\n    assert str(result) == \"[bold]FOO\"",
    "start_line": 168
  },
  {
    "file": "test_markup.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# Double backslash produces a backslash",
    "start_line": 171
  },
  {
    "file": "test_markup.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "result = render(r\"\\\\[bold]some text[/]\")\n    assert str(result) == r\"\\some text\"",
    "start_line": 172
  },
  {
    "file": "test_markup.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# Triple backslash parsed as literal backslash plus escaped tag",
    "start_line": 175
  },
  {
    "file": "test_markup.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "result = render(r\"\\\\\\[bold]some text\\[/]\")\n    assert str(result) == r\"\\[bold]some text[/]\"",
    "start_line": 176
  },
  {
    "file": "test_markup.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# Backslash escaping only happens when preceding a tag",
    "start_line": 179
  },
  {
    "file": "test_markup.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "result = render(r\"\\\\\")\n    assert str(result) == r\"\\\\\"\n    result = render(r\"\\\\\\\\\")\n    assert str(result) == r\"\\\\\\\\\"",
    "start_line": 180
  },
  {
    "file": "test_markup.py",
    "type": "function",
    "class": null,
    "method": "test_events",
    "name": "test_events",
    "content": "def test_events():",
    "start_line": 187
  },
  {
    "file": "test_markup.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "result = render(\"[@click]Hello[/@click] [@click='view.toggle', 'left']World[/]\")\n    assert str(result) == \"Hello World\"",
    "start_line": 188
  },
  {
    "file": "test_markup.py",
    "type": "function",
    "class": null,
    "method": "test_events_broken",
    "name": "test_events_broken",
    "content": "def test_events_broken():\n    with pytest.raises(MarkupError):\n        render(\"[@click=sdfwer(sfs)]foo[/]\")\n\n    with pytest.raises(MarkupError):\n        render(\"[@click='view.toggle]foo[/]\")",
    "start_line": 192
  },
  {
    "file": "test_markup.py",
    "type": "function",
    "class": null,
    "method": "test_render_meta",
    "name": "test_render_meta",
    "content": "def test_render_meta():",
    "start_line": 200
  },
  {
    "file": "test_markup.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console()\n    text = render(\"foo[@click=close]bar[/]baz\")\n    assert text.get_style_at_offset(console, 3).meta == {\"@click\": (\"close\", ())}\n    text = render(\"foo[@click=close()]bar[/]baz\")\n    assert text.get_style_at_offset(console, 3).meta == {\"@click\": (\"close\", ())}\n    text = render(\"foo[@click=close('dialog')]bar[/]baz\")\n    assert text.get_style_at_offset(console, 3).meta == {\n        \"@click\": (\"close\", (\"dialog\",))\n    }\n    text = render(\"foo[@click=close('dialog', 3)]bar[/]baz\")\n    assert text.get_style_at_offset(console, 3).meta == {\n        \"@click\": (\"close\", (\"dialog\", 3))\n    }\n    text = render(\"foo[@click=(1, 2, 3)]bar[/]baz\")\n    assert text.get_style_at_offset(console, 3).meta == {\"@click\": (1, 2, 3)}",
    "start_line": 201
  },
  {
    "file": "test_markup.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "import pytest\n\nfrom rich.console import Console\nfrom rich.errors import MarkupError\nfrom rich.markup import RE_TAGS, Tag, _parse, escape, render\nfrom rich.text import Span, Text\n\n\ndef test_re_no_match():\n    assert RE_TAGS.match(\"[True]\") == None\n    assert RE_TAGS.match(\"[False]\") == None\n    assert RE_TAGS.match(\"[None]\") == None\n    assert RE_TAGS.match(\"[1]\") == None\n    assert RE_TAGS.match(\"[2]\") == None\n    assert RE_TAGS.match(\"[]\") == None\n\n\ndef test_re_match():\n    assert RE_TAGS.match(\"[true]\")\n    assert RE_TAGS.match(\"[false]\")\n    assert RE_TAGS.match(\"[none]\")\n    assert RE_TAGS.match(\"[color(1)]\")\n    assert RE_TAGS.match(\"[#ff00ff]\")\n    assert RE_TAGS.match(\"[/]\")\n    assert RE_TAGS.match(\"[@]\")\n    assert RE_TAGS.match(\"[@foo]\")\n    assert RE_TAGS.match(\"[@foo=bar]\")\n\n\ndef test_escape():\n    # Potential tags\n    assert escape(\"foo[bar]\") == r\"foo\\[bar]\"\n    assert escape(r\"foo\\[bar]\") == r\"foo\\\\\\[bar]\"\n\n    # Not tags (escape not required)\n    assert escape(\"[5]\") == \"[5]\"\n    assert escape(\"\\\\[5]\") == \"\\\\[5]\"\n\n    # Test @ escape\n    assert escape(\"[@foo]\") == \"\\\\[@foo]\"\n    assert escape(\"[@]\") == \"\\\\[@]\"\n\n    # https://github.com/Textualize/rich/issues/2187\n    assert escape(\"[nil, [nil]]\") == r\"[nil, \\[nil]]\"\n\n\ndef test_escape_backslash_end():\n    # https://github.com/Textualize/rich/issues/2987\n    value = \"C:\\\\\"\n    assert escape(value) == \"C:\\\\\\\\\"\n\n    escaped_tags = f\"[red]{escape(value)}[/red]\"\n    assert escaped_tags == \"[red]C:\\\\\\\\[/red]\"\n    escaped_text = Text.from_markup(escaped_tags)\n    assert escaped_text.plain == \"C:\\\\\"\n    assert escaped_text.spans == [Span(0, 3, \"red\")]\n\n\ndef test_render_escape():\n    console = Console(width=80, color_system=None)\n    console.begin_capture()\n    console.print(\n        escape(r\"[red]\"), escape(r\"\\[red]\"), escape(r\"\\\\[red]\"), escape(r\"\\\\\\[red]\")\n    )\n    result = console.end_capture()\n    expected = r\"[red] \\[red] \\\\[red] \\\\\\[red]\" + \"\\n\"\n    assert result == expected\n\n\ndef test_parse():\n    result = list(_parse(r\"[foo]hello[/foo][bar]world[/]\\[escaped]\"))\n    expected = [\n        (0, None, Tag(name=\"foo\", parameters=None)),\n        (10, \"hello\", None),\n        (10, None, Tag(name=\"/foo\", parameters=None)),\n        (16, None, Tag(name=\"bar\", parameters=None)),\n        (26, \"world\", None),\n        (26, None, Tag(name=\"/\", parameters=None)),\n        (29, \"[escaped]\", None),\n    ]\n    print(repr(result))\n    assert result == expected\n\n\ndef test_parse_link():\n    result = list(_parse(\"[link=foo]bar[/link]\"))\n    expected = [\n        (0, None, Tag(name=\"link\", parameters=\"foo\")),\n        (13, \"bar\", None),\n        (13, None, Tag(name=\"/link\", parameters=None)),\n    ]\n    assert result == expected\n\n\ndef test_render():\n    result = render(\"[bold]FOO[/bold]\")\n    assert str(result) == \"FOO\"\n    assert result.spans == [Span(0, 3, \"bold\")]\n\n\ndef test_render_not_tags():\n    result = render('[[1], [1,2,3,4], [\"hello\"], [None], [False], [True]] []')\n    assert str(result) == '[[1], [1,2,3,4], [\"hello\"], [None], [False], [True]] []'\n    assert result.spans == []\n\n\ndef test_render_link():\n    result = render(\"[link=foo]FOO[/link]\")\n    assert str(result) == \"FOO\"\n    assert result.spans == [Span(0, 3, \"link foo\")]\n\n\ndef test_render_combine():\n    result = render(\"[green]X[blue]Y[/blue]Z[/green]\")\n    assert str(result) == \"XYZ\"\n    assert result.spans == [\n        Span(0, 3, \"green\"),\n        Span(1, 2, \"blue\"),\n    ]\n\n\ndef test_render_overlap():\n    result = render(\"[green]X[bold]Y[/green]Z[/bold]\")\n    assert str(result) == \"XYZ\"\n    assert result.spans == [\n        Span(0, 2, \"green\"),\n        Span(1, 3, \"bold\"),\n    ]\n\n\ndef test_adjoint():\n    result = render(\"[red][blue]B[/blue]R[/red]\")\n    print(repr(result))\n    assert result.spans == [Span(0, 2, \"red\"), Span(0, 1, \"blue\")]\n\n\ndef test_render_close():\n    result = render(\"[bold]X[/]Y\")\n    assert str(result) == \"XY\"\n    assert result.spans == [Span(0, 1, \"bold\")]\n\n\ndef test_render_close_ambiguous():\n    result = render(\"[green]X[bold]Y[/]Z[/]\")\n    assert str(result) == \"XYZ\"\n    assert result.spans == [Span(0, 3, \"green\"), Span(1, 2, \"bold\")]\n\n\ndef test_markup_error():\n    with pytest.raises(MarkupError):\n        assert render(\"foo[/]\")\n    with pytest.raises(MarkupError):\n        assert render(\"foo[/bar]\")\n    with pytest.raises(MarkupError):\n        assert render(\"[foo]hello[/bar]\")\n\n\ndef test_markup_escape():\n    result = str(render(\"[dim white][url=[/]\"))\n    assert result == \"[url=\"\n\n\ndef test_escape_escape():\n    # Escaped escapes (i.e. double backslash)should be treated as literal\n    result = render(r\"\\\\[bold]FOO\")\n    assert str(result) == r\"\\FOO\"\n\n    # Single backslash makes the tag literal\n    result = render(r\"\\[bold]FOO\")\n    assert str(result) == \"[bold]FOO\"\n\n    # Double backslash produces a backslash\n    result = render(r\"\\\\[bold]some text[/]\")\n    assert str(result) == r\"\\some text\"\n\n    # Triple backslash parsed as literal backslash plus escaped tag\n    result = render(r\"\\\\\\[bold]some text\\[/]\")\n    assert str(result) == r\"\\[bold]some text[/]\"\n\n    # Backslash escaping only happens when preceding a tag\n    result = render(r\"\\\\\")\n    assert str(result) == r\"\\\\\"\n\n    result = render(r\"\\\\\\\\\")\n    assert str(result) == r\"\\\\\\\\\"\n\n\ndef test_events():\n    result = render(\"[@click]Hello[/@click] [@click='view.toggle', 'left']World[/]\")\n    assert str(result) == \"Hello World\"\n\n\ndef test_events_broken():\n    with pytest.raises(MarkupError):\n        render(\"[@click=sdfwer(sfs)]foo[/]\")\n\n    with pytest.raises(MarkupError):\n        render(\"[@click='view.toggle]foo[/]\")\n\n\ndef test_render_meta():\n    console = Console()\n    text = render(\"foo[@click=close]bar[/]baz\")\n    assert text.get_style_at_offset(console, 3).meta == {\"@click\": (\"close\", ())}\n\n    text = render(\"foo[@click=close()]bar[/]baz\")\n    assert text.get_style_at_offset(console, 3).meta == {\"@click\": (\"close\", ())}\n\n    text = render(\"foo[@click=close('dialog')]bar[/]baz\")\n    assert text.get_style_at_offset(console, 3).meta == {\n        \"@click\": (\"close\", (\"dialog\",))\n    }\n    text = render(\"foo[@click=close('dialog', 3)]bar[/]baz\")\n    assert text.get_style_at_offset(console, 3).meta == {\n        \"@click\": (\"close\", (\"dialog\", 3))\n    }\n\n    text = render(\"foo[@click=(1, 2, 3)]bar[/]baz\")\n    assert text.get_style_at_offset(console, 3).meta == {\"@click\": (1, 2, 3)}\n",
    "start_line": 0
  },
  {
    "file": "conf.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# Configuration file for the Sphinx documentation builder.\n#\n# This file only contains a selection of the most common options. For a full\n# list see the documentation:\n# https://www.sphinx-doc.org/en/master/usage/configuration.html\n# -- Path setup --------------------------------------------------------------\n# If extensions (or modules to document with autodoc) are in another directory,\n# add these directories to sys.path here. If the directory is relative to the\n# documentation root, use os.path.abspath to make it absolute, like shown here.\n#\n# import os\n# import sys\n# sys.path.insert(0, os.path.abspath('.'))\n# -- Project information -----------------------------------------------------",
    "start_line": 0
  },
  {
    "file": "conf.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "import sys\nimport sphinx_rtd_theme\nif sys.version_info >= (3, 8):\n    from importlib.metadata import Distribution\nelse:\n    from importlib_metadata import Distribution",
    "start_line": 19
  },
  {
    "file": "conf.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "html_theme = \"sphinx_rtd_theme\"\nhtml_theme_path = [sphinx_rtd_theme.get_html_theme_path()]\nproject = \"Rich\"\ncopyright = \"Will McGugan\"\nauthor = \"Will McGugan\"",
    "start_line": 28
  },
  {
    "file": "conf.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# The full version, including alpha/beta/rc tags",
    "start_line": 36
  },
  {
    "file": "conf.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "release = Distribution.from_name(\"rich\").version",
    "start_line": 37
  },
  {
    "file": "conf.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# -- General configuration ---------------------------------------------------\n# Add any Sphinx extension module names here, as strings. They can be\n# extensions coming with Sphinx (named 'sphinx.ext.*') or your custom\n# ones.",
    "start_line": 40
  },
  {
    "file": "conf.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "extensions = [\n    \"sphinx.ext.autodoc\",\n    \"sphinx.ext.viewcode\",\n    \"sphinx.ext.napoleon\",\n    \"sphinx.ext.intersphinx\",\n    \"sphinx.ext.autosectionlabel\",\n    \"sphinx_copybutton\",\n    \"sphinx_rtd_theme\",\n]",
    "start_line": 45
  },
  {
    "file": "conf.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# Add any paths that contain templates here, relative to this directory.",
    "start_line": 55
  },
  {
    "file": "conf.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "templates_path = [\"_templates\"]",
    "start_line": 56
  },
  {
    "file": "conf.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# List of patterns, relative to source directory, that match files and\n# directories to ignore when looking for source files.\n# This pattern also affects html_static_path and html_extra_path.",
    "start_line": 58
  },
  {
    "file": "conf.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "exclude_patterns = []",
    "start_line": 61
  },
  {
    "file": "conf.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# -- Options for HTML output -------------------------------------------------\n# The theme to use for HTML and HTML Help pages.  See the documentation for\n# a list of builtin themes.\n#\n# html_theme = \"alabaster\"\n# Add any paths that contain custom static files (such as style sheets) here,\n# relative to this directory. They are copied after the builtin static files,\n# so a file named \"default.css\" will overwrite the builtin \"default.css\".",
    "start_line": 64
  },
  {
    "file": "conf.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "html_static_path = [\"_static\"]\nintersphinx_mapping = {\"python\": (\"http://docs.python.org/3\", None)}\nautodoc_typehints = \"description\"\nhtml_css_files = [\n    \"https://cdnjs.cloudflare.com/ajax/libs/firacode/6.2.0/fira_code.min.css\"\n]",
    "start_line": 74
  },
  {
    "file": "conf.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "# Configuration file for the Sphinx documentation builder.\n#\n# This file only contains a selection of the most common options. For a full\n# list see the documentation:\n# https://www.sphinx-doc.org/en/master/usage/configuration.html\n\n# -- Path setup --------------------------------------------------------------\n\n# If extensions (or modules to document with autodoc) are in another directory,\n# add these directories to sys.path here. If the directory is relative to the\n# documentation root, use os.path.abspath to make it absolute, like shown here.\n#\n# import os\n# import sys\n# sys.path.insert(0, os.path.abspath('.'))\n\n\n# -- Project information -----------------------------------------------------\n\nimport sys\n\nimport sphinx_rtd_theme\n\nif sys.version_info >= (3, 8):\n    from importlib.metadata import Distribution\nelse:\n    from importlib_metadata import Distribution\n\nhtml_theme = \"sphinx_rtd_theme\"\n\nhtml_theme_path = [sphinx_rtd_theme.get_html_theme_path()]\n\nproject = \"Rich\"\ncopyright = \"Will McGugan\"\nauthor = \"Will McGugan\"\n\n# The full version, including alpha/beta/rc tags\nrelease = Distribution.from_name(\"rich\").version\n\n\n# -- General configuration ---------------------------------------------------\n\n# Add any Sphinx extension module names here, as strings. They can be\n# extensions coming with Sphinx (named 'sphinx.ext.*') or your custom\n# ones.\nextensions = [\n    \"sphinx.ext.autodoc\",\n    \"sphinx.ext.viewcode\",\n    \"sphinx.ext.napoleon\",\n    \"sphinx.ext.intersphinx\",\n    \"sphinx.ext.autosectionlabel\",\n    \"sphinx_copybutton\",\n    \"sphinx_rtd_theme\",\n]\n\n# Add any paths that contain templates here, relative to this directory.\ntemplates_path = [\"_templates\"]\n\n# List of patterns, relative to source directory, that match files and\n# directories to ignore when looking for source files.\n# This pattern also affects html_static_path and html_extra_path.\nexclude_patterns = []\n\n\n# -- Options for HTML output -------------------------------------------------\n\n# The theme to use for HTML and HTML Help pages.  See the documentation for\n# a list of builtin themes.\n#\n# html_theme = \"alabaster\"\n\n# Add any paths that contain custom static files (such as style sheets) here,\n# relative to this directory. They are copied after the builtin static files,\n# so a file named \"default.css\" will overwrite the builtin \"default.css\".\nhtml_static_path = [\"_static\"]\n\nintersphinx_mapping = {\"python\": (\"http://docs.python.org/3\", None)}\n\nautodoc_typehints = \"description\"\n\nhtml_css_files = [\n    \"https://cdnjs.cloudflare.com/ajax/libs/firacode/6.2.0/fira_code.min.css\"\n]\n",
    "start_line": 0
  },
  {
    "file": "dynamic_progress.py",
    "type": "module_docstring",
    "class": null,
    "method": null,
    "name": "module_docstring",
    "content": "\"\"\"\n\nDemonstrates how to create a dynamic group of progress bars,\nshowing multi-level progress for multiple tasks (installing apps in the example),\neach of which consisting of multiple steps.\n\n\"\"\"",
    "start_line": 0
  },
  {
    "file": "dynamic_progress.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "import time\nfrom rich.console import Group\nfrom rich.panel import Panel\nfrom rich.live import Live\nfrom rich.progress import (\n    BarColumn,\n    Progress,\n    SpinnerColumn,\n    TextColumn,\n    TimeElapsedColumn,\n)",
    "start_line": 8
  },
  {
    "file": "dynamic_progress.py",
    "type": "function",
    "class": null,
    "method": "run_steps",
    "name": "run_steps",
    "content": "def run_steps(name, step_times, app_steps_task_id):\n    \"\"\"Run steps for a single app, and update corresponding progress bars.\"\"\"\n\n    for idx, step_time in enumerate(step_times):",
    "start_line": 22
  },
  {
    "file": "dynamic_progress.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# add progress bar for this step (time elapsed + spinner)",
    "start_line": 26
  },
  {
    "file": "dynamic_progress.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "action = step_actions[idx]\n        step_task_id = step_progress.add_task(\"\", action=action, name=name)",
    "start_line": 27
  },
  {
    "file": "dynamic_progress.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# run steps, update progress\n        for _ in range(step_time):\n            time.sleep(0.5)\n            step_progress.update(step_task_id, advance=1)\n        # stop and hide progress bar for this step when done\n        step_progress.stop_task(step_task_id)\n        step_progress.update(step_task_id, visible=False)\n        # also update progress bar for current app when step is done\n        app_steps_progress.update(app_steps_task_id, advance=1)\n# progress bar for current app showing only elapsed time,\n# which will stay visible when app is installed",
    "start_line": 30
  },
  {
    "file": "dynamic_progress.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "current_app_progress = Progress(\n    TimeElapsedColumn(),\n    TextColumn(\"{task.description}\"),\n)",
    "start_line": 45
  },
  {
    "file": "dynamic_progress.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# progress bars for single app steps (will be hidden when step is done)",
    "start_line": 50
  },
  {
    "file": "dynamic_progress.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "step_progress = Progress(\n    TextColumn(\"  \"),\n    TimeElapsedColumn(),\n    TextColumn(\"[bold purple]{task.fields[action]}\"),\n    SpinnerColumn(\"simpleDots\"),\n)",
    "start_line": 51
  },
  {
    "file": "dynamic_progress.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# progress bar for current app (progress in steps)",
    "start_line": 57
  },
  {
    "file": "dynamic_progress.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "app_steps_progress = Progress(\n    TextColumn(\n        \"[bold blue]Progress for app {task.fields[name]}: {task.percentage:.0f}%\"\n    ),\n    BarColumn(),\n    TextColumn(\"({task.completed} of {task.total} steps done)\"),\n)",
    "start_line": 58
  },
  {
    "file": "dynamic_progress.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# overall progress bar",
    "start_line": 65
  },
  {
    "file": "dynamic_progress.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "overall_progress = Progress(\n    TimeElapsedColumn(), BarColumn(), TextColumn(\"{task.description}\")\n)",
    "start_line": 66
  },
  {
    "file": "dynamic_progress.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# group of progress bars;\n# some are always visible, others will disappear when progress is complete",
    "start_line": 69
  },
  {
    "file": "dynamic_progress.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "progress_group = Group(\n    Panel(Group(current_app_progress, step_progress, app_steps_progress)),\n    overall_progress,\n)",
    "start_line": 71
  },
  {
    "file": "dynamic_progress.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# tuple specifies how long each step takes for that app",
    "start_line": 76
  },
  {
    "file": "dynamic_progress.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "step_actions = (\"downloading\", \"configuring\", \"building\", \"installing\")\napps = [\n    (\"one\", (2, 1, 4, 2)),\n    (\"two\", (1, 3, 8, 4)),\n    (\"three\", (2, 1, 3, 2)),\n]",
    "start_line": 77
  },
  {
    "file": "dynamic_progress.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# create overall progress bar",
    "start_line": 84
  },
  {
    "file": "dynamic_progress.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "overall_task_id = overall_progress.add_task(\"\", total=len(apps))",
    "start_line": 85
  },
  {
    "file": "dynamic_progress.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# use own live instance as context manager with group of progress bars,\n# which allows for running multiple different progress bars in parallel,\n# and dynamically showing/hiding them\nwith Live(progress_group):\n    for idx, (name, step_times) in enumerate(apps):\n        # update message on overall progress bar",
    "start_line": 87
  },
  {
    "file": "dynamic_progress.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "top_descr = \"[bold #AAAAAA](%d out of %d apps installed)\" % (idx, len(apps))\n        overall_progress.update(overall_task_id, description=top_descr)",
    "start_line": 93
  },
  {
    "file": "dynamic_progress.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# add progress bar for steps of this app, and run the steps",
    "start_line": 96
  },
  {
    "file": "dynamic_progress.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "current_task_id = current_app_progress.add_task(\"Installing app %s\" % name)\n        app_steps_task_id = app_steps_progress.add_task(\n            \"\", total=len(step_times), name=name\n        )\n        run_steps(name, step_times, app_steps_task_id)",
    "start_line": 97
  },
  {
    "file": "dynamic_progress.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# stop and hide steps progress bar for this specific app\n        app_steps_progress.update(app_steps_task_id, visible=False)\n        current_app_progress.stop_task(current_task_id)\n        current_app_progress.update(\n            current_task_id, description=\"[bold green]App %s installed!\" % name\n        )\n        # increase overall progress now this task is done\n        overall_progress.update(overall_task_id, advance=1)\n    # final update for message on overall progress bar\n    overall_progress.update(\n        overall_task_id, description=\"[bold green]%s apps installed, done!\" % len(apps)\n    )",
    "start_line": 103
  },
  {
    "file": "dynamic_progress.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "\"\"\"\n\nDemonstrates how to create a dynamic group of progress bars,\nshowing multi-level progress for multiple tasks (installing apps in the example),\neach of which consisting of multiple steps.\n\n\"\"\"\n\nimport time\n\nfrom rich.console import Group\nfrom rich.panel import Panel\nfrom rich.live import Live\nfrom rich.progress import (\n    BarColumn,\n    Progress,\n    SpinnerColumn,\n    TextColumn,\n    TimeElapsedColumn,\n)\n\n\ndef run_steps(name, step_times, app_steps_task_id):\n    \"\"\"Run steps for a single app, and update corresponding progress bars.\"\"\"\n\n    for idx, step_time in enumerate(step_times):\n        # add progress bar for this step (time elapsed + spinner)\n        action = step_actions[idx]\n        step_task_id = step_progress.add_task(\"\", action=action, name=name)\n\n        # run steps, update progress\n        for _ in range(step_time):\n            time.sleep(0.5)\n            step_progress.update(step_task_id, advance=1)\n\n        # stop and hide progress bar for this step when done\n        step_progress.stop_task(step_task_id)\n        step_progress.update(step_task_id, visible=False)\n\n        # also update progress bar for current app when step is done\n        app_steps_progress.update(app_steps_task_id, advance=1)\n\n\n# progress bar for current app showing only elapsed time,\n# which will stay visible when app is installed\ncurrent_app_progress = Progress(\n    TimeElapsedColumn(),\n    TextColumn(\"{task.description}\"),\n)\n\n# progress bars for single app steps (will be hidden when step is done)\nstep_progress = Progress(\n    TextColumn(\"  \"),\n    TimeElapsedColumn(),\n    TextColumn(\"[bold purple]{task.fields[action]}\"),\n    SpinnerColumn(\"simpleDots\"),\n)\n# progress bar for current app (progress in steps)\napp_steps_progress = Progress(\n    TextColumn(\n        \"[bold blue]Progress for app {task.fields[name]}: {task.percentage:.0f}%\"\n    ),\n    BarColumn(),\n    TextColumn(\"({task.completed} of {task.total} steps done)\"),\n)\n# overall progress bar\noverall_progress = Progress(\n    TimeElapsedColumn(), BarColumn(), TextColumn(\"{task.description}\")\n)\n# group of progress bars;\n# some are always visible, others will disappear when progress is complete\nprogress_group = Group(\n    Panel(Group(current_app_progress, step_progress, app_steps_progress)),\n    overall_progress,\n)\n\n# tuple specifies how long each step takes for that app\nstep_actions = (\"downloading\", \"configuring\", \"building\", \"installing\")\napps = [\n    (\"one\", (2, 1, 4, 2)),\n    (\"two\", (1, 3, 8, 4)),\n    (\"three\", (2, 1, 3, 2)),\n]\n\n# create overall progress bar\noverall_task_id = overall_progress.add_task(\"\", total=len(apps))\n\n# use own live instance as context manager with group of progress bars,\n# which allows for running multiple different progress bars in parallel,\n# and dynamically showing/hiding them\nwith Live(progress_group):\n    for idx, (name, step_times) in enumerate(apps):\n        # update message on overall progress bar\n        top_descr = \"[bold #AAAAAA](%d out of %d apps installed)\" % (idx, len(apps))\n        overall_progress.update(overall_task_id, description=top_descr)\n\n        # add progress bar for steps of this app, and run the steps\n        current_task_id = current_app_progress.add_task(\"Installing app %s\" % name)\n        app_steps_task_id = app_steps_progress.add_task(\n            \"\", total=len(step_times), name=name\n        )\n        run_steps(name, step_times, app_steps_task_id)\n\n        # stop and hide steps progress bar for this specific app\n        app_steps_progress.update(app_steps_task_id, visible=False)\n        current_app_progress.stop_task(current_task_id)\n        current_app_progress.update(\n            current_task_id, description=\"[bold green]App %s installed!\" % name\n        )\n\n        # increase overall progress now this task is done\n        overall_progress.update(overall_task_id, advance=1)\n\n    # final update for message on overall progress bar\n    overall_progress.update(\n        overall_task_id, description=\"[bold green]%s apps installed, done!\" % len(apps)\n    )\n",
    "start_line": 0
  },
  {
    "file": "link.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from rich import print\nprint(\"If your terminal supports links, the following text should be clickable:\")\nprint(\"[link=https://www.willmcgugan.com][i]Visit [red]my[/red][/i] [yellow]Blog[/]\")",
    "start_line": 0
  },
  {
    "file": "link.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "from rich import print\n\nprint(\"If your terminal supports links, the following text should be clickable:\")\nprint(\"[link=https://www.willmcgugan.com][i]Visit [red]my[/red][/i] [yellow]Blog[/]\")\n",
    "start_line": 0
  },
  {
    "file": "screen.py",
    "type": "module_docstring",
    "class": null,
    "method": null,
    "name": "module_docstring",
    "content": "\"\"\"\nDemonstration of Console.screen() \n\"\"\"",
    "start_line": 0
  },
  {
    "file": "screen.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from time import sleep\nfrom rich.align import Align\nfrom rich.console import Console\nfrom rich.panel import Panel",
    "start_line": 4
  },
  {
    "file": "screen.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console()\nwith console.screen(style=\"bold white on red\") as screen:\n    text = Align.center(\"[blink]Don't Panic![/blink]\", vertical=\"middle\")\n    screen.update(Panel(text))\n    sleep(5)",
    "start_line": 10
  },
  {
    "file": "screen.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "\"\"\"\nDemonstration of Console.screen() \n\"\"\"\n\nfrom time import sleep\n\nfrom rich.align import Align\nfrom rich.console import Console\nfrom rich.panel import Panel\n\nconsole = Console()\n\nwith console.screen(style=\"bold white on red\") as screen:\n    text = Align.center(\"[blink]Don't Panic![/blink]\", vertical=\"middle\")\n    screen.update(Panel(text))\n    sleep(5)\n",
    "start_line": 0
  },
  {
    "file": "file_progress.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from time import sleep\nfrom urllib.request import urlopen\nfrom rich.progress import wrap_file",
    "start_line": 0
  },
  {
    "file": "file_progress.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# Read a URL with urlopen",
    "start_line": 5
  },
  {
    "file": "file_progress.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "response = urlopen(\"https://www.textualize.io\")",
    "start_line": 6
  },
  {
    "file": "file_progress.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# Get the size from the headers",
    "start_line": 7
  },
  {
    "file": "file_progress.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "size = int(response.headers[\"Content-Length\"])",
    "start_line": 8
  },
  {
    "file": "file_progress.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# Wrap the response so that it update progress\nwith wrap_file(response, size) as file:\n    for line in file:\n        print(line.decode(\"utf-8\"), end=\"\")\n        sleep(0.1)",
    "start_line": 10
  },
  {
    "file": "file_progress.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "from time import sleep\nfrom urllib.request import urlopen\n\nfrom rich.progress import wrap_file\n\n# Read a URL with urlopen\nresponse = urlopen(\"https://www.textualize.io\")\n# Get the size from the headers\nsize = int(response.headers[\"Content-Length\"])\n\n# Wrap the response so that it update progress\n\nwith wrap_file(response, size) as file:\n    for line in file:\n        print(line.decode(\"utf-8\"), end=\"\")\n        sleep(0.1)\n",
    "start_line": 0
  },
  {
    "file": "tree.py",
    "type": "module_docstring",
    "class": null,
    "method": null,
    "name": "module_docstring",
    "content": "\"\"\"\nDemonstrates how to display a tree of files / directories with the Tree renderable.\n\"\"\"",
    "start_line": 0
  },
  {
    "file": "tree.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "import os\nimport pathlib\nimport sys\nfrom rich import print\nfrom rich.filesize import decimal\nfrom rich.markup import escape\nfrom rich.text import Text\nfrom rich.tree import Tree",
    "start_line": 4
  },
  {
    "file": "tree.py",
    "type": "function",
    "class": null,
    "method": "walk_directory",
    "name": "walk_directory",
    "content": "def walk_directory(directory: pathlib.Path, tree: Tree) -> None:\n    \"\"\"Recursively build a Tree with directory contents.\"\"\"",
    "start_line": 15
  },
  {
    "file": "tree.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# Sort dirs first then by filename",
    "start_line": 17
  },
  {
    "file": "tree.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "paths = sorted(\n        pathlib.Path(directory).iterdir(),\n        key=lambda path: (path.is_file(), path.name.lower()),\n    )\n    for path in paths:",
    "start_line": 18
  },
  {
    "file": "tree.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# Remove hidden files\n        if path.name.startswith(\".\"):\n            continue\n        if path.is_dir():",
    "start_line": 23
  },
  {
    "file": "tree.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "style = \"dim\" if path.name.startswith(\"__\") else \"\"\n            branch = tree.add(\n                f\"[bold magenta]:open_file_folder: [link file://{path}]{escape(path.name)}\",\n                style=style,\n                guide_style=style,\n            )\n            walk_directory(path, branch)\n        else:\n            text_filename = Text(path.name, \"green\")\n            text_filename.highlight_regex(r\"\\..*$\", \"bold red\")\n            text_filename.stylize(f\"link file://{path}\")\n            file_size = path.stat().st_size\n            text_filename.append(f\" ({decimal(file_size)})\", \"blue\")\n            icon = \" \" if path.suffix == \".py\" else \" \"\n            tree.add(Text(icon) + text_filename)\ntry:\n    directory = os.path.abspath(sys.argv[1])\nexcept IndexError:\n    print(\"[b]Usage:[/] python tree.py <DIRECTORY>\")\nelse:\n    tree = Tree(\n        f\":open_file_folder: [link file://{directory}]{directory}\",\n        guide_style=\"bold bright_blue\",\n    )\n    walk_directory(pathlib.Path(directory), tree)\n    print(tree)",
    "start_line": 27
  },
  {
    "file": "tree.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "\"\"\"\nDemonstrates how to display a tree of files / directories with the Tree renderable.\n\"\"\"\n\nimport os\nimport pathlib\nimport sys\n\nfrom rich import print\nfrom rich.filesize import decimal\nfrom rich.markup import escape\nfrom rich.text import Text\nfrom rich.tree import Tree\n\n\ndef walk_directory(directory: pathlib.Path, tree: Tree) -> None:\n    \"\"\"Recursively build a Tree with directory contents.\"\"\"\n    # Sort dirs first then by filename\n    paths = sorted(\n        pathlib.Path(directory).iterdir(),\n        key=lambda path: (path.is_file(), path.name.lower()),\n    )\n    for path in paths:\n        # Remove hidden files\n        if path.name.startswith(\".\"):\n            continue\n        if path.is_dir():\n            style = \"dim\" if path.name.startswith(\"__\") else \"\"\n            branch = tree.add(\n                f\"[bold magenta]:open_file_folder: [link file://{path}]{escape(path.name)}\",\n                style=style,\n                guide_style=style,\n            )\n            walk_directory(path, branch)\n        else:\n            text_filename = Text(path.name, \"green\")\n            text_filename.highlight_regex(r\"\\..*$\", \"bold red\")\n            text_filename.stylize(f\"link file://{path}\")\n            file_size = path.stat().st_size\n            text_filename.append(f\" ({decimal(file_size)})\", \"blue\")\n            icon = \" \" if path.suffix == \".py\" else \" \"\n            tree.add(Text(icon) + text_filename)\n\n\ntry:\n    directory = os.path.abspath(sys.argv[1])\nexcept IndexError:\n    print(\"[b]Usage:[/] python tree.py <DIRECTORY>\")\nelse:\n    tree = Tree(\n        f\":open_file_folder: [link file://{directory}]{directory}\",\n        guide_style=\"bold bright_blue\",\n    )\n    walk_directory(pathlib.Path(directory), tree)\n    print(tree)\n",
    "start_line": 0
  },
  {
    "file": "exception.py",
    "type": "module_docstring",
    "class": null,
    "method": null,
    "name": "module_docstring",
    "content": "\"\"\"\nBasic example to show how to print an traceback of an exception\n\"\"\"",
    "start_line": 0
  },
  {
    "file": "exception.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from typing import List, Tuple\nfrom rich.console import Console",
    "start_line": 3
  },
  {
    "file": "exception.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console()",
    "start_line": 7
  },
  {
    "file": "exception.py",
    "type": "function",
    "class": null,
    "method": "divide_by",
    "name": "divide_by",
    "content": "def divide_by(number: float, divisor: float) -> float:\n    \"\"\"Divide any number by zero.\"\"\"",
    "start_line": 10
  },
  {
    "file": "exception.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# Will throw a ZeroDivisionError if divisor is 0",
    "start_line": 12
  },
  {
    "file": "exception.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "result = number / divisor\n    return result",
    "start_line": 13
  },
  {
    "file": "exception.py",
    "type": "function",
    "class": null,
    "method": "divide_all",
    "name": "divide_all",
    "content": "def divide_all(divides: List[Tuple[float, float]]) -> None:\n    \"\"\"Do something impossible every day.\"\"\"\n\n    for number, divisor in divides:\n        console.print(f\"dividing {number} by {divisor}\")\n        try:",
    "start_line": 17
  },
  {
    "file": "exception.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "result = divide_by(number, divisor)\n        except Exception:\n            console.print_exception(extra_lines=8, show_locals=True)\n        else:\n            console.print(f\" = {result}\")",
    "start_line": 23
  },
  {
    "file": "exception.py",
    "type": "constants",
    "class": null,
    "method": null,
    "name": "module_constants",
    "content": "DIVIDES = [\n    (1000, 200),\n    (10000, 500),\n    (1, 0),\n    (0, 1000000),\n    (3.1427, 2),\n    (888, 0),\n    (2**32, 2**16),\n]\ndivide_all(DIVIDES)",
    "start_line": 30
  },
  {
    "file": "exception.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "\"\"\"\nBasic example to show how to print an traceback of an exception\n\"\"\"\nfrom typing import List, Tuple\n\nfrom rich.console import Console\n\nconsole = Console()\n\n\ndef divide_by(number: float, divisor: float) -> float:\n    \"\"\"Divide any number by zero.\"\"\"\n    # Will throw a ZeroDivisionError if divisor is 0\n    result = number / divisor\n    return result\n\n\ndef divide_all(divides: List[Tuple[float, float]]) -> None:\n    \"\"\"Do something impossible every day.\"\"\"\n\n    for number, divisor in divides:\n        console.print(f\"dividing {number} by {divisor}\")\n        try:\n            result = divide_by(number, divisor)\n        except Exception:\n            console.print_exception(extra_lines=8, show_locals=True)\n        else:\n            console.print(f\" = {result}\")\n\n\nDIVIDES = [\n    (1000, 200),\n    (10000, 500),\n    (1, 0),\n    (0, 1000000),\n    (3.1427, 2),\n    (888, 0),\n    (2**32, 2**16),\n]\n\ndivide_all(DIVIDES)\n",
    "start_line": 0
  },
  {
    "file": "recursive_error.py",
    "type": "module_docstring",
    "class": null,
    "method": null,
    "name": "module_docstring",
    "content": "\"\"\"\n\nDemonstrates Rich tracebacks for recursion errors.\n\nRich can exclude frames in the middle to avoid huge tracebacks.\n\n\"\"\"",
    "start_line": 0
  },
  {
    "file": "recursive_error.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from rich.console import Console",
    "start_line": 8
  },
  {
    "file": "recursive_error.py",
    "type": "function",
    "class": null,
    "method": "foo",
    "name": "foo",
    "content": "def foo(n):\n    return bar(n)",
    "start_line": 11
  },
  {
    "file": "recursive_error.py",
    "type": "function",
    "class": null,
    "method": "bar",
    "name": "bar",
    "content": "def bar(n):\n    return foo(n)",
    "start_line": 15
  },
  {
    "file": "recursive_error.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console()\ntry:\n    foo(1)\nexcept Exception:\n    console.print_exception(max_frames=20)",
    "start_line": 19
  },
  {
    "file": "recursive_error.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "\"\"\"\n\nDemonstrates Rich tracebacks for recursion errors.\n\nRich can exclude frames in the middle to avoid huge tracebacks.\n\n\"\"\"\n\nfrom rich.console import Console\n\n\ndef foo(n):\n    return bar(n)\n\n\ndef bar(n):\n    return foo(n)\n\n\nconsole = Console()\n\ntry:\n    foo(1)\nexcept Exception:\n    console.print_exception(max_frames=20)\n",
    "start_line": 0
  },
  {
    "file": "justify.py",
    "type": "module_docstring",
    "class": null,
    "method": null,
    "name": "module_docstring",
    "content": "\"\"\"\nThis example demonstrates the justify argument to print.\n\"\"\"",
    "start_line": 0
  },
  {
    "file": "justify.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from rich.console import Console",
    "start_line": 4
  },
  {
    "file": "justify.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(width=20)\nstyle = \"bold white on blue\"\nconsole.print(\"Rich\", style=style)\nconsole.print(\"Rich\", style=style, justify=\"left\")\nconsole.print(\"Rich\", style=style, justify=\"center\")\nconsole.print(\"Rich\", style=style, justify=\"right\")",
    "start_line": 6
  },
  {
    "file": "justify.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "\"\"\"\nThis example demonstrates the justify argument to print.\n\"\"\"\n\nfrom rich.console import Console\n\nconsole = Console(width=20)\n\nstyle = \"bold white on blue\"\nconsole.print(\"Rich\", style=style)\nconsole.print(\"Rich\", style=style, justify=\"left\")\nconsole.print(\"Rich\", style=style, justify=\"center\")\nconsole.print(\"Rich\", style=style, justify=\"right\")\n",
    "start_line": 0
  },
  {
    "file": "group2.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from rich import print\nfrom rich.console import group\nfrom rich.panel import Panel\n@group()",
    "start_line": 0
  },
  {
    "file": "group2.py",
    "type": "function",
    "class": null,
    "method": "get_panels",
    "name": "get_panels",
    "content": "def get_panels():\n    yield Panel(\"Hello\", style=\"on blue\")\n    yield Panel(\"World\", style=\"on red\")\n\n\nprint(Panel(get_panels()))",
    "start_line": 6
  },
  {
    "file": "group2.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "from rich import print\nfrom rich.console import group\nfrom rich.panel import Panel\n\n\n@group()\ndef get_panels():\n    yield Panel(\"Hello\", style=\"on blue\")\n    yield Panel(\"World\", style=\"on red\")\n\n\nprint(Panel(get_panels()))\n",
    "start_line": 0
  },
  {
    "file": "print_calendar.py",
    "type": "module_docstring",
    "class": null,
    "method": null,
    "name": "module_docstring",
    "content": "\"\"\"\nBuilds calendar layout using Columns and Tables.\nUsage:\npython print_calendar.py [YEAR]\nExample:\npython print_calendar.py 2021\n\"\"\"",
    "start_line": 0
  },
  {
    "file": "print_calendar.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "import argparse\nimport calendar\nfrom datetime import datetime\nfrom rich.align import Align\nfrom rich import box\nfrom rich.columns import Columns\nfrom rich.console import Console\nfrom rich.table import Table\nfrom rich.text import Text",
    "start_line": 7
  },
  {
    "file": "print_calendar.py",
    "type": "function",
    "class": null,
    "method": "print_calendar",
    "name": "print_calendar",
    "content": "def print_calendar(year):\n    \"\"\"Print a calendar for a given year.\"\"\"",
    "start_line": 19
  },
  {
    "file": "print_calendar.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "today = datetime.today()\n    year = int(year)\n    cal = calendar.Calendar()\n    today_tuple = today.day, today.month, today.year\n    tables = []\n    for month in range(1, 13):\n        table = Table(\n            title=f\"{calendar.month_name[month]} {year}\",\n            style=\"green\",\n            box=box.SIMPLE_HEAVY,\n            padding=0,\n        )\n        for week_day in cal.iterweekdays():\n            table.add_column(\n                \"{:.3}\".format(calendar.day_name[week_day]), justify=\"right\"\n            )\n        month_days = cal.monthdayscalendar(year, month)\n        for weekdays in month_days:\n            days = []\n            for index, day in enumerate(weekdays):\n                day_label = Text(str(day or \"\"), style=\"magenta\")\n                if index in (5, 6):\n                    day_label.stylize(\"blue\")\n                if day and (day, month, year) == today_tuple:\n                    day_label.stylize(\"white on dark_red\")\n                days.append(day_label)\n            table.add_row(*days)\n        tables.append(Align.center(table))\n    console = Console()\n    columns = Columns(tables, padding=1, expand=True)\n    console.rule(str(year))\n    console.print()\n    console.print(columns)\n    console.rule(str(year))\nif __name__ == \"__main__\":\n    parser = argparse.ArgumentParser(description=\"Rich calendar\")\n    parser.add_argument(\"year\", metavar=\"year\", type=int)\n    args = parser.parse_args()\n    print_calendar(args.year)",
    "start_line": 22
  },
  {
    "file": "print_calendar.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "\"\"\"\nBuilds calendar layout using Columns and Tables.\nUsage:\npython print_calendar.py [YEAR]\nExample:\npython print_calendar.py 2021\n\"\"\"\nimport argparse\nimport calendar\nfrom datetime import datetime\n\nfrom rich.align import Align\nfrom rich import box\nfrom rich.columns import Columns\nfrom rich.console import Console\nfrom rich.table import Table\nfrom rich.text import Text\n\n\ndef print_calendar(year):\n    \"\"\"Print a calendar for a given year.\"\"\"\n\n    today = datetime.today()\n    year = int(year)\n    cal = calendar.Calendar()\n    today_tuple = today.day, today.month, today.year\n\n    tables = []\n\n    for month in range(1, 13):\n        table = Table(\n            title=f\"{calendar.month_name[month]} {year}\",\n            style=\"green\",\n            box=box.SIMPLE_HEAVY,\n            padding=0,\n        )\n\n        for week_day in cal.iterweekdays():\n            table.add_column(\n                \"{:.3}\".format(calendar.day_name[week_day]), justify=\"right\"\n            )\n\n        month_days = cal.monthdayscalendar(year, month)\n        for weekdays in month_days:\n            days = []\n            for index, day in enumerate(weekdays):\n                day_label = Text(str(day or \"\"), style=\"magenta\")\n                if index in (5, 6):\n                    day_label.stylize(\"blue\")\n                if day and (day, month, year) == today_tuple:\n                    day_label.stylize(\"white on dark_red\")\n                days.append(day_label)\n            table.add_row(*days)\n\n        tables.append(Align.center(table))\n\n    console = Console()\n    columns = Columns(tables, padding=1, expand=True)\n    console.rule(str(year))\n    console.print()\n    console.print(columns)\n    console.rule(str(year))\n\n\nif __name__ == \"__main__\":\n    parser = argparse.ArgumentParser(description=\"Rich calendar\")\n    parser.add_argument(\"year\", metavar=\"year\", type=int)\n    args = parser.parse_args()\n\n    print_calendar(args.year)\n",
    "start_line": 0
  },
  {
    "file": "downloader.py",
    "type": "module_docstring",
    "class": null,
    "method": null,
    "name": "module_docstring",
    "content": "\"\"\"\nA rudimentary URL downloader (like wget or curl) to demonstrate Rich progress bars.\n\"\"\"",
    "start_line": 0
  },
  {
    "file": "downloader.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "import os.path\nimport sys\nfrom concurrent.futures import ThreadPoolExecutor\nimport signal\nfrom functools import partial\nfrom threading import Event\nfrom typing import Iterable\nfrom urllib.request import urlopen\nfrom rich.progress import (\n    BarColumn,\n    DownloadColumn,\n    Progress,\n    TaskID,\n    TextColumn,\n    TimeRemainingColumn,\n    TransferSpeedColumn,\n)",
    "start_line": 4
  },
  {
    "file": "downloader.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "progress = Progress(\n    TextColumn(\"[bold blue]{task.fields[filename]}\", justify=\"right\"),\n    BarColumn(bar_width=None),\n    \"[progress.percentage]{task.percentage:>3.1f}%\",\n    \"\",\n    DownloadColumn(),\n    \"\",\n    TransferSpeedColumn(),\n    \"\",\n    TimeRemainingColumn(),\n)\ndone_event = Event()",
    "start_line": 23
  },
  {
    "file": "downloader.py",
    "type": "function",
    "class": null,
    "method": "handle_sigint",
    "name": "handle_sigint",
    "content": "def handle_sigint(signum, frame):\n    done_event.set()\n\n\nsignal.signal(signal.SIGINT, handle_sigint)",
    "start_line": 39
  },
  {
    "file": "downloader.py",
    "type": "function",
    "class": null,
    "method": "copy_url",
    "name": "copy_url",
    "content": "def copy_url(task_id: TaskID, url: str, path: str) -> None:\n    \"\"\"Copy data from a url to a local file.\"\"\"\n    progress.console.log(f\"Requesting {url}\")",
    "start_line": 46
  },
  {
    "file": "downloader.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "response = urlopen(url)",
    "start_line": 49
  },
  {
    "file": "downloader.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# This will break if the response doesn't contain content length\n    progress.update(task_id, total=int(response.info()[\"Content-length\"]))\n    with open(path, \"wb\") as dest_file:\n        progress.start_task(task_id)\n        for data in iter(partial(response.read, 32768), b\"\"):\n            dest_file.write(data)\n            progress.update(task_id, advance=len(data))\n            if done_event.is_set():\n                return\n    progress.console.log(f\"Downloaded {path}\")",
    "start_line": 50
  },
  {
    "file": "downloader.py",
    "type": "function",
    "class": null,
    "method": "download",
    "name": "download",
    "content": "def download(urls: Iterable[str], dest_dir: str):\n    \"\"\"Download multiple files to the given directory.\"\"\"\n\n    with progress:\n        with ThreadPoolExecutor(max_workers=4) as pool:\n            for url in urls:",
    "start_line": 62
  },
  {
    "file": "downloader.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "filename = url.split(\"/\")[-1]\n                dest_path = os.path.join(dest_dir, filename)\n                task_id = progress.add_task(\"download\", filename=filename, start=False)\n                pool.submit(copy_url, task_id, url, dest_path)\nif __name__ == \"__main__\":",
    "start_line": 68
  },
  {
    "file": "downloader.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# Try with https://releases.ubuntu.com/noble/ubuntu-24.04-desktop-amd64.iso\n    # and https://releases.ubuntu.com/noble/ubuntu-24.04-live-server-amd64.iso\n    if sys.argv[1:]:\n        download(sys.argv[1:], \"./\")\n    else:\n        print(\"Usage:\\n\\tpython downloader.py URL1 URL2 URL3 (etc)\")",
    "start_line": 75
  },
  {
    "file": "downloader.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "\"\"\"\nA rudimentary URL downloader (like wget or curl) to demonstrate Rich progress bars.\n\"\"\"\n\nimport os.path\nimport sys\nfrom concurrent.futures import ThreadPoolExecutor\nimport signal\nfrom functools import partial\nfrom threading import Event\nfrom typing import Iterable\nfrom urllib.request import urlopen\n\nfrom rich.progress import (\n    BarColumn,\n    DownloadColumn,\n    Progress,\n    TaskID,\n    TextColumn,\n    TimeRemainingColumn,\n    TransferSpeedColumn,\n)\n\nprogress = Progress(\n    TextColumn(\"[bold blue]{task.fields[filename]}\", justify=\"right\"),\n    BarColumn(bar_width=None),\n    \"[progress.percentage]{task.percentage:>3.1f}%\",\n    \"\",\n    DownloadColumn(),\n    \"\",\n    TransferSpeedColumn(),\n    \"\",\n    TimeRemainingColumn(),\n)\n\n\ndone_event = Event()\n\n\ndef handle_sigint(signum, frame):\n    done_event.set()\n\n\nsignal.signal(signal.SIGINT, handle_sigint)\n\n\ndef copy_url(task_id: TaskID, url: str, path: str) -> None:\n    \"\"\"Copy data from a url to a local file.\"\"\"\n    progress.console.log(f\"Requesting {url}\")\n    response = urlopen(url)\n    # This will break if the response doesn't contain content length\n    progress.update(task_id, total=int(response.info()[\"Content-length\"]))\n    with open(path, \"wb\") as dest_file:\n        progress.start_task(task_id)\n        for data in iter(partial(response.read, 32768), b\"\"):\n            dest_file.write(data)\n            progress.update(task_id, advance=len(data))\n            if done_event.is_set():\n                return\n    progress.console.log(f\"Downloaded {path}\")\n\n\ndef download(urls: Iterable[str], dest_dir: str):\n    \"\"\"Download multiple files to the given directory.\"\"\"\n\n    with progress:\n        with ThreadPoolExecutor(max_workers=4) as pool:\n            for url in urls:\n                filename = url.split(\"/\")[-1]\n                dest_path = os.path.join(dest_dir, filename)\n                task_id = progress.add_task(\"download\", filename=filename, start=False)\n                pool.submit(copy_url, task_id, url, dest_path)\n\n\nif __name__ == \"__main__\":\n    # Try with https://releases.ubuntu.com/noble/ubuntu-24.04-desktop-amd64.iso\n    # and https://releases.ubuntu.com/noble/ubuntu-24.04-live-server-amd64.iso\n    if sys.argv[1:]:\n        download(sys.argv[1:], \"./\")\n    else:\n        print(\"Usage:\\n\\tpython downloader.py URL1 URL2 URL3 (etc)\")\n",
    "start_line": 0
  },
  {
    "file": "save_table_svg.py",
    "type": "module_docstring",
    "class": null,
    "method": null,
    "name": "module_docstring",
    "content": "\"\"\"\nDemonstrates how to export a SVG\n\"\"\"",
    "start_line": 0
  },
  {
    "file": "save_table_svg.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from rich.console import Console\nfrom rich.table import Table",
    "start_line": 4
  },
  {
    "file": "save_table_svg.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "table = Table(title=\"Star Wars Movies\")\ntable.add_column(\"Released\", style=\"cyan\", no_wrap=True)\ntable.add_column(\"Title\", style=\"magenta\")\ntable.add_column(\"Box Office\", justify=\"right\", style=\"green\")\ntable.add_row(\"Dec 20, 2019\", \"Star Wars: The Rise of Skywalker\", \"$952,110,690\")\ntable.add_row(\"May 25, 2018\", \"Solo: A Star Wars Story\", \"$393,151,347\")\ntable.add_row(\"Dec 15, 2017\", \"Star Wars Ep. V111: The Last Jedi\", \"$1,332,539,889\")\ntable.add_row(\"Dec 16, 2016\", \"Rogue One: A Star Wars Story\", \"$1,332,439,889\")\nconsole = Console(record=True)\nconsole.print(table, justify=\"center\")\nconsole.save_svg(\"table.svg\", title=\"save_table_svg.py\")",
    "start_line": 7
  },
  {
    "file": "save_table_svg.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "import os\nimport webbrowser\nwebbrowser.open(f\"file://{os.path.abspath('table.svg')}\")",
    "start_line": 22
  },
  {
    "file": "save_table_svg.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "\"\"\"\nDemonstrates how to export a SVG\n\"\"\"\n\nfrom rich.console import Console\nfrom rich.table import Table\n\ntable = Table(title=\"Star Wars Movies\")\n\ntable.add_column(\"Released\", style=\"cyan\", no_wrap=True)\ntable.add_column(\"Title\", style=\"magenta\")\ntable.add_column(\"Box Office\", justify=\"right\", style=\"green\")\n\ntable.add_row(\"Dec 20, 2019\", \"Star Wars: The Rise of Skywalker\", \"$952,110,690\")\ntable.add_row(\"May 25, 2018\", \"Solo: A Star Wars Story\", \"$393,151,347\")\ntable.add_row(\"Dec 15, 2017\", \"Star Wars Ep. V111: The Last Jedi\", \"$1,332,539,889\")\ntable.add_row(\"Dec 16, 2016\", \"Rogue One: A Star Wars Story\", \"$1,332,439,889\")\n\nconsole = Console(record=True)\nconsole.print(table, justify=\"center\")\nconsole.save_svg(\"table.svg\", title=\"save_table_svg.py\")\n\nimport os\nimport webbrowser\n\nwebbrowser.open(f\"file://{os.path.abspath('table.svg')}\")\n",
    "start_line": 0
  },
  {
    "file": "table_movie.py",
    "type": "module_docstring",
    "class": null,
    "method": null,
    "name": "module_docstring",
    "content": "\"\"\"Same as the table_movie.py but uses Live to update\"\"\"",
    "start_line": 0
  },
  {
    "file": "table_movie.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "import time\nfrom contextlib import contextmanager\nfrom rich import box\nfrom rich.align import Align\nfrom rich.console import Console\nfrom rich.live import Live\nfrom rich.table import Table\nfrom rich.text import Text",
    "start_line": 1
  },
  {
    "file": "table_movie.py",
    "type": "constants",
    "class": null,
    "method": null,
    "name": "module_constants",
    "content": "TABLE_DATA = [\n    [\n        \"May 25, 1977\",\n        \"Star Wars Ep. [b]IV[/]: [i]A New Hope\",\n        \"$11,000,000\",\n        \"$1,554,475\",\n        \"$775,398,007\",\n    ],\n    [\n        \"May 21, 1980\",\n        \"Star Wars Ep. [b]V[/]: [i]The Empire Strikes Back\",\n        \"$23,000,000\",\n        \"$4,910,483\",\n        \"$547,969,004\",\n    ],\n    [\n        \"May 25, 1983\",\n        \"Star Wars Ep. [b]VI[/b]: [i]Return of the Jedi\",\n        \"$32,500,000\",\n        \"$23,019,618\",\n        \"$475,106,177\",\n    ],\n    [\n        \"May 19, 1999\",\n        \"Star Wars Ep. [b]I[/b]: [i]The phantom Menace\",\n        \"$115,000,000\",\n        \"$64,810,870\",\n        \"$1,027,044,677\",\n    ],\n    [\n        \"May 16, 2002\",\n        \"Star Wars Ep. [b]II[/b]: [i]Attack of the Clones\",\n        \"$115,000,000\",\n        \"$80,027,814\",\n        \"$656,695,615\",\n    ],\n    [\n        \"May 19, 2005\",\n        \"Star Wars Ep. [b]III[/b]: [i]Revenge of the Sith\",\n        \"$115,500,000\",\n        \"$380,270,577\",\n        \"$848,998,877\",\n    ],\n]",
    "start_line": 11
  },
  {
    "file": "table_movie.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console()",
    "start_line": 56
  },
  {
    "file": "table_movie.py",
    "type": "constants",
    "class": null,
    "method": null,
    "name": "module_constants",
    "content": "BEAT_TIME = 0.04\n@contextmanager",
    "start_line": 58
  },
  {
    "file": "table_movie.py",
    "type": "function",
    "class": null,
    "method": "beat",
    "name": "beat",
    "content": "def beat(length: int = 1) -> None:\n    yield\n    time.sleep(length * BEAT_TIME)",
    "start_line": 62
  },
  {
    "file": "table_movie.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "table = Table(show_footer=False)\ntable_centered = Align.center(table)\nconsole.clear()\nwith Live(table_centered, console=console, screen=False, refresh_per_second=20):\n    with beat(10):\n        table.add_column(\"Release Date\", no_wrap=True)\n    with beat(10):\n        table.add_column(\"Title\", Text.from_markup(\"[b]Total\", justify=\"right\"))\n    with beat(10):\n        table.add_column(\"Budget\", \"[u]$412,000,000\", no_wrap=True)\n    with beat(10):\n        table.add_column(\"Opening Weekend\", \"[u]$577,703,455\", no_wrap=True)\n    with beat(10):\n        table.add_column(\"Box Office\", \"[u]$4,331,212,357\", no_wrap=True)\n    with beat(10):\n        table.title = \"Star Wars Box Office\"\n    with beat(10):\n        table.title = (\n            \"[not italic]:popcorn:[/] Star Wars Box Office [not italic]:popcorn:[/]\"\n        )\n    with beat(10):\n        table.caption = \"Made with Rich\"\n    with beat(10):\n        table.caption = \"Made with [b]Rich[/b]\"\n    with beat(10):\n        table.caption = \"Made with [b magenta not dim]Rich[/]\"\n    for row in TABLE_DATA:\n        with beat(10):\n            table.add_row(*row)\n    with beat(10):\n        table.show_footer = True\n    table_width = console.measure(table).maximum\n    with beat(10):\n        table.columns[2].justify = \"right\"\n    with beat(10):\n        table.columns[3].justify = \"right\"\n    with beat(10):\n        table.columns[4].justify = \"right\"\n    with beat(10):\n        table.columns[2].header_style = \"bold red\"\n    with beat(10):\n        table.columns[3].header_style = \"bold green\"\n    with beat(10):\n        table.columns[4].header_style = \"bold blue\"\n    with beat(10):\n        table.columns[2].style = \"red\"\n    with beat(10):\n        table.columns[3].style = \"green\"\n    with beat(10):\n        table.columns[4].style = \"blue\"\n    with beat(10):\n        table.columns[0].style = \"cyan\"\n        table.columns[0].header_style = \"bold cyan\"\n    with beat(10):\n        table.columns[1].style = \"magenta\"\n        table.columns[1].header_style = \"bold magenta\"\n    with beat(10):\n        table.columns[2].footer_style = \"bright_red\"\n    with beat(10):\n        table.columns[3].footer_style = \"bright_green\"\n    with beat(10):\n        table.columns[4].footer_style = \"bright_blue\"\n    with beat(10):\n        table.row_styles = [\"none\", \"dim\"]\n    with beat(10):\n        table.border_style = \"bright_yellow\"\n    for box_style in [\n        box.SQUARE,\n        box.MINIMAL,\n        box.SIMPLE,\n        box.SIMPLE_HEAD,\n    ]:\n        with beat(10):\n            table.box = box_style\n    with beat(10):\n        table.pad_edge = False\n    original_width = console.measure(table).maximum\n    for width in range(original_width, console.width, 2):\n        with beat(1):\n            table.width = width\n    for width in range(console.width, original_width, -2):\n        with beat(1):\n            table.width = width\n    for width in range(original_width, 90, -2):\n        with beat(1):\n            table.width = width\n    for width in range(90, original_width + 1, 2):\n        with beat(1):\n            table.width = width\n    with beat(2):\n        table.width = None",
    "start_line": 67
  },
  {
    "file": "table_movie.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "\"\"\"Same as the table_movie.py but uses Live to update\"\"\"\nimport time\nfrom contextlib import contextmanager\n\nfrom rich import box\nfrom rich.align import Align\nfrom rich.console import Console\nfrom rich.live import Live\nfrom rich.table import Table\nfrom rich.text import Text\n\nTABLE_DATA = [\n    [\n        \"May 25, 1977\",\n        \"Star Wars Ep. [b]IV[/]: [i]A New Hope\",\n        \"$11,000,000\",\n        \"$1,554,475\",\n        \"$775,398,007\",\n    ],\n    [\n        \"May 21, 1980\",\n        \"Star Wars Ep. [b]V[/]: [i]The Empire Strikes Back\",\n        \"$23,000,000\",\n        \"$4,910,483\",\n        \"$547,969,004\",\n    ],\n    [\n        \"May 25, 1983\",\n        \"Star Wars Ep. [b]VI[/b]: [i]Return of the Jedi\",\n        \"$32,500,000\",\n        \"$23,019,618\",\n        \"$475,106,177\",\n    ],\n    [\n        \"May 19, 1999\",\n        \"Star Wars Ep. [b]I[/b]: [i]The phantom Menace\",\n        \"$115,000,000\",\n        \"$64,810,870\",\n        \"$1,027,044,677\",\n    ],\n    [\n        \"May 16, 2002\",\n        \"Star Wars Ep. [b]II[/b]: [i]Attack of the Clones\",\n        \"$115,000,000\",\n        \"$80,027,814\",\n        \"$656,695,615\",\n    ],\n    [\n        \"May 19, 2005\",\n        \"Star Wars Ep. [b]III[/b]: [i]Revenge of the Sith\",\n        \"$115,500,000\",\n        \"$380,270,577\",\n        \"$848,998,877\",\n    ],\n]\n\nconsole = Console()\n\nBEAT_TIME = 0.04\n\n\n@contextmanager\ndef beat(length: int = 1) -> None:\n    yield\n    time.sleep(length * BEAT_TIME)\n\n\ntable = Table(show_footer=False)\ntable_centered = Align.center(table)\n\nconsole.clear()\n\nwith Live(table_centered, console=console, screen=False, refresh_per_second=20):\n    with beat(10):\n        table.add_column(\"Release Date\", no_wrap=True)\n\n    with beat(10):\n        table.add_column(\"Title\", Text.from_markup(\"[b]Total\", justify=\"right\"))\n\n    with beat(10):\n        table.add_column(\"Budget\", \"[u]$412,000,000\", no_wrap=True)\n\n    with beat(10):\n        table.add_column(\"Opening Weekend\", \"[u]$577,703,455\", no_wrap=True)\n\n    with beat(10):\n        table.add_column(\"Box Office\", \"[u]$4,331,212,357\", no_wrap=True)\n\n    with beat(10):\n        table.title = \"Star Wars Box Office\"\n\n    with beat(10):\n        table.title = (\n            \"[not italic]:popcorn:[/] Star Wars Box Office [not italic]:popcorn:[/]\"\n        )\n\n    with beat(10):\n        table.caption = \"Made with Rich\"\n\n    with beat(10):\n        table.caption = \"Made with [b]Rich[/b]\"\n\n    with beat(10):\n        table.caption = \"Made with [b magenta not dim]Rich[/]\"\n\n    for row in TABLE_DATA:\n        with beat(10):\n            table.add_row(*row)\n\n    with beat(10):\n        table.show_footer = True\n\n    table_width = console.measure(table).maximum\n\n    with beat(10):\n        table.columns[2].justify = \"right\"\n\n    with beat(10):\n        table.columns[3].justify = \"right\"\n\n    with beat(10):\n        table.columns[4].justify = \"right\"\n\n    with beat(10):\n        table.columns[2].header_style = \"bold red\"\n\n    with beat(10):\n        table.columns[3].header_style = \"bold green\"\n\n    with beat(10):\n        table.columns[4].header_style = \"bold blue\"\n\n    with beat(10):\n        table.columns[2].style = \"red\"\n\n    with beat(10):\n        table.columns[3].style = \"green\"\n\n    with beat(10):\n        table.columns[4].style = \"blue\"\n\n    with beat(10):\n        table.columns[0].style = \"cyan\"\n        table.columns[0].header_style = \"bold cyan\"\n\n    with beat(10):\n        table.columns[1].style = \"magenta\"\n        table.columns[1].header_style = \"bold magenta\"\n\n    with beat(10):\n        table.columns[2].footer_style = \"bright_red\"\n\n    with beat(10):\n        table.columns[3].footer_style = \"bright_green\"\n\n    with beat(10):\n        table.columns[4].footer_style = \"bright_blue\"\n\n    with beat(10):\n        table.row_styles = [\"none\", \"dim\"]\n\n    with beat(10):\n        table.border_style = \"bright_yellow\"\n\n    for box_style in [\n        box.SQUARE,\n        box.MINIMAL,\n        box.SIMPLE,\n        box.SIMPLE_HEAD,\n    ]:\n        with beat(10):\n            table.box = box_style\n\n    with beat(10):\n        table.pad_edge = False\n\n    original_width = console.measure(table).maximum\n\n    for width in range(original_width, console.width, 2):\n        with beat(1):\n            table.width = width\n\n    for width in range(console.width, original_width, -2):\n        with beat(1):\n            table.width = width\n\n    for width in range(original_width, 90, -2):\n        with beat(1):\n            table.width = width\n\n    for width in range(90, original_width + 1, 2):\n        with beat(1):\n            table.width = width\n\n    with beat(2):\n        table.width = None\n",
    "start_line": 0
  },
  {
    "file": "log.py",
    "type": "module_docstring",
    "class": null,
    "method": null,
    "name": "module_docstring",
    "content": "\"\"\"\nA simulation of Rich console logging.\n\"\"\"",
    "start_line": 0
  },
  {
    "file": "log.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "import time\nfrom rich.console import Console\nfrom rich.style import Style\nfrom rich.theme import Theme\nfrom rich.highlighter import RegexHighlighter",
    "start_line": 4
  },
  {
    "file": "log.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "RequestHighlighter",
    "content": "class RequestHighlighter(RegexHighlighter):\n    base_style = \"req.\"\n    highlights = [\n        r\"^(?P<protocol>\\w+) (?P<method>\\w+) (?P<path>\\S+) (?P<result>\\w+) (?P<stats>\\[.+\\])$\",\n        r\"\\/(?P<filename>\\w+\\..{3,4})\",\n    ]\n\n\ntheme = Theme(\n    {\n        \"req.protocol\": Style.parse(\"dim bold green\"),\n        \"req.method\": Style.parse(\"bold cyan\"),\n        \"req.path\": Style.parse(\"magenta\"),\n        \"req.filename\": Style.parse(\"bright_magenta\"),\n        \"req.result\": Style.parse(\"yellow\"),\n        \"req.stats\": Style.parse(\"dim\"),\n    }\n)",
    "start_line": 11
  },
  {
    "file": "log.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(theme=theme)\nconsole.log(\"Server starting...\")\nconsole.log(\"Serving on http://127.0.0.1:8000\")\ntime.sleep(1)\nrequest_highlighter = RequestHighlighter()\nconsole.log(\n    request_highlighter(\"HTTP GET /foo/bar/baz/egg.html 200 [0.57, 127.0.0.1:59076]\"),\n)\nconsole.log(\n    request_highlighter(\n        \"HTTP GET /foo/bar/baz/background.jpg 200 [0.57, 127.0.0.1:59076]\"\n    ),\n)\ntime.sleep(1)",
    "start_line": 29
  },
  {
    "file": "log.py",
    "type": "function",
    "class": null,
    "method": "test_locals",
    "name": "test_locals",
    "content": "def test_locals():",
    "start_line": 52
  },
  {
    "file": "log.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "foo = (1, 2, 3)\n    movies = [\"Deadpool\", \"Rise of the Skywalker\"]\n    console = Console()\n    console.log(\n        \"[b]JSON[/b] RPC [i]batch[/i]\",\n        [\n            {\"jsonrpc\": \"2.0\", \"method\": \"sum\", \"params\": [1, 2, 4], \"id\": \"1\"},\n            {\"jsonrpc\": \"2.0\", \"method\": \"notify_hello\", \"params\": [7]},\n            {\"jsonrpc\": \"2.0\", \"method\": \"subtract\", \"params\": [42, 23], \"id\": \"2\"},\n            {\"foo\": \"boo\"},\n            {\n                \"jsonrpc\": \"2.0\",\n                \"method\": \"foo.get\",\n                \"params\": {\"name\": \"myself\", \"enable\": False, \"grommits\": None},\n                \"id\": \"5\",\n            },\n            {\"jsonrpc\": \"2.0\", \"method\": \"get_data\", \"id\": \"9\"},\n        ],\n        log_locals=True,\n    )\ntest_locals()",
    "start_line": 53
  },
  {
    "file": "log.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "\"\"\"\nA simulation of Rich console logging.\n\"\"\"\n\nimport time\nfrom rich.console import Console\nfrom rich.style import Style\nfrom rich.theme import Theme\nfrom rich.highlighter import RegexHighlighter\n\n\nclass RequestHighlighter(RegexHighlighter):\n    base_style = \"req.\"\n    highlights = [\n        r\"^(?P<protocol>\\w+) (?P<method>\\w+) (?P<path>\\S+) (?P<result>\\w+) (?P<stats>\\[.+\\])$\",\n        r\"\\/(?P<filename>\\w+\\..{3,4})\",\n    ]\n\n\ntheme = Theme(\n    {\n        \"req.protocol\": Style.parse(\"dim bold green\"),\n        \"req.method\": Style.parse(\"bold cyan\"),\n        \"req.path\": Style.parse(\"magenta\"),\n        \"req.filename\": Style.parse(\"bright_magenta\"),\n        \"req.result\": Style.parse(\"yellow\"),\n        \"req.stats\": Style.parse(\"dim\"),\n    }\n)\nconsole = Console(theme=theme)\n\nconsole.log(\"Server starting...\")\nconsole.log(\"Serving on http://127.0.0.1:8000\")\n\ntime.sleep(1)\n\nrequest_highlighter = RequestHighlighter()\n\nconsole.log(\n    request_highlighter(\"HTTP GET /foo/bar/baz/egg.html 200 [0.57, 127.0.0.1:59076]\"),\n)\n\nconsole.log(\n    request_highlighter(\n        \"HTTP GET /foo/bar/baz/background.jpg 200 [0.57, 127.0.0.1:59076]\"\n    ),\n)\n\n\ntime.sleep(1)\n\n\ndef test_locals():\n    foo = (1, 2, 3)\n    movies = [\"Deadpool\", \"Rise of the Skywalker\"]\n    console = Console()\n\n    console.log(\n        \"[b]JSON[/b] RPC [i]batch[/i]\",\n        [\n            {\"jsonrpc\": \"2.0\", \"method\": \"sum\", \"params\": [1, 2, 4], \"id\": \"1\"},\n            {\"jsonrpc\": \"2.0\", \"method\": \"notify_hello\", \"params\": [7]},\n            {\"jsonrpc\": \"2.0\", \"method\": \"subtract\", \"params\": [42, 23], \"id\": \"2\"},\n            {\"foo\": \"boo\"},\n            {\n                \"jsonrpc\": \"2.0\",\n                \"method\": \"foo.get\",\n                \"params\": {\"name\": \"myself\", \"enable\": False, \"grommits\": None},\n                \"id\": \"5\",\n            },\n            {\"jsonrpc\": \"2.0\", \"method\": \"get_data\", \"id\": \"9\"},\n        ],\n        log_locals=True,\n    )\n\n\ntest_locals()\n",
    "start_line": 0
  },
  {
    "file": "cp_progress.py",
    "type": "module_docstring",
    "class": null,
    "method": null,
    "name": "module_docstring",
    "content": "\"\"\"\nA very minimal `cp` clone that displays a progress bar.\n\"\"\"",
    "start_line": 0
  },
  {
    "file": "cp_progress.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "import os\nimport shutil\nimport sys\nfrom rich.progress import Progress\nif __name__ == \"__main__\":\n    if len(sys.argv) == 3:\n        with Progress() as progress:",
    "start_line": 3
  },
  {
    "file": "cp_progress.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "desc = os.path.basename(sys.argv[1])\n            with progress.open(sys.argv[1], \"rb\", description=desc) as src:\n                with open(sys.argv[2], \"wb\") as dst:\n                    shutil.copyfileobj(src, dst)\n    else:\n        print(\"Copy a file with a progress bar.\")\n        print(\"Usage:\\n\\tpython cp_progress.py SRC DST\")",
    "start_line": 12
  },
  {
    "file": "cp_progress.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "\"\"\"\nA very minimal `cp` clone that displays a progress bar.\n\"\"\"\nimport os\nimport shutil\nimport sys\n\nfrom rich.progress import Progress\n\nif __name__ == \"__main__\":\n    if len(sys.argv) == 3:\n        with Progress() as progress:\n            desc = os.path.basename(sys.argv[1])\n            with progress.open(sys.argv[1], \"rb\", description=desc) as src:\n                with open(sys.argv[2], \"wb\") as dst:\n                    shutil.copyfileobj(src, dst)\n    else:\n        print(\"Copy a file with a progress bar.\")\n        print(\"Usage:\\n\\tpython cp_progress.py SRC DST\")\n",
    "start_line": 0
  },
  {
    "file": "layout.py",
    "type": "module_docstring",
    "class": null,
    "method": null,
    "name": "module_docstring",
    "content": "\"\"\"\n\nDemonstrates a dynamic Layout\n\n\"\"\"",
    "start_line": 0
  },
  {
    "file": "layout.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from datetime import datetime\nfrom time import sleep\nfrom rich.align import Align\nfrom rich.console import Console\nfrom rich.layout import Layout\nfrom rich.live import Live\nfrom rich.text import Text",
    "start_line": 6
  },
  {
    "file": "layout.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console()\nlayout = Layout()\nlayout.split(\n    Layout(name=\"header\", size=1),\n    Layout(ratio=1, name=\"main\"),\n    Layout(size=10, name=\"footer\"),\n)\nlayout[\"main\"].split_row(Layout(name=\"side\"), Layout(name=\"body\", ratio=2))\nlayout[\"side\"].split(Layout(), Layout())\nlayout[\"body\"].update(\n    Align.center(\n        Text(\n            \"\"\"This is a demonstration of rich.Layout\\n\\nHit Ctrl+C to exit\"\"\",\n            justify=\"center\",\n        ),\n        vertical=\"middle\",\n    )\n)",
    "start_line": 16
  },
  {
    "file": "layout.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "Clock",
    "content": "class Clock:\n    \"\"\"Renders the time in the center of the screen.\"\"\"",
    "start_line": 40
  },
  {
    "file": "layout.py",
    "type": "method",
    "class": "Clock",
    "method": "__rich__",
    "name": "__rich__",
    "content": "class Clock:\n    def __rich__(self) -> Text:\n        return Text(datetime.now().ctime(), style=\"bold magenta\", justify=\"center\")\n\n\nlayout[\"header\"].update(Clock())\n\nwith Live(layout, screen=True, redirect_stderr=False) as live:\n    try:\n        while True:\n            sleep(1)\n    except KeyboardInterrupt:\n        pass",
    "start_line": 43
  },
  {
    "file": "layout.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "\"\"\"\n\nDemonstrates a dynamic Layout\n\n\"\"\"\n\nfrom datetime import datetime\n\nfrom time import sleep\n\nfrom rich.align import Align\nfrom rich.console import Console\nfrom rich.layout import Layout\nfrom rich.live import Live\nfrom rich.text import Text\n\nconsole = Console()\nlayout = Layout()\n\nlayout.split(\n    Layout(name=\"header\", size=1),\n    Layout(ratio=1, name=\"main\"),\n    Layout(size=10, name=\"footer\"),\n)\n\nlayout[\"main\"].split_row(Layout(name=\"side\"), Layout(name=\"body\", ratio=2))\n\nlayout[\"side\"].split(Layout(), Layout())\n\nlayout[\"body\"].update(\n    Align.center(\n        Text(\n            \"\"\"This is a demonstration of rich.Layout\\n\\nHit Ctrl+C to exit\"\"\",\n            justify=\"center\",\n        ),\n        vertical=\"middle\",\n    )\n)\n\n\nclass Clock:\n    \"\"\"Renders the time in the center of the screen.\"\"\"\n\n    def __rich__(self) -> Text:\n        return Text(datetime.now().ctime(), style=\"bold magenta\", justify=\"center\")\n\n\nlayout[\"header\"].update(Clock())\n\nwith Live(layout, screen=True, redirect_stderr=False) as live:\n    try:\n        while True:\n            sleep(1)\n    except KeyboardInterrupt:\n        pass\n",
    "start_line": 0
  },
  {
    "file": "overflow.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from typing import List\nfrom rich.console import Console, OverflowMethod",
    "start_line": 0
  },
  {
    "file": "overflow.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(width=14)\nsupercali = \"supercalifragilisticexpialidocious\"\noverflow_methods: List[OverflowMethod] = [\"fold\", \"crop\", \"ellipsis\"]\nfor overflow in overflow_methods:\n    console.rule(overflow)\n    console.print(supercali, overflow=overflow, style=\"bold blue\")\n    console.print()",
    "start_line": 3
  },
  {
    "file": "overflow.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "from typing import List\nfrom rich.console import Console, OverflowMethod\n\nconsole = Console(width=14)\nsupercali = \"supercalifragilisticexpialidocious\"\n\noverflow_methods: List[OverflowMethod] = [\"fold\", \"crop\", \"ellipsis\"]\nfor overflow in overflow_methods:\n    console.rule(overflow)\n    console.print(supercali, overflow=overflow, style=\"bold blue\")\n    console.print()\n",
    "start_line": 0
  },
  {
    "file": "export.py",
    "type": "module_docstring",
    "class": null,
    "method": null,
    "name": "module_docstring",
    "content": "\"\"\"\nDemonstrates export console output\n\"\"\"",
    "start_line": 0
  },
  {
    "file": "export.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from rich.console import Console\nfrom rich.table import Table",
    "start_line": 4
  },
  {
    "file": "export.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(record=True)",
    "start_line": 7
  },
  {
    "file": "export.py",
    "type": "function",
    "class": null,
    "method": "print_table",
    "name": "print_table",
    "content": "def print_table():",
    "start_line": 10
  },
  {
    "file": "export.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "table = Table(title=\"Star Wars Movies\")\n    table.add_column(\"Released\", style=\"cyan\", no_wrap=True)\n    table.add_column(\"Title\", style=\"magenta\")\n    table.add_column(\"Box Office\", justify=\"right\", style=\"green\")\n    table.add_row(\"Dec 20, 2019\", \"Star Wars: The Rise of Skywalker\", \"$952,110,690\")\n    table.add_row(\"May 25, 2018\", \"Solo: A Star Wars Story\", \"$393,151,347\")\n    table.add_row(\"Dec 15, 2017\", \"Star Wars Ep. V111: The Last Jedi\", \"$1,332,539,889\")\n    table.add_row(\"Dec 16, 2016\", \"Rogue One: A Star Wars Story\", \"$1,332,439,889\")\n    console.print(table)",
    "start_line": 11
  },
  {
    "file": "export.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# Prints table\nprint_table()\n# Get console output as text",
    "start_line": 25
  },
  {
    "file": "export.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "file1 = \"table_export_plaintext.txt\"\ntext = console.export_text()\nwith open(file1, \"w\") as file:\n    file.write(text)\nprint(f\"Exported console output as plain text to {file1}\")",
    "start_line": 29
  },
  {
    "file": "export.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# Calling print_table again because console output buffer\n# is flushed once export function is called\nprint_table()\n# Get console output as html\n# use clear=False so output is not flushed after export",
    "start_line": 35
  },
  {
    "file": "export.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "file2 = \"table_export_html.html\"\nhtml = console.export_html(clear=False)\nwith open(file2, \"w\") as file:\n    file.write(html)\nprint(f\"Exported console output as html to {file2}\")",
    "start_line": 41
  },
  {
    "file": "export.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# Export text output to table_export.txt",
    "start_line": 47
  },
  {
    "file": "export.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "file3 = \"table_export_plaintext2.txt\"\nconsole.save_text(file3, clear=False)\nprint(f\"Exported console output as plain text to {file3}\")",
    "start_line": 48
  },
  {
    "file": "export.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# Export html output to table_export.html",
    "start_line": 52
  },
  {
    "file": "export.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "file4 = \"table_export_html2.html\"\nconsole.save_html(file4)\nprint(f\"Exported console output as html to {file4}\")",
    "start_line": 53
  },
  {
    "file": "export.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "\"\"\"\nDemonstrates export console output\n\"\"\"\n\nfrom rich.console import Console\nfrom rich.table import Table\n\nconsole = Console(record=True)\n\n\ndef print_table():\n    table = Table(title=\"Star Wars Movies\")\n\n    table.add_column(\"Released\", style=\"cyan\", no_wrap=True)\n    table.add_column(\"Title\", style=\"magenta\")\n    table.add_column(\"Box Office\", justify=\"right\", style=\"green\")\n\n    table.add_row(\"Dec 20, 2019\", \"Star Wars: The Rise of Skywalker\", \"$952,110,690\")\n    table.add_row(\"May 25, 2018\", \"Solo: A Star Wars Story\", \"$393,151,347\")\n    table.add_row(\"Dec 15, 2017\", \"Star Wars Ep. V111: The Last Jedi\", \"$1,332,539,889\")\n    table.add_row(\"Dec 16, 2016\", \"Rogue One: A Star Wars Story\", \"$1,332,439,889\")\n\n    console.print(table)\n\n\n# Prints table\nprint_table()\n\n# Get console output as text\nfile1 = \"table_export_plaintext.txt\"\ntext = console.export_text()\nwith open(file1, \"w\") as file:\n    file.write(text)\nprint(f\"Exported console output as plain text to {file1}\")\n\n# Calling print_table again because console output buffer\n# is flushed once export function is called\nprint_table()\n\n# Get console output as html\n# use clear=False so output is not flushed after export\nfile2 = \"table_export_html.html\"\nhtml = console.export_html(clear=False)\nwith open(file2, \"w\") as file:\n    file.write(html)\nprint(f\"Exported console output as html to {file2}\")\n\n# Export text output to table_export.txt\nfile3 = \"table_export_plaintext2.txt\"\nconsole.save_text(file3, clear=False)\nprint(f\"Exported console output as plain text to {file3}\")\n\n# Export html output to table_export.html\nfile4 = \"table_export_html2.html\"\nconsole.save_html(file4)\nprint(f\"Exported console output as html to {file4}\")\n",
    "start_line": 0
  },
  {
    "file": "repr.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "import rich.repr\n@rich.repr.auto",
    "start_line": 0
  },
  {
    "file": "repr.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "Bird",
    "content": "class Bird:",
    "start_line": 4
  },
  {
    "file": "repr.py",
    "type": "method",
    "class": "Bird",
    "method": "__init__",
    "name": "__init__",
    "content": "class Bird:\n    def __init__(self, name, eats=None, fly=True, extinct=False):\n        self.name = name\n        self.eats = list(eats) if eats else []\n        self.fly = fly\n        self.extinct = extinct",
    "start_line": 5
  },
  {
    "file": "repr.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# Note that the repr is still generated without Rich\n# Try commenting out the following line",
    "start_line": 12
  },
  {
    "file": "repr.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from rich import print",
    "start_line": 15
  },
  {
    "file": "repr.py",
    "type": "constants",
    "class": null,
    "method": null,
    "name": "module_constants",
    "content": "BIRDS = {\n    \"gull\": Bird(\"gull\", eats=[\"fish\", \"chips\", \"ice cream\", \"sausage rolls\"]),\n    \"penguin\": Bird(\"penguin\", eats=[\"fish\"], fly=False),\n    \"dodo\": Bird(\"dodo\", eats=[\"fruit\"], fly=False, extinct=True),\n}\nprint(BIRDS)",
    "start_line": 17
  },
  {
    "file": "repr.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "import rich.repr\n\n\n@rich.repr.auto\nclass Bird:\n    def __init__(self, name, eats=None, fly=True, extinct=False):\n        self.name = name\n        self.eats = list(eats) if eats else []\n        self.fly = fly\n        self.extinct = extinct\n\n\n# Note that the repr is still generated without Rich\n# Try commenting out the following line\n\nfrom rich import print\n\nBIRDS = {\n    \"gull\": Bird(\"gull\", eats=[\"fish\", \"chips\", \"ice cream\", \"sausage rolls\"]),\n    \"penguin\": Bird(\"penguin\", eats=[\"fish\"], fly=False),\n    \"dodo\": Bird(\"dodo\", eats=[\"fruit\"], fly=False, extinct=True),\n}\nprint(BIRDS)\n",
    "start_line": 0
  },
  {
    "file": "live_progress.py",
    "type": "module_docstring",
    "class": null,
    "method": null,
    "name": "module_docstring",
    "content": "\"\"\"\n\nDemonstrates the use of multiple Progress instances in a single Live display.    \n\n\"\"\"",
    "start_line": 0
  },
  {
    "file": "live_progress.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from time import sleep\nfrom rich.live import Live\nfrom rich.panel import Panel\nfrom rich.progress import Progress, SpinnerColumn, BarColumn, TextColumn\nfrom rich.table import Table",
    "start_line": 6
  },
  {
    "file": "live_progress.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "job_progress = Progress(\n    \"{task.description}\",\n    SpinnerColumn(),\n    BarColumn(),\n    TextColumn(\"[progress.percentage]{task.percentage:>3.0f}%\"),\n)\njob1 = job_progress.add_task(\"[green]Cooking\")\njob2 = job_progress.add_task(\"[magenta]Baking\", total=200)\njob3 = job_progress.add_task(\"[cyan]Mixing\", total=400)\ntotal = sum(task.total for task in job_progress.tasks)\noverall_progress = Progress()\noverall_task = overall_progress.add_task(\"All Jobs\", total=int(total))\nprogress_table = Table.grid()\nprogress_table.add_row(\n    Panel.fit(\n        overall_progress, title=\"Overall Progress\", border_style=\"green\", padding=(2, 2)\n    ),\n    Panel.fit(job_progress, title=\"[b]Jobs\", border_style=\"red\", padding=(1, 2)),\n)\nwith Live(progress_table, refresh_per_second=10):\n    while not overall_progress.finished:\n        sleep(0.1)\n        for job in job_progress.tasks:\n            if not job.finished:\n                job_progress.advance(job.id)\n        completed = sum(task.completed for task in job_progress.tasks)\n        overall_progress.update(overall_task, completed=completed)",
    "start_line": 14
  },
  {
    "file": "live_progress.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "\"\"\"\n\nDemonstrates the use of multiple Progress instances in a single Live display.    \n\n\"\"\"\n\nfrom time import sleep\n\nfrom rich.live import Live\nfrom rich.panel import Panel\nfrom rich.progress import Progress, SpinnerColumn, BarColumn, TextColumn\nfrom rich.table import Table\n\n\njob_progress = Progress(\n    \"{task.description}\",\n    SpinnerColumn(),\n    BarColumn(),\n    TextColumn(\"[progress.percentage]{task.percentage:>3.0f}%\"),\n)\njob1 = job_progress.add_task(\"[green]Cooking\")\njob2 = job_progress.add_task(\"[magenta]Baking\", total=200)\njob3 = job_progress.add_task(\"[cyan]Mixing\", total=400)\n\ntotal = sum(task.total for task in job_progress.tasks)\noverall_progress = Progress()\noverall_task = overall_progress.add_task(\"All Jobs\", total=int(total))\n\nprogress_table = Table.grid()\nprogress_table.add_row(\n    Panel.fit(\n        overall_progress, title=\"Overall Progress\", border_style=\"green\", padding=(2, 2)\n    ),\n    Panel.fit(job_progress, title=\"[b]Jobs\", border_style=\"red\", padding=(1, 2)),\n)\n\nwith Live(progress_table, refresh_per_second=10):\n    while not overall_progress.finished:\n        sleep(0.1)\n        for job in job_progress.tasks:\n            if not job.finished:\n                job_progress.advance(job.id)\n\n        completed = sum(task.completed for task in job_progress.tasks)\n        overall_progress.update(overall_task, completed=completed)\n",
    "start_line": 0
  },
  {
    "file": "suppress.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "import click\nexcept ImportError:\n    print(\"Please install click for this example\")\n    print(\"    pip install click\")\n    exit()\nfrom rich.traceback import install\ninstall(suppress=[click])\n@click.command()\n@click.option(\"--count\", default=1, help=\"Number of greetings.\")",
    "start_line": 1
  },
  {
    "file": "suppress.py",
    "type": "function",
    "class": null,
    "method": "hello",
    "name": "hello",
    "content": "def hello(count):\n    \"\"\"Simple program that greets NAME for a total of COUNT times.\"\"\"\n    1 / 0\n    for x in range(count):\n        click.echo(f\"Hello {name}!\")\n\n\nif __name__ == \"__main__\":\n    hello()",
    "start_line": 14
  },
  {
    "file": "suppress.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "try:\n    import click\nexcept ImportError:\n    print(\"Please install click for this example\")\n    print(\"    pip install click\")\n    exit()\n\nfrom rich.traceback import install\n\ninstall(suppress=[click])\n\n\n@click.command()\n@click.option(\"--count\", default=1, help=\"Number of greetings.\")\ndef hello(count):\n    \"\"\"Simple program that greets NAME for a total of COUNT times.\"\"\"\n    1 / 0\n    for x in range(count):\n        click.echo(f\"Hello {name}!\")\n\n\nif __name__ == \"__main__\":\n    hello()\n",
    "start_line": 0
  },
  {
    "file": "jobs.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from time import sleep\nfrom rich.panel import Panel\nfrom rich.progress import Progress",
    "start_line": 0
  },
  {
    "file": "jobs.py",
    "type": "constants",
    "class": null,
    "method": null,
    "name": "module_constants",
    "content": "JOBS = [100, 150, 25, 70, 110, 90]",
    "start_line": 5
  },
  {
    "file": "jobs.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "progress = Progress(auto_refresh=False)\nmaster_task = progress.add_task(\"overall\", total=sum(JOBS))\njobs_task = progress.add_task(\"jobs\")\nprogress.console.print(\n    Panel(\n        \"[bold blue]A demonstration of progress with a current task and overall progress.\",\n        padding=1,\n    )\n)\nwith progress:\n    for job_no, job in enumerate(JOBS):\n        progress.log(f\"Starting job #{job_no}\")\n        sleep(0.2)\n        progress.reset(jobs_task, total=job, description=f\"job [bold yellow]#{job_no}\")\n        progress.start_task(jobs_task)\n        for wait in progress.track(range(job), task_id=jobs_task):\n            sleep(0.01)\n        progress.advance(master_task, job)\n        progress.log(f\"Job #{job_no} is complete\")\n    progress.log(\n        Panel(\":sparkle: All done! :sparkle:\", border_style=\"green\", padding=1)\n    )",
    "start_line": 7
  },
  {
    "file": "jobs.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "from time import sleep\nfrom rich.panel import Panel\nfrom rich.progress import Progress\n\n\nJOBS = [100, 150, 25, 70, 110, 90]\n\nprogress = Progress(auto_refresh=False)\nmaster_task = progress.add_task(\"overall\", total=sum(JOBS))\njobs_task = progress.add_task(\"jobs\")\n\nprogress.console.print(\n    Panel(\n        \"[bold blue]A demonstration of progress with a current task and overall progress.\",\n        padding=1,\n    )\n)\n\nwith progress:\n    for job_no, job in enumerate(JOBS):\n        progress.log(f\"Starting job #{job_no}\")\n        sleep(0.2)\n        progress.reset(jobs_task, total=job, description=f\"job [bold yellow]#{job_no}\")\n        progress.start_task(jobs_task)\n        for wait in progress.track(range(job), task_id=jobs_task):\n            sleep(0.01)\n        progress.advance(master_task, job)\n        progress.log(f\"Job #{job_no} is complete\")\n    progress.log(\n        Panel(\":sparkle: All done! :sparkle:\", border_style=\"green\", padding=1)\n    )\n",
    "start_line": 0
  },
  {
    "file": "columns.py",
    "type": "module_docstring",
    "class": null,
    "method": null,
    "name": "module_docstring",
    "content": "\"\"\"\nThis example shows how to display content in columns.\n\nThe data is pulled from https://randomuser.me\n\"\"\"",
    "start_line": 0
  },
  {
    "file": "columns.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "import json\nfrom urllib.request import urlopen\nfrom rich.console import Console\nfrom rich.columns import Columns\nfrom rich.panel import Panel",
    "start_line": 6
  },
  {
    "file": "columns.py",
    "type": "function",
    "class": null,
    "method": "get_content",
    "name": "get_content",
    "content": "def get_content(user):\n    \"\"\"Extract text from user dict.\"\"\"",
    "start_line": 14
  },
  {
    "file": "columns.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "country = user[\"location\"][\"country\"]\n    name = f\"{user['name']['first']} {user['name']['last']}\"\n    return f\"[b]{name}[/b]\\n[yellow]{country}\"\nconsole = Console()\nusers = json.loads(urlopen(\"https://randomuser.me/api/?results=30\").read())[\"results\"]\nconsole.print(users, overflow=\"ignore\", crop=False)\nuser_renderables = [Panel(get_content(user), expand=True) for user in users]\nconsole.print(Columns(user_renderables))",
    "start_line": 16
  },
  {
    "file": "columns.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "\"\"\"\nThis example shows how to display content in columns.\n\nThe data is pulled from https://randomuser.me\n\"\"\"\n\nimport json\nfrom urllib.request import urlopen\n\nfrom rich.console import Console\nfrom rich.columns import Columns\nfrom rich.panel import Panel\n\n\ndef get_content(user):\n    \"\"\"Extract text from user dict.\"\"\"\n    country = user[\"location\"][\"country\"]\n    name = f\"{user['name']['first']} {user['name']['last']}\"\n    return f\"[b]{name}[/b]\\n[yellow]{country}\"\n\n\nconsole = Console()\n\n\nusers = json.loads(urlopen(\"https://randomuser.me/api/?results=30\").read())[\"results\"]\nconsole.print(users, overflow=\"ignore\", crop=False)\nuser_renderables = [Panel(get_content(user), expand=True) for user in users]\nconsole.print(Columns(user_renderables))\n",
    "start_line": 0
  },
  {
    "file": "spinners.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from time import sleep\nfrom rich.columns import Columns\nfrom rich.panel import Panel\nfrom rich.live import Live\nfrom rich.text import Text\nfrom rich.spinner import Spinner, SPINNERS",
    "start_line": 0
  },
  {
    "file": "spinners.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "all_spinners = Columns(\n    [\n        Spinner(spinner_name, text=Text(repr(spinner_name), style=\"green\"))\n        for spinner_name in sorted(SPINNERS)\n    ],\n    column_first=True,\n    expand=True,\n)\nwith Live(\n    Panel(all_spinners, title=\"Spinners\", border_style=\"blue\"),\n    refresh_per_second=20,\n) as live:\n    while True:\n        sleep(0.1)",
    "start_line": 8
  },
  {
    "file": "spinners.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "from time import sleep\n\nfrom rich.columns import Columns\nfrom rich.panel import Panel\nfrom rich.live import Live\nfrom rich.text import Text\nfrom rich.spinner import Spinner, SPINNERS\n\nall_spinners = Columns(\n    [\n        Spinner(spinner_name, text=Text(repr(spinner_name), style=\"green\"))\n        for spinner_name in sorted(SPINNERS)\n    ],\n    column_first=True,\n    expand=True,\n)\n\nwith Live(\n    Panel(all_spinners, title=\"Spinners\", border_style=\"blue\"),\n    refresh_per_second=20,\n) as live:\n    while True:\n        sleep(0.1)\n",
    "start_line": 0
  },
  {
    "file": "justify2.py",
    "type": "module_docstring",
    "class": null,
    "method": null,
    "name": "module_docstring",
    "content": "\"\"\"\nThis example demonstrates the justify argument to print.\n\"\"\"",
    "start_line": 0
  },
  {
    "file": "justify2.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from rich.console import Console\nfrom rich.panel import Panel",
    "start_line": 4
  },
  {
    "file": "justify2.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(width=20)\nstyle = \"bold white on blue\"\npanel = Panel(\"Rich\", style=\"on red\", expand=False)\nconsole.print(panel, style=style)\nconsole.print(panel, style=style, justify=\"left\")\nconsole.print(panel, style=style, justify=\"center\")\nconsole.print(panel, style=style, justify=\"right\")",
    "start_line": 7
  },
  {
    "file": "justify2.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "\"\"\"\nThis example demonstrates the justify argument to print.\n\"\"\"\n\nfrom rich.console import Console\nfrom rich.panel import Panel\n\nconsole = Console(width=20)\n\nstyle = \"bold white on blue\"\npanel = Panel(\"Rich\", style=\"on red\", expand=False)\nconsole.print(panel, style=style)\nconsole.print(panel, style=style, justify=\"left\")\nconsole.print(panel, style=style, justify=\"center\")\nconsole.print(panel, style=style, justify=\"right\")\n",
    "start_line": 0
  },
  {
    "file": "fullscreen.py",
    "type": "module_docstring",
    "class": null,
    "method": null,
    "name": "module_docstring",
    "content": "\"\"\"\nDemonstrates a Rich \"application\" using the Layout and Live classes.\n\n\"\"\"",
    "start_line": 0
  },
  {
    "file": "fullscreen.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from datetime import datetime\nfrom rich import box\nfrom rich.align import Align\nfrom rich.console import Console, Group\nfrom rich.layout import Layout\nfrom rich.panel import Panel\nfrom rich.progress import BarColumn, Progress, SpinnerColumn, TextColumn\nfrom rich.syntax import Syntax\nfrom rich.table import Table",
    "start_line": 5
  },
  {
    "file": "fullscreen.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console()",
    "start_line": 16
  },
  {
    "file": "fullscreen.py",
    "type": "function",
    "class": null,
    "method": "make_layout",
    "name": "make_layout",
    "content": "def make_layout() -> Layout:\n    \"\"\"Define the layout.\"\"\"",
    "start_line": 19
  },
  {
    "file": "fullscreen.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "layout = Layout(name=\"root\")\n    layout.split(\n        Layout(name=\"header\", size=3),\n        Layout(name=\"main\", ratio=1),\n        Layout(name=\"footer\", size=7),\n    )\n    layout[\"main\"].split_row(\n        Layout(name=\"side\"),\n        Layout(name=\"body\", ratio=2, minimum_size=60),\n    )\n    layout[\"side\"].split(Layout(name=\"box1\"), Layout(name=\"box2\"))\n    return layout",
    "start_line": 21
  },
  {
    "file": "fullscreen.py",
    "type": "function",
    "class": null,
    "method": "make_sponsor_message",
    "name": "make_sponsor_message",
    "content": "def make_sponsor_message() -> Panel:\n    \"\"\"Some example content.\"\"\"",
    "start_line": 36
  },
  {
    "file": "fullscreen.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "sponsor_message = Table.grid(padding=1)\n    sponsor_message.add_column(style=\"green\", justify=\"right\")\n    sponsor_message.add_column(no_wrap=True)\n    sponsor_message.add_row(\n        \"Twitter\",\n        \"[u blue link=https://twitter.com/textualize]https://twitter.com/textualize\",\n    )\n    sponsor_message.add_row(\n        \"CEO\",\n        \"[u blue link=https://twitter.com/willmcgugan]https://twitter.com/willmcgugan\",\n    )\n    sponsor_message.add_row(\n        \"Textualize\", \"[u blue link=https://www.textualize.io]https://www.textualize.io\"\n    )\n    message = Table.grid(padding=1)\n    message.add_column()\n    message.add_column(no_wrap=True)\n    message.add_row(sponsor_message)\n    message_panel = Panel(\n        Align.center(\n            Group(\"\\n\", Align.center(sponsor_message)),\n            vertical=\"middle\",\n        ),\n        box=box.ROUNDED,\n        padding=(1, 2),\n        title=\"[b red]Thanks for trying out Rich!\",\n        border_style=\"bright_blue\",\n    )\n    return message_panel",
    "start_line": 38
  },
  {
    "file": "fullscreen.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "Header",
    "content": "class Header:\n    \"\"\"Display header with clock.\"\"\"",
    "start_line": 71
  },
  {
    "file": "fullscreen.py",
    "type": "method",
    "class": "Header",
    "method": "__rich__",
    "name": "__rich__",
    "content": "class Header:\n    def __rich__(self) -> Panel:\n        grid = Table.grid(expand=True)\n        grid.add_column(justify=\"center\", ratio=1)\n        grid.add_column(justify=\"right\")\n        grid.add_row(\n            \"[b]Rich[/b] Layout application\",\n            datetime.now().ctime().replace(\":\", \"[blink]:[/]\"),\n        )\n        return Panel(grid, style=\"white on blue\")",
    "start_line": 74
  },
  {
    "file": "fullscreen.py",
    "type": "function",
    "class": null,
    "method": "make_syntax",
    "name": "make_syntax",
    "content": "def make_syntax() -> Syntax:",
    "start_line": 85
  },
  {
    "file": "fullscreen.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "code = \"\"\"\\",
    "start_line": 86
  },
  {
    "file": "fullscreen.py",
    "type": "function",
    "class": null,
    "method": "ratio_resolve",
    "name": "ratio_resolve",
    "content": "def ratio_resolve(total: int, edges: List[Edge]) -> List[int]:",
    "start_line": 87
  },
  {
    "file": "fullscreen.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "sizes = [(edge.size or None) for edge in edges]",
    "start_line": 88
  },
  {
    "file": "fullscreen.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# While any edges haven't been calculated\n    while any(size is None for size in sizes):\n        # Get flexible edges and index to map these back on to sizes list",
    "start_line": 90
  },
  {
    "file": "fullscreen.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "flexible_edges = [\n            (index, edge)\n            for index, (size, edge) in enumerate(zip(sizes, edges))\n            if size is None\n        ]",
    "start_line": 93
  },
  {
    "file": "fullscreen.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# Remaining space in total",
    "start_line": 98
  },
  {
    "file": "fullscreen.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "remaining = total - sum(size or 0 for size in sizes)\n        if remaining <= 0:",
    "start_line": 99
  },
  {
    "file": "fullscreen.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# No room for flexible edges\n            sizes[:] = [(size or 0) for size in sizes]\n            break\n        # Calculate number of characters in a ratio portion",
    "start_line": 101
  },
  {
    "file": "fullscreen.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "portion = remaining / sum((edge.ratio or 1) for _, edge in flexible_edges)",
    "start_line": 105
  },
  {
    "file": "fullscreen.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# If any edges will be less than their minimum, replace size with the minimum\n        for index, edge in flexible_edges:\n            if portion * edge.ratio <= edge.minimum_size:\n                sizes[index] = edge.minimum_size\n                break\n        else:\n            # Distribute flexible space and compensate for rounding error\n            # Since edge sizes can only be integers we need to add the remainder\n            # to the following line",
    "start_line": 107
  },
  {
    "file": "fullscreen.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "_modf = modf\n            remainder = 0.0\n            for index, edge in flexible_edges:\n                remainder, size = _modf(portion * edge.ratio + remainder)\n                sizes[index] = int(size)\n            break",
    "start_line": 116
  },
  {
    "file": "fullscreen.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# Sizes now contains integers only\n    return cast(List[int], sizes)\n    \"\"\"",
    "start_line": 122
  },
  {
    "file": "fullscreen.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "syntax = Syntax(code, \"python\", line_numbers=True)\n    return syntax\njob_progress = Progress(\n    \"{task.description}\",\n    SpinnerColumn(),\n    BarColumn(),\n    TextColumn(\"[progress.percentage]{task.percentage:>3.0f}%\"),\n)\njob_progress.add_task(\"[green]Cooking\")\njob_progress.add_task(\"[magenta]Baking\", total=200)\njob_progress.add_task(\"[cyan]Mixing\", total=400)\ntotal = sum(task.total for task in job_progress.tasks)\noverall_progress = Progress()\noverall_task = overall_progress.add_task(\"All Jobs\", total=int(total))\nprogress_table = Table.grid(expand=True)\nprogress_table.add_row(\n    Panel(\n        overall_progress,\n        title=\"Overall Progress\",\n        border_style=\"green\",\n        padding=(2, 2),\n    ),\n    Panel(job_progress, title=\"[b]Jobs\", border_style=\"red\", padding=(1, 2)),\n)\nlayout = make_layout()\nlayout[\"header\"].update(Header())\nlayout[\"body\"].update(make_sponsor_message())\nlayout[\"box2\"].update(Panel(make_syntax(), border_style=\"green\"))\nlayout[\"box1\"].update(Panel(layout.tree, border_style=\"red\"))\nlayout[\"footer\"].update(progress_table)",
    "start_line": 125
  },
  {
    "file": "fullscreen.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from time import sleep\nfrom rich.live import Live\nwith Live(layout, refresh_per_second=10, screen=True):\n    while not overall_progress.finished:\n        sleep(0.1)\n        for job in job_progress.tasks:\n            if not job.finished:\n                job_progress.advance(job.id)",
    "start_line": 163
  },
  {
    "file": "fullscreen.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "completed = sum(task.completed for task in job_progress.tasks)\n        overall_progress.update(overall_task, completed=completed)",
    "start_line": 174
  },
  {
    "file": "fullscreen.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "\"\"\"\nDemonstrates a Rich \"application\" using the Layout and Live classes.\n\n\"\"\"\n\nfrom datetime import datetime\n\nfrom rich import box\nfrom rich.align import Align\nfrom rich.console import Console, Group\nfrom rich.layout import Layout\nfrom rich.panel import Panel\nfrom rich.progress import BarColumn, Progress, SpinnerColumn, TextColumn\nfrom rich.syntax import Syntax\nfrom rich.table import Table\n\nconsole = Console()\n\n\ndef make_layout() -> Layout:\n    \"\"\"Define the layout.\"\"\"\n    layout = Layout(name=\"root\")\n\n    layout.split(\n        Layout(name=\"header\", size=3),\n        Layout(name=\"main\", ratio=1),\n        Layout(name=\"footer\", size=7),\n    )\n    layout[\"main\"].split_row(\n        Layout(name=\"side\"),\n        Layout(name=\"body\", ratio=2, minimum_size=60),\n    )\n    layout[\"side\"].split(Layout(name=\"box1\"), Layout(name=\"box2\"))\n    return layout\n\n\ndef make_sponsor_message() -> Panel:\n    \"\"\"Some example content.\"\"\"\n    sponsor_message = Table.grid(padding=1)\n    sponsor_message.add_column(style=\"green\", justify=\"right\")\n    sponsor_message.add_column(no_wrap=True)\n    sponsor_message.add_row(\n        \"Twitter\",\n        \"[u blue link=https://twitter.com/textualize]https://twitter.com/textualize\",\n    )\n    sponsor_message.add_row(\n        \"CEO\",\n        \"[u blue link=https://twitter.com/willmcgugan]https://twitter.com/willmcgugan\",\n    )\n    sponsor_message.add_row(\n        \"Textualize\", \"[u blue link=https://www.textualize.io]https://www.textualize.io\"\n    )\n\n    message = Table.grid(padding=1)\n    message.add_column()\n    message.add_column(no_wrap=True)\n    message.add_row(sponsor_message)\n\n    message_panel = Panel(\n        Align.center(\n            Group(\"\\n\", Align.center(sponsor_message)),\n            vertical=\"middle\",\n        ),\n        box=box.ROUNDED,\n        padding=(1, 2),\n        title=\"[b red]Thanks for trying out Rich!\",\n        border_style=\"bright_blue\",\n    )\n    return message_panel\n\n\nclass Header:\n    \"\"\"Display header with clock.\"\"\"\n\n    def __rich__(self) -> Panel:\n        grid = Table.grid(expand=True)\n        grid.add_column(justify=\"center\", ratio=1)\n        grid.add_column(justify=\"right\")\n        grid.add_row(\n            \"[b]Rich[/b] Layout application\",\n            datetime.now().ctime().replace(\":\", \"[blink]:[/]\"),\n        )\n        return Panel(grid, style=\"white on blue\")\n\n\ndef make_syntax() -> Syntax:\n    code = \"\"\"\\\ndef ratio_resolve(total: int, edges: List[Edge]) -> List[int]:\n    sizes = [(edge.size or None) for edge in edges]\n\n    # While any edges haven't been calculated\n    while any(size is None for size in sizes):\n        # Get flexible edges and index to map these back on to sizes list\n        flexible_edges = [\n            (index, edge)\n            for index, (size, edge) in enumerate(zip(sizes, edges))\n            if size is None\n        ]\n        # Remaining space in total\n        remaining = total - sum(size or 0 for size in sizes)\n        if remaining <= 0:\n            # No room for flexible edges\n            sizes[:] = [(size or 0) for size in sizes]\n            break\n        # Calculate number of characters in a ratio portion\n        portion = remaining / sum((edge.ratio or 1) for _, edge in flexible_edges)\n\n        # If any edges will be less than their minimum, replace size with the minimum\n        for index, edge in flexible_edges:\n            if portion * edge.ratio <= edge.minimum_size:\n                sizes[index] = edge.minimum_size\n                break\n        else:\n            # Distribute flexible space and compensate for rounding error\n            # Since edge sizes can only be integers we need to add the remainder\n            # to the following line\n            _modf = modf\n            remainder = 0.0\n            for index, edge in flexible_edges:\n                remainder, size = _modf(portion * edge.ratio + remainder)\n                sizes[index] = int(size)\n            break\n    # Sizes now contains integers only\n    return cast(List[int], sizes)\n    \"\"\"\n    syntax = Syntax(code, \"python\", line_numbers=True)\n    return syntax\n\n\njob_progress = Progress(\n    \"{task.description}\",\n    SpinnerColumn(),\n    BarColumn(),\n    TextColumn(\"[progress.percentage]{task.percentage:>3.0f}%\"),\n)\njob_progress.add_task(\"[green]Cooking\")\njob_progress.add_task(\"[magenta]Baking\", total=200)\njob_progress.add_task(\"[cyan]Mixing\", total=400)\n\ntotal = sum(task.total for task in job_progress.tasks)\noverall_progress = Progress()\noverall_task = overall_progress.add_task(\"All Jobs\", total=int(total))\n\nprogress_table = Table.grid(expand=True)\nprogress_table.add_row(\n    Panel(\n        overall_progress,\n        title=\"Overall Progress\",\n        border_style=\"green\",\n        padding=(2, 2),\n    ),\n    Panel(job_progress, title=\"[b]Jobs\", border_style=\"red\", padding=(1, 2)),\n)\n\n\nlayout = make_layout()\nlayout[\"header\"].update(Header())\nlayout[\"body\"].update(make_sponsor_message())\nlayout[\"box2\"].update(Panel(make_syntax(), border_style=\"green\"))\nlayout[\"box1\"].update(Panel(layout.tree, border_style=\"red\"))\nlayout[\"footer\"].update(progress_table)\n\n\nfrom time import sleep\n\nfrom rich.live import Live\n\nwith Live(layout, refresh_per_second=10, screen=True):\n    while not overall_progress.finished:\n        sleep(0.1)\n        for job in job_progress.tasks:\n            if not job.finished:\n                job_progress.advance(job.id)\n\n        completed = sum(task.completed for task in job_progress.tasks)\n        overall_progress.update(overall_task, completed=completed)\n",
    "start_line": 0
  },
  {
    "file": "highlighter.py",
    "type": "module_docstring",
    "class": null,
    "method": null,
    "name": "module_docstring",
    "content": "\"\"\"\nThis example demonstrates a simple text highlighter.\n\"\"\"",
    "start_line": 0
  },
  {
    "file": "highlighter.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from rich.console import Console\nfrom rich.highlighter import RegexHighlighter\nfrom rich.theme import Theme",
    "start_line": 4
  },
  {
    "file": "highlighter.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "EmailHighlighter",
    "content": "class EmailHighlighter(RegexHighlighter):\n    \"\"\"Apply style to anything that looks like an email.\"\"\"\n\n    base_style = \"example.\"\n    highlights = [r\"(?P<email>[\\w-]+@([\\w-]+\\.)+[\\w-]+)\"]\n\n\ntheme = Theme({\"example.email\": \"bold magenta\"})",
    "start_line": 9
  },
  {
    "file": "highlighter.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(highlighter=EmailHighlighter(), theme=theme)\nconsole.print(\"Send funds to money@example.org\")",
    "start_line": 17
  },
  {
    "file": "highlighter.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "\"\"\"\nThis example demonstrates a simple text highlighter.\n\"\"\"\n\nfrom rich.console import Console\nfrom rich.highlighter import RegexHighlighter\nfrom rich.theme import Theme\n\n\nclass EmailHighlighter(RegexHighlighter):\n    \"\"\"Apply style to anything that looks like an email.\"\"\"\n\n    base_style = \"example.\"\n    highlights = [r\"(?P<email>[\\w-]+@([\\w-]+\\.)+[\\w-]+)\"]\n\n\ntheme = Theme({\"example.email\": \"bold magenta\"})\nconsole = Console(highlighter=EmailHighlighter(), theme=theme)\n\nconsole.print(\"Send funds to money@example.org\")\n",
    "start_line": 0
  },
  {
    "file": "group.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from rich import print\nfrom rich.console import Group\nfrom rich.panel import Panel",
    "start_line": 0
  },
  {
    "file": "group.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "panel_group = Group(\n    Panel(\"Hello\", style=\"on blue\"),\n    Panel(\"World\", style=\"on red\"),\n)\nprint(Panel(panel_group))",
    "start_line": 4
  },
  {
    "file": "group.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "from rich import print\nfrom rich.console import Group\nfrom rich.panel import Panel\n\npanel_group = Group(\n    Panel(\"Hello\", style=\"on blue\"),\n    Panel(\"World\", style=\"on red\"),\n)\nprint(Panel(panel_group))\n",
    "start_line": 0
  },
  {
    "file": "bars.py",
    "type": "module_docstring",
    "class": null,
    "method": null,
    "name": "module_docstring",
    "content": "\"\"\"\n\nUse Bar to renderer a sort-of circle.\n\n\"\"\"",
    "start_line": 0
  },
  {
    "file": "bars.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "import math\nfrom rich.align import Align\nfrom rich.bar import Bar\nfrom rich.color import Color\nfrom rich import print",
    "start_line": 5
  },
  {
    "file": "bars.py",
    "type": "constants",
    "class": null,
    "method": null,
    "name": "module_constants",
    "content": "SIZE = 40\nfor row in range(SIZE):",
    "start_line": 13
  },
  {
    "file": "bars.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "y = (row / (SIZE - 1)) * 2 - 1\n    x = math.sqrt(1 - y * y)\n    color = Color.from_rgb((1 + y) * 127.5, 0, 0)\n    bar = Bar(2, width=SIZE * 2, begin=1 - x, end=1 + x, color=color)\n    print(Align.center(bar))",
    "start_line": 16
  },
  {
    "file": "bars.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "\"\"\"\n\nUse Bar to renderer a sort-of circle.\n\n\"\"\"\nimport math\n\nfrom rich.align import Align\nfrom rich.bar import Bar\nfrom rich.color import Color\nfrom rich import print\n\n\nSIZE = 40\n\nfor row in range(SIZE):\n    y = (row / (SIZE - 1)) * 2 - 1\n    x = math.sqrt(1 - y * y)\n    color = Color.from_rgb((1 + y) * 127.5, 0, 0)\n    bar = Bar(2, width=SIZE * 2, begin=1 - x, end=1 + x, color=color)\n    print(Align.center(bar))\n",
    "start_line": 0
  },
  {
    "file": "table.py",
    "type": "module_docstring",
    "class": null,
    "method": null,
    "name": "module_docstring",
    "content": "\"\"\"\nDemonstrates how to render a table.\n\"\"\"",
    "start_line": 0
  },
  {
    "file": "table.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from rich.console import Console\nfrom rich.table import Table",
    "start_line": 4
  },
  {
    "file": "table.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "table = Table(title=\"Star Wars Movies\")\ntable.add_column(\"Released\", style=\"cyan\", no_wrap=True)\ntable.add_column(\"Title\", style=\"magenta\")\ntable.add_column(\"Box Office\", justify=\"right\", style=\"green\")\ntable.add_row(\"Dec 20, 2019\", \"Star Wars: The Rise of Skywalker\", \"$952,110,690\")\ntable.add_row(\"May 25, 2018\", \"Solo: A Star Wars Story\", \"$393,151,347\")\ntable.add_row(\"Dec 15, 2017\", \"Star Wars Ep. V111: The Last Jedi\", \"$1,332,539,889\")\ntable.add_row(\"Dec 16, 2016\", \"Rogue One: A Star Wars Story\", \"$1,332,439,889\")\nconsole = Console()\nconsole.print(table, justify=\"center\")",
    "start_line": 7
  },
  {
    "file": "table.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "\"\"\"\nDemonstrates how to render a table.\n\"\"\"\n\nfrom rich.console import Console\nfrom rich.table import Table\n\ntable = Table(title=\"Star Wars Movies\")\n\ntable.add_column(\"Released\", style=\"cyan\", no_wrap=True)\ntable.add_column(\"Title\", style=\"magenta\")\ntable.add_column(\"Box Office\", justify=\"right\", style=\"green\")\n\ntable.add_row(\"Dec 20, 2019\", \"Star Wars: The Rise of Skywalker\", \"$952,110,690\")\ntable.add_row(\"May 25, 2018\", \"Solo: A Star Wars Story\", \"$393,151,347\")\ntable.add_row(\"Dec 15, 2017\", \"Star Wars Ep. V111: The Last Jedi\", \"$1,332,539,889\")\ntable.add_row(\"Dec 16, 2016\", \"Rogue One: A Star Wars Story\", \"$1,332,439,889\")\n\nconsole = Console()\nconsole.print(table, justify=\"center\")\n",
    "start_line": 0
  },
  {
    "file": "top_lite_simulator.py",
    "type": "module_docstring",
    "class": null,
    "method": null,
    "name": "module_docstring",
    "content": "\"\"\"Lite simulation of the top linux command.\"\"\"",
    "start_line": 0
  },
  {
    "file": "top_lite_simulator.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "import datetime\nimport random\nimport sys\nimport time\nfrom dataclasses import dataclass\nfrom rich import box\nfrom rich.console import Console\nfrom rich.live import Live\nfrom rich.table import Table\nif sys.version_info >= (3, 8):\n    from typing import Literal\nelse:\n    from typing_extensions import Literal\n@dataclass",
    "start_line": 1
  },
  {
    "file": "top_lite_simulator.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "Process",
    "content": "class Process:\n    pid: int\n    command: str\n    cpu_percent: float\n    memory: int\n    start_time: datetime.datetime\n    thread_count: int\n    state: Literal[\"running\", \"sleeping\"]\n\n    @property",
    "start_line": 19
  },
  {
    "file": "top_lite_simulator.py",
    "type": "method",
    "class": "Process",
    "method": "memory_str",
    "name": "memory_str",
    "content": "class Process:\n    def memory_str(self) -> str:\n        if self.memory > 1e6:\n            return f\"{int(self.memory/1e6)}M\"\n        if self.memory > 1e3:\n            return f\"{int(self.memory/1e3)}K\"\n        return str(self.memory)\n\n    @property",
    "start_line": 29
  },
  {
    "file": "top_lite_simulator.py",
    "type": "method",
    "class": "Process",
    "method": "time_str",
    "name": "time_str",
    "content": "class Process:\n    def time_str(self) -> str:\n        return str(datetime.datetime.now() - self.start_time)",
    "start_line": 37
  },
  {
    "file": "top_lite_simulator.py",
    "type": "function",
    "class": null,
    "method": "generate_process",
    "name": "generate_process",
    "content": "def generate_process(pid: int) -> Process:\n    return Process(",
    "start_line": 41
  },
  {
    "file": "top_lite_simulator.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "pid=pid,\n        command=f\"Process {pid}\",\n        cpu_percent=random.random() * 20,\n        memory=random.randint(10, 200) ** 3,\n        start_time=datetime.datetime.now()\n        - datetime.timedelta(seconds=random.randint(0, 500) ** 2),\n        thread_count=random.randint(1, 32),\n        state=\"running\" if random.randint(0, 10) < 8 else \"sleeping\",\n    )",
    "start_line": 43
  },
  {
    "file": "top_lite_simulator.py",
    "type": "function",
    "class": null,
    "method": "create_process_table",
    "name": "create_process_table",
    "content": "def create_process_table(height: int) -> Table:",
    "start_line": 54
  },
  {
    "file": "top_lite_simulator.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "processes = sorted(\n        [generate_process(pid) for pid in range(height)],\n        key=lambda p: p.cpu_percent,\n        reverse=True,\n    )\n    table = Table(\n        \"PID\", \"Command\", \"CPU %\", \"Memory\", \"Time\", \"Thread #\", \"State\", box=box.SIMPLE\n    )\n    for process in processes:\n        table.add_row(\n            str(process.pid),\n            process.command,\n            f\"{process.cpu_percent:.1f}\",\n            process.memory_str,\n            process.time_str,\n            str(process.thread_count),\n            process.state,\n        )\n    return table\nconsole = Console()\nwith Live(console=console, screen=True, auto_refresh=False) as live:\n    while True:\n        live.update(create_process_table(console.size.height - 4), refresh=True)\n        time.sleep(1)",
    "start_line": 55
  },
  {
    "file": "top_lite_simulator.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "\"\"\"Lite simulation of the top linux command.\"\"\"\nimport datetime\nimport random\nimport sys\nimport time\nfrom dataclasses import dataclass\n\nfrom rich import box\nfrom rich.console import Console\nfrom rich.live import Live\nfrom rich.table import Table\n\nif sys.version_info >= (3, 8):\n    from typing import Literal\nelse:\n    from typing_extensions import Literal\n\n\n@dataclass\nclass Process:\n    pid: int\n    command: str\n    cpu_percent: float\n    memory: int\n    start_time: datetime.datetime\n    thread_count: int\n    state: Literal[\"running\", \"sleeping\"]\n\n    @property\n    def memory_str(self) -> str:\n        if self.memory > 1e6:\n            return f\"{int(self.memory/1e6)}M\"\n        if self.memory > 1e3:\n            return f\"{int(self.memory/1e3)}K\"\n        return str(self.memory)\n\n    @property\n    def time_str(self) -> str:\n        return str(datetime.datetime.now() - self.start_time)\n\n\ndef generate_process(pid: int) -> Process:\n    return Process(\n        pid=pid,\n        command=f\"Process {pid}\",\n        cpu_percent=random.random() * 20,\n        memory=random.randint(10, 200) ** 3,\n        start_time=datetime.datetime.now()\n        - datetime.timedelta(seconds=random.randint(0, 500) ** 2),\n        thread_count=random.randint(1, 32),\n        state=\"running\" if random.randint(0, 10) < 8 else \"sleeping\",\n    )\n\n\ndef create_process_table(height: int) -> Table:\n    processes = sorted(\n        [generate_process(pid) for pid in range(height)],\n        key=lambda p: p.cpu_percent,\n        reverse=True,\n    )\n    table = Table(\n        \"PID\", \"Command\", \"CPU %\", \"Memory\", \"Time\", \"Thread #\", \"State\", box=box.SIMPLE\n    )\n\n    for process in processes:\n        table.add_row(\n            str(process.pid),\n            process.command,\n            f\"{process.cpu_percent:.1f}\",\n            process.memory_str,\n            process.time_str,\n            str(process.thread_count),\n            process.state,\n        )\n\n    return table\n\n\nconsole = Console()\n\nwith Live(console=console, screen=True, auto_refresh=False) as live:\n    while True:\n        live.update(create_process_table(console.size.height - 4), refresh=True)\n        time.sleep(1)\n",
    "start_line": 0
  },
  {
    "file": "attrs.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from typing import List\ntry:\n    import attr\nexcept ImportError:\n    print(\"This example requires attrs library\")\n    print(\"pip install attrs\")\n    raise SystemExit()\n@attr.define",
    "start_line": 0
  },
  {
    "file": "attrs.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "Point3D",
    "content": "class Point3D:\n    x: float\n    y: float\n    z: float = 0\n\n\n@attr.define",
    "start_line": 11
  },
  {
    "file": "attrs.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "Triangle",
    "content": "class Triangle:\n    point1: Point3D\n    point2: Point3D\n    point3: Point3D\n\n\n@attr.define",
    "start_line": 18
  },
  {
    "file": "attrs.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "Model",
    "content": "class Model:\n    name: str\n    triangles: List[Triangle] = attr.Factory(list)\n\n\nif __name__ == \"__main__\":",
    "start_line": 25
  },
  {
    "file": "attrs.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "model = Model(\n        name=\"Alien#1\",\n        triangles=[\n            Triangle(\n                Point3D(x=20, y=50),\n                Point3D(x=50, y=15, z=-45.34),\n                Point3D(3.1426, 83.2323, -16),\n            )\n        ],\n    )",
    "start_line": 31
  },
  {
    "file": "attrs.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from rich.console import Console\n    from rich.pretty import Pretty\n    from rich.table import Column, Table\n    from rich.text import Text",
    "start_line": 42
  },
  {
    "file": "attrs.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console()\n    table = Table(\"attrs *with* Rich\", Column(Text.from_markup(\"attrs *without* Rich\")))\n    table.add_row(Pretty(model), repr(model))\n    console.print(table)",
    "start_line": 47
  },
  {
    "file": "attrs.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "from typing import List\n\ntry:\n    import attr\nexcept ImportError:\n    print(\"This example requires attrs library\")\n    print(\"pip install attrs\")\n    raise SystemExit()\n\n\n@attr.define\nclass Point3D:\n    x: float\n    y: float\n    z: float = 0\n\n\n@attr.define\nclass Triangle:\n    point1: Point3D\n    point2: Point3D\n    point3: Point3D\n\n\n@attr.define\nclass Model:\n    name: str\n    triangles: List[Triangle] = attr.Factory(list)\n\n\nif __name__ == \"__main__\":\n    model = Model(\n        name=\"Alien#1\",\n        triangles=[\n            Triangle(\n                Point3D(x=20, y=50),\n                Point3D(x=50, y=15, z=-45.34),\n                Point3D(3.1426, 83.2323, -16),\n            )\n        ],\n    )\n\n    from rich.console import Console\n    from rich.pretty import Pretty\n    from rich.table import Column, Table\n    from rich.text import Text\n\n    console = Console()\n\n    table = Table(\"attrs *with* Rich\", Column(Text.from_markup(\"attrs *without* Rich\")))\n\n    table.add_row(Pretty(model), repr(model))\n    console.print(table)\n",
    "start_line": 0
  },
  {
    "file": "listdir.py",
    "type": "module_docstring",
    "class": null,
    "method": null,
    "name": "module_docstring",
    "content": "\"\"\"\nA very simple `ls` clone.\n\nIf your terminal supports hyperlinks you should be able to launch files by clicking the filename\n(usually with cmd / ctrl).\n\n\"\"\"",
    "start_line": 0
  },
  {
    "file": "listdir.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "import os\nimport sys\nfrom rich import print\nfrom rich.columns import Columns\nfrom rich.text import Text\ntry:",
    "start_line": 8
  },
  {
    "file": "listdir.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "root_path = sys.argv[1]\nexcept IndexError:\n    print(\"Usage: python listdir.py DIRECTORY\")\nelse:",
    "start_line": 16
  },
  {
    "file": "listdir.py",
    "type": "function",
    "class": null,
    "method": "make_filename_text",
    "name": "make_filename_text",
    "content": "def make_filename_text(filename):",
    "start_line": 21
  },
  {
    "file": "listdir.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "path = os.path.abspath(os.path.join(root_path, filename))\n        text = Text(filename, style=\"bold blue\" if os.path.isdir(path) else \"default\")\n        text.stylize(f\"link file://{path}\")\n        text.highlight_regex(r\"\\..*?$\", \"bold\")\n        return text\n    filenames = [\n        filename for filename in os.listdir(root_path) if not filename.startswith(\".\")\n    ]\n    filenames.sort(key=lambda filename: filename.lower())\n    filename_text = [make_filename_text(filename) for filename in filenames]\n    columns = Columns(filename_text, equal=True, column_first=True)\n    print(columns)",
    "start_line": 22
  },
  {
    "file": "listdir.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "\"\"\"\nA very simple `ls` clone.\n\nIf your terminal supports hyperlinks you should be able to launch files by clicking the filename\n(usually with cmd / ctrl).\n\n\"\"\"\n\nimport os\nimport sys\n\nfrom rich import print\nfrom rich.columns import Columns\nfrom rich.text import Text\n\ntry:\n    root_path = sys.argv[1]\nexcept IndexError:\n    print(\"Usage: python listdir.py DIRECTORY\")\nelse:\n\n    def make_filename_text(filename):\n        path = os.path.abspath(os.path.join(root_path, filename))\n        text = Text(filename, style=\"bold blue\" if os.path.isdir(path) else \"default\")\n        text.stylize(f\"link file://{path}\")\n        text.highlight_regex(r\"\\..*?$\", \"bold\")\n        return text\n\n    filenames = [\n        filename for filename in os.listdir(root_path) if not filename.startswith(\".\")\n    ]\n    filenames.sort(key=lambda filename: filename.lower())\n    filename_text = [make_filename_text(filename) for filename in filenames]\n    columns = Columns(filename_text, equal=True, column_first=True)\n    print(columns)\n",
    "start_line": 0
  },
  {
    "file": "padding.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from rich import print\nfrom rich.padding import Padding",
    "start_line": 0
  },
  {
    "file": "padding.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "test = Padding(\"Hello\", (2, 4), style=\"on blue\", expand=False)\nprint(test)",
    "start_line": 3
  },
  {
    "file": "padding.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "from rich import print\nfrom rich.padding import Padding\n\ntest = Padding(\"Hello\", (2, 4), style=\"on blue\", expand=False)\nprint(test)\n",
    "start_line": 0
  },
  {
    "file": "status.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from time import sleep\nfrom rich.console import Console",
    "start_line": 0
  },
  {
    "file": "status.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console()\nconsole.print()\ntasks = [f\"task {n}\" for n in range(1, 11)]\nwith console.status(\"[bold green]Working on tasks...\") as status:\n    while tasks:\n        task = tasks.pop(0)\n        sleep(1)\n        console.log(f\"{task} complete\")",
    "start_line": 3
  },
  {
    "file": "status.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "from time import sleep\nfrom rich.console import Console\n\nconsole = Console()\nconsole.print()\n\ntasks = [f\"task {n}\" for n in range(1, 11)]\n\nwith console.status(\"[bold green]Working on tasks...\") as status:\n    while tasks:\n        task = tasks.pop(0)\n        sleep(1)\n        console.log(f\"{task} complete\")\n",
    "start_line": 0
  },
  {
    "file": "rainbow.py",
    "type": "module_docstring",
    "class": null,
    "method": null,
    "name": "module_docstring",
    "content": "\"\"\"\n\nThis example demonstrates how to write a custom highlighter.\n\n\"\"\"",
    "start_line": 0
  },
  {
    "file": "rainbow.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from random import randint\nfrom rich import print\nfrom rich.highlighter import Highlighter",
    "start_line": 6
  },
  {
    "file": "rainbow.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "RainbowHighlighter",
    "content": "class RainbowHighlighter(Highlighter):",
    "start_line": 12
  },
  {
    "file": "rainbow.py",
    "type": "method",
    "class": "RainbowHighlighter",
    "method": "highlight",
    "name": "highlight",
    "content": "class RainbowHighlighter:\n    def highlight(self, text):\n        for index in range(len(text)):\n            text.stylize(f\"color({randint(16, 255)})\", index, index + 1)\n\n\nrainbow = RainbowHighlighter()\nprint(rainbow(\"I must not fear. Fear is the mind-killer.\"))",
    "start_line": 13
  },
  {
    "file": "rainbow.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "\"\"\"\n\nThis example demonstrates how to write a custom highlighter.\n\n\"\"\"\n\nfrom random import randint\n\nfrom rich import print\nfrom rich.highlighter import Highlighter\n\n\nclass RainbowHighlighter(Highlighter):\n    def highlight(self, text):\n        for index in range(len(text)):\n            text.stylize(f\"color({randint(16, 255)})\", index, index + 1)\n\n\nrainbow = RainbowHighlighter()\nprint(rainbow(\"I must not fear. Fear is the mind-killer.\"))\n",
    "start_line": 0
  },
  {
    "file": "__init__.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "",
    "start_line": 0
  },
  {
    "file": "snippets.py",
    "type": "constants",
    "class": null,
    "method": null,
    "name": "module_constants",
    "content": "PYTHON_SNIPPET = '''",
    "start_line": 0
  },
  {
    "file": "snippets.py",
    "type": "function",
    "class": null,
    "method": "layout_resolve",
    "name": "layout_resolve",
    "content": "def layout_resolve(total: int, edges: Sequence[EdgeProtocol]) -> List[int]:\n    \"\"\"Divide total space to satisfy size, fraction, and min_size, constraints.\n\n    The returned list of integers should add up to total in most cases, unless it is\n    impossible to satisfy all the constraints. For instance, if there are two edges\n    with a minimum size of 20 each and `total` is 30 then the returned list will be\n    greater than total. In practice, this would mean that a Layout object would\n    clip the rows that would overflow the screen height.\n\n    Args:\n        total (int): Total number of characters.\n        edges (Sequence[Edge]): Edges within total space.\n\n    Returns:\n        list[int]: Number of characters for each edge.\n    \"\"\"",
    "start_line": 1
  },
  {
    "file": "snippets.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# Size of edge or None for yet to be determined",
    "start_line": 17
  },
  {
    "file": "snippets.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "sizes = [(edge.size or None) for edge in edges]\n    if None not in sizes:",
    "start_line": 18
  },
  {
    "file": "snippets.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# No flexible edges\n        return cast(\"list[int]\", sizes)\n    # Get flexible edges and index to map these back on to sizes list",
    "start_line": 21
  },
  {
    "file": "snippets.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "flexible_edges = [\n        (index, edge)\n        for index, (size, edge) in enumerate(zip(sizes, edges))\n        if size is None\n    ]",
    "start_line": 25
  },
  {
    "file": "snippets.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# Remaining space in total",
    "start_line": 30
  },
  {
    "file": "snippets.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "remaining = total - sum([size or 0 for size in sizes])\n    if remaining <= 0:",
    "start_line": 31
  },
  {
    "file": "snippets.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# No room for flexible edges\n        return [\n            ((edge.min_size or 1) if size is None else size)\n            for size, edge in zip(sizes, edges)\n        ]\n    # Get the total fraction value for all flexible edges",
    "start_line": 33
  },
  {
    "file": "snippets.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "total_flexible = sum([(edge.fraction or 1) for _, edge in flexible_edges])\n    while flexible_edges:",
    "start_line": 40
  },
  {
    "file": "snippets.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# Calculate number of characters in a ratio portion",
    "start_line": 42
  },
  {
    "file": "snippets.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "portion = Fraction(remaining, total_flexible)",
    "start_line": 43
  },
  {
    "file": "snippets.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# If any edges will be less than their minimum, replace size with the minimum\n        for flexible_index, (index, edge) in enumerate(flexible_edges):\n            if portion * edge.fraction < edge.min_size:\n                # This flexible edge will be smaller than its minimum size\n                # We need to fix the size and redistribute the outstanding space\n                sizes[index] = edge.min_size\n                remaining -= edge.min_size\n                total_flexible -= edge.fraction or 1\n                del flexible_edges[flexible_index]\n                # New fixed size will invalidate calculations, so we need to repeat the process\n                break\n        else:\n            # Distribute flexible space and compensate for rounding error\n            # Since edge sizes can only be integers we need to add the remainder\n            # to the following line",
    "start_line": 45
  },
  {
    "file": "snippets.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "remainder = Fraction(0)\n            for index, edge in flexible_edges:\n                sizes[index], remainder = divmod(portion * edge.fraction + remainder, 1)\n            break",
    "start_line": 60
  },
  {
    "file": "snippets.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# Sizes now contains integers only\n    return cast(\"list[int]\", sizes)\n'''",
    "start_line": 65
  },
  {
    "file": "snippets.py",
    "type": "constants",
    "class": null,
    "method": null,
    "name": "module_constants",
    "content": "PYTHON_DICT = {\n    \"glossary\": {\n        \"title\": \"example glossary\",\n        \"GlossDiv\": {\n            \"title\": \"S\",\n            \"GlossList\": {\n                \"GlossEntry\": {\n                    \"ID\": \"SGML\",\n                    \"SortAs\": \"SGML\",\n                    \"GlossTerm\": \"Standard Generalized Markup Language\",\n                    \"Acronym\": \"SGML\",\n                    \"Abbrev\": \"ISO 8879:1986\",\n                    \"GlossDef\": {\n                        \"para\": \"A meta-markup language, used to create markup languages such as DocBook.\",\n                        \"GlossSeeAlso\": [\"GML\", \"XML\"],\n                    },\n                    \"GlossSee\": \"markup\",\n                }\n            },\n        },\n    }\n}\nLOREM_IPSUM = \"\"\"\nLorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Laoreet id donec ultrices tincidunt arcu. Eu facilisis sed odio morbi quis commodo odio aenean sed. Amet cursus sit amet dictum. Gravida rutrum quisque non tellus. Semper auctor neque vitae tempus quam pellentesque nec nam. Mauris sit amet massa vitae tortor condimentum lacinia quis. Adipiscing elit ut aliquam purus sit amet luctus venenatis lectus. Consectetur adipiscing elit ut aliquam purus sit amet. Sit amet mauris commodo quis imperdiet massa tincidunt nunc pulvinar. Dui faucibus in ornare quam viverra. Et netus et malesuada fames ac turpis. A lacus vestibulum sed arcu non odio euismod. In massa tempor nec feugiat nisl pretium fusce.\nTellus in hac habitasse platea dictumst vestibulum. Feugiat nibh sed pulvinar proin. In cursus turpis massa tincidunt dui ut. Fermentum posuere urna nec tincidunt praesent semper feugiat. Interdum consectetur libero id faucibus. Habitant morbi tristique senectus et netus et malesuada fames ac. Facilisis leo vel fringilla est ullamcorper eget nulla facilisi. Aliquam faucibus purus in massa tempor. Tellus pellentesque eu tincidunt tortor aliquam nulla. Sem et tortor consequat id porta nibh. Massa id neque aliquam vestibulum morbi blandit cursus risus. Ut placerat orci nulla pellentesque dignissim enim. Nibh tellus molestie nunc non blandit massa enim nec dui. Ipsum a arcu cursus vitae congue mauris rhoncus aenean vel. Egestas congue quisque egestas diam in.\nPulvinar mattis nunc sed blandit libero volutpat sed. Accumsan in nisl nisi scelerisque eu. Eget aliquet nibh praesent tristique. Ipsum suspendisse ultrices gravida dictum fusce ut. Non sodales neque sodales ut etiam sit amet. Velit egestas dui id ornare. Massa ultricies mi quis hendrerit dolor magna. Id volutpat lacus laoreet non curabitur gravida arcu. Nulla facilisi cras fermentum odio eu feugiat pretium. Sed vulputate odio ut enim blandit volutpat. Amet massa vitae tortor condimentum lacinia. Tellus integer feugiat scelerisque varius. Quam nulla porttitor massa id. Facilisi cras fermentum odio eu feugiat pretium nibh ipsum. Eget nunc scelerisque viverra mauris in aliquam sem fringilla. Amet nulla facilisi morbi tempus iaculis urna id volutpat lacus. Facilisi etiam dignissim diam quis enim lobortis.\nNullam vehicula ipsum a arcu cursus vitae congue mauris rhoncus. Ullamcorper a lacus vestibulum sed arcu non. Suscipit adipiscing bibendum est ultricies integer quis auctor elit. Integer feugiat scelerisque varius morbi enim. Posuere urna nec tincidunt praesent semper feugiat nibh sed pulvinar. Lobortis feugiat vivamus at augue eget. Rhoncus dolor purus non enim praesent. Mi in nulla posuere sollicitudin aliquam ultrices sagittis orci. Mollis aliquam ut porttitor leo. Id cursus metus aliquam eleifend mi in nulla. Integer eget aliquet nibh praesent tristique magna sit amet. Egestas maecenas pharetra convallis posuere morbi.\nBlandit massa enim nec dui. Suscipit tellus mauris a diam maecenas. Sed id semper risus in. Purus faucibus ornare suspendisse sed nisi lacus. At in tellus integer feugiat. Egestas diam in arcu cursus euismod quis viverra nibh cras. Enim tortor at auctor urna nunc id. Tristique nulla aliquet enim tortor at auctor urna nunc id. Purus gravida quis blandit turpis cursus in hac habitasse platea. Ac turpis egestas integer eget. Tortor at auctor urna nunc. Neque aliquam vestibulum morbi blandit cursus. Massa tempor nec feugiat nisl pretium fusce id velit. Interdum consectetur libero id faucibus nisl tincidunt. Adipiscing diam donec adipiscing tristique risus nec feugiat in. Egestas integer eget aliquet nibh praesent tristique magna sit.\n\"\"\"\nUNICODE_HEAVY_TEXT = \"\"\"\nRich __ Python\n[Rich API](https://rich.readthedocs.io/en/latest/) Rich\n![](https://github.com/textualize/rich/raw/master/imgs/features.png)\nRich [calmcode.io](https://calmcode.io/rich/introduction.html) by [@fishnets88](https://twitter.com/fishnets88).\n[Rich](https://www.willmcgugan.com/blog/pages/post/rich-tweets/)",
    "start_line": 69
  },
  {
    "file": "snippets.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "## \nRichLinuxOSXWindowsTrue color Windows 8RichPython3.6.3\nRich[Jupyter notebooks](https://jupyter.org/)\n## \n`pip` PyPI\n```sh\npython -m pip install rich\n```\n:\n```sh\npython -m rich\n```\n## Richprint\nPython [rich print](https://rich.readthedocs.io/en/latest/introduction.html#quick-start) :\n```python",
    "start_line": 115
  },
  {
    "file": "snippets.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from rich import print\nprint(\"Hello, [bold magenta]World[/bold magenta]!\", \":vampire:\", locals())\n```\n![Hello World](https://github.com/textualize/rich/raw/master/imgs/print.png)",
    "start_line": 140
  },
  {
    "file": "snippets.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "## Rich REPL\nRichPythonREPL\n```python\n>>> from rich import pretty\n>>> pretty.install()\n```\n![REPL](https://github.com/textualize/rich/raw/master/imgs/repl.png)\n## Rich Inspect\nRichPython[inspect](https://rich.readthedocs.io/en/latest/reference/init.html?highlight=inspect#rich.inspect)\n\n[Console](https://rich.readthedocs.io/en/latest/reference/console.html#rich.console.Console) \nConsole  `print`  `print` \n:\n `\"Hello World!\"`  `print` Rich \n `style` :\n\"\"\"",
    "start_line": 147
  },
  {
    "file": "snippets.py",
    "type": "constants",
    "class": null,
    "method": null,
    "name": "module_constants",
    "content": "MARKUP = \"\\n\".join(\n    \"\"\"[bold]Hello [i]World[/i] [bold magenta]foo [i]bar[/i] baz[/] [blue u]https://textualize.io[/]\"\"\"\n    for _ in range(20)\n)",
    "start_line": 175
  },
  {
    "file": "snippets.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "PYTHON_SNIPPET = '''\ndef layout_resolve(total: int, edges: Sequence[EdgeProtocol]) -> List[int]:\n    \"\"\"Divide total space to satisfy size, fraction, and min_size, constraints.\n\n    The returned list of integers should add up to total in most cases, unless it is\n    impossible to satisfy all the constraints. For instance, if there are two edges\n    with a minimum size of 20 each and `total` is 30 then the returned list will be\n    greater than total. In practice, this would mean that a Layout object would\n    clip the rows that would overflow the screen height.\n\n    Args:\n        total (int): Total number of characters.\n        edges (Sequence[Edge]): Edges within total space.\n\n    Returns:\n        list[int]: Number of characters for each edge.\n    \"\"\"\n    # Size of edge or None for yet to be determined\n    sizes = [(edge.size or None) for edge in edges]\n\n    if None not in sizes:\n        # No flexible edges\n        return cast(\"list[int]\", sizes)\n\n    # Get flexible edges and index to map these back on to sizes list\n    flexible_edges = [\n        (index, edge)\n        for index, (size, edge) in enumerate(zip(sizes, edges))\n        if size is None\n    ]\n    # Remaining space in total\n    remaining = total - sum([size or 0 for size in sizes])\n    if remaining <= 0:\n        # No room for flexible edges\n        return [\n            ((edge.min_size or 1) if size is None else size)\n            for size, edge in zip(sizes, edges)\n        ]\n\n    # Get the total fraction value for all flexible edges\n    total_flexible = sum([(edge.fraction or 1) for _, edge in flexible_edges])\n    while flexible_edges:\n        # Calculate number of characters in a ratio portion\n        portion = Fraction(remaining, total_flexible)\n\n        # If any edges will be less than their minimum, replace size with the minimum\n        for flexible_index, (index, edge) in enumerate(flexible_edges):\n            if portion * edge.fraction < edge.min_size:\n                # This flexible edge will be smaller than its minimum size\n                # We need to fix the size and redistribute the outstanding space\n                sizes[index] = edge.min_size\n                remaining -= edge.min_size\n                total_flexible -= edge.fraction or 1\n                del flexible_edges[flexible_index]\n                # New fixed size will invalidate calculations, so we need to repeat the process\n                break\n        else:\n            # Distribute flexible space and compensate for rounding error\n            # Since edge sizes can only be integers we need to add the remainder\n            # to the following line\n            remainder = Fraction(0)\n            for index, edge in flexible_edges:\n                sizes[index], remainder = divmod(portion * edge.fraction + remainder, 1)\n            break\n\n    # Sizes now contains integers only\n    return cast(\"list[int]\", sizes)\n'''\n\nPYTHON_DICT = {\n    \"glossary\": {\n        \"title\": \"example glossary\",\n        \"GlossDiv\": {\n            \"title\": \"S\",\n            \"GlossList\": {\n                \"GlossEntry\": {\n                    \"ID\": \"SGML\",\n                    \"SortAs\": \"SGML\",\n                    \"GlossTerm\": \"Standard Generalized Markup Language\",\n                    \"Acronym\": \"SGML\",\n                    \"Abbrev\": \"ISO 8879:1986\",\n                    \"GlossDef\": {\n                        \"para\": \"A meta-markup language, used to create markup languages such as DocBook.\",\n                        \"GlossSeeAlso\": [\"GML\", \"XML\"],\n                    },\n                    \"GlossSee\": \"markup\",\n                }\n            },\n        },\n    }\n}\n\nLOREM_IPSUM = \"\"\"\nLorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Laoreet id donec ultrices tincidunt arcu. Eu facilisis sed odio morbi quis commodo odio aenean sed. Amet cursus sit amet dictum. Gravida rutrum quisque non tellus. Semper auctor neque vitae tempus quam pellentesque nec nam. Mauris sit amet massa vitae tortor condimentum lacinia quis. Adipiscing elit ut aliquam purus sit amet luctus venenatis lectus. Consectetur adipiscing elit ut aliquam purus sit amet. Sit amet mauris commodo quis imperdiet massa tincidunt nunc pulvinar. Dui faucibus in ornare quam viverra. Et netus et malesuada fames ac turpis. A lacus vestibulum sed arcu non odio euismod. In massa tempor nec feugiat nisl pretium fusce.\n\nTellus in hac habitasse platea dictumst vestibulum. Feugiat nibh sed pulvinar proin. In cursus turpis massa tincidunt dui ut. Fermentum posuere urna nec tincidunt praesent semper feugiat. Interdum consectetur libero id faucibus. Habitant morbi tristique senectus et netus et malesuada fames ac. Facilisis leo vel fringilla est ullamcorper eget nulla facilisi. Aliquam faucibus purus in massa tempor. Tellus pellentesque eu tincidunt tortor aliquam nulla. Sem et tortor consequat id porta nibh. Massa id neque aliquam vestibulum morbi blandit cursus risus. Ut placerat orci nulla pellentesque dignissim enim. Nibh tellus molestie nunc non blandit massa enim nec dui. Ipsum a arcu cursus vitae congue mauris rhoncus aenean vel. Egestas congue quisque egestas diam in.\n\nPulvinar mattis nunc sed blandit libero volutpat sed. Accumsan in nisl nisi scelerisque eu. Eget aliquet nibh praesent tristique. Ipsum suspendisse ultrices gravida dictum fusce ut. Non sodales neque sodales ut etiam sit amet. Velit egestas dui id ornare. Massa ultricies mi quis hendrerit dolor magna. Id volutpat lacus laoreet non curabitur gravida arcu. Nulla facilisi cras fermentum odio eu feugiat pretium. Sed vulputate odio ut enim blandit volutpat. Amet massa vitae tortor condimentum lacinia. Tellus integer feugiat scelerisque varius. Quam nulla porttitor massa id. Facilisi cras fermentum odio eu feugiat pretium nibh ipsum. Eget nunc scelerisque viverra mauris in aliquam sem fringilla. Amet nulla facilisi morbi tempus iaculis urna id volutpat lacus. Facilisi etiam dignissim diam quis enim lobortis.\n\nNullam vehicula ipsum a arcu cursus vitae congue mauris rhoncus. Ullamcorper a lacus vestibulum sed arcu non. Suscipit adipiscing bibendum est ultricies integer quis auctor elit. Integer feugiat scelerisque varius morbi enim. Posuere urna nec tincidunt praesent semper feugiat nibh sed pulvinar. Lobortis feugiat vivamus at augue eget. Rhoncus dolor purus non enim praesent. Mi in nulla posuere sollicitudin aliquam ultrices sagittis orci. Mollis aliquam ut porttitor leo. Id cursus metus aliquam eleifend mi in nulla. Integer eget aliquet nibh praesent tristique magna sit amet. Egestas maecenas pharetra convallis posuere morbi.\n\nBlandit massa enim nec dui. Suscipit tellus mauris a diam maecenas. Sed id semper risus in. Purus faucibus ornare suspendisse sed nisi lacus. At in tellus integer feugiat. Egestas diam in arcu cursus euismod quis viverra nibh cras. Enim tortor at auctor urna nunc id. Tristique nulla aliquet enim tortor at auctor urna nunc id. Purus gravida quis blandit turpis cursus in hac habitasse platea. Ac turpis egestas integer eget. Tortor at auctor urna nunc. Neque aliquam vestibulum morbi blandit cursus. Massa tempor nec feugiat nisl pretium fusce id velit. Interdum consectetur libero id faucibus nisl tincidunt. Adipiscing diam donec adipiscing tristique risus nec feugiat in. Egestas integer eget aliquet nibh praesent tristique magna sit.\n\"\"\"\n\nUNICODE_HEAVY_TEXT = \"\"\"\nRich __ Python\n\n[Rich API](https://rich.readthedocs.io/en/latest/) Rich\n\n![](https://github.com/textualize/rich/raw/master/imgs/features.png)\n\nRich [calmcode.io](https://calmcode.io/rich/introduction.html) by [@fishnets88](https://twitter.com/fishnets88).\n\n[Rich](https://www.willmcgugan.com/blog/pages/post/rich-tweets/)\n\n## \n\nRichLinuxOSXWindowsTrue color Windows 8RichPython3.6.3\n\nRich[Jupyter notebooks](https://jupyter.org/)\n\n## \n\n`pip` PyPI\n\n```sh\npython -m pip install rich\n```\n\n:\n\n```sh\npython -m rich\n```\n\n## Richprint\n\nPython [rich print](https://rich.readthedocs.io/en/latest/introduction.html#quick-start) :\n\n```python\nfrom rich import print\n\nprint(\"Hello, [bold magenta]World[/bold magenta]!\", \":vampire:\", locals())\n```\n\n![Hello World](https://github.com/textualize/rich/raw/master/imgs/print.png)\n\n## Rich REPL\n\nRichPythonREPL\n\n```python\n>>> from rich import pretty\n>>> pretty.install()\n```\n\n![REPL](https://github.com/textualize/rich/raw/master/imgs/repl.png)\n\n## Rich Inspect\n\nRichPython[inspect](https://rich.readthedocs.io/en/latest/reference/init.html?highlight=inspect#rich.inspect)\n\n\n\n[Console](https://rich.readthedocs.io/en/latest/reference/console.html#rich.console.Console) \n\nConsole  `print`  `print` \n:\n\n `\"Hello World!\"`  `print` Rich \n\n `style` :\n\"\"\"\n\n\nMARKUP = \"\\n\".join(\n    \"\"\"[bold]Hello [i]World[/i] [bold magenta]foo [i]bar[/i] baz[/] [blue u]https://textualize.io[/]\"\"\"\n    for _ in range(20)\n)\n",
    "start_line": 0
  },
  {
    "file": "benchmarks.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from io import StringIO\nfrom benchmarks import snippets\nfrom rich.color import Color, ColorSystem\nfrom rich.console import Console\nfrom rich.pretty import Pretty\nfrom rich.segment import Segment\nfrom rich.style import Style\nfrom rich.syntax import Syntax\nfrom rich.table import Table\nfrom rich.text import Text",
    "start_line": 0
  },
  {
    "file": "benchmarks.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "TextSuite",
    "content": "class TextSuite:",
    "start_line": 13
  },
  {
    "file": "benchmarks.py",
    "type": "method",
    "class": "TextSuite",
    "method": "setup",
    "name": "setup",
    "content": "class TextSuite:\n    def setup(self):\n        self.console = Console(\n            file=StringIO(), color_system=\"truecolor\", legacy_windows=False\n        )\n        self.len_lorem_ipsum = len(snippets.LOREM_IPSUM)\n        self.text = Text.from_markup(snippets.MARKUP)",
    "start_line": 14
  },
  {
    "file": "benchmarks.py",
    "type": "method",
    "class": "TextSuite",
    "method": "time_wrapping",
    "name": "time_wrapping",
    "content": "class TextSuite:\n    def time_wrapping(self):\n        self.text.wrap(self.console, 12, overflow=\"fold\")",
    "start_line": 21
  },
  {
    "file": "benchmarks.py",
    "type": "method",
    "class": "TextSuite",
    "method": "time_indent_guides",
    "name": "time_indent_guides",
    "content": "class TextSuite:\n    def time_indent_guides(self):\n        Text(snippets.PYTHON_SNIPPET).with_indent_guides()",
    "start_line": 24
  },
  {
    "file": "benchmarks.py",
    "type": "method",
    "class": "TextSuite",
    "method": "time_fit",
    "name": "time_fit",
    "content": "class TextSuite:\n    def time_fit(self):\n        Text(snippets.LOREM_IPSUM).fit(12)",
    "start_line": 27
  },
  {
    "file": "benchmarks.py",
    "type": "method",
    "class": "TextSuite",
    "method": "time_split",
    "name": "time_split",
    "content": "class TextSuite:\n    def time_split(self):\n        self.text.split()",
    "start_line": 30
  },
  {
    "file": "benchmarks.py",
    "type": "method",
    "class": "TextSuite",
    "method": "time_divide",
    "name": "time_divide",
    "content": "class TextSuite:\n    def time_divide(self):\n        Text(snippets.LOREM_IPSUM).divide(range(20, 100, 4))",
    "start_line": 33
  },
  {
    "file": "benchmarks.py",
    "type": "method",
    "class": "TextSuite",
    "method": "time_align_center",
    "name": "time_align_center",
    "content": "class TextSuite:\n    def time_align_center(self):\n        Text(snippets.LOREM_IPSUM).align(\"center\", width=self.len_lorem_ipsum * 3)",
    "start_line": 36
  },
  {
    "file": "benchmarks.py",
    "type": "method",
    "class": "TextSuite",
    "method": "time_render",
    "name": "time_render",
    "content": "class TextSuite:\n    def time_render(self):\n        list(self.text.render(self.console))",
    "start_line": 39
  },
  {
    "file": "benchmarks.py",
    "type": "method",
    "class": "TextSuite",
    "method": "time_wrapping_unicode_heavy",
    "name": "time_wrapping_unicode_heavy",
    "content": "class TextSuite:\n    def time_wrapping_unicode_heavy(self):\n        Text(snippets.UNICODE_HEAVY_TEXT).wrap(self.console, 12, overflow=\"fold\")",
    "start_line": 42
  },
  {
    "file": "benchmarks.py",
    "type": "method",
    "class": "TextSuite",
    "method": "time_fit_unicode_heavy",
    "name": "time_fit_unicode_heavy",
    "content": "class TextSuite:\n    def time_fit_unicode_heavy(self):\n        Text(snippets.UNICODE_HEAVY_TEXT).fit(12)",
    "start_line": 45
  },
  {
    "file": "benchmarks.py",
    "type": "method",
    "class": "TextSuite",
    "method": "time_split_unicode_heavy",
    "name": "time_split_unicode_heavy",
    "content": "class TextSuite:\n    def time_split_unicode_heavy(self):\n        Text(snippets.UNICODE_HEAVY_TEXT).split()",
    "start_line": 48
  },
  {
    "file": "benchmarks.py",
    "type": "method",
    "class": "TextSuite",
    "method": "time_divide_unicode_heavy",
    "name": "time_divide_unicode_heavy",
    "content": "class TextSuite:\n    def time_divide_unicode_heavy(self):\n        self.text.divide(range(20, 100, 4))",
    "start_line": 51
  },
  {
    "file": "benchmarks.py",
    "type": "method",
    "class": "TextSuite",
    "method": "time_align_center_unicode_heavy",
    "name": "time_align_center_unicode_heavy",
    "content": "class TextSuite:\n    def time_align_center_unicode_heavy(self):\n        Text(snippets.UNICODE_HEAVY_TEXT).align(\n            \"center\", width=self.len_lorem_ipsum * 3\n        )",
    "start_line": 54
  },
  {
    "file": "benchmarks.py",
    "type": "method",
    "class": "TextSuite",
    "method": "time_render_unicode_heavy",
    "name": "time_render_unicode_heavy",
    "content": "class TextSuite:\n    def time_render_unicode_heavy(self):\n        list(Text(snippets.UNICODE_HEAVY_TEXT).render(self.console))",
    "start_line": 59
  },
  {
    "file": "benchmarks.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "TextHotCacheSuite",
    "content": "class TextHotCacheSuite:",
    "start_line": 63
  },
  {
    "file": "benchmarks.py",
    "type": "method",
    "class": "TextHotCacheSuite",
    "method": "setup",
    "name": "setup",
    "content": "class TextHotCacheSuite:\n    def setup(self):\n        self.console = Console(\n            file=StringIO(), color_system=\"truecolor\", legacy_windows=False\n        )",
    "start_line": 64
  },
  {
    "file": "benchmarks.py",
    "type": "method",
    "class": "TextHotCacheSuite",
    "method": "time_wrapping_unicode_heavy_warm_cache",
    "name": "time_wrapping_unicode_heavy_warm_cache",
    "content": "class TextHotCacheSuite:\n    def time_wrapping_unicode_heavy_warm_cache(self):\n        for _ in range(20):\n            Text(snippets.UNICODE_HEAVY_TEXT).wrap(self.console, 12, overflow=\"fold\")",
    "start_line": 69
  },
  {
    "file": "benchmarks.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "SyntaxWrappingSuite",
    "content": "class SyntaxWrappingSuite:",
    "start_line": 74
  },
  {
    "file": "benchmarks.py",
    "type": "method",
    "class": "SyntaxWrappingSuite",
    "method": "setup",
    "name": "setup",
    "content": "class SyntaxWrappingSuite:\n    def setup(self):\n        self.console = Console(\n            file=StringIO(), color_system=\"truecolor\", legacy_windows=False\n        )\n        self.syntax = Syntax(\n            code=snippets.PYTHON_SNIPPET, lexer=\"python\", word_wrap=True\n        )",
    "start_line": 75
  },
  {
    "file": "benchmarks.py",
    "type": "method",
    "class": "SyntaxWrappingSuite",
    "method": "time_text_thin_terminal_heavy_wrapping",
    "name": "time_text_thin_terminal_heavy_wrapping",
    "content": "class SyntaxWrappingSuite:\n    def time_text_thin_terminal_heavy_wrapping(self):\n        self._print_with_width(20)",
    "start_line": 83
  },
  {
    "file": "benchmarks.py",
    "type": "method",
    "class": "SyntaxWrappingSuite",
    "method": "time_text_thin_terminal_medium_wrapping",
    "name": "time_text_thin_terminal_medium_wrapping",
    "content": "class SyntaxWrappingSuite:\n    def time_text_thin_terminal_medium_wrapping(self):\n        self._print_with_width(60)",
    "start_line": 86
  },
  {
    "file": "benchmarks.py",
    "type": "method",
    "class": "SyntaxWrappingSuite",
    "method": "time_text_wide_terminal_no_wrapping",
    "name": "time_text_wide_terminal_no_wrapping",
    "content": "class SyntaxWrappingSuite:\n    def time_text_wide_terminal_no_wrapping(self):\n        self._print_with_width(100)",
    "start_line": 89
  },
  {
    "file": "benchmarks.py",
    "type": "method",
    "class": "SyntaxWrappingSuite",
    "method": "_print_with_width",
    "name": "_print_with_width",
    "content": "class SyntaxWrappingSuite:\n    def _print_with_width(self, width):\n        self.console.print(self.syntax, width)",
    "start_line": 92
  },
  {
    "file": "benchmarks.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "TableSuite",
    "content": "class TableSuite:",
    "start_line": 96
  },
  {
    "file": "benchmarks.py",
    "type": "method",
    "class": "TableSuite",
    "method": "time_table_no_wrapping",
    "name": "time_table_no_wrapping",
    "content": "class TableSuite:\n    def time_table_no_wrapping(self):\n        self._print_table(width=100)",
    "start_line": 97
  },
  {
    "file": "benchmarks.py",
    "type": "method",
    "class": "TableSuite",
    "method": "time_table_heavy_wrapping",
    "name": "time_table_heavy_wrapping",
    "content": "class TableSuite:\n    def time_table_heavy_wrapping(self):\n        self._print_table(width=30)",
    "start_line": 100
  },
  {
    "file": "benchmarks.py",
    "type": "method",
    "class": "TableSuite",
    "method": "_print_table",
    "name": "_print_table",
    "content": "class TableSuite:\n    def _print_table(self, width):\n        table = Table(title=\"Star Wars Movies\")\n        console = Console(\n            file=StringIO(), color_system=\"truecolor\", legacy_windows=False, width=width\n        )\n        table.add_column(\"Released\", justify=\"right\", style=\"cyan\", no_wrap=True)\n        table.add_column(\"Title\", style=\"magenta\")\n        table.add_column(\"Box Office\", justify=\"right\", style=\"green\")\n        table.add_row(\n            \"Dec 20, 2019\", \"[b]Star Wars[/]: The Rise of Skywalker\", \"$952,110,690\"\n        )\n        table.add_row(\n            \"May 25, 2018\", \"Solo: A [red][b]Star Wars[/] Story[/]\", \"$393,151,347\"\n        )\n        table.add_row(\n            \"Dec 15, 2017\",\n            \"[b red]Star Wars[/] Ep. V111: The Last Jedi\",\n            \"$1,332,539,889\",\n        )\n        table.add_row(\n            \"Dec 16, 2016\", \"Rogue One: A [blue]Star Wars[/] Story\", \"$1,332,439,889\"\n        )\n        console.print(table)",
    "start_line": 103
  },
  {
    "file": "benchmarks.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "PrettySuite",
    "content": "class PrettySuite:",
    "start_line": 128
  },
  {
    "file": "benchmarks.py",
    "type": "method",
    "class": "PrettySuite",
    "method": "setup",
    "name": "setup",
    "content": "class PrettySuite:\n    def setup(self):\n        self.console = Console(\n            file=StringIO(), color_system=\"truecolor\", legacy_windows=False, width=100\n        )",
    "start_line": 129
  },
  {
    "file": "benchmarks.py",
    "type": "method",
    "class": "PrettySuite",
    "method": "time_pretty",
    "name": "time_pretty",
    "content": "class PrettySuite:\n    def time_pretty(self):\n        pretty = Pretty(snippets.PYTHON_DICT)\n        self.console.print(pretty)",
    "start_line": 134
  },
  {
    "file": "benchmarks.py",
    "type": "method",
    "class": "PrettySuite",
    "method": "time_pretty_indent_guides",
    "name": "time_pretty_indent_guides",
    "content": "class PrettySuite:\n    def time_pretty_indent_guides(self):\n        pretty = Pretty(snippets.PYTHON_DICT, indent_guides=True)\n        self.console.print(pretty)",
    "start_line": 138
  },
  {
    "file": "benchmarks.py",
    "type": "method",
    "class": "PrettySuite",
    "method": "time_pretty_justify_center",
    "name": "time_pretty_justify_center",
    "content": "class PrettySuite:\n    def time_pretty_justify_center(self):\n        pretty = Pretty(snippets.PYTHON_DICT, justify=\"center\")\n        self.console.print(pretty)",
    "start_line": 142
  },
  {
    "file": "benchmarks.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "StyleSuite",
    "content": "class StyleSuite:",
    "start_line": 147
  },
  {
    "file": "benchmarks.py",
    "type": "method",
    "class": "StyleSuite",
    "method": "setup",
    "name": "setup",
    "content": "class StyleSuite:\n    def setup(self):\n        self.console = Console(\n            file=StringIO(), color_system=\"truecolor\", legacy_windows=False, width=100\n        )\n        self.style1 = Style.parse(\"blue on red\")\n        self.style2 = Style.parse(\"green italic bold\")",
    "start_line": 148
  },
  {
    "file": "benchmarks.py",
    "type": "method",
    "class": "StyleSuite",
    "method": "time_parse_ansi",
    "name": "time_parse_ansi",
    "content": "class StyleSuite:\n    def time_parse_ansi(self):\n        Style.parse(\"red on blue\")",
    "start_line": 155
  },
  {
    "file": "benchmarks.py",
    "type": "method",
    "class": "StyleSuite",
    "method": "time_parse_hex",
    "name": "time_parse_hex",
    "content": "class StyleSuite:\n    def time_parse_hex(self):\n        Style.parse(\"#f0f0f0 on #e2e28a\")",
    "start_line": 158
  },
  {
    "file": "benchmarks.py",
    "type": "method",
    "class": "StyleSuite",
    "method": "time_parse_mixed_complex_style",
    "name": "time_parse_mixed_complex_style",
    "content": "class StyleSuite:\n    def time_parse_mixed_complex_style(self):\n        Style.parse(\"dim bold reverse #00ee00 on rgb(123,12,50)\")",
    "start_line": 161
  },
  {
    "file": "benchmarks.py",
    "type": "method",
    "class": "StyleSuite",
    "method": "time_style_add",
    "name": "time_style_add",
    "content": "class StyleSuite:\n    def time_style_add(self):\n        self.style1 + self.style2",
    "start_line": 164
  },
  {
    "file": "benchmarks.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "ColorSuite",
    "content": "class ColorSuite:",
    "start_line": 168
  },
  {
    "file": "benchmarks.py",
    "type": "method",
    "class": "ColorSuite",
    "method": "setup",
    "name": "setup",
    "content": "class ColorSuite:\n    def setup(self):\n        self.console = Console(\n            file=StringIO(), color_system=\"truecolor\", legacy_windows=False, width=100\n        )\n        self.color = Color.parse(\"#0d1da0\")",
    "start_line": 169
  },
  {
    "file": "benchmarks.py",
    "type": "method",
    "class": "ColorSuite",
    "method": "time_downgrade_to_eight_bit",
    "name": "time_downgrade_to_eight_bit",
    "content": "class ColorSuite:\n    def time_downgrade_to_eight_bit(self):\n        self.color.downgrade(ColorSystem.EIGHT_BIT)",
    "start_line": 175
  },
  {
    "file": "benchmarks.py",
    "type": "method",
    "class": "ColorSuite",
    "method": "time_downgrade_to_standard",
    "name": "time_downgrade_to_standard",
    "content": "class ColorSuite:\n    def time_downgrade_to_standard(self):\n        self.color.downgrade(ColorSystem.STANDARD)",
    "start_line": 178
  },
  {
    "file": "benchmarks.py",
    "type": "method",
    "class": "ColorSuite",
    "method": "time_downgrade_to_windows",
    "name": "time_downgrade_to_windows",
    "content": "class ColorSuite:\n    def time_downgrade_to_windows(self):\n        self.color.downgrade(ColorSystem.WINDOWS)",
    "start_line": 181
  },
  {
    "file": "benchmarks.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "ColorSuiteCached",
    "content": "class ColorSuiteCached:",
    "start_line": 185
  },
  {
    "file": "benchmarks.py",
    "type": "method",
    "class": "ColorSuiteCached",
    "method": "setup",
    "name": "setup",
    "content": "class ColorSuiteCached:\n    def setup(self):\n        self.console = Console(\n            file=StringIO(), color_system=\"truecolor\", legacy_windows=False, width=100\n        )\n        self.color = Color.parse(\"#0d1da0\")",
    "start_line": 186
  },
  {
    "file": "benchmarks.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# Warm cache\n        self.color.downgrade(ColorSystem.EIGHT_BIT)\n        self.color.downgrade(ColorSystem.STANDARD)\n        self.color.downgrade(ColorSystem.WINDOWS)",
    "start_line": 191
  },
  {
    "file": "benchmarks.py",
    "type": "method",
    "class": "ColorSuiteCached",
    "method": "time_downgrade_to_eight_bit",
    "name": "time_downgrade_to_eight_bit",
    "content": "class ColorSuiteCached:\n    def time_downgrade_to_eight_bit(self):\n        self.color.downgrade(ColorSystem.EIGHT_BIT)",
    "start_line": 196
  },
  {
    "file": "benchmarks.py",
    "type": "method",
    "class": "ColorSuiteCached",
    "method": "time_downgrade_to_standard",
    "name": "time_downgrade_to_standard",
    "content": "class ColorSuiteCached:\n    def time_downgrade_to_standard(self):\n        self.color.downgrade(ColorSystem.STANDARD)",
    "start_line": 199
  },
  {
    "file": "benchmarks.py",
    "type": "method",
    "class": "ColorSuiteCached",
    "method": "time_downgrade_to_windows",
    "name": "time_downgrade_to_windows",
    "content": "class ColorSuiteCached:\n    def time_downgrade_to_windows(self):\n        self.color.downgrade(ColorSystem.WINDOWS)",
    "start_line": 202
  },
  {
    "file": "benchmarks.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "SegmentSuite",
    "content": "class SegmentSuite:",
    "start_line": 206
  },
  {
    "file": "benchmarks.py",
    "type": "method",
    "class": "SegmentSuite",
    "method": "setup",
    "name": "setup",
    "content": "class SegmentSuite:\n    def setup(self):\n        self.line = [\n            Segment(\"foo\"),\n            Segment(\"bar\"),\n            Segment(\"egg\"),\n            Segment(\"Where there is a Will\"),\n            Segment(\"There is a way\"),\n        ] * 2",
    "start_line": 207
  },
  {
    "file": "benchmarks.py",
    "type": "method",
    "class": "SegmentSuite",
    "method": "test_divide_complex",
    "name": "test_divide_complex",
    "content": "class SegmentSuite:\n    def test_divide_complex(self):\n        list(Segment.divide(self.line, [5, 10, 20, 50, 108, 110, 118]))",
    "start_line": 216
  },
  {
    "file": "benchmarks.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "from io import StringIO\n\nfrom benchmarks import snippets\nfrom rich.color import Color, ColorSystem\nfrom rich.console import Console\nfrom rich.pretty import Pretty\nfrom rich.segment import Segment\nfrom rich.style import Style\nfrom rich.syntax import Syntax\nfrom rich.table import Table\nfrom rich.text import Text\n\n\nclass TextSuite:\n    def setup(self):\n        self.console = Console(\n            file=StringIO(), color_system=\"truecolor\", legacy_windows=False\n        )\n        self.len_lorem_ipsum = len(snippets.LOREM_IPSUM)\n        self.text = Text.from_markup(snippets.MARKUP)\n\n    def time_wrapping(self):\n        self.text.wrap(self.console, 12, overflow=\"fold\")\n\n    def time_indent_guides(self):\n        Text(snippets.PYTHON_SNIPPET).with_indent_guides()\n\n    def time_fit(self):\n        Text(snippets.LOREM_IPSUM).fit(12)\n\n    def time_split(self):\n        self.text.split()\n\n    def time_divide(self):\n        Text(snippets.LOREM_IPSUM).divide(range(20, 100, 4))\n\n    def time_align_center(self):\n        Text(snippets.LOREM_IPSUM).align(\"center\", width=self.len_lorem_ipsum * 3)\n\n    def time_render(self):\n        list(self.text.render(self.console))\n\n    def time_wrapping_unicode_heavy(self):\n        Text(snippets.UNICODE_HEAVY_TEXT).wrap(self.console, 12, overflow=\"fold\")\n\n    def time_fit_unicode_heavy(self):\n        Text(snippets.UNICODE_HEAVY_TEXT).fit(12)\n\n    def time_split_unicode_heavy(self):\n        Text(snippets.UNICODE_HEAVY_TEXT).split()\n\n    def time_divide_unicode_heavy(self):\n        self.text.divide(range(20, 100, 4))\n\n    def time_align_center_unicode_heavy(self):\n        Text(snippets.UNICODE_HEAVY_TEXT).align(\n            \"center\", width=self.len_lorem_ipsum * 3\n        )\n\n    def time_render_unicode_heavy(self):\n        list(Text(snippets.UNICODE_HEAVY_TEXT).render(self.console))\n\n\nclass TextHotCacheSuite:\n    def setup(self):\n        self.console = Console(\n            file=StringIO(), color_system=\"truecolor\", legacy_windows=False\n        )\n\n    def time_wrapping_unicode_heavy_warm_cache(self):\n        for _ in range(20):\n            Text(snippets.UNICODE_HEAVY_TEXT).wrap(self.console, 12, overflow=\"fold\")\n\n\nclass SyntaxWrappingSuite:\n    def setup(self):\n        self.console = Console(\n            file=StringIO(), color_system=\"truecolor\", legacy_windows=False\n        )\n        self.syntax = Syntax(\n            code=snippets.PYTHON_SNIPPET, lexer=\"python\", word_wrap=True\n        )\n\n    def time_text_thin_terminal_heavy_wrapping(self):\n        self._print_with_width(20)\n\n    def time_text_thin_terminal_medium_wrapping(self):\n        self._print_with_width(60)\n\n    def time_text_wide_terminal_no_wrapping(self):\n        self._print_with_width(100)\n\n    def _print_with_width(self, width):\n        self.console.print(self.syntax, width)\n\n\nclass TableSuite:\n    def time_table_no_wrapping(self):\n        self._print_table(width=100)\n\n    def time_table_heavy_wrapping(self):\n        self._print_table(width=30)\n\n    def _print_table(self, width):\n        table = Table(title=\"Star Wars Movies\")\n        console = Console(\n            file=StringIO(), color_system=\"truecolor\", legacy_windows=False, width=width\n        )\n        table.add_column(\"Released\", justify=\"right\", style=\"cyan\", no_wrap=True)\n        table.add_column(\"Title\", style=\"magenta\")\n        table.add_column(\"Box Office\", justify=\"right\", style=\"green\")\n        table.add_row(\n            \"Dec 20, 2019\", \"[b]Star Wars[/]: The Rise of Skywalker\", \"$952,110,690\"\n        )\n        table.add_row(\n            \"May 25, 2018\", \"Solo: A [red][b]Star Wars[/] Story[/]\", \"$393,151,347\"\n        )\n        table.add_row(\n            \"Dec 15, 2017\",\n            \"[b red]Star Wars[/] Ep. V111: The Last Jedi\",\n            \"$1,332,539,889\",\n        )\n        table.add_row(\n            \"Dec 16, 2016\", \"Rogue One: A [blue]Star Wars[/] Story\", \"$1,332,439,889\"\n        )\n        console.print(table)\n\n\nclass PrettySuite:\n    def setup(self):\n        self.console = Console(\n            file=StringIO(), color_system=\"truecolor\", legacy_windows=False, width=100\n        )\n\n    def time_pretty(self):\n        pretty = Pretty(snippets.PYTHON_DICT)\n        self.console.print(pretty)\n\n    def time_pretty_indent_guides(self):\n        pretty = Pretty(snippets.PYTHON_DICT, indent_guides=True)\n        self.console.print(pretty)\n\n    def time_pretty_justify_center(self):\n        pretty = Pretty(snippets.PYTHON_DICT, justify=\"center\")\n        self.console.print(pretty)\n\n\nclass StyleSuite:\n    def setup(self):\n        self.console = Console(\n            file=StringIO(), color_system=\"truecolor\", legacy_windows=False, width=100\n        )\n        self.style1 = Style.parse(\"blue on red\")\n        self.style2 = Style.parse(\"green italic bold\")\n\n    def time_parse_ansi(self):\n        Style.parse(\"red on blue\")\n\n    def time_parse_hex(self):\n        Style.parse(\"#f0f0f0 on #e2e28a\")\n\n    def time_parse_mixed_complex_style(self):\n        Style.parse(\"dim bold reverse #00ee00 on rgb(123,12,50)\")\n\n    def time_style_add(self):\n        self.style1 + self.style2\n\n\nclass ColorSuite:\n    def setup(self):\n        self.console = Console(\n            file=StringIO(), color_system=\"truecolor\", legacy_windows=False, width=100\n        )\n        self.color = Color.parse(\"#0d1da0\")\n\n    def time_downgrade_to_eight_bit(self):\n        self.color.downgrade(ColorSystem.EIGHT_BIT)\n\n    def time_downgrade_to_standard(self):\n        self.color.downgrade(ColorSystem.STANDARD)\n\n    def time_downgrade_to_windows(self):\n        self.color.downgrade(ColorSystem.WINDOWS)\n\n\nclass ColorSuiteCached:\n    def setup(self):\n        self.console = Console(\n            file=StringIO(), color_system=\"truecolor\", legacy_windows=False, width=100\n        )\n        self.color = Color.parse(\"#0d1da0\")\n        # Warm cache\n        self.color.downgrade(ColorSystem.EIGHT_BIT)\n        self.color.downgrade(ColorSystem.STANDARD)\n        self.color.downgrade(ColorSystem.WINDOWS)\n\n    def time_downgrade_to_eight_bit(self):\n        self.color.downgrade(ColorSystem.EIGHT_BIT)\n\n    def time_downgrade_to_standard(self):\n        self.color.downgrade(ColorSystem.STANDARD)\n\n    def time_downgrade_to_windows(self):\n        self.color.downgrade(ColorSystem.WINDOWS)\n\n\nclass SegmentSuite:\n    def setup(self):\n        self.line = [\n            Segment(\"foo\"),\n            Segment(\"bar\"),\n            Segment(\"egg\"),\n            Segment(\"Where there is a Will\"),\n            Segment(\"There is a way\"),\n        ] * 2\n\n    def test_divide_complex(self):\n        list(Segment.divide(self.line, [5, 10, 20, 50, 108, 110, 118]))\n",
    "start_line": 0
  },
  {
    "file": "themes.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from .default_styles import DEFAULT_STYLES\nfrom .theme import Theme",
    "start_line": 0
  },
  {
    "file": "themes.py",
    "type": "constants",
    "class": null,
    "method": null,
    "name": "module_constants",
    "content": "DEFAULT = Theme(DEFAULT_STYLES)",
    "start_line": 4
  },
  {
    "file": "themes.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "from .default_styles import DEFAULT_STYLES\nfrom .theme import Theme\n\n\nDEFAULT = Theme(DEFAULT_STYLES)\n",
    "start_line": 0
  },
  {
    "file": "screen.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from typing import Optional, TYPE_CHECKING\nfrom .segment import Segment\nfrom .style import StyleType\nfrom ._loop import loop_last\nif TYPE_CHECKING:\n    from .console import (\n        Console,\n        ConsoleOptions,\n        RenderResult,\n        RenderableType,\n        Group,\n    )",
    "start_line": 0
  },
  {
    "file": "screen.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "Screen",
    "content": "class Screen:\n    \"\"\"A renderable that fills the terminal screen and crops excess.\n\n    Args:\n        renderable (RenderableType): Child renderable.\n        style (StyleType, optional): Optional background style. Defaults to None.\n    \"\"\"\n\n    renderable: \"RenderableType\"",
    "start_line": 17
  },
  {
    "file": "screen.py",
    "type": "method",
    "class": "Screen",
    "method": "__init__",
    "name": "__init__",
    "content": "class Screen:\n    def __init__(\n        self,\n        *renderables: \"RenderableType\",\n        style: Optional[StyleType] = None,\n        application_mode: bool = False,\n    ) -> None:",
    "start_line": 27
  },
  {
    "file": "screen.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from rich.console import Group\n        self.renderable = Group(*renderables)\n        self.style = style\n        self.application_mode = application_mode",
    "start_line": 33
  },
  {
    "file": "screen.py",
    "type": "method",
    "class": "Screen",
    "method": "__rich_console__",
    "name": "__rich_console__",
    "content": "class Screen:\n    def __rich_console__(\n        self, console: \"Console\", options: \"ConsoleOptions\"\n    ) -> \"RenderResult\":\n        width, height = options.size\n        style = console.get_style(self.style) if self.style else None\n        render_options = options.update(width=width, height=height)\n        lines = console.render_lines(\n            self.renderable or \"\", render_options, style=style, pad=True\n        )\n        lines = Segment.set_shape(lines, width, height, style=style)\n        new_line = Segment(\"\\n\\r\") if self.application_mode else Segment.line()\n        for last, line in loop_last(lines):\n            yield from line\n            if not last:\n                yield new_line",
    "start_line": 39
  },
  {
    "file": "screen.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "from typing import Optional, TYPE_CHECKING\n\nfrom .segment import Segment\nfrom .style import StyleType\nfrom ._loop import loop_last\n\n\nif TYPE_CHECKING:\n    from .console import (\n        Console,\n        ConsoleOptions,\n        RenderResult,\n        RenderableType,\n        Group,\n    )\n\n\nclass Screen:\n    \"\"\"A renderable that fills the terminal screen and crops excess.\n\n    Args:\n        renderable (RenderableType): Child renderable.\n        style (StyleType, optional): Optional background style. Defaults to None.\n    \"\"\"\n\n    renderable: \"RenderableType\"\n\n    def __init__(\n        self,\n        *renderables: \"RenderableType\",\n        style: Optional[StyleType] = None,\n        application_mode: bool = False,\n    ) -> None:\n        from rich.console import Group\n\n        self.renderable = Group(*renderables)\n        self.style = style\n        self.application_mode = application_mode\n\n    def __rich_console__(\n        self, console: \"Console\", options: \"ConsoleOptions\"\n    ) -> \"RenderResult\":\n        width, height = options.size\n        style = console.get_style(self.style) if self.style else None\n        render_options = options.update(width=width, height=height)\n        lines = console.render_lines(\n            self.renderable or \"\", render_options, style=style, pad=True\n        )\n        lines = Segment.set_shape(lines, width, height, style=style)\n        new_line = Segment(\"\\n\\r\") if self.application_mode else Segment.line()\n        for last, line in loop_last(lines):\n            yield from line\n            if not last:\n                yield new_line\n",
    "start_line": 0
  },
  {
    "file": "logging.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "import logging\nfrom datetime import datetime\nfrom logging import Handler, LogRecord\nfrom pathlib import Path\nfrom types import ModuleType\nfrom typing import ClassVar, Iterable, List, Optional, Type, Union\nfrom rich._null_file import NullFile\nfrom . import get_console\nfrom ._log_render import FormatTimeCallable, LogRender\nfrom .console import Console, ConsoleRenderable\nfrom .highlighter import Highlighter, ReprHighlighter\nfrom .text import Text\nfrom .traceback import Traceback",
    "start_line": 0
  },
  {
    "file": "logging.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "RichHandler",
    "content": "class RichHandler(Handler):\n    \"\"\"A logging handler that renders output with Rich. The time / level / message and file are displayed in columns.\n    The level is color coded, and the message is syntax highlighted.\n\n    Note:\n        Be careful when enabling console markup in log messages if you have configured logging for libraries not\n        under your control. If a dependency writes messages containing square brackets, it may not produce the intended output.\n\n    Args:\n        level (Union[int, str], optional): Log level. Defaults to logging.NOTSET.\n        console (:class:`~rich.console.Console`, optional): Optional console instance to write logs.\n            Default will use a global console instance writing to stdout.\n        show_time (bool, optional): Show a column for the time. Defaults to True.\n        omit_repeated_times (bool, optional): Omit repetition of the same time. Defaults to True.\n        show_level (bool, optional): Show a column for the level. Defaults to True.\n        show_path (bool, optional): Show the path to the original log call. Defaults to True.\n        enable_link_path (bool, optional): Enable terminal link of path column to file. Defaults to True.\n        highlighter (Highlighter, optional): Highlighter to style log messages, or None to use ReprHighlighter. Defaults to None.\n        markup (bool, optional): Enable console markup in log messages. Defaults to False.\n        rich_tracebacks (bool, optional): Enable rich tracebacks with syntax highlighting and formatting. Defaults to False.\n        tracebacks_width (Optional[int], optional): Number of characters used to render tracebacks, or None for full width. Defaults to None.\n        tracebacks_code_width (int, optional): Number of code characters used to render tracebacks, or None for full width. Defaults to 88.\n        tracebacks_extra_lines (int, optional): Additional lines of code to render tracebacks, or None for full width. Defaults to None.\n        tracebacks_theme (str, optional): Override pygments theme used in traceback.\n        tracebacks_word_wrap (bool, optional): Enable word wrapping of long tracebacks lines. Defaults to True.\n        tracebacks_show_locals (bool, optional): Enable display of locals in tracebacks. Defaults to False.\n        tracebacks_suppress (Sequence[Union[str, ModuleType]]): Optional sequence of modules or paths to exclude from traceback.\n        tracebacks_max_frames (int, optional): Optional maximum number of frames returned by traceback.\n        locals_max_length (int, optional): Maximum length of containers before abbreviating, or None for no abbreviation.\n            Defaults to 10.\n        locals_max_string (int, optional): Maximum length of string before truncating, or None to disable. Defaults to 80.\n        log_time_format (Union[str, TimeFormatterCallable], optional): If ``log_time`` is enabled, either string for strftime or callable that formats the time. Defaults to \"[%x %X] \".\n        keywords (List[str], optional): List of words to highlight instead of ``RichHandler.KEYWORDS``.\n    \"\"\"\n\n    KEYWORDS: ClassVar[Optional[List[str]]] = [\n        \"GET\",\n        \"POST\",\n        \"HEAD\",\n        \"PUT\",\n        \"DELETE\",\n        \"OPTIONS\",\n        \"TRACE\",\n        \"PATCH\",\n    ]\n    HIGHLIGHTER_CLASS: ClassVar[Type[Highlighter]] = ReprHighlighter",
    "start_line": 17
  },
  {
    "file": "logging.py",
    "type": "method",
    "class": "RichHandler",
    "method": "__init__",
    "name": "__init__",
    "content": "class RichHandler:\n    def __init__(\n        self,\n        level: Union[int, str] = logging.NOTSET,\n        console: Optional[Console] = None,\n        *,\n        show_time: bool = True,\n        omit_repeated_times: bool = True,\n        show_level: bool = True,\n        show_path: bool = True,\n        enable_link_path: bool = True,\n        highlighter: Optional[Highlighter] = None,\n        markup: bool = False,\n        rich_tracebacks: bool = False,\n        tracebacks_width: Optional[int] = None,\n        tracebacks_code_width: int = 88,\n        tracebacks_extra_lines: int = 3,\n        tracebacks_theme: Optional[str] = None,\n        tracebacks_word_wrap: bool = True,\n        tracebacks_show_locals: bool = False,\n        tracebacks_suppress: Iterable[Union[str, ModuleType]] = (),\n        tracebacks_max_frames: int = 100,\n        locals_max_length: int = 10,\n        locals_max_string: int = 80,\n        log_time_format: Union[str, FormatTimeCallable] = \"[%x %X]\",\n        keywords: Optional[List[str]] = None,\n    ) -> None:\n        super().__init__(level=level)\n        self.console = console or get_console()\n        self.highlighter = highlighter or self.HIGHLIGHTER_CLASS()\n        self._log_render = LogRender(\n            show_time=show_time,\n            show_level=show_level,\n            show_path=show_path,\n            time_format=log_time_format,\n            omit_repeated_times=omit_repeated_times,\n            level_width=None,\n        )\n        self.enable_link_path = enable_link_path\n        self.markup = markup\n        self.rich_tracebacks = rich_tracebacks\n        self.tracebacks_width = tracebacks_width\n        self.tracebacks_extra_lines = tracebacks_extra_lines\n        self.tracebacks_theme = tracebacks_theme\n        self.tracebacks_word_wrap = tracebacks_word_wrap\n        self.tracebacks_show_locals = tracebacks_show_locals\n        self.tracebacks_suppress = tracebacks_suppress\n        self.tracebacks_max_frames = tracebacks_max_frames\n        self.tracebacks_code_width = tracebacks_code_width\n        self.locals_max_length = locals_max_length\n        self.locals_max_string = locals_max_string\n        self.keywords = keywords",
    "start_line": 64
  },
  {
    "file": "logging.py",
    "type": "method",
    "class": "RichHandler",
    "method": "get_level_text",
    "name": "get_level_text",
    "content": "class RichHandler:\n    def get_level_text(self, record: LogRecord) -> Text:\n        \"\"\"Get the level name from the record.\n\n        Args:\n            record (LogRecord): LogRecord instance.\n\n        Returns:\n            Text: A tuple of the style and level name.\n        \"\"\"\n        level_name = record.levelname\n        level_text = Text.styled(\n            level_name.ljust(8), f\"logging.level.{level_name.lower()}\"\n        )\n        return level_text",
    "start_line": 116
  },
  {
    "file": "logging.py",
    "type": "method",
    "class": "RichHandler",
    "method": "emit",
    "name": "emit",
    "content": "class RichHandler:\n    def emit(self, record: LogRecord) -> None:\n        \"\"\"Invoked by logging.\"\"\"\n        message = self.format(record)\n        traceback = None\n        if (\n            self.rich_tracebacks\n            and record.exc_info\n            and record.exc_info != (None, None, None)\n        ):\n            exc_type, exc_value, exc_traceback = record.exc_info\n            assert exc_type is not None\n            assert exc_value is not None\n            traceback = Traceback.from_exception(\n                exc_type,\n                exc_value,\n                exc_traceback,\n                width=self.tracebacks_width,\n                code_width=self.tracebacks_code_width,\n                extra_lines=self.tracebacks_extra_lines,\n                theme=self.tracebacks_theme,\n                word_wrap=self.tracebacks_word_wrap,\n                show_locals=self.tracebacks_show_locals,\n                locals_max_length=self.locals_max_length,\n                locals_max_string=self.locals_max_string,\n                suppress=self.tracebacks_suppress,\n                max_frames=self.tracebacks_max_frames,\n            )\n            message = record.getMessage()\n            if self.formatter:\n                record.message = record.getMessage()\n                formatter = self.formatter\n                if hasattr(formatter, \"usesTime\") and formatter.usesTime():\n                    record.asctime = formatter.formatTime(record, formatter.datefmt)\n                message = formatter.formatMessage(record)\n\n        message_renderable = self.render_message(record, message)\n        log_renderable = self.render(\n            record=record, traceback=traceback, message_renderable=message_renderable\n        )\n        if isinstance(self.console.file, NullFile):",
    "start_line": 131
  },
  {
    "file": "logging.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# Handles pythonw, where stdout/stderr are null, and we return NullFile\n            # instance from Console.file. In this case, we still want to make a log record\n            # even though we won't be writing anything to a file.\n            self.handleError(record)\n        else:\n            try:\n                self.console.print(log_renderable)\n            except Exception:\n                self.handleError(record)",
    "start_line": 171
  },
  {
    "file": "logging.py",
    "type": "method",
    "class": "RichHandler",
    "method": "render_message",
    "name": "render_message",
    "content": "class RichHandler:\n    def render_message(self, record: LogRecord, message: str) -> \"ConsoleRenderable\":\n        \"\"\"Render message text in to Text.\n\n        Args:\n            record (LogRecord): logging Record.\n            message (str): String containing log message.\n\n        Returns:\n            ConsoleRenderable: Renderable to display log message.\n        \"\"\"\n        use_markup = getattr(record, \"markup\", self.markup)\n        message_text = Text.from_markup(message) if use_markup else Text(message)\n\n        highlighter = getattr(record, \"highlighter\", self.highlighter)\n        if highlighter:\n            message_text = highlighter(message_text)\n\n        if self.keywords is None:\n            self.keywords = self.KEYWORDS\n\n        if self.keywords:\n            message_text.highlight_words(self.keywords, \"logging.keyword\")\n\n        return message_text",
    "start_line": 181
  },
  {
    "file": "logging.py",
    "type": "method",
    "class": "RichHandler",
    "method": "render",
    "name": "render",
    "content": "class RichHandler:\n    def render(\n        self,\n        *,\n        record: LogRecord,\n        traceback: Optional[Traceback],\n        message_renderable: \"ConsoleRenderable\",\n    ) -> \"ConsoleRenderable\":\n        \"\"\"Render log for display.\n\n        Args:\n            record (LogRecord): logging Record.\n            traceback (Optional[Traceback]): Traceback instance or None for no Traceback.\n            message_renderable (ConsoleRenderable): Renderable (typically Text) containing log message contents.\n\n        Returns:\n            ConsoleRenderable: Renderable to display log.\n        \"\"\"\n        path = Path(record.pathname).name\n        level = self.get_level_text(record)\n        time_format = None if self.formatter is None else self.formatter.datefmt\n        log_time = datetime.fromtimestamp(record.created)\n\n        log_renderable = self._log_render(\n            self.console,\n            [message_renderable] if not traceback else [message_renderable, traceback],\n            log_time=log_time,\n            time_format=time_format,\n            level=level,\n            path=path,\n            line_no=record.lineno,\n            link_path=record.pathname if self.enable_link_path else None,\n        )\n        return log_renderable\n\n\nif __name__ == \"__main__\":  # pragma: no cover",
    "start_line": 206
  },
  {
    "file": "logging.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from time import sleep",
    "start_line": 242
  },
  {
    "file": "logging.py",
    "type": "constants",
    "class": null,
    "method": null,
    "name": "module_constants",
    "content": "FORMAT = \"%(message)s\"",
    "start_line": 244
  },
  {
    "file": "logging.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# FORMAT = \"%(asctime)-15s - %(levelname)s - %(message)s\"\n    logging.basicConfig(\n        level=\"NOTSET\",\n        format=FORMAT,\n        datefmt=\"[%X]\",\n        handlers=[RichHandler(rich_tracebacks=True, tracebacks_show_locals=True)],\n    )\n    log = logging.getLogger(\"rich\")\n    log.info(\"Server starting...\")\n    log.info(\"Listening on http://127.0.0.1:8080\")\n    sleep(1)\n    log.info(\"GET /index.html 200 1298\")\n    log.info(\"GET /imgs/backgrounds/back1.jpg 200 54386\")\n    log.info(\"GET /css/styles.css 200 54386\")\n    log.warning(\"GET /favicon.ico 404 242\")\n    sleep(1)\n    log.debug(\n        \"JSONRPC request\\n--> %r\\n<-- %r\",\n        {\n            \"version\": \"1.1\",\n            \"method\": \"confirmFruitPurchase\",\n            \"params\": [[\"apple\", \"orange\", \"mangoes\", \"pomelo\"], 1.123],\n            \"id\": \"194521489\",\n        },\n        {\"version\": \"1.1\", \"result\": True, \"error\": None, \"id\": \"194521489\"},\n    )\n    log.debug(\n        \"Loading configuration file /adasd/asdasd/qeqwe/qwrqwrqwr/sdgsdgsdg/werwerwer/dfgerert/ertertert/ertetert/werwerwer\"\n    )\n    log.error(\"Unable to find 'pomelo' in database!\")\n    log.info(\"POST /jsonrpc/ 200 65532\")\n    log.info(\"POST /admin/ 401 42234\")\n    log.warning(\"password was rejected for admin site.\")",
    "start_line": 245
  },
  {
    "file": "logging.py",
    "type": "method",
    "class": "RichHandler",
    "method": "divide",
    "name": "divide",
    "content": "class RichHandler:\n    def divide() -> None:\n        number = 1\n        divisor = 0\n        foos = [\"foo\"] * 100\n        log.debug(\"in divide\")\n        try:\n            number / divisor\n        except:\n            log.exception(\"An error of some kind occurred!\")\n\n    divide()\n    sleep(1)\n    log.critical(\"Out of memory!\")\n    log.info(\"Server exited with code=-1\")\n    log.info(\"[bold]EXITING...[/bold]\", extra=dict(markup=True))",
    "start_line": 282
  },
  {
    "file": "logging.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "import logging\nfrom datetime import datetime\nfrom logging import Handler, LogRecord\nfrom pathlib import Path\nfrom types import ModuleType\nfrom typing import ClassVar, Iterable, List, Optional, Type, Union\n\nfrom rich._null_file import NullFile\n\nfrom . import get_console\nfrom ._log_render import FormatTimeCallable, LogRender\nfrom .console import Console, ConsoleRenderable\nfrom .highlighter import Highlighter, ReprHighlighter\nfrom .text import Text\nfrom .traceback import Traceback\n\n\nclass RichHandler(Handler):\n    \"\"\"A logging handler that renders output with Rich. The time / level / message and file are displayed in columns.\n    The level is color coded, and the message is syntax highlighted.\n\n    Note:\n        Be careful when enabling console markup in log messages if you have configured logging for libraries not\n        under your control. If a dependency writes messages containing square brackets, it may not produce the intended output.\n\n    Args:\n        level (Union[int, str], optional): Log level. Defaults to logging.NOTSET.\n        console (:class:`~rich.console.Console`, optional): Optional console instance to write logs.\n            Default will use a global console instance writing to stdout.\n        show_time (bool, optional): Show a column for the time. Defaults to True.\n        omit_repeated_times (bool, optional): Omit repetition of the same time. Defaults to True.\n        show_level (bool, optional): Show a column for the level. Defaults to True.\n        show_path (bool, optional): Show the path to the original log call. Defaults to True.\n        enable_link_path (bool, optional): Enable terminal link of path column to file. Defaults to True.\n        highlighter (Highlighter, optional): Highlighter to style log messages, or None to use ReprHighlighter. Defaults to None.\n        markup (bool, optional): Enable console markup in log messages. Defaults to False.\n        rich_tracebacks (bool, optional): Enable rich tracebacks with syntax highlighting and formatting. Defaults to False.\n        tracebacks_width (Optional[int], optional): Number of characters used to render tracebacks, or None for full width. Defaults to None.\n        tracebacks_code_width (int, optional): Number of code characters used to render tracebacks, or None for full width. Defaults to 88.\n        tracebacks_extra_lines (int, optional): Additional lines of code to render tracebacks, or None for full width. Defaults to None.\n        tracebacks_theme (str, optional): Override pygments theme used in traceback.\n        tracebacks_word_wrap (bool, optional): Enable word wrapping of long tracebacks lines. Defaults to True.\n        tracebacks_show_locals (bool, optional): Enable display of locals in tracebacks. Defaults to False.\n        tracebacks_suppress (Sequence[Union[str, ModuleType]]): Optional sequence of modules or paths to exclude from traceback.\n        tracebacks_max_frames (int, optional): Optional maximum number of frames returned by traceback.\n        locals_max_length (int, optional): Maximum length of containers before abbreviating, or None for no abbreviation.\n            Defaults to 10.\n        locals_max_string (int, optional): Maximum length of string before truncating, or None to disable. Defaults to 80.\n        log_time_format (Union[str, TimeFormatterCallable], optional): If ``log_time`` is enabled, either string for strftime or callable that formats the time. Defaults to \"[%x %X] \".\n        keywords (List[str], optional): List of words to highlight instead of ``RichHandler.KEYWORDS``.\n    \"\"\"\n\n    KEYWORDS: ClassVar[Optional[List[str]]] = [\n        \"GET\",\n        \"POST\",\n        \"HEAD\",\n        \"PUT\",\n        \"DELETE\",\n        \"OPTIONS\",\n        \"TRACE\",\n        \"PATCH\",\n    ]\n    HIGHLIGHTER_CLASS: ClassVar[Type[Highlighter]] = ReprHighlighter\n\n    def __init__(\n        self,\n        level: Union[int, str] = logging.NOTSET,\n        console: Optional[Console] = None,\n        *,\n        show_time: bool = True,\n        omit_repeated_times: bool = True,\n        show_level: bool = True,\n        show_path: bool = True,\n        enable_link_path: bool = True,\n        highlighter: Optional[Highlighter] = None,\n        markup: bool = False,\n        rich_tracebacks: bool = False,\n        tracebacks_width: Optional[int] = None,\n        tracebacks_code_width: int = 88,\n        tracebacks_extra_lines: int = 3,\n        tracebacks_theme: Optional[str] = None,\n        tracebacks_word_wrap: bool = True,\n        tracebacks_show_locals: bool = False,\n        tracebacks_suppress: Iterable[Union[str, ModuleType]] = (),\n        tracebacks_max_frames: int = 100,\n        locals_max_length: int = 10,\n        locals_max_string: int = 80,\n        log_time_format: Union[str, FormatTimeCallable] = \"[%x %X]\",\n        keywords: Optional[List[str]] = None,\n    ) -> None:\n        super().__init__(level=level)\n        self.console = console or get_console()\n        self.highlighter = highlighter or self.HIGHLIGHTER_CLASS()\n        self._log_render = LogRender(\n            show_time=show_time,\n            show_level=show_level,\n            show_path=show_path,\n            time_format=log_time_format,\n            omit_repeated_times=omit_repeated_times,\n            level_width=None,\n        )\n        self.enable_link_path = enable_link_path\n        self.markup = markup\n        self.rich_tracebacks = rich_tracebacks\n        self.tracebacks_width = tracebacks_width\n        self.tracebacks_extra_lines = tracebacks_extra_lines\n        self.tracebacks_theme = tracebacks_theme\n        self.tracebacks_word_wrap = tracebacks_word_wrap\n        self.tracebacks_show_locals = tracebacks_show_locals\n        self.tracebacks_suppress = tracebacks_suppress\n        self.tracebacks_max_frames = tracebacks_max_frames\n        self.tracebacks_code_width = tracebacks_code_width\n        self.locals_max_length = locals_max_length\n        self.locals_max_string = locals_max_string\n        self.keywords = keywords\n\n    def get_level_text(self, record: LogRecord) -> Text:\n        \"\"\"Get the level name from the record.\n\n        Args:\n            record (LogRecord): LogRecord instance.\n\n        Returns:\n            Text: A tuple of the style and level name.\n        \"\"\"\n        level_name = record.levelname\n        level_text = Text.styled(\n            level_name.ljust(8), f\"logging.level.{level_name.lower()}\"\n        )\n        return level_text\n\n    def emit(self, record: LogRecord) -> None:\n        \"\"\"Invoked by logging.\"\"\"\n        message = self.format(record)\n        traceback = None\n        if (\n            self.rich_tracebacks\n            and record.exc_info\n            and record.exc_info != (None, None, None)\n        ):\n            exc_type, exc_value, exc_traceback = record.exc_info\n            assert exc_type is not None\n            assert exc_value is not None\n            traceback = Traceback.from_exception(\n                exc_type,\n                exc_value,\n                exc_traceback,\n                width=self.tracebacks_width,\n                code_width=self.tracebacks_code_width,\n                extra_lines=self.tracebacks_extra_lines,\n                theme=self.tracebacks_theme,\n                word_wrap=self.tracebacks_word_wrap,\n                show_locals=self.tracebacks_show_locals,\n                locals_max_length=self.locals_max_length,\n                locals_max_string=self.locals_max_string,\n                suppress=self.tracebacks_suppress,\n                max_frames=self.tracebacks_max_frames,\n            )\n            message = record.getMessage()\n            if self.formatter:\n                record.message = record.getMessage()\n                formatter = self.formatter\n                if hasattr(formatter, \"usesTime\") and formatter.usesTime():\n                    record.asctime = formatter.formatTime(record, formatter.datefmt)\n                message = formatter.formatMessage(record)\n\n        message_renderable = self.render_message(record, message)\n        log_renderable = self.render(\n            record=record, traceback=traceback, message_renderable=message_renderable\n        )\n        if isinstance(self.console.file, NullFile):\n            # Handles pythonw, where stdout/stderr are null, and we return NullFile\n            # instance from Console.file. In this case, we still want to make a log record\n            # even though we won't be writing anything to a file.\n            self.handleError(record)\n        else:\n            try:\n                self.console.print(log_renderable)\n            except Exception:\n                self.handleError(record)\n\n    def render_message(self, record: LogRecord, message: str) -> \"ConsoleRenderable\":\n        \"\"\"Render message text in to Text.\n\n        Args:\n            record (LogRecord): logging Record.\n            message (str): String containing log message.\n\n        Returns:\n            ConsoleRenderable: Renderable to display log message.\n        \"\"\"\n        use_markup = getattr(record, \"markup\", self.markup)\n        message_text = Text.from_markup(message) if use_markup else Text(message)\n\n        highlighter = getattr(record, \"highlighter\", self.highlighter)\n        if highlighter:\n            message_text = highlighter(message_text)\n\n        if self.keywords is None:\n            self.keywords = self.KEYWORDS\n\n        if self.keywords:\n            message_text.highlight_words(self.keywords, \"logging.keyword\")\n\n        return message_text\n\n    def render(\n        self,\n        *,\n        record: LogRecord,\n        traceback: Optional[Traceback],\n        message_renderable: \"ConsoleRenderable\",\n    ) -> \"ConsoleRenderable\":\n        \"\"\"Render log for display.\n\n        Args:\n            record (LogRecord): logging Record.\n            traceback (Optional[Traceback]): Traceback instance or None for no Traceback.\n            message_renderable (ConsoleRenderable): Renderable (typically Text) containing log message contents.\n\n        Returns:\n            ConsoleRenderable: Renderable to display log.\n        \"\"\"\n        path = Path(record.pathname).name\n        level = self.get_level_text(record)\n        time_format = None if self.formatter is None else self.formatter.datefmt\n        log_time = datetime.fromtimestamp(record.created)\n\n        log_renderable = self._log_render(\n            self.console,\n            [message_renderable] if not traceback else [message_renderable, traceback],\n            log_time=log_time,\n            time_format=time_format,\n            level=level,\n            path=path,\n            line_no=record.lineno,\n            link_path=record.pathname if self.enable_link_path else None,\n        )\n        return log_renderable\n\n\nif __name__ == \"__main__\":  # pragma: no cover\n    from time import sleep\n\n    FORMAT = \"%(message)s\"\n    # FORMAT = \"%(asctime)-15s - %(levelname)s - %(message)s\"\n    logging.basicConfig(\n        level=\"NOTSET\",\n        format=FORMAT,\n        datefmt=\"[%X]\",\n        handlers=[RichHandler(rich_tracebacks=True, tracebacks_show_locals=True)],\n    )\n    log = logging.getLogger(\"rich\")\n\n    log.info(\"Server starting...\")\n    log.info(\"Listening on http://127.0.0.1:8080\")\n    sleep(1)\n\n    log.info(\"GET /index.html 200 1298\")\n    log.info(\"GET /imgs/backgrounds/back1.jpg 200 54386\")\n    log.info(\"GET /css/styles.css 200 54386\")\n    log.warning(\"GET /favicon.ico 404 242\")\n    sleep(1)\n\n    log.debug(\n        \"JSONRPC request\\n--> %r\\n<-- %r\",\n        {\n            \"version\": \"1.1\",\n            \"method\": \"confirmFruitPurchase\",\n            \"params\": [[\"apple\", \"orange\", \"mangoes\", \"pomelo\"], 1.123],\n            \"id\": \"194521489\",\n        },\n        {\"version\": \"1.1\", \"result\": True, \"error\": None, \"id\": \"194521489\"},\n    )\n    log.debug(\n        \"Loading configuration file /adasd/asdasd/qeqwe/qwrqwrqwr/sdgsdgsdg/werwerwer/dfgerert/ertertert/ertetert/werwerwer\"\n    )\n    log.error(\"Unable to find 'pomelo' in database!\")\n    log.info(\"POST /jsonrpc/ 200 65532\")\n    log.info(\"POST /admin/ 401 42234\")\n    log.warning(\"password was rejected for admin site.\")\n\n    def divide() -> None:\n        number = 1\n        divisor = 0\n        foos = [\"foo\"] * 100\n        log.debug(\"in divide\")\n        try:\n            number / divisor\n        except:\n            log.exception(\"An error of some kind occurred!\")\n\n    divide()\n    sleep(1)\n    log.critical(\"Out of memory!\")\n    log.info(\"Server exited with code=-1\")\n    log.info(\"[bold]EXITING...[/bold]\", extra=dict(markup=True))\n",
    "start_line": 0
  },
  {
    "file": "measure.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from operator import itemgetter\nfrom typing import TYPE_CHECKING, Callable, NamedTuple, Optional, Sequence\nfrom . import errors\nfrom .protocol import is_renderable, rich_cast\nif TYPE_CHECKING:\n    from .console import Console, ConsoleOptions, RenderableType",
    "start_line": 0
  },
  {
    "file": "measure.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "Measurement",
    "content": "class Measurement(NamedTuple):\n    \"\"\"Stores the minimum and maximum widths (in characters) required to render an object.\"\"\"\n\n    minimum: int\n    \"\"\"Minimum number of cells required to render.\"\"\"\n    maximum: int\n    \"\"\"Maximum number of cells required to render.\"\"\"\n\n    @property",
    "start_line": 10
  },
  {
    "file": "measure.py",
    "type": "method",
    "class": "Measurement",
    "method": "span",
    "name": "span",
    "content": "class Measurement:\n    def span(self) -> int:\n        \"\"\"Get difference between maximum and minimum.\"\"\"\n        return self.maximum - self.minimum",
    "start_line": 19
  },
  {
    "file": "measure.py",
    "type": "method",
    "class": "Measurement",
    "method": "normalize",
    "name": "normalize",
    "content": "class Measurement:\n    def normalize(self) -> \"Measurement\":\n        \"\"\"Get measurement that ensures that minimum <= maximum and minimum >= 0\n\n        Returns:\n            Measurement: A normalized measurement.\n        \"\"\"\n        minimum, maximum = self\n        minimum = min(max(0, minimum), maximum)\n        return Measurement(max(0, minimum), max(0, max(minimum, maximum)))",
    "start_line": 23
  },
  {
    "file": "measure.py",
    "type": "method",
    "class": "Measurement",
    "method": "with_maximum",
    "name": "with_maximum",
    "content": "class Measurement:\n    def with_maximum(self, width: int) -> \"Measurement\":\n        \"\"\"Get a RenderableWith where the widths are <= width.\n\n        Args:\n            width (int): Maximum desired width.\n\n        Returns:\n            Measurement: New Measurement object.\n        \"\"\"\n        minimum, maximum = self\n        return Measurement(min(minimum, width), min(maximum, width))",
    "start_line": 33
  },
  {
    "file": "measure.py",
    "type": "method",
    "class": "Measurement",
    "method": "with_minimum",
    "name": "with_minimum",
    "content": "class Measurement:\n    def with_minimum(self, width: int) -> \"Measurement\":\n        \"\"\"Get a RenderableWith where the widths are >= width.\n\n        Args:\n            width (int): Minimum desired width.\n\n        Returns:\n            Measurement: New Measurement object.\n        \"\"\"\n        minimum, maximum = self\n        width = max(0, width)\n        return Measurement(max(minimum, width), max(maximum, width))",
    "start_line": 45
  },
  {
    "file": "measure.py",
    "type": "method",
    "class": "Measurement",
    "method": "clamp",
    "name": "clamp",
    "content": "class Measurement:\n    def clamp(\n        self, min_width: Optional[int] = None, max_width: Optional[int] = None\n    ) -> \"Measurement\":\n        \"\"\"Clamp a measurement within the specified range.\n\n        Args:\n            min_width (int): Minimum desired width, or ``None`` for no minimum. Defaults to None.\n            max_width (int): Maximum desired width, or ``None`` for no maximum. Defaults to None.\n\n        Returns:\n            Measurement: New Measurement object.\n        \"\"\"\n        measurement = self\n        if min_width is not None:\n            measurement = measurement.with_minimum(min_width)\n        if max_width is not None:\n            measurement = measurement.with_maximum(max_width)\n        return measurement\n\n    @classmethod",
    "start_line": 58
  },
  {
    "file": "measure.py",
    "type": "method",
    "class": "Measurement",
    "method": "get",
    "name": "get",
    "content": "class Measurement:\n    def get(\n        cls, console: \"Console\", options: \"ConsoleOptions\", renderable: \"RenderableType\"\n    ) -> \"Measurement\":\n        \"\"\"Get a measurement for a renderable.\n\n        Args:\n            console (~rich.console.Console): Console instance.\n            options (~rich.console.ConsoleOptions): Console options.\n            renderable (RenderableType): An object that may be rendered with Rich.\n\n        Raises:\n            errors.NotRenderableError: If the object is not renderable.\n\n        Returns:\n            Measurement: Measurement object containing range of character widths required to render the object.\n        \"\"\"\n        _max_width = options.max_width\n        if _max_width < 1:\n            return Measurement(0, 0)\n        if isinstance(renderable, str):\n            renderable = console.render_str(\n                renderable, markup=options.markup, highlight=False\n            )\n        renderable = rich_cast(renderable)\n        if is_renderable(renderable):\n            get_console_width: Optional[\n                Callable[[\"Console\", \"ConsoleOptions\"], \"Measurement\"]\n            ] = getattr(renderable, \"__rich_measure__\", None)\n            if get_console_width is not None:\n                render_width = (\n                    get_console_width(console, options)\n                    .normalize()\n                    .with_maximum(_max_width)\n                )\n                if render_width.maximum < 1:\n                    return Measurement(0, 0)\n                return render_width.normalize()\n            else:\n                return Measurement(0, _max_width)\n        else:\n            raise errors.NotRenderableError(\n                f\"Unable to get render width for {renderable!r}; \"\n                \"a str, Segment, or object with __rich_console__ method is required\"\n            )",
    "start_line": 78
  },
  {
    "file": "measure.py",
    "type": "function",
    "class": null,
    "method": "measure_renderables",
    "name": "measure_renderables",
    "content": "def measure_renderables(\n    console: \"Console\",\n    options: \"ConsoleOptions\",\n    renderables: Sequence[\"RenderableType\"],\n) -> \"Measurement\":\n    \"\"\"Get a measurement that would fit a number of renderables.\n\n    Args:\n        console (~rich.console.Console): Console instance.\n        options (~rich.console.ConsoleOptions): Console options.\n        renderables (Iterable[RenderableType]): One or more renderable objects.\n\n    Returns:\n        Measurement: Measurement object containing range of character widths required to\n            contain all given renderables.\n    \"\"\"\n    if not renderables:\n        return Measurement(0, 0)",
    "start_line": 124
  },
  {
    "file": "measure.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "get_measurement = Measurement.get\n    measurements = [\n        get_measurement(console, options, renderable) for renderable in renderables\n    ]\n    measured_width = Measurement(\n        max(measurements, key=itemgetter(0)).minimum,\n        max(measurements, key=itemgetter(1)).maximum,\n    )\n    return measured_width",
    "start_line": 142
  },
  {
    "file": "measure.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "from operator import itemgetter\nfrom typing import TYPE_CHECKING, Callable, NamedTuple, Optional, Sequence\n\nfrom . import errors\nfrom .protocol import is_renderable, rich_cast\n\nif TYPE_CHECKING:\n    from .console import Console, ConsoleOptions, RenderableType\n\n\nclass Measurement(NamedTuple):\n    \"\"\"Stores the minimum and maximum widths (in characters) required to render an object.\"\"\"\n\n    minimum: int\n    \"\"\"Minimum number of cells required to render.\"\"\"\n    maximum: int\n    \"\"\"Maximum number of cells required to render.\"\"\"\n\n    @property\n    def span(self) -> int:\n        \"\"\"Get difference between maximum and minimum.\"\"\"\n        return self.maximum - self.minimum\n\n    def normalize(self) -> \"Measurement\":\n        \"\"\"Get measurement that ensures that minimum <= maximum and minimum >= 0\n\n        Returns:\n            Measurement: A normalized measurement.\n        \"\"\"\n        minimum, maximum = self\n        minimum = min(max(0, minimum), maximum)\n        return Measurement(max(0, minimum), max(0, max(minimum, maximum)))\n\n    def with_maximum(self, width: int) -> \"Measurement\":\n        \"\"\"Get a RenderableWith where the widths are <= width.\n\n        Args:\n            width (int): Maximum desired width.\n\n        Returns:\n            Measurement: New Measurement object.\n        \"\"\"\n        minimum, maximum = self\n        return Measurement(min(minimum, width), min(maximum, width))\n\n    def with_minimum(self, width: int) -> \"Measurement\":\n        \"\"\"Get a RenderableWith where the widths are >= width.\n\n        Args:\n            width (int): Minimum desired width.\n\n        Returns:\n            Measurement: New Measurement object.\n        \"\"\"\n        minimum, maximum = self\n        width = max(0, width)\n        return Measurement(max(minimum, width), max(maximum, width))\n\n    def clamp(\n        self, min_width: Optional[int] = None, max_width: Optional[int] = None\n    ) -> \"Measurement\":\n        \"\"\"Clamp a measurement within the specified range.\n\n        Args:\n            min_width (int): Minimum desired width, or ``None`` for no minimum. Defaults to None.\n            max_width (int): Maximum desired width, or ``None`` for no maximum. Defaults to None.\n\n        Returns:\n            Measurement: New Measurement object.\n        \"\"\"\n        measurement = self\n        if min_width is not None:\n            measurement = measurement.with_minimum(min_width)\n        if max_width is not None:\n            measurement = measurement.with_maximum(max_width)\n        return measurement\n\n    @classmethod\n    def get(\n        cls, console: \"Console\", options: \"ConsoleOptions\", renderable: \"RenderableType\"\n    ) -> \"Measurement\":\n        \"\"\"Get a measurement for a renderable.\n\n        Args:\n            console (~rich.console.Console): Console instance.\n            options (~rich.console.ConsoleOptions): Console options.\n            renderable (RenderableType): An object that may be rendered with Rich.\n\n        Raises:\n            errors.NotRenderableError: If the object is not renderable.\n\n        Returns:\n            Measurement: Measurement object containing range of character widths required to render the object.\n        \"\"\"\n        _max_width = options.max_width\n        if _max_width < 1:\n            return Measurement(0, 0)\n        if isinstance(renderable, str):\n            renderable = console.render_str(\n                renderable, markup=options.markup, highlight=False\n            )\n        renderable = rich_cast(renderable)\n        if is_renderable(renderable):\n            get_console_width: Optional[\n                Callable[[\"Console\", \"ConsoleOptions\"], \"Measurement\"]\n            ] = getattr(renderable, \"__rich_measure__\", None)\n            if get_console_width is not None:\n                render_width = (\n                    get_console_width(console, options)\n                    .normalize()\n                    .with_maximum(_max_width)\n                )\n                if render_width.maximum < 1:\n                    return Measurement(0, 0)\n                return render_width.normalize()\n            else:\n                return Measurement(0, _max_width)\n        else:\n            raise errors.NotRenderableError(\n                f\"Unable to get render width for {renderable!r}; \"\n                \"a str, Segment, or object with __rich_console__ method is required\"\n            )\n\n\ndef measure_renderables(\n    console: \"Console\",\n    options: \"ConsoleOptions\",\n    renderables: Sequence[\"RenderableType\"],\n) -> \"Measurement\":\n    \"\"\"Get a measurement that would fit a number of renderables.\n\n    Args:\n        console (~rich.console.Console): Console instance.\n        options (~rich.console.ConsoleOptions): Console options.\n        renderables (Iterable[RenderableType]): One or more renderable objects.\n\n    Returns:\n        Measurement: Measurement object containing range of character widths required to\n            contain all given renderables.\n    \"\"\"\n    if not renderables:\n        return Measurement(0, 0)\n    get_measurement = Measurement.get\n    measurements = [\n        get_measurement(console, options, renderable) for renderable in renderables\n    ]\n    measured_width = Measurement(\n        max(measurements, key=itemgetter(0)).minimum,\n        max(measurements, key=itemgetter(1)).maximum,\n    )\n    return measured_width\n",
    "start_line": 0
  },
  {
    "file": "tree.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from typing import Iterator, List, Optional, Tuple\nfrom ._loop import loop_first, loop_last\nfrom .console import Console, ConsoleOptions, RenderableType, RenderResult\nfrom .jupyter import JupyterMixin\nfrom .measure import Measurement\nfrom .segment import Segment\nfrom .style import Style, StyleStack, StyleType\nfrom .styled import Styled\nGuideType = Tuple[str, str, str, str]",
    "start_line": 0
  },
  {
    "file": "tree.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "Tree",
    "content": "class Tree(JupyterMixin):\n    \"\"\"A renderable for a tree structure.\n\n    Attributes:\n        ASCII_GUIDES (GuideType): Guide lines used when Console.ascii_only is True.\n        TREE_GUIDES (List[GuideType, GuideType, GuideType]): Default guide lines.\n\n    Args:\n        label (RenderableType): The renderable or str for the tree label.\n        style (StyleType, optional): Style of this tree. Defaults to \"tree\".\n        guide_style (StyleType, optional): Style of the guide lines. Defaults to \"tree.line\".\n        expanded (bool, optional): Also display children. Defaults to True.\n        highlight (bool, optional): Highlight renderable (if str). Defaults to False.\n        hide_root (bool, optional): Hide the root node. Defaults to False.\n    \"\"\"",
    "start_line": 13
  },
  {
    "file": "tree.py",
    "type": "constants",
    "class": null,
    "method": null,
    "name": "module_constants",
    "content": "ASCII_GUIDES = (\"    \", \"|   \", \"+-- \", \"`-- \")\n    TREE_GUIDES = [\n        (\"    \", \"   \", \" \", \" \"),\n        (\"    \", \"   \", \" \", \" \"),\n        (\"    \", \"   \", \" \", \" \"),\n    ]",
    "start_line": 29
  },
  {
    "file": "tree.py",
    "type": "method",
    "class": "Tree",
    "method": "__init__",
    "name": "__init__",
    "content": "class Tree:\n    def __init__(\n        self,\n        label: RenderableType,\n        *,\n        style: StyleType = \"tree\",\n        guide_style: StyleType = \"tree.line\",\n        expanded: bool = True,\n        highlight: bool = False,\n        hide_root: bool = False,\n    ) -> None:\n        self.label = label\n        self.style = style\n        self.guide_style = guide_style\n        self.children: List[Tree] = []\n        self.expanded = expanded\n        self.highlight = highlight\n        self.hide_root = hide_root",
    "start_line": 36
  },
  {
    "file": "tree.py",
    "type": "method",
    "class": "Tree",
    "method": "add",
    "name": "add",
    "content": "class Tree:\n    def add(\n        self,\n        label: RenderableType,\n        *,\n        style: Optional[StyleType] = None,\n        guide_style: Optional[StyleType] = None,\n        expanded: bool = True,\n        highlight: Optional[bool] = False,\n    ) -> \"Tree\":\n        \"\"\"Add a child tree.\n\n        Args:\n            label (RenderableType): The renderable or str for the tree label.\n            style (StyleType, optional): Style of this tree. Defaults to \"tree\".\n            guide_style (StyleType, optional): Style of the guide lines. Defaults to \"tree.line\".\n            expanded (bool, optional): Also display children. Defaults to True.\n            highlight (Optional[bool], optional): Highlight renderable (if str). Defaults to False.\n\n        Returns:\n            Tree: A new child Tree, which may be further modified.\n        \"\"\"\n        node = Tree(\n            label,\n            style=self.style if style is None else style,\n            guide_style=self.guide_style if guide_style is None else guide_style,\n            expanded=expanded,\n            highlight=self.highlight if highlight is None else highlight,\n        )\n        self.children.append(node)\n        return node",
    "start_line": 54
  },
  {
    "file": "tree.py",
    "type": "method",
    "class": "Tree",
    "method": "__rich_console__",
    "name": "__rich_console__",
    "content": "class Tree:\n    def __rich_console__(\n        self, console: \"Console\", options: \"ConsoleOptions\"\n    ) -> \"RenderResult\":\n        stack: List[Iterator[Tuple[bool, Tree]]] = []\n        pop = stack.pop\n        push = stack.append\n        new_line = Segment.line()\n\n        get_style = console.get_style\n        null_style = Style.null()\n        guide_style = get_style(self.guide_style, default=\"\") or null_style\n        SPACE, CONTINUE, FORK, END = range(4)\n\n        _Segment = Segment",
    "start_line": 85
  },
  {
    "file": "tree.py",
    "type": "method",
    "class": "Tree",
    "method": "make_guide",
    "name": "make_guide",
    "content": "class Tree:\n        def make_guide(index: int, style: Style) -> Segment:\n            \"\"\"Make a Segment for a level of the guide lines.\"\"\"\n            if options.ascii_only:\n                line = self.ASCII_GUIDES[index]\n            else:\n                guide = 1 if style.bold else (2 if style.underline2 else 0)\n                line = self.TREE_GUIDES[0 if options.legacy_windows else guide][index]\n            return _Segment(line, style)\n\n        levels: List[Segment] = [make_guide(CONTINUE, guide_style)]\n        push(iter(loop_last([self])))\n\n        guide_style_stack = StyleStack(get_style(self.guide_style))\n        style_stack = StyleStack(get_style(self.style))\n        remove_guide_styles = Style(bold=False, underline2=False)\n\n        depth = 0\n\n        while stack:\n            stack_node = pop()\n            try:\n                last, node = next(stack_node)\n            except StopIteration:\n                levels.pop()\n                if levels:\n                    guide_style = levels[-1].style or null_style\n                    levels[-1] = make_guide(FORK, guide_style)\n                    guide_style_stack.pop()\n                    style_stack.pop()\n                continue\n            push(stack_node)\n            if last:\n                levels[-1] = make_guide(END, levels[-1].style or null_style)\n\n            guide_style = guide_style_stack.current + get_style(node.guide_style)\n            style = style_stack.current + get_style(node.style)\n            prefix = levels[(2 if self.hide_root else 1) :]\n            renderable_lines = console.render_lines(\n                Styled(node.label, style),\n                options.update(\n                    width=options.max_width\n                    - sum(level.cell_length for level in prefix),\n                    highlight=self.highlight,\n                    height=None,\n                ),\n                pad=options.justify is not None,\n            )\n\n            if not (depth == 0 and self.hide_root):\n                for first, line in loop_first(renderable_lines):\n                    if prefix:\n                        yield from _Segment.apply_style(\n                            prefix,\n                            style.background_style,\n                            post_style=remove_guide_styles,\n                        )\n                    yield from line\n                    yield new_line\n                    if first and prefix:\n                        prefix[-1] = make_guide(\n                            SPACE if last else CONTINUE, prefix[-1].style or null_style\n                        )\n\n            if node.expanded and node.children:\n                levels[-1] = make_guide(\n                    SPACE if last else CONTINUE, levels[-1].style or null_style\n                )\n                levels.append(\n                    make_guide(END if len(node.children) == 1 else FORK, guide_style)\n                )\n                style_stack.push(get_style(node.style))\n                guide_style_stack.push(get_style(node.guide_style))\n                push(iter(loop_last(node.children)))\n                depth += 1",
    "start_line": 100
  },
  {
    "file": "tree.py",
    "type": "method",
    "class": "Tree",
    "method": "__rich_measure__",
    "name": "__rich_measure__",
    "content": "class Tree:\n    def __rich_measure__(\n        self, console: \"Console\", options: \"ConsoleOptions\"\n    ) -> \"Measurement\":\n        stack: List[Iterator[Tree]] = [iter([self])]\n        pop = stack.pop\n        push = stack.append\n        minimum = 0\n        maximum = 0\n        measure = Measurement.get\n        level = 0\n        while stack:\n            iter_tree = pop()\n            try:\n                tree = next(iter_tree)\n            except StopIteration:\n                level -= 1\n                continue\n            push(iter_tree)\n            min_measure, max_measure = measure(console, options, tree.label)\n            indent = level * 4\n            minimum = max(min_measure + indent, minimum)\n            maximum = max(max_measure + indent, maximum)\n            if tree.expanded and tree.children:\n                push(iter(tree.children))\n                level += 1\n        return Measurement(minimum, maximum)\n\n\nif __name__ == \"__main__\":  # pragma: no cover",
    "start_line": 175
  },
  {
    "file": "tree.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from rich.console import Group\n    from rich.markdown import Markdown\n    from rich.panel import Panel\n    from rich.syntax import Syntax\n    from rich.table import Table\n    table = Table(row_styles=[\"\", \"dim\"])\n    table.add_column(\"Released\", style=\"cyan\", no_wrap=True)\n    table.add_column(\"Title\", style=\"magenta\")\n    table.add_column(\"Box Office\", justify=\"right\", style=\"green\")\n    table.add_row(\"Dec 20, 2019\", \"Star Wars: The Rise of Skywalker\", \"$952,110,690\")\n    table.add_row(\"May 25, 2018\", \"Solo: A Star Wars Story\", \"$393,151,347\")\n    table.add_row(\"Dec 15, 2017\", \"Star Wars Ep. V111: The Last Jedi\", \"$1,332,539,889\")\n    table.add_row(\"Dec 16, 2016\", \"Rogue One: A Star Wars Story\", \"$1,332,439,889\")\n    code = \"\"\"\\",
    "start_line": 204
  },
  {
    "file": "tree.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "Segment",
    "content": "class Segment(NamedTuple):\n    text: str = \"\"\n    style: Optional[Style] = None\n    is_control: bool = False\n\"\"\"",
    "start_line": 222
  },
  {
    "file": "tree.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "syntax = Syntax(code, \"python\", theme=\"monokai\", line_numbers=True)\n    markdown = Markdown(\n        \"\"\"\\",
    "start_line": 227
  },
  {
    "file": "tree.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "### example.md\n> Hello, World!\n>\n> Markdown _all_ the things\n\"\"\"\n    )",
    "start_line": 231
  },
  {
    "file": "tree.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "root = Tree(\" [b green]Rich Tree\", highlight=True, hide_root=True)\n    node = root.add(\":file_folder: Renderables\", guide_style=\"red\")\n    simple_node = node.add(\":file_folder: [bold yellow]Atomic\", guide_style=\"uu green\")\n    simple_node.add(Group(\" Syntax\", syntax))\n    simple_node.add(Group(\" Markdown\", Panel(markdown, border_style=\"green\")))\n    containers_node = node.add(\n        \":file_folder: [bold magenta]Containers\", guide_style=\"bold magenta\"\n    )\n    containers_node.expanded = True\n    panel = Panel.fit(\"Just a panel\", border_style=\"red\")\n    containers_node.add(Group(\" Panels\", panel))\n    containers_node.add(Group(\" [b magenta]Table\", table))\n    console = Console()\n    console.print(root)",
    "start_line": 238
  },
  {
    "file": "tree.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "from typing import Iterator, List, Optional, Tuple\n\nfrom ._loop import loop_first, loop_last\nfrom .console import Console, ConsoleOptions, RenderableType, RenderResult\nfrom .jupyter import JupyterMixin\nfrom .measure import Measurement\nfrom .segment import Segment\nfrom .style import Style, StyleStack, StyleType\nfrom .styled import Styled\n\nGuideType = Tuple[str, str, str, str]\n\n\nclass Tree(JupyterMixin):\n    \"\"\"A renderable for a tree structure.\n\n    Attributes:\n        ASCII_GUIDES (GuideType): Guide lines used when Console.ascii_only is True.\n        TREE_GUIDES (List[GuideType, GuideType, GuideType]): Default guide lines.\n\n    Args:\n        label (RenderableType): The renderable or str for the tree label.\n        style (StyleType, optional): Style of this tree. Defaults to \"tree\".\n        guide_style (StyleType, optional): Style of the guide lines. Defaults to \"tree.line\".\n        expanded (bool, optional): Also display children. Defaults to True.\n        highlight (bool, optional): Highlight renderable (if str). Defaults to False.\n        hide_root (bool, optional): Hide the root node. Defaults to False.\n    \"\"\"\n\n    ASCII_GUIDES = (\"    \", \"|   \", \"+-- \", \"`-- \")\n    TREE_GUIDES = [\n        (\"    \", \"   \", \" \", \" \"),\n        (\"    \", \"   \", \" \", \" \"),\n        (\"    \", \"   \", \" \", \" \"),\n    ]\n\n    def __init__(\n        self,\n        label: RenderableType,\n        *,\n        style: StyleType = \"tree\",\n        guide_style: StyleType = \"tree.line\",\n        expanded: bool = True,\n        highlight: bool = False,\n        hide_root: bool = False,\n    ) -> None:\n        self.label = label\n        self.style = style\n        self.guide_style = guide_style\n        self.children: List[Tree] = []\n        self.expanded = expanded\n        self.highlight = highlight\n        self.hide_root = hide_root\n\n    def add(\n        self,\n        label: RenderableType,\n        *,\n        style: Optional[StyleType] = None,\n        guide_style: Optional[StyleType] = None,\n        expanded: bool = True,\n        highlight: Optional[bool] = False,\n    ) -> \"Tree\":\n        \"\"\"Add a child tree.\n\n        Args:\n            label (RenderableType): The renderable or str for the tree label.\n            style (StyleType, optional): Style of this tree. Defaults to \"tree\".\n            guide_style (StyleType, optional): Style of the guide lines. Defaults to \"tree.line\".\n            expanded (bool, optional): Also display children. Defaults to True.\n            highlight (Optional[bool], optional): Highlight renderable (if str). Defaults to False.\n\n        Returns:\n            Tree: A new child Tree, which may be further modified.\n        \"\"\"\n        node = Tree(\n            label,\n            style=self.style if style is None else style,\n            guide_style=self.guide_style if guide_style is None else guide_style,\n            expanded=expanded,\n            highlight=self.highlight if highlight is None else highlight,\n        )\n        self.children.append(node)\n        return node\n\n    def __rich_console__(\n        self, console: \"Console\", options: \"ConsoleOptions\"\n    ) -> \"RenderResult\":\n        stack: List[Iterator[Tuple[bool, Tree]]] = []\n        pop = stack.pop\n        push = stack.append\n        new_line = Segment.line()\n\n        get_style = console.get_style\n        null_style = Style.null()\n        guide_style = get_style(self.guide_style, default=\"\") or null_style\n        SPACE, CONTINUE, FORK, END = range(4)\n\n        _Segment = Segment\n\n        def make_guide(index: int, style: Style) -> Segment:\n            \"\"\"Make a Segment for a level of the guide lines.\"\"\"\n            if options.ascii_only:\n                line = self.ASCII_GUIDES[index]\n            else:\n                guide = 1 if style.bold else (2 if style.underline2 else 0)\n                line = self.TREE_GUIDES[0 if options.legacy_windows else guide][index]\n            return _Segment(line, style)\n\n        levels: List[Segment] = [make_guide(CONTINUE, guide_style)]\n        push(iter(loop_last([self])))\n\n        guide_style_stack = StyleStack(get_style(self.guide_style))\n        style_stack = StyleStack(get_style(self.style))\n        remove_guide_styles = Style(bold=False, underline2=False)\n\n        depth = 0\n\n        while stack:\n            stack_node = pop()\n            try:\n                last, node = next(stack_node)\n            except StopIteration:\n                levels.pop()\n                if levels:\n                    guide_style = levels[-1].style or null_style\n                    levels[-1] = make_guide(FORK, guide_style)\n                    guide_style_stack.pop()\n                    style_stack.pop()\n                continue\n            push(stack_node)\n            if last:\n                levels[-1] = make_guide(END, levels[-1].style or null_style)\n\n            guide_style = guide_style_stack.current + get_style(node.guide_style)\n            style = style_stack.current + get_style(node.style)\n            prefix = levels[(2 if self.hide_root else 1) :]\n            renderable_lines = console.render_lines(\n                Styled(node.label, style),\n                options.update(\n                    width=options.max_width\n                    - sum(level.cell_length for level in prefix),\n                    highlight=self.highlight,\n                    height=None,\n                ),\n                pad=options.justify is not None,\n            )\n\n            if not (depth == 0 and self.hide_root):\n                for first, line in loop_first(renderable_lines):\n                    if prefix:\n                        yield from _Segment.apply_style(\n                            prefix,\n                            style.background_style,\n                            post_style=remove_guide_styles,\n                        )\n                    yield from line\n                    yield new_line\n                    if first and prefix:\n                        prefix[-1] = make_guide(\n                            SPACE if last else CONTINUE, prefix[-1].style or null_style\n                        )\n\n            if node.expanded and node.children:\n                levels[-1] = make_guide(\n                    SPACE if last else CONTINUE, levels[-1].style or null_style\n                )\n                levels.append(\n                    make_guide(END if len(node.children) == 1 else FORK, guide_style)\n                )\n                style_stack.push(get_style(node.style))\n                guide_style_stack.push(get_style(node.guide_style))\n                push(iter(loop_last(node.children)))\n                depth += 1\n\n    def __rich_measure__(\n        self, console: \"Console\", options: \"ConsoleOptions\"\n    ) -> \"Measurement\":\n        stack: List[Iterator[Tree]] = [iter([self])]\n        pop = stack.pop\n        push = stack.append\n        minimum = 0\n        maximum = 0\n        measure = Measurement.get\n        level = 0\n        while stack:\n            iter_tree = pop()\n            try:\n                tree = next(iter_tree)\n            except StopIteration:\n                level -= 1\n                continue\n            push(iter_tree)\n            min_measure, max_measure = measure(console, options, tree.label)\n            indent = level * 4\n            minimum = max(min_measure + indent, minimum)\n            maximum = max(max_measure + indent, maximum)\n            if tree.expanded and tree.children:\n                push(iter(tree.children))\n                level += 1\n        return Measurement(minimum, maximum)\n\n\nif __name__ == \"__main__\":  # pragma: no cover\n    from rich.console import Group\n    from rich.markdown import Markdown\n    from rich.panel import Panel\n    from rich.syntax import Syntax\n    from rich.table import Table\n\n    table = Table(row_styles=[\"\", \"dim\"])\n\n    table.add_column(\"Released\", style=\"cyan\", no_wrap=True)\n    table.add_column(\"Title\", style=\"magenta\")\n    table.add_column(\"Box Office\", justify=\"right\", style=\"green\")\n\n    table.add_row(\"Dec 20, 2019\", \"Star Wars: The Rise of Skywalker\", \"$952,110,690\")\n    table.add_row(\"May 25, 2018\", \"Solo: A Star Wars Story\", \"$393,151,347\")\n    table.add_row(\"Dec 15, 2017\", \"Star Wars Ep. V111: The Last Jedi\", \"$1,332,539,889\")\n    table.add_row(\"Dec 16, 2016\", \"Rogue One: A Star Wars Story\", \"$1,332,439,889\")\n\n    code = \"\"\"\\\nclass Segment(NamedTuple):\n    text: str = \"\"\n    style: Optional[Style] = None\n    is_control: bool = False\n\"\"\"\n    syntax = Syntax(code, \"python\", theme=\"monokai\", line_numbers=True)\n\n    markdown = Markdown(\n        \"\"\"\\\n### example.md\n> Hello, World!\n>\n> Markdown _all_ the things\n\"\"\"\n    )\n\n    root = Tree(\" [b green]Rich Tree\", highlight=True, hide_root=True)\n\n    node = root.add(\":file_folder: Renderables\", guide_style=\"red\")\n    simple_node = node.add(\":file_folder: [bold yellow]Atomic\", guide_style=\"uu green\")\n    simple_node.add(Group(\" Syntax\", syntax))\n    simple_node.add(Group(\" Markdown\", Panel(markdown, border_style=\"green\")))\n\n    containers_node = node.add(\n        \":file_folder: [bold magenta]Containers\", guide_style=\"bold magenta\"\n    )\n    containers_node.expanded = True\n    panel = Panel.fit(\"Just a panel\", border_style=\"red\")\n    containers_node.add(Group(\" Panels\", panel))\n\n    containers_node.add(Group(\" [b magenta]Table\", table))\n\n    console = Console()\n\n    console.print(root)\n",
    "start_line": 0
  },
  {
    "file": "console.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "import inspect\nimport os\nimport sys\nimport threading\nimport zlib\nfrom abc import ABC, abstractmethod\nfrom dataclasses import dataclass, field\nfrom datetime import datetime\nfrom functools import wraps\nfrom getpass import getpass\nfrom html import escape\nfrom inspect import isclass\nfrom itertools import islice\nfrom math import ceil\nfrom time import monotonic\nfrom types import FrameType, ModuleType, TracebackType\nfrom typing import (\n    IO,\n    TYPE_CHECKING,\n    Any,\n    Callable,\n    Dict,\n    Iterable,\n    List,\n    Mapping,\n    NamedTuple,\n    Optional,\n    TextIO,\n    Tuple,\n    Type,\n    Union,\n    cast,\n)\nfrom rich._null_file import NULL_FILE\nif sys.version_info >= (3, 8):\n    from typing import Literal, Protocol, runtime_checkable\nelse:\n    from typing_extensions import (\n        Literal,\n        Protocol,\n        runtime_checkable,\n    )  # pragma: no cover\nfrom . import errors, themes\nfrom ._emoji_replace import _emoji_replace\nfrom ._export_format import CONSOLE_HTML_FORMAT, CONSOLE_SVG_FORMAT\nfrom ._fileno import get_fileno\nfrom ._log_render import FormatTimeCallable, LogRender\nfrom .align import Align, AlignMethod\nfrom .color import ColorSystem, blend_rgb\nfrom .control import Control\nfrom .emoji import EmojiVariant\nfrom .highlighter import NullHighlighter, ReprHighlighter\nfrom .markup import render as render_markup\nfrom .measure import Measurement, measure_renderables\nfrom .pager import Pager, SystemPager\nfrom .pretty import Pretty, is_expandable\nfrom .protocol import rich_cast\nfrom .region import Region\nfrom .scope import render_scope\nfrom .screen import Screen\nfrom .segment import Segment\nfrom .style import Style, StyleType\nfrom .styled import Styled\nfrom .terminal_theme import DEFAULT_TERMINAL_THEME, SVG_EXPORT_THEME, TerminalTheme\nfrom .text import Text, TextType\nfrom .theme import Theme, ThemeStack\nif TYPE_CHECKING:\n    from ._windows import WindowsConsoleFeatures\n    from .live import Live\n    from .status import Status",
    "start_line": 0
  },
  {
    "file": "console.py",
    "type": "constants",
    "class": null,
    "method": null,
    "name": "module_constants",
    "content": "JUPYTER_DEFAULT_COLUMNS = 115\nJUPYTER_DEFAULT_LINES = 100\nWINDOWS = sys.platform == \"win32\"\nHighlighterType = Callable[[Union[str, \"Text\"]], \"Text\"]\nJustifyMethod = Literal[\"default\", \"left\", \"center\", \"right\", \"full\"]\nOverflowMethod = Literal[\"fold\", \"crop\", \"ellipsis\", \"ignore\"]",
    "start_line": 75
  },
  {
    "file": "console.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "NoChange",
    "content": "class NoChange:\n    pass",
    "start_line": 84
  },
  {
    "file": "console.py",
    "type": "constants",
    "class": null,
    "method": null,
    "name": "module_constants",
    "content": "NO_CHANGE = NoChange()\ntry:",
    "start_line": 88
  },
  {
    "file": "console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "_STDIN_FILENO = sys.__stdin__.fileno()  # type: ignore[union-attr]\nexcept Exception:\n    _STDIN_FILENO = 0\ntry:\n    _STDOUT_FILENO = sys.__stdout__.fileno()  # type: ignore[union-attr]\nexcept Exception:\n    _STDOUT_FILENO = 1\ntry:\n    _STDERR_FILENO = sys.__stderr__.fileno()  # type: ignore[union-attr]\nexcept Exception:\n    _STDERR_FILENO = 2\n_STD_STREAMS = (_STDIN_FILENO, _STDOUT_FILENO, _STDERR_FILENO)\n_STD_STREAMS_OUTPUT = (_STDOUT_FILENO, _STDERR_FILENO)\n_TERM_COLORS = {\n    \"kitty\": ColorSystem.EIGHT_BIT,\n    \"256color\": ColorSystem.EIGHT_BIT,\n    \"16color\": ColorSystem.STANDARD,\n}",
    "start_line": 91
  },
  {
    "file": "console.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "ConsoleDimensions",
    "content": "class ConsoleDimensions(NamedTuple):\n    \"\"\"Size of the terminal.\"\"\"\n\n    width: int\n    \"\"\"The width of the console in 'cells'.\"\"\"\n    height: int\n    \"\"\"The height of the console in lines.\"\"\"\n\n\n@dataclass",
    "start_line": 114
  },
  {
    "file": "console.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "ConsoleOptions",
    "content": "class ConsoleOptions:\n    \"\"\"Options for __rich_console__ method.\"\"\"\n\n    size: ConsoleDimensions\n    \"\"\"Size of console.\"\"\"\n    legacy_windows: bool\n    \"\"\"legacy_windows: flag for legacy windows.\"\"\"\n    min_width: int\n    \"\"\"Minimum width of renderable.\"\"\"\n    max_width: int\n    \"\"\"Maximum width of renderable.\"\"\"\n    is_terminal: bool\n    \"\"\"True if the target is a terminal, otherwise False.\"\"\"\n    encoding: str\n    \"\"\"Encoding of terminal.\"\"\"\n    max_height: int\n    \"\"\"Height of container (starts as terminal)\"\"\"\n    justify: Optional[JustifyMethod] = None\n    \"\"\"Justify value override for renderable.\"\"\"\n    overflow: Optional[OverflowMethod] = None\n    \"\"\"Overflow value override for renderable.\"\"\"\n    no_wrap: Optional[bool] = False\n    \"\"\"Disable wrapping for text.\"\"\"\n    highlight: Optional[bool] = None\n    \"\"\"Highlight override for render_str.\"\"\"\n    markup: Optional[bool] = None\n    \"\"\"Enable markup when rendering strings.\"\"\"\n    height: Optional[int] = None\n\n    @property",
    "start_line": 124
  },
  {
    "file": "console.py",
    "type": "method",
    "class": "ConsoleOptions",
    "method": "ascii_only",
    "name": "ascii_only",
    "content": "class ConsoleOptions:\n    def ascii_only(self) -> bool:\n        \"\"\"Check if renderables should use ascii only.\"\"\"\n        return not self.encoding.startswith(\"utf\")",
    "start_line": 154
  },
  {
    "file": "console.py",
    "type": "method",
    "class": "ConsoleOptions",
    "method": "copy",
    "name": "copy",
    "content": "class ConsoleOptions:\n    def copy(self) -> \"ConsoleOptions\":\n        \"\"\"Return a copy of the options.\n\n        Returns:\n            ConsoleOptions: a copy of self.\n        \"\"\"\n        options: ConsoleOptions = ConsoleOptions.__new__(ConsoleOptions)\n        options.__dict__ = self.__dict__.copy()\n        return options",
    "start_line": 158
  },
  {
    "file": "console.py",
    "type": "method",
    "class": "ConsoleOptions",
    "method": "update",
    "name": "update",
    "content": "class ConsoleOptions:\n    def update(\n        self,\n        *,\n        width: Union[int, NoChange] = NO_CHANGE,\n        min_width: Union[int, NoChange] = NO_CHANGE,\n        max_width: Union[int, NoChange] = NO_CHANGE,\n        justify: Union[Optional[JustifyMethod], NoChange] = NO_CHANGE,\n        overflow: Union[Optional[OverflowMethod], NoChange] = NO_CHANGE,\n        no_wrap: Union[Optional[bool], NoChange] = NO_CHANGE,\n        highlight: Union[Optional[bool], NoChange] = NO_CHANGE,\n        markup: Union[Optional[bool], NoChange] = NO_CHANGE,\n        height: Union[Optional[int], NoChange] = NO_CHANGE,\n    ) -> \"ConsoleOptions\":\n        \"\"\"Update values, return a copy.\"\"\"\n        options = self.copy()\n        if not isinstance(width, NoChange):\n            options.min_width = options.max_width = max(0, width)\n        if not isinstance(min_width, NoChange):\n            options.min_width = min_width\n        if not isinstance(max_width, NoChange):\n            options.max_width = max_width\n        if not isinstance(justify, NoChange):\n            options.justify = justify\n        if not isinstance(overflow, NoChange):\n            options.overflow = overflow\n        if not isinstance(no_wrap, NoChange):\n            options.no_wrap = no_wrap\n        if not isinstance(highlight, NoChange):\n            options.highlight = highlight\n        if not isinstance(markup, NoChange):\n            options.markup = markup\n        if not isinstance(height, NoChange):\n            if height is not None:\n                options.max_height = height\n            options.height = None if height is None else max(0, height)\n        return options",
    "start_line": 168
  },
  {
    "file": "console.py",
    "type": "method",
    "class": "ConsoleOptions",
    "method": "update_width",
    "name": "update_width",
    "content": "class ConsoleOptions:\n    def update_width(self, width: int) -> \"ConsoleOptions\":\n        \"\"\"Update just the width, return a copy.\n\n        Args:\n            width (int): New width (sets both min_width and max_width)\n\n        Returns:\n            ~ConsoleOptions: New console options instance.\n        \"\"\"\n        options = self.copy()\n        options.min_width = options.max_width = max(0, width)\n        return options",
    "start_line": 205
  },
  {
    "file": "console.py",
    "type": "method",
    "class": "ConsoleOptions",
    "method": "update_height",
    "name": "update_height",
    "content": "class ConsoleOptions:\n    def update_height(self, height: int) -> \"ConsoleOptions\":\n        \"\"\"Update the height, and return a copy.\n\n        Args:\n            height (int): New height\n\n        Returns:\n            ~ConsoleOptions: New Console options instance.\n        \"\"\"\n        options = self.copy()\n        options.max_height = options.height = height\n        return options",
    "start_line": 218
  },
  {
    "file": "console.py",
    "type": "method",
    "class": "ConsoleOptions",
    "method": "reset_height",
    "name": "reset_height",
    "content": "class ConsoleOptions:\n    def reset_height(self) -> \"ConsoleOptions\":\n        \"\"\"Return a copy of the options with height set to ``None``.\n\n        Returns:\n            ~ConsoleOptions: New console options instance.\n        \"\"\"\n        options = self.copy()\n        options.height = None\n        return options",
    "start_line": 231
  },
  {
    "file": "console.py",
    "type": "method",
    "class": "ConsoleOptions",
    "method": "update_dimensions",
    "name": "update_dimensions",
    "content": "class ConsoleOptions:\n    def update_dimensions(self, width: int, height: int) -> \"ConsoleOptions\":\n        \"\"\"Update the width and height, and return a copy.\n\n        Args:\n            width (int): New width (sets both min_width and max_width).\n            height (int): New height.\n\n        Returns:\n            ~ConsoleOptions: New console options instance.\n        \"\"\"\n        options = self.copy()\n        options.min_width = options.max_width = max(0, width)\n        options.height = options.max_height = height\n        return options\n\n\n@runtime_checkable",
    "start_line": 241
  },
  {
    "file": "console.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "RichCast",
    "content": "class RichCast(Protocol):\n    \"\"\"An object that may be 'cast' to a console renderable.\"\"\"",
    "start_line": 258
  },
  {
    "file": "console.py",
    "type": "method",
    "class": "RichCast",
    "method": "__rich__",
    "name": "__rich__",
    "content": "class RichCast:\n    def __rich__(\n        self,\n    ) -> Union[\"ConsoleRenderable\", \"RichCast\", str]:  # pragma: no cover\n        ...\n\n\n@runtime_checkable",
    "start_line": 261
  },
  {
    "file": "console.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "ConsoleRenderable",
    "content": "class ConsoleRenderable(Protocol):\n    \"\"\"An object that supports the console protocol.\"\"\"",
    "start_line": 268
  },
  {
    "file": "console.py",
    "type": "method",
    "class": "ConsoleRenderable",
    "method": "__rich_console__",
    "name": "__rich_console__",
    "content": "class ConsoleRenderable:\n    def __rich_console__(\n        self, console: \"Console\", options: \"ConsoleOptions\"\n    ) -> \"RenderResult\":  # pragma: no cover\n        ...",
    "start_line": 271
  },
  {
    "file": "console.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# A type that may be rendered by Console.\nRenderableType = Union[ConsoleRenderable, RichCast, str]\n\"\"\"A string or any object that may be rendered by Rich.\"\"\"\n# The result of calling a __rich_console__ method.\nRenderResult = Iterable[Union[RenderableType, Segment]]",
    "start_line": 277
  },
  {
    "file": "console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "_null_highlighter = NullHighlighter()",
    "start_line": 284
  },
  {
    "file": "console.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "CaptureError",
    "content": "class CaptureError(Exception):\n    \"\"\"An error in the Capture context manager.\"\"\"",
    "start_line": 287
  },
  {
    "file": "console.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "NewLine",
    "content": "class NewLine:\n    \"\"\"A renderable to generate new line(s)\"\"\"",
    "start_line": 291
  },
  {
    "file": "console.py",
    "type": "method",
    "class": "NewLine",
    "method": "__init__",
    "name": "__init__",
    "content": "class NewLine:\n    def __init__(self, count: int = 1) -> None:\n        self.count = count",
    "start_line": 294
  },
  {
    "file": "console.py",
    "type": "method",
    "class": "NewLine",
    "method": "__rich_console__",
    "name": "__rich_console__",
    "content": "class NewLine:\n    def __rich_console__(\n        self, console: \"Console\", options: \"ConsoleOptions\"\n    ) -> Iterable[Segment]:\n        yield Segment(\"\\n\" * self.count)",
    "start_line": 297
  },
  {
    "file": "console.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "ScreenUpdate",
    "content": "class ScreenUpdate:\n    \"\"\"Render a list of lines at a given offset.\"\"\"",
    "start_line": 303
  },
  {
    "file": "console.py",
    "type": "method",
    "class": "ScreenUpdate",
    "method": "__init__",
    "name": "__init__",
    "content": "class ScreenUpdate:\n    def __init__(self, lines: List[List[Segment]], x: int, y: int) -> None:\n        self._lines = lines\n        self.x = x\n        self.y = y",
    "start_line": 306
  },
  {
    "file": "console.py",
    "type": "method",
    "class": "ScreenUpdate",
    "method": "__rich_console__",
    "name": "__rich_console__",
    "content": "class ScreenUpdate:\n    def __rich_console__(\n        self, console: \"Console\", options: ConsoleOptions\n    ) -> RenderResult:\n        x = self.x\n        move_to = Control.move_to\n        for offset, line in enumerate(self._lines, self.y):\n            yield move_to(x, offset)\n            yield from line",
    "start_line": 311
  },
  {
    "file": "console.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "Capture",
    "content": "class Capture:\n    \"\"\"Context manager to capture the result of printing to the console.\n    See :meth:`~rich.console.Console.capture` for how to use.\n\n    Args:\n        console (Console): A console instance to capture output.\n    \"\"\"",
    "start_line": 321
  },
  {
    "file": "console.py",
    "type": "method",
    "class": "Capture",
    "method": "__init__",
    "name": "__init__",
    "content": "class Capture:\n    def __init__(self, console: \"Console\") -> None:\n        self._console = console\n        self._result: Optional[str] = None",
    "start_line": 329
  },
  {
    "file": "console.py",
    "type": "method",
    "class": "Capture",
    "method": "__enter__",
    "name": "__enter__",
    "content": "class Capture:\n    def __enter__(self) -> \"Capture\":\n        self._console.begin_capture()\n        return self",
    "start_line": 333
  },
  {
    "file": "console.py",
    "type": "method",
    "class": "Capture",
    "method": "__exit__",
    "name": "__exit__",
    "content": "class Capture:\n    def __exit__(\n        self,\n        exc_type: Optional[Type[BaseException]],\n        exc_val: Optional[BaseException],\n        exc_tb: Optional[TracebackType],\n    ) -> None:\n        self._result = self._console.end_capture()",
    "start_line": 337
  },
  {
    "file": "console.py",
    "type": "method",
    "class": "Capture",
    "method": "get",
    "name": "get",
    "content": "class Capture:\n    def get(self) -> str:\n        \"\"\"Get the result of the capture.\"\"\"\n        if self._result is None:\n            raise CaptureError(\n                \"Capture result is not available until context manager exits.\"\n            )\n        return self._result",
    "start_line": 345
  },
  {
    "file": "console.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "ThemeContext",
    "content": "class ThemeContext:\n    \"\"\"A context manager to use a temporary theme. See :meth:`~rich.console.Console.use_theme` for usage.\"\"\"",
    "start_line": 354
  },
  {
    "file": "console.py",
    "type": "method",
    "class": "ThemeContext",
    "method": "__init__",
    "name": "__init__",
    "content": "class ThemeContext:\n    def __init__(self, console: \"Console\", theme: Theme, inherit: bool = True) -> None:\n        self.console = console\n        self.theme = theme\n        self.inherit = inherit",
    "start_line": 357
  },
  {
    "file": "console.py",
    "type": "method",
    "class": "ThemeContext",
    "method": "__enter__",
    "name": "__enter__",
    "content": "class ThemeContext:\n    def __enter__(self) -> \"ThemeContext\":\n        self.console.push_theme(self.theme)\n        return self",
    "start_line": 362
  },
  {
    "file": "console.py",
    "type": "method",
    "class": "ThemeContext",
    "method": "__exit__",
    "name": "__exit__",
    "content": "class ThemeContext:\n    def __exit__(\n        self,\n        exc_type: Optional[Type[BaseException]],\n        exc_val: Optional[BaseException],\n        exc_tb: Optional[TracebackType],\n    ) -> None:\n        self.console.pop_theme()",
    "start_line": 366
  },
  {
    "file": "console.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "PagerContext",
    "content": "class PagerContext:\n    \"\"\"A context manager that 'pages' content. See :meth:`~rich.console.Console.pager` for usage.\"\"\"",
    "start_line": 375
  },
  {
    "file": "console.py",
    "type": "method",
    "class": "PagerContext",
    "method": "__init__",
    "name": "__init__",
    "content": "class PagerContext:\n    def __init__(\n        self,\n        console: \"Console\",\n        pager: Optional[Pager] = None,\n        styles: bool = False,\n        links: bool = False,\n    ) -> None:\n        self._console = console\n        self.pager = SystemPager() if pager is None else pager\n        self.styles = styles\n        self.links = links",
    "start_line": 378
  },
  {
    "file": "console.py",
    "type": "method",
    "class": "PagerContext",
    "method": "__enter__",
    "name": "__enter__",
    "content": "class PagerContext:\n    def __enter__(self) -> \"PagerContext\":\n        self._console._enter_buffer()\n        return self",
    "start_line": 390
  },
  {
    "file": "console.py",
    "type": "method",
    "class": "PagerContext",
    "method": "__exit__",
    "name": "__exit__",
    "content": "class PagerContext:\n    def __exit__(\n        self,\n        exc_type: Optional[Type[BaseException]],\n        exc_val: Optional[BaseException],\n        exc_tb: Optional[TracebackType],\n    ) -> None:\n        if exc_type is None:\n            with self._console._lock:\n                buffer: List[Segment] = self._console._buffer[:]\n                del self._console._buffer[:]\n                segments: Iterable[Segment] = buffer\n                if not self.styles:\n                    segments = Segment.strip_styles(segments)\n                elif not self.links:\n                    segments = Segment.strip_links(segments)\n                content = self._console._render_buffer(segments)\n            self.pager.show(content)\n        self._console._exit_buffer()",
    "start_line": 394
  },
  {
    "file": "console.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "ScreenContext",
    "content": "class ScreenContext:\n    \"\"\"A context manager that enables an alternative screen. See :meth:`~rich.console.Console.screen` for usage.\"\"\"",
    "start_line": 414
  },
  {
    "file": "console.py",
    "type": "method",
    "class": "ScreenContext",
    "method": "__init__",
    "name": "__init__",
    "content": "class ScreenContext:\n    def __init__(\n        self, console: \"Console\", hide_cursor: bool, style: StyleType = \"\"\n    ) -> None:\n        self.console = console\n        self.hide_cursor = hide_cursor\n        self.screen = Screen(style=style)\n        self._changed = False",
    "start_line": 417
  },
  {
    "file": "console.py",
    "type": "method",
    "class": "ScreenContext",
    "method": "update",
    "name": "update",
    "content": "class ScreenContext:\n    def update(\n        self, *renderables: RenderableType, style: Optional[StyleType] = None\n    ) -> None:\n        \"\"\"Update the screen.\n\n        Args:\n            renderable (RenderableType, optional): Optional renderable to replace current renderable,\n                or None for no change. Defaults to None.\n            style: (Style, optional): Replacement style, or None for no change. Defaults to None.\n        \"\"\"\n        if renderables:\n            self.screen.renderable = (\n                Group(*renderables) if len(renderables) > 1 else renderables[0]\n            )\n        if style is not None:\n            self.screen.style = style\n        self.console.print(self.screen, end=\"\")",
    "start_line": 425
  },
  {
    "file": "console.py",
    "type": "method",
    "class": "ScreenContext",
    "method": "__enter__",
    "name": "__enter__",
    "content": "class ScreenContext:\n    def __enter__(self) -> \"ScreenContext\":\n        self._changed = self.console.set_alt_screen(True)\n        if self._changed and self.hide_cursor:\n            self.console.show_cursor(False)\n        return self",
    "start_line": 443
  },
  {
    "file": "console.py",
    "type": "method",
    "class": "ScreenContext",
    "method": "__exit__",
    "name": "__exit__",
    "content": "class ScreenContext:\n    def __exit__(\n        self,\n        exc_type: Optional[Type[BaseException]],\n        exc_val: Optional[BaseException],\n        exc_tb: Optional[TracebackType],\n    ) -> None:\n        if self._changed:\n            self.console.set_alt_screen(False)\n            if self.hide_cursor:\n                self.console.show_cursor(True)",
    "start_line": 449
  },
  {
    "file": "console.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "Group",
    "content": "class Group:\n    \"\"\"Takes a group of renderables and returns a renderable object that renders the group.\n\n    Args:\n        renderables (Iterable[RenderableType]): An iterable of renderable objects.\n        fit (bool, optional): Fit dimension of group to contents, or fill available space. Defaults to True.\n    \"\"\"",
    "start_line": 461
  },
  {
    "file": "console.py",
    "type": "method",
    "class": "Group",
    "method": "__init__",
    "name": "__init__",
    "content": "class Group:\n    def __init__(self, *renderables: \"RenderableType\", fit: bool = True) -> None:\n        self._renderables = renderables\n        self.fit = fit\n        self._render: Optional[List[RenderableType]] = None\n\n    @property",
    "start_line": 469
  },
  {
    "file": "console.py",
    "type": "method",
    "class": "Group",
    "method": "renderables",
    "name": "renderables",
    "content": "class Group:\n    def renderables(self) -> List[\"RenderableType\"]:\n        if self._render is None:\n            self._render = list(self._renderables)\n        return self._render",
    "start_line": 475
  },
  {
    "file": "console.py",
    "type": "method",
    "class": "Group",
    "method": "__rich_measure__",
    "name": "__rich_measure__",
    "content": "class Group:\n    def __rich_measure__(\n        self, console: \"Console\", options: \"ConsoleOptions\"\n    ) -> \"Measurement\":\n        if self.fit:\n            return measure_renderables(console, options, self.renderables)\n        else:\n            return Measurement(options.max_width, options.max_width)",
    "start_line": 480
  },
  {
    "file": "console.py",
    "type": "method",
    "class": "Group",
    "method": "__rich_console__",
    "name": "__rich_console__",
    "content": "class Group:\n    def __rich_console__(\n        self, console: \"Console\", options: \"ConsoleOptions\"\n    ) -> RenderResult:\n        yield from self.renderables",
    "start_line": 488
  },
  {
    "file": "console.py",
    "type": "function",
    "class": null,
    "method": "group",
    "name": "group",
    "content": "def group(fit: bool = True) -> Callable[..., Callable[..., Group]]:\n    \"\"\"A decorator that turns an iterable of renderables in to a group.\n\n    Args:\n        fit (bool, optional): Fit dimension of group to contents, or fill available space. Defaults to True.\n    \"\"\"",
    "start_line": 494
  },
  {
    "file": "console.py",
    "type": "function",
    "class": null,
    "method": "decorator",
    "name": "decorator",
    "content": "def decorator(\n        method: Callable[..., Iterable[RenderableType]],\n    ) -> Callable[..., Group]:\n        \"\"\"Convert a method that returns an iterable of renderables in to a Group.\"\"\"\n\n        @wraps(method)",
    "start_line": 501
  },
  {
    "file": "console.py",
    "type": "function",
    "class": null,
    "method": "_replace",
    "name": "_replace",
    "content": "def _replace(*args: Any, **kwargs: Any) -> Group:",
    "start_line": 507
  },
  {
    "file": "console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "renderables = method(*args, **kwargs)\n            return Group(*renderables, fit=fit)\n        return _replace\n    return decorator",
    "start_line": 508
  },
  {
    "file": "console.py",
    "type": "function",
    "class": null,
    "method": "_is_jupyter",
    "name": "_is_jupyter",
    "content": "def _is_jupyter() -> bool:  # pragma: no cover\n    \"\"\"Check if we're running in a Jupyter notebook.\"\"\"\n    try:\n        get_ipython  # type: ignore[name-defined]\n    except NameError:\n        return False",
    "start_line": 516
  },
  {
    "file": "console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "ipython = get_ipython()  # type: ignore[name-defined]\n    shell = ipython.__class__.__name__\n    if (\n        \"google.colab\" in str(ipython.__class__)\n        or os.getenv(\"DATABRICKS_RUNTIME_VERSION\")\n        or shell == \"ZMQInteractiveShell\"\n    ):\n        return True  # Jupyter notebook or qtconsole\n    elif shell == \"TerminalInteractiveShell\":\n        return False  # Terminal running IPython\n    else:\n        return False  # Other type (?)",
    "start_line": 522
  },
  {
    "file": "console.py",
    "type": "constants",
    "class": null,
    "method": null,
    "name": "module_constants",
    "content": "COLOR_SYSTEMS = {\n    \"standard\": ColorSystem.STANDARD,\n    \"256\": ColorSystem.EIGHT_BIT,\n    \"truecolor\": ColorSystem.TRUECOLOR,\n    \"windows\": ColorSystem.WINDOWS,\n}",
    "start_line": 536
  },
  {
    "file": "console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "_COLOR_SYSTEMS_NAMES = {system: name for name, system in COLOR_SYSTEMS.items()}\n@dataclass",
    "start_line": 543
  },
  {
    "file": "console.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "ConsoleThreadLocals",
    "content": "class ConsoleThreadLocals(threading.local):\n    \"\"\"Thread local values for Console context.\"\"\"\n\n    theme_stack: ThemeStack\n    buffer: List[Segment] = field(default_factory=list)\n    buffer_index: int = 0",
    "start_line": 547
  },
  {
    "file": "console.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "RenderHook",
    "content": "class RenderHook(ABC):\n    \"\"\"Provides hooks in to the render process.\"\"\"\n\n    @abstractmethod",
    "start_line": 555
  },
  {
    "file": "console.py",
    "type": "method",
    "class": "RenderHook",
    "method": "process_renderables",
    "name": "process_renderables",
    "content": "class RenderHook:\n    def process_renderables(\n        self, renderables: List[ConsoleRenderable]\n    ) -> List[ConsoleRenderable]:\n        \"\"\"Called with a list of objects to render.\n\n        This method can return a new list of renderables, or modify and return the same list.\n\n        Args:\n            renderables (List[ConsoleRenderable]): A number of renderable objects.\n\n        Returns:\n            List[ConsoleRenderable]: A replacement list of renderables.\n        \"\"\"\n\n\n_windows_console_features: Optional[\"WindowsConsoleFeatures\"] = None",
    "start_line": 559
  },
  {
    "file": "console.py",
    "type": "function",
    "class": null,
    "method": "get_windows_console_features",
    "name": "get_windows_console_features",
    "content": "def get_windows_console_features() -> \"WindowsConsoleFeatures\":  # pragma: no cover\n    global _windows_console_features\n    if _windows_console_features is not None:\n        return _windows_console_features",
    "start_line": 577
  },
  {
    "file": "console.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from ._windows import get_windows_console_features",
    "start_line": 581
  },
  {
    "file": "console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "_windows_console_features = get_windows_console_features()\n    return _windows_console_features",
    "start_line": 583
  },
  {
    "file": "console.py",
    "type": "function",
    "class": null,
    "method": "detect_legacy_windows",
    "name": "detect_legacy_windows",
    "content": "def detect_legacy_windows() -> bool:\n    \"\"\"Detect legacy Windows.\"\"\"\n    return WINDOWS and not get_windows_console_features().vt",
    "start_line": 587
  },
  {
    "file": "console.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "Console",
    "content": "class Console:\n    \"\"\"A high level console interface.\n\n    Args:\n        color_system (str, optional): The color system supported by your terminal,\n            either ``\"standard\"``, ``\"256\"`` or ``\"truecolor\"``. Leave as ``\"auto\"`` to autodetect.\n        force_terminal (Optional[bool], optional): Enable/disable terminal control codes, or None to auto-detect terminal. Defaults to None.\n        force_jupyter (Optional[bool], optional): Enable/disable Jupyter rendering, or None to auto-detect Jupyter. Defaults to None.\n        force_interactive (Optional[bool], optional): Enable/disable interactive mode, or None to auto detect. Defaults to None.\n        soft_wrap (Optional[bool], optional): Set soft wrap default on print method. Defaults to False.\n        theme (Theme, optional): An optional style theme object, or ``None`` for default theme.\n        stderr (bool, optional): Use stderr rather than stdout if ``file`` is not specified. Defaults to False.\n        file (IO, optional): A file object where the console should write to. Defaults to stdout.\n        quiet (bool, Optional): Boolean to suppress all output. Defaults to False.\n        width (int, optional): The width of the terminal. Leave as default to auto-detect width.\n        height (int, optional): The height of the terminal. Leave as default to auto-detect height.\n        style (StyleType, optional): Style to apply to all output, or None for no style. Defaults to None.\n        no_color (Optional[bool], optional): Enabled no color mode, or None to auto detect. Defaults to None.\n        tab_size (int, optional): Number of spaces used to replace a tab character. Defaults to 8.\n        record (bool, optional): Boolean to enable recording of terminal output,\n            required to call :meth:`export_html`, :meth:`export_svg`, and :meth:`export_text`. Defaults to False.\n        markup (bool, optional): Boolean to enable :ref:`console_markup`. Defaults to True.\n        emoji (bool, optional): Enable emoji code. Defaults to True.\n        emoji_variant (str, optional): Optional emoji variant, either \"text\" or \"emoji\". Defaults to None.\n        highlight (bool, optional): Enable automatic highlighting. Defaults to True.\n        log_time (bool, optional): Boolean to enable logging of time by :meth:`log` methods. Defaults to True.\n        log_path (bool, optional): Boolean to enable the logging of the caller by :meth:`log`. Defaults to True.\n        log_time_format (Union[str, TimeFormatterCallable], optional): If ``log_time`` is enabled, either string for strftime or callable that formats the time. Defaults to \"[%X] \".\n        highlighter (HighlighterType, optional): Default highlighter.\n        legacy_windows (bool, optional): Enable legacy Windows mode, or ``None`` to auto detect. Defaults to ``None``.\n        safe_box (bool, optional): Restrict box options that don't render on legacy Windows.\n        get_datetime (Callable[[], datetime], optional): Callable that gets the current time as a datetime.datetime object (used by Console.log),\n            or None for datetime.now.\n        get_time (Callable[[], time], optional): Callable that gets the current time in seconds, default uses time.monotonic.\n    \"\"\"\n\n    _environ: Mapping[str, str] = os.environ",
    "start_line": 592
  },
  {
    "file": "console.py",
    "type": "method",
    "class": "Console",
    "method": "__init__",
    "name": "__init__",
    "content": "class Console:\n    def __init__(\n        self,\n        *,\n        color_system: Optional[\n            Literal[\"auto\", \"standard\", \"256\", \"truecolor\", \"windows\"]\n        ] = \"auto\",\n        force_terminal: Optional[bool] = None,\n        force_jupyter: Optional[bool] = None,\n        force_interactive: Optional[bool] = None,\n        soft_wrap: bool = False,\n        theme: Optional[Theme] = None,\n        stderr: bool = False,\n        file: Optional[IO[str]] = None,\n        quiet: bool = False,\n        width: Optional[int] = None,\n        height: Optional[int] = None,\n        style: Optional[StyleType] = None,\n        no_color: Optional[bool] = None,\n        tab_size: int = 8,\n        record: bool = False,\n        markup: bool = True,\n        emoji: bool = True,\n        emoji_variant: Optional[EmojiVariant] = None,\n        highlight: bool = True,\n        log_time: bool = True,\n        log_path: bool = True,\n        log_time_format: Union[str, FormatTimeCallable] = \"[%X]\",\n        highlighter: Optional[\"HighlighterType\"] = ReprHighlighter(),\n        legacy_windows: Optional[bool] = None,\n        safe_box: bool = True,\n        get_datetime: Optional[Callable[[], datetime]] = None,\n        get_time: Optional[Callable[[], float]] = None,\n        _environ: Optional[Mapping[str, str]] = None,\n    ):",
    "start_line": 630
  },
  {
    "file": "console.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# Copy of os.environ allows us to replace it for testing\n        if _environ is not None:\n            self._environ = _environ\n        self.is_jupyter = _is_jupyter() if force_jupyter is None else force_jupyter\n        if self.is_jupyter:\n            if width is None:\n                jupyter_columns = self._environ.get(\"JUPYTER_COLUMNS\")\n                if jupyter_columns is not None and jupyter_columns.isdigit():\n                    width = int(jupyter_columns)\n                else:\n                    width = JUPYTER_DEFAULT_COLUMNS\n            if height is None:\n                jupyter_lines = self._environ.get(\"JUPYTER_LINES\")\n                if jupyter_lines is not None and jupyter_lines.isdigit():\n                    height = int(jupyter_lines)\n                else:\n                    height = JUPYTER_DEFAULT_LINES\n        self.tab_size = tab_size\n        self.record = record\n        self._markup = markup\n        self._emoji = emoji\n        self._emoji_variant: Optional[EmojiVariant] = emoji_variant\n        self._highlight = highlight\n        self.legacy_windows: bool = (\n            (detect_legacy_windows() and not self.is_jupyter)\n            if legacy_windows is None\n            else legacy_windows\n        )\n        if width is None:\n            columns = self._environ.get(\"COLUMNS\")\n            if columns is not None and columns.isdigit():\n                width = int(columns) - self.legacy_windows\n        if height is None:\n            lines = self._environ.get(\"LINES\")\n            if lines is not None and lines.isdigit():\n                height = int(lines)\n        self.soft_wrap = soft_wrap\n        self._width = width\n        self._height = height\n        self._color_system: Optional[ColorSystem]\n        self._force_terminal = None\n        if force_terminal is not None:\n            self._force_terminal = force_terminal\n        self._file = file\n        self.quiet = quiet\n        self.stderr = stderr\n        if color_system is None:\n            self._color_system = None\n        elif color_system == \"auto\":\n            self._color_system = self._detect_color_system()\n        else:\n            self._color_system = COLOR_SYSTEMS[color_system]\n        self._lock = threading.RLock()\n        self._log_render = LogRender(\n            show_time=log_time,\n            show_path=log_path,\n            time_format=log_time_format,\n        )\n        self.highlighter: HighlighterType = highlighter or _null_highlighter\n        self.safe_box = safe_box\n        self.get_datetime = get_datetime or datetime.now\n        self.get_time = get_time or monotonic\n        self.style = style\n        self.no_color = (\n            no_color\n            if no_color is not None\n            else self._environ.get(\"NO_COLOR\", \"\") != \"\"\n        )\n        self.is_interactive = (\n            (self.is_terminal and not self.is_dumb_terminal)\n            if force_interactive is None\n            else force_interactive\n        )\n        self._record_buffer_lock = threading.RLock()\n        self._thread_locals = ConsoleThreadLocals(\n            theme_stack=ThemeStack(themes.DEFAULT if theme is None else theme)\n        )\n        self._record_buffer: List[Segment] = []\n        self._render_hooks: List[RenderHook] = []\n        self._live: Optional[\"Live\"] = None\n        self._is_alt_screen = False",
    "start_line": 664
  },
  {
    "file": "console.py",
    "type": "method",
    "class": "Console",
    "method": "__repr__",
    "name": "__repr__",
    "content": "class Console:\n    def __repr__(self) -> str:\n        return f\"<console width={self.width} {self._color_system!s}>\"\n\n    @property",
    "start_line": 756
  },
  {
    "file": "console.py",
    "type": "method",
    "class": "Console",
    "method": "file",
    "name": "file",
    "content": "class Console:\n    def file(self) -> IO[str]:\n        \"\"\"Get the file object to write to.\"\"\"\n        file = self._file or (sys.stderr if self.stderr else sys.stdout)\n        file = getattr(file, \"rich_proxied_file\", file)\n        if file is None:\n            file = NULL_FILE\n        return file\n\n    @file.setter",
    "start_line": 760
  },
  {
    "file": "console.py",
    "type": "method",
    "class": "Console",
    "method": "file",
    "name": "file",
    "content": "class Console:\n    def file(self, new_file: IO[str]) -> None:\n        \"\"\"Set a new file object.\"\"\"\n        self._file = new_file\n\n    @property",
    "start_line": 769
  },
  {
    "file": "console.py",
    "type": "method",
    "class": "Console",
    "method": "_buffer",
    "name": "_buffer",
    "content": "class Console:\n    def _buffer(self) -> List[Segment]:\n        \"\"\"Get a thread local buffer.\"\"\"\n        return self._thread_locals.buffer\n\n    @property",
    "start_line": 774
  },
  {
    "file": "console.py",
    "type": "method",
    "class": "Console",
    "method": "_buffer_index",
    "name": "_buffer_index",
    "content": "class Console:\n    def _buffer_index(self) -> int:\n        \"\"\"Get a thread local buffer.\"\"\"\n        return self._thread_locals.buffer_index\n\n    @_buffer_index.setter",
    "start_line": 779
  },
  {
    "file": "console.py",
    "type": "method",
    "class": "Console",
    "method": "_buffer_index",
    "name": "_buffer_index",
    "content": "class Console:\n    def _buffer_index(self, value: int) -> None:\n        self._thread_locals.buffer_index = value\n\n    @property",
    "start_line": 784
  },
  {
    "file": "console.py",
    "type": "method",
    "class": "Console",
    "method": "_theme_stack",
    "name": "_theme_stack",
    "content": "class Console:\n    def _theme_stack(self) -> ThemeStack:\n        \"\"\"Get the thread local theme stack.\"\"\"\n        return self._thread_locals.theme_stack",
    "start_line": 788
  },
  {
    "file": "console.py",
    "type": "method",
    "class": "Console",
    "method": "_detect_color_system",
    "name": "_detect_color_system",
    "content": "class Console:\n    def _detect_color_system(self) -> Optional[ColorSystem]:\n        \"\"\"Detect color system from env vars.\"\"\"\n        if self.is_jupyter:\n            return ColorSystem.TRUECOLOR\n        if not self.is_terminal or self.is_dumb_terminal:\n            return None\n        if WINDOWS:  # pragma: no cover\n            if self.legacy_windows:  # pragma: no cover\n                return ColorSystem.WINDOWS\n            windows_console_features = get_windows_console_features()\n            return (\n                ColorSystem.TRUECOLOR\n                if windows_console_features.truecolor\n                else ColorSystem.EIGHT_BIT\n            )\n        else:\n            color_term = self._environ.get(\"COLORTERM\", \"\").strip().lower()\n            if color_term in (\"truecolor\", \"24bit\"):\n                return ColorSystem.TRUECOLOR\n            term = self._environ.get(\"TERM\", \"\").strip().lower()\n            _term_name, _hyphen, colors = term.rpartition(\"-\")\n            color_system = _TERM_COLORS.get(colors, ColorSystem.STANDARD)\n            return color_system",
    "start_line": 792
  },
  {
    "file": "console.py",
    "type": "method",
    "class": "Console",
    "method": "_enter_buffer",
    "name": "_enter_buffer",
    "content": "class Console:\n    def _enter_buffer(self) -> None:\n        \"\"\"Enter in to a buffer context, and buffer all output.\"\"\"\n        self._buffer_index += 1",
    "start_line": 816
  },
  {
    "file": "console.py",
    "type": "method",
    "class": "Console",
    "method": "_exit_buffer",
    "name": "_exit_buffer",
    "content": "class Console:\n    def _exit_buffer(self) -> None:\n        \"\"\"Leave buffer context, and render content if required.\"\"\"\n        self._buffer_index -= 1\n        self._check_buffer()",
    "start_line": 820
  },
  {
    "file": "console.py",
    "type": "method",
    "class": "Console",
    "method": "set_live",
    "name": "set_live",
    "content": "class Console:\n    def set_live(self, live: \"Live\") -> None:\n        \"\"\"Set Live instance. Used by Live context manager.\n\n        Args:\n            live (Live): Live instance using this Console.\n\n        Raises:\n            errors.LiveError: If this Console has a Live context currently active.\n        \"\"\"\n        with self._lock:\n            if self._live is not None:\n                raise errors.LiveError(\"Only one live display may be active at once\")\n            self._live = live",
    "start_line": 825
  },
  {
    "file": "console.py",
    "type": "method",
    "class": "Console",
    "method": "clear_live",
    "name": "clear_live",
    "content": "class Console:\n    def clear_live(self) -> None:\n        \"\"\"Clear the Live instance.\"\"\"\n        with self._lock:\n            self._live = None",
    "start_line": 839
  },
  {
    "file": "console.py",
    "type": "method",
    "class": "Console",
    "method": "push_render_hook",
    "name": "push_render_hook",
    "content": "class Console:\n    def push_render_hook(self, hook: RenderHook) -> None:\n        \"\"\"Add a new render hook to the stack.\n\n        Args:\n            hook (RenderHook): Render hook instance.\n        \"\"\"\n        with self._lock:\n            self._render_hooks.append(hook)",
    "start_line": 844
  },
  {
    "file": "console.py",
    "type": "method",
    "class": "Console",
    "method": "pop_render_hook",
    "name": "pop_render_hook",
    "content": "class Console:\n    def pop_render_hook(self) -> None:\n        \"\"\"Pop the last renderhook from the stack.\"\"\"\n        with self._lock:\n            self._render_hooks.pop()",
    "start_line": 853
  },
  {
    "file": "console.py",
    "type": "method",
    "class": "Console",
    "method": "__enter__",
    "name": "__enter__",
    "content": "class Console:\n    def __enter__(self) -> \"Console\":\n        \"\"\"Own context manager to enter buffer context.\"\"\"\n        self._enter_buffer()\n        return self",
    "start_line": 858
  },
  {
    "file": "console.py",
    "type": "method",
    "class": "Console",
    "method": "__exit__",
    "name": "__exit__",
    "content": "class Console:\n    def __exit__(self, exc_type: Any, exc_value: Any, traceback: Any) -> None:\n        \"\"\"Exit buffer context.\"\"\"\n        self._exit_buffer()",
    "start_line": 863
  },
  {
    "file": "console.py",
    "type": "method",
    "class": "Console",
    "method": "begin_capture",
    "name": "begin_capture",
    "content": "class Console:\n    def begin_capture(self) -> None:\n        \"\"\"Begin capturing console output. Call :meth:`end_capture` to exit capture mode and return output.\"\"\"\n        self._enter_buffer()",
    "start_line": 867
  },
  {
    "file": "console.py",
    "type": "method",
    "class": "Console",
    "method": "end_capture",
    "name": "end_capture",
    "content": "class Console:\n    def end_capture(self) -> str:\n        \"\"\"End capture mode and return captured string.\n\n        Returns:\n            str: Console output.\n        \"\"\"\n        render_result = self._render_buffer(self._buffer)\n        del self._buffer[:]\n        self._exit_buffer()\n        return render_result",
    "start_line": 871
  },
  {
    "file": "console.py",
    "type": "method",
    "class": "Console",
    "method": "push_theme",
    "name": "push_theme",
    "content": "class Console:\n    def push_theme(self, theme: Theme, *, inherit: bool = True) -> None:\n        \"\"\"Push a new theme on to the top of the stack, replacing the styles from the previous theme.\n        Generally speaking, you should call :meth:`~rich.console.Console.use_theme` to get a context manager, rather\n        than calling this method directly.\n\n        Args:\n            theme (Theme): A theme instance.\n            inherit (bool, optional): Inherit existing styles. Defaults to True.\n        \"\"\"\n        self._theme_stack.push_theme(theme, inherit=inherit)",
    "start_line": 882
  },
  {
    "file": "console.py",
    "type": "method",
    "class": "Console",
    "method": "pop_theme",
    "name": "pop_theme",
    "content": "class Console:\n    def pop_theme(self) -> None:\n        \"\"\"Remove theme from top of stack, restoring previous theme.\"\"\"\n        self._theme_stack.pop_theme()",
    "start_line": 893
  },
  {
    "file": "console.py",
    "type": "method",
    "class": "Console",
    "method": "use_theme",
    "name": "use_theme",
    "content": "class Console:\n    def use_theme(self, theme: Theme, *, inherit: bool = True) -> ThemeContext:\n        \"\"\"Use a different theme for the duration of the context manager.\n\n        Args:\n            theme (Theme): Theme instance to user.\n            inherit (bool, optional): Inherit existing console styles. Defaults to True.\n\n        Returns:\n            ThemeContext: [description]\n        \"\"\"\n        return ThemeContext(self, theme, inherit)\n\n    @property",
    "start_line": 897
  },
  {
    "file": "console.py",
    "type": "method",
    "class": "Console",
    "method": "color_system",
    "name": "color_system",
    "content": "class Console:\n    def color_system(self) -> Optional[str]:\n        \"\"\"Get color system string.\n\n        Returns:\n            Optional[str]: \"standard\", \"256\" or \"truecolor\".\n        \"\"\"\n\n        if self._color_system is not None:\n            return _COLOR_SYSTEMS_NAMES[self._color_system]\n        else:\n            return None\n\n    @property",
    "start_line": 910
  },
  {
    "file": "console.py",
    "type": "method",
    "class": "Console",
    "method": "encoding",
    "name": "encoding",
    "content": "class Console:\n    def encoding(self) -> str:\n        \"\"\"Get the encoding of the console file, e.g. ``\"utf-8\"``.\n\n        Returns:\n            str: A standard encoding string.\n        \"\"\"\n        return (getattr(self.file, \"encoding\", \"utf-8\") or \"utf-8\").lower()\n\n    @property",
    "start_line": 923
  },
  {
    "file": "console.py",
    "type": "method",
    "class": "Console",
    "method": "is_terminal",
    "name": "is_terminal",
    "content": "class Console:\n    def is_terminal(self) -> bool:\n        \"\"\"Check if the console is writing to a terminal.\n\n        Returns:\n            bool: True if the console writing to a device capable of\n                understanding escape sequences, otherwise False.\n        \"\"\"",
    "start_line": 932
  },
  {
    "file": "console.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# If dev has explicitly set this value, return it\n        if self._force_terminal is not None:\n            return self._force_terminal\n        # Fudge for Idle\n        if hasattr(sys.stdin, \"__module__\") and sys.stdin.__module__.startswith(\n            \"idlelib\"\n        ):\n            # Return False for Idle which claims to be a tty but can't handle ansi codes\n            return False\n        if self.is_jupyter:\n            # return False for Jupyter, which may have FORCE_COLOR set\n            return False\n        environ = self._environ\n        tty_compatible = environ.get(\"TTY_COMPATIBLE\", \"\")\n        # 0 indicates device is not tty compatible\n        if tty_compatible == \"0\":\n            return False\n        # 1 indicates device is tty compatible\n        if tty_compatible == \"1\":\n            return True\n        # https://force-color.org/\n        force_color = environ.get(\"FORCE_COLOR\")\n        if force_color is not None:\n            return force_color != \"\"\n        # Any other value defaults to auto detect\n        isatty: Optional[Callable[[], bool]] = getattr(self.file, \"isatty\", None)\n        try:\n            return False if isatty is None else isatty()\n        except ValueError:\n            # in some situation (at the end of a pytest run for example) isatty() can raise\n            # ValueError: I/O operation on closed file\n            # return False because we aren't in a terminal anymore\n            return False\n    @property",
    "start_line": 939
  },
  {
    "file": "console.py",
    "type": "method",
    "class": "Console",
    "method": "is_dumb_terminal",
    "name": "is_dumb_terminal",
    "content": "class Console:\n    def is_dumb_terminal(self) -> bool:\n        \"\"\"Detect dumb terminal.\n\n        Returns:\n            bool: True if writing to a dumb terminal, otherwise False.\n\n        \"\"\"\n        _term = self._environ.get(\"TERM\", \"\")\n        is_dumb = _term.lower() in (\"dumb\", \"unknown\")\n        return self.is_terminal and is_dumb\n\n    @property",
    "start_line": 980
  },
  {
    "file": "console.py",
    "type": "method",
    "class": "Console",
    "method": "options",
    "name": "options",
    "content": "class Console:\n    def options(self) -> ConsoleOptions:\n        \"\"\"Get default console options.\"\"\"\n        return ConsoleOptions(\n            max_height=self.size.height,\n            size=self.size,\n            legacy_windows=self.legacy_windows,\n            min_width=1,\n            max_width=self.width,\n            encoding=self.encoding,\n            is_terminal=self.is_terminal,\n        )\n\n    @property",
    "start_line": 992
  },
  {
    "file": "console.py",
    "type": "method",
    "class": "Console",
    "method": "size",
    "name": "size",
    "content": "class Console:\n    def size(self) -> ConsoleDimensions:\n        \"\"\"Get the size of the console.\n\n        Returns:\n            ConsoleDimensions: A named tuple containing the dimensions.\n        \"\"\"\n\n        if self._width is not None and self._height is not None:\n            return ConsoleDimensions(self._width - self.legacy_windows, self._height)\n\n        if self.is_dumb_terminal:\n            return ConsoleDimensions(80, 25)\n\n        width: Optional[int] = None\n        height: Optional[int] = None\n\n        streams = _STD_STREAMS_OUTPUT if WINDOWS else _STD_STREAMS\n        for file_descriptor in streams:\n            try:\n                width, height = os.get_terminal_size(file_descriptor)\n            except (AttributeError, ValueError, OSError):  # Probably not a terminal\n                pass\n            else:\n                break\n\n        columns = self._environ.get(\"COLUMNS\")\n        if columns is not None and columns.isdigit():\n            width = int(columns)\n        lines = self._environ.get(\"LINES\")\n        if lines is not None and lines.isdigit():\n            height = int(lines)",
    "start_line": 1005
  },
  {
    "file": "console.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# get_terminal_size can report 0, 0 if run from pseudo-terminal\n        width = width or 80\n        height = height or 25\n        return ConsoleDimensions(\n            width - self.legacy_windows if self._width is None else self._width,\n            height if self._height is None else self._height,\n        )\n    @size.setter",
    "start_line": 1037
  },
  {
    "file": "console.py",
    "type": "method",
    "class": "Console",
    "method": "size",
    "name": "size",
    "content": "class Console:\n    def size(self, new_size: Tuple[int, int]) -> None:\n        \"\"\"Set a new size for the terminal.\n\n        Args:\n            new_size (Tuple[int, int]): New width and height.\n        \"\"\"\n        width, height = new_size\n        self._width = width\n        self._height = height\n\n    @property",
    "start_line": 1046
  },
  {
    "file": "console.py",
    "type": "method",
    "class": "Console",
    "method": "width",
    "name": "width",
    "content": "class Console:\n    def width(self) -> int:\n        \"\"\"Get the width of the console.\n\n        Returns:\n            int: The width (in characters) of the console.\n        \"\"\"\n        return self.size.width\n\n    @width.setter",
    "start_line": 1057
  },
  {
    "file": "console.py",
    "type": "method",
    "class": "Console",
    "method": "width",
    "name": "width",
    "content": "class Console:\n    def width(self, width: int) -> None:\n        \"\"\"Set width.\n\n        Args:\n            width (int): New width.\n        \"\"\"\n        self._width = width\n\n    @property",
    "start_line": 1066
  },
  {
    "file": "console.py",
    "type": "method",
    "class": "Console",
    "method": "height",
    "name": "height",
    "content": "class Console:\n    def height(self) -> int:\n        \"\"\"Get the height of the console.\n\n        Returns:\n            int: The height (in lines) of the console.\n        \"\"\"\n        return self.size.height\n\n    @height.setter",
    "start_line": 1075
  },
  {
    "file": "console.py",
    "type": "method",
    "class": "Console",
    "method": "height",
    "name": "height",
    "content": "class Console:\n    def height(self, height: int) -> None:\n        \"\"\"Set height.\n\n        Args:\n            height (int): new height.\n        \"\"\"\n        self._height = height",
    "start_line": 1084
  },
  {
    "file": "console.py",
    "type": "method",
    "class": "Console",
    "method": "bell",
    "name": "bell",
    "content": "class Console:\n    def bell(self) -> None:\n        \"\"\"Play a 'bell' sound (if supported by the terminal).\"\"\"\n        self.control(Control.bell())",
    "start_line": 1092
  },
  {
    "file": "console.py",
    "type": "method",
    "class": "Console",
    "method": "capture",
    "name": "capture",
    "content": "class Console:\n    def capture(self) -> Capture:\n        \"\"\"A context manager to *capture* the result of print() or log() in a string,\n        rather than writing it to the console.\n\n        Example:\n            >>> from rich.console import Console\n            >>> console = Console()\n            >>> with console.capture() as capture:\n            ...     console.print(\"[bold magenta]Hello World[/]\")\n            >>> print(capture.get())\n\n        Returns:\n            Capture: Context manager with disables writing to the terminal.\n        \"\"\"\n        capture = Capture(self)\n        return capture",
    "start_line": 1096
  },
  {
    "file": "console.py",
    "type": "method",
    "class": "Console",
    "method": "pager",
    "name": "pager",
    "content": "class Console:\n    def pager(\n        self, pager: Optional[Pager] = None, styles: bool = False, links: bool = False\n    ) -> PagerContext:\n        \"\"\"A context manager to display anything printed within a \"pager\". The pager application\n        is defined by the system and will typically support at least pressing a key to scroll.\n\n        Args:\n            pager (Pager, optional): A pager object, or None to use :class:`~rich.pager.SystemPager`. Defaults to None.\n            styles (bool, optional): Show styles in pager. Defaults to False.\n            links (bool, optional): Show links in pager. Defaults to False.\n\n        Example:\n            >>> from rich.console import Console\n            >>> from rich.__main__ import make_test_card\n            >>> console = Console()\n            >>> with console.pager():\n                    console.print(make_test_card())\n\n        Returns:\n            PagerContext: A context manager.\n        \"\"\"\n        return PagerContext(self, pager=pager, styles=styles, links=links)",
    "start_line": 1113
  },
  {
    "file": "console.py",
    "type": "method",
    "class": "Console",
    "method": "line",
    "name": "line",
    "content": "class Console:\n    def line(self, count: int = 1) -> None:\n        \"\"\"Write new line(s).\n\n        Args:\n            count (int, optional): Number of new lines. Defaults to 1.\n        \"\"\"\n\n        assert count >= 0, \"count must be >= 0\"\n        self.print(NewLine(count))",
    "start_line": 1136
  },
  {
    "file": "console.py",
    "type": "method",
    "class": "Console",
    "method": "clear",
    "name": "clear",
    "content": "class Console:\n    def clear(self, home: bool = True) -> None:\n        \"\"\"Clear the screen.\n\n        Args:\n            home (bool, optional): Also move the cursor to 'home' position. Defaults to True.\n        \"\"\"\n        if home:\n            self.control(Control.clear(), Control.home())\n        else:\n            self.control(Control.clear())",
    "start_line": 1146
  },
  {
    "file": "console.py",
    "type": "method",
    "class": "Console",
    "method": "status",
    "name": "status",
    "content": "class Console:\n    def status(\n        self,\n        status: RenderableType,\n        *,\n        spinner: str = \"dots\",\n        spinner_style: StyleType = \"status.spinner\",\n        speed: float = 1.0,\n        refresh_per_second: float = 12.5,\n    ) -> \"Status\":\n        \"\"\"Display a status and spinner.\n\n        Args:\n            status (RenderableType): A status renderable (str or Text typically).\n            spinner (str, optional): Name of spinner animation (see python -m rich.spinner). Defaults to \"dots\".\n            spinner_style (StyleType, optional): Style of spinner. Defaults to \"status.spinner\".\n            speed (float, optional): Speed factor for spinner animation. Defaults to 1.0.\n            refresh_per_second (float, optional): Number of refreshes per second. Defaults to 12.5.\n\n        Returns:\n            Status: A Status object that may be used as a context manager.\n        \"\"\"",
    "start_line": 1157
  },
  {
    "file": "console.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from .status import Status\n        status_renderable = Status(\n            status,\n            console=self,\n            spinner=spinner,\n            spinner_style=spinner_style,\n            speed=speed,\n            refresh_per_second=refresh_per_second,\n        )\n        return status_renderable",
    "start_line": 1178
  },
  {
    "file": "console.py",
    "type": "method",
    "class": "Console",
    "method": "show_cursor",
    "name": "show_cursor",
    "content": "class Console:\n    def show_cursor(self, show: bool = True) -> bool:\n        \"\"\"Show or hide the cursor.\n\n        Args:\n            show (bool, optional): Set visibility of the cursor.\n        \"\"\"\n        if self.is_terminal:\n            self.control(Control.show_cursor(show))\n            return True\n        return False",
    "start_line": 1190
  },
  {
    "file": "console.py",
    "type": "method",
    "class": "Console",
    "method": "set_alt_screen",
    "name": "set_alt_screen",
    "content": "class Console:\n    def set_alt_screen(self, enable: bool = True) -> bool:\n        \"\"\"Enables alternative screen mode.\n\n        Note, if you enable this mode, you should ensure that is disabled before\n        the application exits. See :meth:`~rich.Console.screen` for a context manager\n        that handles this for you.\n\n        Args:\n            enable (bool, optional): Enable (True) or disable (False) alternate screen. Defaults to True.\n\n        Returns:\n            bool: True if the control codes were written.\n\n        \"\"\"\n        changed = False\n        if self.is_terminal and not self.legacy_windows:\n            self.control(Control.alt_screen(enable))\n            changed = True\n            self._is_alt_screen = enable\n        return changed\n\n    @property",
    "start_line": 1201
  },
  {
    "file": "console.py",
    "type": "method",
    "class": "Console",
    "method": "is_alt_screen",
    "name": "is_alt_screen",
    "content": "class Console:\n    def is_alt_screen(self) -> bool:\n        \"\"\"Check if the alt screen was enabled.\n\n        Returns:\n            bool: True if the alt screen was enabled, otherwise False.\n        \"\"\"\n        return self._is_alt_screen",
    "start_line": 1223
  },
  {
    "file": "console.py",
    "type": "method",
    "class": "Console",
    "method": "set_window_title",
    "name": "set_window_title",
    "content": "class Console:\n    def set_window_title(self, title: str) -> bool:\n        \"\"\"Set the title of the console terminal window.\n\n        Warning: There is no means within Rich of \"resetting\" the window title to its\n        previous value, meaning the title you set will persist even after your application\n        exits.\n\n        ``fish`` shell resets the window title before and after each command by default,\n        negating this issue. Windows Terminal and command prompt will also reset the title for you.\n        Most other shells and terminals, however, do not do this.\n\n        Some terminals may require configuration changes before you can set the title.\n        Some terminals may not support setting the title at all.\n\n        Other software (including the terminal itself, the shell, custom prompts, plugins, etc.)\n        may also set the terminal window title. This could result in whatever value you write\n        using this method being overwritten.\n\n        Args:\n            title (str): The new title of the terminal window.\n\n        Returns:\n            bool: True if the control code to change the terminal title was\n                written, otherwise False. Note that a return value of True\n                does not guarantee that the window title has actually changed,\n                since the feature may be unsupported/disabled in some terminals.\n        \"\"\"\n        if self.is_terminal:\n            self.control(Control.title(title))\n            return True\n        return False",
    "start_line": 1231
  },
  {
    "file": "console.py",
    "type": "method",
    "class": "Console",
    "method": "screen",
    "name": "screen",
    "content": "class Console:\n    def screen(\n        self, hide_cursor: bool = True, style: Optional[StyleType] = None\n    ) -> \"ScreenContext\":\n        \"\"\"Context manager to enable and disable 'alternative screen' mode.\n\n        Args:\n            hide_cursor (bool, optional): Also hide the cursor. Defaults to False.\n            style (Style, optional): Optional style for screen. Defaults to None.\n\n        Returns:\n            ~ScreenContext: Context which enables alternate screen on enter, and disables it on exit.\n        \"\"\"\n        return ScreenContext(self, hide_cursor=hide_cursor, style=style or \"\")",
    "start_line": 1263
  },
  {
    "file": "console.py",
    "type": "method",
    "class": "Console",
    "method": "measure",
    "name": "measure",
    "content": "class Console:\n    def measure(\n        self, renderable: RenderableType, *, options: Optional[ConsoleOptions] = None\n    ) -> Measurement:\n        \"\"\"Measure a renderable. Returns a :class:`~rich.measure.Measurement` object which contains\n        information regarding the number of characters required to print the renderable.\n\n        Args:\n            renderable (RenderableType): Any renderable or string.\n            options (Optional[ConsoleOptions], optional): Options to use when measuring, or None\n                to use default options. Defaults to None.\n\n        Returns:\n            Measurement: A measurement of the renderable.\n        \"\"\"\n        measurement = Measurement.get(self, options or self.options, renderable)\n        return measurement",
    "start_line": 1277
  },
  {
    "file": "console.py",
    "type": "method",
    "class": "Console",
    "method": "render",
    "name": "render",
    "content": "class Console:\n    def render(\n        self, renderable: RenderableType, options: Optional[ConsoleOptions] = None\n    ) -> Iterable[Segment]:\n        \"\"\"Render an object in to an iterable of `Segment` instances.\n\n        This method contains the logic for rendering objects with the console protocol.\n        You are unlikely to need to use it directly, unless you are extending the library.\n\n        Args:\n            renderable (RenderableType): An object supporting the console protocol, or\n                an object that may be converted to a string.\n            options (ConsoleOptions, optional): An options object, or None to use self.options. Defaults to None.\n\n        Returns:\n            Iterable[Segment]: An iterable of segments that may be rendered.\n        \"\"\"\n\n        _options = options or self.options\n        if _options.max_width < 1:",
    "start_line": 1294
  },
  {
    "file": "console.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# No space to render anything. This prevents potential recursion errors.\n            return\n        render_iterable: RenderResult\n        renderable = rich_cast(renderable)\n        if hasattr(renderable, \"__rich_console__\") and not isclass(renderable):\n            render_iterable = renderable.__rich_console__(self, _options)\n        elif isinstance(renderable, str):\n            text_renderable = self.render_str(\n                renderable, highlight=_options.highlight, markup=_options.markup\n            )\n            render_iterable = text_renderable.__rich_console__(self, _options)\n        else:\n            raise errors.NotRenderableError(\n                f\"Unable to render {renderable!r}; \"\n                \"A str, Segment or object with __rich_console__ method is required\"\n            )\n        try:\n            iter_render = iter(render_iterable)\n        except TypeError:\n            raise errors.NotRenderableError(\n                f\"object {render_iterable!r} is not renderable\"\n            )\n        _Segment = Segment\n        _options = _options.reset_height()\n        for render_output in iter_render:\n            if isinstance(render_output, _Segment):\n                yield render_output\n            else:\n                yield from self.render(render_output, _options)",
    "start_line": 1313
  },
  {
    "file": "console.py",
    "type": "method",
    "class": "Console",
    "method": "render_lines",
    "name": "render_lines",
    "content": "class Console:\n    def render_lines(\n        self,\n        renderable: RenderableType,\n        options: Optional[ConsoleOptions] = None,\n        *,\n        style: Optional[Style] = None,\n        pad: bool = True,\n        new_lines: bool = False,\n    ) -> List[List[Segment]]:\n        \"\"\"Render objects in to a list of lines.\n\n        The output of render_lines is useful when further formatting of rendered console text\n        is required, such as the Panel class which draws a border around any renderable object.\n\n        Args:\n            renderable (RenderableType): Any object renderable in the console.\n            options (Optional[ConsoleOptions], optional): Console options, or None to use self.options. Default to ``None``.\n            style (Style, optional): Optional style to apply to renderables. Defaults to ``None``.\n            pad (bool, optional): Pad lines shorter than render width. Defaults to ``True``.\n            new_lines (bool, optional): Include \"\\n\" characters at end of lines.\n\n        Returns:\n            List[List[Segment]]: A list of lines, where a line is a list of Segment objects.\n        \"\"\"\n        with self._lock:\n            render_options = options or self.options\n            _rendered = self.render(renderable, render_options)\n            if style:\n                _rendered = Segment.apply_style(_rendered, style)\n\n            render_height = render_options.height\n            if render_height is not None:\n                render_height = max(0, render_height)\n\n            lines = list(\n                islice(\n                    Segment.split_and_crop_lines(\n                        _rendered,\n                        render_options.max_width,\n                        include_new_lines=new_lines,\n                        pad=pad,\n                        style=style,\n                    ),\n                    None,\n                    render_height,\n                )\n            )\n            if render_options.height is not None:\n                extra_lines = render_options.height - len(lines)\n                if extra_lines > 0:\n                    pad_line = [\n                        (\n                            [\n                                Segment(\" \" * render_options.max_width, style),\n                                Segment(\"\\n\"),\n                            ]\n                            if new_lines\n                            else [Segment(\" \" * render_options.max_width, style)]\n                        )\n                    ]\n                    lines.extend(pad_line * extra_lines)\n\n            return lines",
    "start_line": 1345
  },
  {
    "file": "console.py",
    "type": "method",
    "class": "Console",
    "method": "render_str",
    "name": "render_str",
    "content": "class Console:\n    def render_str(\n        self,\n        text: str,\n        *,\n        style: Union[str, Style] = \"\",\n        justify: Optional[JustifyMethod] = None,\n        overflow: Optional[OverflowMethod] = None,\n        emoji: Optional[bool] = None,\n        markup: Optional[bool] = None,\n        highlight: Optional[bool] = None,\n        highlighter: Optional[HighlighterType] = None,\n    ) -> \"Text\":\n        \"\"\"Convert a string to a Text instance. This is called automatically if\n        you print or log a string.\n\n        Args:\n            text (str): Text to render.\n            style (Union[str, Style], optional): Style to apply to rendered text.\n            justify (str, optional): Justify method: \"default\", \"left\", \"center\", \"full\", or \"right\". Defaults to ``None``.\n            overflow (str, optional): Overflow method: \"crop\", \"fold\", or \"ellipsis\". Defaults to ``None``.\n            emoji (Optional[bool], optional): Enable emoji, or ``None`` to use Console default.\n            markup (Optional[bool], optional): Enable markup, or ``None`` to use Console default.\n            highlight (Optional[bool], optional): Enable highlighting, or ``None`` to use Console default.\n            highlighter (HighlighterType, optional): Optional highlighter to apply.\n        Returns:\n            ConsoleRenderable: Renderable object.\n\n        \"\"\"\n        emoji_enabled = emoji or (emoji is None and self._emoji)\n        markup_enabled = markup or (markup is None and self._markup)\n        highlight_enabled = highlight or (highlight is None and self._highlight)\n\n        if markup_enabled:\n            rich_text = render_markup(\n                text,\n                style=style,\n                emoji=emoji_enabled,\n                emoji_variant=self._emoji_variant,\n            )\n            rich_text.justify = justify\n            rich_text.overflow = overflow\n        else:\n            rich_text = Text(\n                (\n                    _emoji_replace(text, default_variant=self._emoji_variant)\n                    if emoji_enabled\n                    else text\n                ),\n                justify=justify,\n                overflow=overflow,\n                style=style,\n            )\n\n        _highlighter = (highlighter or self.highlighter) if highlight_enabled else None\n        if _highlighter is not None:\n            highlight_text = _highlighter(str(rich_text))\n            highlight_text.copy_styles(rich_text)\n            return highlight_text\n\n        return rich_text",
    "start_line": 1409
  },
  {
    "file": "console.py",
    "type": "method",
    "class": "Console",
    "method": "get_style",
    "name": "get_style",
    "content": "class Console:\n    def get_style(\n        self, name: Union[str, Style], *, default: Optional[Union[Style, str]] = None\n    ) -> Style:\n        \"\"\"Get a Style instance by its theme name or parse a definition.\n\n        Args:\n            name (str): The name of a style or a style definition.\n\n        Returns:\n            Style: A Style object.\n\n        Raises:\n            MissingStyle: If no style could be parsed from name.\n\n        \"\"\"\n        if isinstance(name, Style):\n            return name\n\n        try:\n            style = self._theme_stack.get(name)\n            if style is None:\n                style = Style.parse(name)\n            return style.copy() if style.link else style\n        except errors.StyleSyntaxError as error:\n            if default is not None:\n                return self.get_style(default)\n            raise errors.MissingStyle(\n                f\"Failed to get style {name!r}; {error}\"\n            ) from None",
    "start_line": 1470
  },
  {
    "file": "console.py",
    "type": "method",
    "class": "Console",
    "method": "_collect_renderables",
    "name": "_collect_renderables",
    "content": "class Console:\n    def _collect_renderables(\n        self,\n        objects: Iterable[Any],\n        sep: str,\n        end: str,\n        *,\n        justify: Optional[JustifyMethod] = None,\n        emoji: Optional[bool] = None,\n        markup: Optional[bool] = None,\n        highlight: Optional[bool] = None,\n    ) -> List[ConsoleRenderable]:\n        \"\"\"Combine a number of renderables and text into one renderable.\n\n        Args:\n            objects (Iterable[Any]): Anything that Rich can render.\n            sep (str): String to write between print data.\n            end (str): String to write at end of print data.\n            justify (str, optional): One of \"left\", \"right\", \"center\", or \"full\". Defaults to ``None``.\n            emoji (Optional[bool], optional): Enable emoji code, or ``None`` to use console default.\n            markup (Optional[bool], optional): Enable markup, or ``None`` to use console default.\n            highlight (Optional[bool], optional): Enable automatic highlighting, or ``None`` to use console default.\n\n        Returns:\n            List[ConsoleRenderable]: A list of things to render.\n        \"\"\"\n        renderables: List[ConsoleRenderable] = []\n        _append = renderables.append\n        text: List[Text] = []\n        append_text = text.append\n\n        append = _append\n        if justify in (\"left\", \"center\", \"right\"):",
    "start_line": 1500
  },
  {
    "file": "console.py",
    "type": "method",
    "class": "Console",
    "method": "align_append",
    "name": "align_append",
    "content": "class Console:\n            def align_append(renderable: RenderableType) -> None:\n                _append(Align(renderable, cast(AlignMethod, justify)))\n\n            append = align_append\n\n        _highlighter: HighlighterType = _null_highlighter\n        if highlight or (highlight is None and self._highlight):\n            _highlighter = self.highlighter",
    "start_line": 1533
  },
  {
    "file": "console.py",
    "type": "method",
    "class": "Console",
    "method": "check_text",
    "name": "check_text",
    "content": "class Console:\n        def check_text() -> None:\n            if text:\n                sep_text = Text(sep, justify=justify, end=end)\n                append(sep_text.join(text))\n                text.clear()\n\n        for renderable in objects:\n            renderable = rich_cast(renderable)\n            if isinstance(renderable, str):\n                append_text(\n                    self.render_str(\n                        renderable,\n                        emoji=emoji,\n                        markup=markup,\n                        highlight=highlight,\n                        highlighter=_highlighter,\n                    )\n                )\n            elif isinstance(renderable, Text):\n                append_text(renderable)\n            elif isinstance(renderable, ConsoleRenderable):\n                check_text()\n                append(renderable)\n            elif is_expandable(renderable):\n                check_text()\n                append(Pretty(renderable, highlighter=_highlighter))\n            else:\n                append_text(_highlighter(str(renderable)))\n\n        check_text()\n\n        if self.style is not None:\n            style = self.get_style(self.style)\n            renderables = [Styled(renderable, style) for renderable in renderables]\n\n        return renderables",
    "start_line": 1542
  },
  {
    "file": "console.py",
    "type": "method",
    "class": "Console",
    "method": "rule",
    "name": "rule",
    "content": "class Console:\n    def rule(\n        self,\n        title: TextType = \"\",\n        *,\n        characters: str = \"\",\n        style: Union[str, Style] = \"rule.line\",\n        align: AlignMethod = \"center\",\n    ) -> None:\n        \"\"\"Draw a line with optional centered title.\n\n        Args:\n            title (str, optional): Text to render over the rule. Defaults to \"\".\n            characters (str, optional): Character(s) to form the line. Defaults to \"\".\n            style (str, optional): Style of line. Defaults to \"rule.line\".\n            align (str, optional): How to align the title, one of \"left\", \"center\", or \"right\". Defaults to \"center\".\n        \"\"\"",
    "start_line": 1579
  },
  {
    "file": "console.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from .rule import Rule\n        rule = Rule(title=title, characters=characters, style=style, align=align)\n        self.print(rule)",
    "start_line": 1595
  },
  {
    "file": "console.py",
    "type": "method",
    "class": "Console",
    "method": "control",
    "name": "control",
    "content": "class Console:\n    def control(self, *control: Control) -> None:\n        \"\"\"Insert non-printing control codes.\n\n        Args:\n            control_codes (str): Control codes, such as those that may move the cursor.\n        \"\"\"\n        if not self.is_dumb_terminal:\n            with self:\n                self._buffer.extend(_control.segment for _control in control)",
    "start_line": 1600
  },
  {
    "file": "console.py",
    "type": "method",
    "class": "Console",
    "method": "out",
    "name": "out",
    "content": "class Console:\n    def out(\n        self,\n        *objects: Any,\n        sep: str = \" \",\n        end: str = \"\\n\",\n        style: Optional[Union[str, Style]] = None,\n        highlight: Optional[bool] = None,\n    ) -> None:\n        \"\"\"Output to the terminal. This is a low-level way of writing to the terminal which unlike\n        :meth:`~rich.console.Console.print` won't pretty print, wrap text, or apply markup, but will\n        optionally apply highlighting and a basic style.\n\n        Args:\n            sep (str, optional): String to write between print data. Defaults to \" \".\n            end (str, optional): String to write at end of print data. Defaults to \"\\\\\\\\n\".\n            style (Union[str, Style], optional): A style to apply to output. Defaults to None.\n            highlight (Optional[bool], optional): Enable automatic highlighting, or ``None`` to use\n                console default. Defaults to ``None``.\n        \"\"\"\n        raw_output: str = sep.join(str(_object) for _object in objects)\n        self.print(\n            raw_output,\n            style=style,\n            highlight=highlight,\n            emoji=False,\n            markup=False,\n            no_wrap=True,\n            overflow=\"ignore\",\n            crop=False,\n            end=end,\n        )",
    "start_line": 1610
  },
  {
    "file": "console.py",
    "type": "method",
    "class": "Console",
    "method": "print",
    "name": "print",
    "content": "class Console:\n    def print(\n        self,\n        *objects: Any,\n        sep: str = \" \",\n        end: str = \"\\n\",\n        style: Optional[Union[str, Style]] = None,\n        justify: Optional[JustifyMethod] = None,\n        overflow: Optional[OverflowMethod] = None,\n        no_wrap: Optional[bool] = None,\n        emoji: Optional[bool] = None,\n        markup: Optional[bool] = None,\n        highlight: Optional[bool] = None,\n        width: Optional[int] = None,\n        height: Optional[int] = None,\n        crop: bool = True,\n        soft_wrap: Optional[bool] = None,\n        new_line_start: bool = False,\n    ) -> None:\n        \"\"\"Print to the console.\n\n        Args:\n            objects (positional args): Objects to log to the terminal.\n            sep (str, optional): String to write between print data. Defaults to \" \".\n            end (str, optional): String to write at end of print data. Defaults to \"\\\\\\\\n\".\n            style (Union[str, Style], optional): A style to apply to output. Defaults to None.\n            justify (str, optional): Justify method: \"default\", \"left\", \"right\", \"center\", or \"full\". Defaults to ``None``.\n            overflow (str, optional): Overflow method: \"ignore\", \"crop\", \"fold\", or \"ellipsis\". Defaults to None.\n            no_wrap (Optional[bool], optional): Disable word wrapping. Defaults to None.\n            emoji (Optional[bool], optional): Enable emoji code, or ``None`` to use console default. Defaults to ``None``.\n            markup (Optional[bool], optional): Enable markup, or ``None`` to use console default. Defaults to ``None``.\n            highlight (Optional[bool], optional): Enable automatic highlighting, or ``None`` to use console default. Defaults to ``None``.\n            width (Optional[int], optional): Width of output, or ``None`` to auto-detect. Defaults to ``None``.\n            crop (Optional[bool], optional): Crop output to width of terminal. Defaults to True.\n            soft_wrap (bool, optional): Enable soft wrap mode which disables word wrapping and cropping of text or ``None`` for\n                Console default. Defaults to ``None``.\n            new_line_start (bool, False): Insert a new line at the start if the output contains more than one line. Defaults to ``False``.\n        \"\"\"\n        if not objects:\n            objects = (NewLine(),)\n\n        if soft_wrap is None:\n            soft_wrap = self.soft_wrap\n        if soft_wrap:\n            if no_wrap is None:\n                no_wrap = True\n            if overflow is None:\n                overflow = \"ignore\"\n            crop = False\n        render_hooks = self._render_hooks[:]\n        with self:\n            renderables = self._collect_renderables(\n                objects,\n                sep,\n                end,\n                justify=justify,\n                emoji=emoji,\n                markup=markup,\n                highlight=highlight,\n            )\n            for hook in render_hooks:\n                renderables = hook.process_renderables(renderables)\n            render_options = self.options.update(\n                justify=justify,\n                overflow=overflow,\n                width=min(width, self.width) if width is not None else NO_CHANGE,\n                height=height,\n                no_wrap=no_wrap,\n                markup=markup,\n                highlight=highlight,\n            )\n\n            new_segments: List[Segment] = []\n            extend = new_segments.extend\n            render = self.render\n            if style is None:\n                for renderable in renderables:\n                    extend(render(renderable, render_options))\n            else:\n                for renderable in renderables:\n                    extend(\n                        Segment.apply_style(\n                            render(renderable, render_options), self.get_style(style)\n                        )\n                    )\n            if new_line_start:\n                if (\n                    len(\"\".join(segment.text for segment in new_segments).splitlines())\n                    > 1\n                ):\n                    new_segments.insert(0, Segment.line())\n            if crop:\n                buffer_extend = self._buffer.extend\n                for line in Segment.split_and_crop_lines(\n                    new_segments, self.width, pad=False\n                ):\n                    buffer_extend(line)\n            else:\n                self._buffer.extend(new_segments)",
    "start_line": 1642
  },
  {
    "file": "console.py",
    "type": "method",
    "class": "Console",
    "method": "print_json",
    "name": "print_json",
    "content": "class Console:\n    def print_json(\n        self,\n        json: Optional[str] = None,\n        *,\n        data: Any = None,\n        indent: Union[None, int, str] = 2,\n        highlight: bool = True,\n        skip_keys: bool = False,\n        ensure_ascii: bool = False,\n        check_circular: bool = True,\n        allow_nan: bool = True,\n        default: Optional[Callable[[Any], Any]] = None,\n        sort_keys: bool = False,\n    ) -> None:\n        \"\"\"Pretty prints JSON. Output will be valid JSON.\n\n        Args:\n            json (Optional[str]): A string containing JSON.\n            data (Any): If json is not supplied, then encode this data.\n            indent (Union[None, int, str], optional): Number of spaces to indent. Defaults to 2.\n            highlight (bool, optional): Enable highlighting of output: Defaults to True.\n            skip_keys (bool, optional): Skip keys not of a basic type. Defaults to False.\n            ensure_ascii (bool, optional): Escape all non-ascii characters. Defaults to False.\n            check_circular (bool, optional): Check for circular references. Defaults to True.\n            allow_nan (bool, optional): Allow NaN and Infinity values. Defaults to True.\n            default (Callable, optional): A callable that converts values that can not be encoded\n                in to something that can be JSON encoded. Defaults to None.\n            sort_keys (bool, optional): Sort dictionary keys. Defaults to False.\n        \"\"\"",
    "start_line": 1741
  },
  {
    "file": "console.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from rich.json import JSON\n        if json is None:\n            json_renderable = JSON.from_data(\n                data,\n                indent=indent,\n                highlight=highlight,\n                skip_keys=skip_keys,\n                ensure_ascii=ensure_ascii,\n                check_circular=check_circular,\n                allow_nan=allow_nan,\n                default=default,\n                sort_keys=sort_keys,\n            )\n        else:\n            if not isinstance(json, str):\n                raise TypeError(\n                    f\"json must be str. Did you mean print_json(data={json!r}) ?\"\n                )\n            json_renderable = JSON(\n                json,\n                indent=indent,\n                highlight=highlight,\n                skip_keys=skip_keys,\n                ensure_ascii=ensure_ascii,\n                check_circular=check_circular,\n                allow_nan=allow_nan,\n                default=default,\n                sort_keys=sort_keys,\n            )\n        self.print(json_renderable, soft_wrap=True)",
    "start_line": 1770
  },
  {
    "file": "console.py",
    "type": "method",
    "class": "Console",
    "method": "update_screen",
    "name": "update_screen",
    "content": "class Console:\n    def update_screen(\n        self,\n        renderable: RenderableType,\n        *,\n        region: Optional[Region] = None,\n        options: Optional[ConsoleOptions] = None,\n    ) -> None:\n        \"\"\"Update the screen at a given offset.\n\n        Args:\n            renderable (RenderableType): A Rich renderable.\n            region (Region, optional): Region of screen to update, or None for entire screen. Defaults to None.\n            x (int, optional): x offset. Defaults to 0.\n            y (int, optional): y offset. Defaults to 0.\n\n        Raises:\n            errors.NoAltScreen: If the Console isn't in alt screen mode.\n\n        \"\"\"\n        if not self.is_alt_screen:\n            raise errors.NoAltScreen(\"Alt screen must be enabled to call update_screen\")\n        render_options = options or self.options\n        if region is None:\n            x = y = 0\n            render_options = render_options.update_dimensions(\n                render_options.max_width, render_options.height or self.height\n            )\n        else:\n            x, y, width, height = region\n            render_options = render_options.update_dimensions(width, height)\n\n        lines = self.render_lines(renderable, options=render_options)\n        self.update_screen_lines(lines, x, y)",
    "start_line": 1802
  },
  {
    "file": "console.py",
    "type": "method",
    "class": "Console",
    "method": "update_screen_lines",
    "name": "update_screen_lines",
    "content": "class Console:\n    def update_screen_lines(\n        self, lines: List[List[Segment]], x: int = 0, y: int = 0\n    ) -> None:\n        \"\"\"Update lines of the screen at a given offset.\n\n        Args:\n            lines (List[List[Segment]]): Rendered lines (as produced by :meth:`~rich.Console.render_lines`).\n            x (int, optional): x offset (column no). Defaults to 0.\n            y (int, optional): y offset (column no). Defaults to 0.\n\n        Raises:\n            errors.NoAltScreen: If the Console isn't in alt screen mode.\n        \"\"\"\n        if not self.is_alt_screen:\n            raise errors.NoAltScreen(\"Alt screen must be enabled to call update_screen\")\n        screen_update = ScreenUpdate(lines, x, y)\n        segments = self.render(screen_update)\n        self._buffer.extend(segments)\n        self._check_buffer()",
    "start_line": 1836
  },
  {
    "file": "console.py",
    "type": "method",
    "class": "Console",
    "method": "print_exception",
    "name": "print_exception",
    "content": "class Console:\n    def print_exception(\n        self,\n        *,\n        width: Optional[int] = 100,\n        extra_lines: int = 3,\n        theme: Optional[str] = None,\n        word_wrap: bool = False,\n        show_locals: bool = False,\n        suppress: Iterable[Union[str, ModuleType]] = (),\n        max_frames: int = 100,\n    ) -> None:\n        \"\"\"Prints a rich render of the last exception and traceback.\n\n        Args:\n            width (Optional[int], optional): Number of characters used to render code. Defaults to 100.\n            extra_lines (int, optional): Additional lines of code to render. Defaults to 3.\n            theme (str, optional): Override pygments theme used in traceback\n            word_wrap (bool, optional): Enable word wrapping of long lines. Defaults to False.\n            show_locals (bool, optional): Enable display of local variables. Defaults to False.\n            suppress (Iterable[Union[str, ModuleType]]): Optional sequence of modules or paths to exclude from traceback.\n            max_frames (int): Maximum number of frames to show in a traceback, 0 for no maximum. Defaults to 100.\n        \"\"\"",
    "start_line": 1856
  },
  {
    "file": "console.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from .traceback import Traceback\n        traceback = Traceback(\n            width=width,\n            extra_lines=extra_lines,\n            theme=theme,\n            word_wrap=word_wrap,\n            show_locals=show_locals,\n            suppress=suppress,\n            max_frames=max_frames,\n        )\n        self.print(traceback)\n    @staticmethod",
    "start_line": 1878
  },
  {
    "file": "console.py",
    "type": "method",
    "class": "Console",
    "method": "_caller_frame_info",
    "name": "_caller_frame_info",
    "content": "class Console:\n    def _caller_frame_info(\n        offset: int,\n        currentframe: Callable[[], Optional[FrameType]] = inspect.currentframe,\n    ) -> Tuple[str, int, Dict[str, Any]]:\n        \"\"\"Get caller frame information.\n\n        Args:\n            offset (int): the caller offset within the current frame stack.\n            currentframe (Callable[[], Optional[FrameType]], optional): the callable to use to\n                retrieve the current frame. Defaults to ``inspect.currentframe``.\n\n        Returns:\n            Tuple[str, int, Dict[str, Any]]: A tuple containing the filename, the line number and\n                the dictionary of local variables associated with the caller frame.\n\n        Raises:\n            RuntimeError: If the stack offset is invalid.\n        \"\"\"",
    "start_line": 1892
  },
  {
    "file": "console.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# Ignore the frame of this local helper\n        offset += 1\n        frame = currentframe()\n        if frame is not None:\n            # Use the faster currentframe where implemented\n            while offset and frame is not None:\n                frame = frame.f_back\n                offset -= 1\n            assert frame is not None\n            return frame.f_code.co_filename, frame.f_lineno, frame.f_locals\n        else:\n            # Fallback to the slower stack\n            frame_info = inspect.stack()[offset]\n            return frame_info.filename, frame_info.lineno, frame_info.frame.f_locals",
    "start_line": 1910
  },
  {
    "file": "console.py",
    "type": "method",
    "class": "Console",
    "method": "log",
    "name": "log",
    "content": "class Console:\n    def log(\n        self,\n        *objects: Any,\n        sep: str = \" \",\n        end: str = \"\\n\",\n        style: Optional[Union[str, Style]] = None,\n        justify: Optional[JustifyMethod] = None,\n        emoji: Optional[bool] = None,\n        markup: Optional[bool] = None,\n        highlight: Optional[bool] = None,\n        log_locals: bool = False,\n        _stack_offset: int = 1,\n    ) -> None:\n        \"\"\"Log rich content to the terminal.\n\n        Args:\n            objects (positional args): Objects to log to the terminal.\n            sep (str, optional): String to write between print data. Defaults to \" \".\n            end (str, optional): String to write at end of print data. Defaults to \"\\\\\\\\n\".\n            style (Union[str, Style], optional): A style to apply to output. Defaults to None.\n            justify (str, optional): One of \"left\", \"right\", \"center\", or \"full\". Defaults to ``None``.\n            emoji (Optional[bool], optional): Enable emoji code, or ``None`` to use console default. Defaults to None.\n            markup (Optional[bool], optional): Enable markup, or ``None`` to use console default. Defaults to None.\n            highlight (Optional[bool], optional): Enable automatic highlighting, or ``None`` to use console default. Defaults to None.\n            log_locals (bool, optional): Boolean to enable logging of locals where ``log()``\n                was called. Defaults to False.\n            _stack_offset (int, optional): Offset of caller from end of call stack. Defaults to 1.\n        \"\"\"\n        if not objects:\n            objects = (NewLine(),)\n\n        render_hooks = self._render_hooks[:]\n\n        with self:\n            renderables = self._collect_renderables(\n                objects,\n                sep,\n                end,\n                justify=justify,\n                emoji=emoji,\n                markup=markup,\n                highlight=highlight,\n            )\n            if style is not None:\n                renderables = [Styled(renderable, style) for renderable in renderables]\n\n            filename, line_no, locals = self._caller_frame_info(_stack_offset)\n            link_path = None if filename.startswith(\"<\") else os.path.abspath(filename)\n            path = filename.rpartition(os.sep)[-1]\n            if log_locals:\n                locals_map = {\n                    key: value\n                    for key, value in locals.items()\n                    if not key.startswith(\"__\")\n                }\n                renderables.append(render_scope(locals_map, title=\"[i]locals\"))\n\n            renderables = [\n                self._log_render(\n                    self,\n                    renderables,\n                    log_time=self.get_datetime(),\n                    path=path,\n                    line_no=line_no,\n                    link_path=link_path,\n                )\n            ]\n            for hook in render_hooks:\n                renderables = hook.process_renderables(renderables)\n            new_segments: List[Segment] = []\n            extend = new_segments.extend\n            render = self.render\n            render_options = self.options\n            for renderable in renderables:\n                extend(render(renderable, render_options))\n            buffer_extend = self._buffer.extend\n            for line in Segment.split_and_crop_lines(\n                new_segments, self.width, pad=False\n            ):\n                buffer_extend(line)",
    "start_line": 1926
  },
  {
    "file": "console.py",
    "type": "method",
    "class": "Console",
    "method": "on_broken_pipe",
    "name": "on_broken_pipe",
    "content": "class Console:\n    def on_broken_pipe(self) -> None:\n        \"\"\"This function is called when a `BrokenPipeError` is raised.\n\n        This can occur when piping Textual output in Linux and macOS.\n        The default implementation is to exit the app, but you could implement\n        this method in a subclass to change the behavior.\n\n        See https://docs.python.org/3/library/signal.html#note-on-sigpipe for details.\n        \"\"\"\n        self.quiet = True\n        devnull = os.open(os.devnull, os.O_WRONLY)\n        os.dup2(devnull, sys.stdout.fileno())\n        raise SystemExit(1)",
    "start_line": 2007
  },
  {
    "file": "console.py",
    "type": "method",
    "class": "Console",
    "method": "_check_buffer",
    "name": "_check_buffer",
    "content": "class Console:\n    def _check_buffer(self) -> None:\n        \"\"\"Check if the buffer may be rendered. Render it if it can (e.g. Console.quiet is False)\n        Rendering is supported on Windows, Unix and Jupyter environments. For\n        legacy Windows consoles, the win32 API is called directly.\n        This method will also record what it renders if recording is enabled via Console.record.\n        \"\"\"\n        if self.quiet:\n            del self._buffer[:]\n            return\n\n        try:\n            self._write_buffer()\n        except BrokenPipeError:\n            self.on_broken_pipe()",
    "start_line": 2021
  },
  {
    "file": "console.py",
    "type": "method",
    "class": "Console",
    "method": "_write_buffer",
    "name": "_write_buffer",
    "content": "class Console:\n    def _write_buffer(self) -> None:\n        \"\"\"Write the buffer to the output file.\"\"\"\n\n        with self._lock:\n            if self.record and not self._buffer_index:\n                with self._record_buffer_lock:\n                    self._record_buffer.extend(self._buffer[:])\n\n            if self._buffer_index == 0:\n                if self.is_jupyter:  # pragma: no cover",
    "start_line": 2036
  },
  {
    "file": "console.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from .jupyter import display\n                    display(self._buffer, self._render_buffer(self._buffer[:]))\n                    del self._buffer[:]\n                else:\n                    if WINDOWS:\n                        use_legacy_windows_render = False\n                        if self.legacy_windows:\n                            fileno = get_fileno(self.file)\n                            if fileno is not None:\n                                use_legacy_windows_render = (\n                                    fileno in _STD_STREAMS_OUTPUT\n                                )\n                        if use_legacy_windows_render:\n                            from rich._win32_console import LegacyWindowsTerm\n                            from rich._windows_renderer import legacy_windows_render\n                            buffer = self._buffer[:]\n                            if self.no_color and self._color_system:\n                                buffer = list(Segment.remove_color(buffer))\n                            legacy_windows_render(buffer, LegacyWindowsTerm(self.file))\n                        else:",
    "start_line": 2046
  },
  {
    "file": "console.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# Either a non-std stream on legacy Windows, or modern Windows.\n                            text = self._render_buffer(self._buffer[:])\n                            # https://bugs.python.org/issue37871\n                            # https://github.com/python/cpython/issues/82052\n                            # We need to avoid writing more than 32Kb in a single write, due to the above bug\n                            write = self.file.write\n                            # Worse case scenario, every character is 4 bytes of utf-8",
    "start_line": 2070
  },
  {
    "file": "console.py",
    "type": "constants",
    "class": null,
    "method": null,
    "name": "module_constants",
    "content": "MAX_WRITE = 32 * 1024 // 4\n                            try:\n                                if len(text) <= MAX_WRITE:\n                                    write(text)\n                                else:\n                                    batch: List[str] = []\n                                    batch_append = batch.append\n                                    size = 0\n                                    for line in text.splitlines(True):\n                                        if size + len(line) > MAX_WRITE and batch:\n                                            write(\"\".join(batch))\n                                            batch.clear()\n                                            size = 0\n                                        batch_append(line)\n                                        size += len(line)\n                                    if batch:\n                                        write(\"\".join(batch))\n                                        batch.clear()\n                            except UnicodeEncodeError as error:\n                                error.reason = f\"{error.reason}\\n*** You may need to add PYTHONIOENCODING=utf-8 to your environment ***\"\n                                raise\n                    else:\n                        text = self._render_buffer(self._buffer[:])\n                        try:\n                            self.file.write(text)\n                        except UnicodeEncodeError as error:\n                            error.reason = f\"{error.reason}\\n*** You may need to add PYTHONIOENCODING=utf-8 to your environment ***\"\n                            raise\n                    self.file.flush()\n                    del self._buffer[:]",
    "start_line": 2077
  },
  {
    "file": "console.py",
    "type": "method",
    "class": "Console",
    "method": "_render_buffer",
    "name": "_render_buffer",
    "content": "class Console:\n    def _render_buffer(self, buffer: Iterable[Segment]) -> str:\n        \"\"\"Render buffered output, and clear buffer.\"\"\"\n        output: List[str] = []\n        append = output.append\n        color_system = self._color_system\n        legacy_windows = self.legacy_windows\n        not_terminal = not self.is_terminal\n        if self.no_color and color_system:\n            buffer = Segment.remove_color(buffer)\n        for text, style, control in buffer:\n            if style:\n                append(\n                    style.render(\n                        text,\n                        color_system=color_system,\n                        legacy_windows=legacy_windows,\n                    )\n                )\n            elif not (not_terminal and control):\n                append(text)\n\n        rendered = \"\".join(output)\n        return rendered",
    "start_line": 2109
  },
  {
    "file": "console.py",
    "type": "method",
    "class": "Console",
    "method": "input",
    "name": "input",
    "content": "class Console:\n    def input(\n        self,\n        prompt: TextType = \"\",\n        *,\n        markup: bool = True,\n        emoji: bool = True,\n        password: bool = False,\n        stream: Optional[TextIO] = None,\n    ) -> str:\n        \"\"\"Displays a prompt and waits for input from the user. The prompt may contain color / style.\n\n        It works in the same way as Python's builtin :func:`input` function and provides elaborate line editing and history features if Python's builtin :mod:`readline` module is previously loaded.\n\n        Args:\n            prompt (Union[str, Text]): Text to render in the prompt.\n            markup (bool, optional): Enable console markup (requires a str prompt). Defaults to True.\n            emoji (bool, optional): Enable emoji (requires a str prompt). Defaults to True.\n            password: (bool, optional): Hide typed text. Defaults to False.\n            stream: (TextIO, optional): Optional file to read input from (rather than stdin). Defaults to None.\n\n        Returns:\n            str: Text read from stdin.\n        \"\"\"\n        if prompt:\n            self.print(prompt, markup=markup, emoji=emoji, end=\"\")\n        if password:\n            result = getpass(\"\", stream=stream)\n        else:\n            if stream:\n                result = stream.readline()\n            else:\n                result = input()\n        return result",
    "start_line": 2133
  },
  {
    "file": "console.py",
    "type": "method",
    "class": "Console",
    "method": "export_text",
    "name": "export_text",
    "content": "class Console:\n    def export_text(self, *, clear: bool = True, styles: bool = False) -> str:\n        \"\"\"Generate text from console contents (requires record=True argument in constructor).\n\n        Args:\n            clear (bool, optional): Clear record buffer after exporting. Defaults to ``True``.\n            styles (bool, optional): If ``True``, ansi escape codes will be included. ``False`` for plain text.\n                Defaults to ``False``.\n\n        Returns:\n            str: String containing console contents.\n\n        \"\"\"\n        assert (\n            self.record\n        ), \"To export console contents set record=True in the constructor or instance\"\n\n        with self._record_buffer_lock:\n            if styles:\n                text = \"\".join(\n                    (style.render(text) if style else text)\n                    for text, style, _ in self._record_buffer\n                )\n            else:\n                text = \"\".join(\n                    segment.text\n                    for segment in self._record_buffer\n                    if not segment.control\n                )\n            if clear:\n                del self._record_buffer[:]\n        return text",
    "start_line": 2167
  },
  {
    "file": "console.py",
    "type": "method",
    "class": "Console",
    "method": "save_text",
    "name": "save_text",
    "content": "class Console:\n    def save_text(self, path: str, *, clear: bool = True, styles: bool = False) -> None:\n        \"\"\"Generate text from console and save to a given location (requires record=True argument in constructor).\n\n        Args:\n            path (str): Path to write text files.\n            clear (bool, optional): Clear record buffer after exporting. Defaults to ``True``.\n            styles (bool, optional): If ``True``, ansi style codes will be included. ``False`` for plain text.\n                Defaults to ``False``.\n\n        \"\"\"\n        text = self.export_text(clear=clear, styles=styles)\n        with open(path, \"w\", encoding=\"utf-8\") as write_file:\n            write_file.write(text)",
    "start_line": 2199
  },
  {
    "file": "console.py",
    "type": "method",
    "class": "Console",
    "method": "export_html",
    "name": "export_html",
    "content": "class Console:\n    def export_html(\n        self,\n        *,\n        theme: Optional[TerminalTheme] = None,\n        clear: bool = True,\n        code_format: Optional[str] = None,\n        inline_styles: bool = False,\n    ) -> str:\n        \"\"\"Generate HTML from console contents (requires record=True argument in constructor).\n\n        Args:\n            theme (TerminalTheme, optional): TerminalTheme object containing console colors.\n            clear (bool, optional): Clear record buffer after exporting. Defaults to ``True``.\n            code_format (str, optional): Format string to render HTML. In addition to '{foreground}',\n                '{background}', and '{code}', should contain '{stylesheet}' if inline_styles is ``False``.\n            inline_styles (bool, optional): If ``True`` styles will be inlined in to spans, which makes files\n                larger but easier to cut and paste markup. If ``False``, styles will be embedded in a style tag.\n                Defaults to False.\n\n        Returns:\n            str: String containing console contents as HTML.\n        \"\"\"\n        assert (\n            self.record\n        ), \"To export console contents set record=True in the constructor or instance\"\n        fragments: List[str] = []\n        append = fragments.append\n        _theme = theme or DEFAULT_TERMINAL_THEME\n        stylesheet = \"\"\n\n        render_code_format = CONSOLE_HTML_FORMAT if code_format is None else code_format\n\n        with self._record_buffer_lock:\n            if inline_styles:\n                for text, style, _ in Segment.filter_control(\n                    Segment.simplify(self._record_buffer)\n                ):\n                    text = escape(text)\n                    if style:\n                        rule = style.get_html_style(_theme)\n                        if style.link:\n                            text = f'<a href=\"{style.link}\">{text}</a>'\n                        text = f'<span style=\"{rule}\">{text}</span>' if rule else text\n                    append(text)\n            else:\n                styles: Dict[str, int] = {}\n                for text, style, _ in Segment.filter_control(\n                    Segment.simplify(self._record_buffer)\n                ):\n                    text = escape(text)\n                    if style:\n                        rule = style.get_html_style(_theme)\n                        style_number = styles.setdefault(rule, len(styles) + 1)\n                        if style.link:\n                            text = f'<a class=\"r{style_number}\" href=\"{style.link}\">{text}</a>'\n                        else:\n                            text = f'<span class=\"r{style_number}\">{text}</span>'\n                    append(text)\n                stylesheet_rules: List[str] = []\n                stylesheet_append = stylesheet_rules.append\n                for style_rule, style_number in styles.items():\n                    if style_rule:\n                        stylesheet_append(f\".r{style_number} {{{style_rule}}}\")\n                stylesheet = \"\\n\".join(stylesheet_rules)\n\n            rendered_code = render_code_format.format(\n                code=\"\".join(fragments),\n                stylesheet=stylesheet,\n                foreground=_theme.foreground_color.hex,\n                background=_theme.background_color.hex,\n            )\n            if clear:\n                del self._record_buffer[:]\n        return rendered_code",
    "start_line": 2213
  },
  {
    "file": "console.py",
    "type": "method",
    "class": "Console",
    "method": "save_html",
    "name": "save_html",
    "content": "class Console:\n    def save_html(\n        self,\n        path: str,\n        *,\n        theme: Optional[TerminalTheme] = None,\n        clear: bool = True,\n        code_format: str = CONSOLE_HTML_FORMAT,\n        inline_styles: bool = False,\n    ) -> None:\n        \"\"\"Generate HTML from console contents and write to a file (requires record=True argument in constructor).\n\n        Args:\n            path (str): Path to write html file.\n            theme (TerminalTheme, optional): TerminalTheme object containing console colors.\n            clear (bool, optional): Clear record buffer after exporting. Defaults to ``True``.\n            code_format (str, optional): Format string to render HTML. In addition to '{foreground}',\n                '{background}', and '{code}', should contain '{stylesheet}' if inline_styles is ``False``.\n            inline_styles (bool, optional): If ``True`` styles will be inlined in to spans, which makes files\n                larger but easier to cut and paste markup. If ``False``, styles will be embedded in a style tag.\n                Defaults to False.\n\n        \"\"\"\n        html = self.export_html(\n            theme=theme,\n            clear=clear,\n            code_format=code_format,\n            inline_styles=inline_styles,\n        )\n        with open(path, \"w\", encoding=\"utf-8\") as write_file:\n            write_file.write(html)",
    "start_line": 2288
  },
  {
    "file": "console.py",
    "type": "method",
    "class": "Console",
    "method": "export_svg",
    "name": "export_svg",
    "content": "class Console:\n    def export_svg(\n        self,\n        *,\n        title: str = \"Rich\",\n        theme: Optional[TerminalTheme] = None,\n        clear: bool = True,\n        code_format: str = CONSOLE_SVG_FORMAT,\n        font_aspect_ratio: float = 0.61,\n        unique_id: Optional[str] = None,\n    ) -> str:\n        \"\"\"\n        Generate an SVG from the console contents (requires record=True in Console constructor).\n\n        Args:\n            title (str, optional): The title of the tab in the output image\n            theme (TerminalTheme, optional): The ``TerminalTheme`` object to use to style the terminal\n            clear (bool, optional): Clear record buffer after exporting. Defaults to ``True``\n            code_format (str, optional): Format string used to generate the SVG. Rich will inject a number of variables\n                into the string in order to form the final SVG output. The default template used and the variables\n                injected by Rich can be found by inspecting the ``console.CONSOLE_SVG_FORMAT`` variable.\n            font_aspect_ratio (float, optional): The width to height ratio of the font used in the ``code_format``\n                string. Defaults to 0.61, which is the width to height ratio of Fira Code (the default font).\n                If you aren't specifying a different font inside ``code_format``, you probably don't need this.\n            unique_id (str, optional): unique id that is used as the prefix for various elements (CSS styles, node\n                ids). If not set, this defaults to a computed value based on the recorded content.\n        \"\"\"",
    "start_line": 2319
  },
  {
    "file": "console.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from rich.cells import cell_len\n        style_cache: Dict[Style, str] = {}",
    "start_line": 2346
  },
  {
    "file": "console.py",
    "type": "method",
    "class": "Console",
    "method": "get_svg_style",
    "name": "get_svg_style",
    "content": "class Console:\n        def get_svg_style(style: Style) -> str:\n            \"\"\"Convert a Style to CSS rules for SVG.\"\"\"\n            if style in style_cache:\n                return style_cache[style]\n            css_rules = []\n            color = (\n                _theme.foreground_color\n                if (style.color is None or style.color.is_default)\n                else style.color.get_truecolor(_theme)\n            )\n            bgcolor = (\n                _theme.background_color\n                if (style.bgcolor is None or style.bgcolor.is_default)\n                else style.bgcolor.get_truecolor(_theme)\n            )\n            if style.reverse:\n                color, bgcolor = bgcolor, color\n            if style.dim:\n                color = blend_rgb(color, bgcolor, 0.4)\n            css_rules.append(f\"fill: {color.hex}\")\n            if style.bold:\n                css_rules.append(\"font-weight: bold\")\n            if style.italic:\n                css_rules.append(\"font-style: italic;\")\n            if style.underline:\n                css_rules.append(\"text-decoration: underline;\")\n            if style.strike:\n                css_rules.append(\"text-decoration: line-through;\")\n\n            css = \";\".join(css_rules)\n            style_cache[style] = css\n            return css\n\n        _theme = theme or SVG_EXPORT_THEME\n\n        width = self.width\n        char_height = 20\n        char_width = char_height * font_aspect_ratio\n        line_height = char_height * 1.22\n\n        margin_top = 1\n        margin_right = 1\n        margin_bottom = 1\n        margin_left = 1\n\n        padding_top = 40\n        padding_right = 8\n        padding_bottom = 8\n        padding_left = 8\n\n        padding_width = padding_left + padding_right\n        padding_height = padding_top + padding_bottom\n        margin_width = margin_left + margin_right\n        margin_height = margin_top + margin_bottom\n\n        text_backgrounds: List[str] = []\n        text_group: List[str] = []\n        classes: Dict[str, int] = {}\n        style_no = 1",
    "start_line": 2350
  },
  {
    "file": "console.py",
    "type": "method",
    "class": "Console",
    "method": "escape_text",
    "name": "escape_text",
    "content": "class Console:\n        def escape_text(text: str) -> str:\n            \"\"\"HTML escape text and replace spaces with nbsp.\"\"\"\n            return escape(text).replace(\" \", \"&#160;\")",
    "start_line": 2410
  },
  {
    "file": "console.py",
    "type": "method",
    "class": "Console",
    "method": "make_tag",
    "name": "make_tag",
    "content": "class Console:\n        def make_tag(\n            name: str, content: Optional[str] = None, **attribs: object\n        ) -> str:\n            \"\"\"Make a tag from name, content, and attributes.\"\"\"",
    "start_line": 2414
  },
  {
    "file": "console.py",
    "type": "method",
    "class": "Console",
    "method": "stringify",
    "name": "stringify",
    "content": "class Console:\n            def stringify(value: object) -> str:\n                if isinstance(value, (float)):\n                    return format(value, \"g\")\n                return str(value)\n\n            tag_attribs = \" \".join(\n                f'{k.lstrip(\"_\").replace(\"_\", \"-\")}=\"{stringify(v)}\"'\n                for k, v in attribs.items()\n            )\n            return (\n                f\"<{name} {tag_attribs}>{content}</{name}>\"\n                if content\n                else f\"<{name} {tag_attribs}/>\"\n            )\n\n        with self._record_buffer_lock:\n            segments = list(Segment.filter_control(self._record_buffer))\n            if clear:\n                self._record_buffer.clear()\n\n        if unique_id is None:\n            unique_id = \"terminal-\" + str(\n                zlib.adler32(\n                    (\"\".join(repr(segment) for segment in segments)).encode(\n                        \"utf-8\",\n                        \"ignore\",\n                    )\n                    + title.encode(\"utf-8\", \"ignore\")\n                )\n            )\n        y = 0\n        for y, line in enumerate(Segment.split_and_crop_lines(segments, length=width)):\n            x = 0\n            for text, style, _control in line:\n                style = style or Style()\n                rules = get_svg_style(style)\n                if rules not in classes:\n                    classes[rules] = style_no\n                    style_no += 1\n                class_name = f\"r{classes[rules]}\"\n\n                if style.reverse:\n                    has_background = True\n                    background = (\n                        _theme.foreground_color.hex\n                        if style.color is None\n                        else style.color.get_truecolor(_theme).hex\n                    )\n                else:\n                    bgcolor = style.bgcolor\n                    has_background = bgcolor is not None and not bgcolor.is_default\n                    background = (\n                        _theme.background_color.hex\n                        if style.bgcolor is None\n                        else style.bgcolor.get_truecolor(_theme).hex\n                    )\n\n                text_length = cell_len(text)\n                if has_background:\n                    text_backgrounds.append(\n                        make_tag(\n                            \"rect\",\n                            fill=background,\n                            x=x * char_width,\n                            y=y * line_height + 1.5,\n                            width=char_width * text_length,\n                            height=line_height + 0.25,\n                            shape_rendering=\"crispEdges\",\n                        )\n                    )\n\n                if text != \" \" * len(text):\n                    text_group.append(\n                        make_tag(\n                            \"text\",\n                            escape_text(text),\n                            _class=f\"{unique_id}-{class_name}\",\n                            x=x * char_width,\n                            y=y * line_height + char_height,\n                            textLength=char_width * len(text),\n                            clip_path=f\"url(#{unique_id}-line-{y})\",\n                        )\n                    )\n                x += cell_len(text)\n\n        line_offsets = [line_no * line_height + 1.5 for line_no in range(y)]\n        lines = \"\\n\".join(\n            f\"\"\"<clipPath id=\"{unique_id}-line-{line_no}\">\n    {make_tag(\"rect\", x=0, y=offset, width=char_width * width, height=line_height + 0.25)}\n            </clipPath>\"\"\"\n            for line_no, offset in enumerate(line_offsets)\n        )\n\n        styles = \"\\n\".join(\n            f\".{unique_id}-r{rule_no} {{ {css} }}\" for css, rule_no in classes.items()\n        )\n        backgrounds = \"\".join(text_backgrounds)\n        matrix = \"\".join(text_group)\n\n        terminal_width = ceil(width * char_width + padding_width)\n        terminal_height = (y + 1) * line_height + padding_height\n        chrome = make_tag(\n            \"rect\",\n            fill=_theme.background_color.hex,\n            stroke=\"rgba(255,255,255,0.35)\",\n            stroke_width=\"1\",\n            x=margin_left,\n            y=margin_top,\n            width=terminal_width,\n            height=terminal_height,\n            rx=8,\n        )\n\n        title_color = _theme.foreground_color.hex\n        if title:\n            chrome += make_tag(\n                \"text\",\n                escape_text(title),\n                _class=f\"{unique_id}-title\",\n                fill=title_color,\n                text_anchor=\"middle\",\n                x=terminal_width // 2,\n                y=margin_top + char_height + 6,\n            )\n        chrome += f\"\"\"\n            <g transform=\"translate(26,22)\">\n            <circle cx=\"0\" cy=\"0\" r=\"7\" fill=\"#ff5f57\"/>\n            <circle cx=\"22\" cy=\"0\" r=\"7\" fill=\"#febc2e\"/>\n            <circle cx=\"44\" cy=\"0\" r=\"7\" fill=\"#28c840\"/>\n            </g>\n        \"\"\"\n\n        svg = code_format.format(\n            unique_id=unique_id,\n            char_width=char_width,\n            char_height=char_height,\n            line_height=line_height,\n            terminal_width=char_width * width - 1,\n            terminal_height=(y + 1) * line_height - 1,\n            width=terminal_width + margin_width,\n            height=terminal_height + margin_height,\n            terminal_x=margin_left + padding_left,\n            terminal_y=margin_top + padding_top,\n            styles=styles,\n            chrome=chrome,\n            backgrounds=backgrounds,\n            matrix=matrix,\n            lines=lines,\n        )\n        return svg",
    "start_line": 2419
  },
  {
    "file": "console.py",
    "type": "method",
    "class": "Console",
    "method": "save_svg",
    "name": "save_svg",
    "content": "class Console:\n    def save_svg(\n        self,\n        path: str,\n        *,\n        title: str = \"Rich\",\n        theme: Optional[TerminalTheme] = None,\n        clear: bool = True,\n        code_format: str = CONSOLE_SVG_FORMAT,\n        font_aspect_ratio: float = 0.61,\n        unique_id: Optional[str] = None,\n    ) -> None:\n        \"\"\"Generate an SVG file from the console contents (requires record=True in Console constructor).\n\n        Args:\n            path (str): The path to write the SVG to.\n            title (str, optional): The title of the tab in the output image\n            theme (TerminalTheme, optional): The ``TerminalTheme`` object to use to style the terminal\n            clear (bool, optional): Clear record buffer after exporting. Defaults to ``True``\n            code_format (str, optional): Format string used to generate the SVG. Rich will inject a number of variables\n                into the string in order to form the final SVG output. The default template used and the variables\n                injected by Rich can be found by inspecting the ``console.CONSOLE_SVG_FORMAT`` variable.\n            font_aspect_ratio (float, optional): The width to height ratio of the font used in the ``code_format``\n                string. Defaults to 0.61, which is the width to height ratio of Fira Code (the default font).\n                If you aren't specifying a different font inside ``code_format``, you probably don't need this.\n            unique_id (str, optional): unique id that is used as the prefix for various elements (CSS styles, node\n                ids). If not set, this defaults to a computed value based on the recorded content.\n        \"\"\"\n        svg = self.export_svg(\n            title=title,\n            theme=theme,\n            clear=clear,\n            code_format=code_format,\n            font_aspect_ratio=font_aspect_ratio,\n            unique_id=unique_id,\n        )\n        with open(path, \"w\", encoding=\"utf-8\") as write_file:\n            write_file.write(svg)",
    "start_line": 2570
  },
  {
    "file": "console.py",
    "type": "function",
    "class": null,
    "method": "_svg_hash",
    "name": "_svg_hash",
    "content": "def _svg_hash(svg_main_code: str) -> str:\n    \"\"\"Returns a unique hash for the given SVG main code.\n\n    Args:\n        svg_main_code (str): The content we're going to inject in the SVG envelope.\n\n    Returns:\n        str: a hash of the given content\n    \"\"\"\n    return str(zlib.adler32(svg_main_code.encode()))\n\n\nif __name__ == \"__main__\":  # pragma: no cover",
    "start_line": 2609
  },
  {
    "file": "console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(record=True)\n    console.log(\n        \"JSONRPC [i]request[/i]\",\n        5,\n        1.3,\n        True,\n        False,\n        None,\n        {\n            \"jsonrpc\": \"2.0\",\n            \"method\": \"subtract\",\n            \"params\": {\"minuend\": 42, \"subtrahend\": 23},\n            \"id\": 3,\n        },\n    )\n    console.log(\"Hello, World!\", \"{'a': 1}\", repr(console))\n    console.print(\n        {\n            \"name\": None,\n            \"empty\": [],\n            \"quiz\": {\n                \"sport\": {\n                    \"answered\": True,\n                    \"q1\": {\n                        \"question\": \"Which one is correct team name in NBA?\",\n                        \"options\": [\n                            \"New York Bulls\",\n                            \"Los Angeles Kings\",\n                            \"Golden State Warriors\",\n                            \"Huston Rocket\",\n                        ],\n                        \"answer\": \"Huston Rocket\",\n                    },\n                },\n                \"maths\": {\n                    \"answered\": False,\n                    \"q1\": {\n                        \"question\": \"5 + 7 = ?\",\n                        \"options\": [10, 11, 12, 13],\n                        \"answer\": 12,\n                    },\n                    \"q2\": {\n                        \"question\": \"12 - 8 = ?\",\n                        \"options\": [1, 2, 3, 4],\n                        \"answer\": 4,\n                    },\n                },\n            },\n        }\n    )",
    "start_line": 2622
  },
  {
    "file": "console.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "import inspect\nimport os\nimport sys\nimport threading\nimport zlib\nfrom abc import ABC, abstractmethod\nfrom dataclasses import dataclass, field\nfrom datetime import datetime\nfrom functools import wraps\nfrom getpass import getpass\nfrom html import escape\nfrom inspect import isclass\nfrom itertools import islice\nfrom math import ceil\nfrom time import monotonic\nfrom types import FrameType, ModuleType, TracebackType\nfrom typing import (\n    IO,\n    TYPE_CHECKING,\n    Any,\n    Callable,\n    Dict,\n    Iterable,\n    List,\n    Mapping,\n    NamedTuple,\n    Optional,\n    TextIO,\n    Tuple,\n    Type,\n    Union,\n    cast,\n)\n\nfrom rich._null_file import NULL_FILE\n\nif sys.version_info >= (3, 8):\n    from typing import Literal, Protocol, runtime_checkable\nelse:\n    from typing_extensions import (\n        Literal,\n        Protocol,\n        runtime_checkable,\n    )  # pragma: no cover\n\nfrom . import errors, themes\nfrom ._emoji_replace import _emoji_replace\nfrom ._export_format import CONSOLE_HTML_FORMAT, CONSOLE_SVG_FORMAT\nfrom ._fileno import get_fileno\nfrom ._log_render import FormatTimeCallable, LogRender\nfrom .align import Align, AlignMethod\nfrom .color import ColorSystem, blend_rgb\nfrom .control import Control\nfrom .emoji import EmojiVariant\nfrom .highlighter import NullHighlighter, ReprHighlighter\nfrom .markup import render as render_markup\nfrom .measure import Measurement, measure_renderables\nfrom .pager import Pager, SystemPager\nfrom .pretty import Pretty, is_expandable\nfrom .protocol import rich_cast\nfrom .region import Region\nfrom .scope import render_scope\nfrom .screen import Screen\nfrom .segment import Segment\nfrom .style import Style, StyleType\nfrom .styled import Styled\nfrom .terminal_theme import DEFAULT_TERMINAL_THEME, SVG_EXPORT_THEME, TerminalTheme\nfrom .text import Text, TextType\nfrom .theme import Theme, ThemeStack\n\nif TYPE_CHECKING:\n    from ._windows import WindowsConsoleFeatures\n    from .live import Live\n    from .status import Status\n\nJUPYTER_DEFAULT_COLUMNS = 115\nJUPYTER_DEFAULT_LINES = 100\nWINDOWS = sys.platform == \"win32\"\n\nHighlighterType = Callable[[Union[str, \"Text\"]], \"Text\"]\nJustifyMethod = Literal[\"default\", \"left\", \"center\", \"right\", \"full\"]\nOverflowMethod = Literal[\"fold\", \"crop\", \"ellipsis\", \"ignore\"]\n\n\nclass NoChange:\n    pass\n\n\nNO_CHANGE = NoChange()\n\ntry:\n    _STDIN_FILENO = sys.__stdin__.fileno()  # type: ignore[union-attr]\nexcept Exception:\n    _STDIN_FILENO = 0\ntry:\n    _STDOUT_FILENO = sys.__stdout__.fileno()  # type: ignore[union-attr]\nexcept Exception:\n    _STDOUT_FILENO = 1\ntry:\n    _STDERR_FILENO = sys.__stderr__.fileno()  # type: ignore[union-attr]\nexcept Exception:\n    _STDERR_FILENO = 2\n\n_STD_STREAMS = (_STDIN_FILENO, _STDOUT_FILENO, _STDERR_FILENO)\n_STD_STREAMS_OUTPUT = (_STDOUT_FILENO, _STDERR_FILENO)\n\n\n_TERM_COLORS = {\n    \"kitty\": ColorSystem.EIGHT_BIT,\n    \"256color\": ColorSystem.EIGHT_BIT,\n    \"16color\": ColorSystem.STANDARD,\n}\n\n\nclass ConsoleDimensions(NamedTuple):\n    \"\"\"Size of the terminal.\"\"\"\n\n    width: int\n    \"\"\"The width of the console in 'cells'.\"\"\"\n    height: int\n    \"\"\"The height of the console in lines.\"\"\"\n\n\n@dataclass\nclass ConsoleOptions:\n    \"\"\"Options for __rich_console__ method.\"\"\"\n\n    size: ConsoleDimensions\n    \"\"\"Size of console.\"\"\"\n    legacy_windows: bool\n    \"\"\"legacy_windows: flag for legacy windows.\"\"\"\n    min_width: int\n    \"\"\"Minimum width of renderable.\"\"\"\n    max_width: int\n    \"\"\"Maximum width of renderable.\"\"\"\n    is_terminal: bool\n    \"\"\"True if the target is a terminal, otherwise False.\"\"\"\n    encoding: str\n    \"\"\"Encoding of terminal.\"\"\"\n    max_height: int\n    \"\"\"Height of container (starts as terminal)\"\"\"\n    justify: Optional[JustifyMethod] = None\n    \"\"\"Justify value override for renderable.\"\"\"\n    overflow: Optional[OverflowMethod] = None\n    \"\"\"Overflow value override for renderable.\"\"\"\n    no_wrap: Optional[bool] = False\n    \"\"\"Disable wrapping for text.\"\"\"\n    highlight: Optional[bool] = None\n    \"\"\"Highlight override for render_str.\"\"\"\n    markup: Optional[bool] = None\n    \"\"\"Enable markup when rendering strings.\"\"\"\n    height: Optional[int] = None\n\n    @property\n    def ascii_only(self) -> bool:\n        \"\"\"Check if renderables should use ascii only.\"\"\"\n        return not self.encoding.startswith(\"utf\")\n\n    def copy(self) -> \"ConsoleOptions\":\n        \"\"\"Return a copy of the options.\n\n        Returns:\n            ConsoleOptions: a copy of self.\n        \"\"\"\n        options: ConsoleOptions = ConsoleOptions.__new__(ConsoleOptions)\n        options.__dict__ = self.__dict__.copy()\n        return options\n\n    def update(\n        self,\n        *,\n        width: Union[int, NoChange] = NO_CHANGE,\n        min_width: Union[int, NoChange] = NO_CHANGE,\n        max_width: Union[int, NoChange] = NO_CHANGE,\n        justify: Union[Optional[JustifyMethod], NoChange] = NO_CHANGE,\n        overflow: Union[Optional[OverflowMethod], NoChange] = NO_CHANGE,\n        no_wrap: Union[Optional[bool], NoChange] = NO_CHANGE,\n        highlight: Union[Optional[bool], NoChange] = NO_CHANGE,\n        markup: Union[Optional[bool], NoChange] = NO_CHANGE,\n        height: Union[Optional[int], NoChange] = NO_CHANGE,\n    ) -> \"ConsoleOptions\":\n        \"\"\"Update values, return a copy.\"\"\"\n        options = self.copy()\n        if not isinstance(width, NoChange):\n            options.min_width = options.max_width = max(0, width)\n        if not isinstance(min_width, NoChange):\n            options.min_width = min_width\n        if not isinstance(max_width, NoChange):\n            options.max_width = max_width\n        if not isinstance(justify, NoChange):\n            options.justify = justify\n        if not isinstance(overflow, NoChange):\n            options.overflow = overflow\n        if not isinstance(no_wrap, NoChange):\n            options.no_wrap = no_wrap\n        if not isinstance(highlight, NoChange):\n            options.highlight = highlight\n        if not isinstance(markup, NoChange):\n            options.markup = markup\n        if not isinstance(height, NoChange):\n            if height is not None:\n                options.max_height = height\n            options.height = None if height is None else max(0, height)\n        return options\n\n    def update_width(self, width: int) -> \"ConsoleOptions\":\n        \"\"\"Update just the width, return a copy.\n\n        Args:\n            width (int): New width (sets both min_width and max_width)\n\n        Returns:\n            ~ConsoleOptions: New console options instance.\n        \"\"\"\n        options = self.copy()\n        options.min_width = options.max_width = max(0, width)\n        return options\n\n    def update_height(self, height: int) -> \"ConsoleOptions\":\n        \"\"\"Update the height, and return a copy.\n\n        Args:\n            height (int): New height\n\n        Returns:\n            ~ConsoleOptions: New Console options instance.\n        \"\"\"\n        options = self.copy()\n        options.max_height = options.height = height\n        return options\n\n    def reset_height(self) -> \"ConsoleOptions\":\n        \"\"\"Return a copy of the options with height set to ``None``.\n\n        Returns:\n            ~ConsoleOptions: New console options instance.\n        \"\"\"\n        options = self.copy()\n        options.height = None\n        return options\n\n    def update_dimensions(self, width: int, height: int) -> \"ConsoleOptions\":\n        \"\"\"Update the width and height, and return a copy.\n\n        Args:\n            width (int): New width (sets both min_width and max_width).\n            height (int): New height.\n\n        Returns:\n            ~ConsoleOptions: New console options instance.\n        \"\"\"\n        options = self.copy()\n        options.min_width = options.max_width = max(0, width)\n        options.height = options.max_height = height\n        return options\n\n\n@runtime_checkable\nclass RichCast(Protocol):\n    \"\"\"An object that may be 'cast' to a console renderable.\"\"\"\n\n    def __rich__(\n        self,\n    ) -> Union[\"ConsoleRenderable\", \"RichCast\", str]:  # pragma: no cover\n        ...\n\n\n@runtime_checkable\nclass ConsoleRenderable(Protocol):\n    \"\"\"An object that supports the console protocol.\"\"\"\n\n    def __rich_console__(\n        self, console: \"Console\", options: \"ConsoleOptions\"\n    ) -> \"RenderResult\":  # pragma: no cover\n        ...\n\n\n# A type that may be rendered by Console.\nRenderableType = Union[ConsoleRenderable, RichCast, str]\n\"\"\"A string or any object that may be rendered by Rich.\"\"\"\n\n# The result of calling a __rich_console__ method.\nRenderResult = Iterable[Union[RenderableType, Segment]]\n\n_null_highlighter = NullHighlighter()\n\n\nclass CaptureError(Exception):\n    \"\"\"An error in the Capture context manager.\"\"\"\n\n\nclass NewLine:\n    \"\"\"A renderable to generate new line(s)\"\"\"\n\n    def __init__(self, count: int = 1) -> None:\n        self.count = count\n\n    def __rich_console__(\n        self, console: \"Console\", options: \"ConsoleOptions\"\n    ) -> Iterable[Segment]:\n        yield Segment(\"\\n\" * self.count)\n\n\nclass ScreenUpdate:\n    \"\"\"Render a list of lines at a given offset.\"\"\"\n\n    def __init__(self, lines: List[List[Segment]], x: int, y: int) -> None:\n        self._lines = lines\n        self.x = x\n        self.y = y\n\n    def __rich_console__(\n        self, console: \"Console\", options: ConsoleOptions\n    ) -> RenderResult:\n        x = self.x\n        move_to = Control.move_to\n        for offset, line in enumerate(self._lines, self.y):\n            yield move_to(x, offset)\n            yield from line\n\n\nclass Capture:\n    \"\"\"Context manager to capture the result of printing to the console.\n    See :meth:`~rich.console.Console.capture` for how to use.\n\n    Args:\n        console (Console): A console instance to capture output.\n    \"\"\"\n\n    def __init__(self, console: \"Console\") -> None:\n        self._console = console\n        self._result: Optional[str] = None\n\n    def __enter__(self) -> \"Capture\":\n        self._console.begin_capture()\n        return self\n\n    def __exit__(\n        self,\n        exc_type: Optional[Type[BaseException]],\n        exc_val: Optional[BaseException],\n        exc_tb: Optional[TracebackType],\n    ) -> None:\n        self._result = self._console.end_capture()\n\n    def get(self) -> str:\n        \"\"\"Get the result of the capture.\"\"\"\n        if self._result is None:\n            raise CaptureError(\n                \"Capture result is not available until context manager exits.\"\n            )\n        return self._result\n\n\nclass ThemeContext:\n    \"\"\"A context manager to use a temporary theme. See :meth:`~rich.console.Console.use_theme` for usage.\"\"\"\n\n    def __init__(self, console: \"Console\", theme: Theme, inherit: bool = True) -> None:\n        self.console = console\n        self.theme = theme\n        self.inherit = inherit\n\n    def __enter__(self) -> \"ThemeContext\":\n        self.console.push_theme(self.theme)\n        return self\n\n    def __exit__(\n        self,\n        exc_type: Optional[Type[BaseException]],\n        exc_val: Optional[BaseException],\n        exc_tb: Optional[TracebackType],\n    ) -> None:\n        self.console.pop_theme()\n\n\nclass PagerContext:\n    \"\"\"A context manager that 'pages' content. See :meth:`~rich.console.Console.pager` for usage.\"\"\"\n\n    def __init__(\n        self,\n        console: \"Console\",\n        pager: Optional[Pager] = None,\n        styles: bool = False,\n        links: bool = False,\n    ) -> None:\n        self._console = console\n        self.pager = SystemPager() if pager is None else pager\n        self.styles = styles\n        self.links = links\n\n    def __enter__(self) -> \"PagerContext\":\n        self._console._enter_buffer()\n        return self\n\n    def __exit__(\n        self,\n        exc_type: Optional[Type[BaseException]],\n        exc_val: Optional[BaseException],\n        exc_tb: Optional[TracebackType],\n    ) -> None:\n        if exc_type is None:\n            with self._console._lock:\n                buffer: List[Segment] = self._console._buffer[:]\n                del self._console._buffer[:]\n                segments: Iterable[Segment] = buffer\n                if not self.styles:\n                    segments = Segment.strip_styles(segments)\n                elif not self.links:\n                    segments = Segment.strip_links(segments)\n                content = self._console._render_buffer(segments)\n            self.pager.show(content)\n        self._console._exit_buffer()\n\n\nclass ScreenContext:\n    \"\"\"A context manager that enables an alternative screen. See :meth:`~rich.console.Console.screen` for usage.\"\"\"\n\n    def __init__(\n        self, console: \"Console\", hide_cursor: bool, style: StyleType = \"\"\n    ) -> None:\n        self.console = console\n        self.hide_cursor = hide_cursor\n        self.screen = Screen(style=style)\n        self._changed = False\n\n    def update(\n        self, *renderables: RenderableType, style: Optional[StyleType] = None\n    ) -> None:\n        \"\"\"Update the screen.\n\n        Args:\n            renderable (RenderableType, optional): Optional renderable to replace current renderable,\n                or None for no change. Defaults to None.\n            style: (Style, optional): Replacement style, or None for no change. Defaults to None.\n        \"\"\"\n        if renderables:\n            self.screen.renderable = (\n                Group(*renderables) if len(renderables) > 1 else renderables[0]\n            )\n        if style is not None:\n            self.screen.style = style\n        self.console.print(self.screen, end=\"\")\n\n    def __enter__(self) -> \"ScreenContext\":\n        self._changed = self.console.set_alt_screen(True)\n        if self._changed and self.hide_cursor:\n            self.console.show_cursor(False)\n        return self\n\n    def __exit__(\n        self,\n        exc_type: Optional[Type[BaseException]],\n        exc_val: Optional[BaseException],\n        exc_tb: Optional[TracebackType],\n    ) -> None:\n        if self._changed:\n            self.console.set_alt_screen(False)\n            if self.hide_cursor:\n                self.console.show_cursor(True)\n\n\nclass Group:\n    \"\"\"Takes a group of renderables and returns a renderable object that renders the group.\n\n    Args:\n        renderables (Iterable[RenderableType]): An iterable of renderable objects.\n        fit (bool, optional): Fit dimension of group to contents, or fill available space. Defaults to True.\n    \"\"\"\n\n    def __init__(self, *renderables: \"RenderableType\", fit: bool = True) -> None:\n        self._renderables = renderables\n        self.fit = fit\n        self._render: Optional[List[RenderableType]] = None\n\n    @property\n    def renderables(self) -> List[\"RenderableType\"]:\n        if self._render is None:\n            self._render = list(self._renderables)\n        return self._render\n\n    def __rich_measure__(\n        self, console: \"Console\", options: \"ConsoleOptions\"\n    ) -> \"Measurement\":\n        if self.fit:\n            return measure_renderables(console, options, self.renderables)\n        else:\n            return Measurement(options.max_width, options.max_width)\n\n    def __rich_console__(\n        self, console: \"Console\", options: \"ConsoleOptions\"\n    ) -> RenderResult:\n        yield from self.renderables\n\n\ndef group(fit: bool = True) -> Callable[..., Callable[..., Group]]:\n    \"\"\"A decorator that turns an iterable of renderables in to a group.\n\n    Args:\n        fit (bool, optional): Fit dimension of group to contents, or fill available space. Defaults to True.\n    \"\"\"\n\n    def decorator(\n        method: Callable[..., Iterable[RenderableType]],\n    ) -> Callable[..., Group]:\n        \"\"\"Convert a method that returns an iterable of renderables in to a Group.\"\"\"\n\n        @wraps(method)\n        def _replace(*args: Any, **kwargs: Any) -> Group:\n            renderables = method(*args, **kwargs)\n            return Group(*renderables, fit=fit)\n\n        return _replace\n\n    return decorator\n\n\ndef _is_jupyter() -> bool:  # pragma: no cover\n    \"\"\"Check if we're running in a Jupyter notebook.\"\"\"\n    try:\n        get_ipython  # type: ignore[name-defined]\n    except NameError:\n        return False\n    ipython = get_ipython()  # type: ignore[name-defined]\n    shell = ipython.__class__.__name__\n    if (\n        \"google.colab\" in str(ipython.__class__)\n        or os.getenv(\"DATABRICKS_RUNTIME_VERSION\")\n        or shell == \"ZMQInteractiveShell\"\n    ):\n        return True  # Jupyter notebook or qtconsole\n    elif shell == \"TerminalInteractiveShell\":\n        return False  # Terminal running IPython\n    else:\n        return False  # Other type (?)\n\n\nCOLOR_SYSTEMS = {\n    \"standard\": ColorSystem.STANDARD,\n    \"256\": ColorSystem.EIGHT_BIT,\n    \"truecolor\": ColorSystem.TRUECOLOR,\n    \"windows\": ColorSystem.WINDOWS,\n}\n\n_COLOR_SYSTEMS_NAMES = {system: name for name, system in COLOR_SYSTEMS.items()}\n\n\n@dataclass\nclass ConsoleThreadLocals(threading.local):\n    \"\"\"Thread local values for Console context.\"\"\"\n\n    theme_stack: ThemeStack\n    buffer: List[Segment] = field(default_factory=list)\n    buffer_index: int = 0\n\n\nclass RenderHook(ABC):\n    \"\"\"Provides hooks in to the render process.\"\"\"\n\n    @abstractmethod\n    def process_renderables(\n        self, renderables: List[ConsoleRenderable]\n    ) -> List[ConsoleRenderable]:\n        \"\"\"Called with a list of objects to render.\n\n        This method can return a new list of renderables, or modify and return the same list.\n\n        Args:\n            renderables (List[ConsoleRenderable]): A number of renderable objects.\n\n        Returns:\n            List[ConsoleRenderable]: A replacement list of renderables.\n        \"\"\"\n\n\n_windows_console_features: Optional[\"WindowsConsoleFeatures\"] = None\n\n\ndef get_windows_console_features() -> \"WindowsConsoleFeatures\":  # pragma: no cover\n    global _windows_console_features\n    if _windows_console_features is not None:\n        return _windows_console_features\n    from ._windows import get_windows_console_features\n\n    _windows_console_features = get_windows_console_features()\n    return _windows_console_features\n\n\ndef detect_legacy_windows() -> bool:\n    \"\"\"Detect legacy Windows.\"\"\"\n    return WINDOWS and not get_windows_console_features().vt\n\n\nclass Console:\n    \"\"\"A high level console interface.\n\n    Args:\n        color_system (str, optional): The color system supported by your terminal,\n            either ``\"standard\"``, ``\"256\"`` or ``\"truecolor\"``. Leave as ``\"auto\"`` to autodetect.\n        force_terminal (Optional[bool], optional): Enable/disable terminal control codes, or None to auto-detect terminal. Defaults to None.\n        force_jupyter (Optional[bool], optional): Enable/disable Jupyter rendering, or None to auto-detect Jupyter. Defaults to None.\n        force_interactive (Optional[bool], optional): Enable/disable interactive mode, or None to auto detect. Defaults to None.\n        soft_wrap (Optional[bool], optional): Set soft wrap default on print method. Defaults to False.\n        theme (Theme, optional): An optional style theme object, or ``None`` for default theme.\n        stderr (bool, optional): Use stderr rather than stdout if ``file`` is not specified. Defaults to False.\n        file (IO, optional): A file object where the console should write to. Defaults to stdout.\n        quiet (bool, Optional): Boolean to suppress all output. Defaults to False.\n        width (int, optional): The width of the terminal. Leave as default to auto-detect width.\n        height (int, optional): The height of the terminal. Leave as default to auto-detect height.\n        style (StyleType, optional): Style to apply to all output, or None for no style. Defaults to None.\n        no_color (Optional[bool], optional): Enabled no color mode, or None to auto detect. Defaults to None.\n        tab_size (int, optional): Number of spaces used to replace a tab character. Defaults to 8.\n        record (bool, optional): Boolean to enable recording of terminal output,\n            required to call :meth:`export_html`, :meth:`export_svg`, and :meth:`export_text`. Defaults to False.\n        markup (bool, optional): Boolean to enable :ref:`console_markup`. Defaults to True.\n        emoji (bool, optional): Enable emoji code. Defaults to True.\n        emoji_variant (str, optional): Optional emoji variant, either \"text\" or \"emoji\". Defaults to None.\n        highlight (bool, optional): Enable automatic highlighting. Defaults to True.\n        log_time (bool, optional): Boolean to enable logging of time by :meth:`log` methods. Defaults to True.\n        log_path (bool, optional): Boolean to enable the logging of the caller by :meth:`log`. Defaults to True.\n        log_time_format (Union[str, TimeFormatterCallable], optional): If ``log_time`` is enabled, either string for strftime or callable that formats the time. Defaults to \"[%X] \".\n        highlighter (HighlighterType, optional): Default highlighter.\n        legacy_windows (bool, optional): Enable legacy Windows mode, or ``None`` to auto detect. Defaults to ``None``.\n        safe_box (bool, optional): Restrict box options that don't render on legacy Windows.\n        get_datetime (Callable[[], datetime], optional): Callable that gets the current time as a datetime.datetime object (used by Console.log),\n            or None for datetime.now.\n        get_time (Callable[[], time], optional): Callable that gets the current time in seconds, default uses time.monotonic.\n    \"\"\"\n\n    _environ: Mapping[str, str] = os.environ\n\n    def __init__(\n        self,\n        *,\n        color_system: Optional[\n            Literal[\"auto\", \"standard\", \"256\", \"truecolor\", \"windows\"]\n        ] = \"auto\",\n        force_terminal: Optional[bool] = None,\n        force_jupyter: Optional[bool] = None,\n        force_interactive: Optional[bool] = None,\n        soft_wrap: bool = False,\n        theme: Optional[Theme] = None,\n        stderr: bool = False,\n        file: Optional[IO[str]] = None,\n        quiet: bool = False,\n        width: Optional[int] = None,\n        height: Optional[int] = None,\n        style: Optional[StyleType] = None,\n        no_color: Optional[bool] = None,\n        tab_size: int = 8,\n        record: bool = False,\n        markup: bool = True,\n        emoji: bool = True,\n        emoji_variant: Optional[EmojiVariant] = None,\n        highlight: bool = True,\n        log_time: bool = True,\n        log_path: bool = True,\n        log_time_format: Union[str, FormatTimeCallable] = \"[%X]\",\n        highlighter: Optional[\"HighlighterType\"] = ReprHighlighter(),\n        legacy_windows: Optional[bool] = None,\n        safe_box: bool = True,\n        get_datetime: Optional[Callable[[], datetime]] = None,\n        get_time: Optional[Callable[[], float]] = None,\n        _environ: Optional[Mapping[str, str]] = None,\n    ):\n        # Copy of os.environ allows us to replace it for testing\n        if _environ is not None:\n            self._environ = _environ\n\n        self.is_jupyter = _is_jupyter() if force_jupyter is None else force_jupyter\n        if self.is_jupyter:\n            if width is None:\n                jupyter_columns = self._environ.get(\"JUPYTER_COLUMNS\")\n                if jupyter_columns is not None and jupyter_columns.isdigit():\n                    width = int(jupyter_columns)\n                else:\n                    width = JUPYTER_DEFAULT_COLUMNS\n            if height is None:\n                jupyter_lines = self._environ.get(\"JUPYTER_LINES\")\n                if jupyter_lines is not None and jupyter_lines.isdigit():\n                    height = int(jupyter_lines)\n                else:\n                    height = JUPYTER_DEFAULT_LINES\n\n        self.tab_size = tab_size\n        self.record = record\n        self._markup = markup\n        self._emoji = emoji\n        self._emoji_variant: Optional[EmojiVariant] = emoji_variant\n        self._highlight = highlight\n        self.legacy_windows: bool = (\n            (detect_legacy_windows() and not self.is_jupyter)\n            if legacy_windows is None\n            else legacy_windows\n        )\n\n        if width is None:\n            columns = self._environ.get(\"COLUMNS\")\n            if columns is not None and columns.isdigit():\n                width = int(columns) - self.legacy_windows\n        if height is None:\n            lines = self._environ.get(\"LINES\")\n            if lines is not None and lines.isdigit():\n                height = int(lines)\n\n        self.soft_wrap = soft_wrap\n        self._width = width\n        self._height = height\n\n        self._color_system: Optional[ColorSystem]\n\n        self._force_terminal = None\n        if force_terminal is not None:\n            self._force_terminal = force_terminal\n\n        self._file = file\n        self.quiet = quiet\n        self.stderr = stderr\n\n        if color_system is None:\n            self._color_system = None\n        elif color_system == \"auto\":\n            self._color_system = self._detect_color_system()\n        else:\n            self._color_system = COLOR_SYSTEMS[color_system]\n\n        self._lock = threading.RLock()\n        self._log_render = LogRender(\n            show_time=log_time,\n            show_path=log_path,\n            time_format=log_time_format,\n        )\n        self.highlighter: HighlighterType = highlighter or _null_highlighter\n        self.safe_box = safe_box\n        self.get_datetime = get_datetime or datetime.now\n        self.get_time = get_time or monotonic\n        self.style = style\n        self.no_color = (\n            no_color\n            if no_color is not None\n            else self._environ.get(\"NO_COLOR\", \"\") != \"\"\n        )\n        self.is_interactive = (\n            (self.is_terminal and not self.is_dumb_terminal)\n            if force_interactive is None\n            else force_interactive\n        )\n\n        self._record_buffer_lock = threading.RLock()\n        self._thread_locals = ConsoleThreadLocals(\n            theme_stack=ThemeStack(themes.DEFAULT if theme is None else theme)\n        )\n        self._record_buffer: List[Segment] = []\n        self._render_hooks: List[RenderHook] = []\n        self._live: Optional[\"Live\"] = None\n        self._is_alt_screen = False\n\n    def __repr__(self) -> str:\n        return f\"<console width={self.width} {self._color_system!s}>\"\n\n    @property\n    def file(self) -> IO[str]:\n        \"\"\"Get the file object to write to.\"\"\"\n        file = self._file or (sys.stderr if self.stderr else sys.stdout)\n        file = getattr(file, \"rich_proxied_file\", file)\n        if file is None:\n            file = NULL_FILE\n        return file\n\n    @file.setter\n    def file(self, new_file: IO[str]) -> None:\n        \"\"\"Set a new file object.\"\"\"\n        self._file = new_file\n\n    @property\n    def _buffer(self) -> List[Segment]:\n        \"\"\"Get a thread local buffer.\"\"\"\n        return self._thread_locals.buffer\n\n    @property\n    def _buffer_index(self) -> int:\n        \"\"\"Get a thread local buffer.\"\"\"\n        return self._thread_locals.buffer_index\n\n    @_buffer_index.setter\n    def _buffer_index(self, value: int) -> None:\n        self._thread_locals.buffer_index = value\n\n    @property\n    def _theme_stack(self) -> ThemeStack:\n        \"\"\"Get the thread local theme stack.\"\"\"\n        return self._thread_locals.theme_stack\n\n    def _detect_color_system(self) -> Optional[ColorSystem]:\n        \"\"\"Detect color system from env vars.\"\"\"\n        if self.is_jupyter:\n            return ColorSystem.TRUECOLOR\n        if not self.is_terminal or self.is_dumb_terminal:\n            return None\n        if WINDOWS:  # pragma: no cover\n            if self.legacy_windows:  # pragma: no cover\n                return ColorSystem.WINDOWS\n            windows_console_features = get_windows_console_features()\n            return (\n                ColorSystem.TRUECOLOR\n                if windows_console_features.truecolor\n                else ColorSystem.EIGHT_BIT\n            )\n        else:\n            color_term = self._environ.get(\"COLORTERM\", \"\").strip().lower()\n            if color_term in (\"truecolor\", \"24bit\"):\n                return ColorSystem.TRUECOLOR\n            term = self._environ.get(\"TERM\", \"\").strip().lower()\n            _term_name, _hyphen, colors = term.rpartition(\"-\")\n            color_system = _TERM_COLORS.get(colors, ColorSystem.STANDARD)\n            return color_system\n\n    def _enter_buffer(self) -> None:\n        \"\"\"Enter in to a buffer context, and buffer all output.\"\"\"\n        self._buffer_index += 1\n\n    def _exit_buffer(self) -> None:\n        \"\"\"Leave buffer context, and render content if required.\"\"\"\n        self._buffer_index -= 1\n        self._check_buffer()\n\n    def set_live(self, live: \"Live\") -> None:\n        \"\"\"Set Live instance. Used by Live context manager.\n\n        Args:\n            live (Live): Live instance using this Console.\n\n        Raises:\n            errors.LiveError: If this Console has a Live context currently active.\n        \"\"\"\n        with self._lock:\n            if self._live is not None:\n                raise errors.LiveError(\"Only one live display may be active at once\")\n            self._live = live\n\n    def clear_live(self) -> None:\n        \"\"\"Clear the Live instance.\"\"\"\n        with self._lock:\n            self._live = None\n\n    def push_render_hook(self, hook: RenderHook) -> None:\n        \"\"\"Add a new render hook to the stack.\n\n        Args:\n            hook (RenderHook): Render hook instance.\n        \"\"\"\n        with self._lock:\n            self._render_hooks.append(hook)\n\n    def pop_render_hook(self) -> None:\n        \"\"\"Pop the last renderhook from the stack.\"\"\"\n        with self._lock:\n            self._render_hooks.pop()\n\n    def __enter__(self) -> \"Console\":\n        \"\"\"Own context manager to enter buffer context.\"\"\"\n        self._enter_buffer()\n        return self\n\n    def __exit__(self, exc_type: Any, exc_value: Any, traceback: Any) -> None:\n        \"\"\"Exit buffer context.\"\"\"\n        self._exit_buffer()\n\n    def begin_capture(self) -> None:\n        \"\"\"Begin capturing console output. Call :meth:`end_capture` to exit capture mode and return output.\"\"\"\n        self._enter_buffer()\n\n    def end_capture(self) -> str:\n        \"\"\"End capture mode and return captured string.\n\n        Returns:\n            str: Console output.\n        \"\"\"\n        render_result = self._render_buffer(self._buffer)\n        del self._buffer[:]\n        self._exit_buffer()\n        return render_result\n\n    def push_theme(self, theme: Theme, *, inherit: bool = True) -> None:\n        \"\"\"Push a new theme on to the top of the stack, replacing the styles from the previous theme.\n        Generally speaking, you should call :meth:`~rich.console.Console.use_theme` to get a context manager, rather\n        than calling this method directly.\n\n        Args:\n            theme (Theme): A theme instance.\n            inherit (bool, optional): Inherit existing styles. Defaults to True.\n        \"\"\"\n        self._theme_stack.push_theme(theme, inherit=inherit)\n\n    def pop_theme(self) -> None:\n        \"\"\"Remove theme from top of stack, restoring previous theme.\"\"\"\n        self._theme_stack.pop_theme()\n\n    def use_theme(self, theme: Theme, *, inherit: bool = True) -> ThemeContext:\n        \"\"\"Use a different theme for the duration of the context manager.\n\n        Args:\n            theme (Theme): Theme instance to user.\n            inherit (bool, optional): Inherit existing console styles. Defaults to True.\n\n        Returns:\n            ThemeContext: [description]\n        \"\"\"\n        return ThemeContext(self, theme, inherit)\n\n    @property\n    def color_system(self) -> Optional[str]:\n        \"\"\"Get color system string.\n\n        Returns:\n            Optional[str]: \"standard\", \"256\" or \"truecolor\".\n        \"\"\"\n\n        if self._color_system is not None:\n            return _COLOR_SYSTEMS_NAMES[self._color_system]\n        else:\n            return None\n\n    @property\n    def encoding(self) -> str:\n        \"\"\"Get the encoding of the console file, e.g. ``\"utf-8\"``.\n\n        Returns:\n            str: A standard encoding string.\n        \"\"\"\n        return (getattr(self.file, \"encoding\", \"utf-8\") or \"utf-8\").lower()\n\n    @property\n    def is_terminal(self) -> bool:\n        \"\"\"Check if the console is writing to a terminal.\n\n        Returns:\n            bool: True if the console writing to a device capable of\n                understanding escape sequences, otherwise False.\n        \"\"\"\n        # If dev has explicitly set this value, return it\n        if self._force_terminal is not None:\n            return self._force_terminal\n\n        # Fudge for Idle\n        if hasattr(sys.stdin, \"__module__\") and sys.stdin.__module__.startswith(\n            \"idlelib\"\n        ):\n            # Return False for Idle which claims to be a tty but can't handle ansi codes\n            return False\n\n        if self.is_jupyter:\n            # return False for Jupyter, which may have FORCE_COLOR set\n            return False\n\n        environ = self._environ\n\n        tty_compatible = environ.get(\"TTY_COMPATIBLE\", \"\")\n        # 0 indicates device is not tty compatible\n        if tty_compatible == \"0\":\n            return False\n        # 1 indicates device is tty compatible\n        if tty_compatible == \"1\":\n            return True\n\n        # https://force-color.org/\n        force_color = environ.get(\"FORCE_COLOR\")\n        if force_color is not None:\n            return force_color != \"\"\n\n        # Any other value defaults to auto detect\n        isatty: Optional[Callable[[], bool]] = getattr(self.file, \"isatty\", None)\n        try:\n            return False if isatty is None else isatty()\n        except ValueError:\n            # in some situation (at the end of a pytest run for example) isatty() can raise\n            # ValueError: I/O operation on closed file\n            # return False because we aren't in a terminal anymore\n            return False\n\n    @property\n    def is_dumb_terminal(self) -> bool:\n        \"\"\"Detect dumb terminal.\n\n        Returns:\n            bool: True if writing to a dumb terminal, otherwise False.\n\n        \"\"\"\n        _term = self._environ.get(\"TERM\", \"\")\n        is_dumb = _term.lower() in (\"dumb\", \"unknown\")\n        return self.is_terminal and is_dumb\n\n    @property\n    def options(self) -> ConsoleOptions:\n        \"\"\"Get default console options.\"\"\"\n        return ConsoleOptions(\n            max_height=self.size.height,\n            size=self.size,\n            legacy_windows=self.legacy_windows,\n            min_width=1,\n            max_width=self.width,\n            encoding=self.encoding,\n            is_terminal=self.is_terminal,\n        )\n\n    @property\n    def size(self) -> ConsoleDimensions:\n        \"\"\"Get the size of the console.\n\n        Returns:\n            ConsoleDimensions: A named tuple containing the dimensions.\n        \"\"\"\n\n        if self._width is not None and self._height is not None:\n            return ConsoleDimensions(self._width - self.legacy_windows, self._height)\n\n        if self.is_dumb_terminal:\n            return ConsoleDimensions(80, 25)\n\n        width: Optional[int] = None\n        height: Optional[int] = None\n\n        streams = _STD_STREAMS_OUTPUT if WINDOWS else _STD_STREAMS\n        for file_descriptor in streams:\n            try:\n                width, height = os.get_terminal_size(file_descriptor)\n            except (AttributeError, ValueError, OSError):  # Probably not a terminal\n                pass\n            else:\n                break\n\n        columns = self._environ.get(\"COLUMNS\")\n        if columns is not None and columns.isdigit():\n            width = int(columns)\n        lines = self._environ.get(\"LINES\")\n        if lines is not None and lines.isdigit():\n            height = int(lines)\n\n        # get_terminal_size can report 0, 0 if run from pseudo-terminal\n        width = width or 80\n        height = height or 25\n        return ConsoleDimensions(\n            width - self.legacy_windows if self._width is None else self._width,\n            height if self._height is None else self._height,\n        )\n\n    @size.setter\n    def size(self, new_size: Tuple[int, int]) -> None:\n        \"\"\"Set a new size for the terminal.\n\n        Args:\n            new_size (Tuple[int, int]): New width and height.\n        \"\"\"\n        width, height = new_size\n        self._width = width\n        self._height = height\n\n    @property\n    def width(self) -> int:\n        \"\"\"Get the width of the console.\n\n        Returns:\n            int: The width (in characters) of the console.\n        \"\"\"\n        return self.size.width\n\n    @width.setter\n    def width(self, width: int) -> None:\n        \"\"\"Set width.\n\n        Args:\n            width (int): New width.\n        \"\"\"\n        self._width = width\n\n    @property\n    def height(self) -> int:\n        \"\"\"Get the height of the console.\n\n        Returns:\n            int: The height (in lines) of the console.\n        \"\"\"\n        return self.size.height\n\n    @height.setter\n    def height(self, height: int) -> None:\n        \"\"\"Set height.\n\n        Args:\n            height (int): new height.\n        \"\"\"\n        self._height = height\n\n    def bell(self) -> None:\n        \"\"\"Play a 'bell' sound (if supported by the terminal).\"\"\"\n        self.control(Control.bell())\n\n    def capture(self) -> Capture:\n        \"\"\"A context manager to *capture* the result of print() or log() in a string,\n        rather than writing it to the console.\n\n        Example:\n            >>> from rich.console import Console\n            >>> console = Console()\n            >>> with console.capture() as capture:\n            ...     console.print(\"[bold magenta]Hello World[/]\")\n            >>> print(capture.get())\n\n        Returns:\n            Capture: Context manager with disables writing to the terminal.\n        \"\"\"\n        capture = Capture(self)\n        return capture\n\n    def pager(\n        self, pager: Optional[Pager] = None, styles: bool = False, links: bool = False\n    ) -> PagerContext:\n        \"\"\"A context manager to display anything printed within a \"pager\". The pager application\n        is defined by the system and will typically support at least pressing a key to scroll.\n\n        Args:\n            pager (Pager, optional): A pager object, or None to use :class:`~rich.pager.SystemPager`. Defaults to None.\n            styles (bool, optional): Show styles in pager. Defaults to False.\n            links (bool, optional): Show links in pager. Defaults to False.\n\n        Example:\n            >>> from rich.console import Console\n            >>> from rich.__main__ import make_test_card\n            >>> console = Console()\n            >>> with console.pager():\n                    console.print(make_test_card())\n\n        Returns:\n            PagerContext: A context manager.\n        \"\"\"\n        return PagerContext(self, pager=pager, styles=styles, links=links)\n\n    def line(self, count: int = 1) -> None:\n        \"\"\"Write new line(s).\n\n        Args:\n            count (int, optional): Number of new lines. Defaults to 1.\n        \"\"\"\n\n        assert count >= 0, \"count must be >= 0\"\n        self.print(NewLine(count))\n\n    def clear(self, home: bool = True) -> None:\n        \"\"\"Clear the screen.\n\n        Args:\n            home (bool, optional): Also move the cursor to 'home' position. Defaults to True.\n        \"\"\"\n        if home:\n            self.control(Control.clear(), Control.home())\n        else:\n            self.control(Control.clear())\n\n    def status(\n        self,\n        status: RenderableType,\n        *,\n        spinner: str = \"dots\",\n        spinner_style: StyleType = \"status.spinner\",\n        speed: float = 1.0,\n        refresh_per_second: float = 12.5,\n    ) -> \"Status\":\n        \"\"\"Display a status and spinner.\n\n        Args:\n            status (RenderableType): A status renderable (str or Text typically).\n            spinner (str, optional): Name of spinner animation (see python -m rich.spinner). Defaults to \"dots\".\n            spinner_style (StyleType, optional): Style of spinner. Defaults to \"status.spinner\".\n            speed (float, optional): Speed factor for spinner animation. Defaults to 1.0.\n            refresh_per_second (float, optional): Number of refreshes per second. Defaults to 12.5.\n\n        Returns:\n            Status: A Status object that may be used as a context manager.\n        \"\"\"\n        from .status import Status\n\n        status_renderable = Status(\n            status,\n            console=self,\n            spinner=spinner,\n            spinner_style=spinner_style,\n            speed=speed,\n            refresh_per_second=refresh_per_second,\n        )\n        return status_renderable\n\n    def show_cursor(self, show: bool = True) -> bool:\n        \"\"\"Show or hide the cursor.\n\n        Args:\n            show (bool, optional): Set visibility of the cursor.\n        \"\"\"\n        if self.is_terminal:\n            self.control(Control.show_cursor(show))\n            return True\n        return False\n\n    def set_alt_screen(self, enable: bool = True) -> bool:\n        \"\"\"Enables alternative screen mode.\n\n        Note, if you enable this mode, you should ensure that is disabled before\n        the application exits. See :meth:`~rich.Console.screen` for a context manager\n        that handles this for you.\n\n        Args:\n            enable (bool, optional): Enable (True) or disable (False) alternate screen. Defaults to True.\n\n        Returns:\n            bool: True if the control codes were written.\n\n        \"\"\"\n        changed = False\n        if self.is_terminal and not self.legacy_windows:\n            self.control(Control.alt_screen(enable))\n            changed = True\n            self._is_alt_screen = enable\n        return changed\n\n    @property\n    def is_alt_screen(self) -> bool:\n        \"\"\"Check if the alt screen was enabled.\n\n        Returns:\n            bool: True if the alt screen was enabled, otherwise False.\n        \"\"\"\n        return self._is_alt_screen\n\n    def set_window_title(self, title: str) -> bool:\n        \"\"\"Set the title of the console terminal window.\n\n        Warning: There is no means within Rich of \"resetting\" the window title to its\n        previous value, meaning the title you set will persist even after your application\n        exits.\n\n        ``fish`` shell resets the window title before and after each command by default,\n        negating this issue. Windows Terminal and command prompt will also reset the title for you.\n        Most other shells and terminals, however, do not do this.\n\n        Some terminals may require configuration changes before you can set the title.\n        Some terminals may not support setting the title at all.\n\n        Other software (including the terminal itself, the shell, custom prompts, plugins, etc.)\n        may also set the terminal window title. This could result in whatever value you write\n        using this method being overwritten.\n\n        Args:\n            title (str): The new title of the terminal window.\n\n        Returns:\n            bool: True if the control code to change the terminal title was\n                written, otherwise False. Note that a return value of True\n                does not guarantee that the window title has actually changed,\n                since the feature may be unsupported/disabled in some terminals.\n        \"\"\"\n        if self.is_terminal:\n            self.control(Control.title(title))\n            return True\n        return False\n\n    def screen(\n        self, hide_cursor: bool = True, style: Optional[StyleType] = None\n    ) -> \"ScreenContext\":\n        \"\"\"Context manager to enable and disable 'alternative screen' mode.\n\n        Args:\n            hide_cursor (bool, optional): Also hide the cursor. Defaults to False.\n            style (Style, optional): Optional style for screen. Defaults to None.\n\n        Returns:\n            ~ScreenContext: Context which enables alternate screen on enter, and disables it on exit.\n        \"\"\"\n        return ScreenContext(self, hide_cursor=hide_cursor, style=style or \"\")\n\n    def measure(\n        self, renderable: RenderableType, *, options: Optional[ConsoleOptions] = None\n    ) -> Measurement:\n        \"\"\"Measure a renderable. Returns a :class:`~rich.measure.Measurement` object which contains\n        information regarding the number of characters required to print the renderable.\n\n        Args:\n            renderable (RenderableType): Any renderable or string.\n            options (Optional[ConsoleOptions], optional): Options to use when measuring, or None\n                to use default options. Defaults to None.\n\n        Returns:\n            Measurement: A measurement of the renderable.\n        \"\"\"\n        measurement = Measurement.get(self, options or self.options, renderable)\n        return measurement\n\n    def render(\n        self, renderable: RenderableType, options: Optional[ConsoleOptions] = None\n    ) -> Iterable[Segment]:\n        \"\"\"Render an object in to an iterable of `Segment` instances.\n\n        This method contains the logic for rendering objects with the console protocol.\n        You are unlikely to need to use it directly, unless you are extending the library.\n\n        Args:\n            renderable (RenderableType): An object supporting the console protocol, or\n                an object that may be converted to a string.\n            options (ConsoleOptions, optional): An options object, or None to use self.options. Defaults to None.\n\n        Returns:\n            Iterable[Segment]: An iterable of segments that may be rendered.\n        \"\"\"\n\n        _options = options or self.options\n        if _options.max_width < 1:\n            # No space to render anything. This prevents potential recursion errors.\n            return\n        render_iterable: RenderResult\n\n        renderable = rich_cast(renderable)\n        if hasattr(renderable, \"__rich_console__\") and not isclass(renderable):\n            render_iterable = renderable.__rich_console__(self, _options)\n        elif isinstance(renderable, str):\n            text_renderable = self.render_str(\n                renderable, highlight=_options.highlight, markup=_options.markup\n            )\n            render_iterable = text_renderable.__rich_console__(self, _options)\n        else:\n            raise errors.NotRenderableError(\n                f\"Unable to render {renderable!r}; \"\n                \"A str, Segment or object with __rich_console__ method is required\"\n            )\n\n        try:\n            iter_render = iter(render_iterable)\n        except TypeError:\n            raise errors.NotRenderableError(\n                f\"object {render_iterable!r} is not renderable\"\n            )\n        _Segment = Segment\n        _options = _options.reset_height()\n        for render_output in iter_render:\n            if isinstance(render_output, _Segment):\n                yield render_output\n            else:\n                yield from self.render(render_output, _options)\n\n    def render_lines(\n        self,\n        renderable: RenderableType,\n        options: Optional[ConsoleOptions] = None,\n        *,\n        style: Optional[Style] = None,\n        pad: bool = True,\n        new_lines: bool = False,\n    ) -> List[List[Segment]]:\n        \"\"\"Render objects in to a list of lines.\n\n        The output of render_lines is useful when further formatting of rendered console text\n        is required, such as the Panel class which draws a border around any renderable object.\n\n        Args:\n            renderable (RenderableType): Any object renderable in the console.\n            options (Optional[ConsoleOptions], optional): Console options, or None to use self.options. Default to ``None``.\n            style (Style, optional): Optional style to apply to renderables. Defaults to ``None``.\n            pad (bool, optional): Pad lines shorter than render width. Defaults to ``True``.\n            new_lines (bool, optional): Include \"\\n\" characters at end of lines.\n\n        Returns:\n            List[List[Segment]]: A list of lines, where a line is a list of Segment objects.\n        \"\"\"\n        with self._lock:\n            render_options = options or self.options\n            _rendered = self.render(renderable, render_options)\n            if style:\n                _rendered = Segment.apply_style(_rendered, style)\n\n            render_height = render_options.height\n            if render_height is not None:\n                render_height = max(0, render_height)\n\n            lines = list(\n                islice(\n                    Segment.split_and_crop_lines(\n                        _rendered,\n                        render_options.max_width,\n                        include_new_lines=new_lines,\n                        pad=pad,\n                        style=style,\n                    ),\n                    None,\n                    render_height,\n                )\n            )\n            if render_options.height is not None:\n                extra_lines = render_options.height - len(lines)\n                if extra_lines > 0:\n                    pad_line = [\n                        (\n                            [\n                                Segment(\" \" * render_options.max_width, style),\n                                Segment(\"\\n\"),\n                            ]\n                            if new_lines\n                            else [Segment(\" \" * render_options.max_width, style)]\n                        )\n                    ]\n                    lines.extend(pad_line * extra_lines)\n\n            return lines\n\n    def render_str(\n        self,\n        text: str,\n        *,\n        style: Union[str, Style] = \"\",\n        justify: Optional[JustifyMethod] = None,\n        overflow: Optional[OverflowMethod] = None,\n        emoji: Optional[bool] = None,\n        markup: Optional[bool] = None,\n        highlight: Optional[bool] = None,\n        highlighter: Optional[HighlighterType] = None,\n    ) -> \"Text\":\n        \"\"\"Convert a string to a Text instance. This is called automatically if\n        you print or log a string.\n\n        Args:\n            text (str): Text to render.\n            style (Union[str, Style], optional): Style to apply to rendered text.\n            justify (str, optional): Justify method: \"default\", \"left\", \"center\", \"full\", or \"right\". Defaults to ``None``.\n            overflow (str, optional): Overflow method: \"crop\", \"fold\", or \"ellipsis\". Defaults to ``None``.\n            emoji (Optional[bool], optional): Enable emoji, or ``None`` to use Console default.\n            markup (Optional[bool], optional): Enable markup, or ``None`` to use Console default.\n            highlight (Optional[bool], optional): Enable highlighting, or ``None`` to use Console default.\n            highlighter (HighlighterType, optional): Optional highlighter to apply.\n        Returns:\n            ConsoleRenderable: Renderable object.\n\n        \"\"\"\n        emoji_enabled = emoji or (emoji is None and self._emoji)\n        markup_enabled = markup or (markup is None and self._markup)\n        highlight_enabled = highlight or (highlight is None and self._highlight)\n\n        if markup_enabled:\n            rich_text = render_markup(\n                text,\n                style=style,\n                emoji=emoji_enabled,\n                emoji_variant=self._emoji_variant,\n            )\n            rich_text.justify = justify\n            rich_text.overflow = overflow\n        else:\n            rich_text = Text(\n                (\n                    _emoji_replace(text, default_variant=self._emoji_variant)\n                    if emoji_enabled\n                    else text\n                ),\n                justify=justify,\n                overflow=overflow,\n                style=style,\n            )\n\n        _highlighter = (highlighter or self.highlighter) if highlight_enabled else None\n        if _highlighter is not None:\n            highlight_text = _highlighter(str(rich_text))\n            highlight_text.copy_styles(rich_text)\n            return highlight_text\n\n        return rich_text\n\n    def get_style(\n        self, name: Union[str, Style], *, default: Optional[Union[Style, str]] = None\n    ) -> Style:\n        \"\"\"Get a Style instance by its theme name or parse a definition.\n\n        Args:\n            name (str): The name of a style or a style definition.\n\n        Returns:\n            Style: A Style object.\n\n        Raises:\n            MissingStyle: If no style could be parsed from name.\n\n        \"\"\"\n        if isinstance(name, Style):\n            return name\n\n        try:\n            style = self._theme_stack.get(name)\n            if style is None:\n                style = Style.parse(name)\n            return style.copy() if style.link else style\n        except errors.StyleSyntaxError as error:\n            if default is not None:\n                return self.get_style(default)\n            raise errors.MissingStyle(\n                f\"Failed to get style {name!r}; {error}\"\n            ) from None\n\n    def _collect_renderables(\n        self,\n        objects: Iterable[Any],\n        sep: str,\n        end: str,\n        *,\n        justify: Optional[JustifyMethod] = None,\n        emoji: Optional[bool] = None,\n        markup: Optional[bool] = None,\n        highlight: Optional[bool] = None,\n    ) -> List[ConsoleRenderable]:\n        \"\"\"Combine a number of renderables and text into one renderable.\n\n        Args:\n            objects (Iterable[Any]): Anything that Rich can render.\n            sep (str): String to write between print data.\n            end (str): String to write at end of print data.\n            justify (str, optional): One of \"left\", \"right\", \"center\", or \"full\". Defaults to ``None``.\n            emoji (Optional[bool], optional): Enable emoji code, or ``None`` to use console default.\n            markup (Optional[bool], optional): Enable markup, or ``None`` to use console default.\n            highlight (Optional[bool], optional): Enable automatic highlighting, or ``None`` to use console default.\n\n        Returns:\n            List[ConsoleRenderable]: A list of things to render.\n        \"\"\"\n        renderables: List[ConsoleRenderable] = []\n        _append = renderables.append\n        text: List[Text] = []\n        append_text = text.append\n\n        append = _append\n        if justify in (\"left\", \"center\", \"right\"):\n\n            def align_append(renderable: RenderableType) -> None:\n                _append(Align(renderable, cast(AlignMethod, justify)))\n\n            append = align_append\n\n        _highlighter: HighlighterType = _null_highlighter\n        if highlight or (highlight is None and self._highlight):\n            _highlighter = self.highlighter\n\n        def check_text() -> None:\n            if text:\n                sep_text = Text(sep, justify=justify, end=end)\n                append(sep_text.join(text))\n                text.clear()\n\n        for renderable in objects:\n            renderable = rich_cast(renderable)\n            if isinstance(renderable, str):\n                append_text(\n                    self.render_str(\n                        renderable,\n                        emoji=emoji,\n                        markup=markup,\n                        highlight=highlight,\n                        highlighter=_highlighter,\n                    )\n                )\n            elif isinstance(renderable, Text):\n                append_text(renderable)\n            elif isinstance(renderable, ConsoleRenderable):\n                check_text()\n                append(renderable)\n            elif is_expandable(renderable):\n                check_text()\n                append(Pretty(renderable, highlighter=_highlighter))\n            else:\n                append_text(_highlighter(str(renderable)))\n\n        check_text()\n\n        if self.style is not None:\n            style = self.get_style(self.style)\n            renderables = [Styled(renderable, style) for renderable in renderables]\n\n        return renderables\n\n    def rule(\n        self,\n        title: TextType = \"\",\n        *,\n        characters: str = \"\",\n        style: Union[str, Style] = \"rule.line\",\n        align: AlignMethod = \"center\",\n    ) -> None:\n        \"\"\"Draw a line with optional centered title.\n\n        Args:\n            title (str, optional): Text to render over the rule. Defaults to \"\".\n            characters (str, optional): Character(s) to form the line. Defaults to \"\".\n            style (str, optional): Style of line. Defaults to \"rule.line\".\n            align (str, optional): How to align the title, one of \"left\", \"center\", or \"right\". Defaults to \"center\".\n        \"\"\"\n        from .rule import Rule\n\n        rule = Rule(title=title, characters=characters, style=style, align=align)\n        self.print(rule)\n\n    def control(self, *control: Control) -> None:\n        \"\"\"Insert non-printing control codes.\n\n        Args:\n            control_codes (str): Control codes, such as those that may move the cursor.\n        \"\"\"\n        if not self.is_dumb_terminal:\n            with self:\n                self._buffer.extend(_control.segment for _control in control)\n\n    def out(\n        self,\n        *objects: Any,\n        sep: str = \" \",\n        end: str = \"\\n\",\n        style: Optional[Union[str, Style]] = None,\n        highlight: Optional[bool] = None,\n    ) -> None:\n        \"\"\"Output to the terminal. This is a low-level way of writing to the terminal which unlike\n        :meth:`~rich.console.Console.print` won't pretty print, wrap text, or apply markup, but will\n        optionally apply highlighting and a basic style.\n\n        Args:\n            sep (str, optional): String to write between print data. Defaults to \" \".\n            end (str, optional): String to write at end of print data. Defaults to \"\\\\\\\\n\".\n            style (Union[str, Style], optional): A style to apply to output. Defaults to None.\n            highlight (Optional[bool], optional): Enable automatic highlighting, or ``None`` to use\n                console default. Defaults to ``None``.\n        \"\"\"\n        raw_output: str = sep.join(str(_object) for _object in objects)\n        self.print(\n            raw_output,\n            style=style,\n            highlight=highlight,\n            emoji=False,\n            markup=False,\n            no_wrap=True,\n            overflow=\"ignore\",\n            crop=False,\n            end=end,\n        )\n\n    def print(\n        self,\n        *objects: Any,\n        sep: str = \" \",\n        end: str = \"\\n\",\n        style: Optional[Union[str, Style]] = None,\n        justify: Optional[JustifyMethod] = None,\n        overflow: Optional[OverflowMethod] = None,\n        no_wrap: Optional[bool] = None,\n        emoji: Optional[bool] = None,\n        markup: Optional[bool] = None,\n        highlight: Optional[bool] = None,\n        width: Optional[int] = None,\n        height: Optional[int] = None,\n        crop: bool = True,\n        soft_wrap: Optional[bool] = None,\n        new_line_start: bool = False,\n    ) -> None:\n        \"\"\"Print to the console.\n\n        Args:\n            objects (positional args): Objects to log to the terminal.\n            sep (str, optional): String to write between print data. Defaults to \" \".\n            end (str, optional): String to write at end of print data. Defaults to \"\\\\\\\\n\".\n            style (Union[str, Style], optional): A style to apply to output. Defaults to None.\n            justify (str, optional): Justify method: \"default\", \"left\", \"right\", \"center\", or \"full\". Defaults to ``None``.\n            overflow (str, optional): Overflow method: \"ignore\", \"crop\", \"fold\", or \"ellipsis\". Defaults to None.\n            no_wrap (Optional[bool], optional): Disable word wrapping. Defaults to None.\n            emoji (Optional[bool], optional): Enable emoji code, or ``None`` to use console default. Defaults to ``None``.\n            markup (Optional[bool], optional): Enable markup, or ``None`` to use console default. Defaults to ``None``.\n            highlight (Optional[bool], optional): Enable automatic highlighting, or ``None`` to use console default. Defaults to ``None``.\n            width (Optional[int], optional): Width of output, or ``None`` to auto-detect. Defaults to ``None``.\n            crop (Optional[bool], optional): Crop output to width of terminal. Defaults to True.\n            soft_wrap (bool, optional): Enable soft wrap mode which disables word wrapping and cropping of text or ``None`` for\n                Console default. Defaults to ``None``.\n            new_line_start (bool, False): Insert a new line at the start if the output contains more than one line. Defaults to ``False``.\n        \"\"\"\n        if not objects:\n            objects = (NewLine(),)\n\n        if soft_wrap is None:\n            soft_wrap = self.soft_wrap\n        if soft_wrap:\n            if no_wrap is None:\n                no_wrap = True\n            if overflow is None:\n                overflow = \"ignore\"\n            crop = False\n        render_hooks = self._render_hooks[:]\n        with self:\n            renderables = self._collect_renderables(\n                objects,\n                sep,\n                end,\n                justify=justify,\n                emoji=emoji,\n                markup=markup,\n                highlight=highlight,\n            )\n            for hook in render_hooks:\n                renderables = hook.process_renderables(renderables)\n            render_options = self.options.update(\n                justify=justify,\n                overflow=overflow,\n                width=min(width, self.width) if width is not None else NO_CHANGE,\n                height=height,\n                no_wrap=no_wrap,\n                markup=markup,\n                highlight=highlight,\n            )\n\n            new_segments: List[Segment] = []\n            extend = new_segments.extend\n            render = self.render\n            if style is None:\n                for renderable in renderables:\n                    extend(render(renderable, render_options))\n            else:\n                for renderable in renderables:\n                    extend(\n                        Segment.apply_style(\n                            render(renderable, render_options), self.get_style(style)\n                        )\n                    )\n            if new_line_start:\n                if (\n                    len(\"\".join(segment.text for segment in new_segments).splitlines())\n                    > 1\n                ):\n                    new_segments.insert(0, Segment.line())\n            if crop:\n                buffer_extend = self._buffer.extend\n                for line in Segment.split_and_crop_lines(\n                    new_segments, self.width, pad=False\n                ):\n                    buffer_extend(line)\n            else:\n                self._buffer.extend(new_segments)\n\n    def print_json(\n        self,\n        json: Optional[str] = None,\n        *,\n        data: Any = None,\n        indent: Union[None, int, str] = 2,\n        highlight: bool = True,\n        skip_keys: bool = False,\n        ensure_ascii: bool = False,\n        check_circular: bool = True,\n        allow_nan: bool = True,\n        default: Optional[Callable[[Any], Any]] = None,\n        sort_keys: bool = False,\n    ) -> None:\n        \"\"\"Pretty prints JSON. Output will be valid JSON.\n\n        Args:\n            json (Optional[str]): A string containing JSON.\n            data (Any): If json is not supplied, then encode this data.\n            indent (Union[None, int, str], optional): Number of spaces to indent. Defaults to 2.\n            highlight (bool, optional): Enable highlighting of output: Defaults to True.\n            skip_keys (bool, optional): Skip keys not of a basic type. Defaults to False.\n            ensure_ascii (bool, optional): Escape all non-ascii characters. Defaults to False.\n            check_circular (bool, optional): Check for circular references. Defaults to True.\n            allow_nan (bool, optional): Allow NaN and Infinity values. Defaults to True.\n            default (Callable, optional): A callable that converts values that can not be encoded\n                in to something that can be JSON encoded. Defaults to None.\n            sort_keys (bool, optional): Sort dictionary keys. Defaults to False.\n        \"\"\"\n        from rich.json import JSON\n\n        if json is None:\n            json_renderable = JSON.from_data(\n                data,\n                indent=indent,\n                highlight=highlight,\n                skip_keys=skip_keys,\n                ensure_ascii=ensure_ascii,\n                check_circular=check_circular,\n                allow_nan=allow_nan,\n                default=default,\n                sort_keys=sort_keys,\n            )\n        else:\n            if not isinstance(json, str):\n                raise TypeError(\n                    f\"json must be str. Did you mean print_json(data={json!r}) ?\"\n                )\n            json_renderable = JSON(\n                json,\n                indent=indent,\n                highlight=highlight,\n                skip_keys=skip_keys,\n                ensure_ascii=ensure_ascii,\n                check_circular=check_circular,\n                allow_nan=allow_nan,\n                default=default,\n                sort_keys=sort_keys,\n            )\n        self.print(json_renderable, soft_wrap=True)\n\n    def update_screen(\n        self,\n        renderable: RenderableType,\n        *,\n        region: Optional[Region] = None,\n        options: Optional[ConsoleOptions] = None,\n    ) -> None:\n        \"\"\"Update the screen at a given offset.\n\n        Args:\n            renderable (RenderableType): A Rich renderable.\n            region (Region, optional): Region of screen to update, or None for entire screen. Defaults to None.\n            x (int, optional): x offset. Defaults to 0.\n            y (int, optional): y offset. Defaults to 0.\n\n        Raises:\n            errors.NoAltScreen: If the Console isn't in alt screen mode.\n\n        \"\"\"\n        if not self.is_alt_screen:\n            raise errors.NoAltScreen(\"Alt screen must be enabled to call update_screen\")\n        render_options = options or self.options\n        if region is None:\n            x = y = 0\n            render_options = render_options.update_dimensions(\n                render_options.max_width, render_options.height or self.height\n            )\n        else:\n            x, y, width, height = region\n            render_options = render_options.update_dimensions(width, height)\n\n        lines = self.render_lines(renderable, options=render_options)\n        self.update_screen_lines(lines, x, y)\n\n    def update_screen_lines(\n        self, lines: List[List[Segment]], x: int = 0, y: int = 0\n    ) -> None:\n        \"\"\"Update lines of the screen at a given offset.\n\n        Args:\n            lines (List[List[Segment]]): Rendered lines (as produced by :meth:`~rich.Console.render_lines`).\n            x (int, optional): x offset (column no). Defaults to 0.\n            y (int, optional): y offset (column no). Defaults to 0.\n\n        Raises:\n            errors.NoAltScreen: If the Console isn't in alt screen mode.\n        \"\"\"\n        if not self.is_alt_screen:\n            raise errors.NoAltScreen(\"Alt screen must be enabled to call update_screen\")\n        screen_update = ScreenUpdate(lines, x, y)\n        segments = self.render(screen_update)\n        self._buffer.extend(segments)\n        self._check_buffer()\n\n    def print_exception(\n        self,\n        *,\n        width: Optional[int] = 100,\n        extra_lines: int = 3,\n        theme: Optional[str] = None,\n        word_wrap: bool = False,\n        show_locals: bool = False,\n        suppress: Iterable[Union[str, ModuleType]] = (),\n        max_frames: int = 100,\n    ) -> None:\n        \"\"\"Prints a rich render of the last exception and traceback.\n\n        Args:\n            width (Optional[int], optional): Number of characters used to render code. Defaults to 100.\n            extra_lines (int, optional): Additional lines of code to render. Defaults to 3.\n            theme (str, optional): Override pygments theme used in traceback\n            word_wrap (bool, optional): Enable word wrapping of long lines. Defaults to False.\n            show_locals (bool, optional): Enable display of local variables. Defaults to False.\n            suppress (Iterable[Union[str, ModuleType]]): Optional sequence of modules or paths to exclude from traceback.\n            max_frames (int): Maximum number of frames to show in a traceback, 0 for no maximum. Defaults to 100.\n        \"\"\"\n        from .traceback import Traceback\n\n        traceback = Traceback(\n            width=width,\n            extra_lines=extra_lines,\n            theme=theme,\n            word_wrap=word_wrap,\n            show_locals=show_locals,\n            suppress=suppress,\n            max_frames=max_frames,\n        )\n        self.print(traceback)\n\n    @staticmethod\n    def _caller_frame_info(\n        offset: int,\n        currentframe: Callable[[], Optional[FrameType]] = inspect.currentframe,\n    ) -> Tuple[str, int, Dict[str, Any]]:\n        \"\"\"Get caller frame information.\n\n        Args:\n            offset (int): the caller offset within the current frame stack.\n            currentframe (Callable[[], Optional[FrameType]], optional): the callable to use to\n                retrieve the current frame. Defaults to ``inspect.currentframe``.\n\n        Returns:\n            Tuple[str, int, Dict[str, Any]]: A tuple containing the filename, the line number and\n                the dictionary of local variables associated with the caller frame.\n\n        Raises:\n            RuntimeError: If the stack offset is invalid.\n        \"\"\"\n        # Ignore the frame of this local helper\n        offset += 1\n\n        frame = currentframe()\n        if frame is not None:\n            # Use the faster currentframe where implemented\n            while offset and frame is not None:\n                frame = frame.f_back\n                offset -= 1\n            assert frame is not None\n            return frame.f_code.co_filename, frame.f_lineno, frame.f_locals\n        else:\n            # Fallback to the slower stack\n            frame_info = inspect.stack()[offset]\n            return frame_info.filename, frame_info.lineno, frame_info.frame.f_locals\n\n    def log(\n        self,\n        *objects: Any,\n        sep: str = \" \",\n        end: str = \"\\n\",\n        style: Optional[Union[str, Style]] = None,\n        justify: Optional[JustifyMethod] = None,\n        emoji: Optional[bool] = None,\n        markup: Optional[bool] = None,\n        highlight: Optional[bool] = None,\n        log_locals: bool = False,\n        _stack_offset: int = 1,\n    ) -> None:\n        \"\"\"Log rich content to the terminal.\n\n        Args:\n            objects (positional args): Objects to log to the terminal.\n            sep (str, optional): String to write between print data. Defaults to \" \".\n            end (str, optional): String to write at end of print data. Defaults to \"\\\\\\\\n\".\n            style (Union[str, Style], optional): A style to apply to output. Defaults to None.\n            justify (str, optional): One of \"left\", \"right\", \"center\", or \"full\". Defaults to ``None``.\n            emoji (Optional[bool], optional): Enable emoji code, or ``None`` to use console default. Defaults to None.\n            markup (Optional[bool], optional): Enable markup, or ``None`` to use console default. Defaults to None.\n            highlight (Optional[bool], optional): Enable automatic highlighting, or ``None`` to use console default. Defaults to None.\n            log_locals (bool, optional): Boolean to enable logging of locals where ``log()``\n                was called. Defaults to False.\n            _stack_offset (int, optional): Offset of caller from end of call stack. Defaults to 1.\n        \"\"\"\n        if not objects:\n            objects = (NewLine(),)\n\n        render_hooks = self._render_hooks[:]\n\n        with self:\n            renderables = self._collect_renderables(\n                objects,\n                sep,\n                end,\n                justify=justify,\n                emoji=emoji,\n                markup=markup,\n                highlight=highlight,\n            )\n            if style is not None:\n                renderables = [Styled(renderable, style) for renderable in renderables]\n\n            filename, line_no, locals = self._caller_frame_info(_stack_offset)\n            link_path = None if filename.startswith(\"<\") else os.path.abspath(filename)\n            path = filename.rpartition(os.sep)[-1]\n            if log_locals:\n                locals_map = {\n                    key: value\n                    for key, value in locals.items()\n                    if not key.startswith(\"__\")\n                }\n                renderables.append(render_scope(locals_map, title=\"[i]locals\"))\n\n            renderables = [\n                self._log_render(\n                    self,\n                    renderables,\n                    log_time=self.get_datetime(),\n                    path=path,\n                    line_no=line_no,\n                    link_path=link_path,\n                )\n            ]\n            for hook in render_hooks:\n                renderables = hook.process_renderables(renderables)\n            new_segments: List[Segment] = []\n            extend = new_segments.extend\n            render = self.render\n            render_options = self.options\n            for renderable in renderables:\n                extend(render(renderable, render_options))\n            buffer_extend = self._buffer.extend\n            for line in Segment.split_and_crop_lines(\n                new_segments, self.width, pad=False\n            ):\n                buffer_extend(line)\n\n    def on_broken_pipe(self) -> None:\n        \"\"\"This function is called when a `BrokenPipeError` is raised.\n\n        This can occur when piping Textual output in Linux and macOS.\n        The default implementation is to exit the app, but you could implement\n        this method in a subclass to change the behavior.\n\n        See https://docs.python.org/3/library/signal.html#note-on-sigpipe for details.\n        \"\"\"\n        self.quiet = True\n        devnull = os.open(os.devnull, os.O_WRONLY)\n        os.dup2(devnull, sys.stdout.fileno())\n        raise SystemExit(1)\n\n    def _check_buffer(self) -> None:\n        \"\"\"Check if the buffer may be rendered. Render it if it can (e.g. Console.quiet is False)\n        Rendering is supported on Windows, Unix and Jupyter environments. For\n        legacy Windows consoles, the win32 API is called directly.\n        This method will also record what it renders if recording is enabled via Console.record.\n        \"\"\"\n        if self.quiet:\n            del self._buffer[:]\n            return\n\n        try:\n            self._write_buffer()\n        except BrokenPipeError:\n            self.on_broken_pipe()\n\n    def _write_buffer(self) -> None:\n        \"\"\"Write the buffer to the output file.\"\"\"\n\n        with self._lock:\n            if self.record and not self._buffer_index:\n                with self._record_buffer_lock:\n                    self._record_buffer.extend(self._buffer[:])\n\n            if self._buffer_index == 0:\n                if self.is_jupyter:  # pragma: no cover\n                    from .jupyter import display\n\n                    display(self._buffer, self._render_buffer(self._buffer[:]))\n                    del self._buffer[:]\n                else:\n                    if WINDOWS:\n                        use_legacy_windows_render = False\n                        if self.legacy_windows:\n                            fileno = get_fileno(self.file)\n                            if fileno is not None:\n                                use_legacy_windows_render = (\n                                    fileno in _STD_STREAMS_OUTPUT\n                                )\n\n                        if use_legacy_windows_render:\n                            from rich._win32_console import LegacyWindowsTerm\n                            from rich._windows_renderer import legacy_windows_render\n\n                            buffer = self._buffer[:]\n                            if self.no_color and self._color_system:\n                                buffer = list(Segment.remove_color(buffer))\n\n                            legacy_windows_render(buffer, LegacyWindowsTerm(self.file))\n                        else:\n                            # Either a non-std stream on legacy Windows, or modern Windows.\n                            text = self._render_buffer(self._buffer[:])\n                            # https://bugs.python.org/issue37871\n                            # https://github.com/python/cpython/issues/82052\n                            # We need to avoid writing more than 32Kb in a single write, due to the above bug\n                            write = self.file.write\n                            # Worse case scenario, every character is 4 bytes of utf-8\n                            MAX_WRITE = 32 * 1024 // 4\n                            try:\n                                if len(text) <= MAX_WRITE:\n                                    write(text)\n                                else:\n                                    batch: List[str] = []\n                                    batch_append = batch.append\n                                    size = 0\n                                    for line in text.splitlines(True):\n                                        if size + len(line) > MAX_WRITE and batch:\n                                            write(\"\".join(batch))\n                                            batch.clear()\n                                            size = 0\n                                        batch_append(line)\n                                        size += len(line)\n                                    if batch:\n                                        write(\"\".join(batch))\n                                        batch.clear()\n                            except UnicodeEncodeError as error:\n                                error.reason = f\"{error.reason}\\n*** You may need to add PYTHONIOENCODING=utf-8 to your environment ***\"\n                                raise\n                    else:\n                        text = self._render_buffer(self._buffer[:])\n                        try:\n                            self.file.write(text)\n                        except UnicodeEncodeError as error:\n                            error.reason = f\"{error.reason}\\n*** You may need to add PYTHONIOENCODING=utf-8 to your environment ***\"\n                            raise\n\n                    self.file.flush()\n                    del self._buffer[:]\n\n    def _render_buffer(self, buffer: Iterable[Segment]) -> str:\n        \"\"\"Render buffered output, and clear buffer.\"\"\"\n        output: List[str] = []\n        append = output.append\n        color_system = self._color_system\n        legacy_windows = self.legacy_windows\n        not_terminal = not self.is_terminal\n        if self.no_color and color_system:\n            buffer = Segment.remove_color(buffer)\n        for text, style, control in buffer:\n            if style:\n                append(\n                    style.render(\n                        text,\n                        color_system=color_system,\n                        legacy_windows=legacy_windows,\n                    )\n                )\n            elif not (not_terminal and control):\n                append(text)\n\n        rendered = \"\".join(output)\n        return rendered\n\n    def input(\n        self,\n        prompt: TextType = \"\",\n        *,\n        markup: bool = True,\n        emoji: bool = True,\n        password: bool = False,\n        stream: Optional[TextIO] = None,\n    ) -> str:\n        \"\"\"Displays a prompt and waits for input from the user. The prompt may contain color / style.\n\n        It works in the same way as Python's builtin :func:`input` function and provides elaborate line editing and history features if Python's builtin :mod:`readline` module is previously loaded.\n\n        Args:\n            prompt (Union[str, Text]): Text to render in the prompt.\n            markup (bool, optional): Enable console markup (requires a str prompt). Defaults to True.\n            emoji (bool, optional): Enable emoji (requires a str prompt). Defaults to True.\n            password: (bool, optional): Hide typed text. Defaults to False.\n            stream: (TextIO, optional): Optional file to read input from (rather than stdin). Defaults to None.\n\n        Returns:\n            str: Text read from stdin.\n        \"\"\"\n        if prompt:\n            self.print(prompt, markup=markup, emoji=emoji, end=\"\")\n        if password:\n            result = getpass(\"\", stream=stream)\n        else:\n            if stream:\n                result = stream.readline()\n            else:\n                result = input()\n        return result\n\n    def export_text(self, *, clear: bool = True, styles: bool = False) -> str:\n        \"\"\"Generate text from console contents (requires record=True argument in constructor).\n\n        Args:\n            clear (bool, optional): Clear record buffer after exporting. Defaults to ``True``.\n            styles (bool, optional): If ``True``, ansi escape codes will be included. ``False`` for plain text.\n                Defaults to ``False``.\n\n        Returns:\n            str: String containing console contents.\n\n        \"\"\"\n        assert (\n            self.record\n        ), \"To export console contents set record=True in the constructor or instance\"\n\n        with self._record_buffer_lock:\n            if styles:\n                text = \"\".join(\n                    (style.render(text) if style else text)\n                    for text, style, _ in self._record_buffer\n                )\n            else:\n                text = \"\".join(\n                    segment.text\n                    for segment in self._record_buffer\n                    if not segment.control\n                )\n            if clear:\n                del self._record_buffer[:]\n        return text\n\n    def save_text(self, path: str, *, clear: bool = True, styles: bool = False) -> None:\n        \"\"\"Generate text from console and save to a given location (requires record=True argument in constructor).\n\n        Args:\n            path (str): Path to write text files.\n            clear (bool, optional): Clear record buffer after exporting. Defaults to ``True``.\n            styles (bool, optional): If ``True``, ansi style codes will be included. ``False`` for plain text.\n                Defaults to ``False``.\n\n        \"\"\"\n        text = self.export_text(clear=clear, styles=styles)\n        with open(path, \"w\", encoding=\"utf-8\") as write_file:\n            write_file.write(text)\n\n    def export_html(\n        self,\n        *,\n        theme: Optional[TerminalTheme] = None,\n        clear: bool = True,\n        code_format: Optional[str] = None,\n        inline_styles: bool = False,\n    ) -> str:\n        \"\"\"Generate HTML from console contents (requires record=True argument in constructor).\n\n        Args:\n            theme (TerminalTheme, optional): TerminalTheme object containing console colors.\n            clear (bool, optional): Clear record buffer after exporting. Defaults to ``True``.\n            code_format (str, optional): Format string to render HTML. In addition to '{foreground}',\n                '{background}', and '{code}', should contain '{stylesheet}' if inline_styles is ``False``.\n            inline_styles (bool, optional): If ``True`` styles will be inlined in to spans, which makes files\n                larger but easier to cut and paste markup. If ``False``, styles will be embedded in a style tag.\n                Defaults to False.\n\n        Returns:\n            str: String containing console contents as HTML.\n        \"\"\"\n        assert (\n            self.record\n        ), \"To export console contents set record=True in the constructor or instance\"\n        fragments: List[str] = []\n        append = fragments.append\n        _theme = theme or DEFAULT_TERMINAL_THEME\n        stylesheet = \"\"\n\n        render_code_format = CONSOLE_HTML_FORMAT if code_format is None else code_format\n\n        with self._record_buffer_lock:\n            if inline_styles:\n                for text, style, _ in Segment.filter_control(\n                    Segment.simplify(self._record_buffer)\n                ):\n                    text = escape(text)\n                    if style:\n                        rule = style.get_html_style(_theme)\n                        if style.link:\n                            text = f'<a href=\"{style.link}\">{text}</a>'\n                        text = f'<span style=\"{rule}\">{text}</span>' if rule else text\n                    append(text)\n            else:\n                styles: Dict[str, int] = {}\n                for text, style, _ in Segment.filter_control(\n                    Segment.simplify(self._record_buffer)\n                ):\n                    text = escape(text)\n                    if style:\n                        rule = style.get_html_style(_theme)\n                        style_number = styles.setdefault(rule, len(styles) + 1)\n                        if style.link:\n                            text = f'<a class=\"r{style_number}\" href=\"{style.link}\">{text}</a>'\n                        else:\n                            text = f'<span class=\"r{style_number}\">{text}</span>'\n                    append(text)\n                stylesheet_rules: List[str] = []\n                stylesheet_append = stylesheet_rules.append\n                for style_rule, style_number in styles.items():\n                    if style_rule:\n                        stylesheet_append(f\".r{style_number} {{{style_rule}}}\")\n                stylesheet = \"\\n\".join(stylesheet_rules)\n\n            rendered_code = render_code_format.format(\n                code=\"\".join(fragments),\n                stylesheet=stylesheet,\n                foreground=_theme.foreground_color.hex,\n                background=_theme.background_color.hex,\n            )\n            if clear:\n                del self._record_buffer[:]\n        return rendered_code\n\n    def save_html(\n        self,\n        path: str,\n        *,\n        theme: Optional[TerminalTheme] = None,\n        clear: bool = True,\n        code_format: str = CONSOLE_HTML_FORMAT,\n        inline_styles: bool = False,\n    ) -> None:\n        \"\"\"Generate HTML from console contents and write to a file (requires record=True argument in constructor).\n\n        Args:\n            path (str): Path to write html file.\n            theme (TerminalTheme, optional): TerminalTheme object containing console colors.\n            clear (bool, optional): Clear record buffer after exporting. Defaults to ``True``.\n            code_format (str, optional): Format string to render HTML. In addition to '{foreground}',\n                '{background}', and '{code}', should contain '{stylesheet}' if inline_styles is ``False``.\n            inline_styles (bool, optional): If ``True`` styles will be inlined in to spans, which makes files\n                larger but easier to cut and paste markup. If ``False``, styles will be embedded in a style tag.\n                Defaults to False.\n\n        \"\"\"\n        html = self.export_html(\n            theme=theme,\n            clear=clear,\n            code_format=code_format,\n            inline_styles=inline_styles,\n        )\n        with open(path, \"w\", encoding=\"utf-8\") as write_file:\n            write_file.write(html)\n\n    def export_svg(\n        self,\n        *,\n        title: str = \"Rich\",\n        theme: Optional[TerminalTheme] = None,\n        clear: bool = True,\n        code_format: str = CONSOLE_SVG_FORMAT,\n        font_aspect_ratio: float = 0.61,\n        unique_id: Optional[str] = None,\n    ) -> str:\n        \"\"\"\n        Generate an SVG from the console contents (requires record=True in Console constructor).\n\n        Args:\n            title (str, optional): The title of the tab in the output image\n            theme (TerminalTheme, optional): The ``TerminalTheme`` object to use to style the terminal\n            clear (bool, optional): Clear record buffer after exporting. Defaults to ``True``\n            code_format (str, optional): Format string used to generate the SVG. Rich will inject a number of variables\n                into the string in order to form the final SVG output. The default template used and the variables\n                injected by Rich can be found by inspecting the ``console.CONSOLE_SVG_FORMAT`` variable.\n            font_aspect_ratio (float, optional): The width to height ratio of the font used in the ``code_format``\n                string. Defaults to 0.61, which is the width to height ratio of Fira Code (the default font).\n                If you aren't specifying a different font inside ``code_format``, you probably don't need this.\n            unique_id (str, optional): unique id that is used as the prefix for various elements (CSS styles, node\n                ids). If not set, this defaults to a computed value based on the recorded content.\n        \"\"\"\n\n        from rich.cells import cell_len\n\n        style_cache: Dict[Style, str] = {}\n\n        def get_svg_style(style: Style) -> str:\n            \"\"\"Convert a Style to CSS rules for SVG.\"\"\"\n            if style in style_cache:\n                return style_cache[style]\n            css_rules = []\n            color = (\n                _theme.foreground_color\n                if (style.color is None or style.color.is_default)\n                else style.color.get_truecolor(_theme)\n            )\n            bgcolor = (\n                _theme.background_color\n                if (style.bgcolor is None or style.bgcolor.is_default)\n                else style.bgcolor.get_truecolor(_theme)\n            )\n            if style.reverse:\n                color, bgcolor = bgcolor, color\n            if style.dim:\n                color = blend_rgb(color, bgcolor, 0.4)\n            css_rules.append(f\"fill: {color.hex}\")\n            if style.bold:\n                css_rules.append(\"font-weight: bold\")\n            if style.italic:\n                css_rules.append(\"font-style: italic;\")\n            if style.underline:\n                css_rules.append(\"text-decoration: underline;\")\n            if style.strike:\n                css_rules.append(\"text-decoration: line-through;\")\n\n            css = \";\".join(css_rules)\n            style_cache[style] = css\n            return css\n\n        _theme = theme or SVG_EXPORT_THEME\n\n        width = self.width\n        char_height = 20\n        char_width = char_height * font_aspect_ratio\n        line_height = char_height * 1.22\n\n        margin_top = 1\n        margin_right = 1\n        margin_bottom = 1\n        margin_left = 1\n\n        padding_top = 40\n        padding_right = 8\n        padding_bottom = 8\n        padding_left = 8\n\n        padding_width = padding_left + padding_right\n        padding_height = padding_top + padding_bottom\n        margin_width = margin_left + margin_right\n        margin_height = margin_top + margin_bottom\n\n        text_backgrounds: List[str] = []\n        text_group: List[str] = []\n        classes: Dict[str, int] = {}\n        style_no = 1\n\n        def escape_text(text: str) -> str:\n            \"\"\"HTML escape text and replace spaces with nbsp.\"\"\"\n            return escape(text).replace(\" \", \"&#160;\")\n\n        def make_tag(\n            name: str, content: Optional[str] = None, **attribs: object\n        ) -> str:\n            \"\"\"Make a tag from name, content, and attributes.\"\"\"\n\n            def stringify(value: object) -> str:\n                if isinstance(value, (float)):\n                    return format(value, \"g\")\n                return str(value)\n\n            tag_attribs = \" \".join(\n                f'{k.lstrip(\"_\").replace(\"_\", \"-\")}=\"{stringify(v)}\"'\n                for k, v in attribs.items()\n            )\n            return (\n                f\"<{name} {tag_attribs}>{content}</{name}>\"\n                if content\n                else f\"<{name} {tag_attribs}/>\"\n            )\n\n        with self._record_buffer_lock:\n            segments = list(Segment.filter_control(self._record_buffer))\n            if clear:\n                self._record_buffer.clear()\n\n        if unique_id is None:\n            unique_id = \"terminal-\" + str(\n                zlib.adler32(\n                    (\"\".join(repr(segment) for segment in segments)).encode(\n                        \"utf-8\",\n                        \"ignore\",\n                    )\n                    + title.encode(\"utf-8\", \"ignore\")\n                )\n            )\n        y = 0\n        for y, line in enumerate(Segment.split_and_crop_lines(segments, length=width)):\n            x = 0\n            for text, style, _control in line:\n                style = style or Style()\n                rules = get_svg_style(style)\n                if rules not in classes:\n                    classes[rules] = style_no\n                    style_no += 1\n                class_name = f\"r{classes[rules]}\"\n\n                if style.reverse:\n                    has_background = True\n                    background = (\n                        _theme.foreground_color.hex\n                        if style.color is None\n                        else style.color.get_truecolor(_theme).hex\n                    )\n                else:\n                    bgcolor = style.bgcolor\n                    has_background = bgcolor is not None and not bgcolor.is_default\n                    background = (\n                        _theme.background_color.hex\n                        if style.bgcolor is None\n                        else style.bgcolor.get_truecolor(_theme).hex\n                    )\n\n                text_length = cell_len(text)\n                if has_background:\n                    text_backgrounds.append(\n                        make_tag(\n                            \"rect\",\n                            fill=background,\n                            x=x * char_width,\n                            y=y * line_height + 1.5,\n                            width=char_width * text_length,\n                            height=line_height + 0.25,\n                            shape_rendering=\"crispEdges\",\n                        )\n                    )\n\n                if text != \" \" * len(text):\n                    text_group.append(\n                        make_tag(\n                            \"text\",\n                            escape_text(text),\n                            _class=f\"{unique_id}-{class_name}\",\n                            x=x * char_width,\n                            y=y * line_height + char_height,\n                            textLength=char_width * len(text),\n                            clip_path=f\"url(#{unique_id}-line-{y})\",\n                        )\n                    )\n                x += cell_len(text)\n\n        line_offsets = [line_no * line_height + 1.5 for line_no in range(y)]\n        lines = \"\\n\".join(\n            f\"\"\"<clipPath id=\"{unique_id}-line-{line_no}\">\n    {make_tag(\"rect\", x=0, y=offset, width=char_width * width, height=line_height + 0.25)}\n            </clipPath>\"\"\"\n            for line_no, offset in enumerate(line_offsets)\n        )\n\n        styles = \"\\n\".join(\n            f\".{unique_id}-r{rule_no} {{ {css} }}\" for css, rule_no in classes.items()\n        )\n        backgrounds = \"\".join(text_backgrounds)\n        matrix = \"\".join(text_group)\n\n        terminal_width = ceil(width * char_width + padding_width)\n        terminal_height = (y + 1) * line_height + padding_height\n        chrome = make_tag(\n            \"rect\",\n            fill=_theme.background_color.hex,\n            stroke=\"rgba(255,255,255,0.35)\",\n            stroke_width=\"1\",\n            x=margin_left,\n            y=margin_top,\n            width=terminal_width,\n            height=terminal_height,\n            rx=8,\n        )\n\n        title_color = _theme.foreground_color.hex\n        if title:\n            chrome += make_tag(\n                \"text\",\n                escape_text(title),\n                _class=f\"{unique_id}-title\",\n                fill=title_color,\n                text_anchor=\"middle\",\n                x=terminal_width // 2,\n                y=margin_top + char_height + 6,\n            )\n        chrome += f\"\"\"\n            <g transform=\"translate(26,22)\">\n            <circle cx=\"0\" cy=\"0\" r=\"7\" fill=\"#ff5f57\"/>\n            <circle cx=\"22\" cy=\"0\" r=\"7\" fill=\"#febc2e\"/>\n            <circle cx=\"44\" cy=\"0\" r=\"7\" fill=\"#28c840\"/>\n            </g>\n        \"\"\"\n\n        svg = code_format.format(\n            unique_id=unique_id,\n            char_width=char_width,\n            char_height=char_height,\n            line_height=line_height,\n            terminal_width=char_width * width - 1,\n            terminal_height=(y + 1) * line_height - 1,\n            width=terminal_width + margin_width,\n            height=terminal_height + margin_height,\n            terminal_x=margin_left + padding_left,\n            terminal_y=margin_top + padding_top,\n            styles=styles,\n            chrome=chrome,\n            backgrounds=backgrounds,\n            matrix=matrix,\n            lines=lines,\n        )\n        return svg\n\n    def save_svg(\n        self,\n        path: str,\n        *,\n        title: str = \"Rich\",\n        theme: Optional[TerminalTheme] = None,\n        clear: bool = True,\n        code_format: str = CONSOLE_SVG_FORMAT,\n        font_aspect_ratio: float = 0.61,\n        unique_id: Optional[str] = None,\n    ) -> None:\n        \"\"\"Generate an SVG file from the console contents (requires record=True in Console constructor).\n\n        Args:\n            path (str): The path to write the SVG to.\n            title (str, optional): The title of the tab in the output image\n            theme (TerminalTheme, optional): The ``TerminalTheme`` object to use to style the terminal\n            clear (bool, optional): Clear record buffer after exporting. Defaults to ``True``\n            code_format (str, optional): Format string used to generate the SVG. Rich will inject a number of variables\n                into the string in order to form the final SVG output. The default template used and the variables\n                injected by Rich can be found by inspecting the ``console.CONSOLE_SVG_FORMAT`` variable.\n            font_aspect_ratio (float, optional): The width to height ratio of the font used in the ``code_format``\n                string. Defaults to 0.61, which is the width to height ratio of Fira Code (the default font).\n                If you aren't specifying a different font inside ``code_format``, you probably don't need this.\n            unique_id (str, optional): unique id that is used as the prefix for various elements (CSS styles, node\n                ids). If not set, this defaults to a computed value based on the recorded content.\n        \"\"\"\n        svg = self.export_svg(\n            title=title,\n            theme=theme,\n            clear=clear,\n            code_format=code_format,\n            font_aspect_ratio=font_aspect_ratio,\n            unique_id=unique_id,\n        )\n        with open(path, \"w\", encoding=\"utf-8\") as write_file:\n            write_file.write(svg)\n\n\ndef _svg_hash(svg_main_code: str) -> str:\n    \"\"\"Returns a unique hash for the given SVG main code.\n\n    Args:\n        svg_main_code (str): The content we're going to inject in the SVG envelope.\n\n    Returns:\n        str: a hash of the given content\n    \"\"\"\n    return str(zlib.adler32(svg_main_code.encode()))\n\n\nif __name__ == \"__main__\":  # pragma: no cover\n    console = Console(record=True)\n\n    console.log(\n        \"JSONRPC [i]request[/i]\",\n        5,\n        1.3,\n        True,\n        False,\n        None,\n        {\n            \"jsonrpc\": \"2.0\",\n            \"method\": \"subtract\",\n            \"params\": {\"minuend\": 42, \"subtrahend\": 23},\n            \"id\": 3,\n        },\n    )\n\n    console.log(\"Hello, World!\", \"{'a': 1}\", repr(console))\n\n    console.print(\n        {\n            \"name\": None,\n            \"empty\": [],\n            \"quiz\": {\n                \"sport\": {\n                    \"answered\": True,\n                    \"q1\": {\n                        \"question\": \"Which one is correct team name in NBA?\",\n                        \"options\": [\n                            \"New York Bulls\",\n                            \"Los Angeles Kings\",\n                            \"Golden State Warriors\",\n                            \"Huston Rocket\",\n                        ],\n                        \"answer\": \"Huston Rocket\",\n                    },\n                },\n                \"maths\": {\n                    \"answered\": False,\n                    \"q1\": {\n                        \"question\": \"5 + 7 = ?\",\n                        \"options\": [10, 11, 12, 13],\n                        \"answer\": 12,\n                    },\n                    \"q2\": {\n                        \"question\": \"12 - 8 = ?\",\n                        \"options\": [1, 2, 3, 4],\n                        \"answer\": 4,\n                    },\n                },\n            },\n        }\n    )\n",
    "start_line": 0
  },
  {
    "file": "live_render.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "import sys\nfrom typing import Optional, Tuple\nif sys.version_info >= (3, 8):\n    from typing import Literal\nelse:\n    from typing_extensions import Literal  # pragma: no cover\nfrom ._loop import loop_last\nfrom .console import Console, ConsoleOptions, RenderableType, RenderResult\nfrom .control import Control\nfrom .segment import ControlType, Segment\nfrom .style import StyleType\nfrom .text import Text\nVerticalOverflowMethod = Literal[\"crop\", \"ellipsis\", \"visible\"]",
    "start_line": 0
  },
  {
    "file": "live_render.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "LiveRender",
    "content": "class LiveRender:\n    \"\"\"Creates a renderable that may be updated.\n\n    Args:\n        renderable (RenderableType): Any renderable object.\n        style (StyleType, optional): An optional style to apply to the renderable. Defaults to \"\".\n    \"\"\"",
    "start_line": 19
  },
  {
    "file": "live_render.py",
    "type": "method",
    "class": "LiveRender",
    "method": "__init__",
    "name": "__init__",
    "content": "class LiveRender:\n    def __init__(\n        self,\n        renderable: RenderableType,\n        style: StyleType = \"\",\n        vertical_overflow: VerticalOverflowMethod = \"ellipsis\",\n    ) -> None:\n        self.renderable = renderable\n        self.style = style\n        self.vertical_overflow = vertical_overflow\n        self._shape: Optional[Tuple[int, int]] = None",
    "start_line": 27
  },
  {
    "file": "live_render.py",
    "type": "method",
    "class": "LiveRender",
    "method": "set_renderable",
    "name": "set_renderable",
    "content": "class LiveRender:\n    def set_renderable(self, renderable: RenderableType) -> None:\n        \"\"\"Set a new renderable.\n\n        Args:\n            renderable (RenderableType): Any renderable object, including str.\n        \"\"\"\n        self.renderable = renderable",
    "start_line": 38
  },
  {
    "file": "live_render.py",
    "type": "method",
    "class": "LiveRender",
    "method": "position_cursor",
    "name": "position_cursor",
    "content": "class LiveRender:\n    def position_cursor(self) -> Control:\n        \"\"\"Get control codes to move cursor to beginning of live render.\n\n        Returns:\n            Control: A control instance that may be printed.\n        \"\"\"\n        if self._shape is not None:\n            _, height = self._shape\n            return Control(\n                ControlType.CARRIAGE_RETURN,\n                (ControlType.ERASE_IN_LINE, 2),\n                *(\n                    (\n                        (ControlType.CURSOR_UP, 1),\n                        (ControlType.ERASE_IN_LINE, 2),\n                    )\n                    * (height - 1)\n                )\n            )\n        return Control()",
    "start_line": 46
  },
  {
    "file": "live_render.py",
    "type": "method",
    "class": "LiveRender",
    "method": "restore_cursor",
    "name": "restore_cursor",
    "content": "class LiveRender:\n    def restore_cursor(self) -> Control:\n        \"\"\"Get control codes to clear the render and restore the cursor to its previous position.\n\n        Returns:\n            Control: A Control instance that may be printed.\n        \"\"\"\n        if self._shape is not None:\n            _, height = self._shape\n            return Control(\n                ControlType.CARRIAGE_RETURN,\n                *((ControlType.CURSOR_UP, 1), (ControlType.ERASE_IN_LINE, 2)) * height\n            )\n        return Control()",
    "start_line": 67
  },
  {
    "file": "live_render.py",
    "type": "method",
    "class": "LiveRender",
    "method": "__rich_console__",
    "name": "__rich_console__",
    "content": "class LiveRender:\n    def __rich_console__(\n        self, console: Console, options: ConsoleOptions\n    ) -> RenderResult:\n        renderable = self.renderable\n        style = console.get_style(self.style)\n        lines = console.render_lines(renderable, options, style=style, pad=False)\n        shape = Segment.get_shape(lines)\n\n        _, height = shape\n        if height > options.size.height:\n            if self.vertical_overflow == \"crop\":\n                lines = lines[: options.size.height]\n                shape = Segment.get_shape(lines)\n            elif self.vertical_overflow == \"ellipsis\":\n                lines = lines[: (options.size.height - 1)]\n                overflow_text = Text(\n                    \"...\",\n                    overflow=\"crop\",\n                    justify=\"center\",\n                    end=\"\",\n                    style=\"live.ellipsis\",\n                )\n                lines.append(list(console.render(overflow_text)))\n                shape = Segment.get_shape(lines)\n        self._shape = shape\n\n        new_line = Segment.line()\n        for last, line in loop_last(lines):\n            yield from line\n            if not last:\n                yield new_line",
    "start_line": 81
  },
  {
    "file": "live_render.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "import sys\nfrom typing import Optional, Tuple\n\nif sys.version_info >= (3, 8):\n    from typing import Literal\nelse:\n    from typing_extensions import Literal  # pragma: no cover\n\n\nfrom ._loop import loop_last\nfrom .console import Console, ConsoleOptions, RenderableType, RenderResult\nfrom .control import Control\nfrom .segment import ControlType, Segment\nfrom .style import StyleType\nfrom .text import Text\n\nVerticalOverflowMethod = Literal[\"crop\", \"ellipsis\", \"visible\"]\n\n\nclass LiveRender:\n    \"\"\"Creates a renderable that may be updated.\n\n    Args:\n        renderable (RenderableType): Any renderable object.\n        style (StyleType, optional): An optional style to apply to the renderable. Defaults to \"\".\n    \"\"\"\n\n    def __init__(\n        self,\n        renderable: RenderableType,\n        style: StyleType = \"\",\n        vertical_overflow: VerticalOverflowMethod = \"ellipsis\",\n    ) -> None:\n        self.renderable = renderable\n        self.style = style\n        self.vertical_overflow = vertical_overflow\n        self._shape: Optional[Tuple[int, int]] = None\n\n    def set_renderable(self, renderable: RenderableType) -> None:\n        \"\"\"Set a new renderable.\n\n        Args:\n            renderable (RenderableType): Any renderable object, including str.\n        \"\"\"\n        self.renderable = renderable\n\n    def position_cursor(self) -> Control:\n        \"\"\"Get control codes to move cursor to beginning of live render.\n\n        Returns:\n            Control: A control instance that may be printed.\n        \"\"\"\n        if self._shape is not None:\n            _, height = self._shape\n            return Control(\n                ControlType.CARRIAGE_RETURN,\n                (ControlType.ERASE_IN_LINE, 2),\n                *(\n                    (\n                        (ControlType.CURSOR_UP, 1),\n                        (ControlType.ERASE_IN_LINE, 2),\n                    )\n                    * (height - 1)\n                )\n            )\n        return Control()\n\n    def restore_cursor(self) -> Control:\n        \"\"\"Get control codes to clear the render and restore the cursor to its previous position.\n\n        Returns:\n            Control: A Control instance that may be printed.\n        \"\"\"\n        if self._shape is not None:\n            _, height = self._shape\n            return Control(\n                ControlType.CARRIAGE_RETURN,\n                *((ControlType.CURSOR_UP, 1), (ControlType.ERASE_IN_LINE, 2)) * height\n            )\n        return Control()\n\n    def __rich_console__(\n        self, console: Console, options: ConsoleOptions\n    ) -> RenderResult:\n        renderable = self.renderable\n        style = console.get_style(self.style)\n        lines = console.render_lines(renderable, options, style=style, pad=False)\n        shape = Segment.get_shape(lines)\n\n        _, height = shape\n        if height > options.size.height:\n            if self.vertical_overflow == \"crop\":\n                lines = lines[: options.size.height]\n                shape = Segment.get_shape(lines)\n            elif self.vertical_overflow == \"ellipsis\":\n                lines = lines[: (options.size.height - 1)]\n                overflow_text = Text(\n                    \"...\",\n                    overflow=\"crop\",\n                    justify=\"center\",\n                    end=\"\",\n                    style=\"live.ellipsis\",\n                )\n                lines.append(list(console.render(overflow_text)))\n                shape = Segment.get_shape(lines)\n        self._shape = shape\n\n        new_line = Segment.line()\n        for last, line in loop_last(lines):\n            yield from line\n            if not last:\n                yield new_line\n",
    "start_line": 0
  },
  {
    "file": "_emoji_codes.py",
    "type": "constants",
    "class": null,
    "method": null,
    "name": "module_constants",
    "content": "EMOJI = {\n    \"1st_place_medal\": \"\",\n    \"2nd_place_medal\": \"\",\n    \"3rd_place_medal\": \"\",\n    \"ab_button_(blood_type)\": \"\",\n    \"atm_sign\": \"\",\n    \"a_button_(blood_type)\": \"\",\n    \"afghanistan\": \"\",\n    \"albania\": \"\",\n    \"algeria\": \"\",\n    \"american_samoa\": \"\",\n    \"andorra\": \"\",\n    \"angola\": \"\",\n    \"anguilla\": \"\",\n    \"antarctica\": \"\",\n    \"antigua_&_barbuda\": \"\",\n    \"aquarius\": \"\",\n    \"argentina\": \"\",\n    \"aries\": \"\",\n    \"armenia\": \"\",\n    \"aruba\": \"\",\n    \"ascension_island\": \"\",\n    \"australia\": \"\",\n    \"austria\": \"\",\n    \"azerbaijan\": \"\",\n    \"back_arrow\": \"\",\n    \"b_button_(blood_type)\": \"\",\n    \"bahamas\": \"\",\n    \"bahrain\": \"\",\n    \"bangladesh\": \"\",\n    \"barbados\": \"\",\n    \"belarus\": \"\",\n    \"belgium\": \"\",\n    \"belize\": \"\",\n    \"benin\": \"\",\n    \"bermuda\": \"\",\n    \"bhutan\": \"\",\n    \"bolivia\": \"\",\n    \"bosnia_&_herzegovina\": \"\",\n    \"botswana\": \"\",\n    \"bouvet_island\": \"\",\n    \"brazil\": \"\",\n    \"british_indian_ocean_territory\": \"\",\n    \"british_virgin_islands\": \"\",\n    \"brunei\": \"\",\n    \"bulgaria\": \"\",\n    \"burkina_faso\": \"\",\n    \"burundi\": \"\",\n    \"cl_button\": \"\",\n    \"cool_button\": \"\",\n    \"cambodia\": \"\",\n    \"cameroon\": \"\",\n    \"canada\": \"\",\n    \"canary_islands\": \"\",\n    \"cancer\": \"\",\n    \"cape_verde\": \"\",\n    \"capricorn\": \"\",\n    \"caribbean_netherlands\": \"\",\n    \"cayman_islands\": \"\",\n    \"central_african_republic\": \"\",\n    \"ceuta_&_melilla\": \"\",\n    \"chad\": \"\",\n    \"chile\": \"\",\n    \"china\": \"\",\n    \"christmas_island\": \"\",\n    \"christmas_tree\": \"\",\n    \"clipperton_island\": \"\",\n    \"cocos_(keeling)_islands\": \"\",\n    \"colombia\": \"\",\n    \"comoros\": \"\",\n    \"congo_-_brazzaville\": \"\",\n    \"congo_-_kinshasa\": \"\",\n    \"cook_islands\": \"\",\n    \"costa_rica\": \"\",\n    \"croatia\": \"\",\n    \"cuba\": \"\",\n    \"curaao\": \"\",\n    \"cyprus\": \"\",\n    \"czechia\": \"\",\n    \"cte_divoire\": \"\",\n    \"denmark\": \"\",\n    \"diego_garcia\": \"\",\n    \"djibouti\": \"\",\n    \"dominica\": \"\",\n    \"dominican_republic\": \"\",\n    \"end_arrow\": \"\",\n    \"ecuador\": \"\",\n    \"egypt\": \"\",\n    \"el_salvador\": \"\",\n    \"england\": \"\\U000e0067\\U000e0062\\U000e0065\\U000e006e\\U000e0067\\U000e007f\",\n    \"equatorial_guinea\": \"\",\n    \"eritrea\": \"\",\n    \"estonia\": \"\",\n    \"ethiopia\": \"\",\n    \"european_union\": \"\",\n    \"free_button\": \"\",\n    \"falkland_islands\": \"\",\n    \"faroe_islands\": \"\",\n    \"fiji\": \"\",\n    \"finland\": \"\",\n    \"france\": \"\",\n    \"french_guiana\": \"\",\n    \"french_polynesia\": \"\",\n    \"french_southern_territories\": \"\",\n    \"gabon\": \"\",\n    \"gambia\": \"\",\n    \"gemini\": \"\",\n    \"georgia\": \"\",\n    \"germany\": \"\",\n    \"ghana\": \"\",\n    \"gibraltar\": \"\",\n    \"greece\": \"\",\n    \"greenland\": \"\",\n    \"grenada\": \"\",\n    \"guadeloupe\": \"\",\n    \"guam\": \"\",\n    \"guatemala\": \"\",\n    \"guernsey\": \"\",\n    \"guinea\": \"\",\n    \"guinea-bissau\": \"\",\n    \"guyana\": \"\",\n    \"haiti\": \"\",\n    \"heard_&_mcdonald_islands\": \"\",\n    \"honduras\": \"\",\n    \"hong_kong_sar_china\": \"\",\n    \"hungary\": \"\",\n    \"id_button\": \"\",\n    \"iceland\": \"\",\n    \"india\": \"\",\n    \"indonesia\": \"\",\n    \"iran\": \"\",\n    \"iraq\": \"\",\n    \"ireland\": \"\",\n    \"isle_of_man\": \"\",\n    \"israel\": \"\",\n    \"italy\": \"\",\n    \"jamaica\": \"\",\n    \"japan\": \"\",\n    \"japanese_acceptable_button\": \"\",\n    \"japanese_application_button\": \"\",\n    \"japanese_bargain_button\": \"\",\n    \"japanese_castle\": \"\",\n    \"japanese_congratulations_button\": \"\",\n    \"japanese_discount_button\": \"\",\n    \"japanese_dolls\": \"\",\n    \"japanese_free_of_charge_button\": \"\",\n    \"japanese_here_button\": \"\",\n    \"japanese_monthly_amount_button\": \"\",\n    \"japanese_no_vacancy_button\": \"\",\n    \"japanese_not_free_of_charge_button\": \"\",\n    \"japanese_open_for_business_button\": \"\",\n    \"japanese_passing_grade_button\": \"\",\n    \"japanese_post_office\": \"\",\n    \"japanese_prohibited_button\": \"\",\n    \"japanese_reserved_button\": \"\",\n    \"japanese_secret_button\": \"\",\n    \"japanese_service_charge_button\": \"\",\n    \"japanese_symbol_for_beginner\": \"\",\n    \"japanese_vacancy_button\": \"\",\n    \"jersey\": \"\",\n    \"jordan\": \"\",\n    \"kazakhstan\": \"\",\n    \"kenya\": \"\",\n    \"kiribati\": \"\",\n    \"kosovo\": \"\",\n    \"kuwait\": \"\",\n    \"kyrgyzstan\": \"\",\n    \"laos\": \"\",\n    \"latvia\": \"\",\n    \"lebanon\": \"\",\n    \"leo\": \"\",\n    \"lesotho\": \"\",\n    \"liberia\": \"\",\n    \"libra\": \"\",\n    \"libya\": \"\",\n    \"liechtenstein\": \"\",\n    \"lithuania\": \"\",\n    \"luxembourg\": \"\",\n    \"macau_sar_china\": \"\",\n    \"macedonia\": \"\",\n    \"madagascar\": \"\",\n    \"malawi\": \"\",\n    \"malaysia\": \"\",\n    \"maldives\": \"\",\n    \"mali\": \"\",\n    \"malta\": \"\",\n    \"marshall_islands\": \"\",\n    \"martinique\": \"\",\n    \"mauritania\": \"\",\n    \"mauritius\": \"\",\n    \"mayotte\": \"\",\n    \"mexico\": \"\",\n    \"micronesia\": \"\",\n    \"moldova\": \"\",\n    \"monaco\": \"\",\n    \"mongolia\": \"\",\n    \"montenegro\": \"\",\n    \"montserrat\": \"\",\n    \"morocco\": \"\",\n    \"mozambique\": \"\",\n    \"mrs._claus\": \"\",\n    \"mrs._claus_dark_skin_tone\": \"\",\n    \"mrs._claus_light_skin_tone\": \"\",\n    \"mrs._claus_medium-dark_skin_tone\": \"\",\n    \"mrs._claus_medium-light_skin_tone\": \"\",\n    \"mrs._claus_medium_skin_tone\": \"\",\n    \"myanmar_(burma)\": \"\",\n    \"new_button\": \"\",\n    \"ng_button\": \"\",\n    \"namibia\": \"\",\n    \"nauru\": \"\",\n    \"nepal\": \"\",\n    \"netherlands\": \"\",\n    \"new_caledonia\": \"\",\n    \"new_zealand\": \"\",\n    \"nicaragua\": \"\",\n    \"niger\": \"\",\n    \"nigeria\": \"\",\n    \"niue\": \"\",\n    \"norfolk_island\": \"\",\n    \"north_korea\": \"\",\n    \"northern_mariana_islands\": \"\",\n    \"norway\": \"\",\n    \"ok_button\": \"\",\n    \"ok_hand\": \"\",\n    \"ok_hand_dark_skin_tone\": \"\",\n    \"ok_hand_light_skin_tone\": \"\",\n    \"ok_hand_medium-dark_skin_tone\": \"\",\n    \"ok_hand_medium-light_skin_tone\": \"\",\n    \"ok_hand_medium_skin_tone\": \"\",\n    \"on!_arrow\": \"\",\n    \"o_button_(blood_type)\": \"\",\n    \"oman\": \"\",\n    \"ophiuchus\": \"\",\n    \"p_button\": \"\",\n    \"pakistan\": \"\",\n    \"palau\": \"\",\n    \"palestinian_territories\": \"\",\n    \"panama\": \"\",\n    \"papua_new_guinea\": \"\",\n    \"paraguay\": \"\",\n    \"peru\": \"\",\n    \"philippines\": \"\",\n    \"pisces\": \"\",\n    \"pitcairn_islands\": \"\",\n    \"poland\": \"\",\n    \"portugal\": \"\",\n    \"puerto_rico\": \"\",\n    \"qatar\": \"\",\n    \"romania\": \"\",\n    \"russia\": \"\",\n    \"rwanda\": \"\",\n    \"runion\": \"\",\n    \"soon_arrow\": \"\",\n    \"sos_button\": \"\",\n    \"sagittarius\": \"\",\n    \"samoa\": \"\",\n    \"san_marino\": \"\",\n    \"santa_claus\": \"\",\n    \"santa_claus_dark_skin_tone\": \"\",\n    \"santa_claus_light_skin_tone\": \"\",\n    \"santa_claus_medium-dark_skin_tone\": \"\",\n    \"santa_claus_medium-light_skin_tone\": \"\",\n    \"santa_claus_medium_skin_tone\": \"\",\n    \"saudi_arabia\": \"\",\n    \"scorpio\": \"\",\n    \"scotland\": \"\\U000e0067\\U000e0062\\U000e0073\\U000e0063\\U000e0074\\U000e007f\",\n    \"senegal\": \"\",\n    \"serbia\": \"\",\n    \"seychelles\": \"\",\n    \"sierra_leone\": \"\",\n    \"singapore\": \"\",\n    \"sint_maarten\": \"\",\n    \"slovakia\": \"\",\n    \"slovenia\": \"\",\n    \"solomon_islands\": \"\",\n    \"somalia\": \"\",\n    \"south_africa\": \"\",\n    \"south_georgia_&_south_sandwich_islands\": \"\",\n    \"south_korea\": \"\",\n    \"south_sudan\": \"\",\n    \"spain\": \"\",\n    \"sri_lanka\": \"\",\n    \"st._barthlemy\": \"\",\n    \"st._helena\": \"\",\n    \"st._kitts_&_nevis\": \"\",\n    \"st._lucia\": \"\",\n    \"st._martin\": \"\",\n    \"st._pierre_&_miquelon\": \"\",\n    \"st._vincent_&_grenadines\": \"\",\n    \"statue_of_liberty\": \"\",\n    \"sudan\": \"\",\n    \"suriname\": \"\",\n    \"svalbard_&_jan_mayen\": \"\",\n    \"swaziland\": \"\",\n    \"sweden\": \"\",\n    \"switzerland\": \"\",\n    \"syria\": \"\",\n    \"so_tom_&_prncipe\": \"\",\n    \"t-rex\": \"\",\n    \"top_arrow\": \"\",\n    \"taiwan\": \"\",\n    \"tajikistan\": \"\",\n    \"tanzania\": \"\",\n    \"taurus\": \"\",\n    \"thailand\": \"\",\n    \"timor-leste\": \"\",\n    \"togo\": \"\",\n    \"tokelau\": \"\",\n    \"tokyo_tower\": \"\",\n    \"tonga\": \"\",\n    \"trinidad_&_tobago\": \"\",\n    \"tristan_da_cunha\": \"\",\n    \"tunisia\": \"\",\n    \"turkey\": \"\",\n    \"turkmenistan\": \"\",\n    \"turks_&_caicos_islands\": \"\",\n    \"tuvalu\": \"\",\n    \"u.s._outlying_islands\": \"\",\n    \"u.s._virgin_islands\": \"\",\n    \"up!_button\": \"\",\n    \"uganda\": \"\",\n    \"ukraine\": \"\",\n    \"united_arab_emirates\": \"\",\n    \"united_kingdom\": \"\",\n    \"united_nations\": \"\",\n    \"united_states\": \"\",\n    \"uruguay\": \"\",\n    \"uzbekistan\": \"\",\n    \"vs_button\": \"\",\n    \"vanuatu\": \"\",\n    \"vatican_city\": \"\",\n    \"venezuela\": \"\",\n    \"vietnam\": \"\",\n    \"virgo\": \"\",\n    \"wales\": \"\\U000e0067\\U000e0062\\U000e0077\\U000e006c\\U000e0073\\U000e007f\",\n    \"wallis_&_futuna\": \"\",\n    \"western_sahara\": \"\",\n    \"yemen\": \"\",\n    \"zambia\": \"\",\n    \"zimbabwe\": \"\",\n    \"abacus\": \"\",\n    \"adhesive_bandage\": \"\",\n    \"admission_tickets\": \"\",\n    \"adult\": \"\",\n    \"adult_dark_skin_tone\": \"\",\n    \"adult_light_skin_tone\": \"\",\n    \"adult_medium-dark_skin_tone\": \"\",\n    \"adult_medium-light_skin_tone\": \"\",\n    \"adult_medium_skin_tone\": \"\",\n    \"aerial_tramway\": \"\",\n    \"airplane\": \"\",\n    \"airplane_arrival\": \"\",\n    \"airplane_departure\": \"\",\n    \"alarm_clock\": \"\",\n    \"alembic\": \"\",\n    \"alien\": \"\",\n    \"alien_monster\": \"\",\n    \"ambulance\": \"\",\n    \"american_football\": \"\",\n    \"amphora\": \"\",\n    \"anchor\": \"\",\n    \"anger_symbol\": \"\",\n    \"angry_face\": \"\",\n    \"angry_face_with_horns\": \"\",\n    \"anguished_face\": \"\",\n    \"ant\": \"\",\n    \"antenna_bars\": \"\",\n    \"anxious_face_with_sweat\": \"\",\n    \"articulated_lorry\": \"\",\n    \"artist_palette\": \"\",\n    \"astonished_face\": \"\",\n    \"atom_symbol\": \"\",\n    \"auto_rickshaw\": \"\",\n    \"automobile\": \"\",\n    \"avocado\": \"\",\n    \"axe\": \"\",\n    \"baby\": \"\",\n    \"baby_angel\": \"\",\n    \"baby_angel_dark_skin_tone\": \"\",\n    \"baby_angel_light_skin_tone\": \"\",\n    \"baby_angel_medium-dark_skin_tone\": \"\",\n    \"baby_angel_medium-light_skin_tone\": \"\",\n    \"baby_angel_medium_skin_tone\": \"\",\n    \"baby_bottle\": \"\",\n    \"baby_chick\": \"\",\n    \"baby_dark_skin_tone\": \"\",\n    \"baby_light_skin_tone\": \"\",\n    \"baby_medium-dark_skin_tone\": \"\",\n    \"baby_medium-light_skin_tone\": \"\",\n    \"baby_medium_skin_tone\": \"\",\n    \"baby_symbol\": \"\",\n    \"backhand_index_pointing_down\": \"\",\n    \"backhand_index_pointing_down_dark_skin_tone\": \"\",\n    \"backhand_index_pointing_down_light_skin_tone\": \"\",\n    \"backhand_index_pointing_down_medium-dark_skin_tone\": \"\",\n    \"backhand_index_pointing_down_medium-light_skin_tone\": \"\",\n    \"backhand_index_pointing_down_medium_skin_tone\": \"\",\n    \"backhand_index_pointing_left\": \"\",\n    \"backhand_index_pointing_left_dark_skin_tone\": \"\",\n    \"backhand_index_pointing_left_light_skin_tone\": \"\",\n    \"backhand_index_pointing_left_medium-dark_skin_tone\": \"\",\n    \"backhand_index_pointing_left_medium-light_skin_tone\": \"\",\n    \"backhand_index_pointing_left_medium_skin_tone\": \"\",\n    \"backhand_index_pointing_right\": \"\",\n    \"backhand_index_pointing_right_dark_skin_tone\": \"\",\n    \"backhand_index_pointing_right_light_skin_tone\": \"\",\n    \"backhand_index_pointing_right_medium-dark_skin_tone\": \"\",\n    \"backhand_index_pointing_right_medium-light_skin_tone\": \"\",\n    \"backhand_index_pointing_right_medium_skin_tone\": \"\",\n    \"backhand_index_pointing_up\": \"\",\n    \"backhand_index_pointing_up_dark_skin_tone\": \"\",\n    \"backhand_index_pointing_up_light_skin_tone\": \"\",\n    \"backhand_index_pointing_up_medium-dark_skin_tone\": \"\",\n    \"backhand_index_pointing_up_medium-light_skin_tone\": \"\",\n    \"backhand_index_pointing_up_medium_skin_tone\": \"\",\n    \"bacon\": \"\",\n    \"badger\": \"\",\n    \"badminton\": \"\",\n    \"bagel\": \"\",\n    \"baggage_claim\": \"\",\n    \"baguette_bread\": \"\",\n    \"balance_scale\": \"\",\n    \"bald\": \"\",\n    \"bald_man\": \"\\u200d\",\n    \"bald_woman\": \"\\u200d\",\n    \"ballet_shoes\": \"\",\n    \"balloon\": \"\",\n    \"ballot_box_with_ballot\": \"\",\n    \"ballot_box_with_check\": \"\",\n    \"banana\": \"\",\n    \"banjo\": \"\",\n    \"bank\": \"\",\n    \"bar_chart\": \"\",\n    \"barber_pole\": \"\",\n    \"baseball\": \"\",\n    \"basket\": \"\",\n    \"basketball\": \"\",\n    \"bat\": \"\",\n    \"bathtub\": \"\",\n    \"battery\": \"\",\n    \"beach_with_umbrella\": \"\",\n    \"beaming_face_with_smiling_eyes\": \"\",\n    \"bear_face\": \"\",\n    \"bearded_person\": \"\",\n    \"bearded_person_dark_skin_tone\": \"\",\n    \"bearded_person_light_skin_tone\": \"\",\n    \"bearded_person_medium-dark_skin_tone\": \"\",\n    \"bearded_person_medium-light_skin_tone\": \"\",\n    \"bearded_person_medium_skin_tone\": \"\",\n    \"beating_heart\": \"\",\n    \"bed\": \"\",\n    \"beer_mug\": \"\",\n    \"bell\": \"\",\n    \"bell_with_slash\": \"\",\n    \"bellhop_bell\": \"\",\n    \"bento_box\": \"\",\n    \"beverage_box\": \"\",\n    \"bicycle\": \"\",\n    \"bikini\": \"\",\n    \"billed_cap\": \"\",\n    \"biohazard\": \"\",\n    \"bird\": \"\",\n    \"birthday_cake\": \"\",\n    \"black_circle\": \"\",\n    \"black_flag\": \"\",\n    \"black_heart\": \"\",\n    \"black_large_square\": \"\",\n    \"black_medium-small_square\": \"\",\n    \"black_medium_square\": \"\",\n    \"black_nib\": \"\",\n    \"black_small_square\": \"\",\n    \"black_square_button\": \"\",\n    \"blond-haired_man\": \"\\u200d\",\n    \"blond-haired_man_dark_skin_tone\": \"\\u200d\",\n    \"blond-haired_man_light_skin_tone\": \"\\u200d\",\n    \"blond-haired_man_medium-dark_skin_tone\": \"\\u200d\",\n    \"blond-haired_man_medium-light_skin_tone\": \"\\u200d\",\n    \"blond-haired_man_medium_skin_tone\": \"\\u200d\",\n    \"blond-haired_person\": \"\",\n    \"blond-haired_person_dark_skin_tone\": \"\",\n    \"blond-haired_person_light_skin_tone\": \"\",\n    \"blond-haired_person_medium-dark_skin_tone\": \"\",\n    \"blond-haired_person_medium-light_skin_tone\": \"\",\n    \"blond-haired_person_medium_skin_tone\": \"\",\n    \"blond-haired_woman\": \"\\u200d\",\n    \"blond-haired_woman_dark_skin_tone\": \"\\u200d\",\n    \"blond-haired_woman_light_skin_tone\": \"\\u200d\",\n    \"blond-haired_woman_medium-dark_skin_tone\": \"\\u200d\",\n    \"blond-haired_woman_medium-light_skin_tone\": \"\\u200d\",\n    \"blond-haired_woman_medium_skin_tone\": \"\\u200d\",\n    \"blossom\": \"\",\n    \"blowfish\": \"\",\n    \"blue_book\": \"\",\n    \"blue_circle\": \"\",\n    \"blue_heart\": \"\",\n    \"blue_square\": \"\",\n    \"boar\": \"\",\n    \"bomb\": \"\",\n    \"bone\": \"\",\n    \"bookmark\": \"\",\n    \"bookmark_tabs\": \"\",\n    \"books\": \"\",\n    \"bottle_with_popping_cork\": \"\",\n    \"bouquet\": \"\",\n    \"bow_and_arrow\": \"\",\n    \"bowl_with_spoon\": \"\",\n    \"bowling\": \"\",\n    \"boxing_glove\": \"\",\n    \"boy\": \"\",\n    \"boy_dark_skin_tone\": \"\",\n    \"boy_light_skin_tone\": \"\",\n    \"boy_medium-dark_skin_tone\": \"\",\n    \"boy_medium-light_skin_tone\": \"\",\n    \"boy_medium_skin_tone\": \"\",\n    \"brain\": \"\",\n    \"bread\": \"\",\n    \"breast-feeding\": \"\",\n    \"breast-feeding_dark_skin_tone\": \"\",\n    \"breast-feeding_light_skin_tone\": \"\",\n    \"breast-feeding_medium-dark_skin_tone\": \"\",\n    \"breast-feeding_medium-light_skin_tone\": \"\",\n    \"breast-feeding_medium_skin_tone\": \"\",\n    \"brick\": \"\",\n    \"bride_with_veil\": \"\",\n    \"bride_with_veil_dark_skin_tone\": \"\",\n    \"bride_with_veil_light_skin_tone\": \"\",\n    \"bride_with_veil_medium-dark_skin_tone\": \"\",\n    \"bride_with_veil_medium-light_skin_tone\": \"\",\n    \"bride_with_veil_medium_skin_tone\": \"\",\n    \"bridge_at_night\": \"\",\n    \"briefcase\": \"\",\n    \"briefs\": \"\",\n    \"bright_button\": \"\",\n    \"broccoli\": \"\",\n    \"broken_heart\": \"\",\n    \"broom\": \"\",\n    \"brown_circle\": \"\",\n    \"brown_heart\": \"\",\n    \"brown_square\": \"\",\n    \"bug\": \"\",\n    \"building_construction\": \"\",\n    \"bullet_train\": \"\",\n    \"burrito\": \"\",\n    \"bus\": \"\",\n    \"bus_stop\": \"\",\n    \"bust_in_silhouette\": \"\",\n    \"busts_in_silhouette\": \"\",\n    \"butter\": \"\",\n    \"butterfly\": \"\",\n    \"cactus\": \"\",\n    \"calendar\": \"\",\n    \"call_me_hand\": \"\",\n    \"call_me_hand_dark_skin_tone\": \"\",\n    \"call_me_hand_light_skin_tone\": \"\",\n    \"call_me_hand_medium-dark_skin_tone\": \"\",\n    \"call_me_hand_medium-light_skin_tone\": \"\",\n    \"call_me_hand_medium_skin_tone\": \"\",\n    \"camel\": \"\",\n    \"camera\": \"\",\n    \"camera_with_flash\": \"\",\n    \"camping\": \"\",\n    \"candle\": \"\",\n    \"candy\": \"\",\n    \"canned_food\": \"\",\n    \"canoe\": \"\",\n    \"card_file_box\": \"\",\n    \"card_index\": \"\",\n    \"card_index_dividers\": \"\",\n    \"carousel_horse\": \"\",\n    \"carp_streamer\": \"\",\n    \"carrot\": \"\",\n    \"castle\": \"\",\n    \"cat\": \"\",\n    \"cat_face\": \"\",\n    \"cat_face_with_tears_of_joy\": \"\",\n    \"cat_face_with_wry_smile\": \"\",\n    \"chains\": \"\",\n    \"chair\": \"\",\n    \"chart_decreasing\": \"\",\n    \"chart_increasing\": \"\",\n    \"chart_increasing_with_yen\": \"\",\n    \"cheese_wedge\": \"\",\n    \"chequered_flag\": \"\",\n    \"cherries\": \"\",\n    \"cherry_blossom\": \"\",\n    \"chess_pawn\": \"\",\n    \"chestnut\": \"\",\n    \"chicken\": \"\",\n    \"child\": \"\",\n    \"child_dark_skin_tone\": \"\",\n    \"child_light_skin_tone\": \"\",\n    \"child_medium-dark_skin_tone\": \"\",\n    \"child_medium-light_skin_tone\": \"\",\n    \"child_medium_skin_tone\": \"\",\n    \"children_crossing\": \"\",\n    \"chipmunk\": \"\",\n    \"chocolate_bar\": \"\",\n    \"chopsticks\": \"\",\n    \"church\": \"\",\n    \"cigarette\": \"\",\n    \"cinema\": \"\",\n    \"circled_m\": \"\",\n    \"circus_tent\": \"\",\n    \"cityscape\": \"\",\n    \"cityscape_at_dusk\": \"\",\n    \"clamp\": \"\",\n    \"clapper_board\": \"\",\n    \"clapping_hands\": \"\",\n    \"clapping_hands_dark_skin_tone\": \"\",\n    \"clapping_hands_light_skin_tone\": \"\",\n    \"clapping_hands_medium-dark_skin_tone\": \"\",\n    \"clapping_hands_medium-light_skin_tone\": \"\",\n    \"clapping_hands_medium_skin_tone\": \"\",\n    \"classical_building\": \"\",\n    \"clinking_beer_mugs\": \"\",\n    \"clinking_glasses\": \"\",\n    \"clipboard\": \"\",\n    \"clockwise_vertical_arrows\": \"\",\n    \"closed_book\": \"\",\n    \"closed_mailbox_with_lowered_flag\": \"\",\n    \"closed_mailbox_with_raised_flag\": \"\",\n    \"closed_umbrella\": \"\",\n    \"cloud\": \"\",\n    \"cloud_with_lightning\": \"\",\n    \"cloud_with_lightning_and_rain\": \"\",\n    \"cloud_with_rain\": \"\",\n    \"cloud_with_snow\": \"\",\n    \"clown_face\": \"\",\n    \"club_suit\": \"\",\n    \"clutch_bag\": \"\",\n    \"coat\": \"\",\n    \"cocktail_glass\": \"\",\n    \"coconut\": \"\",\n    \"coffin\": \"\",\n    \"cold_face\": \"\",\n    \"collision\": \"\",\n    \"comet\": \"\",\n    \"compass\": \"\",\n    \"computer_disk\": \"\",\n    \"computer_mouse\": \"\",\n    \"confetti_ball\": \"\",\n    \"confounded_face\": \"\",\n    \"confused_face\": \"\",\n    \"construction\": \"\",\n    \"construction_worker\": \"\",\n    \"construction_worker_dark_skin_tone\": \"\",\n    \"construction_worker_light_skin_tone\": \"\",\n    \"construction_worker_medium-dark_skin_tone\": \"\",\n    \"construction_worker_medium-light_skin_tone\": \"\",\n    \"construction_worker_medium_skin_tone\": \"\",\n    \"control_knobs\": \"\",\n    \"convenience_store\": \"\",\n    \"cooked_rice\": \"\",\n    \"cookie\": \"\",\n    \"cooking\": \"\",\n    \"copyright\": \"\",\n    \"couch_and_lamp\": \"\",\n    \"counterclockwise_arrows_button\": \"\",\n    \"couple_with_heart\": \"\",\n    \"couple_with_heart_man_man\": \"\\u200d\\u200d\",\n    \"couple_with_heart_woman_man\": \"\\u200d\\u200d\",\n    \"couple_with_heart_woman_woman\": \"\\u200d\\u200d\",\n    \"cow\": \"\",\n    \"cow_face\": \"\",\n    \"cowboy_hat_face\": \"\",\n    \"crab\": \"\",\n    \"crayon\": \"\",\n    \"credit_card\": \"\",\n    \"crescent_moon\": \"\",\n    \"cricket\": \"\",\n    \"cricket_game\": \"\",\n    \"crocodile\": \"\",\n    \"croissant\": \"\",\n    \"cross_mark\": \"\",\n    \"cross_mark_button\": \"\",\n    \"crossed_fingers\": \"\",\n    \"crossed_fingers_dark_skin_tone\": \"\",\n    \"crossed_fingers_light_skin_tone\": \"\",\n    \"crossed_fingers_medium-dark_skin_tone\": \"\",\n    \"crossed_fingers_medium-light_skin_tone\": \"\",\n    \"crossed_fingers_medium_skin_tone\": \"\",\n    \"crossed_flags\": \"\",\n    \"crossed_swords\": \"\",\n    \"crown\": \"\",\n    \"crying_cat_face\": \"\",\n    \"crying_face\": \"\",\n    \"crystal_ball\": \"\",\n    \"cucumber\": \"\",\n    \"cupcake\": \"\",\n    \"cup_with_straw\": \"\",\n    \"curling_stone\": \"\",\n    \"curly_hair\": \"\",\n    \"curly-haired_man\": \"\\u200d\",\n    \"curly-haired_woman\": \"\\u200d\",\n    \"curly_loop\": \"\",\n    \"currency_exchange\": \"\",\n    \"curry_rice\": \"\",\n    \"custard\": \"\",\n    \"customs\": \"\",\n    \"cut_of_meat\": \"\",\n    \"cyclone\": \"\",\n    \"dagger\": \"\",\n    \"dango\": \"\",\n    \"dashing_away\": \"\",\n    \"deaf_person\": \"\",\n    \"deciduous_tree\": \"\",\n    \"deer\": \"\",\n    \"delivery_truck\": \"\",\n    \"department_store\": \"\",\n    \"derelict_house\": \"\",\n    \"desert\": \"\",\n    \"desert_island\": \"\",\n    \"desktop_computer\": \"\",\n    \"detective\": \"\",\n    \"detective_dark_skin_tone\": \"\",\n    \"detective_light_skin_tone\": \"\",\n    \"detective_medium-dark_skin_tone\": \"\",\n    \"detective_medium-light_skin_tone\": \"\",\n    \"detective_medium_skin_tone\": \"\",\n    \"diamond_suit\": \"\",\n    \"diamond_with_a_dot\": \"\",\n    \"dim_button\": \"\",\n    \"direct_hit\": \"\",\n    \"disappointed_face\": \"\",\n    \"diving_mask\": \"\",\n    \"diya_lamp\": \"\",\n    \"dizzy\": \"\",\n    \"dizzy_face\": \"\",\n    \"dna\": \"\",\n    \"dog\": \"\",\n    \"dog_face\": \"\",\n    \"dollar_banknote\": \"\",\n    \"dolphin\": \"\",\n    \"door\": \"\",\n    \"dotted_six-pointed_star\": \"\",\n    \"double_curly_loop\": \"\",\n    \"double_exclamation_mark\": \"\",\n    \"doughnut\": \"\",\n    \"dove\": \"\",\n    \"down-left_arrow\": \"\",\n    \"down-right_arrow\": \"\",\n    \"down_arrow\": \"\",\n    \"downcast_face_with_sweat\": \"\",\n    \"downwards_button\": \"\",\n    \"dragon\": \"\",\n    \"dragon_face\": \"\",\n    \"dress\": \"\",\n    \"drooling_face\": \"\",\n    \"drop_of_blood\": \"\",\n    \"droplet\": \"\",\n    \"drum\": \"\",\n    \"duck\": \"\",\n    \"dumpling\": \"\",\n    \"dvd\": \"\",\n    \"e-mail\": \"\",\n    \"eagle\": \"\",\n    \"ear\": \"\",\n    \"ear_dark_skin_tone\": \"\",\n    \"ear_light_skin_tone\": \"\",\n    \"ear_medium-dark_skin_tone\": \"\",\n    \"ear_medium-light_skin_tone\": \"\",\n    \"ear_medium_skin_tone\": \"\",\n    \"ear_of_corn\": \"\",\n    \"ear_with_hearing_aid\": \"\",\n    \"egg\": \"\",\n    \"eggplant\": \"\",\n    \"eight-pointed_star\": \"\",\n    \"eight-spoked_asterisk\": \"\",\n    \"eight-thirty\": \"\",\n    \"eight_oclock\": \"\",\n    \"eject_button\": \"\",\n    \"electric_plug\": \"\",\n    \"elephant\": \"\",\n    \"eleven-thirty\": \"\",\n    \"eleven_oclock\": \"\",\n    \"elf\": \"\",\n    \"elf_dark_skin_tone\": \"\",\n    \"elf_light_skin_tone\": \"\",\n    \"elf_medium-dark_skin_tone\": \"\",\n    \"elf_medium-light_skin_tone\": \"\",\n    \"elf_medium_skin_tone\": \"\",\n    \"envelope\": \"\",\n    \"envelope_with_arrow\": \"\",\n    \"euro_banknote\": \"\",\n    \"evergreen_tree\": \"\",\n    \"ewe\": \"\",\n    \"exclamation_mark\": \"\",\n    \"exclamation_question_mark\": \"\",\n    \"exploding_head\": \"\",\n    \"expressionless_face\": \"\",\n    \"eye\": \"\",\n    \"eye_in_speech_bubble\": \"\\u200d\",\n    \"eyes\": \"\",\n    \"face_blowing_a_kiss\": \"\",\n    \"face_savoring_food\": \"\",\n    \"face_screaming_in_fear\": \"\",\n    \"face_vomiting\": \"\",\n    \"face_with_hand_over_mouth\": \"\",\n    \"face_with_head-bandage\": \"\",\n    \"face_with_medical_mask\": \"\",\n    \"face_with_monocle\": \"\",\n    \"face_with_open_mouth\": \"\",\n    \"face_with_raised_eyebrow\": \"\",\n    \"face_with_rolling_eyes\": \"\",\n    \"face_with_steam_from_nose\": \"\",\n    \"face_with_symbols_on_mouth\": \"\",\n    \"face_with_tears_of_joy\": \"\",\n    \"face_with_thermometer\": \"\",\n    \"face_with_tongue\": \"\",\n    \"face_without_mouth\": \"\",\n    \"factory\": \"\",\n    \"fairy\": \"\",\n    \"fairy_dark_skin_tone\": \"\",\n    \"fairy_light_skin_tone\": \"\",\n    \"fairy_medium-dark_skin_tone\": \"\",\n    \"fairy_medium-light_skin_tone\": \"\",\n    \"fairy_medium_skin_tone\": \"\",\n    \"falafel\": \"\",\n    \"fallen_leaf\": \"\",\n    \"family\": \"\",\n    \"family_man_boy\": \"\\u200d\",\n    \"family_man_boy_boy\": \"\\u200d\\u200d\",\n    \"family_man_girl\": \"\\u200d\",\n    \"family_man_girl_boy\": \"\\u200d\\u200d\",\n    \"family_man_girl_girl\": \"\\u200d\\u200d\",\n    \"family_man_man_boy\": \"\\u200d\\u200d\",\n    \"family_man_man_boy_boy\": \"\\u200d\\u200d\\u200d\",\n    \"family_man_man_girl\": \"\\u200d\\u200d\",\n    \"family_man_man_girl_boy\": \"\\u200d\\u200d\\u200d\",\n    \"family_man_man_girl_girl\": \"\\u200d\\u200d\\u200d\",\n    \"family_man_woman_boy\": \"\\u200d\\u200d\",\n    \"family_man_woman_boy_boy\": \"\\u200d\\u200d\\u200d\",\n    \"family_man_woman_girl\": \"\\u200d\\u200d\",\n    \"family_man_woman_girl_boy\": \"\\u200d\\u200d\\u200d\",\n    \"family_man_woman_girl_girl\": \"\\u200d\\u200d\\u200d\",\n    \"family_woman_boy\": \"\\u200d\",\n    \"family_woman_boy_boy\": \"\\u200d\\u200d\",\n    \"family_woman_girl\": \"\\u200d\",\n    \"family_woman_girl_boy\": \"\\u200d\\u200d\",\n    \"family_woman_girl_girl\": \"\\u200d\\u200d\",\n    \"family_woman_woman_boy\": \"\\u200d\\u200d\",\n    \"family_woman_woman_boy_boy\": \"\\u200d\\u200d\\u200d\",\n    \"family_woman_woman_girl\": \"\\u200d\\u200d\",\n    \"family_woman_woman_girl_boy\": \"\\u200d\\u200d\\u200d\",\n    \"family_woman_woman_girl_girl\": \"\\u200d\\u200d\\u200d\",\n    \"fast-forward_button\": \"\",\n    \"fast_down_button\": \"\",\n    \"fast_reverse_button\": \"\",\n    \"fast_up_button\": \"\",\n    \"fax_machine\": \"\",\n    \"fearful_face\": \"\",\n    \"female_sign\": \"\",\n    \"ferris_wheel\": \"\",\n    \"ferry\": \"\",\n    \"field_hockey\": \"\",\n    \"file_cabinet\": \"\",\n    \"file_folder\": \"\",\n    \"film_frames\": \"\",\n    \"film_projector\": \"\",\n    \"fire\": \"\",\n    \"fire_extinguisher\": \"\",\n    \"firecracker\": \"\",\n    \"fire_engine\": \"\",\n    \"fireworks\": \"\",\n    \"first_quarter_moon\": \"\",\n    \"first_quarter_moon_face\": \"\",\n    \"fish\": \"\",\n    \"fish_cake_with_swirl\": \"\",\n    \"fishing_pole\": \"\",\n    \"five-thirty\": \"\",\n    \"five_oclock\": \"\",\n    \"flag_in_hole\": \"\",\n    \"flamingo\": \"\",\n    \"flashlight\": \"\",\n    \"flat_shoe\": \"\",\n    \"fleur-de-lis\": \"\",\n    \"flexed_biceps\": \"\",\n    \"flexed_biceps_dark_skin_tone\": \"\",\n    \"flexed_biceps_light_skin_tone\": \"\",\n    \"flexed_biceps_medium-dark_skin_tone\": \"\",\n    \"flexed_biceps_medium-light_skin_tone\": \"\",\n    \"flexed_biceps_medium_skin_tone\": \"\",\n    \"floppy_disk\": \"\",\n    \"flower_playing_cards\": \"\",\n    \"flushed_face\": \"\",\n    \"flying_disc\": \"\",\n    \"flying_saucer\": \"\",\n    \"fog\": \"\",\n    \"foggy\": \"\",\n    \"folded_hands\": \"\",\n    \"folded_hands_dark_skin_tone\": \"\",\n    \"folded_hands_light_skin_tone\": \"\",\n    \"folded_hands_medium-dark_skin_tone\": \"\",\n    \"folded_hands_medium-light_skin_tone\": \"\",\n    \"folded_hands_medium_skin_tone\": \"\",\n    \"foot\": \"\",\n    \"footprints\": \"\",\n    \"fork_and_knife\": \"\",\n    \"fork_and_knife_with_plate\": \"\",\n    \"fortune_cookie\": \"\",\n    \"fountain\": \"\",\n    \"fountain_pen\": \"\",\n    \"four-thirty\": \"\",\n    \"four_leaf_clover\": \"\",\n    \"four_oclock\": \"\",\n    \"fox_face\": \"\",\n    \"framed_picture\": \"\",\n    \"french_fries\": \"\",\n    \"fried_shrimp\": \"\",\n    \"frog_face\": \"\",\n    \"front-facing_baby_chick\": \"\",\n    \"frowning_face\": \"\",\n    \"frowning_face_with_open_mouth\": \"\",\n    \"fuel_pump\": \"\",\n    \"full_moon\": \"\",\n    \"full_moon_face\": \"\",\n    \"funeral_urn\": \"\",\n    \"game_die\": \"\",\n    \"garlic\": \"\",\n    \"gear\": \"\",\n    \"gem_stone\": \"\",\n    \"genie\": \"\",\n    \"ghost\": \"\",\n    \"giraffe\": \"\",\n    \"girl\": \"\",\n    \"girl_dark_skin_tone\": \"\",\n    \"girl_light_skin_tone\": \"\",\n    \"girl_medium-dark_skin_tone\": \"\",\n    \"girl_medium-light_skin_tone\": \"\",\n    \"girl_medium_skin_tone\": \"\",\n    \"glass_of_milk\": \"\",\n    \"glasses\": \"\",\n    \"globe_showing_americas\": \"\",\n    \"globe_showing_asia-australia\": \"\",\n    \"globe_showing_europe-africa\": \"\",\n    \"globe_with_meridians\": \"\",\n    \"gloves\": \"\",\n    \"glowing_star\": \"\",\n    \"goal_net\": \"\",\n    \"goat\": \"\",\n    \"goblin\": \"\",\n    \"goggles\": \"\",\n    \"gorilla\": \"\",\n    \"graduation_cap\": \"\",\n    \"grapes\": \"\",\n    \"green_apple\": \"\",\n    \"green_book\": \"\",\n    \"green_circle\": \"\",\n    \"green_heart\": \"\",\n    \"green_salad\": \"\",\n    \"green_square\": \"\",\n    \"grimacing_face\": \"\",\n    \"grinning_cat_face\": \"\",\n    \"grinning_cat_face_with_smiling_eyes\": \"\",\n    \"grinning_face\": \"\",\n    \"grinning_face_with_big_eyes\": \"\",\n    \"grinning_face_with_smiling_eyes\": \"\",\n    \"grinning_face_with_sweat\": \"\",\n    \"grinning_squinting_face\": \"\",\n    \"growing_heart\": \"\",\n    \"guard\": \"\",\n    \"guard_dark_skin_tone\": \"\",\n    \"guard_light_skin_tone\": \"\",\n    \"guard_medium-dark_skin_tone\": \"\",\n    \"guard_medium-light_skin_tone\": \"\",\n    \"guard_medium_skin_tone\": \"\",\n    \"guide_dog\": \"\",\n    \"guitar\": \"\",\n    \"hamburger\": \"\",\n    \"hammer\": \"\",\n    \"hammer_and_pick\": \"\",\n    \"hammer_and_wrench\": \"\",\n    \"hamster_face\": \"\",\n    \"hand_with_fingers_splayed\": \"\",\n    \"hand_with_fingers_splayed_dark_skin_tone\": \"\",\n    \"hand_with_fingers_splayed_light_skin_tone\": \"\",\n    \"hand_with_fingers_splayed_medium-dark_skin_tone\": \"\",\n    \"hand_with_fingers_splayed_medium-light_skin_tone\": \"\",\n    \"hand_with_fingers_splayed_medium_skin_tone\": \"\",\n    \"handbag\": \"\",\n    \"handshake\": \"\",\n    \"hatching_chick\": \"\",\n    \"headphone\": \"\",\n    \"hear-no-evil_monkey\": \"\",\n    \"heart_decoration\": \"\",\n    \"heart_suit\": \"\",\n    \"heart_with_arrow\": \"\",\n    \"heart_with_ribbon\": \"\",\n    \"heavy_check_mark\": \"\",\n    \"heavy_division_sign\": \"\",\n    \"heavy_dollar_sign\": \"\",\n    \"heavy_heart_exclamation\": \"\",\n    \"heavy_large_circle\": \"\",\n    \"heavy_minus_sign\": \"\",\n    \"heavy_multiplication_x\": \"\",\n    \"heavy_plus_sign\": \"\",\n    \"hedgehog\": \"\",\n    \"helicopter\": \"\",\n    \"herb\": \"\",\n    \"hibiscus\": \"\",\n    \"high-heeled_shoe\": \"\",\n    \"high-speed_train\": \"\",\n    \"high_voltage\": \"\",\n    \"hiking_boot\": \"\",\n    \"hindu_temple\": \"\",\n    \"hippopotamus\": \"\",\n    \"hole\": \"\",\n    \"honey_pot\": \"\",\n    \"honeybee\": \"\",\n    \"horizontal_traffic_light\": \"\",\n    \"horse\": \"\",\n    \"horse_face\": \"\",\n    \"horse_racing\": \"\",\n    \"horse_racing_dark_skin_tone\": \"\",\n    \"horse_racing_light_skin_tone\": \"\",\n    \"horse_racing_medium-dark_skin_tone\": \"\",\n    \"horse_racing_medium-light_skin_tone\": \"\",\n    \"horse_racing_medium_skin_tone\": \"\",\n    \"hospital\": \"\",\n    \"hot_beverage\": \"\",\n    \"hot_dog\": \"\",\n    \"hot_face\": \"\",\n    \"hot_pepper\": \"\",\n    \"hot_springs\": \"\",\n    \"hotel\": \"\",\n    \"hourglass_done\": \"\",\n    \"hourglass_not_done\": \"\",\n    \"house\": \"\",\n    \"house_with_garden\": \"\",\n    \"houses\": \"\",\n    \"hugging_face\": \"\",\n    \"hundred_points\": \"\",\n    \"hushed_face\": \"\",\n    \"ice\": \"\",\n    \"ice_cream\": \"\",\n    \"ice_hockey\": \"\",\n    \"ice_skate\": \"\",\n    \"inbox_tray\": \"\",\n    \"incoming_envelope\": \"\",\n    \"index_pointing_up\": \"\",\n    \"index_pointing_up_dark_skin_tone\": \"\",\n    \"index_pointing_up_light_skin_tone\": \"\",\n    \"index_pointing_up_medium-dark_skin_tone\": \"\",\n    \"index_pointing_up_medium-light_skin_tone\": \"\",\n    \"index_pointing_up_medium_skin_tone\": \"\",\n    \"infinity\": \"\",\n    \"information\": \"\",\n    \"input_latin_letters\": \"\",\n    \"input_latin_lowercase\": \"\",\n    \"input_latin_uppercase\": \"\",\n    \"input_numbers\": \"\",\n    \"input_symbols\": \"\",\n    \"jack-o-lantern\": \"\",\n    \"jeans\": \"\",\n    \"jigsaw\": \"\",\n    \"joker\": \"\",\n    \"joystick\": \"\",\n    \"kaaba\": \"\",\n    \"kangaroo\": \"\",\n    \"key\": \"\",\n    \"keyboard\": \"\",\n    \"keycap_#\": \"#\",\n    \"keycap_*\": \"*\",\n    \"keycap_0\": \"0\",\n    \"keycap_1\": \"1\",\n    \"keycap_10\": \"\",\n    \"keycap_2\": \"2\",\n    \"keycap_3\": \"3\",\n    \"keycap_4\": \"4\",\n    \"keycap_5\": \"5\",\n    \"keycap_6\": \"6\",\n    \"keycap_7\": \"7\",\n    \"keycap_8\": \"8\",\n    \"keycap_9\": \"9\",\n    \"kick_scooter\": \"\",\n    \"kimono\": \"\",\n    \"kiss\": \"\",\n    \"kiss_man_man\": \"\\u200d\\u200d\\u200d\",\n    \"kiss_mark\": \"\",\n    \"kiss_woman_man\": \"\\u200d\\u200d\\u200d\",\n    \"kiss_woman_woman\": \"\\u200d\\u200d\\u200d\",\n    \"kissing_cat_face\": \"\",\n    \"kissing_face\": \"\",\n    \"kissing_face_with_closed_eyes\": \"\",\n    \"kissing_face_with_smiling_eyes\": \"\",\n    \"kitchen_knife\": \"\",\n    \"kite\": \"\",\n    \"kiwi_fruit\": \"\",\n    \"koala\": \"\",\n    \"lab_coat\": \"\",\n    \"label\": \"\",\n    \"lacrosse\": \"\",\n    \"lady_beetle\": \"\",\n    \"laptop_computer\": \"\",\n    \"large_blue_diamond\": \"\",\n    \"large_orange_diamond\": \"\",\n    \"last_quarter_moon\": \"\",\n    \"last_quarter_moon_face\": \"\",\n    \"last_track_button\": \"\",\n    \"latin_cross\": \"\",\n    \"leaf_fluttering_in_wind\": \"\",\n    \"leafy_green\": \"\",\n    \"ledger\": \"\",\n    \"left-facing_fist\": \"\",\n    \"left-facing_fist_dark_skin_tone\": \"\",\n    \"left-facing_fist_light_skin_tone\": \"\",\n    \"left-facing_fist_medium-dark_skin_tone\": \"\",\n    \"left-facing_fist_medium-light_skin_tone\": \"\",\n    \"left-facing_fist_medium_skin_tone\": \"\",\n    \"left-right_arrow\": \"\",\n    \"left_arrow\": \"\",\n    \"left_arrow_curving_right\": \"\",\n    \"left_luggage\": \"\",\n    \"left_speech_bubble\": \"\",\n    \"leg\": \"\",\n    \"lemon\": \"\",\n    \"leopard\": \"\",\n    \"level_slider\": \"\",\n    \"light_bulb\": \"\",\n    \"light_rail\": \"\",\n    \"link\": \"\",\n    \"linked_paperclips\": \"\",\n    \"lion_face\": \"\",\n    \"lipstick\": \"\",\n    \"litter_in_bin_sign\": \"\",\n    \"lizard\": \"\",\n    \"llama\": \"\",\n    \"lobster\": \"\",\n    \"locked\": \"\",\n    \"locked_with_key\": \"\",\n    \"locked_with_pen\": \"\",\n    \"locomotive\": \"\",\n    \"lollipop\": \"\",\n    \"lotion_bottle\": \"\",\n    \"loudly_crying_face\": \"\",\n    \"loudspeaker\": \"\",\n    \"love-you_gesture\": \"\",\n    \"love-you_gesture_dark_skin_tone\": \"\",\n    \"love-you_gesture_light_skin_tone\": \"\",\n    \"love-you_gesture_medium-dark_skin_tone\": \"\",\n    \"love-you_gesture_medium-light_skin_tone\": \"\",\n    \"love-you_gesture_medium_skin_tone\": \"\",\n    \"love_hotel\": \"\",\n    \"love_letter\": \"\",\n    \"luggage\": \"\",\n    \"lying_face\": \"\",\n    \"mage\": \"\",\n    \"mage_dark_skin_tone\": \"\",\n    \"mage_light_skin_tone\": \"\",\n    \"mage_medium-dark_skin_tone\": \"\",\n    \"mage_medium-light_skin_tone\": \"\",\n    \"mage_medium_skin_tone\": \"\",\n    \"magnet\": \"\",\n    \"magnifying_glass_tilted_left\": \"\",\n    \"magnifying_glass_tilted_right\": \"\",\n    \"mahjong_red_dragon\": \"\",\n    \"male_sign\": \"\",\n    \"man\": \"\",\n    \"man_and_woman_holding_hands\": \"\",\n    \"man_artist\": \"\\u200d\",\n    \"man_artist_dark_skin_tone\": \"\\u200d\",\n    \"man_artist_light_skin_tone\": \"\\u200d\",\n    \"man_artist_medium-dark_skin_tone\": \"\\u200d\",\n    \"man_artist_medium-light_skin_tone\": \"\\u200d\",\n    \"man_artist_medium_skin_tone\": \"\\u200d\",\n    \"man_astronaut\": \"\\u200d\",\n    \"man_astronaut_dark_skin_tone\": \"\\u200d\",\n    \"man_astronaut_light_skin_tone\": \"\\u200d\",\n    \"man_astronaut_medium-dark_skin_tone\": \"\\u200d\",\n    \"man_astronaut_medium-light_skin_tone\": \"\\u200d\",\n    \"man_astronaut_medium_skin_tone\": \"\\u200d\",\n    \"man_biking\": \"\\u200d\",\n    \"man_biking_dark_skin_tone\": \"\\u200d\",\n    \"man_biking_light_skin_tone\": \"\\u200d\",\n    \"man_biking_medium-dark_skin_tone\": \"\\u200d\",\n    \"man_biking_medium-light_skin_tone\": \"\\u200d\",\n    \"man_biking_medium_skin_tone\": \"\\u200d\",\n    \"man_bouncing_ball\": \"\\u200d\",\n    \"man_bouncing_ball_dark_skin_tone\": \"\\u200d\",\n    \"man_bouncing_ball_light_skin_tone\": \"\\u200d\",\n    \"man_bouncing_ball_medium-dark_skin_tone\": \"\\u200d\",\n    \"man_bouncing_ball_medium-light_skin_tone\": \"\\u200d\",\n    \"man_bouncing_ball_medium_skin_tone\": \"\\u200d\",\n    \"man_bowing\": \"\\u200d\",\n    \"man_bowing_dark_skin_tone\": \"\\u200d\",\n    \"man_bowing_light_skin_tone\": \"\\u200d\",\n    \"man_bowing_medium-dark_skin_tone\": \"\\u200d\",\n    \"man_bowing_medium-light_skin_tone\": \"\\u200d\",\n    \"man_bowing_medium_skin_tone\": \"\\u200d\",\n    \"man_cartwheeling\": \"\\u200d\",\n    \"man_cartwheeling_dark_skin_tone\": \"\\u200d\",\n    \"man_cartwheeling_light_skin_tone\": \"\\u200d\",\n    \"man_cartwheeling_medium-dark_skin_tone\": \"\\u200d\",\n    \"man_cartwheeling_medium-light_skin_tone\": \"\\u200d\",\n    \"man_cartwheeling_medium_skin_tone\": \"\\u200d\",\n    \"man_climbing\": \"\\u200d\",\n    \"man_climbing_dark_skin_tone\": \"\\u200d\",\n    \"man_climbing_light_skin_tone\": \"\\u200d\",\n    \"man_climbing_medium-dark_skin_tone\": \"\\u200d\",\n    \"man_climbing_medium-light_skin_tone\": \"\\u200d\",\n    \"man_climbing_medium_skin_tone\": \"\\u200d\",\n    \"man_construction_worker\": \"\\u200d\",\n    \"man_construction_worker_dark_skin_tone\": \"\\u200d\",\n    \"man_construction_worker_light_skin_tone\": \"\\u200d\",\n    \"man_construction_worker_medium-dark_skin_tone\": \"\\u200d\",\n    \"man_construction_worker_medium-light_skin_tone\": \"\\u200d\",\n    \"man_construction_worker_medium_skin_tone\": \"\\u200d\",\n    \"man_cook\": \"\\u200d\",\n    \"man_cook_dark_skin_tone\": \"\\u200d\",\n    \"man_cook_light_skin_tone\": \"\\u200d\",\n    \"man_cook_medium-dark_skin_tone\": \"\\u200d\",\n    \"man_cook_medium-light_skin_tone\": \"\\u200d\",\n    \"man_cook_medium_skin_tone\": \"\\u200d\",\n    \"man_dancing\": \"\",\n    \"man_dancing_dark_skin_tone\": \"\",\n    \"man_dancing_light_skin_tone\": \"\",\n    \"man_dancing_medium-dark_skin_tone\": \"\",\n    \"man_dancing_medium-light_skin_tone\": \"\",\n    \"man_dancing_medium_skin_tone\": \"\",\n    \"man_dark_skin_tone\": \"\",\n    \"man_detective\": \"\\u200d\",\n    \"man_detective_dark_skin_tone\": \"\\u200d\",\n    \"man_detective_light_skin_tone\": \"\\u200d\",\n    \"man_detective_medium-dark_skin_tone\": \"\\u200d\",\n    \"man_detective_medium-light_skin_tone\": \"\\u200d\",\n    \"man_detective_medium_skin_tone\": \"\\u200d\",\n    \"man_elf\": \"\\u200d\",\n    \"man_elf_dark_skin_tone\": \"\\u200d\",\n    \"man_elf_light_skin_tone\": \"\\u200d\",\n    \"man_elf_medium-dark_skin_tone\": \"\\u200d\",\n    \"man_elf_medium-light_skin_tone\": \"\\u200d\",\n    \"man_elf_medium_skin_tone\": \"\\u200d\",\n    \"man_facepalming\": \"\\u200d\",\n    \"man_facepalming_dark_skin_tone\": \"\\u200d\",\n    \"man_facepalming_light_skin_tone\": \"\\u200d\",\n    \"man_facepalming_medium-dark_skin_tone\": \"\\u200d\",\n    \"man_facepalming_medium-light_skin_tone\": \"\\u200d\",\n    \"man_facepalming_medium_skin_tone\": \"\\u200d\",\n    \"man_factory_worker\": \"\\u200d\",\n    \"man_factory_worker_dark_skin_tone\": \"\\u200d\",\n    \"man_factory_worker_light_skin_tone\": \"\\u200d\",\n    \"man_factory_worker_medium-dark_skin_tone\": \"\\u200d\",\n    \"man_factory_worker_medium-light_skin_tone\": \"\\u200d\",\n    \"man_factory_worker_medium_skin_tone\": \"\\u200d\",\n    \"man_fairy\": \"\\u200d\",\n    \"man_fairy_dark_skin_tone\": \"\\u200d\",\n    \"man_fairy_light_skin_tone\": \"\\u200d\",\n    \"man_fairy_medium-dark_skin_tone\": \"\\u200d\",\n    \"man_fairy_medium-light_skin_tone\": \"\\u200d\",\n    \"man_fairy_medium_skin_tone\": \"\\u200d\",\n    \"man_farmer\": \"\\u200d\",\n    \"man_farmer_dark_skin_tone\": \"\\u200d\",\n    \"man_farmer_light_skin_tone\": \"\\u200d\",\n    \"man_farmer_medium-dark_skin_tone\": \"\\u200d\",\n    \"man_farmer_medium-light_skin_tone\": \"\\u200d\",\n    \"man_farmer_medium_skin_tone\": \"\\u200d\",\n    \"man_firefighter\": \"\\u200d\",\n    \"man_firefighter_dark_skin_tone\": \"\\u200d\",\n    \"man_firefighter_light_skin_tone\": \"\\u200d\",\n    \"man_firefighter_medium-dark_skin_tone\": \"\\u200d\",\n    \"man_firefighter_medium-light_skin_tone\": \"\\u200d\",\n    \"man_firefighter_medium_skin_tone\": \"\\u200d\",\n    \"man_frowning\": \"\\u200d\",\n    \"man_frowning_dark_skin_tone\": \"\\u200d\",\n    \"man_frowning_light_skin_tone\": \"\\u200d\",\n    \"man_frowning_medium-dark_skin_tone\": \"\\u200d\",\n    \"man_frowning_medium-light_skin_tone\": \"\\u200d\",\n    \"man_frowning_medium_skin_tone\": \"\\u200d\",\n    \"man_genie\": \"\\u200d\",\n    \"man_gesturing_no\": \"\\u200d\",\n    \"man_gesturing_no_dark_skin_tone\": \"\\u200d\",\n    \"man_gesturing_no_light_skin_tone\": \"\\u200d\",\n    \"man_gesturing_no_medium-dark_skin_tone\": \"\\u200d\",\n    \"man_gesturing_no_medium-light_skin_tone\": \"\\u200d\",\n    \"man_gesturing_no_medium_skin_tone\": \"\\u200d\",\n    \"man_gesturing_ok\": \"\\u200d\",\n    \"man_gesturing_ok_dark_skin_tone\": \"\\u200d\",\n    \"man_gesturing_ok_light_skin_tone\": \"\\u200d\",\n    \"man_gesturing_ok_medium-dark_skin_tone\": \"\\u200d\",\n    \"man_gesturing_ok_medium-light_skin_tone\": \"\\u200d\",\n    \"man_gesturing_ok_medium_skin_tone\": \"\\u200d\",\n    \"man_getting_haircut\": \"\\u200d\",\n    \"man_getting_haircut_dark_skin_tone\": \"\\u200d\",\n    \"man_getting_haircut_light_skin_tone\": \"\\u200d\",\n    \"man_getting_haircut_medium-dark_skin_tone\": \"\\u200d\",\n    \"man_getting_haircut_medium-light_skin_tone\": \"\\u200d\",\n    \"man_getting_haircut_medium_skin_tone\": \"\\u200d\",\n    \"man_getting_massage\": \"\\u200d\",\n    \"man_getting_massage_dark_skin_tone\": \"\\u200d\",\n    \"man_getting_massage_light_skin_tone\": \"\\u200d\",\n    \"man_getting_massage_medium-dark_skin_tone\": \"\\u200d\",\n    \"man_getting_massage_medium-light_skin_tone\": \"\\u200d\",\n    \"man_getting_massage_medium_skin_tone\": \"\\u200d\",\n    \"man_golfing\": \"\\u200d\",\n    \"man_golfing_dark_skin_tone\": \"\\u200d\",\n    \"man_golfing_light_skin_tone\": \"\\u200d\",\n    \"man_golfing_medium-dark_skin_tone\": \"\\u200d\",\n    \"man_golfing_medium-light_skin_tone\": \"\\u200d\",\n    \"man_golfing_medium_skin_tone\": \"\\u200d\",\n    \"man_guard\": \"\\u200d\",\n    \"man_guard_dark_skin_tone\": \"\\u200d\",\n    \"man_guard_light_skin_tone\": \"\\u200d\",\n    \"man_guard_medium-dark_skin_tone\": \"\\u200d\",\n    \"man_guard_medium-light_skin_tone\": \"\\u200d\",\n    \"man_guard_medium_skin_tone\": \"\\u200d\",\n    \"man_health_worker\": \"\\u200d\",\n    \"man_health_worker_dark_skin_tone\": \"\\u200d\",\n    \"man_health_worker_light_skin_tone\": \"\\u200d\",\n    \"man_health_worker_medium-dark_skin_tone\": \"\\u200d\",\n    \"man_health_worker_medium-light_skin_tone\": \"\\u200d\",\n    \"man_health_worker_medium_skin_tone\": \"\\u200d\",\n    \"man_in_lotus_position\": \"\\u200d\",\n    \"man_in_lotus_position_dark_skin_tone\": \"\\u200d\",\n    \"man_in_lotus_position_light_skin_tone\": \"\\u200d\",\n    \"man_in_lotus_position_medium-dark_skin_tone\": \"\\u200d\",\n    \"man_in_lotus_position_medium-light_skin_tone\": \"\\u200d\",\n    \"man_in_lotus_position_medium_skin_tone\": \"\\u200d\",\n    \"man_in_manual_wheelchair\": \"\\u200d\",\n    \"man_in_motorized_wheelchair\": \"\\u200d\",\n    \"man_in_steamy_room\": \"\\u200d\",\n    \"man_in_steamy_room_dark_skin_tone\": \"\\u200d\",\n    \"man_in_steamy_room_light_skin_tone\": \"\\u200d\",\n    \"man_in_steamy_room_medium-dark_skin_tone\": \"\\u200d\",\n    \"man_in_steamy_room_medium-light_skin_tone\": \"\\u200d\",\n    \"man_in_steamy_room_medium_skin_tone\": \"\\u200d\",\n    \"man_in_suit_levitating\": \"\",\n    \"man_in_suit_levitating_dark_skin_tone\": \"\",\n    \"man_in_suit_levitating_light_skin_tone\": \"\",\n    \"man_in_suit_levitating_medium-dark_skin_tone\": \"\",\n    \"man_in_suit_levitating_medium-light_skin_tone\": \"\",\n    \"man_in_suit_levitating_medium_skin_tone\": \"\",\n    \"man_in_tuxedo\": \"\",\n    \"man_in_tuxedo_dark_skin_tone\": \"\",\n    \"man_in_tuxedo_light_skin_tone\": \"\",\n    \"man_in_tuxedo_medium-dark_skin_tone\": \"\",\n    \"man_in_tuxedo_medium-light_skin_tone\": \"\",\n    \"man_in_tuxedo_medium_skin_tone\": \"\",\n    \"man_judge\": \"\\u200d\",\n    \"man_judge_dark_skin_tone\": \"\\u200d\",\n    \"man_judge_light_skin_tone\": \"\\u200d\",\n    \"man_judge_medium-dark_skin_tone\": \"\\u200d\",\n    \"man_judge_medium-light_skin_tone\": \"\\u200d\",\n    \"man_judge_medium_skin_tone\": \"\\u200d\",\n    \"man_juggling\": \"\\u200d\",\n    \"man_juggling_dark_skin_tone\": \"\\u200d\",\n    \"man_juggling_light_skin_tone\": \"\\u200d\",\n    \"man_juggling_medium-dark_skin_tone\": \"\\u200d\",\n    \"man_juggling_medium-light_skin_tone\": \"\\u200d\",\n    \"man_juggling_medium_skin_tone\": \"\\u200d\",\n    \"man_lifting_weights\": \"\\u200d\",\n    \"man_lifting_weights_dark_skin_tone\": \"\\u200d\",\n    \"man_lifting_weights_light_skin_tone\": \"\\u200d\",\n    \"man_lifting_weights_medium-dark_skin_tone\": \"\\u200d\",\n    \"man_lifting_weights_medium-light_skin_tone\": \"\\u200d\",\n    \"man_lifting_weights_medium_skin_tone\": \"\\u200d\",\n    \"man_light_skin_tone\": \"\",\n    \"man_mage\": \"\\u200d\",\n    \"man_mage_dark_skin_tone\": \"\\u200d\",\n    \"man_mage_light_skin_tone\": \"\\u200d\",\n    \"man_mage_medium-dark_skin_tone\": \"\\u200d\",\n    \"man_mage_medium-light_skin_tone\": \"\\u200d\",\n    \"man_mage_medium_skin_tone\": \"\\u200d\",\n    \"man_mechanic\": \"\\u200d\",\n    \"man_mechanic_dark_skin_tone\": \"\\u200d\",\n    \"man_mechanic_light_skin_tone\": \"\\u200d\",\n    \"man_mechanic_medium-dark_skin_tone\": \"\\u200d\",\n    \"man_mechanic_medium-light_skin_tone\": \"\\u200d\",\n    \"man_mechanic_medium_skin_tone\": \"\\u200d\",\n    \"man_medium-dark_skin_tone\": \"\",\n    \"man_medium-light_skin_tone\": \"\",\n    \"man_medium_skin_tone\": \"\",\n    \"man_mountain_biking\": \"\\u200d\",\n    \"man_mountain_biking_dark_skin_tone\": \"\\u200d\",\n    \"man_mountain_biking_light_skin_tone\": \"\\u200d\",\n    \"man_mountain_biking_medium-dark_skin_tone\": \"\\u200d\",\n    \"man_mountain_biking_medium-light_skin_tone\": \"\\u200d\",\n    \"man_mountain_biking_medium_skin_tone\": \"\\u200d\",\n    \"man_office_worker\": \"\\u200d\",\n    \"man_office_worker_dark_skin_tone\": \"\\u200d\",\n    \"man_office_worker_light_skin_tone\": \"\\u200d\",\n    \"man_office_worker_medium-dark_skin_tone\": \"\\u200d\",\n    \"man_office_worker_medium-light_skin_tone\": \"\\u200d\",\n    \"man_office_worker_medium_skin_tone\": \"\\u200d\",\n    \"man_pilot\": \"\\u200d\",\n    \"man_pilot_dark_skin_tone\": \"\\u200d\",\n    \"man_pilot_light_skin_tone\": \"\\u200d\",\n    \"man_pilot_medium-dark_skin_tone\": \"\\u200d\",\n    \"man_pilot_medium-light_skin_tone\": \"\\u200d\",\n    \"man_pilot_medium_skin_tone\": \"\\u200d\",\n    \"man_playing_handball\": \"\\u200d\",\n    \"man_playing_handball_dark_skin_tone\": \"\\u200d\",\n    \"man_playing_handball_light_skin_tone\": \"\\u200d\",\n    \"man_playing_handball_medium-dark_skin_tone\": \"\\u200d\",\n    \"man_playing_handball_medium-light_skin_tone\": \"\\u200d\",\n    \"man_playing_handball_medium_skin_tone\": \"\\u200d\",\n    \"man_playing_water_polo\": \"\\u200d\",\n    \"man_playing_water_polo_dark_skin_tone\": \"\\u200d\",\n    \"man_playing_water_polo_light_skin_tone\": \"\\u200d\",\n    \"man_playing_water_polo_medium-dark_skin_tone\": \"\\u200d\",\n    \"man_playing_water_polo_medium-light_skin_tone\": \"\\u200d\",\n    \"man_playing_water_polo_medium_skin_tone\": \"\\u200d\",\n    \"man_police_officer\": \"\\u200d\",\n    \"man_police_officer_dark_skin_tone\": \"\\u200d\",\n    \"man_police_officer_light_skin_tone\": \"\\u200d\",\n    \"man_police_officer_medium-dark_skin_tone\": \"\\u200d\",\n    \"man_police_officer_medium-light_skin_tone\": \"\\u200d\",\n    \"man_police_officer_medium_skin_tone\": \"\\u200d\",\n    \"man_pouting\": \"\\u200d\",\n    \"man_pouting_dark_skin_tone\": \"\\u200d\",\n    \"man_pouting_light_skin_tone\": \"\\u200d\",\n    \"man_pouting_medium-dark_skin_tone\": \"\\u200d\",\n    \"man_pouting_medium-light_skin_tone\": \"\\u200d\",\n    \"man_pouting_medium_skin_tone\": \"\\u200d\",\n    \"man_raising_hand\": \"\\u200d\",\n    \"man_raising_hand_dark_skin_tone\": \"\\u200d\",\n    \"man_raising_hand_light_skin_tone\": \"\\u200d\",\n    \"man_raising_hand_medium-dark_skin_tone\": \"\\u200d\",\n    \"man_raising_hand_medium-light_skin_tone\": \"\\u200d\",\n    \"man_raising_hand_medium_skin_tone\": \"\\u200d\",\n    \"man_rowing_boat\": \"\\u200d\",\n    \"man_rowing_boat_dark_skin_tone\": \"\\u200d\",\n    \"man_rowing_boat_light_skin_tone\": \"\\u200d\",\n    \"man_rowing_boat_medium-dark_skin_tone\": \"\\u200d\",\n    \"man_rowing_boat_medium-light_skin_tone\": \"\\u200d\",\n    \"man_rowing_boat_medium_skin_tone\": \"\\u200d\",\n    \"man_running\": \"\\u200d\",\n    \"man_running_dark_skin_tone\": \"\\u200d\",\n    \"man_running_light_skin_tone\": \"\\u200d\",\n    \"man_running_medium-dark_skin_tone\": \"\\u200d\",\n    \"man_running_medium-light_skin_tone\": \"\\u200d\",\n    \"man_running_medium_skin_tone\": \"\\u200d\",\n    \"man_scientist\": \"\\u200d\",\n    \"man_scientist_dark_skin_tone\": \"\\u200d\",\n    \"man_scientist_light_skin_tone\": \"\\u200d\",\n    \"man_scientist_medium-dark_skin_tone\": \"\\u200d\",\n    \"man_scientist_medium-light_skin_tone\": \"\\u200d\",\n    \"man_scientist_medium_skin_tone\": \"\\u200d\",\n    \"man_shrugging\": \"\\u200d\",\n    \"man_shrugging_dark_skin_tone\": \"\\u200d\",\n    \"man_shrugging_light_skin_tone\": \"\\u200d\",\n    \"man_shrugging_medium-dark_skin_tone\": \"\\u200d\",\n    \"man_shrugging_medium-light_skin_tone\": \"\\u200d\",\n    \"man_shrugging_medium_skin_tone\": \"\\u200d\",\n    \"man_singer\": \"\\u200d\",\n    \"man_singer_dark_skin_tone\": \"\\u200d\",\n    \"man_singer_light_skin_tone\": \"\\u200d\",\n    \"man_singer_medium-dark_skin_tone\": \"\\u200d\",\n    \"man_singer_medium-light_skin_tone\": \"\\u200d\",\n    \"man_singer_medium_skin_tone\": \"\\u200d\",\n    \"man_student\": \"\\u200d\",\n    \"man_student_dark_skin_tone\": \"\\u200d\",\n    \"man_student_light_skin_tone\": \"\\u200d\",\n    \"man_student_medium-dark_skin_tone\": \"\\u200d\",\n    \"man_student_medium-light_skin_tone\": \"\\u200d\",\n    \"man_student_medium_skin_tone\": \"\\u200d\",\n    \"man_surfing\": \"\\u200d\",\n    \"man_surfing_dark_skin_tone\": \"\\u200d\",\n    \"man_surfing_light_skin_tone\": \"\\u200d\",\n    \"man_surfing_medium-dark_skin_tone\": \"\\u200d\",\n    \"man_surfing_medium-light_skin_tone\": \"\\u200d\",\n    \"man_surfing_medium_skin_tone\": \"\\u200d\",\n    \"man_swimming\": \"\\u200d\",\n    \"man_swimming_dark_skin_tone\": \"\\u200d\",\n    \"man_swimming_light_skin_tone\": \"\\u200d\",\n    \"man_swimming_medium-dark_skin_tone\": \"\\u200d\",\n    \"man_swimming_medium-light_skin_tone\": \"\\u200d\",\n    \"man_swimming_medium_skin_tone\": \"\\u200d\",\n    \"man_teacher\": \"\\u200d\",\n    \"man_teacher_dark_skin_tone\": \"\\u200d\",\n    \"man_teacher_light_skin_tone\": \"\\u200d\",\n    \"man_teacher_medium-dark_skin_tone\": \"\\u200d\",\n    \"man_teacher_medium-light_skin_tone\": \"\\u200d\",\n    \"man_teacher_medium_skin_tone\": \"\\u200d\",\n    \"man_technologist\": \"\\u200d\",\n    \"man_technologist_dark_skin_tone\": \"\\u200d\",\n    \"man_technologist_light_skin_tone\": \"\\u200d\",\n    \"man_technologist_medium-dark_skin_tone\": \"\\u200d\",\n    \"man_technologist_medium-light_skin_tone\": \"\\u200d\",\n    \"man_technologist_medium_skin_tone\": \"\\u200d\",\n    \"man_tipping_hand\": \"\\u200d\",\n    \"man_tipping_hand_dark_skin_tone\": \"\\u200d\",\n    \"man_tipping_hand_light_skin_tone\": \"\\u200d\",\n    \"man_tipping_hand_medium-dark_skin_tone\": \"\\u200d\",\n    \"man_tipping_hand_medium-light_skin_tone\": \"\\u200d\",\n    \"man_tipping_hand_medium_skin_tone\": \"\\u200d\",\n    \"man_vampire\": \"\\u200d\",\n    \"man_vampire_dark_skin_tone\": \"\\u200d\",\n    \"man_vampire_light_skin_tone\": \"\\u200d\",\n    \"man_vampire_medium-dark_skin_tone\": \"\\u200d\",\n    \"man_vampire_medium-light_skin_tone\": \"\\u200d\",\n    \"man_vampire_medium_skin_tone\": \"\\u200d\",\n    \"man_walking\": \"\\u200d\",\n    \"man_walking_dark_skin_tone\": \"\\u200d\",\n    \"man_walking_light_skin_tone\": \"\\u200d\",\n    \"man_walking_medium-dark_skin_tone\": \"\\u200d\",\n    \"man_walking_medium-light_skin_tone\": \"\\u200d\",\n    \"man_walking_medium_skin_tone\": \"\\u200d\",\n    \"man_wearing_turban\": \"\\u200d\",\n    \"man_wearing_turban_dark_skin_tone\": \"\\u200d\",\n    \"man_wearing_turban_light_skin_tone\": \"\\u200d\",\n    \"man_wearing_turban_medium-dark_skin_tone\": \"\\u200d\",\n    \"man_wearing_turban_medium-light_skin_tone\": \"\\u200d\",\n    \"man_wearing_turban_medium_skin_tone\": \"\\u200d\",\n    \"man_with_probing_cane\": \"\\u200d\",\n    \"man_with_chinese_cap\": \"\",\n    \"man_with_chinese_cap_dark_skin_tone\": \"\",\n    \"man_with_chinese_cap_light_skin_tone\": \"\",\n    \"man_with_chinese_cap_medium-dark_skin_tone\": \"\",\n    \"man_with_chinese_cap_medium-light_skin_tone\": \"\",\n    \"man_with_chinese_cap_medium_skin_tone\": \"\",\n    \"man_zombie\": \"\\u200d\",\n    \"mango\": \"\",\n    \"mantelpiece_clock\": \"\",\n    \"manual_wheelchair\": \"\",\n    \"mans_shoe\": \"\",\n    \"map_of_japan\": \"\",\n    \"maple_leaf\": \"\",\n    \"martial_arts_uniform\": \"\",\n    \"mate\": \"\",\n    \"meat_on_bone\": \"\",\n    \"mechanical_arm\": \"\",\n    \"mechanical_leg\": \"\",\n    \"medical_symbol\": \"\",\n    \"megaphone\": \"\",\n    \"melon\": \"\",\n    \"memo\": \"\",\n    \"men_with_bunny_ears\": \"\\u200d\",\n    \"men_wrestling\": \"\\u200d\",\n    \"menorah\": \"\",\n    \"mens_room\": \"\",\n    \"mermaid\": \"\\u200d\",\n    \"mermaid_dark_skin_tone\": \"\\u200d\",\n    \"mermaid_light_skin_tone\": \"\\u200d\",\n    \"mermaid_medium-dark_skin_tone\": \"\\u200d\",\n    \"mermaid_medium-light_skin_tone\": \"\\u200d\",\n    \"mermaid_medium_skin_tone\": \"\\u200d\",\n    \"merman\": \"\\u200d\",\n    \"merman_dark_skin_tone\": \"\\u200d\",\n    \"merman_light_skin_tone\": \"\\u200d\",\n    \"merman_medium-dark_skin_tone\": \"\\u200d\",\n    \"merman_medium-light_skin_tone\": \"\\u200d\",\n    \"merman_medium_skin_tone\": \"\\u200d\",\n    \"merperson\": \"\",\n    \"merperson_dark_skin_tone\": \"\",\n    \"merperson_light_skin_tone\": \"\",\n    \"merperson_medium-dark_skin_tone\": \"\",\n    \"merperson_medium-light_skin_tone\": \"\",\n    \"merperson_medium_skin_tone\": \"\",\n    \"metro\": \"\",\n    \"microbe\": \"\",\n    \"microphone\": \"\",\n    \"microscope\": \"\",\n    \"middle_finger\": \"\",\n    \"middle_finger_dark_skin_tone\": \"\",\n    \"middle_finger_light_skin_tone\": \"\",\n    \"middle_finger_medium-dark_skin_tone\": \"\",\n    \"middle_finger_medium-light_skin_tone\": \"\",\n    \"middle_finger_medium_skin_tone\": \"\",\n    \"military_medal\": \"\",\n    \"milky_way\": \"\",\n    \"minibus\": \"\",\n    \"moai\": \"\",\n    \"mobile_phone\": \"\",\n    \"mobile_phone_off\": \"\",\n    \"mobile_phone_with_arrow\": \"\",\n    \"money-mouth_face\": \"\",\n    \"money_bag\": \"\",\n    \"money_with_wings\": \"\",\n    \"monkey\": \"\",\n    \"monkey_face\": \"\",\n    \"monorail\": \"\",\n    \"moon_cake\": \"\",\n    \"moon_viewing_ceremony\": \"\",\n    \"mosque\": \"\",\n    \"mosquito\": \"\",\n    \"motor_boat\": \"\",\n    \"motor_scooter\": \"\",\n    \"motorcycle\": \"\",\n    \"motorized_wheelchair\": \"\",\n    \"motorway\": \"\",\n    \"mount_fuji\": \"\",\n    \"mountain\": \"\",\n    \"mountain_cableway\": \"\",\n    \"mountain_railway\": \"\",\n    \"mouse\": \"\",\n    \"mouse_face\": \"\",\n    \"mouth\": \"\",\n    \"movie_camera\": \"\",\n    \"mushroom\": \"\",\n    \"musical_keyboard\": \"\",\n    \"musical_note\": \"\",\n    \"musical_notes\": \"\",\n    \"musical_score\": \"\",\n    \"muted_speaker\": \"\",\n    \"nail_polish\": \"\",\n    \"nail_polish_dark_skin_tone\": \"\",\n    \"nail_polish_light_skin_tone\": \"\",\n    \"nail_polish_medium-dark_skin_tone\": \"\",\n    \"nail_polish_medium-light_skin_tone\": \"\",\n    \"nail_polish_medium_skin_tone\": \"\",\n    \"name_badge\": \"\",\n    \"national_park\": \"\",\n    \"nauseated_face\": \"\",\n    \"nazar_amulet\": \"\",\n    \"necktie\": \"\",\n    \"nerd_face\": \"\",\n    \"neutral_face\": \"\",\n    \"new_moon\": \"\",\n    \"new_moon_face\": \"\",\n    \"newspaper\": \"\",\n    \"next_track_button\": \"\",\n    \"night_with_stars\": \"\",\n    \"nine-thirty\": \"\",\n    \"nine_oclock\": \"\",\n    \"no_bicycles\": \"\",\n    \"no_entry\": \"\",\n    \"no_littering\": \"\",\n    \"no_mobile_phones\": \"\",\n    \"no_one_under_eighteen\": \"\",\n    \"no_pedestrians\": \"\",\n    \"no_smoking\": \"\",\n    \"non-potable_water\": \"\",\n    \"nose\": \"\",\n    \"nose_dark_skin_tone\": \"\",\n    \"nose_light_skin_tone\": \"\",\n    \"nose_medium-dark_skin_tone\": \"\",\n    \"nose_medium-light_skin_tone\": \"\",\n    \"nose_medium_skin_tone\": \"\",\n    \"notebook\": \"\",\n    \"notebook_with_decorative_cover\": \"\",\n    \"nut_and_bolt\": \"\",\n    \"octopus\": \"\",\n    \"oden\": \"\",\n    \"office_building\": \"\",\n    \"ogre\": \"\",\n    \"oil_drum\": \"\",\n    \"old_key\": \"\",\n    \"old_man\": \"\",\n    \"old_man_dark_skin_tone\": \"\",\n    \"old_man_light_skin_tone\": \"\",\n    \"old_man_medium-dark_skin_tone\": \"\",\n    \"old_man_medium-light_skin_tone\": \"\",\n    \"old_man_medium_skin_tone\": \"\",\n    \"old_woman\": \"\",\n    \"old_woman_dark_skin_tone\": \"\",\n    \"old_woman_light_skin_tone\": \"\",\n    \"old_woman_medium-dark_skin_tone\": \"\",\n    \"old_woman_medium-light_skin_tone\": \"\",\n    \"old_woman_medium_skin_tone\": \"\",\n    \"older_adult\": \"\",\n    \"older_adult_dark_skin_tone\": \"\",\n    \"older_adult_light_skin_tone\": \"\",\n    \"older_adult_medium-dark_skin_tone\": \"\",\n    \"older_adult_medium-light_skin_tone\": \"\",\n    \"older_adult_medium_skin_tone\": \"\",\n    \"om\": \"\",\n    \"oncoming_automobile\": \"\",\n    \"oncoming_bus\": \"\",\n    \"oncoming_fist\": \"\",\n    \"oncoming_fist_dark_skin_tone\": \"\",\n    \"oncoming_fist_light_skin_tone\": \"\",\n    \"oncoming_fist_medium-dark_skin_tone\": \"\",\n    \"oncoming_fist_medium-light_skin_tone\": \"\",\n    \"oncoming_fist_medium_skin_tone\": \"\",\n    \"oncoming_police_car\": \"\",\n    \"oncoming_taxi\": \"\",\n    \"one-piece_swimsuit\": \"\",\n    \"one-thirty\": \"\",\n    \"one_oclock\": \"\",\n    \"onion\": \"\",\n    \"open_book\": \"\",\n    \"open_file_folder\": \"\",\n    \"open_hands\": \"\",\n    \"open_hands_dark_skin_tone\": \"\",\n    \"open_hands_light_skin_tone\": \"\",\n    \"open_hands_medium-dark_skin_tone\": \"\",\n    \"open_hands_medium-light_skin_tone\": \"\",\n    \"open_hands_medium_skin_tone\": \"\",\n    \"open_mailbox_with_lowered_flag\": \"\",\n    \"open_mailbox_with_raised_flag\": \"\",\n    \"optical_disk\": \"\",\n    \"orange_book\": \"\",\n    \"orange_circle\": \"\",\n    \"orange_heart\": \"\",\n    \"orange_square\": \"\",\n    \"orangutan\": \"\",\n    \"orthodox_cross\": \"\",\n    \"otter\": \"\",\n    \"outbox_tray\": \"\",\n    \"owl\": \"\",\n    \"ox\": \"\",\n    \"oyster\": \"\",\n    \"package\": \"\",\n    \"page_facing_up\": \"\",\n    \"page_with_curl\": \"\",\n    \"pager\": \"\",\n    \"paintbrush\": \"\",\n    \"palm_tree\": \"\",\n    \"palms_up_together\": \"\",\n    \"palms_up_together_dark_skin_tone\": \"\",\n    \"palms_up_together_light_skin_tone\": \"\",\n    \"palms_up_together_medium-dark_skin_tone\": \"\",\n    \"palms_up_together_medium-light_skin_tone\": \"\",\n    \"palms_up_together_medium_skin_tone\": \"\",\n    \"pancakes\": \"\",\n    \"panda_face\": \"\",\n    \"paperclip\": \"\",\n    \"parrot\": \"\",\n    \"part_alternation_mark\": \"\",\n    \"party_popper\": \"\",\n    \"partying_face\": \"\",\n    \"passenger_ship\": \"\",\n    \"passport_control\": \"\",\n    \"pause_button\": \"\",\n    \"paw_prints\": \"\",\n    \"peace_symbol\": \"\",\n    \"peach\": \"\",\n    \"peacock\": \"\",\n    \"peanuts\": \"\",\n    \"pear\": \"\",\n    \"pen\": \"\",\n    \"pencil\": \"\",\n    \"penguin\": \"\",\n    \"pensive_face\": \"\",\n    \"people_holding_hands\": \"\\u200d\\u200d\",\n    \"people_with_bunny_ears\": \"\",\n    \"people_wrestling\": \"\",\n    \"performing_arts\": \"\",\n    \"persevering_face\": \"\",\n    \"person_biking\": \"\",\n    \"person_biking_dark_skin_tone\": \"\",\n    \"person_biking_light_skin_tone\": \"\",\n    \"person_biking_medium-dark_skin_tone\": \"\",\n    \"person_biking_medium-light_skin_tone\": \"\",\n    \"person_biking_medium_skin_tone\": \"\",\n    \"person_bouncing_ball\": \"\",\n    \"person_bouncing_ball_dark_skin_tone\": \"\",\n    \"person_bouncing_ball_light_skin_tone\": \"\",\n    \"person_bouncing_ball_medium-dark_skin_tone\": \"\",\n    \"person_bouncing_ball_medium-light_skin_tone\": \"\",\n    \"person_bouncing_ball_medium_skin_tone\": \"\",\n    \"person_bowing\": \"\",\n    \"person_bowing_dark_skin_tone\": \"\",\n    \"person_bowing_light_skin_tone\": \"\",\n    \"person_bowing_medium-dark_skin_tone\": \"\",\n    \"person_bowing_medium-light_skin_tone\": \"\",\n    \"person_bowing_medium_skin_tone\": \"\",\n    \"person_cartwheeling\": \"\",\n    \"person_cartwheeling_dark_skin_tone\": \"\",\n    \"person_cartwheeling_light_skin_tone\": \"\",\n    \"person_cartwheeling_medium-dark_skin_tone\": \"\",\n    \"person_cartwheeling_medium-light_skin_tone\": \"\",\n    \"person_cartwheeling_medium_skin_tone\": \"\",\n    \"person_climbing\": \"\",\n    \"person_climbing_dark_skin_tone\": \"\",\n    \"person_climbing_light_skin_tone\": \"\",\n    \"person_climbing_medium-dark_skin_tone\": \"\",\n    \"person_climbing_medium-light_skin_tone\": \"\",\n    \"person_climbing_medium_skin_tone\": \"\",\n    \"person_facepalming\": \"\",\n    \"person_facepalming_dark_skin_tone\": \"\",\n    \"person_facepalming_light_skin_tone\": \"\",\n    \"person_facepalming_medium-dark_skin_tone\": \"\",\n    \"person_facepalming_medium-light_skin_tone\": \"\",\n    \"person_facepalming_medium_skin_tone\": \"\",\n    \"person_fencing\": \"\",\n    \"person_frowning\": \"\",\n    \"person_frowning_dark_skin_tone\": \"\",\n    \"person_frowning_light_skin_tone\": \"\",\n    \"person_frowning_medium-dark_skin_tone\": \"\",\n    \"person_frowning_medium-light_skin_tone\": \"\",\n    \"person_frowning_medium_skin_tone\": \"\",\n    \"person_gesturing_no\": \"\",\n    \"person_gesturing_no_dark_skin_tone\": \"\",\n    \"person_gesturing_no_light_skin_tone\": \"\",\n    \"person_gesturing_no_medium-dark_skin_tone\": \"\",\n    \"person_gesturing_no_medium-light_skin_tone\": \"\",\n    \"person_gesturing_no_medium_skin_tone\": \"\",\n    \"person_gesturing_ok\": \"\",\n    \"person_gesturing_ok_dark_skin_tone\": \"\",\n    \"person_gesturing_ok_light_skin_tone\": \"\",\n    \"person_gesturing_ok_medium-dark_skin_tone\": \"\",\n    \"person_gesturing_ok_medium-light_skin_tone\": \"\",\n    \"person_gesturing_ok_medium_skin_tone\": \"\",\n    \"person_getting_haircut\": \"\",\n    \"person_getting_haircut_dark_skin_tone\": \"\",\n    \"person_getting_haircut_light_skin_tone\": \"\",\n    \"person_getting_haircut_medium-dark_skin_tone\": \"\",\n    \"person_getting_haircut_medium-light_skin_tone\": \"\",\n    \"person_getting_haircut_medium_skin_tone\": \"\",\n    \"person_getting_massage\": \"\",\n    \"person_getting_massage_dark_skin_tone\": \"\",\n    \"person_getting_massage_light_skin_tone\": \"\",\n    \"person_getting_massage_medium-dark_skin_tone\": \"\",\n    \"person_getting_massage_medium-light_skin_tone\": \"\",\n    \"person_getting_massage_medium_skin_tone\": \"\",\n    \"person_golfing\": \"\",\n    \"person_golfing_dark_skin_tone\": \"\",\n    \"person_golfing_light_skin_tone\": \"\",\n    \"person_golfing_medium-dark_skin_tone\": \"\",\n    \"person_golfing_medium-light_skin_tone\": \"\",\n    \"person_golfing_medium_skin_tone\": \"\",\n    \"person_in_bed\": \"\",\n    \"person_in_bed_dark_skin_tone\": \"\",\n    \"person_in_bed_light_skin_tone\": \"\",\n    \"person_in_bed_medium-dark_skin_tone\": \"\",\n    \"person_in_bed_medium-light_skin_tone\": \"\",\n    \"person_in_bed_medium_skin_tone\": \"\",\n    \"person_in_lotus_position\": \"\",\n    \"person_in_lotus_position_dark_skin_tone\": \"\",\n    \"person_in_lotus_position_light_skin_tone\": \"\",\n    \"person_in_lotus_position_medium-dark_skin_tone\": \"\",\n    \"person_in_lotus_position_medium-light_skin_tone\": \"\",\n    \"person_in_lotus_position_medium_skin_tone\": \"\",\n    \"person_in_steamy_room\": \"\",\n    \"person_in_steamy_room_dark_skin_tone\": \"\",\n    \"person_in_steamy_room_light_skin_tone\": \"\",\n    \"person_in_steamy_room_medium-dark_skin_tone\": \"\",\n    \"person_in_steamy_room_medium-light_skin_tone\": \"\",\n    \"person_in_steamy_room_medium_skin_tone\": \"\",\n    \"person_juggling\": \"\",\n    \"person_juggling_dark_skin_tone\": \"\",\n    \"person_juggling_light_skin_tone\": \"\",\n    \"person_juggling_medium-dark_skin_tone\": \"\",\n    \"person_juggling_medium-light_skin_tone\": \"\",\n    \"person_juggling_medium_skin_tone\": \"\",\n    \"person_kneeling\": \"\",\n    \"person_lifting_weights\": \"\",\n    \"person_lifting_weights_dark_skin_tone\": \"\",\n    \"person_lifting_weights_light_skin_tone\": \"\",\n    \"person_lifting_weights_medium-dark_skin_tone\": \"\",\n    \"person_lifting_weights_medium-light_skin_tone\": \"\",\n    \"person_lifting_weights_medium_skin_tone\": \"\",\n    \"person_mountain_biking\": \"\",\n    \"person_mountain_biking_dark_skin_tone\": \"\",\n    \"person_mountain_biking_light_skin_tone\": \"\",\n    \"person_mountain_biking_medium-dark_skin_tone\": \"\",\n    \"person_mountain_biking_medium-light_skin_tone\": \"\",\n    \"person_mountain_biking_medium_skin_tone\": \"\",\n    \"person_playing_handball\": \"\",\n    \"person_playing_handball_dark_skin_tone\": \"\",\n    \"person_playing_handball_light_skin_tone\": \"\",\n    \"person_playing_handball_medium-dark_skin_tone\": \"\",\n    \"person_playing_handball_medium-light_skin_tone\": \"\",\n    \"person_playing_handball_medium_skin_tone\": \"\",\n    \"person_playing_water_polo\": \"\",\n    \"person_playing_water_polo_dark_skin_tone\": \"\",\n    \"person_playing_water_polo_light_skin_tone\": \"\",\n    \"person_playing_water_polo_medium-dark_skin_tone\": \"\",\n    \"person_playing_water_polo_medium-light_skin_tone\": \"\",\n    \"person_playing_water_polo_medium_skin_tone\": \"\",\n    \"person_pouting\": \"\",\n    \"person_pouting_dark_skin_tone\": \"\",\n    \"person_pouting_light_skin_tone\": \"\",\n    \"person_pouting_medium-dark_skin_tone\": \"\",\n    \"person_pouting_medium-light_skin_tone\": \"\",\n    \"person_pouting_medium_skin_tone\": \"\",\n    \"person_raising_hand\": \"\",\n    \"person_raising_hand_dark_skin_tone\": \"\",\n    \"person_raising_hand_light_skin_tone\": \"\",\n    \"person_raising_hand_medium-dark_skin_tone\": \"\",\n    \"person_raising_hand_medium-light_skin_tone\": \"\",\n    \"person_raising_hand_medium_skin_tone\": \"\",\n    \"person_rowing_boat\": \"\",\n    \"person_rowing_boat_dark_skin_tone\": \"\",\n    \"person_rowing_boat_light_skin_tone\": \"\",\n    \"person_rowing_boat_medium-dark_skin_tone\": \"\",\n    \"person_rowing_boat_medium-light_skin_tone\": \"\",\n    \"person_rowing_boat_medium_skin_tone\": \"\",\n    \"person_running\": \"\",\n    \"person_running_dark_skin_tone\": \"\",\n    \"person_running_light_skin_tone\": \"\",\n    \"person_running_medium-dark_skin_tone\": \"\",\n    \"person_running_medium-light_skin_tone\": \"\",\n    \"person_running_medium_skin_tone\": \"\",\n    \"person_shrugging\": \"\",\n    \"person_shrugging_dark_skin_tone\": \"\",\n    \"person_shrugging_light_skin_tone\": \"\",\n    \"person_shrugging_medium-dark_skin_tone\": \"\",\n    \"person_shrugging_medium-light_skin_tone\": \"\",\n    \"person_shrugging_medium_skin_tone\": \"\",\n    \"person_standing\": \"\",\n    \"person_surfing\": \"\",\n    \"person_surfing_dark_skin_tone\": \"\",\n    \"person_surfing_light_skin_tone\": \"\",\n    \"person_surfing_medium-dark_skin_tone\": \"\",\n    \"person_surfing_medium-light_skin_tone\": \"\",\n    \"person_surfing_medium_skin_tone\": \"\",\n    \"person_swimming\": \"\",\n    \"person_swimming_dark_skin_tone\": \"\",\n    \"person_swimming_light_skin_tone\": \"\",\n    \"person_swimming_medium-dark_skin_tone\": \"\",\n    \"person_swimming_medium-light_skin_tone\": \"\",\n    \"person_swimming_medium_skin_tone\": \"\",\n    \"person_taking_bath\": \"\",\n    \"person_taking_bath_dark_skin_tone\": \"\",\n    \"person_taking_bath_light_skin_tone\": \"\",\n    \"person_taking_bath_medium-dark_skin_tone\": \"\",\n    \"person_taking_bath_medium-light_skin_tone\": \"\",\n    \"person_taking_bath_medium_skin_tone\": \"\",\n    \"person_tipping_hand\": \"\",\n    \"person_tipping_hand_dark_skin_tone\": \"\",\n    \"person_tipping_hand_light_skin_tone\": \"\",\n    \"person_tipping_hand_medium-dark_skin_tone\": \"\",\n    \"person_tipping_hand_medium-light_skin_tone\": \"\",\n    \"person_tipping_hand_medium_skin_tone\": \"\",\n    \"person_walking\": \"\",\n    \"person_walking_dark_skin_tone\": \"\",\n    \"person_walking_light_skin_tone\": \"\",\n    \"person_walking_medium-dark_skin_tone\": \"\",\n    \"person_walking_medium-light_skin_tone\": \"\",\n    \"person_walking_medium_skin_tone\": \"\",\n    \"person_wearing_turban\": \"\",\n    \"person_wearing_turban_dark_skin_tone\": \"\",\n    \"person_wearing_turban_light_skin_tone\": \"\",\n    \"person_wearing_turban_medium-dark_skin_tone\": \"\",\n    \"person_wearing_turban_medium-light_skin_tone\": \"\",\n    \"person_wearing_turban_medium_skin_tone\": \"\",\n    \"petri_dish\": \"\",\n    \"pick\": \"\",\n    \"pie\": \"\",\n    \"pig\": \"\",\n    \"pig_face\": \"\",\n    \"pig_nose\": \"\",\n    \"pile_of_poo\": \"\",\n    \"pill\": \"\",\n    \"pinching_hand\": \"\",\n    \"pine_decoration\": \"\",\n    \"pineapple\": \"\",\n    \"ping_pong\": \"\",\n    \"pirate_flag\": \"\\u200d\",\n    \"pistol\": \"\",\n    \"pizza\": \"\",\n    \"place_of_worship\": \"\",\n    \"play_button\": \"\",\n    \"play_or_pause_button\": \"\",\n    \"pleading_face\": \"\",\n    \"police_car\": \"\",\n    \"police_car_light\": \"\",\n    \"police_officer\": \"\",\n    \"police_officer_dark_skin_tone\": \"\",\n    \"police_officer_light_skin_tone\": \"\",\n    \"police_officer_medium-dark_skin_tone\": \"\",\n    \"police_officer_medium-light_skin_tone\": \"\",\n    \"police_officer_medium_skin_tone\": \"\",\n    \"poodle\": \"\",\n    \"pool_8_ball\": \"\",\n    \"popcorn\": \"\",\n    \"post_office\": \"\",\n    \"postal_horn\": \"\",\n    \"postbox\": \"\",\n    \"pot_of_food\": \"\",\n    \"potable_water\": \"\",\n    \"potato\": \"\",\n    \"poultry_leg\": \"\",\n    \"pound_banknote\": \"\",\n    \"pouting_cat_face\": \"\",\n    \"pouting_face\": \"\",\n    \"prayer_beads\": \"\",\n    \"pregnant_woman\": \"\",\n    \"pregnant_woman_dark_skin_tone\": \"\",\n    \"pregnant_woman_light_skin_tone\": \"\",\n    \"pregnant_woman_medium-dark_skin_tone\": \"\",\n    \"pregnant_woman_medium-light_skin_tone\": \"\",\n    \"pregnant_woman_medium_skin_tone\": \"\",\n    \"pretzel\": \"\",\n    \"probing_cane\": \"\",\n    \"prince\": \"\",\n    \"prince_dark_skin_tone\": \"\",\n    \"prince_light_skin_tone\": \"\",\n    \"prince_medium-dark_skin_tone\": \"\",\n    \"prince_medium-light_skin_tone\": \"\",\n    \"prince_medium_skin_tone\": \"\",\n    \"princess\": \"\",\n    \"princess_dark_skin_tone\": \"\",\n    \"princess_light_skin_tone\": \"\",\n    \"princess_medium-dark_skin_tone\": \"\",\n    \"princess_medium-light_skin_tone\": \"\",\n    \"princess_medium_skin_tone\": \"\",\n    \"printer\": \"\",\n    \"prohibited\": \"\",\n    \"purple_circle\": \"\",\n    \"purple_heart\": \"\",\n    \"purple_square\": \"\",\n    \"purse\": \"\",\n    \"pushpin\": \"\",\n    \"question_mark\": \"\",\n    \"rabbit\": \"\",\n    \"rabbit_face\": \"\",\n    \"raccoon\": \"\",\n    \"racing_car\": \"\",\n    \"radio\": \"\",\n    \"radio_button\": \"\",\n    \"radioactive\": \"\",\n    \"railway_car\": \"\",\n    \"railway_track\": \"\",\n    \"rainbow\": \"\",\n    \"rainbow_flag\": \"\\u200d\",\n    \"raised_back_of_hand\": \"\",\n    \"raised_back_of_hand_dark_skin_tone\": \"\",\n    \"raised_back_of_hand_light_skin_tone\": \"\",\n    \"raised_back_of_hand_medium-dark_skin_tone\": \"\",\n    \"raised_back_of_hand_medium-light_skin_tone\": \"\",\n    \"raised_back_of_hand_medium_skin_tone\": \"\",\n    \"raised_fist\": \"\",\n    \"raised_fist_dark_skin_tone\": \"\",\n    \"raised_fist_light_skin_tone\": \"\",\n    \"raised_fist_medium-dark_skin_tone\": \"\",\n    \"raised_fist_medium-light_skin_tone\": \"\",\n    \"raised_fist_medium_skin_tone\": \"\",\n    \"raised_hand\": \"\",\n    \"raised_hand_dark_skin_tone\": \"\",\n    \"raised_hand_light_skin_tone\": \"\",\n    \"raised_hand_medium-dark_skin_tone\": \"\",\n    \"raised_hand_medium-light_skin_tone\": \"\",\n    \"raised_hand_medium_skin_tone\": \"\",\n    \"raising_hands\": \"\",\n    \"raising_hands_dark_skin_tone\": \"\",\n    \"raising_hands_light_skin_tone\": \"\",\n    \"raising_hands_medium-dark_skin_tone\": \"\",\n    \"raising_hands_medium-light_skin_tone\": \"\",\n    \"raising_hands_medium_skin_tone\": \"\",\n    \"ram\": \"\",\n    \"rat\": \"\",\n    \"razor\": \"\",\n    \"ringed_planet\": \"\",\n    \"receipt\": \"\",\n    \"record_button\": \"\",\n    \"recycling_symbol\": \"\",\n    \"red_apple\": \"\",\n    \"red_circle\": \"\",\n    \"red_envelope\": \"\",\n    \"red_hair\": \"\",\n    \"red-haired_man\": \"\\u200d\",\n    \"red-haired_woman\": \"\\u200d\",\n    \"red_heart\": \"\",\n    \"red_paper_lantern\": \"\",\n    \"red_square\": \"\",\n    \"red_triangle_pointed_down\": \"\",\n    \"red_triangle_pointed_up\": \"\",\n    \"registered\": \"\",\n    \"relieved_face\": \"\",\n    \"reminder_ribbon\": \"\",\n    \"repeat_button\": \"\",\n    \"repeat_single_button\": \"\",\n    \"rescue_workers_helmet\": \"\",\n    \"restroom\": \"\",\n    \"reverse_button\": \"\",\n    \"revolving_hearts\": \"\",\n    \"rhinoceros\": \"\",\n    \"ribbon\": \"\",\n    \"rice_ball\": \"\",\n    \"rice_cracker\": \"\",\n    \"right-facing_fist\": \"\",\n    \"right-facing_fist_dark_skin_tone\": \"\",\n    \"right-facing_fist_light_skin_tone\": \"\",\n    \"right-facing_fist_medium-dark_skin_tone\": \"\",\n    \"right-facing_fist_medium-light_skin_tone\": \"\",\n    \"right-facing_fist_medium_skin_tone\": \"\",\n    \"right_anger_bubble\": \"\",\n    \"right_arrow\": \"\",\n    \"right_arrow_curving_down\": \"\",\n    \"right_arrow_curving_left\": \"\",\n    \"right_arrow_curving_up\": \"\",\n    \"ring\": \"\",\n    \"roasted_sweet_potato\": \"\",\n    \"robot_face\": \"\",\n    \"rocket\": \"\",\n    \"roll_of_paper\": \"\",\n    \"rolled-up_newspaper\": \"\",\n    \"roller_coaster\": \"\",\n    \"rolling_on_the_floor_laughing\": \"\",\n    \"rooster\": \"\",\n    \"rose\": \"\",\n    \"rosette\": \"\",\n    \"round_pushpin\": \"\",\n    \"rugby_football\": \"\",\n    \"running_shirt\": \"\",\n    \"running_shoe\": \"\",\n    \"sad_but_relieved_face\": \"\",\n    \"safety_pin\": \"\",\n    \"safety_vest\": \"\",\n    \"salt\": \"\",\n    \"sailboat\": \"\",\n    \"sake\": \"\",\n    \"sandwich\": \"\",\n    \"sari\": \"\",\n    \"satellite\": \"\",\n    \"satellite_antenna\": \"\",\n    \"sauropod\": \"\",\n    \"saxophone\": \"\",\n    \"scarf\": \"\",\n    \"school\": \"\",\n    \"school_backpack\": \"\",\n    \"scissors\": \"\",\n    \"scorpion\": \"\",\n    \"scroll\": \"\",\n    \"seat\": \"\",\n    \"see-no-evil_monkey\": \"\",\n    \"seedling\": \"\",\n    \"selfie\": \"\",\n    \"selfie_dark_skin_tone\": \"\",\n    \"selfie_light_skin_tone\": \"\",\n    \"selfie_medium-dark_skin_tone\": \"\",\n    \"selfie_medium-light_skin_tone\": \"\",\n    \"selfie_medium_skin_tone\": \"\",\n    \"service_dog\": \"\\u200d\",\n    \"seven-thirty\": \"\",\n    \"seven_oclock\": \"\",\n    \"shallow_pan_of_food\": \"\",\n    \"shamrock\": \"\",\n    \"shark\": \"\",\n    \"shaved_ice\": \"\",\n    \"sheaf_of_rice\": \"\",\n    \"shield\": \"\",\n    \"shinto_shrine\": \"\",\n    \"ship\": \"\",\n    \"shooting_star\": \"\",\n    \"shopping_bags\": \"\",\n    \"shopping_cart\": \"\",\n    \"shortcake\": \"\",\n    \"shorts\": \"\",\n    \"shower\": \"\",\n    \"shrimp\": \"\",\n    \"shuffle_tracks_button\": \"\",\n    \"shushing_face\": \"\",\n    \"sign_of_the_horns\": \"\",\n    \"sign_of_the_horns_dark_skin_tone\": \"\",\n    \"sign_of_the_horns_light_skin_tone\": \"\",\n    \"sign_of_the_horns_medium-dark_skin_tone\": \"\",\n    \"sign_of_the_horns_medium-light_skin_tone\": \"\",\n    \"sign_of_the_horns_medium_skin_tone\": \"\",\n    \"six-thirty\": \"\",\n    \"six_oclock\": \"\",\n    \"skateboard\": \"\",\n    \"skier\": \"\",\n    \"skis\": \"\",\n    \"skull\": \"\",\n    \"skull_and_crossbones\": \"\",\n    \"skunk\": \"\",\n    \"sled\": \"\",\n    \"sleeping_face\": \"\",\n    \"sleepy_face\": \"\",\n    \"slightly_frowning_face\": \"\",\n    \"slightly_smiling_face\": \"\",\n    \"slot_machine\": \"\",\n    \"sloth\": \"\",\n    \"small_airplane\": \"\",\n    \"small_blue_diamond\": \"\",\n    \"small_orange_diamond\": \"\",\n    \"smiling_cat_face_with_heart-eyes\": \"\",\n    \"smiling_face\": \"\",\n    \"smiling_face_with_halo\": \"\",\n    \"smiling_face_with_3_hearts\": \"\",\n    \"smiling_face_with_heart-eyes\": \"\",\n    \"smiling_face_with_horns\": \"\",\n    \"smiling_face_with_smiling_eyes\": \"\",\n    \"smiling_face_with_sunglasses\": \"\",\n    \"smirking_face\": \"\",\n    \"snail\": \"\",\n    \"snake\": \"\",\n    \"sneezing_face\": \"\",\n    \"snow-capped_mountain\": \"\",\n    \"snowboarder\": \"\",\n    \"snowboarder_dark_skin_tone\": \"\",\n    \"snowboarder_light_skin_tone\": \"\",\n    \"snowboarder_medium-dark_skin_tone\": \"\",\n    \"snowboarder_medium-light_skin_tone\": \"\",\n    \"snowboarder_medium_skin_tone\": \"\",\n    \"snowflake\": \"\",\n    \"snowman\": \"\",\n    \"snowman_without_snow\": \"\",\n    \"soap\": \"\",\n    \"soccer_ball\": \"\",\n    \"socks\": \"\",\n    \"softball\": \"\",\n    \"soft_ice_cream\": \"\",\n    \"spade_suit\": \"\",\n    \"spaghetti\": \"\",\n    \"sparkle\": \"\",\n    \"sparkler\": \"\",\n    \"sparkles\": \"\",\n    \"sparkling_heart\": \"\",\n    \"speak-no-evil_monkey\": \"\",\n    \"speaker_high_volume\": \"\",\n    \"speaker_low_volume\": \"\",\n    \"speaker_medium_volume\": \"\",\n    \"speaking_head\": \"\",\n    \"speech_balloon\": \"\",\n    \"speedboat\": \"\",\n    \"spider\": \"\",\n    \"spider_web\": \"\",\n    \"spiral_calendar\": \"\",\n    \"spiral_notepad\": \"\",\n    \"spiral_shell\": \"\",\n    \"spoon\": \"\",\n    \"sponge\": \"\",\n    \"sport_utility_vehicle\": \"\",\n    \"sports_medal\": \"\",\n    \"spouting_whale\": \"\",\n    \"squid\": \"\",\n    \"squinting_face_with_tongue\": \"\",\n    \"stadium\": \"\",\n    \"star-struck\": \"\",\n    \"star_and_crescent\": \"\",\n    \"star_of_david\": \"\",\n    \"station\": \"\",\n    \"steaming_bowl\": \"\",\n    \"stethoscope\": \"\",\n    \"stop_button\": \"\",\n    \"stop_sign\": \"\",\n    \"stopwatch\": \"\",\n    \"straight_ruler\": \"\",\n    \"strawberry\": \"\",\n    \"studio_microphone\": \"\",\n    \"stuffed_flatbread\": \"\",\n    \"sun\": \"\",\n    \"sun_behind_cloud\": \"\",\n    \"sun_behind_large_cloud\": \"\",\n    \"sun_behind_rain_cloud\": \"\",\n    \"sun_behind_small_cloud\": \"\",\n    \"sun_with_face\": \"\",\n    \"sunflower\": \"\",\n    \"sunglasses\": \"\",\n    \"sunrise\": \"\",\n    \"sunrise_over_mountains\": \"\",\n    \"sunset\": \"\",\n    \"superhero\": \"\",\n    \"supervillain\": \"\",\n    \"sushi\": \"\",\n    \"suspension_railway\": \"\",\n    \"swan\": \"\",\n    \"sweat_droplets\": \"\",\n    \"synagogue\": \"\",\n    \"syringe\": \"\",\n    \"t-shirt\": \"\",\n    \"taco\": \"\",\n    \"takeout_box\": \"\",\n    \"tanabata_tree\": \"\",\n    \"tangerine\": \"\",\n    \"taxi\": \"\",\n    \"teacup_without_handle\": \"\",\n    \"tear-off_calendar\": \"\",\n    \"teddy_bear\": \"\",\n    \"telephone\": \"\",\n    \"telephone_receiver\": \"\",\n    \"telescope\": \"\",\n    \"television\": \"\",\n    \"ten-thirty\": \"\",\n    \"ten_oclock\": \"\",\n    \"tennis\": \"\",\n    \"tent\": \"\",\n    \"test_tube\": \"\",\n    \"thermometer\": \"\",\n    \"thinking_face\": \"\",\n    \"thought_balloon\": \"\",\n    \"thread\": \"\",\n    \"three-thirty\": \"\",\n    \"three_oclock\": \"\",\n    \"thumbs_down\": \"\",\n    \"thumbs_down_dark_skin_tone\": \"\",\n    \"thumbs_down_light_skin_tone\": \"\",\n    \"thumbs_down_medium-dark_skin_tone\": \"\",\n    \"thumbs_down_medium-light_skin_tone\": \"\",\n    \"thumbs_down_medium_skin_tone\": \"\",\n    \"thumbs_up\": \"\",\n    \"thumbs_up_dark_skin_tone\": \"\",\n    \"thumbs_up_light_skin_tone\": \"\",\n    \"thumbs_up_medium-dark_skin_tone\": \"\",\n    \"thumbs_up_medium-light_skin_tone\": \"\",\n    \"thumbs_up_medium_skin_tone\": \"\",\n    \"ticket\": \"\",\n    \"tiger\": \"\",\n    \"tiger_face\": \"\",\n    \"timer_clock\": \"\",\n    \"tired_face\": \"\",\n    \"toolbox\": \"\",\n    \"toilet\": \"\",\n    \"tomato\": \"\",\n    \"tongue\": \"\",\n    \"tooth\": \"\",\n    \"top_hat\": \"\",\n    \"tornado\": \"\",\n    \"trackball\": \"\",\n    \"tractor\": \"\",\n    \"trade_mark\": \"\",\n    \"train\": \"\",\n    \"tram\": \"\",\n    \"tram_car\": \"\",\n    \"triangular_flag\": \"\",\n    \"triangular_ruler\": \"\",\n    \"trident_emblem\": \"\",\n    \"trolleybus\": \"\",\n    \"trophy\": \"\",\n    \"tropical_drink\": \"\",\n    \"tropical_fish\": \"\",\n    \"trumpet\": \"\",\n    \"tulip\": \"\",\n    \"tumbler_glass\": \"\",\n    \"turtle\": \"\",\n    \"twelve-thirty\": \"\",\n    \"twelve_oclock\": \"\",\n    \"two-hump_camel\": \"\",\n    \"two-thirty\": \"\",\n    \"two_hearts\": \"\",\n    \"two_men_holding_hands\": \"\",\n    \"two_oclock\": \"\",\n    \"two_women_holding_hands\": \"\",\n    \"umbrella\": \"\",\n    \"umbrella_on_ground\": \"\",\n    \"umbrella_with_rain_drops\": \"\",\n    \"unamused_face\": \"\",\n    \"unicorn_face\": \"\",\n    \"unlocked\": \"\",\n    \"up-down_arrow\": \"\",\n    \"up-left_arrow\": \"\",\n    \"up-right_arrow\": \"\",\n    \"up_arrow\": \"\",\n    \"upside-down_face\": \"\",\n    \"upwards_button\": \"\",\n    \"vampire\": \"\",\n    \"vampire_dark_skin_tone\": \"\",\n    \"vampire_light_skin_tone\": \"\",\n    \"vampire_medium-dark_skin_tone\": \"\",\n    \"vampire_medium-light_skin_tone\": \"\",\n    \"vampire_medium_skin_tone\": \"\",\n    \"vertical_traffic_light\": \"\",\n    \"vibration_mode\": \"\",\n    \"victory_hand\": \"\",\n    \"victory_hand_dark_skin_tone\": \"\",\n    \"victory_hand_light_skin_tone\": \"\",\n    \"victory_hand_medium-dark_skin_tone\": \"\",\n    \"victory_hand_medium-light_skin_tone\": \"\",\n    \"victory_hand_medium_skin_tone\": \"\",\n    \"video_camera\": \"\",\n    \"video_game\": \"\",\n    \"videocassette\": \"\",\n    \"violin\": \"\",\n    \"volcano\": \"\",\n    \"volleyball\": \"\",\n    \"vulcan_salute\": \"\",\n    \"vulcan_salute_dark_skin_tone\": \"\",\n    \"vulcan_salute_light_skin_tone\": \"\",\n    \"vulcan_salute_medium-dark_skin_tone\": \"\",\n    \"vulcan_salute_medium-light_skin_tone\": \"\",\n    \"vulcan_salute_medium_skin_tone\": \"\",\n    \"waffle\": \"\",\n    \"waning_crescent_moon\": \"\",\n    \"waning_gibbous_moon\": \"\",\n    \"warning\": \"\",\n    \"wastebasket\": \"\",\n    \"watch\": \"\",\n    \"water_buffalo\": \"\",\n    \"water_closet\": \"\",\n    \"water_wave\": \"\",\n    \"watermelon\": \"\",\n    \"waving_hand\": \"\",\n    \"waving_hand_dark_skin_tone\": \"\",\n    \"waving_hand_light_skin_tone\": \"\",\n    \"waving_hand_medium-dark_skin_tone\": \"\",\n    \"waving_hand_medium-light_skin_tone\": \"\",\n    \"waving_hand_medium_skin_tone\": \"\",\n    \"wavy_dash\": \"\",\n    \"waxing_crescent_moon\": \"\",\n    \"waxing_gibbous_moon\": \"\",\n    \"weary_cat_face\": \"\",\n    \"weary_face\": \"\",\n    \"wedding\": \"\",\n    \"whale\": \"\",\n    \"wheel_of_dharma\": \"\",\n    \"wheelchair_symbol\": \"\",\n    \"white_circle\": \"\",\n    \"white_exclamation_mark\": \"\",\n    \"white_flag\": \"\",\n    \"white_flower\": \"\",\n    \"white_hair\": \"\",\n    \"white-haired_man\": \"\\u200d\",\n    \"white-haired_woman\": \"\\u200d\",\n    \"white_heart\": \"\",\n    \"white_heavy_check_mark\": \"\",\n    \"white_large_square\": \"\",\n    \"white_medium-small_square\": \"\",\n    \"white_medium_square\": \"\",\n    \"white_medium_star\": \"\",\n    \"white_question_mark\": \"\",\n    \"white_small_square\": \"\",\n    \"white_square_button\": \"\",\n    \"wilted_flower\": \"\",\n    \"wind_chime\": \"\",\n    \"wind_face\": \"\",\n    \"wine_glass\": \"\",\n    \"winking_face\": \"\",\n    \"winking_face_with_tongue\": \"\",\n    \"wolf_face\": \"\",\n    \"woman\": \"\",\n    \"woman_artist\": \"\\u200d\",\n    \"woman_artist_dark_skin_tone\": \"\\u200d\",\n    \"woman_artist_light_skin_tone\": \"\\u200d\",\n    \"woman_artist_medium-dark_skin_tone\": \"\\u200d\",\n    \"woman_artist_medium-light_skin_tone\": \"\\u200d\",\n    \"woman_artist_medium_skin_tone\": \"\\u200d\",\n    \"woman_astronaut\": \"\\u200d\",\n    \"woman_astronaut_dark_skin_tone\": \"\\u200d\",\n    \"woman_astronaut_light_skin_tone\": \"\\u200d\",\n    \"woman_astronaut_medium-dark_skin_tone\": \"\\u200d\",\n    \"woman_astronaut_medium-light_skin_tone\": \"\\u200d\",\n    \"woman_astronaut_medium_skin_tone\": \"\\u200d\",\n    \"woman_biking\": \"\\u200d\",\n    \"woman_biking_dark_skin_tone\": \"\\u200d\",\n    \"woman_biking_light_skin_tone\": \"\\u200d\",\n    \"woman_biking_medium-dark_skin_tone\": \"\\u200d\",\n    \"woman_biking_medium-light_skin_tone\": \"\\u200d\",\n    \"woman_biking_medium_skin_tone\": \"\\u200d\",\n    \"woman_bouncing_ball\": \"\\u200d\",\n    \"woman_bouncing_ball_dark_skin_tone\": \"\\u200d\",\n    \"woman_bouncing_ball_light_skin_tone\": \"\\u200d\",\n    \"woman_bouncing_ball_medium-dark_skin_tone\": \"\\u200d\",\n    \"woman_bouncing_ball_medium-light_skin_tone\": \"\\u200d\",\n    \"woman_bouncing_ball_medium_skin_tone\": \"\\u200d\",\n    \"woman_bowing\": \"\\u200d\",\n    \"woman_bowing_dark_skin_tone\": \"\\u200d\",\n    \"woman_bowing_light_skin_tone\": \"\\u200d\",\n    \"woman_bowing_medium-dark_skin_tone\": \"\\u200d\",\n    \"woman_bowing_medium-light_skin_tone\": \"\\u200d\",\n    \"woman_bowing_medium_skin_tone\": \"\\u200d\",\n    \"woman_cartwheeling\": \"\\u200d\",\n    \"woman_cartwheeling_dark_skin_tone\": \"\\u200d\",\n    \"woman_cartwheeling_light_skin_tone\": \"\\u200d\",\n    \"woman_cartwheeling_medium-dark_skin_tone\": \"\\u200d\",\n    \"woman_cartwheeling_medium-light_skin_tone\": \"\\u200d\",\n    \"woman_cartwheeling_medium_skin_tone\": \"\\u200d\",\n    \"woman_climbing\": \"\\u200d\",\n    \"woman_climbing_dark_skin_tone\": \"\\u200d\",\n    \"woman_climbing_light_skin_tone\": \"\\u200d\",\n    \"woman_climbing_medium-dark_skin_tone\": \"\\u200d\",\n    \"woman_climbing_medium-light_skin_tone\": \"\\u200d\",\n    \"woman_climbing_medium_skin_tone\": \"\\u200d\",\n    \"woman_construction_worker\": \"\\u200d\",\n    \"woman_construction_worker_dark_skin_tone\": \"\\u200d\",\n    \"woman_construction_worker_light_skin_tone\": \"\\u200d\",\n    \"woman_construction_worker_medium-dark_skin_tone\": \"\\u200d\",\n    \"woman_construction_worker_medium-light_skin_tone\": \"\\u200d\",\n    \"woman_construction_worker_medium_skin_tone\": \"\\u200d\",\n    \"woman_cook\": \"\\u200d\",\n    \"woman_cook_dark_skin_tone\": \"\\u200d\",\n    \"woman_cook_light_skin_tone\": \"\\u200d\",\n    \"woman_cook_medium-dark_skin_tone\": \"\\u200d\",\n    \"woman_cook_medium-light_skin_tone\": \"\\u200d\",\n    \"woman_cook_medium_skin_tone\": \"\\u200d\",\n    \"woman_dancing\": \"\",\n    \"woman_dancing_dark_skin_tone\": \"\",\n    \"woman_dancing_light_skin_tone\": \"\",\n    \"woman_dancing_medium-dark_skin_tone\": \"\",\n    \"woman_dancing_medium-light_skin_tone\": \"\",\n    \"woman_dancing_medium_skin_tone\": \"\",\n    \"woman_dark_skin_tone\": \"\",\n    \"woman_detective\": \"\\u200d\",\n    \"woman_detective_dark_skin_tone\": \"\\u200d\",\n    \"woman_detective_light_skin_tone\": \"\\u200d\",\n    \"woman_detective_medium-dark_skin_tone\": \"\\u200d\",\n    \"woman_detective_medium-light_skin_tone\": \"\\u200d\",\n    \"woman_detective_medium_skin_tone\": \"\\u200d\",\n    \"woman_elf\": \"\\u200d\",\n    \"woman_elf_dark_skin_tone\": \"\\u200d\",\n    \"woman_elf_light_skin_tone\": \"\\u200d\",\n    \"woman_elf_medium-dark_skin_tone\": \"\\u200d\",\n    \"woman_elf_medium-light_skin_tone\": \"\\u200d\",\n    \"woman_elf_medium_skin_tone\": \"\\u200d\",\n    \"woman_facepalming\": \"\\u200d\",\n    \"woman_facepalming_dark_skin_tone\": \"\\u200d\",\n    \"woman_facepalming_light_skin_tone\": \"\\u200d\",\n    \"woman_facepalming_medium-dark_skin_tone\": \"\\u200d\",\n    \"woman_facepalming_medium-light_skin_tone\": \"\\u200d\",\n    \"woman_facepalming_medium_skin_tone\": \"\\u200d\",\n    \"woman_factory_worker\": \"\\u200d\",\n    \"woman_factory_worker_dark_skin_tone\": \"\\u200d\",\n    \"woman_factory_worker_light_skin_tone\": \"\\u200d\",\n    \"woman_factory_worker_medium-dark_skin_tone\": \"\\u200d\",\n    \"woman_factory_worker_medium-light_skin_tone\": \"\\u200d\",\n    \"woman_factory_worker_medium_skin_tone\": \"\\u200d\",\n    \"woman_fairy\": \"\\u200d\",\n    \"woman_fairy_dark_skin_tone\": \"\\u200d\",\n    \"woman_fairy_light_skin_tone\": \"\\u200d\",\n    \"woman_fairy_medium-dark_skin_tone\": \"\\u200d\",\n    \"woman_fairy_medium-light_skin_tone\": \"\\u200d\",\n    \"woman_fairy_medium_skin_tone\": \"\\u200d\",\n    \"woman_farmer\": \"\\u200d\",\n    \"woman_farmer_dark_skin_tone\": \"\\u200d\",\n    \"woman_farmer_light_skin_tone\": \"\\u200d\",\n    \"woman_farmer_medium-dark_skin_tone\": \"\\u200d\",\n    \"woman_farmer_medium-light_skin_tone\": \"\\u200d\",\n    \"woman_farmer_medium_skin_tone\": \"\\u200d\",\n    \"woman_firefighter\": \"\\u200d\",\n    \"woman_firefighter_dark_skin_tone\": \"\\u200d\",\n    \"woman_firefighter_light_skin_tone\": \"\\u200d\",\n    \"woman_firefighter_medium-dark_skin_tone\": \"\\u200d\",\n    \"woman_firefighter_medium-light_skin_tone\": \"\\u200d\",\n    \"woman_firefighter_medium_skin_tone\": \"\\u200d\",\n    \"woman_frowning\": \"\\u200d\",\n    \"woman_frowning_dark_skin_tone\": \"\\u200d\",\n    \"woman_frowning_light_skin_tone\": \"\\u200d\",\n    \"woman_frowning_medium-dark_skin_tone\": \"\\u200d\",\n    \"woman_frowning_medium-light_skin_tone\": \"\\u200d\",\n    \"woman_frowning_medium_skin_tone\": \"\\u200d\",\n    \"woman_genie\": \"\\u200d\",\n    \"woman_gesturing_no\": \"\\u200d\",\n    \"woman_gesturing_no_dark_skin_tone\": \"\\u200d\",\n    \"woman_gesturing_no_light_skin_tone\": \"\\u200d\",\n    \"woman_gesturing_no_medium-dark_skin_tone\": \"\\u200d\",\n    \"woman_gesturing_no_medium-light_skin_tone\": \"\\u200d\",\n    \"woman_gesturing_no_medium_skin_tone\": \"\\u200d\",\n    \"woman_gesturing_ok\": \"\\u200d\",\n    \"woman_gesturing_ok_dark_skin_tone\": \"\\u200d\",\n    \"woman_gesturing_ok_light_skin_tone\": \"\\u200d\",\n    \"woman_gesturing_ok_medium-dark_skin_tone\": \"\\u200d\",\n    \"woman_gesturing_ok_medium-light_skin_tone\": \"\\u200d\",\n    \"woman_gesturing_ok_medium_skin_tone\": \"\\u200d\",\n    \"woman_getting_haircut\": \"\\u200d\",\n    \"woman_getting_haircut_dark_skin_tone\": \"\\u200d\",\n    \"woman_getting_haircut_light_skin_tone\": \"\\u200d\",\n    \"woman_getting_haircut_medium-dark_skin_tone\": \"\\u200d\",\n    \"woman_getting_haircut_medium-light_skin_tone\": \"\\u200d\",\n    \"woman_getting_haircut_medium_skin_tone\": \"\\u200d\",\n    \"woman_getting_massage\": \"\\u200d\",\n    \"woman_getting_massage_dark_skin_tone\": \"\\u200d\",\n    \"woman_getting_massage_light_skin_tone\": \"\\u200d\",\n    \"woman_getting_massage_medium-dark_skin_tone\": \"\\u200d\",\n    \"woman_getting_massage_medium-light_skin_tone\": \"\\u200d\",\n    \"woman_getting_massage_medium_skin_tone\": \"\\u200d\",\n    \"woman_golfing\": \"\\u200d\",\n    \"woman_golfing_dark_skin_tone\": \"\\u200d\",\n    \"woman_golfing_light_skin_tone\": \"\\u200d\",\n    \"woman_golfing_medium-dark_skin_tone\": \"\\u200d\",\n    \"woman_golfing_medium-light_skin_tone\": \"\\u200d\",\n    \"woman_golfing_medium_skin_tone\": \"\\u200d\",\n    \"woman_guard\": \"\\u200d\",\n    \"woman_guard_dark_skin_tone\": \"\\u200d\",\n    \"woman_guard_light_skin_tone\": \"\\u200d\",\n    \"woman_guard_medium-dark_skin_tone\": \"\\u200d\",\n    \"woman_guard_medium-light_skin_tone\": \"\\u200d\",\n    \"woman_guard_medium_skin_tone\": \"\\u200d\",\n    \"woman_health_worker\": \"\\u200d\",\n    \"woman_health_worker_dark_skin_tone\": \"\\u200d\",\n    \"woman_health_worker_light_skin_tone\": \"\\u200d\",\n    \"woman_health_worker_medium-dark_skin_tone\": \"\\u200d\",\n    \"woman_health_worker_medium-light_skin_tone\": \"\\u200d\",\n    \"woman_health_worker_medium_skin_tone\": \"\\u200d\",\n    \"woman_in_lotus_position\": \"\\u200d\",\n    \"woman_in_lotus_position_dark_skin_tone\": \"\\u200d\",\n    \"woman_in_lotus_position_light_skin_tone\": \"\\u200d\",\n    \"woman_in_lotus_position_medium-dark_skin_tone\": \"\\u200d\",\n    \"woman_in_lotus_position_medium-light_skin_tone\": \"\\u200d\",\n    \"woman_in_lotus_position_medium_skin_tone\": \"\\u200d\",\n    \"woman_in_manual_wheelchair\": \"\\u200d\",\n    \"woman_in_motorized_wheelchair\": \"\\u200d\",\n    \"woman_in_steamy_room\": \"\\u200d\",\n    \"woman_in_steamy_room_dark_skin_tone\": \"\\u200d\",\n    \"woman_in_steamy_room_light_skin_tone\": \"\\u200d\",\n    \"woman_in_steamy_room_medium-dark_skin_tone\": \"\\u200d\",\n    \"woman_in_steamy_room_medium-light_skin_tone\": \"\\u200d\",\n    \"woman_in_steamy_room_medium_skin_tone\": \"\\u200d\",\n    \"woman_judge\": \"\\u200d\",\n    \"woman_judge_dark_skin_tone\": \"\\u200d\",\n    \"woman_judge_light_skin_tone\": \"\\u200d\",\n    \"woman_judge_medium-dark_skin_tone\": \"\\u200d\",\n    \"woman_judge_medium-light_skin_tone\": \"\\u200d\",\n    \"woman_judge_medium_skin_tone\": \"\\u200d\",\n    \"woman_juggling\": \"\\u200d\",\n    \"woman_juggling_dark_skin_tone\": \"\\u200d\",\n    \"woman_juggling_light_skin_tone\": \"\\u200d\",\n    \"woman_juggling_medium-dark_skin_tone\": \"\\u200d\",\n    \"woman_juggling_medium-light_skin_tone\": \"\\u200d\",\n    \"woman_juggling_medium_skin_tone\": \"\\u200d\",\n    \"woman_lifting_weights\": \"\\u200d\",\n    \"woman_lifting_weights_dark_skin_tone\": \"\\u200d\",\n    \"woman_lifting_weights_light_skin_tone\": \"\\u200d\",\n    \"woman_lifting_weights_medium-dark_skin_tone\": \"\\u200d\",\n    \"woman_lifting_weights_medium-light_skin_tone\": \"\\u200d\",\n    \"woman_lifting_weights_medium_skin_tone\": \"\\u200d\",\n    \"woman_light_skin_tone\": \"\",\n    \"woman_mage\": \"\\u200d\",\n    \"woman_mage_dark_skin_tone\": \"\\u200d\",\n    \"woman_mage_light_skin_tone\": \"\\u200d\",\n    \"woman_mage_medium-dark_skin_tone\": \"\\u200d\",\n    \"woman_mage_medium-light_skin_tone\": \"\\u200d\",\n    \"woman_mage_medium_skin_tone\": \"\\u200d\",\n    \"woman_mechanic\": \"\\u200d\",\n    \"woman_mechanic_dark_skin_tone\": \"\\u200d\",\n    \"woman_mechanic_light_skin_tone\": \"\\u200d\",\n    \"woman_mechanic_medium-dark_skin_tone\": \"\\u200d\",\n    \"woman_mechanic_medium-light_skin_tone\": \"\\u200d\",\n    \"woman_mechanic_medium_skin_tone\": \"\\u200d\",\n    \"woman_medium-dark_skin_tone\": \"\",\n    \"woman_medium-light_skin_tone\": \"\",\n    \"woman_medium_skin_tone\": \"\",\n    \"woman_mountain_biking\": \"\\u200d\",\n    \"woman_mountain_biking_dark_skin_tone\": \"\\u200d\",\n    \"woman_mountain_biking_light_skin_tone\": \"\\u200d\",\n    \"woman_mountain_biking_medium-dark_skin_tone\": \"\\u200d\",\n    \"woman_mountain_biking_medium-light_skin_tone\": \"\\u200d\",\n    \"woman_mountain_biking_medium_skin_tone\": \"\\u200d\",\n    \"woman_office_worker\": \"\\u200d\",\n    \"woman_office_worker_dark_skin_tone\": \"\\u200d\",\n    \"woman_office_worker_light_skin_tone\": \"\\u200d\",\n    \"woman_office_worker_medium-dark_skin_tone\": \"\\u200d\",\n    \"woman_office_worker_medium-light_skin_tone\": \"\\u200d\",\n    \"woman_office_worker_medium_skin_tone\": \"\\u200d\",\n    \"woman_pilot\": \"\\u200d\",\n    \"woman_pilot_dark_skin_tone\": \"\\u200d\",\n    \"woman_pilot_light_skin_tone\": \"\\u200d\",\n    \"woman_pilot_medium-dark_skin_tone\": \"\\u200d\",\n    \"woman_pilot_medium-light_skin_tone\": \"\\u200d\",\n    \"woman_pilot_medium_skin_tone\": \"\\u200d\",\n    \"woman_playing_handball\": \"\\u200d\",\n    \"woman_playing_handball_dark_skin_tone\": \"\\u200d\",\n    \"woman_playing_handball_light_skin_tone\": \"\\u200d\",\n    \"woman_playing_handball_medium-dark_skin_tone\": \"\\u200d\",\n    \"woman_playing_handball_medium-light_skin_tone\": \"\\u200d\",\n    \"woman_playing_handball_medium_skin_tone\": \"\\u200d\",\n    \"woman_playing_water_polo\": \"\\u200d\",\n    \"woman_playing_water_polo_dark_skin_tone\": \"\\u200d\",\n    \"woman_playing_water_polo_light_skin_tone\": \"\\u200d\",\n    \"woman_playing_water_polo_medium-dark_skin_tone\": \"\\u200d\",\n    \"woman_playing_water_polo_medium-light_skin_tone\": \"\\u200d\",\n    \"woman_playing_water_polo_medium_skin_tone\": \"\\u200d\",\n    \"woman_police_officer\": \"\\u200d\",\n    \"woman_police_officer_dark_skin_tone\": \"\\u200d\",\n    \"woman_police_officer_light_skin_tone\": \"\\u200d\",\n    \"woman_police_officer_medium-dark_skin_tone\": \"\\u200d\",\n    \"woman_police_officer_medium-light_skin_tone\": \"\\u200d\",\n    \"woman_police_officer_medium_skin_tone\": \"\\u200d\",\n    \"woman_pouting\": \"\\u200d\",\n    \"woman_pouting_dark_skin_tone\": \"\\u200d\",\n    \"woman_pouting_light_skin_tone\": \"\\u200d\",\n    \"woman_pouting_medium-dark_skin_tone\": \"\\u200d\",\n    \"woman_pouting_medium-light_skin_tone\": \"\\u200d\",\n    \"woman_pouting_medium_skin_tone\": \"\\u200d\",\n    \"woman_raising_hand\": \"\\u200d\",\n    \"woman_raising_hand_dark_skin_tone\": \"\\u200d\",\n    \"woman_raising_hand_light_skin_tone\": \"\\u200d\",\n    \"woman_raising_hand_medium-dark_skin_tone\": \"\\u200d\",\n    \"woman_raising_hand_medium-light_skin_tone\": \"\\u200d\",\n    \"woman_raising_hand_medium_skin_tone\": \"\\u200d\",\n    \"woman_rowing_boat\": \"\\u200d\",\n    \"woman_rowing_boat_dark_skin_tone\": \"\\u200d\",\n    \"woman_rowing_boat_light_skin_tone\": \"\\u200d\",\n    \"woman_rowing_boat_medium-dark_skin_tone\": \"\\u200d\",\n    \"woman_rowing_boat_medium-light_skin_tone\": \"\\u200d\",\n    \"woman_rowing_boat_medium_skin_tone\": \"\\u200d\",\n    \"woman_running\": \"\\u200d\",\n    \"woman_running_dark_skin_tone\": \"\\u200d\",\n    \"woman_running_light_skin_tone\": \"\\u200d\",\n    \"woman_running_medium-dark_skin_tone\": \"\\u200d\",\n    \"woman_running_medium-light_skin_tone\": \"\\u200d\",\n    \"woman_running_medium_skin_tone\": \"\\u200d\",\n    \"woman_scientist\": \"\\u200d\",\n    \"woman_scientist_dark_skin_tone\": \"\\u200d\",\n    \"woman_scientist_light_skin_tone\": \"\\u200d\",\n    \"woman_scientist_medium-dark_skin_tone\": \"\\u200d\",\n    \"woman_scientist_medium-light_skin_tone\": \"\\u200d\",\n    \"woman_scientist_medium_skin_tone\": \"\\u200d\",\n    \"woman_shrugging\": \"\\u200d\",\n    \"woman_shrugging_dark_skin_tone\": \"\\u200d\",\n    \"woman_shrugging_light_skin_tone\": \"\\u200d\",\n    \"woman_shrugging_medium-dark_skin_tone\": \"\\u200d\",\n    \"woman_shrugging_medium-light_skin_tone\": \"\\u200d\",\n    \"woman_shrugging_medium_skin_tone\": \"\\u200d\",\n    \"woman_singer\": \"\\u200d\",\n    \"woman_singer_dark_skin_tone\": \"\\u200d\",\n    \"woman_singer_light_skin_tone\": \"\\u200d\",\n    \"woman_singer_medium-dark_skin_tone\": \"\\u200d\",\n    \"woman_singer_medium-light_skin_tone\": \"\\u200d\",\n    \"woman_singer_medium_skin_tone\": \"\\u200d\",\n    \"woman_student\": \"\\u200d\",\n    \"woman_student_dark_skin_tone\": \"\\u200d\",\n    \"woman_student_light_skin_tone\": \"\\u200d\",\n    \"woman_student_medium-dark_skin_tone\": \"\\u200d\",\n    \"woman_student_medium-light_skin_tone\": \"\\u200d\",\n    \"woman_student_medium_skin_tone\": \"\\u200d\",\n    \"woman_surfing\": \"\\u200d\",\n    \"woman_surfing_dark_skin_tone\": \"\\u200d\",\n    \"woman_surfing_light_skin_tone\": \"\\u200d\",\n    \"woman_surfing_medium-dark_skin_tone\": \"\\u200d\",\n    \"woman_surfing_medium-light_skin_tone\": \"\\u200d\",\n    \"woman_surfing_medium_skin_tone\": \"\\u200d\",\n    \"woman_swimming\": \"\\u200d\",\n    \"woman_swimming_dark_skin_tone\": \"\\u200d\",\n    \"woman_swimming_light_skin_tone\": \"\\u200d\",\n    \"woman_swimming_medium-dark_skin_tone\": \"\\u200d\",\n    \"woman_swimming_medium-light_skin_tone\": \"\\u200d\",\n    \"woman_swimming_medium_skin_tone\": \"\\u200d\",\n    \"woman_teacher\": \"\\u200d\",\n    \"woman_teacher_dark_skin_tone\": \"\\u200d\",\n    \"woman_teacher_light_skin_tone\": \"\\u200d\",\n    \"woman_teacher_medium-dark_skin_tone\": \"\\u200d\",\n    \"woman_teacher_medium-light_skin_tone\": \"\\u200d\",\n    \"woman_teacher_medium_skin_tone\": \"\\u200d\",\n    \"woman_technologist\": \"\\u200d\",\n    \"woman_technologist_dark_skin_tone\": \"\\u200d\",\n    \"woman_technologist_light_skin_tone\": \"\\u200d\",\n    \"woman_technologist_medium-dark_skin_tone\": \"\\u200d\",\n    \"woman_technologist_medium-light_skin_tone\": \"\\u200d\",\n    \"woman_technologist_medium_skin_tone\": \"\\u200d\",\n    \"woman_tipping_hand\": \"\\u200d\",\n    \"woman_tipping_hand_dark_skin_tone\": \"\\u200d\",\n    \"woman_tipping_hand_light_skin_tone\": \"\\u200d\",\n    \"woman_tipping_hand_medium-dark_skin_tone\": \"\\u200d\",\n    \"woman_tipping_hand_medium-light_skin_tone\": \"\\u200d\",\n    \"woman_tipping_hand_medium_skin_tone\": \"\\u200d\",\n    \"woman_vampire\": \"\\u200d\",\n    \"woman_vampire_dark_skin_tone\": \"\\u200d\",\n    \"woman_vampire_light_skin_tone\": \"\\u200d\",\n    \"woman_vampire_medium-dark_skin_tone\": \"\\u200d\",\n    \"woman_vampire_medium-light_skin_tone\": \"\\u200d\",\n    \"woman_vampire_medium_skin_tone\": \"\\u200d\",\n    \"woman_walking\": \"\\u200d\",\n    \"woman_walking_dark_skin_tone\": \"\\u200d\",\n    \"woman_walking_light_skin_tone\": \"\\u200d\",\n    \"woman_walking_medium-dark_skin_tone\": \"\\u200d\",\n    \"woman_walking_medium-light_skin_tone\": \"\\u200d\",\n    \"woman_walking_medium_skin_tone\": \"\\u200d\",\n    \"woman_wearing_turban\": \"\\u200d\",\n    \"woman_wearing_turban_dark_skin_tone\": \"\\u200d\",\n    \"woman_wearing_turban_light_skin_tone\": \"\\u200d\",\n    \"woman_wearing_turban_medium-dark_skin_tone\": \"\\u200d\",\n    \"woman_wearing_turban_medium-light_skin_tone\": \"\\u200d\",\n    \"woman_wearing_turban_medium_skin_tone\": \"\\u200d\",\n    \"woman_with_headscarf\": \"\",\n    \"woman_with_headscarf_dark_skin_tone\": \"\",\n    \"woman_with_headscarf_light_skin_tone\": \"\",\n    \"woman_with_headscarf_medium-dark_skin_tone\": \"\",\n    \"woman_with_headscarf_medium-light_skin_tone\": \"\",\n    \"woman_with_headscarf_medium_skin_tone\": \"\",\n    \"woman_with_probing_cane\": \"\\u200d\",\n    \"woman_zombie\": \"\\u200d\",\n    \"womans_boot\": \"\",\n    \"womans_clothes\": \"\",\n    \"womans_hat\": \"\",\n    \"womans_sandal\": \"\",\n    \"women_with_bunny_ears\": \"\\u200d\",\n    \"women_wrestling\": \"\\u200d\",\n    \"womens_room\": \"\",\n    \"woozy_face\": \"\",\n    \"world_map\": \"\",\n    \"worried_face\": \"\",\n    \"wrapped_gift\": \"\",\n    \"wrench\": \"\",\n    \"writing_hand\": \"\",\n    \"writing_hand_dark_skin_tone\": \"\",\n    \"writing_hand_light_skin_tone\": \"\",\n    \"writing_hand_medium-dark_skin_tone\": \"\",\n    \"writing_hand_medium-light_skin_tone\": \"\",\n    \"writing_hand_medium_skin_tone\": \"\",\n    \"yarn\": \"\",\n    \"yawning_face\": \"\",\n    \"yellow_circle\": \"\",\n    \"yellow_heart\": \"\",\n    \"yellow_square\": \"\",\n    \"yen_banknote\": \"\",\n    \"yo-yo\": \"\",\n    \"yin_yang\": \"\",\n    \"zany_face\": \"\",\n    \"zebra\": \"\",\n    \"zipper-mouth_face\": \"\",\n    \"zombie\": \"\",\n    \"zzz\": \"\",\n    \"land_islands\": \"\",\n    \"keycap_asterisk\": \"*\",\n    \"keycap_digit_eight\": \"8\",\n    \"keycap_digit_five\": \"5\",\n    \"keycap_digit_four\": \"4\",\n    \"keycap_digit_nine\": \"9\",\n    \"keycap_digit_one\": \"1\",\n    \"keycap_digit_seven\": \"7\",\n    \"keycap_digit_six\": \"6\",\n    \"keycap_digit_three\": \"3\",\n    \"keycap_digit_two\": \"2\",\n    \"keycap_digit_zero\": \"0\",\n    \"keycap_number_sign\": \"#\",\n    \"light_skin_tone\": \"\",\n    \"medium_light_skin_tone\": \"\",\n    \"medium_skin_tone\": \"\",\n    \"medium_dark_skin_tone\": \"\",\n    \"dark_skin_tone\": \"\",\n    \"regional_indicator_symbol_letter_a\": \"\",\n    \"regional_indicator_symbol_letter_b\": \"\",\n    \"regional_indicator_symbol_letter_c\": \"\",\n    \"regional_indicator_symbol_letter_d\": \"\",\n    \"regional_indicator_symbol_letter_e\": \"\",\n    \"regional_indicator_symbol_letter_f\": \"\",\n    \"regional_indicator_symbol_letter_g\": \"\",\n    \"regional_indicator_symbol_letter_h\": \"\",\n    \"regional_indicator_symbol_letter_i\": \"\",\n    \"regional_indicator_symbol_letter_j\": \"\",\n    \"regional_indicator_symbol_letter_k\": \"\",\n    \"regional_indicator_symbol_letter_l\": \"\",\n    \"regional_indicator_symbol_letter_m\": \"\",\n    \"regional_indicator_symbol_letter_n\": \"\",\n    \"regional_indicator_symbol_letter_o\": \"\",\n    \"regional_indicator_symbol_letter_p\": \"\",\n    \"regional_indicator_symbol_letter_q\": \"\",\n    \"regional_indicator_symbol_letter_r\": \"\",\n    \"regional_indicator_symbol_letter_s\": \"\",\n    \"regional_indicator_symbol_letter_t\": \"\",\n    \"regional_indicator_symbol_letter_u\": \"\",\n    \"regional_indicator_symbol_letter_v\": \"\",\n    \"regional_indicator_symbol_letter_w\": \"\",\n    \"regional_indicator_symbol_letter_x\": \"\",\n    \"regional_indicator_symbol_letter_y\": \"\",\n    \"regional_indicator_symbol_letter_z\": \"\",\n    \"airplane_arriving\": \"\",\n    \"space_invader\": \"\",\n    \"football\": \"\",\n    \"anger\": \"\",\n    \"angry\": \"\",\n    \"anguished\": \"\",\n    \"signal_strength\": \"\",\n    \"arrows_counterclockwise\": \"\",\n    \"arrow_heading_down\": \"\",\n    \"arrow_heading_up\": \"\",\n    \"art\": \"\",\n    \"astonished\": \"\",\n    \"athletic_shoe\": \"\",\n    \"atm\": \"\",\n    \"car\": \"\",\n    \"red_car\": \"\",\n    \"angel\": \"\",\n    \"back\": \"\",\n    \"badminton_racquet_and_shuttlecock\": \"\",\n    \"dollar\": \"\",\n    \"euro\": \"\",\n    \"pound\": \"\",\n    \"yen\": \"\",\n    \"barber\": \"\",\n    \"bath\": \"\",\n    \"bear\": \"\",\n    \"heartbeat\": \"\",\n    \"beer\": \"\",\n    \"no_bell\": \"\",\n    \"bento\": \"\",\n    \"bike\": \"\",\n    \"bicyclist\": \"\",\n    \"8ball\": \"\",\n    \"biohazard_sign\": \"\",\n    \"birthday\": \"\",\n    \"black_circle_for_record\": \"\",\n    \"clubs\": \"\",\n    \"diamonds\": \"\",\n    \"arrow_double_down\": \"\",\n    \"hearts\": \"\",\n    \"rewind\": \"\",\n    \"black_left__pointing_double_triangle_with_vertical_bar\": \"\",\n    \"arrow_backward\": \"\",\n    \"black_medium_small_square\": \"\",\n    \"question\": \"\",\n    \"fast_forward\": \"\",\n    \"black_right__pointing_double_triangle_with_vertical_bar\": \"\",\n    \"arrow_forward\": \"\",\n    \"black_right__pointing_triangle_with_double_vertical_bar\": \"\",\n    \"arrow_right\": \"\",\n    \"spades\": \"\",\n    \"black_square_for_stop\": \"\",\n    \"sunny\": \"\",\n    \"phone\": \"\",\n    \"recycle\": \"\",\n    \"arrow_double_up\": \"\",\n    \"busstop\": \"\",\n    \"date\": \"\",\n    \"flags\": \"\",\n    \"cat2\": \"\",\n    \"joy_cat\": \"\",\n    \"smirk_cat\": \"\",\n    \"chart_with_downwards_trend\": \"\",\n    \"chart_with_upwards_trend\": \"\",\n    \"chart\": \"\",\n    \"mega\": \"\",\n    \"checkered_flag\": \"\",\n    \"accept\": \"\",\n    \"ideograph_advantage\": \"\",\n    \"congratulations\": \"\",\n    \"secret\": \"\",\n    \"m\": \"\",\n    \"city_sunset\": \"\",\n    \"clapper\": \"\",\n    \"clap\": \"\",\n    \"beers\": \"\",\n    \"clock830\": \"\",\n    \"clock8\": \"\",\n    \"clock1130\": \"\",\n    \"clock11\": \"\",\n    \"clock530\": \"\",\n    \"clock5\": \"\",\n    \"clock430\": \"\",\n    \"clock4\": \"\",\n    \"clock930\": \"\",\n    \"clock9\": \"\",\n    \"clock130\": \"\",\n    \"clock1\": \"\",\n    \"clock730\": \"\",\n    \"clock7\": \"\",\n    \"clock630\": \"\",\n    \"clock6\": \"\",\n    \"clock1030\": \"\",\n    \"clock10\": \"\",\n    \"clock330\": \"\",\n    \"clock3\": \"\",\n    \"clock1230\": \"\",\n    \"clock12\": \"\",\n    \"clock230\": \"\",\n    \"clock2\": \"\",\n    \"arrows_clockwise\": \"\",\n    \"repeat\": \"\",\n    \"repeat_one\": \"\",\n    \"closed_lock_with_key\": \"\",\n    \"mailbox_closed\": \"\",\n    \"mailbox\": \"\",\n    \"cloud_with_tornado\": \"\",\n    \"cocktail\": \"\",\n    \"boom\": \"\",\n    \"compression\": \"\",\n    \"confounded\": \"\",\n    \"confused\": \"\",\n    \"rice\": \"\",\n    \"cow2\": \"\",\n    \"cricket_bat_and_ball\": \"\",\n    \"x\": \"\",\n    \"cry\": \"\",\n    \"curry\": \"\",\n    \"dagger_knife\": \"\",\n    \"dancer\": \"\",\n    \"dark_sunglasses\": \"\",\n    \"dash\": \"\",\n    \"truck\": \"\",\n    \"derelict_house_building\": \"\",\n    \"diamond_shape_with_a_dot_inside\": \"\",\n    \"dart\": \"\",\n    \"disappointed_relieved\": \"\",\n    \"disappointed\": \"\",\n    \"do_not_litter\": \"\",\n    \"dog2\": \"\",\n    \"flipper\": \"\",\n    \"loop\": \"\",\n    \"bangbang\": \"\",\n    \"double_vertical_bar\": \"\",\n    \"dove_of_peace\": \"\",\n    \"small_red_triangle_down\": \"\",\n    \"arrow_down_small\": \"\",\n    \"arrow_down\": \"\",\n    \"dromedary_camel\": \"\",\n    \"e__mail\": \"\",\n    \"corn\": \"\",\n    \"ear_of_rice\": \"\",\n    \"earth_americas\": \"\",\n    \"earth_asia\": \"\",\n    \"earth_africa\": \"\",\n    \"eight_pointed_black_star\": \"\",\n    \"eight_spoked_asterisk\": \"\",\n    \"eject_symbol\": \"\",\n    \"bulb\": \"\",\n    \"emoji_modifier_fitzpatrick_type__1__2\": \"\",\n    \"emoji_modifier_fitzpatrick_type__3\": \"\",\n    \"emoji_modifier_fitzpatrick_type__4\": \"\",\n    \"emoji_modifier_fitzpatrick_type__5\": \"\",\n    \"emoji_modifier_fitzpatrick_type__6\": \"\",\n    \"end\": \"\",\n    \"email\": \"\",\n    \"european_castle\": \"\",\n    \"european_post_office\": \"\",\n    \"interrobang\": \"\",\n    \"expressionless\": \"\",\n    \"eyeglasses\": \"\",\n    \"massage\": \"\",\n    \"yum\": \"\",\n    \"scream\": \"\",\n    \"kissing_heart\": \"\",\n    \"sweat\": \"\",\n    \"face_with_head__bandage\": \"\",\n    \"triumph\": \"\",\n    \"mask\": \"\",\n    \"no_good\": \"\",\n    \"ok_woman\": \"\",\n    \"open_mouth\": \"\",\n    \"cold_sweat\": \"\",\n    \"stuck_out_tongue\": \"\",\n    \"stuck_out_tongue_closed_eyes\": \"\",\n    \"stuck_out_tongue_winking_eye\": \"\",\n    \"joy\": \"\",\n    \"no_mouth\": \"\",\n    \"santa\": \"\",\n    \"fax\": \"\",\n    \"fearful\": \"\",\n    \"field_hockey_stick_and_ball\": \"\",\n    \"first_quarter_moon_with_face\": \"\",\n    \"fish_cake\": \"\",\n    \"fishing_pole_and_fish\": \"\",\n    \"facepunch\": \"\",\n    \"punch\": \"\",\n    \"flag_for_afghanistan\": \"\",\n    \"flag_for_albania\": \"\",\n    \"flag_for_algeria\": \"\",\n    \"flag_for_american_samoa\": \"\",\n    \"flag_for_andorra\": \"\",\n    \"flag_for_angola\": \"\",\n    \"flag_for_anguilla\": \"\",\n    \"flag_for_antarctica\": \"\",\n    \"flag_for_antigua_&_barbuda\": \"\",\n    \"flag_for_argentina\": \"\",\n    \"flag_for_armenia\": \"\",\n    \"flag_for_aruba\": \"\",\n    \"flag_for_ascension_island\": \"\",\n    \"flag_for_australia\": \"\",\n    \"flag_for_austria\": \"\",\n    \"flag_for_azerbaijan\": \"\",\n    \"flag_for_bahamas\": \"\",\n    \"flag_for_bahrain\": \"\",\n    \"flag_for_bangladesh\": \"\",\n    \"flag_for_barbados\": \"\",\n    \"flag_for_belarus\": \"\",\n    \"flag_for_belgium\": \"\",\n    \"flag_for_belize\": \"\",\n    \"flag_for_benin\": \"\",\n    \"flag_for_bermuda\": \"\",\n    \"flag_for_bhutan\": \"\",\n    \"flag_for_bolivia\": \"\",\n    \"flag_for_bosnia_&_herzegovina\": \"\",\n    \"flag_for_botswana\": \"\",\n    \"flag_for_bouvet_island\": \"\",\n    \"flag_for_brazil\": \"\",\n    \"flag_for_british_indian_ocean_territory\": \"\",\n    \"flag_for_british_virgin_islands\": \"\",\n    \"flag_for_brunei\": \"\",\n    \"flag_for_bulgaria\": \"\",\n    \"flag_for_burkina_faso\": \"\",\n    \"flag_for_burundi\": \"\",\n    \"flag_for_cambodia\": \"\",\n    \"flag_for_cameroon\": \"\",\n    \"flag_for_canada\": \"\",\n    \"flag_for_canary_islands\": \"\",\n    \"flag_for_cape_verde\": \"\",\n    \"flag_for_caribbean_netherlands\": \"\",\n    \"flag_for_cayman_islands\": \"\",\n    \"flag_for_central_african_republic\": \"\",\n    \"flag_for_ceuta_&_melilla\": \"\",\n    \"flag_for_chad\": \"\",\n    \"flag_for_chile\": \"\",\n    \"flag_for_china\": \"\",\n    \"flag_for_christmas_island\": \"\",\n    \"flag_for_clipperton_island\": \"\",\n    \"flag_for_cocos__islands\": \"\",\n    \"flag_for_colombia\": \"\",\n    \"flag_for_comoros\": \"\",\n    \"flag_for_congo____brazzaville\": \"\",\n    \"flag_for_congo____kinshasa\": \"\",\n    \"flag_for_cook_islands\": \"\",\n    \"flag_for_costa_rica\": \"\",\n    \"flag_for_croatia\": \"\",\n    \"flag_for_cuba\": \"\",\n    \"flag_for_curaao\": \"\",\n    \"flag_for_cyprus\": \"\",\n    \"flag_for_czech_republic\": \"\",\n    \"flag_for_cte_divoire\": \"\",\n    \"flag_for_denmark\": \"\",\n    \"flag_for_diego_garcia\": \"\",\n    \"flag_for_djibouti\": \"\",\n    \"flag_for_dominica\": \"\",\n    \"flag_for_dominican_republic\": \"\",\n    \"flag_for_ecuador\": \"\",\n    \"flag_for_egypt\": \"\",\n    \"flag_for_el_salvador\": \"\",\n    \"flag_for_equatorial_guinea\": \"\",\n    \"flag_for_eritrea\": \"\",\n    \"flag_for_estonia\": \"\",\n    \"flag_for_ethiopia\": \"\",\n    \"flag_for_european_union\": \"\",\n    \"flag_for_falkland_islands\": \"\",\n    \"flag_for_faroe_islands\": \"\",\n    \"flag_for_fiji\": \"\",\n    \"flag_for_finland\": \"\",\n    \"flag_for_france\": \"\",\n    \"flag_for_french_guiana\": \"\",\n    \"flag_for_french_polynesia\": \"\",\n    \"flag_for_french_southern_territories\": \"\",\n    \"flag_for_gabon\": \"\",\n    \"flag_for_gambia\": \"\",\n    \"flag_for_georgia\": \"\",\n    \"flag_for_germany\": \"\",\n    \"flag_for_ghana\": \"\",\n    \"flag_for_gibraltar\": \"\",\n    \"flag_for_greece\": \"\",\n    \"flag_for_greenland\": \"\",\n    \"flag_for_grenada\": \"\",\n    \"flag_for_guadeloupe\": \"\",\n    \"flag_for_guam\": \"\",\n    \"flag_for_guatemala\": \"\",\n    \"flag_for_guernsey\": \"\",\n    \"flag_for_guinea\": \"\",\n    \"flag_for_guinea__bissau\": \"\",\n    \"flag_for_guyana\": \"\",\n    \"flag_for_haiti\": \"\",\n    \"flag_for_heard_&_mcdonald_islands\": \"\",\n    \"flag_for_honduras\": \"\",\n    \"flag_for_hong_kong\": \"\",\n    \"flag_for_hungary\": \"\",\n    \"flag_for_iceland\": \"\",\n    \"flag_for_india\": \"\",\n    \"flag_for_indonesia\": \"\",\n    \"flag_for_iran\": \"\",\n    \"flag_for_iraq\": \"\",\n    \"flag_for_ireland\": \"\",\n    \"flag_for_isle_of_man\": \"\",\n    \"flag_for_israel\": \"\",\n    \"flag_for_italy\": \"\",\n    \"flag_for_jamaica\": \"\",\n    \"flag_for_japan\": \"\",\n    \"flag_for_jersey\": \"\",\n    \"flag_for_jordan\": \"\",\n    \"flag_for_kazakhstan\": \"\",\n    \"flag_for_kenya\": \"\",\n    \"flag_for_kiribati\": \"\",\n    \"flag_for_kosovo\": \"\",\n    \"flag_for_kuwait\": \"\",\n    \"flag_for_kyrgyzstan\": \"\",\n    \"flag_for_laos\": \"\",\n    \"flag_for_latvia\": \"\",\n    \"flag_for_lebanon\": \"\",\n    \"flag_for_lesotho\": \"\",\n    \"flag_for_liberia\": \"\",\n    \"flag_for_libya\": \"\",\n    \"flag_for_liechtenstein\": \"\",\n    \"flag_for_lithuania\": \"\",\n    \"flag_for_luxembourg\": \"\",\n    \"flag_for_macau\": \"\",\n    \"flag_for_macedonia\": \"\",\n    \"flag_for_madagascar\": \"\",\n    \"flag_for_malawi\": \"\",\n    \"flag_for_malaysia\": \"\",\n    \"flag_for_maldives\": \"\",\n    \"flag_for_mali\": \"\",\n    \"flag_for_malta\": \"\",\n    \"flag_for_marshall_islands\": \"\",\n    \"flag_for_martinique\": \"\",\n    \"flag_for_mauritania\": \"\",\n    \"flag_for_mauritius\": \"\",\n    \"flag_for_mayotte\": \"\",\n    \"flag_for_mexico\": \"\",\n    \"flag_for_micronesia\": \"\",\n    \"flag_for_moldova\": \"\",\n    \"flag_for_monaco\": \"\",\n    \"flag_for_mongolia\": \"\",\n    \"flag_for_montenegro\": \"\",\n    \"flag_for_montserrat\": \"\",\n    \"flag_for_morocco\": \"\",\n    \"flag_for_mozambique\": \"\",\n    \"flag_for_myanmar\": \"\",\n    \"flag_for_namibia\": \"\",\n    \"flag_for_nauru\": \"\",\n    \"flag_for_nepal\": \"\",\n    \"flag_for_netherlands\": \"\",\n    \"flag_for_new_caledonia\": \"\",\n    \"flag_for_new_zealand\": \"\",\n    \"flag_for_nicaragua\": \"\",\n    \"flag_for_niger\": \"\",\n    \"flag_for_nigeria\": \"\",\n    \"flag_for_niue\": \"\",\n    \"flag_for_norfolk_island\": \"\",\n    \"flag_for_north_korea\": \"\",\n    \"flag_for_northern_mariana_islands\": \"\",\n    \"flag_for_norway\": \"\",\n    \"flag_for_oman\": \"\",\n    \"flag_for_pakistan\": \"\",\n    \"flag_for_palau\": \"\",\n    \"flag_for_palestinian_territories\": \"\",\n    \"flag_for_panama\": \"\",\n    \"flag_for_papua_new_guinea\": \"\",\n    \"flag_for_paraguay\": \"\",\n    \"flag_for_peru\": \"\",\n    \"flag_for_philippines\": \"\",\n    \"flag_for_pitcairn_islands\": \"\",\n    \"flag_for_poland\": \"\",\n    \"flag_for_portugal\": \"\",\n    \"flag_for_puerto_rico\": \"\",\n    \"flag_for_qatar\": \"\",\n    \"flag_for_romania\": \"\",\n    \"flag_for_russia\": \"\",\n    \"flag_for_rwanda\": \"\",\n    \"flag_for_runion\": \"\",\n    \"flag_for_samoa\": \"\",\n    \"flag_for_san_marino\": \"\",\n    \"flag_for_saudi_arabia\": \"\",\n    \"flag_for_senegal\": \"\",\n    \"flag_for_serbia\": \"\",\n    \"flag_for_seychelles\": \"\",\n    \"flag_for_sierra_leone\": \"\",\n    \"flag_for_singapore\": \"\",\n    \"flag_for_sint_maarten\": \"\",\n    \"flag_for_slovakia\": \"\",\n    \"flag_for_slovenia\": \"\",\n    \"flag_for_solomon_islands\": \"\",\n    \"flag_for_somalia\": \"\",\n    \"flag_for_south_africa\": \"\",\n    \"flag_for_south_georgia_&_south_sandwich_islands\": \"\",\n    \"flag_for_south_korea\": \"\",\n    \"flag_for_south_sudan\": \"\",\n    \"flag_for_spain\": \"\",\n    \"flag_for_sri_lanka\": \"\",\n    \"flag_for_st._barthlemy\": \"\",\n    \"flag_for_st._helena\": \"\",\n    \"flag_for_st._kitts_&_nevis\": \"\",\n    \"flag_for_st._lucia\": \"\",\n    \"flag_for_st._martin\": \"\",\n    \"flag_for_st._pierre_&_miquelon\": \"\",\n    \"flag_for_st._vincent_&_grenadines\": \"\",\n    \"flag_for_sudan\": \"\",\n    \"flag_for_suriname\": \"\",\n    \"flag_for_svalbard_&_jan_mayen\": \"\",\n    \"flag_for_swaziland\": \"\",\n    \"flag_for_sweden\": \"\",\n    \"flag_for_switzerland\": \"\",\n    \"flag_for_syria\": \"\",\n    \"flag_for_so_tom_&_prncipe\": \"\",\n    \"flag_for_taiwan\": \"\",\n    \"flag_for_tajikistan\": \"\",\n    \"flag_for_tanzania\": \"\",\n    \"flag_for_thailand\": \"\",\n    \"flag_for_timor__leste\": \"\",\n    \"flag_for_togo\": \"\",\n    \"flag_for_tokelau\": \"\",\n    \"flag_for_tonga\": \"\",\n    \"flag_for_trinidad_&_tobago\": \"\",\n    \"flag_for_tristan_da_cunha\": \"\",\n    \"flag_for_tunisia\": \"\",\n    \"flag_for_turkey\": \"\",\n    \"flag_for_turkmenistan\": \"\",\n    \"flag_for_turks_&_caicos_islands\": \"\",\n    \"flag_for_tuvalu\": \"\",\n    \"flag_for_u.s._outlying_islands\": \"\",\n    \"flag_for_u.s._virgin_islands\": \"\",\n    \"flag_for_uganda\": \"\",\n    \"flag_for_ukraine\": \"\",\n    \"flag_for_united_arab_emirates\": \"\",\n    \"flag_for_united_kingdom\": \"\",\n    \"flag_for_united_states\": \"\",\n    \"flag_for_uruguay\": \"\",\n    \"flag_for_uzbekistan\": \"\",\n    \"flag_for_vanuatu\": \"\",\n    \"flag_for_vatican_city\": \"\",\n    \"flag_for_venezuela\": \"\",\n    \"flag_for_vietnam\": \"\",\n    \"flag_for_wallis_&_futuna\": \"\",\n    \"flag_for_western_sahara\": \"\",\n    \"flag_for_yemen\": \"\",\n    \"flag_for_zambia\": \"\",\n    \"flag_for_zimbabwe\": \"\",\n    \"flag_for_land_islands\": \"\",\n    \"golf\": \"\",\n    \"fleur__de__lis\": \"\",\n    \"muscle\": \"\",\n    \"flushed\": \"\",\n    \"frame_with_picture\": \"\",\n    \"fries\": \"\",\n    \"frog\": \"\",\n    \"hatched_chick\": \"\",\n    \"frowning\": \"\",\n    \"fuelpump\": \"\",\n    \"full_moon_with_face\": \"\",\n    \"gem\": \"\",\n    \"star2\": \"\",\n    \"golfer\": \"\",\n    \"mortar_board\": \"\",\n    \"grimacing\": \"\",\n    \"smile_cat\": \"\",\n    \"grinning\": \"\",\n    \"grin\": \"\",\n    \"heartpulse\": \"\",\n    \"guardsman\": \"\",\n    \"haircut\": \"\",\n    \"hamster\": \"\",\n    \"raising_hand\": \"\",\n    \"headphones\": \"\",\n    \"hear_no_evil\": \"\",\n    \"cupid\": \"\",\n    \"gift_heart\": \"\",\n    \"heart\": \"\",\n    \"exclamation\": \"\",\n    \"heavy_exclamation_mark\": \"\",\n    \"heavy_heart_exclamation_mark_ornament\": \"\",\n    \"o\": \"\",\n    \"helm_symbol\": \"\",\n    \"helmet_with_white_cross\": \"\",\n    \"high_heel\": \"\",\n    \"bullettrain_side\": \"\",\n    \"bullettrain_front\": \"\",\n    \"high_brightness\": \"\",\n    \"zap\": \"\",\n    \"hocho\": \"\",\n    \"knife\": \"\",\n    \"bee\": \"\",\n    \"traffic_light\": \"\",\n    \"racehorse\": \"\",\n    \"coffee\": \"\",\n    \"hotsprings\": \"\",\n    \"hourglass\": \"\",\n    \"hourglass_flowing_sand\": \"\",\n    \"house_buildings\": \"\",\n    \"100\": \"\",\n    \"hushed\": \"\",\n    \"ice_hockey_stick_and_puck\": \"\",\n    \"imp\": \"\",\n    \"information_desk_person\": \"\",\n    \"information_source\": \"\",\n    \"capital_abcd\": \"\",\n    \"abc\": \"\",\n    \"abcd\": \"\",\n    \"1234\": \"\",\n    \"symbols\": \"\",\n    \"izakaya_lantern\": \"\",\n    \"lantern\": \"\",\n    \"jack_o_lantern\": \"\",\n    \"dolls\": \"\",\n    \"japanese_goblin\": \"\",\n    \"japanese_ogre\": \"\",\n    \"beginner\": \"\",\n    \"zero\": \"0\",\n    \"one\": \"1\",\n    \"ten\": \"\",\n    \"two\": \"2\",\n    \"three\": \"3\",\n    \"four\": \"4\",\n    \"five\": \"5\",\n    \"six\": \"6\",\n    \"seven\": \"7\",\n    \"eight\": \"8\",\n    \"nine\": \"9\",\n    \"couplekiss\": \"\",\n    \"kissing_cat\": \"\",\n    \"kissing\": \"\",\n    \"kissing_closed_eyes\": \"\",\n    \"kissing_smiling_eyes\": \"\",\n    \"beetle\": \"\",\n    \"large_blue_circle\": \"\",\n    \"last_quarter_moon_with_face\": \"\",\n    \"leaves\": \"\",\n    \"mag\": \"\",\n    \"left_right_arrow\": \"\",\n    \"leftwards_arrow_with_hook\": \"\",\n    \"arrow_left\": \"\",\n    \"lock\": \"\",\n    \"lock_with_ink_pen\": \"\",\n    \"sob\": \"\",\n    \"low_brightness\": \"\",\n    \"lower_left_ballpoint_pen\": \"\",\n    \"lower_left_crayon\": \"\",\n    \"lower_left_fountain_pen\": \"\",\n    \"lower_left_paintbrush\": \"\",\n    \"mahjong\": \"\",\n    \"couple\": \"\",\n    \"man_in_business_suit_levitating\": \"\",\n    \"man_with_gua_pi_mao\": \"\",\n    \"man_with_turban\": \"\",\n    \"mans_shoe\": \"\",\n    \"shoe\": \"\",\n    \"menorah_with_nine_branches\": \"\",\n    \"mens\": \"\",\n    \"minidisc\": \"\",\n    \"iphone\": \"\",\n    \"calling\": \"\",\n    \"money__mouth_face\": \"\",\n    \"moneybag\": \"\",\n    \"rice_scene\": \"\",\n    \"mountain_bicyclist\": \"\",\n    \"mouse2\": \"\",\n    \"lips\": \"\",\n    \"moyai\": \"\",\n    \"notes\": \"\",\n    \"nail_care\": \"\",\n    \"ab\": \"\",\n    \"negative_squared_cross_mark\": \"\",\n    \"a\": \"\",\n    \"b\": \"\",\n    \"o2\": \"\",\n    \"parking\": \"\",\n    \"new_moon_with_face\": \"\",\n    \"no_entry_sign\": \"\",\n    \"underage\": \"\",\n    \"non__potable_water\": \"\",\n    \"arrow_upper_right\": \"\",\n    \"arrow_upper_left\": \"\",\n    \"office\": \"\",\n    \"older_man\": \"\",\n    \"older_woman\": \"\",\n    \"om_symbol\": \"\",\n    \"on\": \"\",\n    \"book\": \"\",\n    \"unlock\": \"\",\n    \"mailbox_with_no_mail\": \"\",\n    \"mailbox_with_mail\": \"\",\n    \"cd\": \"\",\n    \"tada\": \"\",\n    \"feet\": \"\",\n    \"walking\": \"\",\n    \"pencil2\": \"\",\n    \"pensive\": \"\",\n    \"persevere\": \"\",\n    \"bow\": \"\",\n    \"raised_hands\": \"\",\n    \"person_with_ball\": \"\",\n    \"person_with_blond_hair\": \"\",\n    \"pray\": \"\",\n    \"person_with_pouting_face\": \"\",\n    \"computer\": \"\",\n    \"pig2\": \"\",\n    \"hankey\": \"\",\n    \"poop\": \"\",\n    \"shit\": \"\",\n    \"bamboo\": \"\",\n    \"gun\": \"\",\n    \"black_joker\": \"\",\n    \"rotating_light\": \"\",\n    \"cop\": \"\",\n    \"stew\": \"\",\n    \"pouch\": \"\",\n    \"pouting_cat\": \"\",\n    \"rage\": \"\",\n    \"put_litter_in_its_place\": \"\",\n    \"rabbit2\": \"\",\n    \"racing_motorcycle\": \"\",\n    \"radioactive_sign\": \"\",\n    \"fist\": \"\",\n    \"hand\": \"\",\n    \"raised_hand_with_fingers_splayed\": \"\",\n    \"raised_hand_with_part_between_middle_and_ring_fingers\": \"\",\n    \"blue_car\": \"\",\n    \"apple\": \"\",\n    \"relieved\": \"\",\n    \"reversed_hand_with_middle_finger_extended\": \"\",\n    \"mag_right\": \"\",\n    \"arrow_right_hook\": \"\",\n    \"sweet_potato\": \"\",\n    \"robot\": \"\",\n    \"rolled__up_newspaper\": \"\",\n    \"rowboat\": \"\",\n    \"runner\": \"\",\n    \"running\": \"\",\n    \"running_shirt_with_sash\": \"\",\n    \"boat\": \"\",\n    \"scales\": \"\",\n    \"school_satchel\": \"\",\n    \"scorpius\": \"\",\n    \"see_no_evil\": \"\",\n    \"sheep\": \"\",\n    \"stars\": \"\",\n    \"cake\": \"\",\n    \"six_pointed_star\": \"\",\n    \"ski\": \"\",\n    \"sleeping_accommodation\": \"\",\n    \"sleeping\": \"\",\n    \"sleepy\": \"\",\n    \"sleuth_or_spy\": \"\",\n    \"heart_eyes_cat\": \"\",\n    \"smiley_cat\": \"\",\n    \"innocent\": \"\",\n    \"heart_eyes\": \"\",\n    \"smiling_imp\": \"\",\n    \"smiley\": \"\",\n    \"sweat_smile\": \"\",\n    \"smile\": \"\",\n    \"laughing\": \"\",\n    \"satisfied\": \"\",\n    \"blush\": \"\",\n    \"smirk\": \"\",\n    \"smoking\": \"\",\n    \"snow_capped_mountain\": \"\",\n    \"soccer\": \"\",\n    \"icecream\": \"\",\n    \"soon\": \"\",\n    \"arrow_lower_right\": \"\",\n    \"arrow_lower_left\": \"\",\n    \"speak_no_evil\": \"\",\n    \"speaker\": \"\",\n    \"mute\": \"\",\n    \"sound\": \"\",\n    \"loud_sound\": \"\",\n    \"speaking_head_in_silhouette\": \"\",\n    \"spiral_calendar_pad\": \"\",\n    \"spiral_note_pad\": \"\",\n    \"shell\": \"\",\n    \"sweat_drops\": \"\",\n    \"u5272\": \"\",\n    \"u5408\": \"\",\n    \"u55b6\": \"\",\n    \"u6307\": \"\",\n    \"u6708\": \"\",\n    \"u6709\": \"\",\n    \"u6e80\": \"\",\n    \"u7121\": \"\",\n    \"u7533\": \"\",\n    \"u7981\": \"\",\n    \"u7a7a\": \"\",\n    \"cl\": \"\",\n    \"cool\": \"\",\n    \"free\": \"\",\n    \"id\": \"\",\n    \"koko\": \"\",\n    \"sa\": \"\",\n    \"new\": \"\",\n    \"ng\": \"\",\n    \"ok\": \"\",\n    \"sos\": \"\",\n    \"up\": \"\",\n    \"vs\": \"\",\n    \"steam_locomotive\": \"\",\n    \"ramen\": \"\",\n    \"partly_sunny\": \"\",\n    \"city_sunrise\": \"\",\n    \"surfer\": \"\",\n    \"swimmer\": \"\",\n    \"shirt\": \"\",\n    \"tshirt\": \"\",\n    \"table_tennis_paddle_and_ball\": \"\",\n    \"tea\": \"\",\n    \"tv\": \"\",\n    \"three_button_mouse\": \"\",\n    \"+1\": \"\",\n    \"thumbsup\": \"\",\n    \"__1\": \"\",\n    \"-1\": \"\",\n    \"thumbsdown\": \"\",\n    \"thunder_cloud_and_rain\": \"\",\n    \"tiger2\": \"\",\n    \"tophat\": \"\",\n    \"top\": \"\",\n    \"tm\": \"\",\n    \"train2\": \"\",\n    \"triangular_flag_on_post\": \"\",\n    \"trident\": \"\",\n    \"twisted_rightwards_arrows\": \"\",\n    \"unamused\": \"\",\n    \"small_red_triangle\": \"\",\n    \"arrow_up_small\": \"\",\n    \"arrow_up_down\": \"\",\n    \"upside__down_face\": \"\",\n    \"arrow_up\": \"\",\n    \"v\": \"\",\n    \"vhs\": \"\",\n    \"wc\": \"\",\n    \"ocean\": \"\",\n    \"waving_black_flag\": \"\",\n    \"wave\": \"\",\n    \"waving_white_flag\": \"\",\n    \"moon\": \"\",\n    \"scream_cat\": \"\",\n    \"weary\": \"\",\n    \"weight_lifter\": \"\",\n    \"whale2\": \"\",\n    \"wheelchair\": \"\",\n    \"point_down\": \"\",\n    \"grey_exclamation\": \"\",\n    \"white_frowning_face\": \"\",\n    \"white_check_mark\": \"\",\n    \"point_left\": \"\",\n    \"white_medium_small_square\": \"\",\n    \"star\": \"\",\n    \"grey_question\": \"\",\n    \"point_right\": \"\",\n    \"relaxed\": \"\",\n    \"white_sun_behind_cloud\": \"\",\n    \"white_sun_behind_cloud_with_rain\": \"\",\n    \"white_sun_with_small_cloud\": \"\",\n    \"point_up_2\": \"\",\n    \"point_up\": \"\",\n    \"wind_blowing_face\": \"\",\n    \"wink\": \"\",\n    \"wolf\": \"\",\n    \"dancers\": \"\",\n    \"boot\": \"\",\n    \"womans_clothes\": \"\",\n    \"womans_hat\": \"\",\n    \"sandal\": \"\",\n    \"womens\": \"\",\n    \"worried\": \"\",\n    \"gift\": \"\",\n    \"zipper__mouth_face\": \"\",\n    \"regional_indicator_a\": \"\",\n    \"regional_indicator_b\": \"\",\n    \"regional_indicator_c\": \"\",\n    \"regional_indicator_d\": \"\",\n    \"regional_indicator_e\": \"\",\n    \"regional_indicator_f\": \"\",\n    \"regional_indicator_g\": \"\",\n    \"regional_indicator_h\": \"\",\n    \"regional_indicator_i\": \"\",\n    \"regional_indicator_j\": \"\",\n    \"regional_indicator_k\": \"\",\n    \"regional_indicator_l\": \"\",\n    \"regional_indicator_m\": \"\",\n    \"regional_indicator_n\": \"\",\n    \"regional_indicator_o\": \"\",\n    \"regional_indicator_p\": \"\",\n    \"regional_indicator_q\": \"\",\n    \"regional_indicator_r\": \"\",\n    \"regional_indicator_s\": \"\",\n    \"regional_indicator_t\": \"\",\n    \"regional_indicator_u\": \"\",\n    \"regional_indicator_v\": \"\",\n    \"regional_indicator_w\": \"\",\n    \"regional_indicator_x\": \"\",\n    \"regional_indicator_y\": \"\",\n    \"regional_indicator_z\": \"\",\n}",
    "start_line": 0
  },
  {
    "file": "_emoji_codes.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "EMOJI = {\n    \"1st_place_medal\": \"\",\n    \"2nd_place_medal\": \"\",\n    \"3rd_place_medal\": \"\",\n    \"ab_button_(blood_type)\": \"\",\n    \"atm_sign\": \"\",\n    \"a_button_(blood_type)\": \"\",\n    \"afghanistan\": \"\",\n    \"albania\": \"\",\n    \"algeria\": \"\",\n    \"american_samoa\": \"\",\n    \"andorra\": \"\",\n    \"angola\": \"\",\n    \"anguilla\": \"\",\n    \"antarctica\": \"\",\n    \"antigua_&_barbuda\": \"\",\n    \"aquarius\": \"\",\n    \"argentina\": \"\",\n    \"aries\": \"\",\n    \"armenia\": \"\",\n    \"aruba\": \"\",\n    \"ascension_island\": \"\",\n    \"australia\": \"\",\n    \"austria\": \"\",\n    \"azerbaijan\": \"\",\n    \"back_arrow\": \"\",\n    \"b_button_(blood_type)\": \"\",\n    \"bahamas\": \"\",\n    \"bahrain\": \"\",\n    \"bangladesh\": \"\",\n    \"barbados\": \"\",\n    \"belarus\": \"\",\n    \"belgium\": \"\",\n    \"belize\": \"\",\n    \"benin\": \"\",\n    \"bermuda\": \"\",\n    \"bhutan\": \"\",\n    \"bolivia\": \"\",\n    \"bosnia_&_herzegovina\": \"\",\n    \"botswana\": \"\",\n    \"bouvet_island\": \"\",\n    \"brazil\": \"\",\n    \"british_indian_ocean_territory\": \"\",\n    \"british_virgin_islands\": \"\",\n    \"brunei\": \"\",\n    \"bulgaria\": \"\",\n    \"burkina_faso\": \"\",\n    \"burundi\": \"\",\n    \"cl_button\": \"\",\n    \"cool_button\": \"\",\n    \"cambodia\": \"\",\n    \"cameroon\": \"\",\n    \"canada\": \"\",\n    \"canary_islands\": \"\",\n    \"cancer\": \"\",\n    \"cape_verde\": \"\",\n    \"capricorn\": \"\",\n    \"caribbean_netherlands\": \"\",\n    \"cayman_islands\": \"\",\n    \"central_african_republic\": \"\",\n    \"ceuta_&_melilla\": \"\",\n    \"chad\": \"\",\n    \"chile\": \"\",\n    \"china\": \"\",\n    \"christmas_island\": \"\",\n    \"christmas_tree\": \"\",\n    \"clipperton_island\": \"\",\n    \"cocos_(keeling)_islands\": \"\",\n    \"colombia\": \"\",\n    \"comoros\": \"\",\n    \"congo_-_brazzaville\": \"\",\n    \"congo_-_kinshasa\": \"\",\n    \"cook_islands\": \"\",\n    \"costa_rica\": \"\",\n    \"croatia\": \"\",\n    \"cuba\": \"\",\n    \"curaao\": \"\",\n    \"cyprus\": \"\",\n    \"czechia\": \"\",\n    \"cte_divoire\": \"\",\n    \"denmark\": \"\",\n    \"diego_garcia\": \"\",\n    \"djibouti\": \"\",\n    \"dominica\": \"\",\n    \"dominican_republic\": \"\",\n    \"end_arrow\": \"\",\n    \"ecuador\": \"\",\n    \"egypt\": \"\",\n    \"el_salvador\": \"\",\n    \"england\": \"\\U000e0067\\U000e0062\\U000e0065\\U000e006e\\U000e0067\\U000e007f\",\n    \"equatorial_guinea\": \"\",\n    \"eritrea\": \"\",\n    \"estonia\": \"\",\n    \"ethiopia\": \"\",\n    \"european_union\": \"\",\n    \"free_button\": \"\",\n    \"falkland_islands\": \"\",\n    \"faroe_islands\": \"\",\n    \"fiji\": \"\",\n    \"finland\": \"\",\n    \"france\": \"\",\n    \"french_guiana\": \"\",\n    \"french_polynesia\": \"\",\n    \"french_southern_territories\": \"\",\n    \"gabon\": \"\",\n    \"gambia\": \"\",\n    \"gemini\": \"\",\n    \"georgia\": \"\",\n    \"germany\": \"\",\n    \"ghana\": \"\",\n    \"gibraltar\": \"\",\n    \"greece\": \"\",\n    \"greenland\": \"\",\n    \"grenada\": \"\",\n    \"guadeloupe\": \"\",\n    \"guam\": \"\",\n    \"guatemala\": \"\",\n    \"guernsey\": \"\",\n    \"guinea\": \"\",\n    \"guinea-bissau\": \"\",\n    \"guyana\": \"\",\n    \"haiti\": \"\",\n    \"heard_&_mcdonald_islands\": \"\",\n    \"honduras\": \"\",\n    \"hong_kong_sar_china\": \"\",\n    \"hungary\": \"\",\n    \"id_button\": \"\",\n    \"iceland\": \"\",\n    \"india\": \"\",\n    \"indonesia\": \"\",\n    \"iran\": \"\",\n    \"iraq\": \"\",\n    \"ireland\": \"\",\n    \"isle_of_man\": \"\",\n    \"israel\": \"\",\n    \"italy\": \"\",\n    \"jamaica\": \"\",\n    \"japan\": \"\",\n    \"japanese_acceptable_button\": \"\",\n    \"japanese_application_button\": \"\",\n    \"japanese_bargain_button\": \"\",\n    \"japanese_castle\": \"\",\n    \"japanese_congratulations_button\": \"\",\n    \"japanese_discount_button\": \"\",\n    \"japanese_dolls\": \"\",\n    \"japanese_free_of_charge_button\": \"\",\n    \"japanese_here_button\": \"\",\n    \"japanese_monthly_amount_button\": \"\",\n    \"japanese_no_vacancy_button\": \"\",\n    \"japanese_not_free_of_charge_button\": \"\",\n    \"japanese_open_for_business_button\": \"\",\n    \"japanese_passing_grade_button\": \"\",\n    \"japanese_post_office\": \"\",\n    \"japanese_prohibited_button\": \"\",\n    \"japanese_reserved_button\": \"\",\n    \"japanese_secret_button\": \"\",\n    \"japanese_service_charge_button\": \"\",\n    \"japanese_symbol_for_beginner\": \"\",\n    \"japanese_vacancy_button\": \"\",\n    \"jersey\": \"\",\n    \"jordan\": \"\",\n    \"kazakhstan\": \"\",\n    \"kenya\": \"\",\n    \"kiribati\": \"\",\n    \"kosovo\": \"\",\n    \"kuwait\": \"\",\n    \"kyrgyzstan\": \"\",\n    \"laos\": \"\",\n    \"latvia\": \"\",\n    \"lebanon\": \"\",\n    \"leo\": \"\",\n    \"lesotho\": \"\",\n    \"liberia\": \"\",\n    \"libra\": \"\",\n    \"libya\": \"\",\n    \"liechtenstein\": \"\",\n    \"lithuania\": \"\",\n    \"luxembourg\": \"\",\n    \"macau_sar_china\": \"\",\n    \"macedonia\": \"\",\n    \"madagascar\": \"\",\n    \"malawi\": \"\",\n    \"malaysia\": \"\",\n    \"maldives\": \"\",\n    \"mali\": \"\",\n    \"malta\": \"\",\n    \"marshall_islands\": \"\",\n    \"martinique\": \"\",\n    \"mauritania\": \"\",\n    \"mauritius\": \"\",\n    \"mayotte\": \"\",\n    \"mexico\": \"\",\n    \"micronesia\": \"\",\n    \"moldova\": \"\",\n    \"monaco\": \"\",\n    \"mongolia\": \"\",\n    \"montenegro\": \"\",\n    \"montserrat\": \"\",\n    \"morocco\": \"\",\n    \"mozambique\": \"\",\n    \"mrs._claus\": \"\",\n    \"mrs._claus_dark_skin_tone\": \"\",\n    \"mrs._claus_light_skin_tone\": \"\",\n    \"mrs._claus_medium-dark_skin_tone\": \"\",\n    \"mrs._claus_medium-light_skin_tone\": \"\",\n    \"mrs._claus_medium_skin_tone\": \"\",\n    \"myanmar_(burma)\": \"\",\n    \"new_button\": \"\",\n    \"ng_button\": \"\",\n    \"namibia\": \"\",\n    \"nauru\": \"\",\n    \"nepal\": \"\",\n    \"netherlands\": \"\",\n    \"new_caledonia\": \"\",\n    \"new_zealand\": \"\",\n    \"nicaragua\": \"\",\n    \"niger\": \"\",\n    \"nigeria\": \"\",\n    \"niue\": \"\",\n    \"norfolk_island\": \"\",\n    \"north_korea\": \"\",\n    \"northern_mariana_islands\": \"\",\n    \"norway\": \"\",\n    \"ok_button\": \"\",\n    \"ok_hand\": \"\",\n    \"ok_hand_dark_skin_tone\": \"\",\n    \"ok_hand_light_skin_tone\": \"\",\n    \"ok_hand_medium-dark_skin_tone\": \"\",\n    \"ok_hand_medium-light_skin_tone\": \"\",\n    \"ok_hand_medium_skin_tone\": \"\",\n    \"on!_arrow\": \"\",\n    \"o_button_(blood_type)\": \"\",\n    \"oman\": \"\",\n    \"ophiuchus\": \"\",\n    \"p_button\": \"\",\n    \"pakistan\": \"\",\n    \"palau\": \"\",\n    \"palestinian_territories\": \"\",\n    \"panama\": \"\",\n    \"papua_new_guinea\": \"\",\n    \"paraguay\": \"\",\n    \"peru\": \"\",\n    \"philippines\": \"\",\n    \"pisces\": \"\",\n    \"pitcairn_islands\": \"\",\n    \"poland\": \"\",\n    \"portugal\": \"\",\n    \"puerto_rico\": \"\",\n    \"qatar\": \"\",\n    \"romania\": \"\",\n    \"russia\": \"\",\n    \"rwanda\": \"\",\n    \"runion\": \"\",\n    \"soon_arrow\": \"\",\n    \"sos_button\": \"\",\n    \"sagittarius\": \"\",\n    \"samoa\": \"\",\n    \"san_marino\": \"\",\n    \"santa_claus\": \"\",\n    \"santa_claus_dark_skin_tone\": \"\",\n    \"santa_claus_light_skin_tone\": \"\",\n    \"santa_claus_medium-dark_skin_tone\": \"\",\n    \"santa_claus_medium-light_skin_tone\": \"\",\n    \"santa_claus_medium_skin_tone\": \"\",\n    \"saudi_arabia\": \"\",\n    \"scorpio\": \"\",\n    \"scotland\": \"\\U000e0067\\U000e0062\\U000e0073\\U000e0063\\U000e0074\\U000e007f\",\n    \"senegal\": \"\",\n    \"serbia\": \"\",\n    \"seychelles\": \"\",\n    \"sierra_leone\": \"\",\n    \"singapore\": \"\",\n    \"sint_maarten\": \"\",\n    \"slovakia\": \"\",\n    \"slovenia\": \"\",\n    \"solomon_islands\": \"\",\n    \"somalia\": \"\",\n    \"south_africa\": \"\",\n    \"south_georgia_&_south_sandwich_islands\": \"\",\n    \"south_korea\": \"\",\n    \"south_sudan\": \"\",\n    \"spain\": \"\",\n    \"sri_lanka\": \"\",\n    \"st._barthlemy\": \"\",\n    \"st._helena\": \"\",\n    \"st._kitts_&_nevis\": \"\",\n    \"st._lucia\": \"\",\n    \"st._martin\": \"\",\n    \"st._pierre_&_miquelon\": \"\",\n    \"st._vincent_&_grenadines\": \"\",\n    \"statue_of_liberty\": \"\",\n    \"sudan\": \"\",\n    \"suriname\": \"\",\n    \"svalbard_&_jan_mayen\": \"\",\n    \"swaziland\": \"\",\n    \"sweden\": \"\",\n    \"switzerland\": \"\",\n    \"syria\": \"\",\n    \"so_tom_&_prncipe\": \"\",\n    \"t-rex\": \"\",\n    \"top_arrow\": \"\",\n    \"taiwan\": \"\",\n    \"tajikistan\": \"\",\n    \"tanzania\": \"\",\n    \"taurus\": \"\",\n    \"thailand\": \"\",\n    \"timor-leste\": \"\",\n    \"togo\": \"\",\n    \"tokelau\": \"\",\n    \"tokyo_tower\": \"\",\n    \"tonga\": \"\",\n    \"trinidad_&_tobago\": \"\",\n    \"tristan_da_cunha\": \"\",\n    \"tunisia\": \"\",\n    \"turkey\": \"\",\n    \"turkmenistan\": \"\",\n    \"turks_&_caicos_islands\": \"\",\n    \"tuvalu\": \"\",\n    \"u.s._outlying_islands\": \"\",\n    \"u.s._virgin_islands\": \"\",\n    \"up!_button\": \"\",\n    \"uganda\": \"\",\n    \"ukraine\": \"\",\n    \"united_arab_emirates\": \"\",\n    \"united_kingdom\": \"\",\n    \"united_nations\": \"\",\n    \"united_states\": \"\",\n    \"uruguay\": \"\",\n    \"uzbekistan\": \"\",\n    \"vs_button\": \"\",\n    \"vanuatu\": \"\",\n    \"vatican_city\": \"\",\n    \"venezuela\": \"\",\n    \"vietnam\": \"\",\n    \"virgo\": \"\",\n    \"wales\": \"\\U000e0067\\U000e0062\\U000e0077\\U000e006c\\U000e0073\\U000e007f\",\n    \"wallis_&_futuna\": \"\",\n    \"western_sahara\": \"\",\n    \"yemen\": \"\",\n    \"zambia\": \"\",\n    \"zimbabwe\": \"\",\n    \"abacus\": \"\",\n    \"adhesive_bandage\": \"\",\n    \"admission_tickets\": \"\",\n    \"adult\": \"\",\n    \"adult_dark_skin_tone\": \"\",\n    \"adult_light_skin_tone\": \"\",\n    \"adult_medium-dark_skin_tone\": \"\",\n    \"adult_medium-light_skin_tone\": \"\",\n    \"adult_medium_skin_tone\": \"\",\n    \"aerial_tramway\": \"\",\n    \"airplane\": \"\",\n    \"airplane_arrival\": \"\",\n    \"airplane_departure\": \"\",\n    \"alarm_clock\": \"\",\n    \"alembic\": \"\",\n    \"alien\": \"\",\n    \"alien_monster\": \"\",\n    \"ambulance\": \"\",\n    \"american_football\": \"\",\n    \"amphora\": \"\",\n    \"anchor\": \"\",\n    \"anger_symbol\": \"\",\n    \"angry_face\": \"\",\n    \"angry_face_with_horns\": \"\",\n    \"anguished_face\": \"\",\n    \"ant\": \"\",\n    \"antenna_bars\": \"\",\n    \"anxious_face_with_sweat\": \"\",\n    \"articulated_lorry\": \"\",\n    \"artist_palette\": \"\",\n    \"astonished_face\": \"\",\n    \"atom_symbol\": \"\",\n    \"auto_rickshaw\": \"\",\n    \"automobile\": \"\",\n    \"avocado\": \"\",\n    \"axe\": \"\",\n    \"baby\": \"\",\n    \"baby_angel\": \"\",\n    \"baby_angel_dark_skin_tone\": \"\",\n    \"baby_angel_light_skin_tone\": \"\",\n    \"baby_angel_medium-dark_skin_tone\": \"\",\n    \"baby_angel_medium-light_skin_tone\": \"\",\n    \"baby_angel_medium_skin_tone\": \"\",\n    \"baby_bottle\": \"\",\n    \"baby_chick\": \"\",\n    \"baby_dark_skin_tone\": \"\",\n    \"baby_light_skin_tone\": \"\",\n    \"baby_medium-dark_skin_tone\": \"\",\n    \"baby_medium-light_skin_tone\": \"\",\n    \"baby_medium_skin_tone\": \"\",\n    \"baby_symbol\": \"\",\n    \"backhand_index_pointing_down\": \"\",\n    \"backhand_index_pointing_down_dark_skin_tone\": \"\",\n    \"backhand_index_pointing_down_light_skin_tone\": \"\",\n    \"backhand_index_pointing_down_medium-dark_skin_tone\": \"\",\n    \"backhand_index_pointing_down_medium-light_skin_tone\": \"\",\n    \"backhand_index_pointing_down_medium_skin_tone\": \"\",\n    \"backhand_index_pointing_left\": \"\",\n    \"backhand_index_pointing_left_dark_skin_tone\": \"\",\n    \"backhand_index_pointing_left_light_skin_tone\": \"\",\n    \"backhand_index_pointing_left_medium-dark_skin_tone\": \"\",\n    \"backhand_index_pointing_left_medium-light_skin_tone\": \"\",\n    \"backhand_index_pointing_left_medium_skin_tone\": \"\",\n    \"backhand_index_pointing_right\": \"\",\n    \"backhand_index_pointing_right_dark_skin_tone\": \"\",\n    \"backhand_index_pointing_right_light_skin_tone\": \"\",\n    \"backhand_index_pointing_right_medium-dark_skin_tone\": \"\",\n    \"backhand_index_pointing_right_medium-light_skin_tone\": \"\",\n    \"backhand_index_pointing_right_medium_skin_tone\": \"\",\n    \"backhand_index_pointing_up\": \"\",\n    \"backhand_index_pointing_up_dark_skin_tone\": \"\",\n    \"backhand_index_pointing_up_light_skin_tone\": \"\",\n    \"backhand_index_pointing_up_medium-dark_skin_tone\": \"\",\n    \"backhand_index_pointing_up_medium-light_skin_tone\": \"\",\n    \"backhand_index_pointing_up_medium_skin_tone\": \"\",\n    \"bacon\": \"\",\n    \"badger\": \"\",\n    \"badminton\": \"\",\n    \"bagel\": \"\",\n    \"baggage_claim\": \"\",\n    \"baguette_bread\": \"\",\n    \"balance_scale\": \"\",\n    \"bald\": \"\",\n    \"bald_man\": \"\\u200d\",\n    \"bald_woman\": \"\\u200d\",\n    \"ballet_shoes\": \"\",\n    \"balloon\": \"\",\n    \"ballot_box_with_ballot\": \"\",\n    \"ballot_box_with_check\": \"\",\n    \"banana\": \"\",\n    \"banjo\": \"\",\n    \"bank\": \"\",\n    \"bar_chart\": \"\",\n    \"barber_pole\": \"\",\n    \"baseball\": \"\",\n    \"basket\": \"\",\n    \"basketball\": \"\",\n    \"bat\": \"\",\n    \"bathtub\": \"\",\n    \"battery\": \"\",\n    \"beach_with_umbrella\": \"\",\n    \"beaming_face_with_smiling_eyes\": \"\",\n    \"bear_face\": \"\",\n    \"bearded_person\": \"\",\n    \"bearded_person_dark_skin_tone\": \"\",\n    \"bearded_person_light_skin_tone\": \"\",\n    \"bearded_person_medium-dark_skin_tone\": \"\",\n    \"bearded_person_medium-light_skin_tone\": \"\",\n    \"bearded_person_medium_skin_tone\": \"\",\n    \"beating_heart\": \"\",\n    \"bed\": \"\",\n    \"beer_mug\": \"\",\n    \"bell\": \"\",\n    \"bell_with_slash\": \"\",\n    \"bellhop_bell\": \"\",\n    \"bento_box\": \"\",\n    \"beverage_box\": \"\",\n    \"bicycle\": \"\",\n    \"bikini\": \"\",\n    \"billed_cap\": \"\",\n    \"biohazard\": \"\",\n    \"bird\": \"\",\n    \"birthday_cake\": \"\",\n    \"black_circle\": \"\",\n    \"black_flag\": \"\",\n    \"black_heart\": \"\",\n    \"black_large_square\": \"\",\n    \"black_medium-small_square\": \"\",\n    \"black_medium_square\": \"\",\n    \"black_nib\": \"\",\n    \"black_small_square\": \"\",\n    \"black_square_button\": \"\",\n    \"blond-haired_man\": \"\\u200d\",\n    \"blond-haired_man_dark_skin_tone\": \"\\u200d\",\n    \"blond-haired_man_light_skin_tone\": \"\\u200d\",\n    \"blond-haired_man_medium-dark_skin_tone\": \"\\u200d\",\n    \"blond-haired_man_medium-light_skin_tone\": \"\\u200d\",\n    \"blond-haired_man_medium_skin_tone\": \"\\u200d\",\n    \"blond-haired_person\": \"\",\n    \"blond-haired_person_dark_skin_tone\": \"\",\n    \"blond-haired_person_light_skin_tone\": \"\",\n    \"blond-haired_person_medium-dark_skin_tone\": \"\",\n    \"blond-haired_person_medium-light_skin_tone\": \"\",\n    \"blond-haired_person_medium_skin_tone\": \"\",\n    \"blond-haired_woman\": \"\\u200d\",\n    \"blond-haired_woman_dark_skin_tone\": \"\\u200d\",\n    \"blond-haired_woman_light_skin_tone\": \"\\u200d\",\n    \"blond-haired_woman_medium-dark_skin_tone\": \"\\u200d\",\n    \"blond-haired_woman_medium-light_skin_tone\": \"\\u200d\",\n    \"blond-haired_woman_medium_skin_tone\": \"\\u200d\",\n    \"blossom\": \"\",\n    \"blowfish\": \"\",\n    \"blue_book\": \"\",\n    \"blue_circle\": \"\",\n    \"blue_heart\": \"\",\n    \"blue_square\": \"\",\n    \"boar\": \"\",\n    \"bomb\": \"\",\n    \"bone\": \"\",\n    \"bookmark\": \"\",\n    \"bookmark_tabs\": \"\",\n    \"books\": \"\",\n    \"bottle_with_popping_cork\": \"\",\n    \"bouquet\": \"\",\n    \"bow_and_arrow\": \"\",\n    \"bowl_with_spoon\": \"\",\n    \"bowling\": \"\",\n    \"boxing_glove\": \"\",\n    \"boy\": \"\",\n    \"boy_dark_skin_tone\": \"\",\n    \"boy_light_skin_tone\": \"\",\n    \"boy_medium-dark_skin_tone\": \"\",\n    \"boy_medium-light_skin_tone\": \"\",\n    \"boy_medium_skin_tone\": \"\",\n    \"brain\": \"\",\n    \"bread\": \"\",\n    \"breast-feeding\": \"\",\n    \"breast-feeding_dark_skin_tone\": \"\",\n    \"breast-feeding_light_skin_tone\": \"\",\n    \"breast-feeding_medium-dark_skin_tone\": \"\",\n    \"breast-feeding_medium-light_skin_tone\": \"\",\n    \"breast-feeding_medium_skin_tone\": \"\",\n    \"brick\": \"\",\n    \"bride_with_veil\": \"\",\n    \"bride_with_veil_dark_skin_tone\": \"\",\n    \"bride_with_veil_light_skin_tone\": \"\",\n    \"bride_with_veil_medium-dark_skin_tone\": \"\",\n    \"bride_with_veil_medium-light_skin_tone\": \"\",\n    \"bride_with_veil_medium_skin_tone\": \"\",\n    \"bridge_at_night\": \"\",\n    \"briefcase\": \"\",\n    \"briefs\": \"\",\n    \"bright_button\": \"\",\n    \"broccoli\": \"\",\n    \"broken_heart\": \"\",\n    \"broom\": \"\",\n    \"brown_circle\": \"\",\n    \"brown_heart\": \"\",\n    \"brown_square\": \"\",\n    \"bug\": \"\",\n    \"building_construction\": \"\",\n    \"bullet_train\": \"\",\n    \"burrito\": \"\",\n    \"bus\": \"\",\n    \"bus_stop\": \"\",\n    \"bust_in_silhouette\": \"\",\n    \"busts_in_silhouette\": \"\",\n    \"butter\": \"\",\n    \"butterfly\": \"\",\n    \"cactus\": \"\",\n    \"calendar\": \"\",\n    \"call_me_hand\": \"\",\n    \"call_me_hand_dark_skin_tone\": \"\",\n    \"call_me_hand_light_skin_tone\": \"\",\n    \"call_me_hand_medium-dark_skin_tone\": \"\",\n    \"call_me_hand_medium-light_skin_tone\": \"\",\n    \"call_me_hand_medium_skin_tone\": \"\",\n    \"camel\": \"\",\n    \"camera\": \"\",\n    \"camera_with_flash\": \"\",\n    \"camping\": \"\",\n    \"candle\": \"\",\n    \"candy\": \"\",\n    \"canned_food\": \"\",\n    \"canoe\": \"\",\n    \"card_file_box\": \"\",\n    \"card_index\": \"\",\n    \"card_index_dividers\": \"\",\n    \"carousel_horse\": \"\",\n    \"carp_streamer\": \"\",\n    \"carrot\": \"\",\n    \"castle\": \"\",\n    \"cat\": \"\",\n    \"cat_face\": \"\",\n    \"cat_face_with_tears_of_joy\": \"\",\n    \"cat_face_with_wry_smile\": \"\",\n    \"chains\": \"\",\n    \"chair\": \"\",\n    \"chart_decreasing\": \"\",\n    \"chart_increasing\": \"\",\n    \"chart_increasing_with_yen\": \"\",\n    \"cheese_wedge\": \"\",\n    \"chequered_flag\": \"\",\n    \"cherries\": \"\",\n    \"cherry_blossom\": \"\",\n    \"chess_pawn\": \"\",\n    \"chestnut\": \"\",\n    \"chicken\": \"\",\n    \"child\": \"\",\n    \"child_dark_skin_tone\": \"\",\n    \"child_light_skin_tone\": \"\",\n    \"child_medium-dark_skin_tone\": \"\",\n    \"child_medium-light_skin_tone\": \"\",\n    \"child_medium_skin_tone\": \"\",\n    \"children_crossing\": \"\",\n    \"chipmunk\": \"\",\n    \"chocolate_bar\": \"\",\n    \"chopsticks\": \"\",\n    \"church\": \"\",\n    \"cigarette\": \"\",\n    \"cinema\": \"\",\n    \"circled_m\": \"\",\n    \"circus_tent\": \"\",\n    \"cityscape\": \"\",\n    \"cityscape_at_dusk\": \"\",\n    \"clamp\": \"\",\n    \"clapper_board\": \"\",\n    \"clapping_hands\": \"\",\n    \"clapping_hands_dark_skin_tone\": \"\",\n    \"clapping_hands_light_skin_tone\": \"\",\n    \"clapping_hands_medium-dark_skin_tone\": \"\",\n    \"clapping_hands_medium-light_skin_tone\": \"\",\n    \"clapping_hands_medium_skin_tone\": \"\",\n    \"classical_building\": \"\",\n    \"clinking_beer_mugs\": \"\",\n    \"clinking_glasses\": \"\",\n    \"clipboard\": \"\",\n    \"clockwise_vertical_arrows\": \"\",\n    \"closed_book\": \"\",\n    \"closed_mailbox_with_lowered_flag\": \"\",\n    \"closed_mailbox_with_raised_flag\": \"\",\n    \"closed_umbrella\": \"\",\n    \"cloud\": \"\",\n    \"cloud_with_lightning\": \"\",\n    \"cloud_with_lightning_and_rain\": \"\",\n    \"cloud_with_rain\": \"\",\n    \"cloud_with_snow\": \"\",\n    \"clown_face\": \"\",\n    \"club_suit\": \"\",\n    \"clutch_bag\": \"\",\n    \"coat\": \"\",\n    \"cocktail_glass\": \"\",\n    \"coconut\": \"\",\n    \"coffin\": \"\",\n    \"cold_face\": \"\",\n    \"collision\": \"\",\n    \"comet\": \"\",\n    \"compass\": \"\",\n    \"computer_disk\": \"\",\n    \"computer_mouse\": \"\",\n    \"confetti_ball\": \"\",\n    \"confounded_face\": \"\",\n    \"confused_face\": \"\",\n    \"construction\": \"\",\n    \"construction_worker\": \"\",\n    \"construction_worker_dark_skin_tone\": \"\",\n    \"construction_worker_light_skin_tone\": \"\",\n    \"construction_worker_medium-dark_skin_tone\": \"\",\n    \"construction_worker_medium-light_skin_tone\": \"\",\n    \"construction_worker_medium_skin_tone\": \"\",\n    \"control_knobs\": \"\",\n    \"convenience_store\": \"\",\n    \"cooked_rice\": \"\",\n    \"cookie\": \"\",\n    \"cooking\": \"\",\n    \"copyright\": \"\",\n    \"couch_and_lamp\": \"\",\n    \"counterclockwise_arrows_button\": \"\",\n    \"couple_with_heart\": \"\",\n    \"couple_with_heart_man_man\": \"\\u200d\\u200d\",\n    \"couple_with_heart_woman_man\": \"\\u200d\\u200d\",\n    \"couple_with_heart_woman_woman\": \"\\u200d\\u200d\",\n    \"cow\": \"\",\n    \"cow_face\": \"\",\n    \"cowboy_hat_face\": \"\",\n    \"crab\": \"\",\n    \"crayon\": \"\",\n    \"credit_card\": \"\",\n    \"crescent_moon\": \"\",\n    \"cricket\": \"\",\n    \"cricket_game\": \"\",\n    \"crocodile\": \"\",\n    \"croissant\": \"\",\n    \"cross_mark\": \"\",\n    \"cross_mark_button\": \"\",\n    \"crossed_fingers\": \"\",\n    \"crossed_fingers_dark_skin_tone\": \"\",\n    \"crossed_fingers_light_skin_tone\": \"\",\n    \"crossed_fingers_medium-dark_skin_tone\": \"\",\n    \"crossed_fingers_medium-light_skin_tone\": \"\",\n    \"crossed_fingers_medium_skin_tone\": \"\",\n    \"crossed_flags\": \"\",\n    \"crossed_swords\": \"\",\n    \"crown\": \"\",\n    \"crying_cat_face\": \"\",\n    \"crying_face\": \"\",\n    \"crystal_ball\": \"\",\n    \"cucumber\": \"\",\n    \"cupcake\": \"\",\n    \"cup_with_straw\": \"\",\n    \"curling_stone\": \"\",\n    \"curly_hair\": \"\",\n    \"curly-haired_man\": \"\\u200d\",\n    \"curly-haired_woman\": \"\\u200d\",\n    \"curly_loop\": \"\",\n    \"currency_exchange\": \"\",\n    \"curry_rice\": \"\",\n    \"custard\": \"\",\n    \"customs\": \"\",\n    \"cut_of_meat\": \"\",\n    \"cyclone\": \"\",\n    \"dagger\": \"\",\n    \"dango\": \"\",\n    \"dashing_away\": \"\",\n    \"deaf_person\": \"\",\n    \"deciduous_tree\": \"\",\n    \"deer\": \"\",\n    \"delivery_truck\": \"\",\n    \"department_store\": \"\",\n    \"derelict_house\": \"\",\n    \"desert\": \"\",\n    \"desert_island\": \"\",\n    \"desktop_computer\": \"\",\n    \"detective\": \"\",\n    \"detective_dark_skin_tone\": \"\",\n    \"detective_light_skin_tone\": \"\",\n    \"detective_medium-dark_skin_tone\": \"\",\n    \"detective_medium-light_skin_tone\": \"\",\n    \"detective_medium_skin_tone\": \"\",\n    \"diamond_suit\": \"\",\n    \"diamond_with_a_dot\": \"\",\n    \"dim_button\": \"\",\n    \"direct_hit\": \"\",\n    \"disappointed_face\": \"\",\n    \"diving_mask\": \"\",\n    \"diya_lamp\": \"\",\n    \"dizzy\": \"\",\n    \"dizzy_face\": \"\",\n    \"dna\": \"\",\n    \"dog\": \"\",\n    \"dog_face\": \"\",\n    \"dollar_banknote\": \"\",\n    \"dolphin\": \"\",\n    \"door\": \"\",\n    \"dotted_six-pointed_star\": \"\",\n    \"double_curly_loop\": \"\",\n    \"double_exclamation_mark\": \"\",\n    \"doughnut\": \"\",\n    \"dove\": \"\",\n    \"down-left_arrow\": \"\",\n    \"down-right_arrow\": \"\",\n    \"down_arrow\": \"\",\n    \"downcast_face_with_sweat\": \"\",\n    \"downwards_button\": \"\",\n    \"dragon\": \"\",\n    \"dragon_face\": \"\",\n    \"dress\": \"\",\n    \"drooling_face\": \"\",\n    \"drop_of_blood\": \"\",\n    \"droplet\": \"\",\n    \"drum\": \"\",\n    \"duck\": \"\",\n    \"dumpling\": \"\",\n    \"dvd\": \"\",\n    \"e-mail\": \"\",\n    \"eagle\": \"\",\n    \"ear\": \"\",\n    \"ear_dark_skin_tone\": \"\",\n    \"ear_light_skin_tone\": \"\",\n    \"ear_medium-dark_skin_tone\": \"\",\n    \"ear_medium-light_skin_tone\": \"\",\n    \"ear_medium_skin_tone\": \"\",\n    \"ear_of_corn\": \"\",\n    \"ear_with_hearing_aid\": \"\",\n    \"egg\": \"\",\n    \"eggplant\": \"\",\n    \"eight-pointed_star\": \"\",\n    \"eight-spoked_asterisk\": \"\",\n    \"eight-thirty\": \"\",\n    \"eight_oclock\": \"\",\n    \"eject_button\": \"\",\n    \"electric_plug\": \"\",\n    \"elephant\": \"\",\n    \"eleven-thirty\": \"\",\n    \"eleven_oclock\": \"\",\n    \"elf\": \"\",\n    \"elf_dark_skin_tone\": \"\",\n    \"elf_light_skin_tone\": \"\",\n    \"elf_medium-dark_skin_tone\": \"\",\n    \"elf_medium-light_skin_tone\": \"\",\n    \"elf_medium_skin_tone\": \"\",\n    \"envelope\": \"\",\n    \"envelope_with_arrow\": \"\",\n    \"euro_banknote\": \"\",\n    \"evergreen_tree\": \"\",\n    \"ewe\": \"\",\n    \"exclamation_mark\": \"\",\n    \"exclamation_question_mark\": \"\",\n    \"exploding_head\": \"\",\n    \"expressionless_face\": \"\",\n    \"eye\": \"\",\n    \"eye_in_speech_bubble\": \"\\u200d\",\n    \"eyes\": \"\",\n    \"face_blowing_a_kiss\": \"\",\n    \"face_savoring_food\": \"\",\n    \"face_screaming_in_fear\": \"\",\n    \"face_vomiting\": \"\",\n    \"face_with_hand_over_mouth\": \"\",\n    \"face_with_head-bandage\": \"\",\n    \"face_with_medical_mask\": \"\",\n    \"face_with_monocle\": \"\",\n    \"face_with_open_mouth\": \"\",\n    \"face_with_raised_eyebrow\": \"\",\n    \"face_with_rolling_eyes\": \"\",\n    \"face_with_steam_from_nose\": \"\",\n    \"face_with_symbols_on_mouth\": \"\",\n    \"face_with_tears_of_joy\": \"\",\n    \"face_with_thermometer\": \"\",\n    \"face_with_tongue\": \"\",\n    \"face_without_mouth\": \"\",\n    \"factory\": \"\",\n    \"fairy\": \"\",\n    \"fairy_dark_skin_tone\": \"\",\n    \"fairy_light_skin_tone\": \"\",\n    \"fairy_medium-dark_skin_tone\": \"\",\n    \"fairy_medium-light_skin_tone\": \"\",\n    \"fairy_medium_skin_tone\": \"\",\n    \"falafel\": \"\",\n    \"fallen_leaf\": \"\",\n    \"family\": \"\",\n    \"family_man_boy\": \"\\u200d\",\n    \"family_man_boy_boy\": \"\\u200d\\u200d\",\n    \"family_man_girl\": \"\\u200d\",\n    \"family_man_girl_boy\": \"\\u200d\\u200d\",\n    \"family_man_girl_girl\": \"\\u200d\\u200d\",\n    \"family_man_man_boy\": \"\\u200d\\u200d\",\n    \"family_man_man_boy_boy\": \"\\u200d\\u200d\\u200d\",\n    \"family_man_man_girl\": \"\\u200d\\u200d\",\n    \"family_man_man_girl_boy\": \"\\u200d\\u200d\\u200d\",\n    \"family_man_man_girl_girl\": \"\\u200d\\u200d\\u200d\",\n    \"family_man_woman_boy\": \"\\u200d\\u200d\",\n    \"family_man_woman_boy_boy\": \"\\u200d\\u200d\\u200d\",\n    \"family_man_woman_girl\": \"\\u200d\\u200d\",\n    \"family_man_woman_girl_boy\": \"\\u200d\\u200d\\u200d\",\n    \"family_man_woman_girl_girl\": \"\\u200d\\u200d\\u200d\",\n    \"family_woman_boy\": \"\\u200d\",\n    \"family_woman_boy_boy\": \"\\u200d\\u200d\",\n    \"family_woman_girl\": \"\\u200d\",\n    \"family_woman_girl_boy\": \"\\u200d\\u200d\",\n    \"family_woman_girl_girl\": \"\\u200d\\u200d\",\n    \"family_woman_woman_boy\": \"\\u200d\\u200d\",\n    \"family_woman_woman_boy_boy\": \"\\u200d\\u200d\\u200d\",\n    \"family_woman_woman_girl\": \"\\u200d\\u200d\",\n    \"family_woman_woman_girl_boy\": \"\\u200d\\u200d\\u200d\",\n    \"family_woman_woman_girl_girl\": \"\\u200d\\u200d\\u200d\",\n    \"fast-forward_button\": \"\",\n    \"fast_down_button\": \"\",\n    \"fast_reverse_button\": \"\",\n    \"fast_up_button\": \"\",\n    \"fax_machine\": \"\",\n    \"fearful_face\": \"\",\n    \"female_sign\": \"\",\n    \"ferris_wheel\": \"\",\n    \"ferry\": \"\",\n    \"field_hockey\": \"\",\n    \"file_cabinet\": \"\",\n    \"file_folder\": \"\",\n    \"film_frames\": \"\",\n    \"film_projector\": \"\",\n    \"fire\": \"\",\n    \"fire_extinguisher\": \"\",\n    \"firecracker\": \"\",\n    \"fire_engine\": \"\",\n    \"fireworks\": \"\",\n    \"first_quarter_moon\": \"\",\n    \"first_quarter_moon_face\": \"\",\n    \"fish\": \"\",\n    \"fish_cake_with_swirl\": \"\",\n    \"fishing_pole\": \"\",\n    \"five-thirty\": \"\",\n    \"five_oclock\": \"\",\n    \"flag_in_hole\": \"\",\n    \"flamingo\": \"\",\n    \"flashlight\": \"\",\n    \"flat_shoe\": \"\",\n    \"fleur-de-lis\": \"\",\n    \"flexed_biceps\": \"\",\n    \"flexed_biceps_dark_skin_tone\": \"\",\n    \"flexed_biceps_light_skin_tone\": \"\",\n    \"flexed_biceps_medium-dark_skin_tone\": \"\",\n    \"flexed_biceps_medium-light_skin_tone\": \"\",\n    \"flexed_biceps_medium_skin_tone\": \"\",\n    \"floppy_disk\": \"\",\n    \"flower_playing_cards\": \"\",\n    \"flushed_face\": \"\",\n    \"flying_disc\": \"\",\n    \"flying_saucer\": \"\",\n    \"fog\": \"\",\n    \"foggy\": \"\",\n    \"folded_hands\": \"\",\n    \"folded_hands_dark_skin_tone\": \"\",\n    \"folded_hands_light_skin_tone\": \"\",\n    \"folded_hands_medium-dark_skin_tone\": \"\",\n    \"folded_hands_medium-light_skin_tone\": \"\",\n    \"folded_hands_medium_skin_tone\": \"\",\n    \"foot\": \"\",\n    \"footprints\": \"\",\n    \"fork_and_knife\": \"\",\n    \"fork_and_knife_with_plate\": \"\",\n    \"fortune_cookie\": \"\",\n    \"fountain\": \"\",\n    \"fountain_pen\": \"\",\n    \"four-thirty\": \"\",\n    \"four_leaf_clover\": \"\",\n    \"four_oclock\": \"\",\n    \"fox_face\": \"\",\n    \"framed_picture\": \"\",\n    \"french_fries\": \"\",\n    \"fried_shrimp\": \"\",\n    \"frog_face\": \"\",\n    \"front-facing_baby_chick\": \"\",\n    \"frowning_face\": \"\",\n    \"frowning_face_with_open_mouth\": \"\",\n    \"fuel_pump\": \"\",\n    \"full_moon\": \"\",\n    \"full_moon_face\": \"\",\n    \"funeral_urn\": \"\",\n    \"game_die\": \"\",\n    \"garlic\": \"\",\n    \"gear\": \"\",\n    \"gem_stone\": \"\",\n    \"genie\": \"\",\n    \"ghost\": \"\",\n    \"giraffe\": \"\",\n    \"girl\": \"\",\n    \"girl_dark_skin_tone\": \"\",\n    \"girl_light_skin_tone\": \"\",\n    \"girl_medium-dark_skin_tone\": \"\",\n    \"girl_medium-light_skin_tone\": \"\",\n    \"girl_medium_skin_tone\": \"\",\n    \"glass_of_milk\": \"\",\n    \"glasses\": \"\",\n    \"globe_showing_americas\": \"\",\n    \"globe_showing_asia-australia\": \"\",\n    \"globe_showing_europe-africa\": \"\",\n    \"globe_with_meridians\": \"\",\n    \"gloves\": \"\",\n    \"glowing_star\": \"\",\n    \"goal_net\": \"\",\n    \"goat\": \"\",\n    \"goblin\": \"\",\n    \"goggles\": \"\",\n    \"gorilla\": \"\",\n    \"graduation_cap\": \"\",\n    \"grapes\": \"\",\n    \"green_apple\": \"\",\n    \"green_book\": \"\",\n    \"green_circle\": \"\",\n    \"green_heart\": \"\",\n    \"green_salad\": \"\",\n    \"green_square\": \"\",\n    \"grimacing_face\": \"\",\n    \"grinning_cat_face\": \"\",\n    \"grinning_cat_face_with_smiling_eyes\": \"\",\n    \"grinning_face\": \"\",\n    \"grinning_face_with_big_eyes\": \"\",\n    \"grinning_face_with_smiling_eyes\": \"\",\n    \"grinning_face_with_sweat\": \"\",\n    \"grinning_squinting_face\": \"\",\n    \"growing_heart\": \"\",\n    \"guard\": \"\",\n    \"guard_dark_skin_tone\": \"\",\n    \"guard_light_skin_tone\": \"\",\n    \"guard_medium-dark_skin_tone\": \"\",\n    \"guard_medium-light_skin_tone\": \"\",\n    \"guard_medium_skin_tone\": \"\",\n    \"guide_dog\": \"\",\n    \"guitar\": \"\",\n    \"hamburger\": \"\",\n    \"hammer\": \"\",\n    \"hammer_and_pick\": \"\",\n    \"hammer_and_wrench\": \"\",\n    \"hamster_face\": \"\",\n    \"hand_with_fingers_splayed\": \"\",\n    \"hand_with_fingers_splayed_dark_skin_tone\": \"\",\n    \"hand_with_fingers_splayed_light_skin_tone\": \"\",\n    \"hand_with_fingers_splayed_medium-dark_skin_tone\": \"\",\n    \"hand_with_fingers_splayed_medium-light_skin_tone\": \"\",\n    \"hand_with_fingers_splayed_medium_skin_tone\": \"\",\n    \"handbag\": \"\",\n    \"handshake\": \"\",\n    \"hatching_chick\": \"\",\n    \"headphone\": \"\",\n    \"hear-no-evil_monkey\": \"\",\n    \"heart_decoration\": \"\",\n    \"heart_suit\": \"\",\n    \"heart_with_arrow\": \"\",\n    \"heart_with_ribbon\": \"\",\n    \"heavy_check_mark\": \"\",\n    \"heavy_division_sign\": \"\",\n    \"heavy_dollar_sign\": \"\",\n    \"heavy_heart_exclamation\": \"\",\n    \"heavy_large_circle\": \"\",\n    \"heavy_minus_sign\": \"\",\n    \"heavy_multiplication_x\": \"\",\n    \"heavy_plus_sign\": \"\",\n    \"hedgehog\": \"\",\n    \"helicopter\": \"\",\n    \"herb\": \"\",\n    \"hibiscus\": \"\",\n    \"high-heeled_shoe\": \"\",\n    \"high-speed_train\": \"\",\n    \"high_voltage\": \"\",\n    \"hiking_boot\": \"\",\n    \"hindu_temple\": \"\",\n    \"hippopotamus\": \"\",\n    \"hole\": \"\",\n    \"honey_pot\": \"\",\n    \"honeybee\": \"\",\n    \"horizontal_traffic_light\": \"\",\n    \"horse\": \"\",\n    \"horse_face\": \"\",\n    \"horse_racing\": \"\",\n    \"horse_racing_dark_skin_tone\": \"\",\n    \"horse_racing_light_skin_tone\": \"\",\n    \"horse_racing_medium-dark_skin_tone\": \"\",\n    \"horse_racing_medium-light_skin_tone\": \"\",\n    \"horse_racing_medium_skin_tone\": \"\",\n    \"hospital\": \"\",\n    \"hot_beverage\": \"\",\n    \"hot_dog\": \"\",\n    \"hot_face\": \"\",\n    \"hot_pepper\": \"\",\n    \"hot_springs\": \"\",\n    \"hotel\": \"\",\n    \"hourglass_done\": \"\",\n    \"hourglass_not_done\": \"\",\n    \"house\": \"\",\n    \"house_with_garden\": \"\",\n    \"houses\": \"\",\n    \"hugging_face\": \"\",\n    \"hundred_points\": \"\",\n    \"hushed_face\": \"\",\n    \"ice\": \"\",\n    \"ice_cream\": \"\",\n    \"ice_hockey\": \"\",\n    \"ice_skate\": \"\",\n    \"inbox_tray\": \"\",\n    \"incoming_envelope\": \"\",\n    \"index_pointing_up\": \"\",\n    \"index_pointing_up_dark_skin_tone\": \"\",\n    \"index_pointing_up_light_skin_tone\": \"\",\n    \"index_pointing_up_medium-dark_skin_tone\": \"\",\n    \"index_pointing_up_medium-light_skin_tone\": \"\",\n    \"index_pointing_up_medium_skin_tone\": \"\",\n    \"infinity\": \"\",\n    \"information\": \"\",\n    \"input_latin_letters\": \"\",\n    \"input_latin_lowercase\": \"\",\n    \"input_latin_uppercase\": \"\",\n    \"input_numbers\": \"\",\n    \"input_symbols\": \"\",\n    \"jack-o-lantern\": \"\",\n    \"jeans\": \"\",\n    \"jigsaw\": \"\",\n    \"joker\": \"\",\n    \"joystick\": \"\",\n    \"kaaba\": \"\",\n    \"kangaroo\": \"\",\n    \"key\": \"\",\n    \"keyboard\": \"\",\n    \"keycap_#\": \"#\",\n    \"keycap_*\": \"*\",\n    \"keycap_0\": \"0\",\n    \"keycap_1\": \"1\",\n    \"keycap_10\": \"\",\n    \"keycap_2\": \"2\",\n    \"keycap_3\": \"3\",\n    \"keycap_4\": \"4\",\n    \"keycap_5\": \"5\",\n    \"keycap_6\": \"6\",\n    \"keycap_7\": \"7\",\n    \"keycap_8\": \"8\",\n    \"keycap_9\": \"9\",\n    \"kick_scooter\": \"\",\n    \"kimono\": \"\",\n    \"kiss\": \"\",\n    \"kiss_man_man\": \"\\u200d\\u200d\\u200d\",\n    \"kiss_mark\": \"\",\n    \"kiss_woman_man\": \"\\u200d\\u200d\\u200d\",\n    \"kiss_woman_woman\": \"\\u200d\\u200d\\u200d\",\n    \"kissing_cat_face\": \"\",\n    \"kissing_face\": \"\",\n    \"kissing_face_with_closed_eyes\": \"\",\n    \"kissing_face_with_smiling_eyes\": \"\",\n    \"kitchen_knife\": \"\",\n    \"kite\": \"\",\n    \"kiwi_fruit\": \"\",\n    \"koala\": \"\",\n    \"lab_coat\": \"\",\n    \"label\": \"\",\n    \"lacrosse\": \"\",\n    \"lady_beetle\": \"\",\n    \"laptop_computer\": \"\",\n    \"large_blue_diamond\": \"\",\n    \"large_orange_diamond\": \"\",\n    \"last_quarter_moon\": \"\",\n    \"last_quarter_moon_face\": \"\",\n    \"last_track_button\": \"\",\n    \"latin_cross\": \"\",\n    \"leaf_fluttering_in_wind\": \"\",\n    \"leafy_green\": \"\",\n    \"ledger\": \"\",\n    \"left-facing_fist\": \"\",\n    \"left-facing_fist_dark_skin_tone\": \"\",\n    \"left-facing_fist_light_skin_tone\": \"\",\n    \"left-facing_fist_medium-dark_skin_tone\": \"\",\n    \"left-facing_fist_medium-light_skin_tone\": \"\",\n    \"left-facing_fist_medium_skin_tone\": \"\",\n    \"left-right_arrow\": \"\",\n    \"left_arrow\": \"\",\n    \"left_arrow_curving_right\": \"\",\n    \"left_luggage\": \"\",\n    \"left_speech_bubble\": \"\",\n    \"leg\": \"\",\n    \"lemon\": \"\",\n    \"leopard\": \"\",\n    \"level_slider\": \"\",\n    \"light_bulb\": \"\",\n    \"light_rail\": \"\",\n    \"link\": \"\",\n    \"linked_paperclips\": \"\",\n    \"lion_face\": \"\",\n    \"lipstick\": \"\",\n    \"litter_in_bin_sign\": \"\",\n    \"lizard\": \"\",\n    \"llama\": \"\",\n    \"lobster\": \"\",\n    \"locked\": \"\",\n    \"locked_with_key\": \"\",\n    \"locked_with_pen\": \"\",\n    \"locomotive\": \"\",\n    \"lollipop\": \"\",\n    \"lotion_bottle\": \"\",\n    \"loudly_crying_face\": \"\",\n    \"loudspeaker\": \"\",\n    \"love-you_gesture\": \"\",\n    \"love-you_gesture_dark_skin_tone\": \"\",\n    \"love-you_gesture_light_skin_tone\": \"\",\n    \"love-you_gesture_medium-dark_skin_tone\": \"\",\n    \"love-you_gesture_medium-light_skin_tone\": \"\",\n    \"love-you_gesture_medium_skin_tone\": \"\",\n    \"love_hotel\": \"\",\n    \"love_letter\": \"\",\n    \"luggage\": \"\",\n    \"lying_face\": \"\",\n    \"mage\": \"\",\n    \"mage_dark_skin_tone\": \"\",\n    \"mage_light_skin_tone\": \"\",\n    \"mage_medium-dark_skin_tone\": \"\",\n    \"mage_medium-light_skin_tone\": \"\",\n    \"mage_medium_skin_tone\": \"\",\n    \"magnet\": \"\",\n    \"magnifying_glass_tilted_left\": \"\",\n    \"magnifying_glass_tilted_right\": \"\",\n    \"mahjong_red_dragon\": \"\",\n    \"male_sign\": \"\",\n    \"man\": \"\",\n    \"man_and_woman_holding_hands\": \"\",\n    \"man_artist\": \"\\u200d\",\n    \"man_artist_dark_skin_tone\": \"\\u200d\",\n    \"man_artist_light_skin_tone\": \"\\u200d\",\n    \"man_artist_medium-dark_skin_tone\": \"\\u200d\",\n    \"man_artist_medium-light_skin_tone\": \"\\u200d\",\n    \"man_artist_medium_skin_tone\": \"\\u200d\",\n    \"man_astronaut\": \"\\u200d\",\n    \"man_astronaut_dark_skin_tone\": \"\\u200d\",\n    \"man_astronaut_light_skin_tone\": \"\\u200d\",\n    \"man_astronaut_medium-dark_skin_tone\": \"\\u200d\",\n    \"man_astronaut_medium-light_skin_tone\": \"\\u200d\",\n    \"man_astronaut_medium_skin_tone\": \"\\u200d\",\n    \"man_biking\": \"\\u200d\",\n    \"man_biking_dark_skin_tone\": \"\\u200d\",\n    \"man_biking_light_skin_tone\": \"\\u200d\",\n    \"man_biking_medium-dark_skin_tone\": \"\\u200d\",\n    \"man_biking_medium-light_skin_tone\": \"\\u200d\",\n    \"man_biking_medium_skin_tone\": \"\\u200d\",\n    \"man_bouncing_ball\": \"\\u200d\",\n    \"man_bouncing_ball_dark_skin_tone\": \"\\u200d\",\n    \"man_bouncing_ball_light_skin_tone\": \"\\u200d\",\n    \"man_bouncing_ball_medium-dark_skin_tone\": \"\\u200d\",\n    \"man_bouncing_ball_medium-light_skin_tone\": \"\\u200d\",\n    \"man_bouncing_ball_medium_skin_tone\": \"\\u200d\",\n    \"man_bowing\": \"\\u200d\",\n    \"man_bowing_dark_skin_tone\": \"\\u200d\",\n    \"man_bowing_light_skin_tone\": \"\\u200d\",\n    \"man_bowing_medium-dark_skin_tone\": \"\\u200d\",\n    \"man_bowing_medium-light_skin_tone\": \"\\u200d\",\n    \"man_bowing_medium_skin_tone\": \"\\u200d\",\n    \"man_cartwheeling\": \"\\u200d\",\n    \"man_cartwheeling_dark_skin_tone\": \"\\u200d\",\n    \"man_cartwheeling_light_skin_tone\": \"\\u200d\",\n    \"man_cartwheeling_medium-dark_skin_tone\": \"\\u200d\",\n    \"man_cartwheeling_medium-light_skin_tone\": \"\\u200d\",\n    \"man_cartwheeling_medium_skin_tone\": \"\\u200d\",\n    \"man_climbing\": \"\\u200d\",\n    \"man_climbing_dark_skin_tone\": \"\\u200d\",\n    \"man_climbing_light_skin_tone\": \"\\u200d\",\n    \"man_climbing_medium-dark_skin_tone\": \"\\u200d\",\n    \"man_climbing_medium-light_skin_tone\": \"\\u200d\",\n    \"man_climbing_medium_skin_tone\": \"\\u200d\",\n    \"man_construction_worker\": \"\\u200d\",\n    \"man_construction_worker_dark_skin_tone\": \"\\u200d\",\n    \"man_construction_worker_light_skin_tone\": \"\\u200d\",\n    \"man_construction_worker_medium-dark_skin_tone\": \"\\u200d\",\n    \"man_construction_worker_medium-light_skin_tone\": \"\\u200d\",\n    \"man_construction_worker_medium_skin_tone\": \"\\u200d\",\n    \"man_cook\": \"\\u200d\",\n    \"man_cook_dark_skin_tone\": \"\\u200d\",\n    \"man_cook_light_skin_tone\": \"\\u200d\",\n    \"man_cook_medium-dark_skin_tone\": \"\\u200d\",\n    \"man_cook_medium-light_skin_tone\": \"\\u200d\",\n    \"man_cook_medium_skin_tone\": \"\\u200d\",\n    \"man_dancing\": \"\",\n    \"man_dancing_dark_skin_tone\": \"\",\n    \"man_dancing_light_skin_tone\": \"\",\n    \"man_dancing_medium-dark_skin_tone\": \"\",\n    \"man_dancing_medium-light_skin_tone\": \"\",\n    \"man_dancing_medium_skin_tone\": \"\",\n    \"man_dark_skin_tone\": \"\",\n    \"man_detective\": \"\\u200d\",\n    \"man_detective_dark_skin_tone\": \"\\u200d\",\n    \"man_detective_light_skin_tone\": \"\\u200d\",\n    \"man_detective_medium-dark_skin_tone\": \"\\u200d\",\n    \"man_detective_medium-light_skin_tone\": \"\\u200d\",\n    \"man_detective_medium_skin_tone\": \"\\u200d\",\n    \"man_elf\": \"\\u200d\",\n    \"man_elf_dark_skin_tone\": \"\\u200d\",\n    \"man_elf_light_skin_tone\": \"\\u200d\",\n    \"man_elf_medium-dark_skin_tone\": \"\\u200d\",\n    \"man_elf_medium-light_skin_tone\": \"\\u200d\",\n    \"man_elf_medium_skin_tone\": \"\\u200d\",\n    \"man_facepalming\": \"\\u200d\",\n    \"man_facepalming_dark_skin_tone\": \"\\u200d\",\n    \"man_facepalming_light_skin_tone\": \"\\u200d\",\n    \"man_facepalming_medium-dark_skin_tone\": \"\\u200d\",\n    \"man_facepalming_medium-light_skin_tone\": \"\\u200d\",\n    \"man_facepalming_medium_skin_tone\": \"\\u200d\",\n    \"man_factory_worker\": \"\\u200d\",\n    \"man_factory_worker_dark_skin_tone\": \"\\u200d\",\n    \"man_factory_worker_light_skin_tone\": \"\\u200d\",\n    \"man_factory_worker_medium-dark_skin_tone\": \"\\u200d\",\n    \"man_factory_worker_medium-light_skin_tone\": \"\\u200d\",\n    \"man_factory_worker_medium_skin_tone\": \"\\u200d\",\n    \"man_fairy\": \"\\u200d\",\n    \"man_fairy_dark_skin_tone\": \"\\u200d\",\n    \"man_fairy_light_skin_tone\": \"\\u200d\",\n    \"man_fairy_medium-dark_skin_tone\": \"\\u200d\",\n    \"man_fairy_medium-light_skin_tone\": \"\\u200d\",\n    \"man_fairy_medium_skin_tone\": \"\\u200d\",\n    \"man_farmer\": \"\\u200d\",\n    \"man_farmer_dark_skin_tone\": \"\\u200d\",\n    \"man_farmer_light_skin_tone\": \"\\u200d\",\n    \"man_farmer_medium-dark_skin_tone\": \"\\u200d\",\n    \"man_farmer_medium-light_skin_tone\": \"\\u200d\",\n    \"man_farmer_medium_skin_tone\": \"\\u200d\",\n    \"man_firefighter\": \"\\u200d\",\n    \"man_firefighter_dark_skin_tone\": \"\\u200d\",\n    \"man_firefighter_light_skin_tone\": \"\\u200d\",\n    \"man_firefighter_medium-dark_skin_tone\": \"\\u200d\",\n    \"man_firefighter_medium-light_skin_tone\": \"\\u200d\",\n    \"man_firefighter_medium_skin_tone\": \"\\u200d\",\n    \"man_frowning\": \"\\u200d\",\n    \"man_frowning_dark_skin_tone\": \"\\u200d\",\n    \"man_frowning_light_skin_tone\": \"\\u200d\",\n    \"man_frowning_medium-dark_skin_tone\": \"\\u200d\",\n    \"man_frowning_medium-light_skin_tone\": \"\\u200d\",\n    \"man_frowning_medium_skin_tone\": \"\\u200d\",\n    \"man_genie\": \"\\u200d\",\n    \"man_gesturing_no\": \"\\u200d\",\n    \"man_gesturing_no_dark_skin_tone\": \"\\u200d\",\n    \"man_gesturing_no_light_skin_tone\": \"\\u200d\",\n    \"man_gesturing_no_medium-dark_skin_tone\": \"\\u200d\",\n    \"man_gesturing_no_medium-light_skin_tone\": \"\\u200d\",\n    \"man_gesturing_no_medium_skin_tone\": \"\\u200d\",\n    \"man_gesturing_ok\": \"\\u200d\",\n    \"man_gesturing_ok_dark_skin_tone\": \"\\u200d\",\n    \"man_gesturing_ok_light_skin_tone\": \"\\u200d\",\n    \"man_gesturing_ok_medium-dark_skin_tone\": \"\\u200d\",\n    \"man_gesturing_ok_medium-light_skin_tone\": \"\\u200d\",\n    \"man_gesturing_ok_medium_skin_tone\": \"\\u200d\",\n    \"man_getting_haircut\": \"\\u200d\",\n    \"man_getting_haircut_dark_skin_tone\": \"\\u200d\",\n    \"man_getting_haircut_light_skin_tone\": \"\\u200d\",\n    \"man_getting_haircut_medium-dark_skin_tone\": \"\\u200d\",\n    \"man_getting_haircut_medium-light_skin_tone\": \"\\u200d\",\n    \"man_getting_haircut_medium_skin_tone\": \"\\u200d\",\n    \"man_getting_massage\": \"\\u200d\",\n    \"man_getting_massage_dark_skin_tone\": \"\\u200d\",\n    \"man_getting_massage_light_skin_tone\": \"\\u200d\",\n    \"man_getting_massage_medium-dark_skin_tone\": \"\\u200d\",\n    \"man_getting_massage_medium-light_skin_tone\": \"\\u200d\",\n    \"man_getting_massage_medium_skin_tone\": \"\\u200d\",\n    \"man_golfing\": \"\\u200d\",\n    \"man_golfing_dark_skin_tone\": \"\\u200d\",\n    \"man_golfing_light_skin_tone\": \"\\u200d\",\n    \"man_golfing_medium-dark_skin_tone\": \"\\u200d\",\n    \"man_golfing_medium-light_skin_tone\": \"\\u200d\",\n    \"man_golfing_medium_skin_tone\": \"\\u200d\",\n    \"man_guard\": \"\\u200d\",\n    \"man_guard_dark_skin_tone\": \"\\u200d\",\n    \"man_guard_light_skin_tone\": \"\\u200d\",\n    \"man_guard_medium-dark_skin_tone\": \"\\u200d\",\n    \"man_guard_medium-light_skin_tone\": \"\\u200d\",\n    \"man_guard_medium_skin_tone\": \"\\u200d\",\n    \"man_health_worker\": \"\\u200d\",\n    \"man_health_worker_dark_skin_tone\": \"\\u200d\",\n    \"man_health_worker_light_skin_tone\": \"\\u200d\",\n    \"man_health_worker_medium-dark_skin_tone\": \"\\u200d\",\n    \"man_health_worker_medium-light_skin_tone\": \"\\u200d\",\n    \"man_health_worker_medium_skin_tone\": \"\\u200d\",\n    \"man_in_lotus_position\": \"\\u200d\",\n    \"man_in_lotus_position_dark_skin_tone\": \"\\u200d\",\n    \"man_in_lotus_position_light_skin_tone\": \"\\u200d\",\n    \"man_in_lotus_position_medium-dark_skin_tone\": \"\\u200d\",\n    \"man_in_lotus_position_medium-light_skin_tone\": \"\\u200d\",\n    \"man_in_lotus_position_medium_skin_tone\": \"\\u200d\",\n    \"man_in_manual_wheelchair\": \"\\u200d\",\n    \"man_in_motorized_wheelchair\": \"\\u200d\",\n    \"man_in_steamy_room\": \"\\u200d\",\n    \"man_in_steamy_room_dark_skin_tone\": \"\\u200d\",\n    \"man_in_steamy_room_light_skin_tone\": \"\\u200d\",\n    \"man_in_steamy_room_medium-dark_skin_tone\": \"\\u200d\",\n    \"man_in_steamy_room_medium-light_skin_tone\": \"\\u200d\",\n    \"man_in_steamy_room_medium_skin_tone\": \"\\u200d\",\n    \"man_in_suit_levitating\": \"\",\n    \"man_in_suit_levitating_dark_skin_tone\": \"\",\n    \"man_in_suit_levitating_light_skin_tone\": \"\",\n    \"man_in_suit_levitating_medium-dark_skin_tone\": \"\",\n    \"man_in_suit_levitating_medium-light_skin_tone\": \"\",\n    \"man_in_suit_levitating_medium_skin_tone\": \"\",\n    \"man_in_tuxedo\": \"\",\n    \"man_in_tuxedo_dark_skin_tone\": \"\",\n    \"man_in_tuxedo_light_skin_tone\": \"\",\n    \"man_in_tuxedo_medium-dark_skin_tone\": \"\",\n    \"man_in_tuxedo_medium-light_skin_tone\": \"\",\n    \"man_in_tuxedo_medium_skin_tone\": \"\",\n    \"man_judge\": \"\\u200d\",\n    \"man_judge_dark_skin_tone\": \"\\u200d\",\n    \"man_judge_light_skin_tone\": \"\\u200d\",\n    \"man_judge_medium-dark_skin_tone\": \"\\u200d\",\n    \"man_judge_medium-light_skin_tone\": \"\\u200d\",\n    \"man_judge_medium_skin_tone\": \"\\u200d\",\n    \"man_juggling\": \"\\u200d\",\n    \"man_juggling_dark_skin_tone\": \"\\u200d\",\n    \"man_juggling_light_skin_tone\": \"\\u200d\",\n    \"man_juggling_medium-dark_skin_tone\": \"\\u200d\",\n    \"man_juggling_medium-light_skin_tone\": \"\\u200d\",\n    \"man_juggling_medium_skin_tone\": \"\\u200d\",\n    \"man_lifting_weights\": \"\\u200d\",\n    \"man_lifting_weights_dark_skin_tone\": \"\\u200d\",\n    \"man_lifting_weights_light_skin_tone\": \"\\u200d\",\n    \"man_lifting_weights_medium-dark_skin_tone\": \"\\u200d\",\n    \"man_lifting_weights_medium-light_skin_tone\": \"\\u200d\",\n    \"man_lifting_weights_medium_skin_tone\": \"\\u200d\",\n    \"man_light_skin_tone\": \"\",\n    \"man_mage\": \"\\u200d\",\n    \"man_mage_dark_skin_tone\": \"\\u200d\",\n    \"man_mage_light_skin_tone\": \"\\u200d\",\n    \"man_mage_medium-dark_skin_tone\": \"\\u200d\",\n    \"man_mage_medium-light_skin_tone\": \"\\u200d\",\n    \"man_mage_medium_skin_tone\": \"\\u200d\",\n    \"man_mechanic\": \"\\u200d\",\n    \"man_mechanic_dark_skin_tone\": \"\\u200d\",\n    \"man_mechanic_light_skin_tone\": \"\\u200d\",\n    \"man_mechanic_medium-dark_skin_tone\": \"\\u200d\",\n    \"man_mechanic_medium-light_skin_tone\": \"\\u200d\",\n    \"man_mechanic_medium_skin_tone\": \"\\u200d\",\n    \"man_medium-dark_skin_tone\": \"\",\n    \"man_medium-light_skin_tone\": \"\",\n    \"man_medium_skin_tone\": \"\",\n    \"man_mountain_biking\": \"\\u200d\",\n    \"man_mountain_biking_dark_skin_tone\": \"\\u200d\",\n    \"man_mountain_biking_light_skin_tone\": \"\\u200d\",\n    \"man_mountain_biking_medium-dark_skin_tone\": \"\\u200d\",\n    \"man_mountain_biking_medium-light_skin_tone\": \"\\u200d\",\n    \"man_mountain_biking_medium_skin_tone\": \"\\u200d\",\n    \"man_office_worker\": \"\\u200d\",\n    \"man_office_worker_dark_skin_tone\": \"\\u200d\",\n    \"man_office_worker_light_skin_tone\": \"\\u200d\",\n    \"man_office_worker_medium-dark_skin_tone\": \"\\u200d\",\n    \"man_office_worker_medium-light_skin_tone\": \"\\u200d\",\n    \"man_office_worker_medium_skin_tone\": \"\\u200d\",\n    \"man_pilot\": \"\\u200d\",\n    \"man_pilot_dark_skin_tone\": \"\\u200d\",\n    \"man_pilot_light_skin_tone\": \"\\u200d\",\n    \"man_pilot_medium-dark_skin_tone\": \"\\u200d\",\n    \"man_pilot_medium-light_skin_tone\": \"\\u200d\",\n    \"man_pilot_medium_skin_tone\": \"\\u200d\",\n    \"man_playing_handball\": \"\\u200d\",\n    \"man_playing_handball_dark_skin_tone\": \"\\u200d\",\n    \"man_playing_handball_light_skin_tone\": \"\\u200d\",\n    \"man_playing_handball_medium-dark_skin_tone\": \"\\u200d\",\n    \"man_playing_handball_medium-light_skin_tone\": \"\\u200d\",\n    \"man_playing_handball_medium_skin_tone\": \"\\u200d\",\n    \"man_playing_water_polo\": \"\\u200d\",\n    \"man_playing_water_polo_dark_skin_tone\": \"\\u200d\",\n    \"man_playing_water_polo_light_skin_tone\": \"\\u200d\",\n    \"man_playing_water_polo_medium-dark_skin_tone\": \"\\u200d\",\n    \"man_playing_water_polo_medium-light_skin_tone\": \"\\u200d\",\n    \"man_playing_water_polo_medium_skin_tone\": \"\\u200d\",\n    \"man_police_officer\": \"\\u200d\",\n    \"man_police_officer_dark_skin_tone\": \"\\u200d\",\n    \"man_police_officer_light_skin_tone\": \"\\u200d\",\n    \"man_police_officer_medium-dark_skin_tone\": \"\\u200d\",\n    \"man_police_officer_medium-light_skin_tone\": \"\\u200d\",\n    \"man_police_officer_medium_skin_tone\": \"\\u200d\",\n    \"man_pouting\": \"\\u200d\",\n    \"man_pouting_dark_skin_tone\": \"\\u200d\",\n    \"man_pouting_light_skin_tone\": \"\\u200d\",\n    \"man_pouting_medium-dark_skin_tone\": \"\\u200d\",\n    \"man_pouting_medium-light_skin_tone\": \"\\u200d\",\n    \"man_pouting_medium_skin_tone\": \"\\u200d\",\n    \"man_raising_hand\": \"\\u200d\",\n    \"man_raising_hand_dark_skin_tone\": \"\\u200d\",\n    \"man_raising_hand_light_skin_tone\": \"\\u200d\",\n    \"man_raising_hand_medium-dark_skin_tone\": \"\\u200d\",\n    \"man_raising_hand_medium-light_skin_tone\": \"\\u200d\",\n    \"man_raising_hand_medium_skin_tone\": \"\\u200d\",\n    \"man_rowing_boat\": \"\\u200d\",\n    \"man_rowing_boat_dark_skin_tone\": \"\\u200d\",\n    \"man_rowing_boat_light_skin_tone\": \"\\u200d\",\n    \"man_rowing_boat_medium-dark_skin_tone\": \"\\u200d\",\n    \"man_rowing_boat_medium-light_skin_tone\": \"\\u200d\",\n    \"man_rowing_boat_medium_skin_tone\": \"\\u200d\",\n    \"man_running\": \"\\u200d\",\n    \"man_running_dark_skin_tone\": \"\\u200d\",\n    \"man_running_light_skin_tone\": \"\\u200d\",\n    \"man_running_medium-dark_skin_tone\": \"\\u200d\",\n    \"man_running_medium-light_skin_tone\": \"\\u200d\",\n    \"man_running_medium_skin_tone\": \"\\u200d\",\n    \"man_scientist\": \"\\u200d\",\n    \"man_scientist_dark_skin_tone\": \"\\u200d\",\n    \"man_scientist_light_skin_tone\": \"\\u200d\",\n    \"man_scientist_medium-dark_skin_tone\": \"\\u200d\",\n    \"man_scientist_medium-light_skin_tone\": \"\\u200d\",\n    \"man_scientist_medium_skin_tone\": \"\\u200d\",\n    \"man_shrugging\": \"\\u200d\",\n    \"man_shrugging_dark_skin_tone\": \"\\u200d\",\n    \"man_shrugging_light_skin_tone\": \"\\u200d\",\n    \"man_shrugging_medium-dark_skin_tone\": \"\\u200d\",\n    \"man_shrugging_medium-light_skin_tone\": \"\\u200d\",\n    \"man_shrugging_medium_skin_tone\": \"\\u200d\",\n    \"man_singer\": \"\\u200d\",\n    \"man_singer_dark_skin_tone\": \"\\u200d\",\n    \"man_singer_light_skin_tone\": \"\\u200d\",\n    \"man_singer_medium-dark_skin_tone\": \"\\u200d\",\n    \"man_singer_medium-light_skin_tone\": \"\\u200d\",\n    \"man_singer_medium_skin_tone\": \"\\u200d\",\n    \"man_student\": \"\\u200d\",\n    \"man_student_dark_skin_tone\": \"\\u200d\",\n    \"man_student_light_skin_tone\": \"\\u200d\",\n    \"man_student_medium-dark_skin_tone\": \"\\u200d\",\n    \"man_student_medium-light_skin_tone\": \"\\u200d\",\n    \"man_student_medium_skin_tone\": \"\\u200d\",\n    \"man_surfing\": \"\\u200d\",\n    \"man_surfing_dark_skin_tone\": \"\\u200d\",\n    \"man_surfing_light_skin_tone\": \"\\u200d\",\n    \"man_surfing_medium-dark_skin_tone\": \"\\u200d\",\n    \"man_surfing_medium-light_skin_tone\": \"\\u200d\",\n    \"man_surfing_medium_skin_tone\": \"\\u200d\",\n    \"man_swimming\": \"\\u200d\",\n    \"man_swimming_dark_skin_tone\": \"\\u200d\",\n    \"man_swimming_light_skin_tone\": \"\\u200d\",\n    \"man_swimming_medium-dark_skin_tone\": \"\\u200d\",\n    \"man_swimming_medium-light_skin_tone\": \"\\u200d\",\n    \"man_swimming_medium_skin_tone\": \"\\u200d\",\n    \"man_teacher\": \"\\u200d\",\n    \"man_teacher_dark_skin_tone\": \"\\u200d\",\n    \"man_teacher_light_skin_tone\": \"\\u200d\",\n    \"man_teacher_medium-dark_skin_tone\": \"\\u200d\",\n    \"man_teacher_medium-light_skin_tone\": \"\\u200d\",\n    \"man_teacher_medium_skin_tone\": \"\\u200d\",\n    \"man_technologist\": \"\\u200d\",\n    \"man_technologist_dark_skin_tone\": \"\\u200d\",\n    \"man_technologist_light_skin_tone\": \"\\u200d\",\n    \"man_technologist_medium-dark_skin_tone\": \"\\u200d\",\n    \"man_technologist_medium-light_skin_tone\": \"\\u200d\",\n    \"man_technologist_medium_skin_tone\": \"\\u200d\",\n    \"man_tipping_hand\": \"\\u200d\",\n    \"man_tipping_hand_dark_skin_tone\": \"\\u200d\",\n    \"man_tipping_hand_light_skin_tone\": \"\\u200d\",\n    \"man_tipping_hand_medium-dark_skin_tone\": \"\\u200d\",\n    \"man_tipping_hand_medium-light_skin_tone\": \"\\u200d\",\n    \"man_tipping_hand_medium_skin_tone\": \"\\u200d\",\n    \"man_vampire\": \"\\u200d\",\n    \"man_vampire_dark_skin_tone\": \"\\u200d\",\n    \"man_vampire_light_skin_tone\": \"\\u200d\",\n    \"man_vampire_medium-dark_skin_tone\": \"\\u200d\",\n    \"man_vampire_medium-light_skin_tone\": \"\\u200d\",\n    \"man_vampire_medium_skin_tone\": \"\\u200d\",\n    \"man_walking\": \"\\u200d\",\n    \"man_walking_dark_skin_tone\": \"\\u200d\",\n    \"man_walking_light_skin_tone\": \"\\u200d\",\n    \"man_walking_medium-dark_skin_tone\": \"\\u200d\",\n    \"man_walking_medium-light_skin_tone\": \"\\u200d\",\n    \"man_walking_medium_skin_tone\": \"\\u200d\",\n    \"man_wearing_turban\": \"\\u200d\",\n    \"man_wearing_turban_dark_skin_tone\": \"\\u200d\",\n    \"man_wearing_turban_light_skin_tone\": \"\\u200d\",\n    \"man_wearing_turban_medium-dark_skin_tone\": \"\\u200d\",\n    \"man_wearing_turban_medium-light_skin_tone\": \"\\u200d\",\n    \"man_wearing_turban_medium_skin_tone\": \"\\u200d\",\n    \"man_with_probing_cane\": \"\\u200d\",\n    \"man_with_chinese_cap\": \"\",\n    \"man_with_chinese_cap_dark_skin_tone\": \"\",\n    \"man_with_chinese_cap_light_skin_tone\": \"\",\n    \"man_with_chinese_cap_medium-dark_skin_tone\": \"\",\n    \"man_with_chinese_cap_medium-light_skin_tone\": \"\",\n    \"man_with_chinese_cap_medium_skin_tone\": \"\",\n    \"man_zombie\": \"\\u200d\",\n    \"mango\": \"\",\n    \"mantelpiece_clock\": \"\",\n    \"manual_wheelchair\": \"\",\n    \"mans_shoe\": \"\",\n    \"map_of_japan\": \"\",\n    \"maple_leaf\": \"\",\n    \"martial_arts_uniform\": \"\",\n    \"mate\": \"\",\n    \"meat_on_bone\": \"\",\n    \"mechanical_arm\": \"\",\n    \"mechanical_leg\": \"\",\n    \"medical_symbol\": \"\",\n    \"megaphone\": \"\",\n    \"melon\": \"\",\n    \"memo\": \"\",\n    \"men_with_bunny_ears\": \"\\u200d\",\n    \"men_wrestling\": \"\\u200d\",\n    \"menorah\": \"\",\n    \"mens_room\": \"\",\n    \"mermaid\": \"\\u200d\",\n    \"mermaid_dark_skin_tone\": \"\\u200d\",\n    \"mermaid_light_skin_tone\": \"\\u200d\",\n    \"mermaid_medium-dark_skin_tone\": \"\\u200d\",\n    \"mermaid_medium-light_skin_tone\": \"\\u200d\",\n    \"mermaid_medium_skin_tone\": \"\\u200d\",\n    \"merman\": \"\\u200d\",\n    \"merman_dark_skin_tone\": \"\\u200d\",\n    \"merman_light_skin_tone\": \"\\u200d\",\n    \"merman_medium-dark_skin_tone\": \"\\u200d\",\n    \"merman_medium-light_skin_tone\": \"\\u200d\",\n    \"merman_medium_skin_tone\": \"\\u200d\",\n    \"merperson\": \"\",\n    \"merperson_dark_skin_tone\": \"\",\n    \"merperson_light_skin_tone\": \"\",\n    \"merperson_medium-dark_skin_tone\": \"\",\n    \"merperson_medium-light_skin_tone\": \"\",\n    \"merperson_medium_skin_tone\": \"\",\n    \"metro\": \"\",\n    \"microbe\": \"\",\n    \"microphone\": \"\",\n    \"microscope\": \"\",\n    \"middle_finger\": \"\",\n    \"middle_finger_dark_skin_tone\": \"\",\n    \"middle_finger_light_skin_tone\": \"\",\n    \"middle_finger_medium-dark_skin_tone\": \"\",\n    \"middle_finger_medium-light_skin_tone\": \"\",\n    \"middle_finger_medium_skin_tone\": \"\",\n    \"military_medal\": \"\",\n    \"milky_way\": \"\",\n    \"minibus\": \"\",\n    \"moai\": \"\",\n    \"mobile_phone\": \"\",\n    \"mobile_phone_off\": \"\",\n    \"mobile_phone_with_arrow\": \"\",\n    \"money-mouth_face\": \"\",\n    \"money_bag\": \"\",\n    \"money_with_wings\": \"\",\n    \"monkey\": \"\",\n    \"monkey_face\": \"\",\n    \"monorail\": \"\",\n    \"moon_cake\": \"\",\n    \"moon_viewing_ceremony\": \"\",\n    \"mosque\": \"\",\n    \"mosquito\": \"\",\n    \"motor_boat\": \"\",\n    \"motor_scooter\": \"\",\n    \"motorcycle\": \"\",\n    \"motorized_wheelchair\": \"\",\n    \"motorway\": \"\",\n    \"mount_fuji\": \"\",\n    \"mountain\": \"\",\n    \"mountain_cableway\": \"\",\n    \"mountain_railway\": \"\",\n    \"mouse\": \"\",\n    \"mouse_face\": \"\",\n    \"mouth\": \"\",\n    \"movie_camera\": \"\",\n    \"mushroom\": \"\",\n    \"musical_keyboard\": \"\",\n    \"musical_note\": \"\",\n    \"musical_notes\": \"\",\n    \"musical_score\": \"\",\n    \"muted_speaker\": \"\",\n    \"nail_polish\": \"\",\n    \"nail_polish_dark_skin_tone\": \"\",\n    \"nail_polish_light_skin_tone\": \"\",\n    \"nail_polish_medium-dark_skin_tone\": \"\",\n    \"nail_polish_medium-light_skin_tone\": \"\",\n    \"nail_polish_medium_skin_tone\": \"\",\n    \"name_badge\": \"\",\n    \"national_park\": \"\",\n    \"nauseated_face\": \"\",\n    \"nazar_amulet\": \"\",\n    \"necktie\": \"\",\n    \"nerd_face\": \"\",\n    \"neutral_face\": \"\",\n    \"new_moon\": \"\",\n    \"new_moon_face\": \"\",\n    \"newspaper\": \"\",\n    \"next_track_button\": \"\",\n    \"night_with_stars\": \"\",\n    \"nine-thirty\": \"\",\n    \"nine_oclock\": \"\",\n    \"no_bicycles\": \"\",\n    \"no_entry\": \"\",\n    \"no_littering\": \"\",\n    \"no_mobile_phones\": \"\",\n    \"no_one_under_eighteen\": \"\",\n    \"no_pedestrians\": \"\",\n    \"no_smoking\": \"\",\n    \"non-potable_water\": \"\",\n    \"nose\": \"\",\n    \"nose_dark_skin_tone\": \"\",\n    \"nose_light_skin_tone\": \"\",\n    \"nose_medium-dark_skin_tone\": \"\",\n    \"nose_medium-light_skin_tone\": \"\",\n    \"nose_medium_skin_tone\": \"\",\n    \"notebook\": \"\",\n    \"notebook_with_decorative_cover\": \"\",\n    \"nut_and_bolt\": \"\",\n    \"octopus\": \"\",\n    \"oden\": \"\",\n    \"office_building\": \"\",\n    \"ogre\": \"\",\n    \"oil_drum\": \"\",\n    \"old_key\": \"\",\n    \"old_man\": \"\",\n    \"old_man_dark_skin_tone\": \"\",\n    \"old_man_light_skin_tone\": \"\",\n    \"old_man_medium-dark_skin_tone\": \"\",\n    \"old_man_medium-light_skin_tone\": \"\",\n    \"old_man_medium_skin_tone\": \"\",\n    \"old_woman\": \"\",\n    \"old_woman_dark_skin_tone\": \"\",\n    \"old_woman_light_skin_tone\": \"\",\n    \"old_woman_medium-dark_skin_tone\": \"\",\n    \"old_woman_medium-light_skin_tone\": \"\",\n    \"old_woman_medium_skin_tone\": \"\",\n    \"older_adult\": \"\",\n    \"older_adult_dark_skin_tone\": \"\",\n    \"older_adult_light_skin_tone\": \"\",\n    \"older_adult_medium-dark_skin_tone\": \"\",\n    \"older_adult_medium-light_skin_tone\": \"\",\n    \"older_adult_medium_skin_tone\": \"\",\n    \"om\": \"\",\n    \"oncoming_automobile\": \"\",\n    \"oncoming_bus\": \"\",\n    \"oncoming_fist\": \"\",\n    \"oncoming_fist_dark_skin_tone\": \"\",\n    \"oncoming_fist_light_skin_tone\": \"\",\n    \"oncoming_fist_medium-dark_skin_tone\": \"\",\n    \"oncoming_fist_medium-light_skin_tone\": \"\",\n    \"oncoming_fist_medium_skin_tone\": \"\",\n    \"oncoming_police_car\": \"\",\n    \"oncoming_taxi\": \"\",\n    \"one-piece_swimsuit\": \"\",\n    \"one-thirty\": \"\",\n    \"one_oclock\": \"\",\n    \"onion\": \"\",\n    \"open_book\": \"\",\n    \"open_file_folder\": \"\",\n    \"open_hands\": \"\",\n    \"open_hands_dark_skin_tone\": \"\",\n    \"open_hands_light_skin_tone\": \"\",\n    \"open_hands_medium-dark_skin_tone\": \"\",\n    \"open_hands_medium-light_skin_tone\": \"\",\n    \"open_hands_medium_skin_tone\": \"\",\n    \"open_mailbox_with_lowered_flag\": \"\",\n    \"open_mailbox_with_raised_flag\": \"\",\n    \"optical_disk\": \"\",\n    \"orange_book\": \"\",\n    \"orange_circle\": \"\",\n    \"orange_heart\": \"\",\n    \"orange_square\": \"\",\n    \"orangutan\": \"\",\n    \"orthodox_cross\": \"\",\n    \"otter\": \"\",\n    \"outbox_tray\": \"\",\n    \"owl\": \"\",\n    \"ox\": \"\",\n    \"oyster\": \"\",\n    \"package\": \"\",\n    \"page_facing_up\": \"\",\n    \"page_with_curl\": \"\",\n    \"pager\": \"\",\n    \"paintbrush\": \"\",\n    \"palm_tree\": \"\",\n    \"palms_up_together\": \"\",\n    \"palms_up_together_dark_skin_tone\": \"\",\n    \"palms_up_together_light_skin_tone\": \"\",\n    \"palms_up_together_medium-dark_skin_tone\": \"\",\n    \"palms_up_together_medium-light_skin_tone\": \"\",\n    \"palms_up_together_medium_skin_tone\": \"\",\n    \"pancakes\": \"\",\n    \"panda_face\": \"\",\n    \"paperclip\": \"\",\n    \"parrot\": \"\",\n    \"part_alternation_mark\": \"\",\n    \"party_popper\": \"\",\n    \"partying_face\": \"\",\n    \"passenger_ship\": \"\",\n    \"passport_control\": \"\",\n    \"pause_button\": \"\",\n    \"paw_prints\": \"\",\n    \"peace_symbol\": \"\",\n    \"peach\": \"\",\n    \"peacock\": \"\",\n    \"peanuts\": \"\",\n    \"pear\": \"\",\n    \"pen\": \"\",\n    \"pencil\": \"\",\n    \"penguin\": \"\",\n    \"pensive_face\": \"\",\n    \"people_holding_hands\": \"\\u200d\\u200d\",\n    \"people_with_bunny_ears\": \"\",\n    \"people_wrestling\": \"\",\n    \"performing_arts\": \"\",\n    \"persevering_face\": \"\",\n    \"person_biking\": \"\",\n    \"person_biking_dark_skin_tone\": \"\",\n    \"person_biking_light_skin_tone\": \"\",\n    \"person_biking_medium-dark_skin_tone\": \"\",\n    \"person_biking_medium-light_skin_tone\": \"\",\n    \"person_biking_medium_skin_tone\": \"\",\n    \"person_bouncing_ball\": \"\",\n    \"person_bouncing_ball_dark_skin_tone\": \"\",\n    \"person_bouncing_ball_light_skin_tone\": \"\",\n    \"person_bouncing_ball_medium-dark_skin_tone\": \"\",\n    \"person_bouncing_ball_medium-light_skin_tone\": \"\",\n    \"person_bouncing_ball_medium_skin_tone\": \"\",\n    \"person_bowing\": \"\",\n    \"person_bowing_dark_skin_tone\": \"\",\n    \"person_bowing_light_skin_tone\": \"\",\n    \"person_bowing_medium-dark_skin_tone\": \"\",\n    \"person_bowing_medium-light_skin_tone\": \"\",\n    \"person_bowing_medium_skin_tone\": \"\",\n    \"person_cartwheeling\": \"\",\n    \"person_cartwheeling_dark_skin_tone\": \"\",\n    \"person_cartwheeling_light_skin_tone\": \"\",\n    \"person_cartwheeling_medium-dark_skin_tone\": \"\",\n    \"person_cartwheeling_medium-light_skin_tone\": \"\",\n    \"person_cartwheeling_medium_skin_tone\": \"\",\n    \"person_climbing\": \"\",\n    \"person_climbing_dark_skin_tone\": \"\",\n    \"person_climbing_light_skin_tone\": \"\",\n    \"person_climbing_medium-dark_skin_tone\": \"\",\n    \"person_climbing_medium-light_skin_tone\": \"\",\n    \"person_climbing_medium_skin_tone\": \"\",\n    \"person_facepalming\": \"\",\n    \"person_facepalming_dark_skin_tone\": \"\",\n    \"person_facepalming_light_skin_tone\": \"\",\n    \"person_facepalming_medium-dark_skin_tone\": \"\",\n    \"person_facepalming_medium-light_skin_tone\": \"\",\n    \"person_facepalming_medium_skin_tone\": \"\",\n    \"person_fencing\": \"\",\n    \"person_frowning\": \"\",\n    \"person_frowning_dark_skin_tone\": \"\",\n    \"person_frowning_light_skin_tone\": \"\",\n    \"person_frowning_medium-dark_skin_tone\": \"\",\n    \"person_frowning_medium-light_skin_tone\": \"\",\n    \"person_frowning_medium_skin_tone\": \"\",\n    \"person_gesturing_no\": \"\",\n    \"person_gesturing_no_dark_skin_tone\": \"\",\n    \"person_gesturing_no_light_skin_tone\": \"\",\n    \"person_gesturing_no_medium-dark_skin_tone\": \"\",\n    \"person_gesturing_no_medium-light_skin_tone\": \"\",\n    \"person_gesturing_no_medium_skin_tone\": \"\",\n    \"person_gesturing_ok\": \"\",\n    \"person_gesturing_ok_dark_skin_tone\": \"\",\n    \"person_gesturing_ok_light_skin_tone\": \"\",\n    \"person_gesturing_ok_medium-dark_skin_tone\": \"\",\n    \"person_gesturing_ok_medium-light_skin_tone\": \"\",\n    \"person_gesturing_ok_medium_skin_tone\": \"\",\n    \"person_getting_haircut\": \"\",\n    \"person_getting_haircut_dark_skin_tone\": \"\",\n    \"person_getting_haircut_light_skin_tone\": \"\",\n    \"person_getting_haircut_medium-dark_skin_tone\": \"\",\n    \"person_getting_haircut_medium-light_skin_tone\": \"\",\n    \"person_getting_haircut_medium_skin_tone\": \"\",\n    \"person_getting_massage\": \"\",\n    \"person_getting_massage_dark_skin_tone\": \"\",\n    \"person_getting_massage_light_skin_tone\": \"\",\n    \"person_getting_massage_medium-dark_skin_tone\": \"\",\n    \"person_getting_massage_medium-light_skin_tone\": \"\",\n    \"person_getting_massage_medium_skin_tone\": \"\",\n    \"person_golfing\": \"\",\n    \"person_golfing_dark_skin_tone\": \"\",\n    \"person_golfing_light_skin_tone\": \"\",\n    \"person_golfing_medium-dark_skin_tone\": \"\",\n    \"person_golfing_medium-light_skin_tone\": \"\",\n    \"person_golfing_medium_skin_tone\": \"\",\n    \"person_in_bed\": \"\",\n    \"person_in_bed_dark_skin_tone\": \"\",\n    \"person_in_bed_light_skin_tone\": \"\",\n    \"person_in_bed_medium-dark_skin_tone\": \"\",\n    \"person_in_bed_medium-light_skin_tone\": \"\",\n    \"person_in_bed_medium_skin_tone\": \"\",\n    \"person_in_lotus_position\": \"\",\n    \"person_in_lotus_position_dark_skin_tone\": \"\",\n    \"person_in_lotus_position_light_skin_tone\": \"\",\n    \"person_in_lotus_position_medium-dark_skin_tone\": \"\",\n    \"person_in_lotus_position_medium-light_skin_tone\": \"\",\n    \"person_in_lotus_position_medium_skin_tone\": \"\",\n    \"person_in_steamy_room\": \"\",\n    \"person_in_steamy_room_dark_skin_tone\": \"\",\n    \"person_in_steamy_room_light_skin_tone\": \"\",\n    \"person_in_steamy_room_medium-dark_skin_tone\": \"\",\n    \"person_in_steamy_room_medium-light_skin_tone\": \"\",\n    \"person_in_steamy_room_medium_skin_tone\": \"\",\n    \"person_juggling\": \"\",\n    \"person_juggling_dark_skin_tone\": \"\",\n    \"person_juggling_light_skin_tone\": \"\",\n    \"person_juggling_medium-dark_skin_tone\": \"\",\n    \"person_juggling_medium-light_skin_tone\": \"\",\n    \"person_juggling_medium_skin_tone\": \"\",\n    \"person_kneeling\": \"\",\n    \"person_lifting_weights\": \"\",\n    \"person_lifting_weights_dark_skin_tone\": \"\",\n    \"person_lifting_weights_light_skin_tone\": \"\",\n    \"person_lifting_weights_medium-dark_skin_tone\": \"\",\n    \"person_lifting_weights_medium-light_skin_tone\": \"\",\n    \"person_lifting_weights_medium_skin_tone\": \"\",\n    \"person_mountain_biking\": \"\",\n    \"person_mountain_biking_dark_skin_tone\": \"\",\n    \"person_mountain_biking_light_skin_tone\": \"\",\n    \"person_mountain_biking_medium-dark_skin_tone\": \"\",\n    \"person_mountain_biking_medium-light_skin_tone\": \"\",\n    \"person_mountain_biking_medium_skin_tone\": \"\",\n    \"person_playing_handball\": \"\",\n    \"person_playing_handball_dark_skin_tone\": \"\",\n    \"person_playing_handball_light_skin_tone\": \"\",\n    \"person_playing_handball_medium-dark_skin_tone\": \"\",\n    \"person_playing_handball_medium-light_skin_tone\": \"\",\n    \"person_playing_handball_medium_skin_tone\": \"\",\n    \"person_playing_water_polo\": \"\",\n    \"person_playing_water_polo_dark_skin_tone\": \"\",\n    \"person_playing_water_polo_light_skin_tone\": \"\",\n    \"person_playing_water_polo_medium-dark_skin_tone\": \"\",\n    \"person_playing_water_polo_medium-light_skin_tone\": \"\",\n    \"person_playing_water_polo_medium_skin_tone\": \"\",\n    \"person_pouting\": \"\",\n    \"person_pouting_dark_skin_tone\": \"\",\n    \"person_pouting_light_skin_tone\": \"\",\n    \"person_pouting_medium-dark_skin_tone\": \"\",\n    \"person_pouting_medium-light_skin_tone\": \"\",\n    \"person_pouting_medium_skin_tone\": \"\",\n    \"person_raising_hand\": \"\",\n    \"person_raising_hand_dark_skin_tone\": \"\",\n    \"person_raising_hand_light_skin_tone\": \"\",\n    \"person_raising_hand_medium-dark_skin_tone\": \"\",\n    \"person_raising_hand_medium-light_skin_tone\": \"\",\n    \"person_raising_hand_medium_skin_tone\": \"\",\n    \"person_rowing_boat\": \"\",\n    \"person_rowing_boat_dark_skin_tone\": \"\",\n    \"person_rowing_boat_light_skin_tone\": \"\",\n    \"person_rowing_boat_medium-dark_skin_tone\": \"\",\n    \"person_rowing_boat_medium-light_skin_tone\": \"\",\n    \"person_rowing_boat_medium_skin_tone\": \"\",\n    \"person_running\": \"\",\n    \"person_running_dark_skin_tone\": \"\",\n    \"person_running_light_skin_tone\": \"\",\n    \"person_running_medium-dark_skin_tone\": \"\",\n    \"person_running_medium-light_skin_tone\": \"\",\n    \"person_running_medium_skin_tone\": \"\",\n    \"person_shrugging\": \"\",\n    \"person_shrugging_dark_skin_tone\": \"\",\n    \"person_shrugging_light_skin_tone\": \"\",\n    \"person_shrugging_medium-dark_skin_tone\": \"\",\n    \"person_shrugging_medium-light_skin_tone\": \"\",\n    \"person_shrugging_medium_skin_tone\": \"\",\n    \"person_standing\": \"\",\n    \"person_surfing\": \"\",\n    \"person_surfing_dark_skin_tone\": \"\",\n    \"person_surfing_light_skin_tone\": \"\",\n    \"person_surfing_medium-dark_skin_tone\": \"\",\n    \"person_surfing_medium-light_skin_tone\": \"\",\n    \"person_surfing_medium_skin_tone\": \"\",\n    \"person_swimming\": \"\",\n    \"person_swimming_dark_skin_tone\": \"\",\n    \"person_swimming_light_skin_tone\": \"\",\n    \"person_swimming_medium-dark_skin_tone\": \"\",\n    \"person_swimming_medium-light_skin_tone\": \"\",\n    \"person_swimming_medium_skin_tone\": \"\",\n    \"person_taking_bath\": \"\",\n    \"person_taking_bath_dark_skin_tone\": \"\",\n    \"person_taking_bath_light_skin_tone\": \"\",\n    \"person_taking_bath_medium-dark_skin_tone\": \"\",\n    \"person_taking_bath_medium-light_skin_tone\": \"\",\n    \"person_taking_bath_medium_skin_tone\": \"\",\n    \"person_tipping_hand\": \"\",\n    \"person_tipping_hand_dark_skin_tone\": \"\",\n    \"person_tipping_hand_light_skin_tone\": \"\",\n    \"person_tipping_hand_medium-dark_skin_tone\": \"\",\n    \"person_tipping_hand_medium-light_skin_tone\": \"\",\n    \"person_tipping_hand_medium_skin_tone\": \"\",\n    \"person_walking\": \"\",\n    \"person_walking_dark_skin_tone\": \"\",\n    \"person_walking_light_skin_tone\": \"\",\n    \"person_walking_medium-dark_skin_tone\": \"\",\n    \"person_walking_medium-light_skin_tone\": \"\",\n    \"person_walking_medium_skin_tone\": \"\",\n    \"person_wearing_turban\": \"\",\n    \"person_wearing_turban_dark_skin_tone\": \"\",\n    \"person_wearing_turban_light_skin_tone\": \"\",\n    \"person_wearing_turban_medium-dark_skin_tone\": \"\",\n    \"person_wearing_turban_medium-light_skin_tone\": \"\",\n    \"person_wearing_turban_medium_skin_tone\": \"\",\n    \"petri_dish\": \"\",\n    \"pick\": \"\",\n    \"pie\": \"\",\n    \"pig\": \"\",\n    \"pig_face\": \"\",\n    \"pig_nose\": \"\",\n    \"pile_of_poo\": \"\",\n    \"pill\": \"\",\n    \"pinching_hand\": \"\",\n    \"pine_decoration\": \"\",\n    \"pineapple\": \"\",\n    \"ping_pong\": \"\",\n    \"pirate_flag\": \"\\u200d\",\n    \"pistol\": \"\",\n    \"pizza\": \"\",\n    \"place_of_worship\": \"\",\n    \"play_button\": \"\",\n    \"play_or_pause_button\": \"\",\n    \"pleading_face\": \"\",\n    \"police_car\": \"\",\n    \"police_car_light\": \"\",\n    \"police_officer\": \"\",\n    \"police_officer_dark_skin_tone\": \"\",\n    \"police_officer_light_skin_tone\": \"\",\n    \"police_officer_medium-dark_skin_tone\": \"\",\n    \"police_officer_medium-light_skin_tone\": \"\",\n    \"police_officer_medium_skin_tone\": \"\",\n    \"poodle\": \"\",\n    \"pool_8_ball\": \"\",\n    \"popcorn\": \"\",\n    \"post_office\": \"\",\n    \"postal_horn\": \"\",\n    \"postbox\": \"\",\n    \"pot_of_food\": \"\",\n    \"potable_water\": \"\",\n    \"potato\": \"\",\n    \"poultry_leg\": \"\",\n    \"pound_banknote\": \"\",\n    \"pouting_cat_face\": \"\",\n    \"pouting_face\": \"\",\n    \"prayer_beads\": \"\",\n    \"pregnant_woman\": \"\",\n    \"pregnant_woman_dark_skin_tone\": \"\",\n    \"pregnant_woman_light_skin_tone\": \"\",\n    \"pregnant_woman_medium-dark_skin_tone\": \"\",\n    \"pregnant_woman_medium-light_skin_tone\": \"\",\n    \"pregnant_woman_medium_skin_tone\": \"\",\n    \"pretzel\": \"\",\n    \"probing_cane\": \"\",\n    \"prince\": \"\",\n    \"prince_dark_skin_tone\": \"\",\n    \"prince_light_skin_tone\": \"\",\n    \"prince_medium-dark_skin_tone\": \"\",\n    \"prince_medium-light_skin_tone\": \"\",\n    \"prince_medium_skin_tone\": \"\",\n    \"princess\": \"\",\n    \"princess_dark_skin_tone\": \"\",\n    \"princess_light_skin_tone\": \"\",\n    \"princess_medium-dark_skin_tone\": \"\",\n    \"princess_medium-light_skin_tone\": \"\",\n    \"princess_medium_skin_tone\": \"\",\n    \"printer\": \"\",\n    \"prohibited\": \"\",\n    \"purple_circle\": \"\",\n    \"purple_heart\": \"\",\n    \"purple_square\": \"\",\n    \"purse\": \"\",\n    \"pushpin\": \"\",\n    \"question_mark\": \"\",\n    \"rabbit\": \"\",\n    \"rabbit_face\": \"\",\n    \"raccoon\": \"\",\n    \"racing_car\": \"\",\n    \"radio\": \"\",\n    \"radio_button\": \"\",\n    \"radioactive\": \"\",\n    \"railway_car\": \"\",\n    \"railway_track\": \"\",\n    \"rainbow\": \"\",\n    \"rainbow_flag\": \"\\u200d\",\n    \"raised_back_of_hand\": \"\",\n    \"raised_back_of_hand_dark_skin_tone\": \"\",\n    \"raised_back_of_hand_light_skin_tone\": \"\",\n    \"raised_back_of_hand_medium-dark_skin_tone\": \"\",\n    \"raised_back_of_hand_medium-light_skin_tone\": \"\",\n    \"raised_back_of_hand_medium_skin_tone\": \"\",\n    \"raised_fist\": \"\",\n    \"raised_fist_dark_skin_tone\": \"\",\n    \"raised_fist_light_skin_tone\": \"\",\n    \"raised_fist_medium-dark_skin_tone\": \"\",\n    \"raised_fist_medium-light_skin_tone\": \"\",\n    \"raised_fist_medium_skin_tone\": \"\",\n    \"raised_hand\": \"\",\n    \"raised_hand_dark_skin_tone\": \"\",\n    \"raised_hand_light_skin_tone\": \"\",\n    \"raised_hand_medium-dark_skin_tone\": \"\",\n    \"raised_hand_medium-light_skin_tone\": \"\",\n    \"raised_hand_medium_skin_tone\": \"\",\n    \"raising_hands\": \"\",\n    \"raising_hands_dark_skin_tone\": \"\",\n    \"raising_hands_light_skin_tone\": \"\",\n    \"raising_hands_medium-dark_skin_tone\": \"\",\n    \"raising_hands_medium-light_skin_tone\": \"\",\n    \"raising_hands_medium_skin_tone\": \"\",\n    \"ram\": \"\",\n    \"rat\": \"\",\n    \"razor\": \"\",\n    \"ringed_planet\": \"\",\n    \"receipt\": \"\",\n    \"record_button\": \"\",\n    \"recycling_symbol\": \"\",\n    \"red_apple\": \"\",\n    \"red_circle\": \"\",\n    \"red_envelope\": \"\",\n    \"red_hair\": \"\",\n    \"red-haired_man\": \"\\u200d\",\n    \"red-haired_woman\": \"\\u200d\",\n    \"red_heart\": \"\",\n    \"red_paper_lantern\": \"\",\n    \"red_square\": \"\",\n    \"red_triangle_pointed_down\": \"\",\n    \"red_triangle_pointed_up\": \"\",\n    \"registered\": \"\",\n    \"relieved_face\": \"\",\n    \"reminder_ribbon\": \"\",\n    \"repeat_button\": \"\",\n    \"repeat_single_button\": \"\",\n    \"rescue_workers_helmet\": \"\",\n    \"restroom\": \"\",\n    \"reverse_button\": \"\",\n    \"revolving_hearts\": \"\",\n    \"rhinoceros\": \"\",\n    \"ribbon\": \"\",\n    \"rice_ball\": \"\",\n    \"rice_cracker\": \"\",\n    \"right-facing_fist\": \"\",\n    \"right-facing_fist_dark_skin_tone\": \"\",\n    \"right-facing_fist_light_skin_tone\": \"\",\n    \"right-facing_fist_medium-dark_skin_tone\": \"\",\n    \"right-facing_fist_medium-light_skin_tone\": \"\",\n    \"right-facing_fist_medium_skin_tone\": \"\",\n    \"right_anger_bubble\": \"\",\n    \"right_arrow\": \"\",\n    \"right_arrow_curving_down\": \"\",\n    \"right_arrow_curving_left\": \"\",\n    \"right_arrow_curving_up\": \"\",\n    \"ring\": \"\",\n    \"roasted_sweet_potato\": \"\",\n    \"robot_face\": \"\",\n    \"rocket\": \"\",\n    \"roll_of_paper\": \"\",\n    \"rolled-up_newspaper\": \"\",\n    \"roller_coaster\": \"\",\n    \"rolling_on_the_floor_laughing\": \"\",\n    \"rooster\": \"\",\n    \"rose\": \"\",\n    \"rosette\": \"\",\n    \"round_pushpin\": \"\",\n    \"rugby_football\": \"\",\n    \"running_shirt\": \"\",\n    \"running_shoe\": \"\",\n    \"sad_but_relieved_face\": \"\",\n    \"safety_pin\": \"\",\n    \"safety_vest\": \"\",\n    \"salt\": \"\",\n    \"sailboat\": \"\",\n    \"sake\": \"\",\n    \"sandwich\": \"\",\n    \"sari\": \"\",\n    \"satellite\": \"\",\n    \"satellite_antenna\": \"\",\n    \"sauropod\": \"\",\n    \"saxophone\": \"\",\n    \"scarf\": \"\",\n    \"school\": \"\",\n    \"school_backpack\": \"\",\n    \"scissors\": \"\",\n    \"scorpion\": \"\",\n    \"scroll\": \"\",\n    \"seat\": \"\",\n    \"see-no-evil_monkey\": \"\",\n    \"seedling\": \"\",\n    \"selfie\": \"\",\n    \"selfie_dark_skin_tone\": \"\",\n    \"selfie_light_skin_tone\": \"\",\n    \"selfie_medium-dark_skin_tone\": \"\",\n    \"selfie_medium-light_skin_tone\": \"\",\n    \"selfie_medium_skin_tone\": \"\",\n    \"service_dog\": \"\\u200d\",\n    \"seven-thirty\": \"\",\n    \"seven_oclock\": \"\",\n    \"shallow_pan_of_food\": \"\",\n    \"shamrock\": \"\",\n    \"shark\": \"\",\n    \"shaved_ice\": \"\",\n    \"sheaf_of_rice\": \"\",\n    \"shield\": \"\",\n    \"shinto_shrine\": \"\",\n    \"ship\": \"\",\n    \"shooting_star\": \"\",\n    \"shopping_bags\": \"\",\n    \"shopping_cart\": \"\",\n    \"shortcake\": \"\",\n    \"shorts\": \"\",\n    \"shower\": \"\",\n    \"shrimp\": \"\",\n    \"shuffle_tracks_button\": \"\",\n    \"shushing_face\": \"\",\n    \"sign_of_the_horns\": \"\",\n    \"sign_of_the_horns_dark_skin_tone\": \"\",\n    \"sign_of_the_horns_light_skin_tone\": \"\",\n    \"sign_of_the_horns_medium-dark_skin_tone\": \"\",\n    \"sign_of_the_horns_medium-light_skin_tone\": \"\",\n    \"sign_of_the_horns_medium_skin_tone\": \"\",\n    \"six-thirty\": \"\",\n    \"six_oclock\": \"\",\n    \"skateboard\": \"\",\n    \"skier\": \"\",\n    \"skis\": \"\",\n    \"skull\": \"\",\n    \"skull_and_crossbones\": \"\",\n    \"skunk\": \"\",\n    \"sled\": \"\",\n    \"sleeping_face\": \"\",\n    \"sleepy_face\": \"\",\n    \"slightly_frowning_face\": \"\",\n    \"slightly_smiling_face\": \"\",\n    \"slot_machine\": \"\",\n    \"sloth\": \"\",\n    \"small_airplane\": \"\",\n    \"small_blue_diamond\": \"\",\n    \"small_orange_diamond\": \"\",\n    \"smiling_cat_face_with_heart-eyes\": \"\",\n    \"smiling_face\": \"\",\n    \"smiling_face_with_halo\": \"\",\n    \"smiling_face_with_3_hearts\": \"\",\n    \"smiling_face_with_heart-eyes\": \"\",\n    \"smiling_face_with_horns\": \"\",\n    \"smiling_face_with_smiling_eyes\": \"\",\n    \"smiling_face_with_sunglasses\": \"\",\n    \"smirking_face\": \"\",\n    \"snail\": \"\",\n    \"snake\": \"\",\n    \"sneezing_face\": \"\",\n    \"snow-capped_mountain\": \"\",\n    \"snowboarder\": \"\",\n    \"snowboarder_dark_skin_tone\": \"\",\n    \"snowboarder_light_skin_tone\": \"\",\n    \"snowboarder_medium-dark_skin_tone\": \"\",\n    \"snowboarder_medium-light_skin_tone\": \"\",\n    \"snowboarder_medium_skin_tone\": \"\",\n    \"snowflake\": \"\",\n    \"snowman\": \"\",\n    \"snowman_without_snow\": \"\",\n    \"soap\": \"\",\n    \"soccer_ball\": \"\",\n    \"socks\": \"\",\n    \"softball\": \"\",\n    \"soft_ice_cream\": \"\",\n    \"spade_suit\": \"\",\n    \"spaghetti\": \"\",\n    \"sparkle\": \"\",\n    \"sparkler\": \"\",\n    \"sparkles\": \"\",\n    \"sparkling_heart\": \"\",\n    \"speak-no-evil_monkey\": \"\",\n    \"speaker_high_volume\": \"\",\n    \"speaker_low_volume\": \"\",\n    \"speaker_medium_volume\": \"\",\n    \"speaking_head\": \"\",\n    \"speech_balloon\": \"\",\n    \"speedboat\": \"\",\n    \"spider\": \"\",\n    \"spider_web\": \"\",\n    \"spiral_calendar\": \"\",\n    \"spiral_notepad\": \"\",\n    \"spiral_shell\": \"\",\n    \"spoon\": \"\",\n    \"sponge\": \"\",\n    \"sport_utility_vehicle\": \"\",\n    \"sports_medal\": \"\",\n    \"spouting_whale\": \"\",\n    \"squid\": \"\",\n    \"squinting_face_with_tongue\": \"\",\n    \"stadium\": \"\",\n    \"star-struck\": \"\",\n    \"star_and_crescent\": \"\",\n    \"star_of_david\": \"\",\n    \"station\": \"\",\n    \"steaming_bowl\": \"\",\n    \"stethoscope\": \"\",\n    \"stop_button\": \"\",\n    \"stop_sign\": \"\",\n    \"stopwatch\": \"\",\n    \"straight_ruler\": \"\",\n    \"strawberry\": \"\",\n    \"studio_microphone\": \"\",\n    \"stuffed_flatbread\": \"\",\n    \"sun\": \"\",\n    \"sun_behind_cloud\": \"\",\n    \"sun_behind_large_cloud\": \"\",\n    \"sun_behind_rain_cloud\": \"\",\n    \"sun_behind_small_cloud\": \"\",\n    \"sun_with_face\": \"\",\n    \"sunflower\": \"\",\n    \"sunglasses\": \"\",\n    \"sunrise\": \"\",\n    \"sunrise_over_mountains\": \"\",\n    \"sunset\": \"\",\n    \"superhero\": \"\",\n    \"supervillain\": \"\",\n    \"sushi\": \"\",\n    \"suspension_railway\": \"\",\n    \"swan\": \"\",\n    \"sweat_droplets\": \"\",\n    \"synagogue\": \"\",\n    \"syringe\": \"\",\n    \"t-shirt\": \"\",\n    \"taco\": \"\",\n    \"takeout_box\": \"\",\n    \"tanabata_tree\": \"\",\n    \"tangerine\": \"\",\n    \"taxi\": \"\",\n    \"teacup_without_handle\": \"\",\n    \"tear-off_calendar\": \"\",\n    \"teddy_bear\": \"\",\n    \"telephone\": \"\",\n    \"telephone_receiver\": \"\",\n    \"telescope\": \"\",\n    \"television\": \"\",\n    \"ten-thirty\": \"\",\n    \"ten_oclock\": \"\",\n    \"tennis\": \"\",\n    \"tent\": \"\",\n    \"test_tube\": \"\",\n    \"thermometer\": \"\",\n    \"thinking_face\": \"\",\n    \"thought_balloon\": \"\",\n    \"thread\": \"\",\n    \"three-thirty\": \"\",\n    \"three_oclock\": \"\",\n    \"thumbs_down\": \"\",\n    \"thumbs_down_dark_skin_tone\": \"\",\n    \"thumbs_down_light_skin_tone\": \"\",\n    \"thumbs_down_medium-dark_skin_tone\": \"\",\n    \"thumbs_down_medium-light_skin_tone\": \"\",\n    \"thumbs_down_medium_skin_tone\": \"\",\n    \"thumbs_up\": \"\",\n    \"thumbs_up_dark_skin_tone\": \"\",\n    \"thumbs_up_light_skin_tone\": \"\",\n    \"thumbs_up_medium-dark_skin_tone\": \"\",\n    \"thumbs_up_medium-light_skin_tone\": \"\",\n    \"thumbs_up_medium_skin_tone\": \"\",\n    \"ticket\": \"\",\n    \"tiger\": \"\",\n    \"tiger_face\": \"\",\n    \"timer_clock\": \"\",\n    \"tired_face\": \"\",\n    \"toolbox\": \"\",\n    \"toilet\": \"\",\n    \"tomato\": \"\",\n    \"tongue\": \"\",\n    \"tooth\": \"\",\n    \"top_hat\": \"\",\n    \"tornado\": \"\",\n    \"trackball\": \"\",\n    \"tractor\": \"\",\n    \"trade_mark\": \"\",\n    \"train\": \"\",\n    \"tram\": \"\",\n    \"tram_car\": \"\",\n    \"triangular_flag\": \"\",\n    \"triangular_ruler\": \"\",\n    \"trident_emblem\": \"\",\n    \"trolleybus\": \"\",\n    \"trophy\": \"\",\n    \"tropical_drink\": \"\",\n    \"tropical_fish\": \"\",\n    \"trumpet\": \"\",\n    \"tulip\": \"\",\n    \"tumbler_glass\": \"\",\n    \"turtle\": \"\",\n    \"twelve-thirty\": \"\",\n    \"twelve_oclock\": \"\",\n    \"two-hump_camel\": \"\",\n    \"two-thirty\": \"\",\n    \"two_hearts\": \"\",\n    \"two_men_holding_hands\": \"\",\n    \"two_oclock\": \"\",\n    \"two_women_holding_hands\": \"\",\n    \"umbrella\": \"\",\n    \"umbrella_on_ground\": \"\",\n    \"umbrella_with_rain_drops\": \"\",\n    \"unamused_face\": \"\",\n    \"unicorn_face\": \"\",\n    \"unlocked\": \"\",\n    \"up-down_arrow\": \"\",\n    \"up-left_arrow\": \"\",\n    \"up-right_arrow\": \"\",\n    \"up_arrow\": \"\",\n    \"upside-down_face\": \"\",\n    \"upwards_button\": \"\",\n    \"vampire\": \"\",\n    \"vampire_dark_skin_tone\": \"\",\n    \"vampire_light_skin_tone\": \"\",\n    \"vampire_medium-dark_skin_tone\": \"\",\n    \"vampire_medium-light_skin_tone\": \"\",\n    \"vampire_medium_skin_tone\": \"\",\n    \"vertical_traffic_light\": \"\",\n    \"vibration_mode\": \"\",\n    \"victory_hand\": \"\",\n    \"victory_hand_dark_skin_tone\": \"\",\n    \"victory_hand_light_skin_tone\": \"\",\n    \"victory_hand_medium-dark_skin_tone\": \"\",\n    \"victory_hand_medium-light_skin_tone\": \"\",\n    \"victory_hand_medium_skin_tone\": \"\",\n    \"video_camera\": \"\",\n    \"video_game\": \"\",\n    \"videocassette\": \"\",\n    \"violin\": \"\",\n    \"volcano\": \"\",\n    \"volleyball\": \"\",\n    \"vulcan_salute\": \"\",\n    \"vulcan_salute_dark_skin_tone\": \"\",\n    \"vulcan_salute_light_skin_tone\": \"\",\n    \"vulcan_salute_medium-dark_skin_tone\": \"\",\n    \"vulcan_salute_medium-light_skin_tone\": \"\",\n    \"vulcan_salute_medium_skin_tone\": \"\",\n    \"waffle\": \"\",\n    \"waning_crescent_moon\": \"\",\n    \"waning_gibbous_moon\": \"\",\n    \"warning\": \"\",\n    \"wastebasket\": \"\",\n    \"watch\": \"\",\n    \"water_buffalo\": \"\",\n    \"water_closet\": \"\",\n    \"water_wave\": \"\",\n    \"watermelon\": \"\",\n    \"waving_hand\": \"\",\n    \"waving_hand_dark_skin_tone\": \"\",\n    \"waving_hand_light_skin_tone\": \"\",\n    \"waving_hand_medium-dark_skin_tone\": \"\",\n    \"waving_hand_medium-light_skin_tone\": \"\",\n    \"waving_hand_medium_skin_tone\": \"\",\n    \"wavy_dash\": \"\",\n    \"waxing_crescent_moon\": \"\",\n    \"waxing_gibbous_moon\": \"\",\n    \"weary_cat_face\": \"\",\n    \"weary_face\": \"\",\n    \"wedding\": \"\",\n    \"whale\": \"\",\n    \"wheel_of_dharma\": \"\",\n    \"wheelchair_symbol\": \"\",\n    \"white_circle\": \"\",\n    \"white_exclamation_mark\": \"\",\n    \"white_flag\": \"\",\n    \"white_flower\": \"\",\n    \"white_hair\": \"\",\n    \"white-haired_man\": \"\\u200d\",\n    \"white-haired_woman\": \"\\u200d\",\n    \"white_heart\": \"\",\n    \"white_heavy_check_mark\": \"\",\n    \"white_large_square\": \"\",\n    \"white_medium-small_square\": \"\",\n    \"white_medium_square\": \"\",\n    \"white_medium_star\": \"\",\n    \"white_question_mark\": \"\",\n    \"white_small_square\": \"\",\n    \"white_square_button\": \"\",\n    \"wilted_flower\": \"\",\n    \"wind_chime\": \"\",\n    \"wind_face\": \"\",\n    \"wine_glass\": \"\",\n    \"winking_face\": \"\",\n    \"winking_face_with_tongue\": \"\",\n    \"wolf_face\": \"\",\n    \"woman\": \"\",\n    \"woman_artist\": \"\\u200d\",\n    \"woman_artist_dark_skin_tone\": \"\\u200d\",\n    \"woman_artist_light_skin_tone\": \"\\u200d\",\n    \"woman_artist_medium-dark_skin_tone\": \"\\u200d\",\n    \"woman_artist_medium-light_skin_tone\": \"\\u200d\",\n    \"woman_artist_medium_skin_tone\": \"\\u200d\",\n    \"woman_astronaut\": \"\\u200d\",\n    \"woman_astronaut_dark_skin_tone\": \"\\u200d\",\n    \"woman_astronaut_light_skin_tone\": \"\\u200d\",\n    \"woman_astronaut_medium-dark_skin_tone\": \"\\u200d\",\n    \"woman_astronaut_medium-light_skin_tone\": \"\\u200d\",\n    \"woman_astronaut_medium_skin_tone\": \"\\u200d\",\n    \"woman_biking\": \"\\u200d\",\n    \"woman_biking_dark_skin_tone\": \"\\u200d\",\n    \"woman_biking_light_skin_tone\": \"\\u200d\",\n    \"woman_biking_medium-dark_skin_tone\": \"\\u200d\",\n    \"woman_biking_medium-light_skin_tone\": \"\\u200d\",\n    \"woman_biking_medium_skin_tone\": \"\\u200d\",\n    \"woman_bouncing_ball\": \"\\u200d\",\n    \"woman_bouncing_ball_dark_skin_tone\": \"\\u200d\",\n    \"woman_bouncing_ball_light_skin_tone\": \"\\u200d\",\n    \"woman_bouncing_ball_medium-dark_skin_tone\": \"\\u200d\",\n    \"woman_bouncing_ball_medium-light_skin_tone\": \"\\u200d\",\n    \"woman_bouncing_ball_medium_skin_tone\": \"\\u200d\",\n    \"woman_bowing\": \"\\u200d\",\n    \"woman_bowing_dark_skin_tone\": \"\\u200d\",\n    \"woman_bowing_light_skin_tone\": \"\\u200d\",\n    \"woman_bowing_medium-dark_skin_tone\": \"\\u200d\",\n    \"woman_bowing_medium-light_skin_tone\": \"\\u200d\",\n    \"woman_bowing_medium_skin_tone\": \"\\u200d\",\n    \"woman_cartwheeling\": \"\\u200d\",\n    \"woman_cartwheeling_dark_skin_tone\": \"\\u200d\",\n    \"woman_cartwheeling_light_skin_tone\": \"\\u200d\",\n    \"woman_cartwheeling_medium-dark_skin_tone\": \"\\u200d\",\n    \"woman_cartwheeling_medium-light_skin_tone\": \"\\u200d\",\n    \"woman_cartwheeling_medium_skin_tone\": \"\\u200d\",\n    \"woman_climbing\": \"\\u200d\",\n    \"woman_climbing_dark_skin_tone\": \"\\u200d\",\n    \"woman_climbing_light_skin_tone\": \"\\u200d\",\n    \"woman_climbing_medium-dark_skin_tone\": \"\\u200d\",\n    \"woman_climbing_medium-light_skin_tone\": \"\\u200d\",\n    \"woman_climbing_medium_skin_tone\": \"\\u200d\",\n    \"woman_construction_worker\": \"\\u200d\",\n    \"woman_construction_worker_dark_skin_tone\": \"\\u200d\",\n    \"woman_construction_worker_light_skin_tone\": \"\\u200d\",\n    \"woman_construction_worker_medium-dark_skin_tone\": \"\\u200d\",\n    \"woman_construction_worker_medium-light_skin_tone\": \"\\u200d\",\n    \"woman_construction_worker_medium_skin_tone\": \"\\u200d\",\n    \"woman_cook\": \"\\u200d\",\n    \"woman_cook_dark_skin_tone\": \"\\u200d\",\n    \"woman_cook_light_skin_tone\": \"\\u200d\",\n    \"woman_cook_medium-dark_skin_tone\": \"\\u200d\",\n    \"woman_cook_medium-light_skin_tone\": \"\\u200d\",\n    \"woman_cook_medium_skin_tone\": \"\\u200d\",\n    \"woman_dancing\": \"\",\n    \"woman_dancing_dark_skin_tone\": \"\",\n    \"woman_dancing_light_skin_tone\": \"\",\n    \"woman_dancing_medium-dark_skin_tone\": \"\",\n    \"woman_dancing_medium-light_skin_tone\": \"\",\n    \"woman_dancing_medium_skin_tone\": \"\",\n    \"woman_dark_skin_tone\": \"\",\n    \"woman_detective\": \"\\u200d\",\n    \"woman_detective_dark_skin_tone\": \"\\u200d\",\n    \"woman_detective_light_skin_tone\": \"\\u200d\",\n    \"woman_detective_medium-dark_skin_tone\": \"\\u200d\",\n    \"woman_detective_medium-light_skin_tone\": \"\\u200d\",\n    \"woman_detective_medium_skin_tone\": \"\\u200d\",\n    \"woman_elf\": \"\\u200d\",\n    \"woman_elf_dark_skin_tone\": \"\\u200d\",\n    \"woman_elf_light_skin_tone\": \"\\u200d\",\n    \"woman_elf_medium-dark_skin_tone\": \"\\u200d\",\n    \"woman_elf_medium-light_skin_tone\": \"\\u200d\",\n    \"woman_elf_medium_skin_tone\": \"\\u200d\",\n    \"woman_facepalming\": \"\\u200d\",\n    \"woman_facepalming_dark_skin_tone\": \"\\u200d\",\n    \"woman_facepalming_light_skin_tone\": \"\\u200d\",\n    \"woman_facepalming_medium-dark_skin_tone\": \"\\u200d\",\n    \"woman_facepalming_medium-light_skin_tone\": \"\\u200d\",\n    \"woman_facepalming_medium_skin_tone\": \"\\u200d\",\n    \"woman_factory_worker\": \"\\u200d\",\n    \"woman_factory_worker_dark_skin_tone\": \"\\u200d\",\n    \"woman_factory_worker_light_skin_tone\": \"\\u200d\",\n    \"woman_factory_worker_medium-dark_skin_tone\": \"\\u200d\",\n    \"woman_factory_worker_medium-light_skin_tone\": \"\\u200d\",\n    \"woman_factory_worker_medium_skin_tone\": \"\\u200d\",\n    \"woman_fairy\": \"\\u200d\",\n    \"woman_fairy_dark_skin_tone\": \"\\u200d\",\n    \"woman_fairy_light_skin_tone\": \"\\u200d\",\n    \"woman_fairy_medium-dark_skin_tone\": \"\\u200d\",\n    \"woman_fairy_medium-light_skin_tone\": \"\\u200d\",\n    \"woman_fairy_medium_skin_tone\": \"\\u200d\",\n    \"woman_farmer\": \"\\u200d\",\n    \"woman_farmer_dark_skin_tone\": \"\\u200d\",\n    \"woman_farmer_light_skin_tone\": \"\\u200d\",\n    \"woman_farmer_medium-dark_skin_tone\": \"\\u200d\",\n    \"woman_farmer_medium-light_skin_tone\": \"\\u200d\",\n    \"woman_farmer_medium_skin_tone\": \"\\u200d\",\n    \"woman_firefighter\": \"\\u200d\",\n    \"woman_firefighter_dark_skin_tone\": \"\\u200d\",\n    \"woman_firefighter_light_skin_tone\": \"\\u200d\",\n    \"woman_firefighter_medium-dark_skin_tone\": \"\\u200d\",\n    \"woman_firefighter_medium-light_skin_tone\": \"\\u200d\",\n    \"woman_firefighter_medium_skin_tone\": \"\\u200d\",\n    \"woman_frowning\": \"\\u200d\",\n    \"woman_frowning_dark_skin_tone\": \"\\u200d\",\n    \"woman_frowning_light_skin_tone\": \"\\u200d\",\n    \"woman_frowning_medium-dark_skin_tone\": \"\\u200d\",\n    \"woman_frowning_medium-light_skin_tone\": \"\\u200d\",\n    \"woman_frowning_medium_skin_tone\": \"\\u200d\",\n    \"woman_genie\": \"\\u200d\",\n    \"woman_gesturing_no\": \"\\u200d\",\n    \"woman_gesturing_no_dark_skin_tone\": \"\\u200d\",\n    \"woman_gesturing_no_light_skin_tone\": \"\\u200d\",\n    \"woman_gesturing_no_medium-dark_skin_tone\": \"\\u200d\",\n    \"woman_gesturing_no_medium-light_skin_tone\": \"\\u200d\",\n    \"woman_gesturing_no_medium_skin_tone\": \"\\u200d\",\n    \"woman_gesturing_ok\": \"\\u200d\",\n    \"woman_gesturing_ok_dark_skin_tone\": \"\\u200d\",\n    \"woman_gesturing_ok_light_skin_tone\": \"\\u200d\",\n    \"woman_gesturing_ok_medium-dark_skin_tone\": \"\\u200d\",\n    \"woman_gesturing_ok_medium-light_skin_tone\": \"\\u200d\",\n    \"woman_gesturing_ok_medium_skin_tone\": \"\\u200d\",\n    \"woman_getting_haircut\": \"\\u200d\",\n    \"woman_getting_haircut_dark_skin_tone\": \"\\u200d\",\n    \"woman_getting_haircut_light_skin_tone\": \"\\u200d\",\n    \"woman_getting_haircut_medium-dark_skin_tone\": \"\\u200d\",\n    \"woman_getting_haircut_medium-light_skin_tone\": \"\\u200d\",\n    \"woman_getting_haircut_medium_skin_tone\": \"\\u200d\",\n    \"woman_getting_massage\": \"\\u200d\",\n    \"woman_getting_massage_dark_skin_tone\": \"\\u200d\",\n    \"woman_getting_massage_light_skin_tone\": \"\\u200d\",\n    \"woman_getting_massage_medium-dark_skin_tone\": \"\\u200d\",\n    \"woman_getting_massage_medium-light_skin_tone\": \"\\u200d\",\n    \"woman_getting_massage_medium_skin_tone\": \"\\u200d\",\n    \"woman_golfing\": \"\\u200d\",\n    \"woman_golfing_dark_skin_tone\": \"\\u200d\",\n    \"woman_golfing_light_skin_tone\": \"\\u200d\",\n    \"woman_golfing_medium-dark_skin_tone\": \"\\u200d\",\n    \"woman_golfing_medium-light_skin_tone\": \"\\u200d\",\n    \"woman_golfing_medium_skin_tone\": \"\\u200d\",\n    \"woman_guard\": \"\\u200d\",\n    \"woman_guard_dark_skin_tone\": \"\\u200d\",\n    \"woman_guard_light_skin_tone\": \"\\u200d\",\n    \"woman_guard_medium-dark_skin_tone\": \"\\u200d\",\n    \"woman_guard_medium-light_skin_tone\": \"\\u200d\",\n    \"woman_guard_medium_skin_tone\": \"\\u200d\",\n    \"woman_health_worker\": \"\\u200d\",\n    \"woman_health_worker_dark_skin_tone\": \"\\u200d\",\n    \"woman_health_worker_light_skin_tone\": \"\\u200d\",\n    \"woman_health_worker_medium-dark_skin_tone\": \"\\u200d\",\n    \"woman_health_worker_medium-light_skin_tone\": \"\\u200d\",\n    \"woman_health_worker_medium_skin_tone\": \"\\u200d\",\n    \"woman_in_lotus_position\": \"\\u200d\",\n    \"woman_in_lotus_position_dark_skin_tone\": \"\\u200d\",\n    \"woman_in_lotus_position_light_skin_tone\": \"\\u200d\",\n    \"woman_in_lotus_position_medium-dark_skin_tone\": \"\\u200d\",\n    \"woman_in_lotus_position_medium-light_skin_tone\": \"\\u200d\",\n    \"woman_in_lotus_position_medium_skin_tone\": \"\\u200d\",\n    \"woman_in_manual_wheelchair\": \"\\u200d\",\n    \"woman_in_motorized_wheelchair\": \"\\u200d\",\n    \"woman_in_steamy_room\": \"\\u200d\",\n    \"woman_in_steamy_room_dark_skin_tone\": \"\\u200d\",\n    \"woman_in_steamy_room_light_skin_tone\": \"\\u200d\",\n    \"woman_in_steamy_room_medium-dark_skin_tone\": \"\\u200d\",\n    \"woman_in_steamy_room_medium-light_skin_tone\": \"\\u200d\",\n    \"woman_in_steamy_room_medium_skin_tone\": \"\\u200d\",\n    \"woman_judge\": \"\\u200d\",\n    \"woman_judge_dark_skin_tone\": \"\\u200d\",\n    \"woman_judge_light_skin_tone\": \"\\u200d\",\n    \"woman_judge_medium-dark_skin_tone\": \"\\u200d\",\n    \"woman_judge_medium-light_skin_tone\": \"\\u200d\",\n    \"woman_judge_medium_skin_tone\": \"\\u200d\",\n    \"woman_juggling\": \"\\u200d\",\n    \"woman_juggling_dark_skin_tone\": \"\\u200d\",\n    \"woman_juggling_light_skin_tone\": \"\\u200d\",\n    \"woman_juggling_medium-dark_skin_tone\": \"\\u200d\",\n    \"woman_juggling_medium-light_skin_tone\": \"\\u200d\",\n    \"woman_juggling_medium_skin_tone\": \"\\u200d\",\n    \"woman_lifting_weights\": \"\\u200d\",\n    \"woman_lifting_weights_dark_skin_tone\": \"\\u200d\",\n    \"woman_lifting_weights_light_skin_tone\": \"\\u200d\",\n    \"woman_lifting_weights_medium-dark_skin_tone\": \"\\u200d\",\n    \"woman_lifting_weights_medium-light_skin_tone\": \"\\u200d\",\n    \"woman_lifting_weights_medium_skin_tone\": \"\\u200d\",\n    \"woman_light_skin_tone\": \"\",\n    \"woman_mage\": \"\\u200d\",\n    \"woman_mage_dark_skin_tone\": \"\\u200d\",\n    \"woman_mage_light_skin_tone\": \"\\u200d\",\n    \"woman_mage_medium-dark_skin_tone\": \"\\u200d\",\n    \"woman_mage_medium-light_skin_tone\": \"\\u200d\",\n    \"woman_mage_medium_skin_tone\": \"\\u200d\",\n    \"woman_mechanic\": \"\\u200d\",\n    \"woman_mechanic_dark_skin_tone\": \"\\u200d\",\n    \"woman_mechanic_light_skin_tone\": \"\\u200d\",\n    \"woman_mechanic_medium-dark_skin_tone\": \"\\u200d\",\n    \"woman_mechanic_medium-light_skin_tone\": \"\\u200d\",\n    \"woman_mechanic_medium_skin_tone\": \"\\u200d\",\n    \"woman_medium-dark_skin_tone\": \"\",\n    \"woman_medium-light_skin_tone\": \"\",\n    \"woman_medium_skin_tone\": \"\",\n    \"woman_mountain_biking\": \"\\u200d\",\n    \"woman_mountain_biking_dark_skin_tone\": \"\\u200d\",\n    \"woman_mountain_biking_light_skin_tone\": \"\\u200d\",\n    \"woman_mountain_biking_medium-dark_skin_tone\": \"\\u200d\",\n    \"woman_mountain_biking_medium-light_skin_tone\": \"\\u200d\",\n    \"woman_mountain_biking_medium_skin_tone\": \"\\u200d\",\n    \"woman_office_worker\": \"\\u200d\",\n    \"woman_office_worker_dark_skin_tone\": \"\\u200d\",\n    \"woman_office_worker_light_skin_tone\": \"\\u200d\",\n    \"woman_office_worker_medium-dark_skin_tone\": \"\\u200d\",\n    \"woman_office_worker_medium-light_skin_tone\": \"\\u200d\",\n    \"woman_office_worker_medium_skin_tone\": \"\\u200d\",\n    \"woman_pilot\": \"\\u200d\",\n    \"woman_pilot_dark_skin_tone\": \"\\u200d\",\n    \"woman_pilot_light_skin_tone\": \"\\u200d\",\n    \"woman_pilot_medium-dark_skin_tone\": \"\\u200d\",\n    \"woman_pilot_medium-light_skin_tone\": \"\\u200d\",\n    \"woman_pilot_medium_skin_tone\": \"\\u200d\",\n    \"woman_playing_handball\": \"\\u200d\",\n    \"woman_playing_handball_dark_skin_tone\": \"\\u200d\",\n    \"woman_playing_handball_light_skin_tone\": \"\\u200d\",\n    \"woman_playing_handball_medium-dark_skin_tone\": \"\\u200d\",\n    \"woman_playing_handball_medium-light_skin_tone\": \"\\u200d\",\n    \"woman_playing_handball_medium_skin_tone\": \"\\u200d\",\n    \"woman_playing_water_polo\": \"\\u200d\",\n    \"woman_playing_water_polo_dark_skin_tone\": \"\\u200d\",\n    \"woman_playing_water_polo_light_skin_tone\": \"\\u200d\",\n    \"woman_playing_water_polo_medium-dark_skin_tone\": \"\\u200d\",\n    \"woman_playing_water_polo_medium-light_skin_tone\": \"\\u200d\",\n    \"woman_playing_water_polo_medium_skin_tone\": \"\\u200d\",\n    \"woman_police_officer\": \"\\u200d\",\n    \"woman_police_officer_dark_skin_tone\": \"\\u200d\",\n    \"woman_police_officer_light_skin_tone\": \"\\u200d\",\n    \"woman_police_officer_medium-dark_skin_tone\": \"\\u200d\",\n    \"woman_police_officer_medium-light_skin_tone\": \"\\u200d\",\n    \"woman_police_officer_medium_skin_tone\": \"\\u200d\",\n    \"woman_pouting\": \"\\u200d\",\n    \"woman_pouting_dark_skin_tone\": \"\\u200d\",\n    \"woman_pouting_light_skin_tone\": \"\\u200d\",\n    \"woman_pouting_medium-dark_skin_tone\": \"\\u200d\",\n    \"woman_pouting_medium-light_skin_tone\": \"\\u200d\",\n    \"woman_pouting_medium_skin_tone\": \"\\u200d\",\n    \"woman_raising_hand\": \"\\u200d\",\n    \"woman_raising_hand_dark_skin_tone\": \"\\u200d\",\n    \"woman_raising_hand_light_skin_tone\": \"\\u200d\",\n    \"woman_raising_hand_medium-dark_skin_tone\": \"\\u200d\",\n    \"woman_raising_hand_medium-light_skin_tone\": \"\\u200d\",\n    \"woman_raising_hand_medium_skin_tone\": \"\\u200d\",\n    \"woman_rowing_boat\": \"\\u200d\",\n    \"woman_rowing_boat_dark_skin_tone\": \"\\u200d\",\n    \"woman_rowing_boat_light_skin_tone\": \"\\u200d\",\n    \"woman_rowing_boat_medium-dark_skin_tone\": \"\\u200d\",\n    \"woman_rowing_boat_medium-light_skin_tone\": \"\\u200d\",\n    \"woman_rowing_boat_medium_skin_tone\": \"\\u200d\",\n    \"woman_running\": \"\\u200d\",\n    \"woman_running_dark_skin_tone\": \"\\u200d\",\n    \"woman_running_light_skin_tone\": \"\\u200d\",\n    \"woman_running_medium-dark_skin_tone\": \"\\u200d\",\n    \"woman_running_medium-light_skin_tone\": \"\\u200d\",\n    \"woman_running_medium_skin_tone\": \"\\u200d\",\n    \"woman_scientist\": \"\\u200d\",\n    \"woman_scientist_dark_skin_tone\": \"\\u200d\",\n    \"woman_scientist_light_skin_tone\": \"\\u200d\",\n    \"woman_scientist_medium-dark_skin_tone\": \"\\u200d\",\n    \"woman_scientist_medium-light_skin_tone\": \"\\u200d\",\n    \"woman_scientist_medium_skin_tone\": \"\\u200d\",\n    \"woman_shrugging\": \"\\u200d\",\n    \"woman_shrugging_dark_skin_tone\": \"\\u200d\",\n    \"woman_shrugging_light_skin_tone\": \"\\u200d\",\n    \"woman_shrugging_medium-dark_skin_tone\": \"\\u200d\",\n    \"woman_shrugging_medium-light_skin_tone\": \"\\u200d\",\n    \"woman_shrugging_medium_skin_tone\": \"\\u200d\",\n    \"woman_singer\": \"\\u200d\",\n    \"woman_singer_dark_skin_tone\": \"\\u200d\",\n    \"woman_singer_light_skin_tone\": \"\\u200d\",\n    \"woman_singer_medium-dark_skin_tone\": \"\\u200d\",\n    \"woman_singer_medium-light_skin_tone\": \"\\u200d\",\n    \"woman_singer_medium_skin_tone\": \"\\u200d\",\n    \"woman_student\": \"\\u200d\",\n    \"woman_student_dark_skin_tone\": \"\\u200d\",\n    \"woman_student_light_skin_tone\": \"\\u200d\",\n    \"woman_student_medium-dark_skin_tone\": \"\\u200d\",\n    \"woman_student_medium-light_skin_tone\": \"\\u200d\",\n    \"woman_student_medium_skin_tone\": \"\\u200d\",\n    \"woman_surfing\": \"\\u200d\",\n    \"woman_surfing_dark_skin_tone\": \"\\u200d\",\n    \"woman_surfing_light_skin_tone\": \"\\u200d\",\n    \"woman_surfing_medium-dark_skin_tone\": \"\\u200d\",\n    \"woman_surfing_medium-light_skin_tone\": \"\\u200d\",\n    \"woman_surfing_medium_skin_tone\": \"\\u200d\",\n    \"woman_swimming\": \"\\u200d\",\n    \"woman_swimming_dark_skin_tone\": \"\\u200d\",\n    \"woman_swimming_light_skin_tone\": \"\\u200d\",\n    \"woman_swimming_medium-dark_skin_tone\": \"\\u200d\",\n    \"woman_swimming_medium-light_skin_tone\": \"\\u200d\",\n    \"woman_swimming_medium_skin_tone\": \"\\u200d\",\n    \"woman_teacher\": \"\\u200d\",\n    \"woman_teacher_dark_skin_tone\": \"\\u200d\",\n    \"woman_teacher_light_skin_tone\": \"\\u200d\",\n    \"woman_teacher_medium-dark_skin_tone\": \"\\u200d\",\n    \"woman_teacher_medium-light_skin_tone\": \"\\u200d\",\n    \"woman_teacher_medium_skin_tone\": \"\\u200d\",\n    \"woman_technologist\": \"\\u200d\",\n    \"woman_technologist_dark_skin_tone\": \"\\u200d\",\n    \"woman_technologist_light_skin_tone\": \"\\u200d\",\n    \"woman_technologist_medium-dark_skin_tone\": \"\\u200d\",\n    \"woman_technologist_medium-light_skin_tone\": \"\\u200d\",\n    \"woman_technologist_medium_skin_tone\": \"\\u200d\",\n    \"woman_tipping_hand\": \"\\u200d\",\n    \"woman_tipping_hand_dark_skin_tone\": \"\\u200d\",\n    \"woman_tipping_hand_light_skin_tone\": \"\\u200d\",\n    \"woman_tipping_hand_medium-dark_skin_tone\": \"\\u200d\",\n    \"woman_tipping_hand_medium-light_skin_tone\": \"\\u200d\",\n    \"woman_tipping_hand_medium_skin_tone\": \"\\u200d\",\n    \"woman_vampire\": \"\\u200d\",\n    \"woman_vampire_dark_skin_tone\": \"\\u200d\",\n    \"woman_vampire_light_skin_tone\": \"\\u200d\",\n    \"woman_vampire_medium-dark_skin_tone\": \"\\u200d\",\n    \"woman_vampire_medium-light_skin_tone\": \"\\u200d\",\n    \"woman_vampire_medium_skin_tone\": \"\\u200d\",\n    \"woman_walking\": \"\\u200d\",\n    \"woman_walking_dark_skin_tone\": \"\\u200d\",\n    \"woman_walking_light_skin_tone\": \"\\u200d\",\n    \"woman_walking_medium-dark_skin_tone\": \"\\u200d\",\n    \"woman_walking_medium-light_skin_tone\": \"\\u200d\",\n    \"woman_walking_medium_skin_tone\": \"\\u200d\",\n    \"woman_wearing_turban\": \"\\u200d\",\n    \"woman_wearing_turban_dark_skin_tone\": \"\\u200d\",\n    \"woman_wearing_turban_light_skin_tone\": \"\\u200d\",\n    \"woman_wearing_turban_medium-dark_skin_tone\": \"\\u200d\",\n    \"woman_wearing_turban_medium-light_skin_tone\": \"\\u200d\",\n    \"woman_wearing_turban_medium_skin_tone\": \"\\u200d\",\n    \"woman_with_headscarf\": \"\",\n    \"woman_with_headscarf_dark_skin_tone\": \"\",\n    \"woman_with_headscarf_light_skin_tone\": \"\",\n    \"woman_with_headscarf_medium-dark_skin_tone\": \"\",\n    \"woman_with_headscarf_medium-light_skin_tone\": \"\",\n    \"woman_with_headscarf_medium_skin_tone\": \"\",\n    \"woman_with_probing_cane\": \"\\u200d\",\n    \"woman_zombie\": \"\\u200d\",\n    \"womans_boot\": \"\",\n    \"womans_clothes\": \"\",\n    \"womans_hat\": \"\",\n    \"womans_sandal\": \"\",\n    \"women_with_bunny_ears\": \"\\u200d\",\n    \"women_wrestling\": \"\\u200d\",\n    \"womens_room\": \"\",\n    \"woozy_face\": \"\",\n    \"world_map\": \"\",\n    \"worried_face\": \"\",\n    \"wrapped_gift\": \"\",\n    \"wrench\": \"\",\n    \"writing_hand\": \"\",\n    \"writing_hand_dark_skin_tone\": \"\",\n    \"writing_hand_light_skin_tone\": \"\",\n    \"writing_hand_medium-dark_skin_tone\": \"\",\n    \"writing_hand_medium-light_skin_tone\": \"\",\n    \"writing_hand_medium_skin_tone\": \"\",\n    \"yarn\": \"\",\n    \"yawning_face\": \"\",\n    \"yellow_circle\": \"\",\n    \"yellow_heart\": \"\",\n    \"yellow_square\": \"\",\n    \"yen_banknote\": \"\",\n    \"yo-yo\": \"\",\n    \"yin_yang\": \"\",\n    \"zany_face\": \"\",\n    \"zebra\": \"\",\n    \"zipper-mouth_face\": \"\",\n    \"zombie\": \"\",\n    \"zzz\": \"\",\n    \"land_islands\": \"\",\n    \"keycap_asterisk\": \"*\",\n    \"keycap_digit_eight\": \"8\",\n    \"keycap_digit_five\": \"5\",\n    \"keycap_digit_four\": \"4\",\n    \"keycap_digit_nine\": \"9\",\n    \"keycap_digit_one\": \"1\",\n    \"keycap_digit_seven\": \"7\",\n    \"keycap_digit_six\": \"6\",\n    \"keycap_digit_three\": \"3\",\n    \"keycap_digit_two\": \"2\",\n    \"keycap_digit_zero\": \"0\",\n    \"keycap_number_sign\": \"#\",\n    \"light_skin_tone\": \"\",\n    \"medium_light_skin_tone\": \"\",\n    \"medium_skin_tone\": \"\",\n    \"medium_dark_skin_tone\": \"\",\n    \"dark_skin_tone\": \"\",\n    \"regional_indicator_symbol_letter_a\": \"\",\n    \"regional_indicator_symbol_letter_b\": \"\",\n    \"regional_indicator_symbol_letter_c\": \"\",\n    \"regional_indicator_symbol_letter_d\": \"\",\n    \"regional_indicator_symbol_letter_e\": \"\",\n    \"regional_indicator_symbol_letter_f\": \"\",\n    \"regional_indicator_symbol_letter_g\": \"\",\n    \"regional_indicator_symbol_letter_h\": \"\",\n    \"regional_indicator_symbol_letter_i\": \"\",\n    \"regional_indicator_symbol_letter_j\": \"\",\n    \"regional_indicator_symbol_letter_k\": \"\",\n    \"regional_indicator_symbol_letter_l\": \"\",\n    \"regional_indicator_symbol_letter_m\": \"\",\n    \"regional_indicator_symbol_letter_n\": \"\",\n    \"regional_indicator_symbol_letter_o\": \"\",\n    \"regional_indicator_symbol_letter_p\": \"\",\n    \"regional_indicator_symbol_letter_q\": \"\",\n    \"regional_indicator_symbol_letter_r\": \"\",\n    \"regional_indicator_symbol_letter_s\": \"\",\n    \"regional_indicator_symbol_letter_t\": \"\",\n    \"regional_indicator_symbol_letter_u\": \"\",\n    \"regional_indicator_symbol_letter_v\": \"\",\n    \"regional_indicator_symbol_letter_w\": \"\",\n    \"regional_indicator_symbol_letter_x\": \"\",\n    \"regional_indicator_symbol_letter_y\": \"\",\n    \"regional_indicator_symbol_letter_z\": \"\",\n    \"airplane_arriving\": \"\",\n    \"space_invader\": \"\",\n    \"football\": \"\",\n    \"anger\": \"\",\n    \"angry\": \"\",\n    \"anguished\": \"\",\n    \"signal_strength\": \"\",\n    \"arrows_counterclockwise\": \"\",\n    \"arrow_heading_down\": \"\",\n    \"arrow_heading_up\": \"\",\n    \"art\": \"\",\n    \"astonished\": \"\",\n    \"athletic_shoe\": \"\",\n    \"atm\": \"\",\n    \"car\": \"\",\n    \"red_car\": \"\",\n    \"angel\": \"\",\n    \"back\": \"\",\n    \"badminton_racquet_and_shuttlecock\": \"\",\n    \"dollar\": \"\",\n    \"euro\": \"\",\n    \"pound\": \"\",\n    \"yen\": \"\",\n    \"barber\": \"\",\n    \"bath\": \"\",\n    \"bear\": \"\",\n    \"heartbeat\": \"\",\n    \"beer\": \"\",\n    \"no_bell\": \"\",\n    \"bento\": \"\",\n    \"bike\": \"\",\n    \"bicyclist\": \"\",\n    \"8ball\": \"\",\n    \"biohazard_sign\": \"\",\n    \"birthday\": \"\",\n    \"black_circle_for_record\": \"\",\n    \"clubs\": \"\",\n    \"diamonds\": \"\",\n    \"arrow_double_down\": \"\",\n    \"hearts\": \"\",\n    \"rewind\": \"\",\n    \"black_left__pointing_double_triangle_with_vertical_bar\": \"\",\n    \"arrow_backward\": \"\",\n    \"black_medium_small_square\": \"\",\n    \"question\": \"\",\n    \"fast_forward\": \"\",\n    \"black_right__pointing_double_triangle_with_vertical_bar\": \"\",\n    \"arrow_forward\": \"\",\n    \"black_right__pointing_triangle_with_double_vertical_bar\": \"\",\n    \"arrow_right\": \"\",\n    \"spades\": \"\",\n    \"black_square_for_stop\": \"\",\n    \"sunny\": \"\",\n    \"phone\": \"\",\n    \"recycle\": \"\",\n    \"arrow_double_up\": \"\",\n    \"busstop\": \"\",\n    \"date\": \"\",\n    \"flags\": \"\",\n    \"cat2\": \"\",\n    \"joy_cat\": \"\",\n    \"smirk_cat\": \"\",\n    \"chart_with_downwards_trend\": \"\",\n    \"chart_with_upwards_trend\": \"\",\n    \"chart\": \"\",\n    \"mega\": \"\",\n    \"checkered_flag\": \"\",\n    \"accept\": \"\",\n    \"ideograph_advantage\": \"\",\n    \"congratulations\": \"\",\n    \"secret\": \"\",\n    \"m\": \"\",\n    \"city_sunset\": \"\",\n    \"clapper\": \"\",\n    \"clap\": \"\",\n    \"beers\": \"\",\n    \"clock830\": \"\",\n    \"clock8\": \"\",\n    \"clock1130\": \"\",\n    \"clock11\": \"\",\n    \"clock530\": \"\",\n    \"clock5\": \"\",\n    \"clock430\": \"\",\n    \"clock4\": \"\",\n    \"clock930\": \"\",\n    \"clock9\": \"\",\n    \"clock130\": \"\",\n    \"clock1\": \"\",\n    \"clock730\": \"\",\n    \"clock7\": \"\",\n    \"clock630\": \"\",\n    \"clock6\": \"\",\n    \"clock1030\": \"\",\n    \"clock10\": \"\",\n    \"clock330\": \"\",\n    \"clock3\": \"\",\n    \"clock1230\": \"\",\n    \"clock12\": \"\",\n    \"clock230\": \"\",\n    \"clock2\": \"\",\n    \"arrows_clockwise\": \"\",\n    \"repeat\": \"\",\n    \"repeat_one\": \"\",\n    \"closed_lock_with_key\": \"\",\n    \"mailbox_closed\": \"\",\n    \"mailbox\": \"\",\n    \"cloud_with_tornado\": \"\",\n    \"cocktail\": \"\",\n    \"boom\": \"\",\n    \"compression\": \"\",\n    \"confounded\": \"\",\n    \"confused\": \"\",\n    \"rice\": \"\",\n    \"cow2\": \"\",\n    \"cricket_bat_and_ball\": \"\",\n    \"x\": \"\",\n    \"cry\": \"\",\n    \"curry\": \"\",\n    \"dagger_knife\": \"\",\n    \"dancer\": \"\",\n    \"dark_sunglasses\": \"\",\n    \"dash\": \"\",\n    \"truck\": \"\",\n    \"derelict_house_building\": \"\",\n    \"diamond_shape_with_a_dot_inside\": \"\",\n    \"dart\": \"\",\n    \"disappointed_relieved\": \"\",\n    \"disappointed\": \"\",\n    \"do_not_litter\": \"\",\n    \"dog2\": \"\",\n    \"flipper\": \"\",\n    \"loop\": \"\",\n    \"bangbang\": \"\",\n    \"double_vertical_bar\": \"\",\n    \"dove_of_peace\": \"\",\n    \"small_red_triangle_down\": \"\",\n    \"arrow_down_small\": \"\",\n    \"arrow_down\": \"\",\n    \"dromedary_camel\": \"\",\n    \"e__mail\": \"\",\n    \"corn\": \"\",\n    \"ear_of_rice\": \"\",\n    \"earth_americas\": \"\",\n    \"earth_asia\": \"\",\n    \"earth_africa\": \"\",\n    \"eight_pointed_black_star\": \"\",\n    \"eight_spoked_asterisk\": \"\",\n    \"eject_symbol\": \"\",\n    \"bulb\": \"\",\n    \"emoji_modifier_fitzpatrick_type__1__2\": \"\",\n    \"emoji_modifier_fitzpatrick_type__3\": \"\",\n    \"emoji_modifier_fitzpatrick_type__4\": \"\",\n    \"emoji_modifier_fitzpatrick_type__5\": \"\",\n    \"emoji_modifier_fitzpatrick_type__6\": \"\",\n    \"end\": \"\",\n    \"email\": \"\",\n    \"european_castle\": \"\",\n    \"european_post_office\": \"\",\n    \"interrobang\": \"\",\n    \"expressionless\": \"\",\n    \"eyeglasses\": \"\",\n    \"massage\": \"\",\n    \"yum\": \"\",\n    \"scream\": \"\",\n    \"kissing_heart\": \"\",\n    \"sweat\": \"\",\n    \"face_with_head__bandage\": \"\",\n    \"triumph\": \"\",\n    \"mask\": \"\",\n    \"no_good\": \"\",\n    \"ok_woman\": \"\",\n    \"open_mouth\": \"\",\n    \"cold_sweat\": \"\",\n    \"stuck_out_tongue\": \"\",\n    \"stuck_out_tongue_closed_eyes\": \"\",\n    \"stuck_out_tongue_winking_eye\": \"\",\n    \"joy\": \"\",\n    \"no_mouth\": \"\",\n    \"santa\": \"\",\n    \"fax\": \"\",\n    \"fearful\": \"\",\n    \"field_hockey_stick_and_ball\": \"\",\n    \"first_quarter_moon_with_face\": \"\",\n    \"fish_cake\": \"\",\n    \"fishing_pole_and_fish\": \"\",\n    \"facepunch\": \"\",\n    \"punch\": \"\",\n    \"flag_for_afghanistan\": \"\",\n    \"flag_for_albania\": \"\",\n    \"flag_for_algeria\": \"\",\n    \"flag_for_american_samoa\": \"\",\n    \"flag_for_andorra\": \"\",\n    \"flag_for_angola\": \"\",\n    \"flag_for_anguilla\": \"\",\n    \"flag_for_antarctica\": \"\",\n    \"flag_for_antigua_&_barbuda\": \"\",\n    \"flag_for_argentina\": \"\",\n    \"flag_for_armenia\": \"\",\n    \"flag_for_aruba\": \"\",\n    \"flag_for_ascension_island\": \"\",\n    \"flag_for_australia\": \"\",\n    \"flag_for_austria\": \"\",\n    \"flag_for_azerbaijan\": \"\",\n    \"flag_for_bahamas\": \"\",\n    \"flag_for_bahrain\": \"\",\n    \"flag_for_bangladesh\": \"\",\n    \"flag_for_barbados\": \"\",\n    \"flag_for_belarus\": \"\",\n    \"flag_for_belgium\": \"\",\n    \"flag_for_belize\": \"\",\n    \"flag_for_benin\": \"\",\n    \"flag_for_bermuda\": \"\",\n    \"flag_for_bhutan\": \"\",\n    \"flag_for_bolivia\": \"\",\n    \"flag_for_bosnia_&_herzegovina\": \"\",\n    \"flag_for_botswana\": \"\",\n    \"flag_for_bouvet_island\": \"\",\n    \"flag_for_brazil\": \"\",\n    \"flag_for_british_indian_ocean_territory\": \"\",\n    \"flag_for_british_virgin_islands\": \"\",\n    \"flag_for_brunei\": \"\",\n    \"flag_for_bulgaria\": \"\",\n    \"flag_for_burkina_faso\": \"\",\n    \"flag_for_burundi\": \"\",\n    \"flag_for_cambodia\": \"\",\n    \"flag_for_cameroon\": \"\",\n    \"flag_for_canada\": \"\",\n    \"flag_for_canary_islands\": \"\",\n    \"flag_for_cape_verde\": \"\",\n    \"flag_for_caribbean_netherlands\": \"\",\n    \"flag_for_cayman_islands\": \"\",\n    \"flag_for_central_african_republic\": \"\",\n    \"flag_for_ceuta_&_melilla\": \"\",\n    \"flag_for_chad\": \"\",\n    \"flag_for_chile\": \"\",\n    \"flag_for_china\": \"\",\n    \"flag_for_christmas_island\": \"\",\n    \"flag_for_clipperton_island\": \"\",\n    \"flag_for_cocos__islands\": \"\",\n    \"flag_for_colombia\": \"\",\n    \"flag_for_comoros\": \"\",\n    \"flag_for_congo____brazzaville\": \"\",\n    \"flag_for_congo____kinshasa\": \"\",\n    \"flag_for_cook_islands\": \"\",\n    \"flag_for_costa_rica\": \"\",\n    \"flag_for_croatia\": \"\",\n    \"flag_for_cuba\": \"\",\n    \"flag_for_curaao\": \"\",\n    \"flag_for_cyprus\": \"\",\n    \"flag_for_czech_republic\": \"\",\n    \"flag_for_cte_divoire\": \"\",\n    \"flag_for_denmark\": \"\",\n    \"flag_for_diego_garcia\": \"\",\n    \"flag_for_djibouti\": \"\",\n    \"flag_for_dominica\": \"\",\n    \"flag_for_dominican_republic\": \"\",\n    \"flag_for_ecuador\": \"\",\n    \"flag_for_egypt\": \"\",\n    \"flag_for_el_salvador\": \"\",\n    \"flag_for_equatorial_guinea\": \"\",\n    \"flag_for_eritrea\": \"\",\n    \"flag_for_estonia\": \"\",\n    \"flag_for_ethiopia\": \"\",\n    \"flag_for_european_union\": \"\",\n    \"flag_for_falkland_islands\": \"\",\n    \"flag_for_faroe_islands\": \"\",\n    \"flag_for_fiji\": \"\",\n    \"flag_for_finland\": \"\",\n    \"flag_for_france\": \"\",\n    \"flag_for_french_guiana\": \"\",\n    \"flag_for_french_polynesia\": \"\",\n    \"flag_for_french_southern_territories\": \"\",\n    \"flag_for_gabon\": \"\",\n    \"flag_for_gambia\": \"\",\n    \"flag_for_georgia\": \"\",\n    \"flag_for_germany\": \"\",\n    \"flag_for_ghana\": \"\",\n    \"flag_for_gibraltar\": \"\",\n    \"flag_for_greece\": \"\",\n    \"flag_for_greenland\": \"\",\n    \"flag_for_grenada\": \"\",\n    \"flag_for_guadeloupe\": \"\",\n    \"flag_for_guam\": \"\",\n    \"flag_for_guatemala\": \"\",\n    \"flag_for_guernsey\": \"\",\n    \"flag_for_guinea\": \"\",\n    \"flag_for_guinea__bissau\": \"\",\n    \"flag_for_guyana\": \"\",\n    \"flag_for_haiti\": \"\",\n    \"flag_for_heard_&_mcdonald_islands\": \"\",\n    \"flag_for_honduras\": \"\",\n    \"flag_for_hong_kong\": \"\",\n    \"flag_for_hungary\": \"\",\n    \"flag_for_iceland\": \"\",\n    \"flag_for_india\": \"\",\n    \"flag_for_indonesia\": \"\",\n    \"flag_for_iran\": \"\",\n    \"flag_for_iraq\": \"\",\n    \"flag_for_ireland\": \"\",\n    \"flag_for_isle_of_man\": \"\",\n    \"flag_for_israel\": \"\",\n    \"flag_for_italy\": \"\",\n    \"flag_for_jamaica\": \"\",\n    \"flag_for_japan\": \"\",\n    \"flag_for_jersey\": \"\",\n    \"flag_for_jordan\": \"\",\n    \"flag_for_kazakhstan\": \"\",\n    \"flag_for_kenya\": \"\",\n    \"flag_for_kiribati\": \"\",\n    \"flag_for_kosovo\": \"\",\n    \"flag_for_kuwait\": \"\",\n    \"flag_for_kyrgyzstan\": \"\",\n    \"flag_for_laos\": \"\",\n    \"flag_for_latvia\": \"\",\n    \"flag_for_lebanon\": \"\",\n    \"flag_for_lesotho\": \"\",\n    \"flag_for_liberia\": \"\",\n    \"flag_for_libya\": \"\",\n    \"flag_for_liechtenstein\": \"\",\n    \"flag_for_lithuania\": \"\",\n    \"flag_for_luxembourg\": \"\",\n    \"flag_for_macau\": \"\",\n    \"flag_for_macedonia\": \"\",\n    \"flag_for_madagascar\": \"\",\n    \"flag_for_malawi\": \"\",\n    \"flag_for_malaysia\": \"\",\n    \"flag_for_maldives\": \"\",\n    \"flag_for_mali\": \"\",\n    \"flag_for_malta\": \"\",\n    \"flag_for_marshall_islands\": \"\",\n    \"flag_for_martinique\": \"\",\n    \"flag_for_mauritania\": \"\",\n    \"flag_for_mauritius\": \"\",\n    \"flag_for_mayotte\": \"\",\n    \"flag_for_mexico\": \"\",\n    \"flag_for_micronesia\": \"\",\n    \"flag_for_moldova\": \"\",\n    \"flag_for_monaco\": \"\",\n    \"flag_for_mongolia\": \"\",\n    \"flag_for_montenegro\": \"\",\n    \"flag_for_montserrat\": \"\",\n    \"flag_for_morocco\": \"\",\n    \"flag_for_mozambique\": \"\",\n    \"flag_for_myanmar\": \"\",\n    \"flag_for_namibia\": \"\",\n    \"flag_for_nauru\": \"\",\n    \"flag_for_nepal\": \"\",\n    \"flag_for_netherlands\": \"\",\n    \"flag_for_new_caledonia\": \"\",\n    \"flag_for_new_zealand\": \"\",\n    \"flag_for_nicaragua\": \"\",\n    \"flag_for_niger\": \"\",\n    \"flag_for_nigeria\": \"\",\n    \"flag_for_niue\": \"\",\n    \"flag_for_norfolk_island\": \"\",\n    \"flag_for_north_korea\": \"\",\n    \"flag_for_northern_mariana_islands\": \"\",\n    \"flag_for_norway\": \"\",\n    \"flag_for_oman\": \"\",\n    \"flag_for_pakistan\": \"\",\n    \"flag_for_palau\": \"\",\n    \"flag_for_palestinian_territories\": \"\",\n    \"flag_for_panama\": \"\",\n    \"flag_for_papua_new_guinea\": \"\",\n    \"flag_for_paraguay\": \"\",\n    \"flag_for_peru\": \"\",\n    \"flag_for_philippines\": \"\",\n    \"flag_for_pitcairn_islands\": \"\",\n    \"flag_for_poland\": \"\",\n    \"flag_for_portugal\": \"\",\n    \"flag_for_puerto_rico\": \"\",\n    \"flag_for_qatar\": \"\",\n    \"flag_for_romania\": \"\",\n    \"flag_for_russia\": \"\",\n    \"flag_for_rwanda\": \"\",\n    \"flag_for_runion\": \"\",\n    \"flag_for_samoa\": \"\",\n    \"flag_for_san_marino\": \"\",\n    \"flag_for_saudi_arabia\": \"\",\n    \"flag_for_senegal\": \"\",\n    \"flag_for_serbia\": \"\",\n    \"flag_for_seychelles\": \"\",\n    \"flag_for_sierra_leone\": \"\",\n    \"flag_for_singapore\": \"\",\n    \"flag_for_sint_maarten\": \"\",\n    \"flag_for_slovakia\": \"\",\n    \"flag_for_slovenia\": \"\",\n    \"flag_for_solomon_islands\": \"\",\n    \"flag_for_somalia\": \"\",\n    \"flag_for_south_africa\": \"\",\n    \"flag_for_south_georgia_&_south_sandwich_islands\": \"\",\n    \"flag_for_south_korea\": \"\",\n    \"flag_for_south_sudan\": \"\",\n    \"flag_for_spain\": \"\",\n    \"flag_for_sri_lanka\": \"\",\n    \"flag_for_st._barthlemy\": \"\",\n    \"flag_for_st._helena\": \"\",\n    \"flag_for_st._kitts_&_nevis\": \"\",\n    \"flag_for_st._lucia\": \"\",\n    \"flag_for_st._martin\": \"\",\n    \"flag_for_st._pierre_&_miquelon\": \"\",\n    \"flag_for_st._vincent_&_grenadines\": \"\",\n    \"flag_for_sudan\": \"\",\n    \"flag_for_suriname\": \"\",\n    \"flag_for_svalbard_&_jan_mayen\": \"\",\n    \"flag_for_swaziland\": \"\",\n    \"flag_for_sweden\": \"\",\n    \"flag_for_switzerland\": \"\",\n    \"flag_for_syria\": \"\",\n    \"flag_for_so_tom_&_prncipe\": \"\",\n    \"flag_for_taiwan\": \"\",\n    \"flag_for_tajikistan\": \"\",\n    \"flag_for_tanzania\": \"\",\n    \"flag_for_thailand\": \"\",\n    \"flag_for_timor__leste\": \"\",\n    \"flag_for_togo\": \"\",\n    \"flag_for_tokelau\": \"\",\n    \"flag_for_tonga\": \"\",\n    \"flag_for_trinidad_&_tobago\": \"\",\n    \"flag_for_tristan_da_cunha\": \"\",\n    \"flag_for_tunisia\": \"\",\n    \"flag_for_turkey\": \"\",\n    \"flag_for_turkmenistan\": \"\",\n    \"flag_for_turks_&_caicos_islands\": \"\",\n    \"flag_for_tuvalu\": \"\",\n    \"flag_for_u.s._outlying_islands\": \"\",\n    \"flag_for_u.s._virgin_islands\": \"\",\n    \"flag_for_uganda\": \"\",\n    \"flag_for_ukraine\": \"\",\n    \"flag_for_united_arab_emirates\": \"\",\n    \"flag_for_united_kingdom\": \"\",\n    \"flag_for_united_states\": \"\",\n    \"flag_for_uruguay\": \"\",\n    \"flag_for_uzbekistan\": \"\",\n    \"flag_for_vanuatu\": \"\",\n    \"flag_for_vatican_city\": \"\",\n    \"flag_for_venezuela\": \"\",\n    \"flag_for_vietnam\": \"\",\n    \"flag_for_wallis_&_futuna\": \"\",\n    \"flag_for_western_sahara\": \"\",\n    \"flag_for_yemen\": \"\",\n    \"flag_for_zambia\": \"\",\n    \"flag_for_zimbabwe\": \"\",\n    \"flag_for_land_islands\": \"\",\n    \"golf\": \"\",\n    \"fleur__de__lis\": \"\",\n    \"muscle\": \"\",\n    \"flushed\": \"\",\n    \"frame_with_picture\": \"\",\n    \"fries\": \"\",\n    \"frog\": \"\",\n    \"hatched_chick\": \"\",\n    \"frowning\": \"\",\n    \"fuelpump\": \"\",\n    \"full_moon_with_face\": \"\",\n    \"gem\": \"\",\n    \"star2\": \"\",\n    \"golfer\": \"\",\n    \"mortar_board\": \"\",\n    \"grimacing\": \"\",\n    \"smile_cat\": \"\",\n    \"grinning\": \"\",\n    \"grin\": \"\",\n    \"heartpulse\": \"\",\n    \"guardsman\": \"\",\n    \"haircut\": \"\",\n    \"hamster\": \"\",\n    \"raising_hand\": \"\",\n    \"headphones\": \"\",\n    \"hear_no_evil\": \"\",\n    \"cupid\": \"\",\n    \"gift_heart\": \"\",\n    \"heart\": \"\",\n    \"exclamation\": \"\",\n    \"heavy_exclamation_mark\": \"\",\n    \"heavy_heart_exclamation_mark_ornament\": \"\",\n    \"o\": \"\",\n    \"helm_symbol\": \"\",\n    \"helmet_with_white_cross\": \"\",\n    \"high_heel\": \"\",\n    \"bullettrain_side\": \"\",\n    \"bullettrain_front\": \"\",\n    \"high_brightness\": \"\",\n    \"zap\": \"\",\n    \"hocho\": \"\",\n    \"knife\": \"\",\n    \"bee\": \"\",\n    \"traffic_light\": \"\",\n    \"racehorse\": \"\",\n    \"coffee\": \"\",\n    \"hotsprings\": \"\",\n    \"hourglass\": \"\",\n    \"hourglass_flowing_sand\": \"\",\n    \"house_buildings\": \"\",\n    \"100\": \"\",\n    \"hushed\": \"\",\n    \"ice_hockey_stick_and_puck\": \"\",\n    \"imp\": \"\",\n    \"information_desk_person\": \"\",\n    \"information_source\": \"\",\n    \"capital_abcd\": \"\",\n    \"abc\": \"\",\n    \"abcd\": \"\",\n    \"1234\": \"\",\n    \"symbols\": \"\",\n    \"izakaya_lantern\": \"\",\n    \"lantern\": \"\",\n    \"jack_o_lantern\": \"\",\n    \"dolls\": \"\",\n    \"japanese_goblin\": \"\",\n    \"japanese_ogre\": \"\",\n    \"beginner\": \"\",\n    \"zero\": \"0\",\n    \"one\": \"1\",\n    \"ten\": \"\",\n    \"two\": \"2\",\n    \"three\": \"3\",\n    \"four\": \"4\",\n    \"five\": \"5\",\n    \"six\": \"6\",\n    \"seven\": \"7\",\n    \"eight\": \"8\",\n    \"nine\": \"9\",\n    \"couplekiss\": \"\",\n    \"kissing_cat\": \"\",\n    \"kissing\": \"\",\n    \"kissing_closed_eyes\": \"\",\n    \"kissing_smiling_eyes\": \"\",\n    \"beetle\": \"\",\n    \"large_blue_circle\": \"\",\n    \"last_quarter_moon_with_face\": \"\",\n    \"leaves\": \"\",\n    \"mag\": \"\",\n    \"left_right_arrow\": \"\",\n    \"leftwards_arrow_with_hook\": \"\",\n    \"arrow_left\": \"\",\n    \"lock\": \"\",\n    \"lock_with_ink_pen\": \"\",\n    \"sob\": \"\",\n    \"low_brightness\": \"\",\n    \"lower_left_ballpoint_pen\": \"\",\n    \"lower_left_crayon\": \"\",\n    \"lower_left_fountain_pen\": \"\",\n    \"lower_left_paintbrush\": \"\",\n    \"mahjong\": \"\",\n    \"couple\": \"\",\n    \"man_in_business_suit_levitating\": \"\",\n    \"man_with_gua_pi_mao\": \"\",\n    \"man_with_turban\": \"\",\n    \"mans_shoe\": \"\",\n    \"shoe\": \"\",\n    \"menorah_with_nine_branches\": \"\",\n    \"mens\": \"\",\n    \"minidisc\": \"\",\n    \"iphone\": \"\",\n    \"calling\": \"\",\n    \"money__mouth_face\": \"\",\n    \"moneybag\": \"\",\n    \"rice_scene\": \"\",\n    \"mountain_bicyclist\": \"\",\n    \"mouse2\": \"\",\n    \"lips\": \"\",\n    \"moyai\": \"\",\n    \"notes\": \"\",\n    \"nail_care\": \"\",\n    \"ab\": \"\",\n    \"negative_squared_cross_mark\": \"\",\n    \"a\": \"\",\n    \"b\": \"\",\n    \"o2\": \"\",\n    \"parking\": \"\",\n    \"new_moon_with_face\": \"\",\n    \"no_entry_sign\": \"\",\n    \"underage\": \"\",\n    \"non__potable_water\": \"\",\n    \"arrow_upper_right\": \"\",\n    \"arrow_upper_left\": \"\",\n    \"office\": \"\",\n    \"older_man\": \"\",\n    \"older_woman\": \"\",\n    \"om_symbol\": \"\",\n    \"on\": \"\",\n    \"book\": \"\",\n    \"unlock\": \"\",\n    \"mailbox_with_no_mail\": \"\",\n    \"mailbox_with_mail\": \"\",\n    \"cd\": \"\",\n    \"tada\": \"\",\n    \"feet\": \"\",\n    \"walking\": \"\",\n    \"pencil2\": \"\",\n    \"pensive\": \"\",\n    \"persevere\": \"\",\n    \"bow\": \"\",\n    \"raised_hands\": \"\",\n    \"person_with_ball\": \"\",\n    \"person_with_blond_hair\": \"\",\n    \"pray\": \"\",\n    \"person_with_pouting_face\": \"\",\n    \"computer\": \"\",\n    \"pig2\": \"\",\n    \"hankey\": \"\",\n    \"poop\": \"\",\n    \"shit\": \"\",\n    \"bamboo\": \"\",\n    \"gun\": \"\",\n    \"black_joker\": \"\",\n    \"rotating_light\": \"\",\n    \"cop\": \"\",\n    \"stew\": \"\",\n    \"pouch\": \"\",\n    \"pouting_cat\": \"\",\n    \"rage\": \"\",\n    \"put_litter_in_its_place\": \"\",\n    \"rabbit2\": \"\",\n    \"racing_motorcycle\": \"\",\n    \"radioactive_sign\": \"\",\n    \"fist\": \"\",\n    \"hand\": \"\",\n    \"raised_hand_with_fingers_splayed\": \"\",\n    \"raised_hand_with_part_between_middle_and_ring_fingers\": \"\",\n    \"blue_car\": \"\",\n    \"apple\": \"\",\n    \"relieved\": \"\",\n    \"reversed_hand_with_middle_finger_extended\": \"\",\n    \"mag_right\": \"\",\n    \"arrow_right_hook\": \"\",\n    \"sweet_potato\": \"\",\n    \"robot\": \"\",\n    \"rolled__up_newspaper\": \"\",\n    \"rowboat\": \"\",\n    \"runner\": \"\",\n    \"running\": \"\",\n    \"running_shirt_with_sash\": \"\",\n    \"boat\": \"\",\n    \"scales\": \"\",\n    \"school_satchel\": \"\",\n    \"scorpius\": \"\",\n    \"see_no_evil\": \"\",\n    \"sheep\": \"\",\n    \"stars\": \"\",\n    \"cake\": \"\",\n    \"six_pointed_star\": \"\",\n    \"ski\": \"\",\n    \"sleeping_accommodation\": \"\",\n    \"sleeping\": \"\",\n    \"sleepy\": \"\",\n    \"sleuth_or_spy\": \"\",\n    \"heart_eyes_cat\": \"\",\n    \"smiley_cat\": \"\",\n    \"innocent\": \"\",\n    \"heart_eyes\": \"\",\n    \"smiling_imp\": \"\",\n    \"smiley\": \"\",\n    \"sweat_smile\": \"\",\n    \"smile\": \"\",\n    \"laughing\": \"\",\n    \"satisfied\": \"\",\n    \"blush\": \"\",\n    \"smirk\": \"\",\n    \"smoking\": \"\",\n    \"snow_capped_mountain\": \"\",\n    \"soccer\": \"\",\n    \"icecream\": \"\",\n    \"soon\": \"\",\n    \"arrow_lower_right\": \"\",\n    \"arrow_lower_left\": \"\",\n    \"speak_no_evil\": \"\",\n    \"speaker\": \"\",\n    \"mute\": \"\",\n    \"sound\": \"\",\n    \"loud_sound\": \"\",\n    \"speaking_head_in_silhouette\": \"\",\n    \"spiral_calendar_pad\": \"\",\n    \"spiral_note_pad\": \"\",\n    \"shell\": \"\",\n    \"sweat_drops\": \"\",\n    \"u5272\": \"\",\n    \"u5408\": \"\",\n    \"u55b6\": \"\",\n    \"u6307\": \"\",\n    \"u6708\": \"\",\n    \"u6709\": \"\",\n    \"u6e80\": \"\",\n    \"u7121\": \"\",\n    \"u7533\": \"\",\n    \"u7981\": \"\",\n    \"u7a7a\": \"\",\n    \"cl\": \"\",\n    \"cool\": \"\",\n    \"free\": \"\",\n    \"id\": \"\",\n    \"koko\": \"\",\n    \"sa\": \"\",\n    \"new\": \"\",\n    \"ng\": \"\",\n    \"ok\": \"\",\n    \"sos\": \"\",\n    \"up\": \"\",\n    \"vs\": \"\",\n    \"steam_locomotive\": \"\",\n    \"ramen\": \"\",\n    \"partly_sunny\": \"\",\n    \"city_sunrise\": \"\",\n    \"surfer\": \"\",\n    \"swimmer\": \"\",\n    \"shirt\": \"\",\n    \"tshirt\": \"\",\n    \"table_tennis_paddle_and_ball\": \"\",\n    \"tea\": \"\",\n    \"tv\": \"\",\n    \"three_button_mouse\": \"\",\n    \"+1\": \"\",\n    \"thumbsup\": \"\",\n    \"__1\": \"\",\n    \"-1\": \"\",\n    \"thumbsdown\": \"\",\n    \"thunder_cloud_and_rain\": \"\",\n    \"tiger2\": \"\",\n    \"tophat\": \"\",\n    \"top\": \"\",\n    \"tm\": \"\",\n    \"train2\": \"\",\n    \"triangular_flag_on_post\": \"\",\n    \"trident\": \"\",\n    \"twisted_rightwards_arrows\": \"\",\n    \"unamused\": \"\",\n    \"small_red_triangle\": \"\",\n    \"arrow_up_small\": \"\",\n    \"arrow_up_down\": \"\",\n    \"upside__down_face\": \"\",\n    \"arrow_up\": \"\",\n    \"v\": \"\",\n    \"vhs\": \"\",\n    \"wc\": \"\",\n    \"ocean\": \"\",\n    \"waving_black_flag\": \"\",\n    \"wave\": \"\",\n    \"waving_white_flag\": \"\",\n    \"moon\": \"\",\n    \"scream_cat\": \"\",\n    \"weary\": \"\",\n    \"weight_lifter\": \"\",\n    \"whale2\": \"\",\n    \"wheelchair\": \"\",\n    \"point_down\": \"\",\n    \"grey_exclamation\": \"\",\n    \"white_frowning_face\": \"\",\n    \"white_check_mark\": \"\",\n    \"point_left\": \"\",\n    \"white_medium_small_square\": \"\",\n    \"star\": \"\",\n    \"grey_question\": \"\",\n    \"point_right\": \"\",\n    \"relaxed\": \"\",\n    \"white_sun_behind_cloud\": \"\",\n    \"white_sun_behind_cloud_with_rain\": \"\",\n    \"white_sun_with_small_cloud\": \"\",\n    \"point_up_2\": \"\",\n    \"point_up\": \"\",\n    \"wind_blowing_face\": \"\",\n    \"wink\": \"\",\n    \"wolf\": \"\",\n    \"dancers\": \"\",\n    \"boot\": \"\",\n    \"womans_clothes\": \"\",\n    \"womans_hat\": \"\",\n    \"sandal\": \"\",\n    \"womens\": \"\",\n    \"worried\": \"\",\n    \"gift\": \"\",\n    \"zipper__mouth_face\": \"\",\n    \"regional_indicator_a\": \"\",\n    \"regional_indicator_b\": \"\",\n    \"regional_indicator_c\": \"\",\n    \"regional_indicator_d\": \"\",\n    \"regional_indicator_e\": \"\",\n    \"regional_indicator_f\": \"\",\n    \"regional_indicator_g\": \"\",\n    \"regional_indicator_h\": \"\",\n    \"regional_indicator_i\": \"\",\n    \"regional_indicator_j\": \"\",\n    \"regional_indicator_k\": \"\",\n    \"regional_indicator_l\": \"\",\n    \"regional_indicator_m\": \"\",\n    \"regional_indicator_n\": \"\",\n    \"regional_indicator_o\": \"\",\n    \"regional_indicator_p\": \"\",\n    \"regional_indicator_q\": \"\",\n    \"regional_indicator_r\": \"\",\n    \"regional_indicator_s\": \"\",\n    \"regional_indicator_t\": \"\",\n    \"regional_indicator_u\": \"\",\n    \"regional_indicator_v\": \"\",\n    \"regional_indicator_w\": \"\",\n    \"regional_indicator_x\": \"\",\n    \"regional_indicator_y\": \"\",\n    \"regional_indicator_z\": \"\",\n}\n",
    "start_line": 0
  },
  {
    "file": "box.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "import sys\nfrom typing import TYPE_CHECKING, Iterable, List\nif sys.version_info >= (3, 8):\n    from typing import Literal\nelse:\n    from typing_extensions import Literal  # pragma: no cover\nfrom ._loop import loop_last\nif TYPE_CHECKING:\n    from rich.console import ConsoleOptions",
    "start_line": 0
  },
  {
    "file": "box.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "Box",
    "content": "class Box:\n    \"\"\"Defines characters to render boxes.\n\n     top\n      head\n     head_row\n      mid\n     row\n     foot_row\n      foot\n     bottom\n\n    Args:\n        box (str): Characters making up box.\n        ascii (bool, optional): True if this box uses ascii characters only. Default is False.\n    \"\"\"",
    "start_line": 15
  },
  {
    "file": "box.py",
    "type": "method",
    "class": "Box",
    "method": "__init__",
    "name": "__init__",
    "content": "class Box:\n    def __init__(self, box: str, *, ascii: bool = False) -> None:\n        self._box = box\n        self.ascii = ascii\n        line1, line2, line3, line4, line5, line6, line7, line8 = box.splitlines()",
    "start_line": 32
  },
  {
    "file": "box.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# top\n        self.top_left, self.top, self.top_divider, self.top_right = iter(line1)\n        # head\n        self.head_left, _, self.head_vertical, self.head_right = iter(line2)\n        # head_row\n        (\n            self.head_row_left,\n            self.head_row_horizontal,\n            self.head_row_cross,\n            self.head_row_right,\n        ) = iter(line3)\n        # mid\n        self.mid_left, _, self.mid_vertical, self.mid_right = iter(line4)\n        # row\n        self.row_left, self.row_horizontal, self.row_cross, self.row_right = iter(line5)\n        # foot_row\n        (\n            self.foot_row_left,\n            self.foot_row_horizontal,\n            self.foot_row_cross,\n            self.foot_row_right,\n        ) = iter(line6)\n        # foot\n        self.foot_left, _, self.foot_vertical, self.foot_right = iter(line7)\n        # bottom\n        self.bottom_left, self.bottom, self.bottom_divider, self.bottom_right = iter(\n            line8\n        )",
    "start_line": 36
  },
  {
    "file": "box.py",
    "type": "method",
    "class": "Box",
    "method": "__repr__",
    "name": "__repr__",
    "content": "class Box:\n    def __repr__(self) -> str:\n        return \"Box(...)\"",
    "start_line": 66
  },
  {
    "file": "box.py",
    "type": "method",
    "class": "Box",
    "method": "__str__",
    "name": "__str__",
    "content": "class Box:\n    def __str__(self) -> str:\n        return self._box",
    "start_line": 69
  },
  {
    "file": "box.py",
    "type": "method",
    "class": "Box",
    "method": "substitute",
    "name": "substitute",
    "content": "class Box:\n    def substitute(self, options: \"ConsoleOptions\", safe: bool = True) -> \"Box\":\n        \"\"\"Substitute this box for another if it won't render due to platform issues.\n\n        Args:\n            options (ConsoleOptions): Console options used in rendering.\n            safe (bool, optional): Substitute this for another Box if there are known problems\n                displaying on the platform (currently only relevant on Windows). Default is True.\n\n        Returns:\n            Box: A different Box or the same Box.\n        \"\"\"\n        box = self\n        if options.legacy_windows and safe:\n            box = LEGACY_WINDOWS_SUBSTITUTIONS.get(box, box)\n        if options.ascii_only and not box.ascii:\n            box = ASCII\n        return box",
    "start_line": 72
  },
  {
    "file": "box.py",
    "type": "method",
    "class": "Box",
    "method": "get_plain_headed_box",
    "name": "get_plain_headed_box",
    "content": "class Box:\n    def get_plain_headed_box(self) -> \"Box\":\n        \"\"\"If this box uses special characters for the borders of the header, then\n        return the equivalent box that does not.\n\n        Returns:\n            Box: The most similar Box that doesn't use header-specific box characters.\n                If the current Box already satisfies this criterion, then it's returned.\n        \"\"\"\n        return PLAIN_HEADED_SUBSTITUTIONS.get(self, self)",
    "start_line": 90
  },
  {
    "file": "box.py",
    "type": "method",
    "class": "Box",
    "method": "get_top",
    "name": "get_top",
    "content": "class Box:\n    def get_top(self, widths: Iterable[int]) -> str:\n        \"\"\"Get the top of a simple box.\n\n        Args:\n            widths (List[int]): Widths of columns.\n\n        Returns:\n            str: A string of box characters.\n        \"\"\"\n\n        parts: List[str] = []\n        append = parts.append\n        append(self.top_left)\n        for last, width in loop_last(widths):\n            append(self.top * width)\n            if not last:\n                append(self.top_divider)\n        append(self.top_right)\n        return \"\".join(parts)",
    "start_line": 100
  },
  {
    "file": "box.py",
    "type": "method",
    "class": "Box",
    "method": "get_row",
    "name": "get_row",
    "content": "class Box:\n    def get_row(\n        self,\n        widths: Iterable[int],\n        level: Literal[\"head\", \"row\", \"foot\", \"mid\"] = \"row\",\n        edge: bool = True,\n    ) -> str:\n        \"\"\"Get the top of a simple box.\n\n        Args:\n            width (List[int]): Widths of columns.\n\n        Returns:\n            str: A string of box characters.\n        \"\"\"\n        if level == \"head\":\n            left = self.head_row_left\n            horizontal = self.head_row_horizontal\n            cross = self.head_row_cross\n            right = self.head_row_right\n        elif level == \"row\":\n            left = self.row_left\n            horizontal = self.row_horizontal\n            cross = self.row_cross\n            right = self.row_right\n        elif level == \"mid\":\n            left = self.mid_left\n            horizontal = \" \"\n            cross = self.mid_vertical\n            right = self.mid_right\n        elif level == \"foot\":\n            left = self.foot_row_left\n            horizontal = self.foot_row_horizontal\n            cross = self.foot_row_cross\n            right = self.foot_row_right\n        else:\n            raise ValueError(\"level must be 'head', 'row' or 'foot'\")\n\n        parts: List[str] = []\n        append = parts.append\n        if edge:\n            append(left)\n        for last, width in loop_last(widths):\n            append(horizontal * width)\n            if not last:\n                append(cross)\n        if edge:\n            append(right)\n        return \"\".join(parts)",
    "start_line": 120
  },
  {
    "file": "box.py",
    "type": "method",
    "class": "Box",
    "method": "get_bottom",
    "name": "get_bottom",
    "content": "class Box:\n    def get_bottom(self, widths: Iterable[int]) -> str:\n        \"\"\"Get the bottom of a simple box.\n\n        Args:\n            widths (List[int]): Widths of columns.\n\n        Returns:\n            str: A string of box characters.\n        \"\"\"\n\n        parts: List[str] = []\n        append = parts.append\n        append(self.bottom_left)\n        for last, width in loop_last(widths):\n            append(self.bottom * width)\n            if not last:\n                append(self.bottom_divider)\n        append(self.bottom_right)\n        return \"\".join(parts)",
    "start_line": 169
  },
  {
    "file": "box.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# fmt: off\nASCII: Box = Box(\n    \"+--+\\n\"\n    \"| ||\\n\"\n    \"|-+|\\n\"\n    \"| ||\\n\"\n    \"|-+|\\n\"\n    \"|-+|\\n\"\n    \"| ||\\n\"\n    \"+--+\\n\",",
    "start_line": 190
  },
  {
    "file": "box.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "ascii=True,\n)\nASCII2: Box = Box(\n    \"+-++\\n\"\n    \"| ||\\n\"\n    \"+-++\\n\"\n    \"| ||\\n\"\n    \"+-++\\n\"\n    \"+-++\\n\"\n    \"| ||\\n\"\n    \"+-++\\n\",\n    ascii=True,\n)\nASCII_DOUBLE_HEAD: Box = Box(\n    \"+-++\\n\"\n    \"| ||\\n\"\n    \"+=++\\n\"\n    \"| ||\\n\"\n    \"+-++\\n\"\n    \"+-++\\n\"\n    \"| ||\\n\"\n    \"+-++\\n\",\n    ascii=True,\n)\nSQUARE: Box = Box(\n    \"\\n\"\n    \" \\n\"\n    \"\\n\"\n    \" \\n\"\n    \"\\n\"\n    \"\\n\"\n    \" \\n\"\n    \"\\n\"\n)\nSQUARE_DOUBLE_HEAD: Box = Box(\n    \"\\n\"\n    \" \\n\"\n    \"\\n\"\n    \" \\n\"\n    \"\\n\"\n    \"\\n\"\n    \" \\n\"\n    \"\\n\"\n)\nMINIMAL: Box = Box(\n    \"   \\n\"\n    \"   \\n\"\n    \"\\n\"\n    \"   \\n\"\n    \"\\n\"\n    \"\\n\"\n    \"   \\n\"\n    \"   \\n\"\n)\nMINIMAL_HEAVY_HEAD: Box = Box(\n    \"   \\n\"\n    \"   \\n\"\n    \"\\n\"\n    \"   \\n\"\n    \"\\n\"\n    \"\\n\"\n    \"   \\n\"\n    \"   \\n\"\n)\nMINIMAL_DOUBLE_HEAD: Box = Box(\n    \"   \\n\"\n    \"   \\n\"\n    \"  \\n\"\n    \"   \\n\"\n    \"  \\n\"\n    \"  \\n\"\n    \"   \\n\"\n    \"   \\n\"\n)\nSIMPLE: Box = Box(\n    \"    \\n\"\n    \"    \\n\"\n    \"  \\n\"\n    \"    \\n\"\n    \"    \\n\"\n    \"  \\n\"\n    \"    \\n\"\n    \"    \\n\"\n)\nSIMPLE_HEAD: Box = Box(\n    \"    \\n\"\n    \"    \\n\"\n    \"  \\n\"\n    \"    \\n\"\n    \"    \\n\"\n    \"    \\n\"\n    \"    \\n\"\n    \"    \\n\"\n)\nSIMPLE_HEAVY: Box = Box(\n    \"    \\n\"\n    \"    \\n\"\n    \"  \\n\"\n    \"    \\n\"\n    \"    \\n\"\n    \"  \\n\"\n    \"    \\n\"\n    \"    \\n\"\n)\nHORIZONTALS: Box = Box(\n    \"  \\n\"\n    \"    \\n\"\n    \"  \\n\"\n    \"    \\n\"\n    \"  \\n\"\n    \"  \\n\"\n    \"    \\n\"\n    \"  \\n\"\n)\nROUNDED: Box = Box(\n    \"\\n\"\n    \" \\n\"\n    \"\\n\"\n    \" \\n\"\n    \"\\n\"\n    \"\\n\"\n    \" \\n\"\n    \"\\n\"\n)\nHEAVY: Box = Box(\n    \"\\n\"\n    \" \\n\"\n    \"\\n\"\n    \" \\n\"\n    \"\\n\"\n    \"\\n\"\n    \" \\n\"\n    \"\\n\"\n)\nHEAVY_EDGE: Box = Box(\n    \"\\n\"\n    \" \\n\"\n    \"\\n\"\n    \" \\n\"\n    \"\\n\"\n    \"\\n\"\n    \" \\n\"\n    \"\\n\"\n)\nHEAVY_HEAD: Box = Box(\n    \"\\n\"\n    \" \\n\"\n    \"\\n\"\n    \" \\n\"\n    \"\\n\"\n    \"\\n\"\n    \" \\n\"\n    \"\\n\"\n)\nDOUBLE: Box = Box(\n    \"\\n\"\n    \" \\n\"\n    \"\\n\"\n    \" \\n\"\n    \"\\n\"\n    \"\\n\"\n    \" \\n\"\n    \"\\n\"\n)\nDOUBLE_EDGE: Box = Box(\n    \"\\n\"\n    \" \\n\"\n    \"\\n\"\n    \" \\n\"\n    \"\\n\"\n    \"\\n\"\n    \" \\n\"\n    \"\\n\"\n)\nMARKDOWN: Box = Box(\n    \"    \\n\"\n    \"| ||\\n\"\n    \"|-||\\n\"\n    \"| ||\\n\"\n    \"|-||\\n\"\n    \"|-||\\n\"\n    \"| ||\\n\"\n    \"    \\n\",\n    ascii=True,\n)",
    "start_line": 200
  },
  {
    "file": "box.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# fmt: on\n# Map Boxes that don't render with raster fonts on to equivalent that do",
    "start_line": 407
  },
  {
    "file": "box.py",
    "type": "constants",
    "class": null,
    "method": null,
    "name": "module_constants",
    "content": "LEGACY_WINDOWS_SUBSTITUTIONS = {\n    ROUNDED: SQUARE,\n    MINIMAL_HEAVY_HEAD: MINIMAL,\n    SIMPLE_HEAVY: SIMPLE,\n    HEAVY: SQUARE,\n    HEAVY_EDGE: SQUARE,\n    HEAVY_HEAD: SQUARE,\n}",
    "start_line": 410
  },
  {
    "file": "box.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# Map headed boxes to their headerless equivalents",
    "start_line": 419
  },
  {
    "file": "box.py",
    "type": "constants",
    "class": null,
    "method": null,
    "name": "module_constants",
    "content": "PLAIN_HEADED_SUBSTITUTIONS = {\n    HEAVY_HEAD: SQUARE,\n    SQUARE_DOUBLE_HEAD: SQUARE,\n    MINIMAL_DOUBLE_HEAD: MINIMAL,\n    MINIMAL_HEAVY_HEAD: MINIMAL,\n    ASCII_DOUBLE_HEAD: ASCII2,\n}\nif __name__ == \"__main__\":  # pragma: no cover",
    "start_line": 420
  },
  {
    "file": "box.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from rich.columns import Columns\n    from rich.panel import Panel\n    from . import box as box\n    from .console import Console\n    from .table import Table\n    from .text import Text",
    "start_line": 430
  },
  {
    "file": "box.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(record=True)",
    "start_line": 438
  },
  {
    "file": "box.py",
    "type": "constants",
    "class": null,
    "method": null,
    "name": "module_constants",
    "content": "BOXES = [\n        \"ASCII\",\n        \"ASCII2\",\n        \"ASCII_DOUBLE_HEAD\",\n        \"SQUARE\",\n        \"SQUARE_DOUBLE_HEAD\",\n        \"MINIMAL\",\n        \"MINIMAL_HEAVY_HEAD\",\n        \"MINIMAL_DOUBLE_HEAD\",\n        \"SIMPLE\",\n        \"SIMPLE_HEAD\",\n        \"SIMPLE_HEAVY\",\n        \"HORIZONTALS\",\n        \"ROUNDED\",\n        \"HEAVY\",\n        \"HEAVY_EDGE\",\n        \"HEAVY_HEAD\",\n        \"DOUBLE\",\n        \"DOUBLE_EDGE\",\n        \"MARKDOWN\",\n    ]\n    console.print(Panel(\"[bold green]Box Constants\", style=\"green\"), justify=\"center\")\n    console.print()",
    "start_line": 440
  },
  {
    "file": "box.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "columns = Columns(expand=True, padding=2)\n    for box_name in sorted(BOXES):\n        table = Table(\n            show_footer=True, style=\"dim\", border_style=\"not dim\", expand=True\n        )\n        table.add_column(\"Header 1\", \"Footer 1\")\n        table.add_column(\"Header 2\", \"Footer 2\")\n        table.add_row(\"Cell\", \"Cell\")\n        table.add_row(\"Cell\", \"Cell\")\n        table.box = getattr(box, box_name)\n        table.title = Text(f\"box.{box_name}\", style=\"magenta\")\n        columns.add_renderable(table)\n    console.print(columns)",
    "start_line": 465
  },
  {
    "file": "box.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# console.save_svg(\"box.svg\")",
    "start_line": 479
  },
  {
    "file": "box.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "import sys\nfrom typing import TYPE_CHECKING, Iterable, List\n\nif sys.version_info >= (3, 8):\n    from typing import Literal\nelse:\n    from typing_extensions import Literal  # pragma: no cover\n\n\nfrom ._loop import loop_last\n\nif TYPE_CHECKING:\n    from rich.console import ConsoleOptions\n\n\nclass Box:\n    \"\"\"Defines characters to render boxes.\n\n     top\n      head\n     head_row\n      mid\n     row\n     foot_row\n      foot\n     bottom\n\n    Args:\n        box (str): Characters making up box.\n        ascii (bool, optional): True if this box uses ascii characters only. Default is False.\n    \"\"\"\n\n    def __init__(self, box: str, *, ascii: bool = False) -> None:\n        self._box = box\n        self.ascii = ascii\n        line1, line2, line3, line4, line5, line6, line7, line8 = box.splitlines()\n        # top\n        self.top_left, self.top, self.top_divider, self.top_right = iter(line1)\n        # head\n        self.head_left, _, self.head_vertical, self.head_right = iter(line2)\n        # head_row\n        (\n            self.head_row_left,\n            self.head_row_horizontal,\n            self.head_row_cross,\n            self.head_row_right,\n        ) = iter(line3)\n\n        # mid\n        self.mid_left, _, self.mid_vertical, self.mid_right = iter(line4)\n        # row\n        self.row_left, self.row_horizontal, self.row_cross, self.row_right = iter(line5)\n        # foot_row\n        (\n            self.foot_row_left,\n            self.foot_row_horizontal,\n            self.foot_row_cross,\n            self.foot_row_right,\n        ) = iter(line6)\n        # foot\n        self.foot_left, _, self.foot_vertical, self.foot_right = iter(line7)\n        # bottom\n        self.bottom_left, self.bottom, self.bottom_divider, self.bottom_right = iter(\n            line8\n        )\n\n    def __repr__(self) -> str:\n        return \"Box(...)\"\n\n    def __str__(self) -> str:\n        return self._box\n\n    def substitute(self, options: \"ConsoleOptions\", safe: bool = True) -> \"Box\":\n        \"\"\"Substitute this box for another if it won't render due to platform issues.\n\n        Args:\n            options (ConsoleOptions): Console options used in rendering.\n            safe (bool, optional): Substitute this for another Box if there are known problems\n                displaying on the platform (currently only relevant on Windows). Default is True.\n\n        Returns:\n            Box: A different Box or the same Box.\n        \"\"\"\n        box = self\n        if options.legacy_windows and safe:\n            box = LEGACY_WINDOWS_SUBSTITUTIONS.get(box, box)\n        if options.ascii_only and not box.ascii:\n            box = ASCII\n        return box\n\n    def get_plain_headed_box(self) -> \"Box\":\n        \"\"\"If this box uses special characters for the borders of the header, then\n        return the equivalent box that does not.\n\n        Returns:\n            Box: The most similar Box that doesn't use header-specific box characters.\n                If the current Box already satisfies this criterion, then it's returned.\n        \"\"\"\n        return PLAIN_HEADED_SUBSTITUTIONS.get(self, self)\n\n    def get_top(self, widths: Iterable[int]) -> str:\n        \"\"\"Get the top of a simple box.\n\n        Args:\n            widths (List[int]): Widths of columns.\n\n        Returns:\n            str: A string of box characters.\n        \"\"\"\n\n        parts: List[str] = []\n        append = parts.append\n        append(self.top_left)\n        for last, width in loop_last(widths):\n            append(self.top * width)\n            if not last:\n                append(self.top_divider)\n        append(self.top_right)\n        return \"\".join(parts)\n\n    def get_row(\n        self,\n        widths: Iterable[int],\n        level: Literal[\"head\", \"row\", \"foot\", \"mid\"] = \"row\",\n        edge: bool = True,\n    ) -> str:\n        \"\"\"Get the top of a simple box.\n\n        Args:\n            width (List[int]): Widths of columns.\n\n        Returns:\n            str: A string of box characters.\n        \"\"\"\n        if level == \"head\":\n            left = self.head_row_left\n            horizontal = self.head_row_horizontal\n            cross = self.head_row_cross\n            right = self.head_row_right\n        elif level == \"row\":\n            left = self.row_left\n            horizontal = self.row_horizontal\n            cross = self.row_cross\n            right = self.row_right\n        elif level == \"mid\":\n            left = self.mid_left\n            horizontal = \" \"\n            cross = self.mid_vertical\n            right = self.mid_right\n        elif level == \"foot\":\n            left = self.foot_row_left\n            horizontal = self.foot_row_horizontal\n            cross = self.foot_row_cross\n            right = self.foot_row_right\n        else:\n            raise ValueError(\"level must be 'head', 'row' or 'foot'\")\n\n        parts: List[str] = []\n        append = parts.append\n        if edge:\n            append(left)\n        for last, width in loop_last(widths):\n            append(horizontal * width)\n            if not last:\n                append(cross)\n        if edge:\n            append(right)\n        return \"\".join(parts)\n\n    def get_bottom(self, widths: Iterable[int]) -> str:\n        \"\"\"Get the bottom of a simple box.\n\n        Args:\n            widths (List[int]): Widths of columns.\n\n        Returns:\n            str: A string of box characters.\n        \"\"\"\n\n        parts: List[str] = []\n        append = parts.append\n        append(self.bottom_left)\n        for last, width in loop_last(widths):\n            append(self.bottom * width)\n            if not last:\n                append(self.bottom_divider)\n        append(self.bottom_right)\n        return \"\".join(parts)\n\n\n# fmt: off\nASCII: Box = Box(\n    \"+--+\\n\"\n    \"| ||\\n\"\n    \"|-+|\\n\"\n    \"| ||\\n\"\n    \"|-+|\\n\"\n    \"|-+|\\n\"\n    \"| ||\\n\"\n    \"+--+\\n\",\n    ascii=True,\n)\n\nASCII2: Box = Box(\n    \"+-++\\n\"\n    \"| ||\\n\"\n    \"+-++\\n\"\n    \"| ||\\n\"\n    \"+-++\\n\"\n    \"+-++\\n\"\n    \"| ||\\n\"\n    \"+-++\\n\",\n    ascii=True,\n)\n\nASCII_DOUBLE_HEAD: Box = Box(\n    \"+-++\\n\"\n    \"| ||\\n\"\n    \"+=++\\n\"\n    \"| ||\\n\"\n    \"+-++\\n\"\n    \"+-++\\n\"\n    \"| ||\\n\"\n    \"+-++\\n\",\n    ascii=True,\n)\n\nSQUARE: Box = Box(\n    \"\\n\"\n    \" \\n\"\n    \"\\n\"\n    \" \\n\"\n    \"\\n\"\n    \"\\n\"\n    \" \\n\"\n    \"\\n\"\n)\n\nSQUARE_DOUBLE_HEAD: Box = Box(\n    \"\\n\"\n    \" \\n\"\n    \"\\n\"\n    \" \\n\"\n    \"\\n\"\n    \"\\n\"\n    \" \\n\"\n    \"\\n\"\n)\n\nMINIMAL: Box = Box(\n    \"   \\n\"\n    \"   \\n\"\n    \"\\n\"\n    \"   \\n\"\n    \"\\n\"\n    \"\\n\"\n    \"   \\n\"\n    \"   \\n\"\n)\n\n\nMINIMAL_HEAVY_HEAD: Box = Box(\n    \"   \\n\"\n    \"   \\n\"\n    \"\\n\"\n    \"   \\n\"\n    \"\\n\"\n    \"\\n\"\n    \"   \\n\"\n    \"   \\n\"\n)\n\nMINIMAL_DOUBLE_HEAD: Box = Box(\n    \"   \\n\"\n    \"   \\n\"\n    \"  \\n\"\n    \"   \\n\"\n    \"  \\n\"\n    \"  \\n\"\n    \"   \\n\"\n    \"   \\n\"\n)\n\n\nSIMPLE: Box = Box(\n    \"    \\n\"\n    \"    \\n\"\n    \"  \\n\"\n    \"    \\n\"\n    \"    \\n\"\n    \"  \\n\"\n    \"    \\n\"\n    \"    \\n\"\n)\n\nSIMPLE_HEAD: Box = Box(\n    \"    \\n\"\n    \"    \\n\"\n    \"  \\n\"\n    \"    \\n\"\n    \"    \\n\"\n    \"    \\n\"\n    \"    \\n\"\n    \"    \\n\"\n)\n\n\nSIMPLE_HEAVY: Box = Box(\n    \"    \\n\"\n    \"    \\n\"\n    \"  \\n\"\n    \"    \\n\"\n    \"    \\n\"\n    \"  \\n\"\n    \"    \\n\"\n    \"    \\n\"\n)\n\n\nHORIZONTALS: Box = Box(\n    \"  \\n\"\n    \"    \\n\"\n    \"  \\n\"\n    \"    \\n\"\n    \"  \\n\"\n    \"  \\n\"\n    \"    \\n\"\n    \"  \\n\"\n)\n\nROUNDED: Box = Box(\n    \"\\n\"\n    \" \\n\"\n    \"\\n\"\n    \" \\n\"\n    \"\\n\"\n    \"\\n\"\n    \" \\n\"\n    \"\\n\"\n)\n\nHEAVY: Box = Box(\n    \"\\n\"\n    \" \\n\"\n    \"\\n\"\n    \" \\n\"\n    \"\\n\"\n    \"\\n\"\n    \" \\n\"\n    \"\\n\"\n)\n\nHEAVY_EDGE: Box = Box(\n    \"\\n\"\n    \" \\n\"\n    \"\\n\"\n    \" \\n\"\n    \"\\n\"\n    \"\\n\"\n    \" \\n\"\n    \"\\n\"\n)\n\nHEAVY_HEAD: Box = Box(\n    \"\\n\"\n    \" \\n\"\n    \"\\n\"\n    \" \\n\"\n    \"\\n\"\n    \"\\n\"\n    \" \\n\"\n    \"\\n\"\n)\n\nDOUBLE: Box = Box(\n    \"\\n\"\n    \" \\n\"\n    \"\\n\"\n    \" \\n\"\n    \"\\n\"\n    \"\\n\"\n    \" \\n\"\n    \"\\n\"\n)\n\nDOUBLE_EDGE: Box = Box(\n    \"\\n\"\n    \" \\n\"\n    \"\\n\"\n    \" \\n\"\n    \"\\n\"\n    \"\\n\"\n    \" \\n\"\n    \"\\n\"\n)\n\nMARKDOWN: Box = Box(\n    \"    \\n\"\n    \"| ||\\n\"\n    \"|-||\\n\"\n    \"| ||\\n\"\n    \"|-||\\n\"\n    \"|-||\\n\"\n    \"| ||\\n\"\n    \"    \\n\",\n    ascii=True,\n)\n# fmt: on\n\n# Map Boxes that don't render with raster fonts on to equivalent that do\nLEGACY_WINDOWS_SUBSTITUTIONS = {\n    ROUNDED: SQUARE,\n    MINIMAL_HEAVY_HEAD: MINIMAL,\n    SIMPLE_HEAVY: SIMPLE,\n    HEAVY: SQUARE,\n    HEAVY_EDGE: SQUARE,\n    HEAVY_HEAD: SQUARE,\n}\n\n# Map headed boxes to their headerless equivalents\nPLAIN_HEADED_SUBSTITUTIONS = {\n    HEAVY_HEAD: SQUARE,\n    SQUARE_DOUBLE_HEAD: SQUARE,\n    MINIMAL_DOUBLE_HEAD: MINIMAL,\n    MINIMAL_HEAVY_HEAD: MINIMAL,\n    ASCII_DOUBLE_HEAD: ASCII2,\n}\n\n\nif __name__ == \"__main__\":  # pragma: no cover\n    from rich.columns import Columns\n    from rich.panel import Panel\n\n    from . import box as box\n    from .console import Console\n    from .table import Table\n    from .text import Text\n\n    console = Console(record=True)\n\n    BOXES = [\n        \"ASCII\",\n        \"ASCII2\",\n        \"ASCII_DOUBLE_HEAD\",\n        \"SQUARE\",\n        \"SQUARE_DOUBLE_HEAD\",\n        \"MINIMAL\",\n        \"MINIMAL_HEAVY_HEAD\",\n        \"MINIMAL_DOUBLE_HEAD\",\n        \"SIMPLE\",\n        \"SIMPLE_HEAD\",\n        \"SIMPLE_HEAVY\",\n        \"HORIZONTALS\",\n        \"ROUNDED\",\n        \"HEAVY\",\n        \"HEAVY_EDGE\",\n        \"HEAVY_HEAD\",\n        \"DOUBLE\",\n        \"DOUBLE_EDGE\",\n        \"MARKDOWN\",\n    ]\n\n    console.print(Panel(\"[bold green]Box Constants\", style=\"green\"), justify=\"center\")\n    console.print()\n\n    columns = Columns(expand=True, padding=2)\n    for box_name in sorted(BOXES):\n        table = Table(\n            show_footer=True, style=\"dim\", border_style=\"not dim\", expand=True\n        )\n        table.add_column(\"Header 1\", \"Footer 1\")\n        table.add_column(\"Header 2\", \"Footer 2\")\n        table.add_row(\"Cell\", \"Cell\")\n        table.add_row(\"Cell\", \"Cell\")\n        table.box = getattr(box, box_name)\n        table.title = Text(f\"box.{box_name}\", style=\"magenta\")\n        columns.add_renderable(table)\n    console.print(columns)\n\n    # console.save_svg(\"box.svg\")\n",
    "start_line": 0
  },
  {
    "file": "color.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "import re\nimport sys\nfrom colorsys import rgb_to_hls\nfrom enum import IntEnum\nfrom functools import lru_cache\nfrom typing import TYPE_CHECKING, NamedTuple, Optional, Tuple\nfrom ._palettes import EIGHT_BIT_PALETTE, STANDARD_PALETTE, WINDOWS_PALETTE\nfrom .color_triplet import ColorTriplet\nfrom .repr import Result, rich_repr\nfrom .terminal_theme import DEFAULT_TERMINAL_THEME\nif TYPE_CHECKING:  # pragma: no cover\n    from .terminal_theme import TerminalTheme\n    from .text import Text",
    "start_line": 0
  },
  {
    "file": "color.py",
    "type": "constants",
    "class": null,
    "method": null,
    "name": "module_constants",
    "content": "WINDOWS = sys.platform == \"win32\"",
    "start_line": 17
  },
  {
    "file": "color.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "ColorSystem",
    "content": "class ColorSystem(IntEnum):\n    \"\"\"One of the 3 color system supported by terminals.\"\"\"",
    "start_line": 20
  },
  {
    "file": "color.py",
    "type": "constants",
    "class": null,
    "method": null,
    "name": "module_constants",
    "content": "STANDARD = 1\n    EIGHT_BIT = 2\n    TRUECOLOR = 3\n    WINDOWS = 4",
    "start_line": 23
  },
  {
    "file": "color.py",
    "type": "method",
    "class": "ColorSystem",
    "method": "__repr__",
    "name": "__repr__",
    "content": "class ColorSystem:\n    def __repr__(self) -> str:\n        return f\"ColorSystem.{self.name}\"",
    "start_line": 28
  },
  {
    "file": "color.py",
    "type": "method",
    "class": "ColorSystem",
    "method": "__str__",
    "name": "__str__",
    "content": "class ColorSystem:\n    def __str__(self) -> str:\n        return repr(self)",
    "start_line": 31
  },
  {
    "file": "color.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "ColorType",
    "content": "class ColorType(IntEnum):\n    \"\"\"Type of color stored in Color class.\"\"\"",
    "start_line": 35
  },
  {
    "file": "color.py",
    "type": "constants",
    "class": null,
    "method": null,
    "name": "module_constants",
    "content": "DEFAULT = 0\n    STANDARD = 1\n    EIGHT_BIT = 2\n    TRUECOLOR = 3\n    WINDOWS = 4",
    "start_line": 38
  },
  {
    "file": "color.py",
    "type": "method",
    "class": "ColorType",
    "method": "__repr__",
    "name": "__repr__",
    "content": "class ColorType:\n    def __repr__(self) -> str:\n        return f\"ColorType.{self.name}\"",
    "start_line": 44
  },
  {
    "file": "color.py",
    "type": "constants",
    "class": null,
    "method": null,
    "name": "module_constants",
    "content": "ANSI_COLOR_NAMES = {\n    \"black\": 0,\n    \"red\": 1,\n    \"green\": 2,\n    \"yellow\": 3,\n    \"blue\": 4,\n    \"magenta\": 5,\n    \"cyan\": 6,\n    \"white\": 7,\n    \"bright_black\": 8,\n    \"bright_red\": 9,\n    \"bright_green\": 10,\n    \"bright_yellow\": 11,\n    \"bright_blue\": 12,\n    \"bright_magenta\": 13,\n    \"bright_cyan\": 14,\n    \"bright_white\": 15,\n    \"grey0\": 16,\n    \"gray0\": 16,\n    \"navy_blue\": 17,\n    \"dark_blue\": 18,\n    \"blue3\": 20,\n    \"blue1\": 21,\n    \"dark_green\": 22,\n    \"deep_sky_blue4\": 25,\n    \"dodger_blue3\": 26,\n    \"dodger_blue2\": 27,\n    \"green4\": 28,\n    \"spring_green4\": 29,\n    \"turquoise4\": 30,\n    \"deep_sky_blue3\": 32,\n    \"dodger_blue1\": 33,\n    \"green3\": 40,\n    \"spring_green3\": 41,\n    \"dark_cyan\": 36,\n    \"light_sea_green\": 37,\n    \"deep_sky_blue2\": 38,\n    \"deep_sky_blue1\": 39,\n    \"spring_green2\": 47,\n    \"cyan3\": 43,\n    \"dark_turquoise\": 44,\n    \"turquoise2\": 45,\n    \"green1\": 46,\n    \"spring_green1\": 48,\n    \"medium_spring_green\": 49,\n    \"cyan2\": 50,\n    \"cyan1\": 51,\n    \"dark_red\": 88,\n    \"deep_pink4\": 125,\n    \"purple4\": 55,\n    \"purple3\": 56,\n    \"blue_violet\": 57,\n    \"orange4\": 94,\n    \"grey37\": 59,\n    \"gray37\": 59,\n    \"medium_purple4\": 60,\n    \"slate_blue3\": 62,\n    \"royal_blue1\": 63,\n    \"chartreuse4\": 64,\n    \"dark_sea_green4\": 71,\n    \"pale_turquoise4\": 66,\n    \"steel_blue\": 67,\n    \"steel_blue3\": 68,\n    \"cornflower_blue\": 69,\n    \"chartreuse3\": 76,\n    \"cadet_blue\": 73,\n    \"sky_blue3\": 74,\n    \"steel_blue1\": 81,\n    \"pale_green3\": 114,\n    \"sea_green3\": 78,\n    \"aquamarine3\": 79,\n    \"medium_turquoise\": 80,\n    \"chartreuse2\": 112,\n    \"sea_green2\": 83,\n    \"sea_green1\": 85,\n    \"aquamarine1\": 122,\n    \"dark_slate_gray2\": 87,\n    \"dark_magenta\": 91,\n    \"dark_violet\": 128,\n    \"purple\": 129,\n    \"light_pink4\": 95,\n    \"plum4\": 96,\n    \"medium_purple3\": 98,\n    \"slate_blue1\": 99,\n    \"yellow4\": 106,\n    \"wheat4\": 101,\n    \"grey53\": 102,\n    \"gray53\": 102,\n    \"light_slate_grey\": 103,\n    \"light_slate_gray\": 103,\n    \"medium_purple\": 104,\n    \"light_slate_blue\": 105,\n    \"dark_olive_green3\": 149,\n    \"dark_sea_green\": 108,\n    \"light_sky_blue3\": 110,\n    \"sky_blue2\": 111,\n    \"dark_sea_green3\": 150,\n    \"dark_slate_gray3\": 116,\n    \"sky_blue1\": 117,\n    \"chartreuse1\": 118,\n    \"light_green\": 120,\n    \"pale_green1\": 156,\n    \"dark_slate_gray1\": 123,\n    \"red3\": 160,\n    \"medium_violet_red\": 126,\n    \"magenta3\": 164,\n    \"dark_orange3\": 166,\n    \"indian_red\": 167,\n    \"hot_pink3\": 168,\n    \"medium_orchid3\": 133,\n    \"medium_orchid\": 134,\n    \"medium_purple2\": 140,\n    \"dark_goldenrod\": 136,\n    \"light_salmon3\": 173,\n    \"rosy_brown\": 138,\n    \"grey63\": 139,\n    \"gray63\": 139,\n    \"medium_purple1\": 141,\n    \"gold3\": 178,\n    \"dark_khaki\": 143,\n    \"navajo_white3\": 144,\n    \"grey69\": 145,\n    \"gray69\": 145,\n    \"light_steel_blue3\": 146,\n    \"light_steel_blue\": 147,\n    \"yellow3\": 184,\n    \"dark_sea_green2\": 157,\n    \"light_cyan3\": 152,\n    \"light_sky_blue1\": 153,\n    \"green_yellow\": 154,\n    \"dark_olive_green2\": 155,\n    \"dark_sea_green1\": 193,\n    \"pale_turquoise1\": 159,\n    \"deep_pink3\": 162,\n    \"magenta2\": 200,\n    \"hot_pink2\": 169,\n    \"orchid\": 170,\n    \"medium_orchid1\": 207,\n    \"orange3\": 172,\n    \"light_pink3\": 174,\n    \"pink3\": 175,\n    \"plum3\": 176,\n    \"violet\": 177,\n    \"light_goldenrod3\": 179,\n    \"tan\": 180,\n    \"misty_rose3\": 181,\n    \"thistle3\": 182,\n    \"plum2\": 183,\n    \"khaki3\": 185,\n    \"light_goldenrod2\": 222,\n    \"light_yellow3\": 187,\n    \"grey84\": 188,\n    \"gray84\": 188,\n    \"light_steel_blue1\": 189,\n    \"yellow2\": 190,\n    \"dark_olive_green1\": 192,\n    \"honeydew2\": 194,\n    \"light_cyan1\": 195,\n    \"red1\": 196,\n    \"deep_pink2\": 197,\n    \"deep_pink1\": 199,\n    \"magenta1\": 201,\n    \"orange_red1\": 202,\n    \"indian_red1\": 204,\n    \"hot_pink\": 206,\n    \"dark_orange\": 208,\n    \"salmon1\": 209,\n    \"light_coral\": 210,\n    \"pale_violet_red1\": 211,\n    \"orchid2\": 212,\n    \"orchid1\": 213,\n    \"orange1\": 214,\n    \"sandy_brown\": 215,\n    \"light_salmon1\": 216,\n    \"light_pink1\": 217,\n    \"pink1\": 218,\n    \"plum1\": 219,\n    \"gold1\": 220,\n    \"navajo_white1\": 223,\n    \"misty_rose1\": 224,\n    \"thistle1\": 225,\n    \"yellow1\": 226,\n    \"light_goldenrod1\": 227,\n    \"khaki1\": 228,\n    \"wheat1\": 229,\n    \"cornsilk1\": 230,\n    \"grey100\": 231,\n    \"gray100\": 231,\n    \"grey3\": 232,\n    \"gray3\": 232,\n    \"grey7\": 233,\n    \"gray7\": 233,\n    \"grey11\": 234,\n    \"gray11\": 234,\n    \"grey15\": 235,\n    \"gray15\": 235,\n    \"grey19\": 236,\n    \"gray19\": 236,\n    \"grey23\": 237,\n    \"gray23\": 237,\n    \"grey27\": 238,\n    \"gray27\": 238,\n    \"grey30\": 239,\n    \"gray30\": 239,\n    \"grey35\": 240,\n    \"gray35\": 240,\n    \"grey39\": 241,\n    \"gray39\": 241,\n    \"grey42\": 242,\n    \"gray42\": 242,\n    \"grey46\": 243,\n    \"gray46\": 243,\n    \"grey50\": 244,\n    \"gray50\": 244,\n    \"grey54\": 245,\n    \"gray54\": 245,\n    \"grey58\": 246,\n    \"gray58\": 246,\n    \"grey62\": 247,\n    \"gray62\": 247,\n    \"grey66\": 248,\n    \"gray66\": 248,\n    \"grey70\": 249,\n    \"gray70\": 249,\n    \"grey74\": 250,\n    \"gray74\": 250,\n    \"grey78\": 251,\n    \"gray78\": 251,\n    \"grey82\": 252,\n    \"gray82\": 252,\n    \"grey85\": 253,\n    \"gray85\": 253,\n    \"grey89\": 254,\n    \"gray89\": 254,\n    \"grey93\": 255,\n    \"gray93\": 255,\n}",
    "start_line": 48
  },
  {
    "file": "color.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "ColorParseError",
    "content": "class ColorParseError(Exception):\n    \"\"\"The color could not be parsed.\"\"\"",
    "start_line": 287
  },
  {
    "file": "color.py",
    "type": "constants",
    "class": null,
    "method": null,
    "name": "module_constants",
    "content": "RE_COLOR = re.compile(\n    r\"\"\"^\n\\#([0-9a-f]{6})$|\ncolor\\(([0-9]{1,3})\\)$|\nrgb\\(([\\d\\s,]+)\\)$\n\"\"\",\n    re.VERBOSE,\n)\n@rich_repr",
    "start_line": 291
  },
  {
    "file": "color.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "Color",
    "content": "class Color(NamedTuple):\n    \"\"\"Terminal color definition.\"\"\"\n\n    name: str\n    \"\"\"The name of the color (typically the input to Color.parse).\"\"\"\n    type: ColorType\n    \"\"\"The type of the color.\"\"\"\n    number: Optional[int] = None\n    \"\"\"The color number, if a standard color, or None.\"\"\"\n    triplet: Optional[ColorTriplet] = None\n    \"\"\"A triplet of color components, if an RGB color.\"\"\"",
    "start_line": 302
  },
  {
    "file": "color.py",
    "type": "method",
    "class": "Color",
    "method": "__rich__",
    "name": "__rich__",
    "content": "class Color:\n    def __rich__(self) -> \"Text\":\n        \"\"\"Displays the actual color if Rich printed.\"\"\"",
    "start_line": 314
  },
  {
    "file": "color.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from .style import Style\n        from .text import Text\n        return Text.assemble(\n            f\"<color {self.name!r} ({self.type.name.lower()})\",\n            (\"\", Style(color=self)),\n            \" >\",\n        )",
    "start_line": 316
  },
  {
    "file": "color.py",
    "type": "method",
    "class": "Color",
    "method": "__rich_repr__",
    "name": "__rich_repr__",
    "content": "class Color:\n    def __rich_repr__(self) -> Result:\n        yield self.name\n        yield self.type\n        yield \"number\", self.number, None\n        yield \"triplet\", self.triplet, None\n\n    @property",
    "start_line": 325
  },
  {
    "file": "color.py",
    "type": "method",
    "class": "Color",
    "method": "system",
    "name": "system",
    "content": "class Color:\n    def system(self) -> ColorSystem:\n        \"\"\"Get the native color system for this color.\"\"\"\n        if self.type == ColorType.DEFAULT:\n            return ColorSystem.STANDARD\n        return ColorSystem(int(self.type))\n\n    @property",
    "start_line": 332
  },
  {
    "file": "color.py",
    "type": "method",
    "class": "Color",
    "method": "is_system_defined",
    "name": "is_system_defined",
    "content": "class Color:\n    def is_system_defined(self) -> bool:\n        \"\"\"Check if the color is ultimately defined by the system.\"\"\"\n        return self.system not in (ColorSystem.EIGHT_BIT, ColorSystem.TRUECOLOR)\n\n    @property",
    "start_line": 339
  },
  {
    "file": "color.py",
    "type": "method",
    "class": "Color",
    "method": "is_default",
    "name": "is_default",
    "content": "class Color:\n    def is_default(self) -> bool:\n        \"\"\"Check if the color is a default color.\"\"\"\n        return self.type == ColorType.DEFAULT",
    "start_line": 344
  },
  {
    "file": "color.py",
    "type": "method",
    "class": "Color",
    "method": "get_truecolor",
    "name": "get_truecolor",
    "content": "class Color:\n    def get_truecolor(\n        self, theme: Optional[\"TerminalTheme\"] = None, foreground: bool = True\n    ) -> ColorTriplet:\n        \"\"\"Get an equivalent color triplet for this color.\n\n        Args:\n            theme (TerminalTheme, optional): Optional terminal theme, or None to use default. Defaults to None.\n            foreground (bool, optional): True for a foreground color, or False for background. Defaults to True.\n\n        Returns:\n            ColorTriplet: A color triplet containing RGB components.\n        \"\"\"\n\n        if theme is None:\n            theme = DEFAULT_TERMINAL_THEME\n        if self.type == ColorType.TRUECOLOR:\n            assert self.triplet is not None\n            return self.triplet\n        elif self.type == ColorType.EIGHT_BIT:\n            assert self.number is not None\n            return EIGHT_BIT_PALETTE[self.number]\n        elif self.type == ColorType.STANDARD:\n            assert self.number is not None\n            return theme.ansi_colors[self.number]\n        elif self.type == ColorType.WINDOWS:\n            assert self.number is not None\n            return WINDOWS_PALETTE[self.number]\n        else:  # self.type == ColorType.DEFAULT:\n            assert self.number is None\n            return theme.foreground_color if foreground else theme.background_color\n\n    @classmethod",
    "start_line": 348
  },
  {
    "file": "color.py",
    "type": "method",
    "class": "Color",
    "method": "from_ansi",
    "name": "from_ansi",
    "content": "class Color:\n    def from_ansi(cls, number: int) -> \"Color\":\n        \"\"\"Create a Color number from it's 8-bit ansi number.\n\n        Args:\n            number (int): A number between 0-255 inclusive.\n\n        Returns:\n            Color: A new Color instance.\n        \"\"\"\n        return cls(\n            name=f\"color({number})\",\n            type=(ColorType.STANDARD if number < 16 else ColorType.EIGHT_BIT),\n            number=number,\n        )\n\n    @classmethod",
    "start_line": 380
  },
  {
    "file": "color.py",
    "type": "method",
    "class": "Color",
    "method": "from_triplet",
    "name": "from_triplet",
    "content": "class Color:\n    def from_triplet(cls, triplet: \"ColorTriplet\") -> \"Color\":\n        \"\"\"Create a truecolor RGB color from a triplet of values.\n\n        Args:\n            triplet (ColorTriplet): A color triplet containing red, green and blue components.\n\n        Returns:\n            Color: A new color object.\n        \"\"\"\n        return cls(name=triplet.hex, type=ColorType.TRUECOLOR, triplet=triplet)\n\n    @classmethod",
    "start_line": 396
  },
  {
    "file": "color.py",
    "type": "method",
    "class": "Color",
    "method": "from_rgb",
    "name": "from_rgb",
    "content": "class Color:\n    def from_rgb(cls, red: float, green: float, blue: float) -> \"Color\":\n        \"\"\"Create a truecolor from three color components in the range(0->255).\n\n        Args:\n            red (float): Red component in range 0-255.\n            green (float): Green component in range 0-255.\n            blue (float): Blue component in range 0-255.\n\n        Returns:\n            Color: A new color object.\n        \"\"\"\n        return cls.from_triplet(ColorTriplet(int(red), int(green), int(blue)))\n\n    @classmethod",
    "start_line": 408
  },
  {
    "file": "color.py",
    "type": "method",
    "class": "Color",
    "method": "default",
    "name": "default",
    "content": "class Color:\n    def default(cls) -> \"Color\":\n        \"\"\"Get a Color instance representing the default color.\n\n        Returns:\n            Color: Default color.\n        \"\"\"\n        return cls(name=\"default\", type=ColorType.DEFAULT)\n\n    @classmethod\n    @lru_cache(maxsize=1024)",
    "start_line": 422
  },
  {
    "file": "color.py",
    "type": "method",
    "class": "Color",
    "method": "parse",
    "name": "parse",
    "content": "class Color:\n    def parse(cls, color: str) -> \"Color\":\n        \"\"\"Parse a color definition.\"\"\"\n        original_color = color\n        color = color.lower().strip()\n\n        if color == \"default\":\n            return cls(color, type=ColorType.DEFAULT)\n\n        color_number = ANSI_COLOR_NAMES.get(color)\n        if color_number is not None:\n            return cls(\n                color,\n                type=(ColorType.STANDARD if color_number < 16 else ColorType.EIGHT_BIT),\n                number=color_number,\n            )\n\n        color_match = RE_COLOR.match(color)\n        if color_match is None:\n            raise ColorParseError(f\"{original_color!r} is not a valid color\")\n\n        color_24, color_8, color_rgb = color_match.groups()\n        if color_24:\n            triplet = ColorTriplet(\n                int(color_24[0:2], 16), int(color_24[2:4], 16), int(color_24[4:6], 16)\n            )\n            return cls(color, ColorType.TRUECOLOR, triplet=triplet)\n\n        elif color_8:\n            number = int(color_8)\n            if number > 255:\n                raise ColorParseError(f\"color number must be <= 255 in {color!r}\")\n            return cls(\n                color,\n                type=(ColorType.STANDARD if number < 16 else ColorType.EIGHT_BIT),\n                number=number,\n            )\n\n        else:  #  color_rgb:\n            components = color_rgb.split(\",\")\n            if len(components) != 3:\n                raise ColorParseError(\n                    f\"expected three components in {original_color!r}\"\n                )\n            red, green, blue = components\n            triplet = ColorTriplet(int(red), int(green), int(blue))\n            if not all(component <= 255 for component in triplet):\n                raise ColorParseError(\n                    f\"color components must be <= 255 in {original_color!r}\"\n                )\n            return cls(color, ColorType.TRUECOLOR, triplet=triplet)\n\n    @lru_cache(maxsize=1024)",
    "start_line": 432
  },
  {
    "file": "color.py",
    "type": "method",
    "class": "Color",
    "method": "get_ansi_codes",
    "name": "get_ansi_codes",
    "content": "class Color:\n    def get_ansi_codes(self, foreground: bool = True) -> Tuple[str, ...]:\n        \"\"\"Get the ANSI escape codes for this color.\"\"\"\n        _type = self.type\n        if _type == ColorType.DEFAULT:\n            return (\"39\" if foreground else \"49\",)\n\n        elif _type == ColorType.WINDOWS:\n            number = self.number\n            assert number is not None\n            fore, back = (30, 40) if number < 8 else (82, 92)\n            return (str(fore + number if foreground else back + number),)\n\n        elif _type == ColorType.STANDARD:\n            number = self.number\n            assert number is not None\n            fore, back = (30, 40) if number < 8 else (82, 92)\n            return (str(fore + number if foreground else back + number),)\n\n        elif _type == ColorType.EIGHT_BIT:\n            assert self.number is not None\n            return (\"38\" if foreground else \"48\", \"5\", str(self.number))\n\n        else:  # self.standard == ColorStandard.TRUECOLOR:\n            assert self.triplet is not None\n            red, green, blue = self.triplet\n            return (\"38\" if foreground else \"48\", \"2\", str(red), str(green), str(blue))\n\n    @lru_cache(maxsize=1024)",
    "start_line": 484
  },
  {
    "file": "color.py",
    "type": "method",
    "class": "Color",
    "method": "downgrade",
    "name": "downgrade",
    "content": "class Color:\n    def downgrade(self, system: ColorSystem) -> \"Color\":\n        \"\"\"Downgrade a color system to a system with fewer colors.\"\"\"\n\n        if self.type in (ColorType.DEFAULT, system):\n            return self",
    "start_line": 512
  },
  {
    "file": "color.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# Convert to 8-bit color from truecolor color\n        if system == ColorSystem.EIGHT_BIT and self.system == ColorSystem.TRUECOLOR:\n            assert self.triplet is not None\n            _h, l, s = rgb_to_hls(*self.triplet.normalized)\n            # If saturation is under 15% assume it is grayscale\n            if s < 0.15:\n                gray = round(l * 25.0)\n                if gray == 0:\n                    color_number = 16\n                elif gray == 25:\n                    color_number = 231\n                else:\n                    color_number = 231 + gray\n                return Color(self.name, ColorType.EIGHT_BIT, number=color_number)\n            red, green, blue = self.triplet\n            six_red = red / 95 if red < 95 else 1 + (red - 95) / 40\n            six_green = green / 95 if green < 95 else 1 + (green - 95) / 40\n            six_blue = blue / 95 if blue < 95 else 1 + (blue - 95) / 40\n            color_number = (\n                16 + 36 * round(six_red) + 6 * round(six_green) + round(six_blue)\n            )\n            return Color(self.name, ColorType.EIGHT_BIT, number=color_number)\n        # Convert to standard from truecolor or 8-bit\n        elif system == ColorSystem.STANDARD:\n            if self.system == ColorSystem.TRUECOLOR:\n                assert self.triplet is not None\n                triplet = self.triplet\n            else:  # self.system == ColorSystem.EIGHT_BIT\n                assert self.number is not None\n                triplet = ColorTriplet(*EIGHT_BIT_PALETTE[self.number])\n            color_number = STANDARD_PALETTE.match(triplet)\n            return Color(self.name, ColorType.STANDARD, number=color_number)\n        elif system == ColorSystem.WINDOWS:\n            if self.system == ColorSystem.TRUECOLOR:\n                assert self.triplet is not None\n                triplet = self.triplet\n            else:  # self.system == ColorSystem.EIGHT_BIT\n                assert self.number is not None\n                if self.number < 16:\n                    return Color(self.name, ColorType.WINDOWS, number=self.number)\n                triplet = ColorTriplet(*EIGHT_BIT_PALETTE[self.number])\n            color_number = WINDOWS_PALETTE.match(triplet)\n            return Color(self.name, ColorType.WINDOWS, number=color_number)\n        return self",
    "start_line": 517
  },
  {
    "file": "color.py",
    "type": "function",
    "class": null,
    "method": "parse_rgb_hex",
    "name": "parse_rgb_hex",
    "content": "def parse_rgb_hex(hex_color: str) -> ColorTriplet:\n    \"\"\"Parse six hex characters in to RGB triplet.\"\"\"\n    assert len(hex_color) == 6, \"must be 6 characters\"",
    "start_line": 570
  },
  {
    "file": "color.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "color = ColorTriplet(\n        int(hex_color[0:2], 16), int(hex_color[2:4], 16), int(hex_color[4:6], 16)\n    )\n    return color",
    "start_line": 573
  },
  {
    "file": "color.py",
    "type": "function",
    "class": null,
    "method": "blend_rgb",
    "name": "blend_rgb",
    "content": "def blend_rgb(\n    color1: ColorTriplet, color2: ColorTriplet, cross_fade: float = 0.5\n) -> ColorTriplet:\n    \"\"\"Blend one RGB color in to another.\"\"\"\n    r1, g1, b1 = color1\n    r2, g2, b2 = color2",
    "start_line": 579
  },
  {
    "file": "color.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "new_color = ColorTriplet(\n        int(r1 + (r2 - r1) * cross_fade),\n        int(g1 + (g2 - g1) * cross_fade),\n        int(b1 + (b2 - b1) * cross_fade),\n    )\n    return new_color\nif __name__ == \"__main__\":  # pragma: no cover",
    "start_line": 585
  },
  {
    "file": "color.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from .console import Console\n    from .table import Table\n    from .text import Text",
    "start_line": 594
  },
  {
    "file": "color.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console()\n    table = Table(show_footer=False, show_edge=True)\n    table.add_column(\"Color\", width=10, overflow=\"ellipsis\")\n    table.add_column(\"Number\", justify=\"right\", style=\"yellow\")\n    table.add_column(\"Name\", style=\"green\")\n    table.add_column(\"Hex\", style=\"blue\")\n    table.add_column(\"RGB\", style=\"magenta\")\n    colors = sorted((v, k) for k, v in ANSI_COLOR_NAMES.items())\n    for color_number, name in colors:\n        if \"grey\" in name:\n            continue\n        color_cell = Text(\" \" * 10, style=f\"on {name}\")\n        if color_number < 16:\n            table.add_row(color_cell, f\"{color_number}\", Text(f'\"{name}\"'))\n        else:\n            color = EIGHT_BIT_PALETTE[color_number]  # type: ignore[has-type]\n            table.add_row(\n                color_cell, str(color_number), Text(f'\"{name}\"'), color.hex, color.rgb\n            )\n    console.print(table)",
    "start_line": 598
  },
  {
    "file": "color.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "import re\nimport sys\nfrom colorsys import rgb_to_hls\nfrom enum import IntEnum\nfrom functools import lru_cache\nfrom typing import TYPE_CHECKING, NamedTuple, Optional, Tuple\n\nfrom ._palettes import EIGHT_BIT_PALETTE, STANDARD_PALETTE, WINDOWS_PALETTE\nfrom .color_triplet import ColorTriplet\nfrom .repr import Result, rich_repr\nfrom .terminal_theme import DEFAULT_TERMINAL_THEME\n\nif TYPE_CHECKING:  # pragma: no cover\n    from .terminal_theme import TerminalTheme\n    from .text import Text\n\n\nWINDOWS = sys.platform == \"win32\"\n\n\nclass ColorSystem(IntEnum):\n    \"\"\"One of the 3 color system supported by terminals.\"\"\"\n\n    STANDARD = 1\n    EIGHT_BIT = 2\n    TRUECOLOR = 3\n    WINDOWS = 4\n\n    def __repr__(self) -> str:\n        return f\"ColorSystem.{self.name}\"\n\n    def __str__(self) -> str:\n        return repr(self)\n\n\nclass ColorType(IntEnum):\n    \"\"\"Type of color stored in Color class.\"\"\"\n\n    DEFAULT = 0\n    STANDARD = 1\n    EIGHT_BIT = 2\n    TRUECOLOR = 3\n    WINDOWS = 4\n\n    def __repr__(self) -> str:\n        return f\"ColorType.{self.name}\"\n\n\nANSI_COLOR_NAMES = {\n    \"black\": 0,\n    \"red\": 1,\n    \"green\": 2,\n    \"yellow\": 3,\n    \"blue\": 4,\n    \"magenta\": 5,\n    \"cyan\": 6,\n    \"white\": 7,\n    \"bright_black\": 8,\n    \"bright_red\": 9,\n    \"bright_green\": 10,\n    \"bright_yellow\": 11,\n    \"bright_blue\": 12,\n    \"bright_magenta\": 13,\n    \"bright_cyan\": 14,\n    \"bright_white\": 15,\n    \"grey0\": 16,\n    \"gray0\": 16,\n    \"navy_blue\": 17,\n    \"dark_blue\": 18,\n    \"blue3\": 20,\n    \"blue1\": 21,\n    \"dark_green\": 22,\n    \"deep_sky_blue4\": 25,\n    \"dodger_blue3\": 26,\n    \"dodger_blue2\": 27,\n    \"green4\": 28,\n    \"spring_green4\": 29,\n    \"turquoise4\": 30,\n    \"deep_sky_blue3\": 32,\n    \"dodger_blue1\": 33,\n    \"green3\": 40,\n    \"spring_green3\": 41,\n    \"dark_cyan\": 36,\n    \"light_sea_green\": 37,\n    \"deep_sky_blue2\": 38,\n    \"deep_sky_blue1\": 39,\n    \"spring_green2\": 47,\n    \"cyan3\": 43,\n    \"dark_turquoise\": 44,\n    \"turquoise2\": 45,\n    \"green1\": 46,\n    \"spring_green1\": 48,\n    \"medium_spring_green\": 49,\n    \"cyan2\": 50,\n    \"cyan1\": 51,\n    \"dark_red\": 88,\n    \"deep_pink4\": 125,\n    \"purple4\": 55,\n    \"purple3\": 56,\n    \"blue_violet\": 57,\n    \"orange4\": 94,\n    \"grey37\": 59,\n    \"gray37\": 59,\n    \"medium_purple4\": 60,\n    \"slate_blue3\": 62,\n    \"royal_blue1\": 63,\n    \"chartreuse4\": 64,\n    \"dark_sea_green4\": 71,\n    \"pale_turquoise4\": 66,\n    \"steel_blue\": 67,\n    \"steel_blue3\": 68,\n    \"cornflower_blue\": 69,\n    \"chartreuse3\": 76,\n    \"cadet_blue\": 73,\n    \"sky_blue3\": 74,\n    \"steel_blue1\": 81,\n    \"pale_green3\": 114,\n    \"sea_green3\": 78,\n    \"aquamarine3\": 79,\n    \"medium_turquoise\": 80,\n    \"chartreuse2\": 112,\n    \"sea_green2\": 83,\n    \"sea_green1\": 85,\n    \"aquamarine1\": 122,\n    \"dark_slate_gray2\": 87,\n    \"dark_magenta\": 91,\n    \"dark_violet\": 128,\n    \"purple\": 129,\n    \"light_pink4\": 95,\n    \"plum4\": 96,\n    \"medium_purple3\": 98,\n    \"slate_blue1\": 99,\n    \"yellow4\": 106,\n    \"wheat4\": 101,\n    \"grey53\": 102,\n    \"gray53\": 102,\n    \"light_slate_grey\": 103,\n    \"light_slate_gray\": 103,\n    \"medium_purple\": 104,\n    \"light_slate_blue\": 105,\n    \"dark_olive_green3\": 149,\n    \"dark_sea_green\": 108,\n    \"light_sky_blue3\": 110,\n    \"sky_blue2\": 111,\n    \"dark_sea_green3\": 150,\n    \"dark_slate_gray3\": 116,\n    \"sky_blue1\": 117,\n    \"chartreuse1\": 118,\n    \"light_green\": 120,\n    \"pale_green1\": 156,\n    \"dark_slate_gray1\": 123,\n    \"red3\": 160,\n    \"medium_violet_red\": 126,\n    \"magenta3\": 164,\n    \"dark_orange3\": 166,\n    \"indian_red\": 167,\n    \"hot_pink3\": 168,\n    \"medium_orchid3\": 133,\n    \"medium_orchid\": 134,\n    \"medium_purple2\": 140,\n    \"dark_goldenrod\": 136,\n    \"light_salmon3\": 173,\n    \"rosy_brown\": 138,\n    \"grey63\": 139,\n    \"gray63\": 139,\n    \"medium_purple1\": 141,\n    \"gold3\": 178,\n    \"dark_khaki\": 143,\n    \"navajo_white3\": 144,\n    \"grey69\": 145,\n    \"gray69\": 145,\n    \"light_steel_blue3\": 146,\n    \"light_steel_blue\": 147,\n    \"yellow3\": 184,\n    \"dark_sea_green2\": 157,\n    \"light_cyan3\": 152,\n    \"light_sky_blue1\": 153,\n    \"green_yellow\": 154,\n    \"dark_olive_green2\": 155,\n    \"dark_sea_green1\": 193,\n    \"pale_turquoise1\": 159,\n    \"deep_pink3\": 162,\n    \"magenta2\": 200,\n    \"hot_pink2\": 169,\n    \"orchid\": 170,\n    \"medium_orchid1\": 207,\n    \"orange3\": 172,\n    \"light_pink3\": 174,\n    \"pink3\": 175,\n    \"plum3\": 176,\n    \"violet\": 177,\n    \"light_goldenrod3\": 179,\n    \"tan\": 180,\n    \"misty_rose3\": 181,\n    \"thistle3\": 182,\n    \"plum2\": 183,\n    \"khaki3\": 185,\n    \"light_goldenrod2\": 222,\n    \"light_yellow3\": 187,\n    \"grey84\": 188,\n    \"gray84\": 188,\n    \"light_steel_blue1\": 189,\n    \"yellow2\": 190,\n    \"dark_olive_green1\": 192,\n    \"honeydew2\": 194,\n    \"light_cyan1\": 195,\n    \"red1\": 196,\n    \"deep_pink2\": 197,\n    \"deep_pink1\": 199,\n    \"magenta1\": 201,\n    \"orange_red1\": 202,\n    \"indian_red1\": 204,\n    \"hot_pink\": 206,\n    \"dark_orange\": 208,\n    \"salmon1\": 209,\n    \"light_coral\": 210,\n    \"pale_violet_red1\": 211,\n    \"orchid2\": 212,\n    \"orchid1\": 213,\n    \"orange1\": 214,\n    \"sandy_brown\": 215,\n    \"light_salmon1\": 216,\n    \"light_pink1\": 217,\n    \"pink1\": 218,\n    \"plum1\": 219,\n    \"gold1\": 220,\n    \"navajo_white1\": 223,\n    \"misty_rose1\": 224,\n    \"thistle1\": 225,\n    \"yellow1\": 226,\n    \"light_goldenrod1\": 227,\n    \"khaki1\": 228,\n    \"wheat1\": 229,\n    \"cornsilk1\": 230,\n    \"grey100\": 231,\n    \"gray100\": 231,\n    \"grey3\": 232,\n    \"gray3\": 232,\n    \"grey7\": 233,\n    \"gray7\": 233,\n    \"grey11\": 234,\n    \"gray11\": 234,\n    \"grey15\": 235,\n    \"gray15\": 235,\n    \"grey19\": 236,\n    \"gray19\": 236,\n    \"grey23\": 237,\n    \"gray23\": 237,\n    \"grey27\": 238,\n    \"gray27\": 238,\n    \"grey30\": 239,\n    \"gray30\": 239,\n    \"grey35\": 240,\n    \"gray35\": 240,\n    \"grey39\": 241,\n    \"gray39\": 241,\n    \"grey42\": 242,\n    \"gray42\": 242,\n    \"grey46\": 243,\n    \"gray46\": 243,\n    \"grey50\": 244,\n    \"gray50\": 244,\n    \"grey54\": 245,\n    \"gray54\": 245,\n    \"grey58\": 246,\n    \"gray58\": 246,\n    \"grey62\": 247,\n    \"gray62\": 247,\n    \"grey66\": 248,\n    \"gray66\": 248,\n    \"grey70\": 249,\n    \"gray70\": 249,\n    \"grey74\": 250,\n    \"gray74\": 250,\n    \"grey78\": 251,\n    \"gray78\": 251,\n    \"grey82\": 252,\n    \"gray82\": 252,\n    \"grey85\": 253,\n    \"gray85\": 253,\n    \"grey89\": 254,\n    \"gray89\": 254,\n    \"grey93\": 255,\n    \"gray93\": 255,\n}\n\n\nclass ColorParseError(Exception):\n    \"\"\"The color could not be parsed.\"\"\"\n\n\nRE_COLOR = re.compile(\n    r\"\"\"^\n\\#([0-9a-f]{6})$|\ncolor\\(([0-9]{1,3})\\)$|\nrgb\\(([\\d\\s,]+)\\)$\n\"\"\",\n    re.VERBOSE,\n)\n\n\n@rich_repr\nclass Color(NamedTuple):\n    \"\"\"Terminal color definition.\"\"\"\n\n    name: str\n    \"\"\"The name of the color (typically the input to Color.parse).\"\"\"\n    type: ColorType\n    \"\"\"The type of the color.\"\"\"\n    number: Optional[int] = None\n    \"\"\"The color number, if a standard color, or None.\"\"\"\n    triplet: Optional[ColorTriplet] = None\n    \"\"\"A triplet of color components, if an RGB color.\"\"\"\n\n    def __rich__(self) -> \"Text\":\n        \"\"\"Displays the actual color if Rich printed.\"\"\"\n        from .style import Style\n        from .text import Text\n\n        return Text.assemble(\n            f\"<color {self.name!r} ({self.type.name.lower()})\",\n            (\"\", Style(color=self)),\n            \" >\",\n        )\n\n    def __rich_repr__(self) -> Result:\n        yield self.name\n        yield self.type\n        yield \"number\", self.number, None\n        yield \"triplet\", self.triplet, None\n\n    @property\n    def system(self) -> ColorSystem:\n        \"\"\"Get the native color system for this color.\"\"\"\n        if self.type == ColorType.DEFAULT:\n            return ColorSystem.STANDARD\n        return ColorSystem(int(self.type))\n\n    @property\n    def is_system_defined(self) -> bool:\n        \"\"\"Check if the color is ultimately defined by the system.\"\"\"\n        return self.system not in (ColorSystem.EIGHT_BIT, ColorSystem.TRUECOLOR)\n\n    @property\n    def is_default(self) -> bool:\n        \"\"\"Check if the color is a default color.\"\"\"\n        return self.type == ColorType.DEFAULT\n\n    def get_truecolor(\n        self, theme: Optional[\"TerminalTheme\"] = None, foreground: bool = True\n    ) -> ColorTriplet:\n        \"\"\"Get an equivalent color triplet for this color.\n\n        Args:\n            theme (TerminalTheme, optional): Optional terminal theme, or None to use default. Defaults to None.\n            foreground (bool, optional): True for a foreground color, or False for background. Defaults to True.\n\n        Returns:\n            ColorTriplet: A color triplet containing RGB components.\n        \"\"\"\n\n        if theme is None:\n            theme = DEFAULT_TERMINAL_THEME\n        if self.type == ColorType.TRUECOLOR:\n            assert self.triplet is not None\n            return self.triplet\n        elif self.type == ColorType.EIGHT_BIT:\n            assert self.number is not None\n            return EIGHT_BIT_PALETTE[self.number]\n        elif self.type == ColorType.STANDARD:\n            assert self.number is not None\n            return theme.ansi_colors[self.number]\n        elif self.type == ColorType.WINDOWS:\n            assert self.number is not None\n            return WINDOWS_PALETTE[self.number]\n        else:  # self.type == ColorType.DEFAULT:\n            assert self.number is None\n            return theme.foreground_color if foreground else theme.background_color\n\n    @classmethod\n    def from_ansi(cls, number: int) -> \"Color\":\n        \"\"\"Create a Color number from it's 8-bit ansi number.\n\n        Args:\n            number (int): A number between 0-255 inclusive.\n\n        Returns:\n            Color: A new Color instance.\n        \"\"\"\n        return cls(\n            name=f\"color({number})\",\n            type=(ColorType.STANDARD if number < 16 else ColorType.EIGHT_BIT),\n            number=number,\n        )\n\n    @classmethod\n    def from_triplet(cls, triplet: \"ColorTriplet\") -> \"Color\":\n        \"\"\"Create a truecolor RGB color from a triplet of values.\n\n        Args:\n            triplet (ColorTriplet): A color triplet containing red, green and blue components.\n\n        Returns:\n            Color: A new color object.\n        \"\"\"\n        return cls(name=triplet.hex, type=ColorType.TRUECOLOR, triplet=triplet)\n\n    @classmethod\n    def from_rgb(cls, red: float, green: float, blue: float) -> \"Color\":\n        \"\"\"Create a truecolor from three color components in the range(0->255).\n\n        Args:\n            red (float): Red component in range 0-255.\n            green (float): Green component in range 0-255.\n            blue (float): Blue component in range 0-255.\n\n        Returns:\n            Color: A new color object.\n        \"\"\"\n        return cls.from_triplet(ColorTriplet(int(red), int(green), int(blue)))\n\n    @classmethod\n    def default(cls) -> \"Color\":\n        \"\"\"Get a Color instance representing the default color.\n\n        Returns:\n            Color: Default color.\n        \"\"\"\n        return cls(name=\"default\", type=ColorType.DEFAULT)\n\n    @classmethod\n    @lru_cache(maxsize=1024)\n    def parse(cls, color: str) -> \"Color\":\n        \"\"\"Parse a color definition.\"\"\"\n        original_color = color\n        color = color.lower().strip()\n\n        if color == \"default\":\n            return cls(color, type=ColorType.DEFAULT)\n\n        color_number = ANSI_COLOR_NAMES.get(color)\n        if color_number is not None:\n            return cls(\n                color,\n                type=(ColorType.STANDARD if color_number < 16 else ColorType.EIGHT_BIT),\n                number=color_number,\n            )\n\n        color_match = RE_COLOR.match(color)\n        if color_match is None:\n            raise ColorParseError(f\"{original_color!r} is not a valid color\")\n\n        color_24, color_8, color_rgb = color_match.groups()\n        if color_24:\n            triplet = ColorTriplet(\n                int(color_24[0:2], 16), int(color_24[2:4], 16), int(color_24[4:6], 16)\n            )\n            return cls(color, ColorType.TRUECOLOR, triplet=triplet)\n\n        elif color_8:\n            number = int(color_8)\n            if number > 255:\n                raise ColorParseError(f\"color number must be <= 255 in {color!r}\")\n            return cls(\n                color,\n                type=(ColorType.STANDARD if number < 16 else ColorType.EIGHT_BIT),\n                number=number,\n            )\n\n        else:  #  color_rgb:\n            components = color_rgb.split(\",\")\n            if len(components) != 3:\n                raise ColorParseError(\n                    f\"expected three components in {original_color!r}\"\n                )\n            red, green, blue = components\n            triplet = ColorTriplet(int(red), int(green), int(blue))\n            if not all(component <= 255 for component in triplet):\n                raise ColorParseError(\n                    f\"color components must be <= 255 in {original_color!r}\"\n                )\n            return cls(color, ColorType.TRUECOLOR, triplet=triplet)\n\n    @lru_cache(maxsize=1024)\n    def get_ansi_codes(self, foreground: bool = True) -> Tuple[str, ...]:\n        \"\"\"Get the ANSI escape codes for this color.\"\"\"\n        _type = self.type\n        if _type == ColorType.DEFAULT:\n            return (\"39\" if foreground else \"49\",)\n\n        elif _type == ColorType.WINDOWS:\n            number = self.number\n            assert number is not None\n            fore, back = (30, 40) if number < 8 else (82, 92)\n            return (str(fore + number if foreground else back + number),)\n\n        elif _type == ColorType.STANDARD:\n            number = self.number\n            assert number is not None\n            fore, back = (30, 40) if number < 8 else (82, 92)\n            return (str(fore + number if foreground else back + number),)\n\n        elif _type == ColorType.EIGHT_BIT:\n            assert self.number is not None\n            return (\"38\" if foreground else \"48\", \"5\", str(self.number))\n\n        else:  # self.standard == ColorStandard.TRUECOLOR:\n            assert self.triplet is not None\n            red, green, blue = self.triplet\n            return (\"38\" if foreground else \"48\", \"2\", str(red), str(green), str(blue))\n\n    @lru_cache(maxsize=1024)\n    def downgrade(self, system: ColorSystem) -> \"Color\":\n        \"\"\"Downgrade a color system to a system with fewer colors.\"\"\"\n\n        if self.type in (ColorType.DEFAULT, system):\n            return self\n        # Convert to 8-bit color from truecolor color\n        if system == ColorSystem.EIGHT_BIT and self.system == ColorSystem.TRUECOLOR:\n            assert self.triplet is not None\n            _h, l, s = rgb_to_hls(*self.triplet.normalized)\n            # If saturation is under 15% assume it is grayscale\n            if s < 0.15:\n                gray = round(l * 25.0)\n                if gray == 0:\n                    color_number = 16\n                elif gray == 25:\n                    color_number = 231\n                else:\n                    color_number = 231 + gray\n                return Color(self.name, ColorType.EIGHT_BIT, number=color_number)\n\n            red, green, blue = self.triplet\n            six_red = red / 95 if red < 95 else 1 + (red - 95) / 40\n            six_green = green / 95 if green < 95 else 1 + (green - 95) / 40\n            six_blue = blue / 95 if blue < 95 else 1 + (blue - 95) / 40\n\n            color_number = (\n                16 + 36 * round(six_red) + 6 * round(six_green) + round(six_blue)\n            )\n            return Color(self.name, ColorType.EIGHT_BIT, number=color_number)\n\n        # Convert to standard from truecolor or 8-bit\n        elif system == ColorSystem.STANDARD:\n            if self.system == ColorSystem.TRUECOLOR:\n                assert self.triplet is not None\n                triplet = self.triplet\n            else:  # self.system == ColorSystem.EIGHT_BIT\n                assert self.number is not None\n                triplet = ColorTriplet(*EIGHT_BIT_PALETTE[self.number])\n\n            color_number = STANDARD_PALETTE.match(triplet)\n            return Color(self.name, ColorType.STANDARD, number=color_number)\n\n        elif system == ColorSystem.WINDOWS:\n            if self.system == ColorSystem.TRUECOLOR:\n                assert self.triplet is not None\n                triplet = self.triplet\n            else:  # self.system == ColorSystem.EIGHT_BIT\n                assert self.number is not None\n                if self.number < 16:\n                    return Color(self.name, ColorType.WINDOWS, number=self.number)\n                triplet = ColorTriplet(*EIGHT_BIT_PALETTE[self.number])\n\n            color_number = WINDOWS_PALETTE.match(triplet)\n            return Color(self.name, ColorType.WINDOWS, number=color_number)\n\n        return self\n\n\ndef parse_rgb_hex(hex_color: str) -> ColorTriplet:\n    \"\"\"Parse six hex characters in to RGB triplet.\"\"\"\n    assert len(hex_color) == 6, \"must be 6 characters\"\n    color = ColorTriplet(\n        int(hex_color[0:2], 16), int(hex_color[2:4], 16), int(hex_color[4:6], 16)\n    )\n    return color\n\n\ndef blend_rgb(\n    color1: ColorTriplet, color2: ColorTriplet, cross_fade: float = 0.5\n) -> ColorTriplet:\n    \"\"\"Blend one RGB color in to another.\"\"\"\n    r1, g1, b1 = color1\n    r2, g2, b2 = color2\n    new_color = ColorTriplet(\n        int(r1 + (r2 - r1) * cross_fade),\n        int(g1 + (g2 - g1) * cross_fade),\n        int(b1 + (b2 - b1) * cross_fade),\n    )\n    return new_color\n\n\nif __name__ == \"__main__\":  # pragma: no cover\n    from .console import Console\n    from .table import Table\n    from .text import Text\n\n    console = Console()\n\n    table = Table(show_footer=False, show_edge=True)\n    table.add_column(\"Color\", width=10, overflow=\"ellipsis\")\n    table.add_column(\"Number\", justify=\"right\", style=\"yellow\")\n    table.add_column(\"Name\", style=\"green\")\n    table.add_column(\"Hex\", style=\"blue\")\n    table.add_column(\"RGB\", style=\"magenta\")\n\n    colors = sorted((v, k) for k, v in ANSI_COLOR_NAMES.items())\n    for color_number, name in colors:\n        if \"grey\" in name:\n            continue\n        color_cell = Text(\" \" * 10, style=f\"on {name}\")\n        if color_number < 16:\n            table.add_row(color_cell, f\"{color_number}\", Text(f'\"{name}\"'))\n        else:\n            color = EIGHT_BIT_PALETTE[color_number]  # type: ignore[has-type]\n            table.add_row(\n                color_cell, str(color_number), Text(f'\"{name}\"'), color.hex, color.rgb\n            )\n\n    console.print(table)\n",
    "start_line": 0
  },
  {
    "file": "_timer.py",
    "type": "module_docstring",
    "class": null,
    "method": null,
    "name": "module_docstring",
    "content": "\"\"\"\nTimer context manager, only used in debug.\n\n\"\"\"",
    "start_line": 0
  },
  {
    "file": "_timer.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from time import time\nimport contextlib\nfrom typing import Generator\n@contextlib.contextmanager",
    "start_line": 5
  },
  {
    "file": "_timer.py",
    "type": "function",
    "class": null,
    "method": "timer",
    "name": "timer",
    "content": "def timer(subject: str = \"time\") -> Generator[None, None, None]:\n    \"\"\"print the elapsed time. (only used in debugging)\"\"\"",
    "start_line": 12
  },
  {
    "file": "_timer.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "start = time()\n    yield\n    elapsed = time() - start\n    elapsed_ms = elapsed * 1000\n    print(f\"{subject} elapsed {elapsed_ms:.1f}ms\")",
    "start_line": 14
  },
  {
    "file": "_timer.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "\"\"\"\nTimer context manager, only used in debug.\n\n\"\"\"\n\nfrom time import time\n\nimport contextlib\nfrom typing import Generator\n\n\n@contextlib.contextmanager\ndef timer(subject: str = \"time\") -> Generator[None, None, None]:\n    \"\"\"print the elapsed time. (only used in debugging)\"\"\"\n    start = time()\n    yield\n    elapsed = time() - start\n    elapsed_ms = elapsed * 1000\n    print(f\"{subject} elapsed {elapsed_ms:.1f}ms\")\n",
    "start_line": 0
  },
  {
    "file": "_fileno.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from __future__ import annotations\nfrom typing import IO, Callable",
    "start_line": 0
  },
  {
    "file": "_fileno.py",
    "type": "function",
    "class": null,
    "method": "get_fileno",
    "name": "get_fileno",
    "content": "def get_fileno(file_like: IO[str]) -> int | None:\n    \"\"\"Get fileno() from a file, accounting for poorly implemented file-like objects.\n\n    Args:\n        file_like (IO): A file-like object.\n\n    Returns:\n        int | None: The result of fileno if available, or None if operation failed.\n    \"\"\"\n    fileno: Callable[[], int] | None = getattr(file_like, \"fileno\", None)\n    if fileno is not None:\n        try:\n            return fileno()\n        except Exception:",
    "start_line": 5
  },
  {
    "file": "_fileno.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# `fileno` is documented as potentially raising a OSError\n            # Alas, from the issues, there are so many poorly implemented file-like objects,\n            # that `fileno()` can raise just about anything.\n            return None\n    return None",
    "start_line": 19
  },
  {
    "file": "_fileno.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "from __future__ import annotations\n\nfrom typing import IO, Callable\n\n\ndef get_fileno(file_like: IO[str]) -> int | None:\n    \"\"\"Get fileno() from a file, accounting for poorly implemented file-like objects.\n\n    Args:\n        file_like (IO): A file-like object.\n\n    Returns:\n        int | None: The result of fileno if available, or None if operation failed.\n    \"\"\"\n    fileno: Callable[[], int] | None = getattr(file_like, \"fileno\", None)\n    if fileno is not None:\n        try:\n            return fileno()\n        except Exception:\n            # `fileno` is documented as potentially raising a OSError\n            # Alas, from the issues, there are so many poorly implemented file-like objects,\n            # that `fileno()` can raise just about anything.\n            return None\n    return None\n",
    "start_line": 0
  },
  {
    "file": "align.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "import sys\nfrom itertools import chain\nfrom typing import TYPE_CHECKING, Iterable, Optional\nif sys.version_info >= (3, 8):\n    from typing import Literal\nelse:\n    from typing_extensions import Literal  # pragma: no cover\nfrom .constrain import Constrain\nfrom .jupyter import JupyterMixin\nfrom .measure import Measurement\nfrom .segment import Segment\nfrom .style import StyleType\nif TYPE_CHECKING:\n    from .console import Console, ConsoleOptions, RenderableType, RenderResult\nAlignMethod = Literal[\"left\", \"center\", \"right\"]\nVerticalAlignMethod = Literal[\"top\", \"middle\", \"bottom\"]",
    "start_line": 0
  },
  {
    "file": "align.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "Align",
    "content": "class Align(JupyterMixin):\n    \"\"\"Align a renderable by adding spaces if necessary.\n\n    Args:\n        renderable (RenderableType): A console renderable.\n        align (AlignMethod): One of \"left\", \"center\", or \"right\"\"\n        style (StyleType, optional): An optional style to apply to the background.\n        vertical (Optional[VerticalAlignMethod], optional): Optional vertical align, one of \"top\", \"middle\", or \"bottom\". Defaults to None.\n        pad (bool, optional): Pad the right with spaces. Defaults to True.\n        width (int, optional): Restrict contents to given width, or None to use default width. Defaults to None.\n        height (int, optional): Set height of align renderable, or None to fit to contents. Defaults to None.\n\n    Raises:\n        ValueError: if ``align`` is not one of the expected values.\n    \"\"\"",
    "start_line": 22
  },
  {
    "file": "align.py",
    "type": "method",
    "class": "Align",
    "method": "__init__",
    "name": "__init__",
    "content": "class Align:\n    def __init__(\n        self,\n        renderable: \"RenderableType\",\n        align: AlignMethod = \"left\",\n        style: Optional[StyleType] = None,\n        *,\n        vertical: Optional[VerticalAlignMethod] = None,\n        pad: bool = True,\n        width: Optional[int] = None,\n        height: Optional[int] = None,\n    ) -> None:\n        if align not in (\"left\", \"center\", \"right\"):\n            raise ValueError(\n                f'invalid value for align, expected \"left\", \"center\", or \"right\" (not {align!r})'\n            )\n        if vertical is not None and vertical not in (\"top\", \"middle\", \"bottom\"):\n            raise ValueError(\n                f'invalid value for vertical, expected \"top\", \"middle\", or \"bottom\" (not {vertical!r})'\n            )\n        self.renderable = renderable\n        self.align = align\n        self.style = style\n        self.vertical = vertical\n        self.pad = pad\n        self.width = width\n        self.height = height",
    "start_line": 38
  },
  {
    "file": "align.py",
    "type": "method",
    "class": "Align",
    "method": "__repr__",
    "name": "__repr__",
    "content": "class Align:\n    def __repr__(self) -> str:\n        return f\"Align({self.renderable!r}, {self.align!r})\"\n\n    @classmethod",
    "start_line": 65
  },
  {
    "file": "align.py",
    "type": "method",
    "class": "Align",
    "method": "left",
    "name": "left",
    "content": "class Align:\n    def left(\n        cls,\n        renderable: \"RenderableType\",\n        style: Optional[StyleType] = None,\n        *,\n        vertical: Optional[VerticalAlignMethod] = None,\n        pad: bool = True,\n        width: Optional[int] = None,\n        height: Optional[int] = None,\n    ) -> \"Align\":\n        \"\"\"Align a renderable to the left.\"\"\"\n        return cls(\n            renderable,\n            \"left\",\n            style=style,\n            vertical=vertical,\n            pad=pad,\n            width=width,\n            height=height,\n        )\n\n    @classmethod",
    "start_line": 69
  },
  {
    "file": "align.py",
    "type": "method",
    "class": "Align",
    "method": "center",
    "name": "center",
    "content": "class Align:\n    def center(\n        cls,\n        renderable: \"RenderableType\",\n        style: Optional[StyleType] = None,\n        *,\n        vertical: Optional[VerticalAlignMethod] = None,\n        pad: bool = True,\n        width: Optional[int] = None,\n        height: Optional[int] = None,\n    ) -> \"Align\":\n        \"\"\"Align a renderable to the center.\"\"\"\n        return cls(\n            renderable,\n            \"center\",\n            style=style,\n            vertical=vertical,\n            pad=pad,\n            width=width,\n            height=height,\n        )\n\n    @classmethod",
    "start_line": 91
  },
  {
    "file": "align.py",
    "type": "method",
    "class": "Align",
    "method": "right",
    "name": "right",
    "content": "class Align:\n    def right(\n        cls,\n        renderable: \"RenderableType\",\n        style: Optional[StyleType] = None,\n        *,\n        vertical: Optional[VerticalAlignMethod] = None,\n        pad: bool = True,\n        width: Optional[int] = None,\n        height: Optional[int] = None,\n    ) -> \"Align\":\n        \"\"\"Align a renderable to the right.\"\"\"\n        return cls(\n            renderable,\n            \"right\",\n            style=style,\n            vertical=vertical,\n            pad=pad,\n            width=width,\n            height=height,\n        )",
    "start_line": 113
  },
  {
    "file": "align.py",
    "type": "method",
    "class": "Align",
    "method": "__rich_console__",
    "name": "__rich_console__",
    "content": "class Align:\n    def __rich_console__(\n        self, console: \"Console\", options: \"ConsoleOptions\"\n    ) -> \"RenderResult\":\n        align = self.align\n        width = console.measure(self.renderable, options=options).maximum\n        rendered = console.render(\n            Constrain(\n                self.renderable, width if self.width is None else min(width, self.width)\n            ),\n            options.update(height=None),\n        )\n        lines = list(Segment.split_lines(rendered))\n        width, height = Segment.get_shape(lines)\n        lines = Segment.set_shape(lines, width, height)\n        new_line = Segment.line()\n        excess_space = options.max_width - width\n        style = console.get_style(self.style) if self.style is not None else None",
    "start_line": 134
  },
  {
    "file": "align.py",
    "type": "method",
    "class": "Align",
    "method": "generate_segments",
    "name": "generate_segments",
    "content": "class Align:\n        def generate_segments() -> Iterable[Segment]:\n            if excess_space <= 0:",
    "start_line": 152
  },
  {
    "file": "align.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# Exact fit\n                for line in lines:\n                    yield from line\n                    yield new_line\n            elif align == \"left\":\n                # Pad on the right\n                pad = Segment(\" \" * excess_space, style) if self.pad else None\n                for line in lines:\n                    yield from line\n                    if pad:\n                        yield pad\n                    yield new_line\n            elif align == \"center\":\n                # Pad left and right\n                left = excess_space // 2\n                pad = Segment(\" \" * left, style)\n                pad_right = (\n                    Segment(\" \" * (excess_space - left), style) if self.pad else None\n                )\n                for line in lines:\n                    if left:\n                        yield pad\n                    yield from line\n                    if pad_right:\n                        yield pad_right\n                    yield new_line\n            elif align == \"right\":\n                # Padding on left\n                pad = Segment(\" \" * excess_space, style)\n                for line in lines:\n                    yield pad\n                    yield from line\n                    yield new_line\n        blank_line = (\n            Segment(f\"{' ' * (self.width or options.max_width)}\\n\", style)\n            if self.pad\n            else Segment(\"\\n\")\n        )",
    "start_line": 154
  },
  {
    "file": "align.py",
    "type": "method",
    "class": "Align",
    "method": "blank_lines",
    "name": "blank_lines",
    "content": "class Align:\n        def blank_lines(count: int) -> Iterable[Segment]:\n            if count > 0:\n                for _ in range(count):\n                    yield blank_line\n\n        vertical_height = self.height or options.height\n        iter_segments: Iterable[Segment]\n        if self.vertical and vertical_height is not None:\n            if self.vertical == \"top\":\n                bottom_space = vertical_height - height\n                iter_segments = chain(generate_segments(), blank_lines(bottom_space))\n            elif self.vertical == \"middle\":\n                top_space = (vertical_height - height) // 2\n                bottom_space = vertical_height - top_space - height\n                iter_segments = chain(\n                    blank_lines(top_space),\n                    generate_segments(),\n                    blank_lines(bottom_space),\n                )\n            else:  #  self.vertical == \"bottom\":\n                top_space = vertical_height - height\n                iter_segments = chain(blank_lines(top_space), generate_segments())\n        else:\n            iter_segments = generate_segments()\n        if self.style:\n            style = console.get_style(self.style)\n            iter_segments = Segment.apply_style(iter_segments, style)\n        yield from iter_segments",
    "start_line": 197
  },
  {
    "file": "align.py",
    "type": "method",
    "class": "Align",
    "method": "__rich_measure__",
    "name": "__rich_measure__",
    "content": "class Align:\n    def __rich_measure__(\n        self, console: \"Console\", options: \"ConsoleOptions\"\n    ) -> Measurement:\n        measurement = Measurement.get(console, options, self.renderable)\n        return measurement",
    "start_line": 226
  },
  {
    "file": "align.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "VerticalCenter",
    "content": "class VerticalCenter(JupyterMixin):\n    \"\"\"Vertically aligns a renderable.\n\n    Warn:\n        This class is deprecated and may be removed in a future version. Use Align class with\n        `vertical=\"middle\"`.\n\n    Args:\n        renderable (RenderableType): A renderable object.\n        style (StyleType, optional): An optional style to apply to the background. Defaults to None.\n    \"\"\"",
    "start_line": 233
  },
  {
    "file": "align.py",
    "type": "method",
    "class": "VerticalCenter",
    "method": "__init__",
    "name": "__init__",
    "content": "class VerticalCenter:\n    def __init__(\n        self,\n        renderable: \"RenderableType\",\n        style: Optional[StyleType] = None,\n    ) -> None:\n        self.renderable = renderable\n        self.style = style",
    "start_line": 245
  },
  {
    "file": "align.py",
    "type": "method",
    "class": "VerticalCenter",
    "method": "__repr__",
    "name": "__repr__",
    "content": "class VerticalCenter:\n    def __repr__(self) -> str:\n        return f\"VerticalCenter({self.renderable!r})\"",
    "start_line": 253
  },
  {
    "file": "align.py",
    "type": "method",
    "class": "VerticalCenter",
    "method": "__rich_console__",
    "name": "__rich_console__",
    "content": "class VerticalCenter:\n    def __rich_console__(\n        self, console: \"Console\", options: \"ConsoleOptions\"\n    ) -> \"RenderResult\":\n        style = console.get_style(self.style) if self.style is not None else None\n        lines = console.render_lines(\n            self.renderable, options.update(height=None), pad=False\n        )\n        width, _height = Segment.get_shape(lines)\n        new_line = Segment.line()\n        height = options.height or options.size.height\n        top_space = (height - len(lines)) // 2\n        bottom_space = height - top_space - len(lines)\n        blank_line = Segment(f\"{' ' * width}\", style)",
    "start_line": 256
  },
  {
    "file": "align.py",
    "type": "method",
    "class": "VerticalCenter",
    "method": "blank_lines",
    "name": "blank_lines",
    "content": "class VerticalCenter:\n        def blank_lines(count: int) -> Iterable[Segment]:\n            for _ in range(count):\n                yield blank_line\n                yield new_line\n\n        if top_space > 0:\n            yield from blank_lines(top_space)\n        for line in lines:\n            yield from line\n            yield new_line\n        if bottom_space > 0:\n            yield from blank_lines(bottom_space)",
    "start_line": 270
  },
  {
    "file": "align.py",
    "type": "method",
    "class": "VerticalCenter",
    "method": "__rich_measure__",
    "name": "__rich_measure__",
    "content": "class VerticalCenter:\n    def __rich_measure__(\n        self, console: \"Console\", options: \"ConsoleOptions\"\n    ) -> Measurement:\n        measurement = Measurement.get(console, options, self.renderable)\n        return measurement\n\n\nif __name__ == \"__main__\":  # pragma: no cover",
    "start_line": 283
  },
  {
    "file": "align.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from rich.console import Console, Group\n    from rich.highlighter import ReprHighlighter\n    from rich.panel import Panel\n    highlighter = ReprHighlighter()\n    console = Console()\n    panel = Panel(\n        Group(\n            Align.left(highlighter(\"align='left'\")),\n            Align.center(highlighter(\"align='center'\")),\n            Align.right(highlighter(\"align='right'\")),\n        ),\n        width=60,\n        style=\"on dark_blue\",\n        title=\"Align\",\n    )\n    console.print(\n        Align.center(panel, vertical=\"middle\", style=\"on red\", height=console.height)\n    )",
    "start_line": 291
  },
  {
    "file": "align.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "import sys\nfrom itertools import chain\nfrom typing import TYPE_CHECKING, Iterable, Optional\n\nif sys.version_info >= (3, 8):\n    from typing import Literal\nelse:\n    from typing_extensions import Literal  # pragma: no cover\n\nfrom .constrain import Constrain\nfrom .jupyter import JupyterMixin\nfrom .measure import Measurement\nfrom .segment import Segment\nfrom .style import StyleType\n\nif TYPE_CHECKING:\n    from .console import Console, ConsoleOptions, RenderableType, RenderResult\n\nAlignMethod = Literal[\"left\", \"center\", \"right\"]\nVerticalAlignMethod = Literal[\"top\", \"middle\", \"bottom\"]\n\n\nclass Align(JupyterMixin):\n    \"\"\"Align a renderable by adding spaces if necessary.\n\n    Args:\n        renderable (RenderableType): A console renderable.\n        align (AlignMethod): One of \"left\", \"center\", or \"right\"\"\n        style (StyleType, optional): An optional style to apply to the background.\n        vertical (Optional[VerticalAlignMethod], optional): Optional vertical align, one of \"top\", \"middle\", or \"bottom\". Defaults to None.\n        pad (bool, optional): Pad the right with spaces. Defaults to True.\n        width (int, optional): Restrict contents to given width, or None to use default width. Defaults to None.\n        height (int, optional): Set height of align renderable, or None to fit to contents. Defaults to None.\n\n    Raises:\n        ValueError: if ``align`` is not one of the expected values.\n    \"\"\"\n\n    def __init__(\n        self,\n        renderable: \"RenderableType\",\n        align: AlignMethod = \"left\",\n        style: Optional[StyleType] = None,\n        *,\n        vertical: Optional[VerticalAlignMethod] = None,\n        pad: bool = True,\n        width: Optional[int] = None,\n        height: Optional[int] = None,\n    ) -> None:\n        if align not in (\"left\", \"center\", \"right\"):\n            raise ValueError(\n                f'invalid value for align, expected \"left\", \"center\", or \"right\" (not {align!r})'\n            )\n        if vertical is not None and vertical not in (\"top\", \"middle\", \"bottom\"):\n            raise ValueError(\n                f'invalid value for vertical, expected \"top\", \"middle\", or \"bottom\" (not {vertical!r})'\n            )\n        self.renderable = renderable\n        self.align = align\n        self.style = style\n        self.vertical = vertical\n        self.pad = pad\n        self.width = width\n        self.height = height\n\n    def __repr__(self) -> str:\n        return f\"Align({self.renderable!r}, {self.align!r})\"\n\n    @classmethod\n    def left(\n        cls,\n        renderable: \"RenderableType\",\n        style: Optional[StyleType] = None,\n        *,\n        vertical: Optional[VerticalAlignMethod] = None,\n        pad: bool = True,\n        width: Optional[int] = None,\n        height: Optional[int] = None,\n    ) -> \"Align\":\n        \"\"\"Align a renderable to the left.\"\"\"\n        return cls(\n            renderable,\n            \"left\",\n            style=style,\n            vertical=vertical,\n            pad=pad,\n            width=width,\n            height=height,\n        )\n\n    @classmethod\n    def center(\n        cls,\n        renderable: \"RenderableType\",\n        style: Optional[StyleType] = None,\n        *,\n        vertical: Optional[VerticalAlignMethod] = None,\n        pad: bool = True,\n        width: Optional[int] = None,\n        height: Optional[int] = None,\n    ) -> \"Align\":\n        \"\"\"Align a renderable to the center.\"\"\"\n        return cls(\n            renderable,\n            \"center\",\n            style=style,\n            vertical=vertical,\n            pad=pad,\n            width=width,\n            height=height,\n        )\n\n    @classmethod\n    def right(\n        cls,\n        renderable: \"RenderableType\",\n        style: Optional[StyleType] = None,\n        *,\n        vertical: Optional[VerticalAlignMethod] = None,\n        pad: bool = True,\n        width: Optional[int] = None,\n        height: Optional[int] = None,\n    ) -> \"Align\":\n        \"\"\"Align a renderable to the right.\"\"\"\n        return cls(\n            renderable,\n            \"right\",\n            style=style,\n            vertical=vertical,\n            pad=pad,\n            width=width,\n            height=height,\n        )\n\n    def __rich_console__(\n        self, console: \"Console\", options: \"ConsoleOptions\"\n    ) -> \"RenderResult\":\n        align = self.align\n        width = console.measure(self.renderable, options=options).maximum\n        rendered = console.render(\n            Constrain(\n                self.renderable, width if self.width is None else min(width, self.width)\n            ),\n            options.update(height=None),\n        )\n        lines = list(Segment.split_lines(rendered))\n        width, height = Segment.get_shape(lines)\n        lines = Segment.set_shape(lines, width, height)\n        new_line = Segment.line()\n        excess_space = options.max_width - width\n        style = console.get_style(self.style) if self.style is not None else None\n\n        def generate_segments() -> Iterable[Segment]:\n            if excess_space <= 0:\n                # Exact fit\n                for line in lines:\n                    yield from line\n                    yield new_line\n\n            elif align == \"left\":\n                # Pad on the right\n                pad = Segment(\" \" * excess_space, style) if self.pad else None\n                for line in lines:\n                    yield from line\n                    if pad:\n                        yield pad\n                    yield new_line\n\n            elif align == \"center\":\n                # Pad left and right\n                left = excess_space // 2\n                pad = Segment(\" \" * left, style)\n                pad_right = (\n                    Segment(\" \" * (excess_space - left), style) if self.pad else None\n                )\n                for line in lines:\n                    if left:\n                        yield pad\n                    yield from line\n                    if pad_right:\n                        yield pad_right\n                    yield new_line\n\n            elif align == \"right\":\n                # Padding on left\n                pad = Segment(\" \" * excess_space, style)\n                for line in lines:\n                    yield pad\n                    yield from line\n                    yield new_line\n\n        blank_line = (\n            Segment(f\"{' ' * (self.width or options.max_width)}\\n\", style)\n            if self.pad\n            else Segment(\"\\n\")\n        )\n\n        def blank_lines(count: int) -> Iterable[Segment]:\n            if count > 0:\n                for _ in range(count):\n                    yield blank_line\n\n        vertical_height = self.height or options.height\n        iter_segments: Iterable[Segment]\n        if self.vertical and vertical_height is not None:\n            if self.vertical == \"top\":\n                bottom_space = vertical_height - height\n                iter_segments = chain(generate_segments(), blank_lines(bottom_space))\n            elif self.vertical == \"middle\":\n                top_space = (vertical_height - height) // 2\n                bottom_space = vertical_height - top_space - height\n                iter_segments = chain(\n                    blank_lines(top_space),\n                    generate_segments(),\n                    blank_lines(bottom_space),\n                )\n            else:  #  self.vertical == \"bottom\":\n                top_space = vertical_height - height\n                iter_segments = chain(blank_lines(top_space), generate_segments())\n        else:\n            iter_segments = generate_segments()\n        if self.style:\n            style = console.get_style(self.style)\n            iter_segments = Segment.apply_style(iter_segments, style)\n        yield from iter_segments\n\n    def __rich_measure__(\n        self, console: \"Console\", options: \"ConsoleOptions\"\n    ) -> Measurement:\n        measurement = Measurement.get(console, options, self.renderable)\n        return measurement\n\n\nclass VerticalCenter(JupyterMixin):\n    \"\"\"Vertically aligns a renderable.\n\n    Warn:\n        This class is deprecated and may be removed in a future version. Use Align class with\n        `vertical=\"middle\"`.\n\n    Args:\n        renderable (RenderableType): A renderable object.\n        style (StyleType, optional): An optional style to apply to the background. Defaults to None.\n    \"\"\"\n\n    def __init__(\n        self,\n        renderable: \"RenderableType\",\n        style: Optional[StyleType] = None,\n    ) -> None:\n        self.renderable = renderable\n        self.style = style\n\n    def __repr__(self) -> str:\n        return f\"VerticalCenter({self.renderable!r})\"\n\n    def __rich_console__(\n        self, console: \"Console\", options: \"ConsoleOptions\"\n    ) -> \"RenderResult\":\n        style = console.get_style(self.style) if self.style is not None else None\n        lines = console.render_lines(\n            self.renderable, options.update(height=None), pad=False\n        )\n        width, _height = Segment.get_shape(lines)\n        new_line = Segment.line()\n        height = options.height or options.size.height\n        top_space = (height - len(lines)) // 2\n        bottom_space = height - top_space - len(lines)\n        blank_line = Segment(f\"{' ' * width}\", style)\n\n        def blank_lines(count: int) -> Iterable[Segment]:\n            for _ in range(count):\n                yield blank_line\n                yield new_line\n\n        if top_space > 0:\n            yield from blank_lines(top_space)\n        for line in lines:\n            yield from line\n            yield new_line\n        if bottom_space > 0:\n            yield from blank_lines(bottom_space)\n\n    def __rich_measure__(\n        self, console: \"Console\", options: \"ConsoleOptions\"\n    ) -> Measurement:\n        measurement = Measurement.get(console, options, self.renderable)\n        return measurement\n\n\nif __name__ == \"__main__\":  # pragma: no cover\n    from rich.console import Console, Group\n    from rich.highlighter import ReprHighlighter\n    from rich.panel import Panel\n\n    highlighter = ReprHighlighter()\n    console = Console()\n\n    panel = Panel(\n        Group(\n            Align.left(highlighter(\"align='left'\")),\n            Align.center(highlighter(\"align='center'\")),\n            Align.right(highlighter(\"align='right'\")),\n        ),\n        width=60,\n        style=\"on dark_blue\",\n        title=\"Align\",\n    )\n\n    console.print(\n        Align.center(panel, vertical=\"middle\", style=\"on red\", height=console.height)\n    )\n",
    "start_line": 0
  },
  {
    "file": "theme.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "import configparser\nfrom typing import IO, Dict, List, Mapping, Optional\nfrom .default_styles import DEFAULT_STYLES\nfrom .style import Style, StyleType",
    "start_line": 0
  },
  {
    "file": "theme.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "Theme",
    "content": "class Theme:\n    \"\"\"A container for style information, used by :class:`~rich.console.Console`.\n\n    Args:\n        styles (Dict[str, Style], optional): A mapping of style names on to styles. Defaults to None for a theme with no styles.\n        inherit (bool, optional): Inherit default styles. Defaults to True.\n    \"\"\"\n\n    styles: Dict[str, Style]",
    "start_line": 7
  },
  {
    "file": "theme.py",
    "type": "method",
    "class": "Theme",
    "method": "__init__",
    "name": "__init__",
    "content": "class Theme:\n    def __init__(\n        self, styles: Optional[Mapping[str, StyleType]] = None, inherit: bool = True\n    ):\n        self.styles = DEFAULT_STYLES.copy() if inherit else {}\n        if styles is not None:\n            self.styles.update(\n                {\n                    name: style if isinstance(style, Style) else Style.parse(style)\n                    for name, style in styles.items()\n                }\n            )\n\n    @property",
    "start_line": 17
  },
  {
    "file": "theme.py",
    "type": "method",
    "class": "Theme",
    "method": "config",
    "name": "config",
    "content": "class Theme:\n    def config(self) -> str:\n        \"\"\"Get contents of a config file for this theme.\"\"\"\n        config = \"[styles]\\n\" + \"\\n\".join(\n            f\"{name} = {style}\" for name, style in sorted(self.styles.items())\n        )\n        return config\n\n    @classmethod",
    "start_line": 30
  },
  {
    "file": "theme.py",
    "type": "method",
    "class": "Theme",
    "method": "from_file",
    "name": "from_file",
    "content": "class Theme:\n    def from_file(\n        cls, config_file: IO[str], source: Optional[str] = None, inherit: bool = True\n    ) -> \"Theme\":\n        \"\"\"Load a theme from a text mode file.\n\n        Args:\n            config_file (IO[str]): An open conf file.\n            source (str, optional): The filename of the open file. Defaults to None.\n            inherit (bool, optional): Inherit default styles. Defaults to True.\n\n        Returns:\n            Theme: A New theme instance.\n        \"\"\"\n        config = configparser.ConfigParser()\n        config.read_file(config_file, source=source)\n        styles = {name: Style.parse(value) for name, value in config.items(\"styles\")}\n        theme = Theme(styles, inherit=inherit)\n        return theme\n\n    @classmethod",
    "start_line": 38
  },
  {
    "file": "theme.py",
    "type": "method",
    "class": "Theme",
    "method": "read",
    "name": "read",
    "content": "class Theme:\n    def read(\n        cls, path: str, inherit: bool = True, encoding: Optional[str] = None\n    ) -> \"Theme\":\n        \"\"\"Read a theme from a path.\n\n        Args:\n            path (str): Path to a config file readable by Python configparser module.\n            inherit (bool, optional): Inherit default styles. Defaults to True.\n            encoding (str, optional): Encoding of the config file. Defaults to None.\n\n        Returns:\n            Theme: A new theme instance.\n        \"\"\"\n        with open(path, encoding=encoding) as config_file:\n            return cls.from_file(config_file, source=path, inherit=inherit)",
    "start_line": 58
  },
  {
    "file": "theme.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "ThemeStackError",
    "content": "class ThemeStackError(Exception):\n    \"\"\"Base exception for errors related to the theme stack.\"\"\"",
    "start_line": 75
  },
  {
    "file": "theme.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "ThemeStack",
    "content": "class ThemeStack:\n    \"\"\"A stack of themes.\n\n    Args:\n        theme (Theme): A theme instance\n    \"\"\"",
    "start_line": 79
  },
  {
    "file": "theme.py",
    "type": "method",
    "class": "ThemeStack",
    "method": "__init__",
    "name": "__init__",
    "content": "class ThemeStack:\n    def __init__(self, theme: Theme) -> None:\n        self._entries: List[Dict[str, Style]] = [theme.styles]\n        self.get = self._entries[-1].get",
    "start_line": 86
  },
  {
    "file": "theme.py",
    "type": "method",
    "class": "ThemeStack",
    "method": "push_theme",
    "name": "push_theme",
    "content": "class ThemeStack:\n    def push_theme(self, theme: Theme, inherit: bool = True) -> None:\n        \"\"\"Push a theme on the top of the stack.\n\n        Args:\n            theme (Theme): A Theme instance.\n            inherit (boolean, optional): Inherit styles from current top of stack.\n        \"\"\"\n        styles: Dict[str, Style]\n        styles = (\n            {**self._entries[-1], **theme.styles} if inherit else theme.styles.copy()\n        )\n        self._entries.append(styles)\n        self.get = self._entries[-1].get",
    "start_line": 90
  },
  {
    "file": "theme.py",
    "type": "method",
    "class": "ThemeStack",
    "method": "pop_theme",
    "name": "pop_theme",
    "content": "class ThemeStack:\n    def pop_theme(self) -> None:\n        \"\"\"Pop (and discard) the top-most theme.\"\"\"\n        if len(self._entries) == 1:\n            raise ThemeStackError(\"Unable to pop base theme\")\n        self._entries.pop()\n        self.get = self._entries[-1].get\n\n\nif __name__ == \"__main__\":  # pragma: no cover\n    theme = Theme()\n    print(theme.config)",
    "start_line": 104
  },
  {
    "file": "theme.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "import configparser\nfrom typing import IO, Dict, List, Mapping, Optional\n\nfrom .default_styles import DEFAULT_STYLES\nfrom .style import Style, StyleType\n\n\nclass Theme:\n    \"\"\"A container for style information, used by :class:`~rich.console.Console`.\n\n    Args:\n        styles (Dict[str, Style], optional): A mapping of style names on to styles. Defaults to None for a theme with no styles.\n        inherit (bool, optional): Inherit default styles. Defaults to True.\n    \"\"\"\n\n    styles: Dict[str, Style]\n\n    def __init__(\n        self, styles: Optional[Mapping[str, StyleType]] = None, inherit: bool = True\n    ):\n        self.styles = DEFAULT_STYLES.copy() if inherit else {}\n        if styles is not None:\n            self.styles.update(\n                {\n                    name: style if isinstance(style, Style) else Style.parse(style)\n                    for name, style in styles.items()\n                }\n            )\n\n    @property\n    def config(self) -> str:\n        \"\"\"Get contents of a config file for this theme.\"\"\"\n        config = \"[styles]\\n\" + \"\\n\".join(\n            f\"{name} = {style}\" for name, style in sorted(self.styles.items())\n        )\n        return config\n\n    @classmethod\n    def from_file(\n        cls, config_file: IO[str], source: Optional[str] = None, inherit: bool = True\n    ) -> \"Theme\":\n        \"\"\"Load a theme from a text mode file.\n\n        Args:\n            config_file (IO[str]): An open conf file.\n            source (str, optional): The filename of the open file. Defaults to None.\n            inherit (bool, optional): Inherit default styles. Defaults to True.\n\n        Returns:\n            Theme: A New theme instance.\n        \"\"\"\n        config = configparser.ConfigParser()\n        config.read_file(config_file, source=source)\n        styles = {name: Style.parse(value) for name, value in config.items(\"styles\")}\n        theme = Theme(styles, inherit=inherit)\n        return theme\n\n    @classmethod\n    def read(\n        cls, path: str, inherit: bool = True, encoding: Optional[str] = None\n    ) -> \"Theme\":\n        \"\"\"Read a theme from a path.\n\n        Args:\n            path (str): Path to a config file readable by Python configparser module.\n            inherit (bool, optional): Inherit default styles. Defaults to True.\n            encoding (str, optional): Encoding of the config file. Defaults to None.\n\n        Returns:\n            Theme: A new theme instance.\n        \"\"\"\n        with open(path, encoding=encoding) as config_file:\n            return cls.from_file(config_file, source=path, inherit=inherit)\n\n\nclass ThemeStackError(Exception):\n    \"\"\"Base exception for errors related to the theme stack.\"\"\"\n\n\nclass ThemeStack:\n    \"\"\"A stack of themes.\n\n    Args:\n        theme (Theme): A theme instance\n    \"\"\"\n\n    def __init__(self, theme: Theme) -> None:\n        self._entries: List[Dict[str, Style]] = [theme.styles]\n        self.get = self._entries[-1].get\n\n    def push_theme(self, theme: Theme, inherit: bool = True) -> None:\n        \"\"\"Push a theme on the top of the stack.\n\n        Args:\n            theme (Theme): A Theme instance.\n            inherit (boolean, optional): Inherit styles from current top of stack.\n        \"\"\"\n        styles: Dict[str, Style]\n        styles = (\n            {**self._entries[-1], **theme.styles} if inherit else theme.styles.copy()\n        )\n        self._entries.append(styles)\n        self.get = self._entries[-1].get\n\n    def pop_theme(self) -> None:\n        \"\"\"Pop (and discard) the top-most theme.\"\"\"\n        if len(self._entries) == 1:\n            raise ThemeStackError(\"Unable to pop base theme\")\n        self._entries.pop()\n        self.get = self._entries[-1].get\n\n\nif __name__ == \"__main__\":  # pragma: no cover\n    theme = Theme()\n    print(theme.config)\n",
    "start_line": 0
  },
  {
    "file": "style.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "import sys\nfrom functools import lru_cache\nfrom marshal import dumps, loads\nfrom random import randint\nfrom typing import Any, Dict, Iterable, List, Optional, Type, Union, cast\nfrom . import errors\nfrom .color import Color, ColorParseError, ColorSystem, blend_rgb\nfrom .repr import Result, rich_repr\nfrom .terminal_theme import DEFAULT_TERMINAL_THEME, TerminalTheme",
    "start_line": 0
  },
  {
    "file": "style.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# Style instances and style definitions are often interchangeable\nStyleType = Union[str, \"Style\"]",
    "start_line": 11
  },
  {
    "file": "style.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "_Bit",
    "content": "class _Bit:\n    \"\"\"A descriptor to get/set a style attribute bit.\"\"\"\n\n    __slots__ = [\"bit\"]",
    "start_line": 15
  },
  {
    "file": "style.py",
    "type": "method",
    "class": "_Bit",
    "method": "__init__",
    "name": "__init__",
    "content": "class _Bit:\n    def __init__(self, bit_no: int) -> None:\n        self.bit = 1 << bit_no",
    "start_line": 20
  },
  {
    "file": "style.py",
    "type": "method",
    "class": "_Bit",
    "method": "__get__",
    "name": "__get__",
    "content": "class _Bit:\n    def __get__(self, obj: \"Style\", objtype: Type[\"Style\"]) -> Optional[bool]:\n        if obj._set_attributes & self.bit:\n            return obj._attributes & self.bit != 0\n        return None\n\n\n@rich_repr",
    "start_line": 23
  },
  {
    "file": "style.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "Style",
    "content": "class Style:\n    \"\"\"A terminal style.\n\n    A terminal style consists of a color (`color`), a background color (`bgcolor`), and a number of attributes, such\n    as bold, italic etc. The attributes have 3 states: they can either be on\n    (``True``), off (``False``), or not set (``None``).\n\n    Args:\n        color (Union[Color, str], optional): Color of terminal text. Defaults to None.\n        bgcolor (Union[Color, str], optional): Color of terminal background. Defaults to None.\n        bold (bool, optional): Enable bold text. Defaults to None.\n        dim (bool, optional): Enable dim text. Defaults to None.\n        italic (bool, optional): Enable italic text. Defaults to None.\n        underline (bool, optional): Enable underlined text. Defaults to None.\n        blink (bool, optional): Enabled blinking text. Defaults to None.\n        blink2 (bool, optional): Enable fast blinking text. Defaults to None.\n        reverse (bool, optional): Enabled reverse text. Defaults to None.\n        conceal (bool, optional): Enable concealed text. Defaults to None.\n        strike (bool, optional): Enable strikethrough text. Defaults to None.\n        underline2 (bool, optional): Enable doubly underlined text. Defaults to None.\n        frame (bool, optional): Enable framed text. Defaults to None.\n        encircle (bool, optional): Enable encircled text. Defaults to None.\n        overline (bool, optional): Enable overlined text. Defaults to None.\n        link (str, link): Link URL. Defaults to None.\n\n    \"\"\"\n\n    _color: Optional[Color]\n    _bgcolor: Optional[Color]\n    _attributes: int\n    _set_attributes: int\n    _hash: Optional[int]\n    _null: bool\n    _meta: Optional[bytes]\n\n    __slots__ = [\n        \"_color\",\n        \"_bgcolor\",\n        \"_attributes\",\n        \"_set_attributes\",\n        \"_link\",\n        \"_link_id\",\n        \"_ansi\",\n        \"_style_definition\",\n        \"_hash\",\n        \"_null\",\n        \"_meta\",\n    ]",
    "start_line": 30
  },
  {
    "file": "style.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# maps bits on to SGR parameter\n    _style_map = {\n        0: \"1\",\n        1: \"2\",\n        2: \"3\",\n        3: \"4\",\n        4: \"5\",\n        5: \"6\",\n        6: \"7\",\n        7: \"8\",\n        8: \"9\",\n        9: \"21\",\n        10: \"51\",\n        11: \"52\",\n        12: \"53\",\n    }",
    "start_line": 79
  },
  {
    "file": "style.py",
    "type": "constants",
    "class": null,
    "method": null,
    "name": "module_constants",
    "content": "STYLE_ATTRIBUTES = {\n        \"dim\": \"dim\",\n        \"d\": \"dim\",\n        \"bold\": \"bold\",\n        \"b\": \"bold\",\n        \"italic\": \"italic\",\n        \"i\": \"italic\",\n        \"underline\": \"underline\",\n        \"u\": \"underline\",\n        \"blink\": \"blink\",\n        \"blink2\": \"blink2\",\n        \"reverse\": \"reverse\",\n        \"r\": \"reverse\",\n        \"conceal\": \"conceal\",\n        \"c\": \"conceal\",\n        \"strike\": \"strike\",\n        \"s\": \"strike\",\n        \"underline2\": \"underline2\",\n        \"uu\": \"underline2\",\n        \"frame\": \"frame\",\n        \"encircle\": \"encircle\",\n        \"overline\": \"overline\",\n        \"o\": \"overline\",\n    }",
    "start_line": 96
  },
  {
    "file": "style.py",
    "type": "method",
    "class": "Style",
    "method": "__init__",
    "name": "__init__",
    "content": "class Style:\n    def __init__(\n        self,\n        *,\n        color: Optional[Union[Color, str]] = None,\n        bgcolor: Optional[Union[Color, str]] = None,\n        bold: Optional[bool] = None,\n        dim: Optional[bool] = None,\n        italic: Optional[bool] = None,\n        underline: Optional[bool] = None,\n        blink: Optional[bool] = None,\n        blink2: Optional[bool] = None,\n        reverse: Optional[bool] = None,\n        conceal: Optional[bool] = None,\n        strike: Optional[bool] = None,\n        underline2: Optional[bool] = None,\n        frame: Optional[bool] = None,\n        encircle: Optional[bool] = None,\n        overline: Optional[bool] = None,\n        link: Optional[str] = None,\n        meta: Optional[Dict[str, Any]] = None,\n    ):\n        self._ansi: Optional[str] = None\n        self._style_definition: Optional[str] = None",
    "start_line": 121
  },
  {
    "file": "style.py",
    "type": "method",
    "class": "Style",
    "method": "_make_color",
    "name": "_make_color",
    "content": "class Style:\n        def _make_color(color: Union[Color, str]) -> Color:\n            return color if isinstance(color, Color) else Color.parse(color)\n\n        self._color = None if color is None else _make_color(color)\n        self._bgcolor = None if bgcolor is None else _make_color(bgcolor)\n        self._set_attributes = sum(\n            (\n                bold is not None,\n                dim is not None and 2,\n                italic is not None and 4,\n                underline is not None and 8,\n                blink is not None and 16,\n                blink2 is not None and 32,\n                reverse is not None and 64,\n                conceal is not None and 128,\n                strike is not None and 256,\n                underline2 is not None and 512,\n                frame is not None and 1024,\n                encircle is not None and 2048,\n                overline is not None and 4096,\n            )\n        )\n        self._attributes = (\n            sum(\n                (\n                    bold and 1 or 0,\n                    dim and 2 or 0,\n                    italic and 4 or 0,\n                    underline and 8 or 0,\n                    blink and 16 or 0,\n                    blink2 and 32 or 0,\n                    reverse and 64 or 0,\n                    conceal and 128 or 0,\n                    strike and 256 or 0,\n                    underline2 and 512 or 0,\n                    frame and 1024 or 0,\n                    encircle and 2048 or 0,\n                    overline and 4096 or 0,\n                )\n            )\n            if self._set_attributes\n            else 0\n        )\n\n        self._link = link\n        self._meta = None if meta is None else dumps(meta)\n        self._link_id = (\n            f\"{randint(0, 999999)}{hash(self._meta)}\" if (link or meta) else \"\"\n        )\n        self._hash: Optional[int] = None\n        self._null = not (self._set_attributes or color or bgcolor or link or meta)\n\n    @classmethod",
    "start_line": 145
  },
  {
    "file": "style.py",
    "type": "method",
    "class": "Style",
    "method": "null",
    "name": "null",
    "content": "class Style:\n    def null(cls) -> \"Style\":\n        \"\"\"Create an 'null' style, equivalent to Style(), but more performant.\"\"\"\n        return NULL_STYLE\n\n    @classmethod",
    "start_line": 198
  },
  {
    "file": "style.py",
    "type": "method",
    "class": "Style",
    "method": "from_color",
    "name": "from_color",
    "content": "class Style:\n    def from_color(\n        cls, color: Optional[Color] = None, bgcolor: Optional[Color] = None\n    ) -> \"Style\":\n        \"\"\"Create a new style with colors and no attributes.\n\n        Returns:\n            color (Optional[Color]): A (foreground) color, or None for no color. Defaults to None.\n            bgcolor (Optional[Color]): A (background) color, or None for no color. Defaults to None.\n        \"\"\"\n        style: Style = cls.__new__(Style)\n        style._ansi = None\n        style._style_definition = None\n        style._color = color\n        style._bgcolor = bgcolor\n        style._set_attributes = 0\n        style._attributes = 0\n        style._link = None\n        style._link_id = \"\"\n        style._meta = None\n        style._null = not (color or bgcolor)\n        style._hash = None\n        return style\n\n    @classmethod",
    "start_line": 203
  },
  {
    "file": "style.py",
    "type": "method",
    "class": "Style",
    "method": "from_meta",
    "name": "from_meta",
    "content": "class Style:\n    def from_meta(cls, meta: Optional[Dict[str, Any]]) -> \"Style\":\n        \"\"\"Create a new style with meta data.\n\n        Returns:\n            meta (Optional[Dict[str, Any]]): A dictionary of meta data. Defaults to None.\n        \"\"\"\n        style: Style = cls.__new__(Style)\n        style._ansi = None\n        style._style_definition = None\n        style._color = None\n        style._bgcolor = None\n        style._set_attributes = 0\n        style._attributes = 0\n        style._link = None\n        style._meta = dumps(meta)\n        style._link_id = f\"{randint(0, 999999)}{hash(style._meta)}\"\n        style._hash = None\n        style._null = not (meta)\n        return style\n\n    @classmethod",
    "start_line": 227
  },
  {
    "file": "style.py",
    "type": "method",
    "class": "Style",
    "method": "on",
    "name": "on",
    "content": "class Style:\n    def on(cls, meta: Optional[Dict[str, Any]] = None, **handlers: Any) -> \"Style\":\n        \"\"\"Create a blank style with meta information.\n\n        Example:\n            style = Style.on(click=self.on_click)\n\n        Args:\n            meta (Optional[Dict[str, Any]], optional): An optional dict of meta information.\n            **handlers (Any): Keyword arguments are translated in to handlers.\n\n        Returns:\n            Style: A Style with meta information attached.\n        \"\"\"\n        meta = {} if meta is None else meta\n        meta.update({f\"@{key}\": value for key, value in handlers.items()})\n        return cls.from_meta(meta)\n\n    bold = _Bit(0)\n    dim = _Bit(1)\n    italic = _Bit(2)\n    underline = _Bit(3)\n    blink = _Bit(4)\n    blink2 = _Bit(5)\n    reverse = _Bit(6)\n    conceal = _Bit(7)\n    strike = _Bit(8)\n    underline2 = _Bit(9)\n    frame = _Bit(10)\n    encircle = _Bit(11)\n    overline = _Bit(12)\n\n    @property",
    "start_line": 248
  },
  {
    "file": "style.py",
    "type": "method",
    "class": "Style",
    "method": "link_id",
    "name": "link_id",
    "content": "class Style:\n    def link_id(self) -> str:\n        \"\"\"Get a link id, used in ansi code for links.\"\"\"\n        return self._link_id",
    "start_line": 280
  },
  {
    "file": "style.py",
    "type": "method",
    "class": "Style",
    "method": "__str__",
    "name": "__str__",
    "content": "class Style:\n    def __str__(self) -> str:\n        \"\"\"Re-generate style definition from attributes.\"\"\"\n        if self._style_definition is None:\n            attributes: List[str] = []\n            append = attributes.append\n            bits = self._set_attributes\n            if bits & 0b0000000001111:\n                if bits & 1:\n                    append(\"bold\" if self.bold else \"not bold\")\n                if bits & (1 << 1):\n                    append(\"dim\" if self.dim else \"not dim\")\n                if bits & (1 << 2):\n                    append(\"italic\" if self.italic else \"not italic\")\n                if bits & (1 << 3):\n                    append(\"underline\" if self.underline else \"not underline\")\n            if bits & 0b0000111110000:\n                if bits & (1 << 4):\n                    append(\"blink\" if self.blink else \"not blink\")\n                if bits & (1 << 5):\n                    append(\"blink2\" if self.blink2 else \"not blink2\")\n                if bits & (1 << 6):\n                    append(\"reverse\" if self.reverse else \"not reverse\")\n                if bits & (1 << 7):\n                    append(\"conceal\" if self.conceal else \"not conceal\")\n                if bits & (1 << 8):\n                    append(\"strike\" if self.strike else \"not strike\")\n            if bits & 0b1111000000000:\n                if bits & (1 << 9):\n                    append(\"underline2\" if self.underline2 else \"not underline2\")\n                if bits & (1 << 10):\n                    append(\"frame\" if self.frame else \"not frame\")\n                if bits & (1 << 11):\n                    append(\"encircle\" if self.encircle else \"not encircle\")\n                if bits & (1 << 12):\n                    append(\"overline\" if self.overline else \"not overline\")\n            if self._color is not None:\n                append(self._color.name)\n            if self._bgcolor is not None:\n                append(\"on\")\n                append(self._bgcolor.name)\n            if self._link:\n                append(\"link\")\n                append(self._link)\n            self._style_definition = \" \".join(attributes) or \"none\"\n        return self._style_definition",
    "start_line": 284
  },
  {
    "file": "style.py",
    "type": "method",
    "class": "Style",
    "method": "__bool__",
    "name": "__bool__",
    "content": "class Style:\n    def __bool__(self) -> bool:\n        \"\"\"A Style is false if it has no attributes, colors, or links.\"\"\"\n        return not self._null",
    "start_line": 330
  },
  {
    "file": "style.py",
    "type": "method",
    "class": "Style",
    "method": "_make_ansi_codes",
    "name": "_make_ansi_codes",
    "content": "class Style:\n    def _make_ansi_codes(self, color_system: ColorSystem) -> str:\n        \"\"\"Generate ANSI codes for this style.\n\n        Args:\n            color_system (ColorSystem): Color system.\n\n        Returns:\n            str: String containing codes.\n        \"\"\"\n\n        if self._ansi is None:\n            sgr: List[str] = []\n            append = sgr.append\n            _style_map = self._style_map\n            attributes = self._attributes & self._set_attributes\n            if attributes:\n                if attributes & 1:\n                    append(_style_map[0])\n                if attributes & 2:\n                    append(_style_map[1])\n                if attributes & 4:\n                    append(_style_map[2])\n                if attributes & 8:\n                    append(_style_map[3])\n                if attributes & 0b0000111110000:\n                    for bit in range(4, 9):\n                        if attributes & (1 << bit):\n                            append(_style_map[bit])\n                if attributes & 0b1111000000000:\n                    for bit in range(9, 13):\n                        if attributes & (1 << bit):\n                            append(_style_map[bit])\n            if self._color is not None:\n                sgr.extend(self._color.downgrade(color_system).get_ansi_codes())\n            if self._bgcolor is not None:\n                sgr.extend(\n                    self._bgcolor.downgrade(color_system).get_ansi_codes(\n                        foreground=False\n                    )\n                )\n            self._ansi = \";\".join(sgr)\n        return self._ansi\n\n    @classmethod\n    @lru_cache(maxsize=1024)",
    "start_line": 334
  },
  {
    "file": "style.py",
    "type": "method",
    "class": "Style",
    "method": "normalize",
    "name": "normalize",
    "content": "class Style:\n    def normalize(cls, style: str) -> str:\n        \"\"\"Normalize a style definition so that styles with the same effect have the same string\n        representation.\n\n        Args:\n            style (str): A style definition.\n\n        Returns:\n            str: Normal form of style definition.\n        \"\"\"\n        try:\n            return str(cls.parse(style))\n        except errors.StyleSyntaxError:\n            return style.strip().lower()\n\n    @classmethod",
    "start_line": 379
  },
  {
    "file": "style.py",
    "type": "method",
    "class": "Style",
    "method": "pick_first",
    "name": "pick_first",
    "content": "class Style:\n    def pick_first(cls, *values: Optional[StyleType]) -> StyleType:\n        \"\"\"Pick first non-None style.\"\"\"\n        for value in values:\n            if value is not None:\n                return value\n        raise ValueError(\"expected at least one non-None style\")",
    "start_line": 395
  },
  {
    "file": "style.py",
    "type": "method",
    "class": "Style",
    "method": "__rich_repr__",
    "name": "__rich_repr__",
    "content": "class Style:\n    def __rich_repr__(self) -> Result:\n        yield \"color\", self.color, None\n        yield \"bgcolor\", self.bgcolor, None\n        yield \"bold\", self.bold, None,\n        yield \"dim\", self.dim, None,\n        yield \"italic\", self.italic, None\n        yield \"underline\", self.underline, None,\n        yield \"blink\", self.blink, None\n        yield \"blink2\", self.blink2, None\n        yield \"reverse\", self.reverse, None\n        yield \"conceal\", self.conceal, None\n        yield \"strike\", self.strike, None\n        yield \"underline2\", self.underline2, None\n        yield \"frame\", self.frame, None\n        yield \"encircle\", self.encircle, None\n        yield \"link\", self.link, None\n        if self._meta:\n            yield \"meta\", self.meta",
    "start_line": 402
  },
  {
    "file": "style.py",
    "type": "method",
    "class": "Style",
    "method": "__eq__",
    "name": "__eq__",
    "content": "class Style:\n    def __eq__(self, other: Any) -> bool:\n        if not isinstance(other, Style):\n            return NotImplemented\n        return self.__hash__() == other.__hash__()",
    "start_line": 421
  },
  {
    "file": "style.py",
    "type": "method",
    "class": "Style",
    "method": "__ne__",
    "name": "__ne__",
    "content": "class Style:\n    def __ne__(self, other: Any) -> bool:\n        if not isinstance(other, Style):\n            return NotImplemented\n        return self.__hash__() != other.__hash__()",
    "start_line": 426
  },
  {
    "file": "style.py",
    "type": "method",
    "class": "Style",
    "method": "__hash__",
    "name": "__hash__",
    "content": "class Style:\n    def __hash__(self) -> int:\n        if self._hash is not None:\n            return self._hash\n        self._hash = hash(\n            (\n                self._color,\n                self._bgcolor,\n                self._attributes,\n                self._set_attributes,\n                self._link,\n                self._meta,\n            )\n        )\n        return self._hash\n\n    @property",
    "start_line": 431
  },
  {
    "file": "style.py",
    "type": "method",
    "class": "Style",
    "method": "color",
    "name": "color",
    "content": "class Style:\n    def color(self) -> Optional[Color]:\n        \"\"\"The foreground color or None if it is not set.\"\"\"\n        return self._color\n\n    @property",
    "start_line": 447
  },
  {
    "file": "style.py",
    "type": "method",
    "class": "Style",
    "method": "bgcolor",
    "name": "bgcolor",
    "content": "class Style:\n    def bgcolor(self) -> Optional[Color]:\n        \"\"\"The background color or None if it is not set.\"\"\"\n        return self._bgcolor\n\n    @property",
    "start_line": 452
  },
  {
    "file": "style.py",
    "type": "method",
    "class": "Style",
    "method": "link",
    "name": "link",
    "content": "class Style:\n    def link(self) -> Optional[str]:\n        \"\"\"Link text, if set.\"\"\"\n        return self._link\n\n    @property",
    "start_line": 457
  },
  {
    "file": "style.py",
    "type": "method",
    "class": "Style",
    "method": "transparent_background",
    "name": "transparent_background",
    "content": "class Style:\n    def transparent_background(self) -> bool:\n        \"\"\"Check if the style specified a transparent background.\"\"\"\n        return self.bgcolor is None or self.bgcolor.is_default\n\n    @property",
    "start_line": 462
  },
  {
    "file": "style.py",
    "type": "method",
    "class": "Style",
    "method": "background_style",
    "name": "background_style",
    "content": "class Style:\n    def background_style(self) -> \"Style\":\n        \"\"\"A Style with background only.\"\"\"\n        return Style(bgcolor=self.bgcolor)\n\n    @property",
    "start_line": 467
  },
  {
    "file": "style.py",
    "type": "method",
    "class": "Style",
    "method": "meta",
    "name": "meta",
    "content": "class Style:\n    def meta(self) -> Dict[str, Any]:\n        \"\"\"Get meta information (can not be changed after construction).\"\"\"\n        return {} if self._meta is None else cast(Dict[str, Any], loads(self._meta))\n\n    @property",
    "start_line": 472
  },
  {
    "file": "style.py",
    "type": "method",
    "class": "Style",
    "method": "without_color",
    "name": "without_color",
    "content": "class Style:\n    def without_color(self) -> \"Style\":\n        \"\"\"Get a copy of the style with color removed.\"\"\"\n        if self._null:\n            return NULL_STYLE\n        style: Style = self.__new__(Style)\n        style._ansi = None\n        style._style_definition = None\n        style._color = None\n        style._bgcolor = None\n        style._attributes = self._attributes\n        style._set_attributes = self._set_attributes\n        style._link = self._link\n        style._link_id = f\"{randint(0, 999999)}\" if self._link else \"\"\n        style._null = False\n        style._meta = None\n        style._hash = None\n        return style\n\n    @classmethod\n    @lru_cache(maxsize=4096)",
    "start_line": 477
  },
  {
    "file": "style.py",
    "type": "method",
    "class": "Style",
    "method": "parse",
    "name": "parse",
    "content": "class Style:\n    def parse(cls, style_definition: str) -> \"Style\":\n        \"\"\"Parse a style definition.\n\n        Args:\n            style_definition (str): A string containing a style.\n\n        Raises:\n            errors.StyleSyntaxError: If the style definition syntax is invalid.\n\n        Returns:\n            `Style`: A Style instance.\n        \"\"\"\n        if style_definition.strip() == \"none\" or not style_definition:\n            return cls.null()",
    "start_line": 497
  },
  {
    "file": "style.py",
    "type": "constants",
    "class": null,
    "method": null,
    "name": "module_constants",
    "content": "STYLE_ATTRIBUTES = cls.STYLE_ATTRIBUTES\n        color: Optional[str] = None\n        bgcolor: Optional[str] = None\n        attributes: Dict[str, Optional[Any]] = {}\n        link: Optional[str] = None\n        words = iter(style_definition.split())\n        for original_word in words:\n            word = original_word.lower()\n            if word == \"on\":\n                word = next(words, \"\")\n                if not word:\n                    raise errors.StyleSyntaxError(\"color expected after 'on'\")\n                try:\n                    Color.parse(word)\n                except ColorParseError as error:\n                    raise errors.StyleSyntaxError(\n                        f\"unable to parse {word!r} as background color; {error}\"\n                    ) from None\n                bgcolor = word\n            elif word == \"not\":\n                word = next(words, \"\")\n                attribute = STYLE_ATTRIBUTES.get(word)\n                if attribute is None:\n                    raise errors.StyleSyntaxError(\n                        f\"expected style attribute after 'not', found {word!r}\"\n                    )\n                attributes[attribute] = False\n            elif word == \"link\":\n                word = next(words, \"\")\n                if not word:\n                    raise errors.StyleSyntaxError(\"URL expected after 'link'\")\n                link = word\n            elif word in STYLE_ATTRIBUTES:\n                attributes[STYLE_ATTRIBUTES[word]] = True\n            else:\n                try:\n                    Color.parse(word)\n                except ColorParseError as error:\n                    raise errors.StyleSyntaxError(\n                        f\"unable to parse {word!r} as color; {error}\"\n                    ) from None\n                color = word\n        style = Style(color=color, bgcolor=bgcolor, link=link, **attributes)\n        return style\n    @lru_cache(maxsize=1024)",
    "start_line": 512
  },
  {
    "file": "style.py",
    "type": "method",
    "class": "Style",
    "method": "get_html_style",
    "name": "get_html_style",
    "content": "class Style:\n    def get_html_style(self, theme: Optional[TerminalTheme] = None) -> str:\n        \"\"\"Get a CSS style rule.\"\"\"\n        theme = theme or DEFAULT_TERMINAL_THEME\n        css: List[str] = []\n        append = css.append\n\n        color = self.color\n        bgcolor = self.bgcolor\n        if self.reverse:\n            color, bgcolor = bgcolor, color\n        if self.dim:\n            foreground_color = (\n                theme.foreground_color if color is None else color.get_truecolor(theme)\n            )\n            color = Color.from_triplet(\n                blend_rgb(foreground_color, theme.background_color, 0.5)\n            )\n        if color is not None:\n            theme_color = color.get_truecolor(theme)\n            append(f\"color: {theme_color.hex}\")\n            append(f\"text-decoration-color: {theme_color.hex}\")\n        if bgcolor is not None:\n            theme_color = bgcolor.get_truecolor(theme, foreground=False)\n            append(f\"background-color: {theme_color.hex}\")\n        if self.bold:\n            append(\"font-weight: bold\")\n        if self.italic:\n            append(\"font-style: italic\")\n        if self.underline:\n            append(\"text-decoration: underline\")\n        if self.strike:\n            append(\"text-decoration: line-through\")\n        if self.overline:\n            append(\"text-decoration: overline\")\n        return \"; \".join(css)\n\n    @classmethod",
    "start_line": 563
  },
  {
    "file": "style.py",
    "type": "method",
    "class": "Style",
    "method": "combine",
    "name": "combine",
    "content": "class Style:\n    def combine(cls, styles: Iterable[\"Style\"]) -> \"Style\":\n        \"\"\"Combine styles and get result.\n\n        Args:\n            styles (Iterable[Style]): Styles to combine.\n\n        Returns:\n            Style: A new style instance.\n        \"\"\"\n        iter_styles = iter(styles)\n        return sum(iter_styles, next(iter_styles))\n\n    @classmethod",
    "start_line": 600
  },
  {
    "file": "style.py",
    "type": "method",
    "class": "Style",
    "method": "chain",
    "name": "chain",
    "content": "class Style:\n    def chain(cls, *styles: \"Style\") -> \"Style\":\n        \"\"\"Combine styles from positional argument in to a single style.\n\n        Args:\n            *styles (Iterable[Style]): Styles to combine.\n\n        Returns:\n            Style: A new style instance.\n        \"\"\"\n        iter_styles = iter(styles)\n        return sum(iter_styles, next(iter_styles))",
    "start_line": 613
  },
  {
    "file": "style.py",
    "type": "method",
    "class": "Style",
    "method": "copy",
    "name": "copy",
    "content": "class Style:\n    def copy(self) -> \"Style\":\n        \"\"\"Get a copy of this style.\n\n        Returns:\n            Style: A new Style instance with identical attributes.\n        \"\"\"\n        if self._null:\n            return NULL_STYLE\n        style: Style = self.__new__(Style)\n        style._ansi = self._ansi\n        style._style_definition = self._style_definition\n        style._color = self._color\n        style._bgcolor = self._bgcolor\n        style._attributes = self._attributes\n        style._set_attributes = self._set_attributes\n        style._link = self._link\n        style._link_id = f\"{randint(0, 999999)}\" if self._link else \"\"\n        style._hash = self._hash\n        style._null = False\n        style._meta = self._meta\n        return style\n\n    @lru_cache(maxsize=128)",
    "start_line": 625
  },
  {
    "file": "style.py",
    "type": "method",
    "class": "Style",
    "method": "clear_meta_and_links",
    "name": "clear_meta_and_links",
    "content": "class Style:\n    def clear_meta_and_links(self) -> \"Style\":\n        \"\"\"Get a copy of this style with link and meta information removed.\n\n        Returns:\n            Style: New style object.\n        \"\"\"\n        if self._null:\n            return NULL_STYLE\n        style: Style = self.__new__(Style)\n        style._ansi = self._ansi\n        style._style_definition = self._style_definition\n        style._color = self._color\n        style._bgcolor = self._bgcolor\n        style._attributes = self._attributes\n        style._set_attributes = self._set_attributes\n        style._link = None\n        style._link_id = \"\"\n        style._hash = None\n        style._null = False\n        style._meta = None\n        return style",
    "start_line": 648
  },
  {
    "file": "style.py",
    "type": "method",
    "class": "Style",
    "method": "update_link",
    "name": "update_link",
    "content": "class Style:\n    def update_link(self, link: Optional[str] = None) -> \"Style\":\n        \"\"\"Get a copy with a different value for link.\n\n        Args:\n            link (str, optional): New value for link. Defaults to None.\n\n        Returns:\n            Style: A new Style instance.\n        \"\"\"\n        style: Style = self.__new__(Style)\n        style._ansi = self._ansi\n        style._style_definition = self._style_definition\n        style._color = self._color\n        style._bgcolor = self._bgcolor\n        style._attributes = self._attributes\n        style._set_attributes = self._set_attributes\n        style._link = link\n        style._link_id = f\"{randint(0, 999999)}\" if link else \"\"\n        style._hash = None\n        style._null = False\n        style._meta = self._meta\n        return style",
    "start_line": 670
  },
  {
    "file": "style.py",
    "type": "method",
    "class": "Style",
    "method": "render",
    "name": "render",
    "content": "class Style:\n    def render(\n        self,\n        text: str = \"\",\n        *,\n        color_system: Optional[ColorSystem] = ColorSystem.TRUECOLOR,\n        legacy_windows: bool = False,\n    ) -> str:\n        \"\"\"Render the ANSI codes for the style.\n\n        Args:\n            text (str, optional): A string to style. Defaults to \"\".\n            color_system (Optional[ColorSystem], optional): Color system to render to. Defaults to ColorSystem.TRUECOLOR.\n\n        Returns:\n            str: A string containing ANSI style codes.\n        \"\"\"\n        if not text or color_system is None:\n            return text\n        attrs = self._ansi or self._make_ansi_codes(color_system)\n        rendered = f\"\\x1b[{attrs}m{text}\\x1b[0m\" if attrs else text\n        if self._link and not legacy_windows:\n            rendered = (\n                f\"\\x1b]8;id={self._link_id};{self._link}\\x1b\\\\{rendered}\\x1b]8;;\\x1b\\\\\"\n            )\n        return rendered",
    "start_line": 693
  },
  {
    "file": "style.py",
    "type": "method",
    "class": "Style",
    "method": "test",
    "name": "test",
    "content": "class Style:\n    def test(self, text: Optional[str] = None) -> None:\n        \"\"\"Write text with style directly to terminal.\n\n        This method is for testing purposes only.\n\n        Args:\n            text (Optional[str], optional): Text to style or None for style name.\n\n        \"\"\"\n        text = text or str(self)\n        sys.stdout.write(f\"{self.render(text)}\\n\")\n\n    @lru_cache(maxsize=1024)",
    "start_line": 719
  },
  {
    "file": "style.py",
    "type": "method",
    "class": "Style",
    "method": "_add",
    "name": "_add",
    "content": "class Style:\n    def _add(self, style: Optional[\"Style\"]) -> \"Style\":\n        if style is None or style._null:\n            return self\n        if self._null:\n            return style\n        new_style: Style = self.__new__(Style)\n        new_style._ansi = None\n        new_style._style_definition = None\n        new_style._color = style._color or self._color\n        new_style._bgcolor = style._bgcolor or self._bgcolor\n        new_style._attributes = (self._attributes & ~style._set_attributes) | (\n            style._attributes & style._set_attributes\n        )\n        new_style._set_attributes = self._set_attributes | style._set_attributes\n        new_style._link = style._link or self._link\n        new_style._link_id = style._link_id or self._link_id\n        new_style._null = style._null\n        if self._meta and style._meta:\n            new_style._meta = dumps({**self.meta, **style.meta})\n        else:\n            new_style._meta = self._meta or style._meta\n        new_style._hash = None\n        return new_style",
    "start_line": 732
  },
  {
    "file": "style.py",
    "type": "method",
    "class": "Style",
    "method": "__add__",
    "name": "__add__",
    "content": "class Style:\n    def __add__(self, style: Optional[\"Style\"]) -> \"Style\":\n        combined_style = self._add(style)\n        return combined_style.copy() if combined_style.link else combined_style",
    "start_line": 756
  },
  {
    "file": "style.py",
    "type": "constants",
    "class": null,
    "method": null,
    "name": "module_constants",
    "content": "NULL_STYLE = Style()",
    "start_line": 761
  },
  {
    "file": "style.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "StyleStack",
    "content": "class StyleStack:\n    \"\"\"A stack of styles.\"\"\"\n\n    __slots__ = [\"_stack\"]",
    "start_line": 764
  },
  {
    "file": "style.py",
    "type": "method",
    "class": "StyleStack",
    "method": "__init__",
    "name": "__init__",
    "content": "class StyleStack:\n    def __init__(self, default_style: \"Style\") -> None:\n        self._stack: List[Style] = [default_style]",
    "start_line": 769
  },
  {
    "file": "style.py",
    "type": "method",
    "class": "StyleStack",
    "method": "__repr__",
    "name": "__repr__",
    "content": "class StyleStack:\n    def __repr__(self) -> str:\n        return f\"<stylestack {self._stack!r}>\"\n\n    @property",
    "start_line": 772
  },
  {
    "file": "style.py",
    "type": "method",
    "class": "StyleStack",
    "method": "current",
    "name": "current",
    "content": "class StyleStack:\n    def current(self) -> Style:\n        \"\"\"Get the Style at the top of the stack.\"\"\"\n        return self._stack[-1]",
    "start_line": 776
  },
  {
    "file": "style.py",
    "type": "method",
    "class": "StyleStack",
    "method": "push",
    "name": "push",
    "content": "class StyleStack:\n    def push(self, style: Style) -> None:\n        \"\"\"Push a new style on to the stack.\n\n        Args:\n            style (Style): New style to combine with current style.\n        \"\"\"\n        self._stack.append(self._stack[-1] + style)",
    "start_line": 780
  },
  {
    "file": "style.py",
    "type": "method",
    "class": "StyleStack",
    "method": "pop",
    "name": "pop",
    "content": "class StyleStack:\n    def pop(self) -> Style:\n        \"\"\"Pop last style and discard.\n\n        Returns:\n            Style: New current style (also available as stack.current)\n        \"\"\"\n        self._stack.pop()\n        return self._stack[-1]",
    "start_line": 788
  },
  {
    "file": "style.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "import sys\nfrom functools import lru_cache\nfrom marshal import dumps, loads\nfrom random import randint\nfrom typing import Any, Dict, Iterable, List, Optional, Type, Union, cast\n\nfrom . import errors\nfrom .color import Color, ColorParseError, ColorSystem, blend_rgb\nfrom .repr import Result, rich_repr\nfrom .terminal_theme import DEFAULT_TERMINAL_THEME, TerminalTheme\n\n# Style instances and style definitions are often interchangeable\nStyleType = Union[str, \"Style\"]\n\n\nclass _Bit:\n    \"\"\"A descriptor to get/set a style attribute bit.\"\"\"\n\n    __slots__ = [\"bit\"]\n\n    def __init__(self, bit_no: int) -> None:\n        self.bit = 1 << bit_no\n\n    def __get__(self, obj: \"Style\", objtype: Type[\"Style\"]) -> Optional[bool]:\n        if obj._set_attributes & self.bit:\n            return obj._attributes & self.bit != 0\n        return None\n\n\n@rich_repr\nclass Style:\n    \"\"\"A terminal style.\n\n    A terminal style consists of a color (`color`), a background color (`bgcolor`), and a number of attributes, such\n    as bold, italic etc. The attributes have 3 states: they can either be on\n    (``True``), off (``False``), or not set (``None``).\n\n    Args:\n        color (Union[Color, str], optional): Color of terminal text. Defaults to None.\n        bgcolor (Union[Color, str], optional): Color of terminal background. Defaults to None.\n        bold (bool, optional): Enable bold text. Defaults to None.\n        dim (bool, optional): Enable dim text. Defaults to None.\n        italic (bool, optional): Enable italic text. Defaults to None.\n        underline (bool, optional): Enable underlined text. Defaults to None.\n        blink (bool, optional): Enabled blinking text. Defaults to None.\n        blink2 (bool, optional): Enable fast blinking text. Defaults to None.\n        reverse (bool, optional): Enabled reverse text. Defaults to None.\n        conceal (bool, optional): Enable concealed text. Defaults to None.\n        strike (bool, optional): Enable strikethrough text. Defaults to None.\n        underline2 (bool, optional): Enable doubly underlined text. Defaults to None.\n        frame (bool, optional): Enable framed text. Defaults to None.\n        encircle (bool, optional): Enable encircled text. Defaults to None.\n        overline (bool, optional): Enable overlined text. Defaults to None.\n        link (str, link): Link URL. Defaults to None.\n\n    \"\"\"\n\n    _color: Optional[Color]\n    _bgcolor: Optional[Color]\n    _attributes: int\n    _set_attributes: int\n    _hash: Optional[int]\n    _null: bool\n    _meta: Optional[bytes]\n\n    __slots__ = [\n        \"_color\",\n        \"_bgcolor\",\n        \"_attributes\",\n        \"_set_attributes\",\n        \"_link\",\n        \"_link_id\",\n        \"_ansi\",\n        \"_style_definition\",\n        \"_hash\",\n        \"_null\",\n        \"_meta\",\n    ]\n\n    # maps bits on to SGR parameter\n    _style_map = {\n        0: \"1\",\n        1: \"2\",\n        2: \"3\",\n        3: \"4\",\n        4: \"5\",\n        5: \"6\",\n        6: \"7\",\n        7: \"8\",\n        8: \"9\",\n        9: \"21\",\n        10: \"51\",\n        11: \"52\",\n        12: \"53\",\n    }\n\n    STYLE_ATTRIBUTES = {\n        \"dim\": \"dim\",\n        \"d\": \"dim\",\n        \"bold\": \"bold\",\n        \"b\": \"bold\",\n        \"italic\": \"italic\",\n        \"i\": \"italic\",\n        \"underline\": \"underline\",\n        \"u\": \"underline\",\n        \"blink\": \"blink\",\n        \"blink2\": \"blink2\",\n        \"reverse\": \"reverse\",\n        \"r\": \"reverse\",\n        \"conceal\": \"conceal\",\n        \"c\": \"conceal\",\n        \"strike\": \"strike\",\n        \"s\": \"strike\",\n        \"underline2\": \"underline2\",\n        \"uu\": \"underline2\",\n        \"frame\": \"frame\",\n        \"encircle\": \"encircle\",\n        \"overline\": \"overline\",\n        \"o\": \"overline\",\n    }\n\n    def __init__(\n        self,\n        *,\n        color: Optional[Union[Color, str]] = None,\n        bgcolor: Optional[Union[Color, str]] = None,\n        bold: Optional[bool] = None,\n        dim: Optional[bool] = None,\n        italic: Optional[bool] = None,\n        underline: Optional[bool] = None,\n        blink: Optional[bool] = None,\n        blink2: Optional[bool] = None,\n        reverse: Optional[bool] = None,\n        conceal: Optional[bool] = None,\n        strike: Optional[bool] = None,\n        underline2: Optional[bool] = None,\n        frame: Optional[bool] = None,\n        encircle: Optional[bool] = None,\n        overline: Optional[bool] = None,\n        link: Optional[str] = None,\n        meta: Optional[Dict[str, Any]] = None,\n    ):\n        self._ansi: Optional[str] = None\n        self._style_definition: Optional[str] = None\n\n        def _make_color(color: Union[Color, str]) -> Color:\n            return color if isinstance(color, Color) else Color.parse(color)\n\n        self._color = None if color is None else _make_color(color)\n        self._bgcolor = None if bgcolor is None else _make_color(bgcolor)\n        self._set_attributes = sum(\n            (\n                bold is not None,\n                dim is not None and 2,\n                italic is not None and 4,\n                underline is not None and 8,\n                blink is not None and 16,\n                blink2 is not None and 32,\n                reverse is not None and 64,\n                conceal is not None and 128,\n                strike is not None and 256,\n                underline2 is not None and 512,\n                frame is not None and 1024,\n                encircle is not None and 2048,\n                overline is not None and 4096,\n            )\n        )\n        self._attributes = (\n            sum(\n                (\n                    bold and 1 or 0,\n                    dim and 2 or 0,\n                    italic and 4 or 0,\n                    underline and 8 or 0,\n                    blink and 16 or 0,\n                    blink2 and 32 or 0,\n                    reverse and 64 or 0,\n                    conceal and 128 or 0,\n                    strike and 256 or 0,\n                    underline2 and 512 or 0,\n                    frame and 1024 or 0,\n                    encircle and 2048 or 0,\n                    overline and 4096 or 0,\n                )\n            )\n            if self._set_attributes\n            else 0\n        )\n\n        self._link = link\n        self._meta = None if meta is None else dumps(meta)\n        self._link_id = (\n            f\"{randint(0, 999999)}{hash(self._meta)}\" if (link or meta) else \"\"\n        )\n        self._hash: Optional[int] = None\n        self._null = not (self._set_attributes or color or bgcolor or link or meta)\n\n    @classmethod\n    def null(cls) -> \"Style\":\n        \"\"\"Create an 'null' style, equivalent to Style(), but more performant.\"\"\"\n        return NULL_STYLE\n\n    @classmethod\n    def from_color(\n        cls, color: Optional[Color] = None, bgcolor: Optional[Color] = None\n    ) -> \"Style\":\n        \"\"\"Create a new style with colors and no attributes.\n\n        Returns:\n            color (Optional[Color]): A (foreground) color, or None for no color. Defaults to None.\n            bgcolor (Optional[Color]): A (background) color, or None for no color. Defaults to None.\n        \"\"\"\n        style: Style = cls.__new__(Style)\n        style._ansi = None\n        style._style_definition = None\n        style._color = color\n        style._bgcolor = bgcolor\n        style._set_attributes = 0\n        style._attributes = 0\n        style._link = None\n        style._link_id = \"\"\n        style._meta = None\n        style._null = not (color or bgcolor)\n        style._hash = None\n        return style\n\n    @classmethod\n    def from_meta(cls, meta: Optional[Dict[str, Any]]) -> \"Style\":\n        \"\"\"Create a new style with meta data.\n\n        Returns:\n            meta (Optional[Dict[str, Any]]): A dictionary of meta data. Defaults to None.\n        \"\"\"\n        style: Style = cls.__new__(Style)\n        style._ansi = None\n        style._style_definition = None\n        style._color = None\n        style._bgcolor = None\n        style._set_attributes = 0\n        style._attributes = 0\n        style._link = None\n        style._meta = dumps(meta)\n        style._link_id = f\"{randint(0, 999999)}{hash(style._meta)}\"\n        style._hash = None\n        style._null = not (meta)\n        return style\n\n    @classmethod\n    def on(cls, meta: Optional[Dict[str, Any]] = None, **handlers: Any) -> \"Style\":\n        \"\"\"Create a blank style with meta information.\n\n        Example:\n            style = Style.on(click=self.on_click)\n\n        Args:\n            meta (Optional[Dict[str, Any]], optional): An optional dict of meta information.\n            **handlers (Any): Keyword arguments are translated in to handlers.\n\n        Returns:\n            Style: A Style with meta information attached.\n        \"\"\"\n        meta = {} if meta is None else meta\n        meta.update({f\"@{key}\": value for key, value in handlers.items()})\n        return cls.from_meta(meta)\n\n    bold = _Bit(0)\n    dim = _Bit(1)\n    italic = _Bit(2)\n    underline = _Bit(3)\n    blink = _Bit(4)\n    blink2 = _Bit(5)\n    reverse = _Bit(6)\n    conceal = _Bit(7)\n    strike = _Bit(8)\n    underline2 = _Bit(9)\n    frame = _Bit(10)\n    encircle = _Bit(11)\n    overline = _Bit(12)\n\n    @property\n    def link_id(self) -> str:\n        \"\"\"Get a link id, used in ansi code for links.\"\"\"\n        return self._link_id\n\n    def __str__(self) -> str:\n        \"\"\"Re-generate style definition from attributes.\"\"\"\n        if self._style_definition is None:\n            attributes: List[str] = []\n            append = attributes.append\n            bits = self._set_attributes\n            if bits & 0b0000000001111:\n                if bits & 1:\n                    append(\"bold\" if self.bold else \"not bold\")\n                if bits & (1 << 1):\n                    append(\"dim\" if self.dim else \"not dim\")\n                if bits & (1 << 2):\n                    append(\"italic\" if self.italic else \"not italic\")\n                if bits & (1 << 3):\n                    append(\"underline\" if self.underline else \"not underline\")\n            if bits & 0b0000111110000:\n                if bits & (1 << 4):\n                    append(\"blink\" if self.blink else \"not blink\")\n                if bits & (1 << 5):\n                    append(\"blink2\" if self.blink2 else \"not blink2\")\n                if bits & (1 << 6):\n                    append(\"reverse\" if self.reverse else \"not reverse\")\n                if bits & (1 << 7):\n                    append(\"conceal\" if self.conceal else \"not conceal\")\n                if bits & (1 << 8):\n                    append(\"strike\" if self.strike else \"not strike\")\n            if bits & 0b1111000000000:\n                if bits & (1 << 9):\n                    append(\"underline2\" if self.underline2 else \"not underline2\")\n                if bits & (1 << 10):\n                    append(\"frame\" if self.frame else \"not frame\")\n                if bits & (1 << 11):\n                    append(\"encircle\" if self.encircle else \"not encircle\")\n                if bits & (1 << 12):\n                    append(\"overline\" if self.overline else \"not overline\")\n            if self._color is not None:\n                append(self._color.name)\n            if self._bgcolor is not None:\n                append(\"on\")\n                append(self._bgcolor.name)\n            if self._link:\n                append(\"link\")\n                append(self._link)\n            self._style_definition = \" \".join(attributes) or \"none\"\n        return self._style_definition\n\n    def __bool__(self) -> bool:\n        \"\"\"A Style is false if it has no attributes, colors, or links.\"\"\"\n        return not self._null\n\n    def _make_ansi_codes(self, color_system: ColorSystem) -> str:\n        \"\"\"Generate ANSI codes for this style.\n\n        Args:\n            color_system (ColorSystem): Color system.\n\n        Returns:\n            str: String containing codes.\n        \"\"\"\n\n        if self._ansi is None:\n            sgr: List[str] = []\n            append = sgr.append\n            _style_map = self._style_map\n            attributes = self._attributes & self._set_attributes\n            if attributes:\n                if attributes & 1:\n                    append(_style_map[0])\n                if attributes & 2:\n                    append(_style_map[1])\n                if attributes & 4:\n                    append(_style_map[2])\n                if attributes & 8:\n                    append(_style_map[3])\n                if attributes & 0b0000111110000:\n                    for bit in range(4, 9):\n                        if attributes & (1 << bit):\n                            append(_style_map[bit])\n                if attributes & 0b1111000000000:\n                    for bit in range(9, 13):\n                        if attributes & (1 << bit):\n                            append(_style_map[bit])\n            if self._color is not None:\n                sgr.extend(self._color.downgrade(color_system).get_ansi_codes())\n            if self._bgcolor is not None:\n                sgr.extend(\n                    self._bgcolor.downgrade(color_system).get_ansi_codes(\n                        foreground=False\n                    )\n                )\n            self._ansi = \";\".join(sgr)\n        return self._ansi\n\n    @classmethod\n    @lru_cache(maxsize=1024)\n    def normalize(cls, style: str) -> str:\n        \"\"\"Normalize a style definition so that styles with the same effect have the same string\n        representation.\n\n        Args:\n            style (str): A style definition.\n\n        Returns:\n            str: Normal form of style definition.\n        \"\"\"\n        try:\n            return str(cls.parse(style))\n        except errors.StyleSyntaxError:\n            return style.strip().lower()\n\n    @classmethod\n    def pick_first(cls, *values: Optional[StyleType]) -> StyleType:\n        \"\"\"Pick first non-None style.\"\"\"\n        for value in values:\n            if value is not None:\n                return value\n        raise ValueError(\"expected at least one non-None style\")\n\n    def __rich_repr__(self) -> Result:\n        yield \"color\", self.color, None\n        yield \"bgcolor\", self.bgcolor, None\n        yield \"bold\", self.bold, None,\n        yield \"dim\", self.dim, None,\n        yield \"italic\", self.italic, None\n        yield \"underline\", self.underline, None,\n        yield \"blink\", self.blink, None\n        yield \"blink2\", self.blink2, None\n        yield \"reverse\", self.reverse, None\n        yield \"conceal\", self.conceal, None\n        yield \"strike\", self.strike, None\n        yield \"underline2\", self.underline2, None\n        yield \"frame\", self.frame, None\n        yield \"encircle\", self.encircle, None\n        yield \"link\", self.link, None\n        if self._meta:\n            yield \"meta\", self.meta\n\n    def __eq__(self, other: Any) -> bool:\n        if not isinstance(other, Style):\n            return NotImplemented\n        return self.__hash__() == other.__hash__()\n\n    def __ne__(self, other: Any) -> bool:\n        if not isinstance(other, Style):\n            return NotImplemented\n        return self.__hash__() != other.__hash__()\n\n    def __hash__(self) -> int:\n        if self._hash is not None:\n            return self._hash\n        self._hash = hash(\n            (\n                self._color,\n                self._bgcolor,\n                self._attributes,\n                self._set_attributes,\n                self._link,\n                self._meta,\n            )\n        )\n        return self._hash\n\n    @property\n    def color(self) -> Optional[Color]:\n        \"\"\"The foreground color or None if it is not set.\"\"\"\n        return self._color\n\n    @property\n    def bgcolor(self) -> Optional[Color]:\n        \"\"\"The background color or None if it is not set.\"\"\"\n        return self._bgcolor\n\n    @property\n    def link(self) -> Optional[str]:\n        \"\"\"Link text, if set.\"\"\"\n        return self._link\n\n    @property\n    def transparent_background(self) -> bool:\n        \"\"\"Check if the style specified a transparent background.\"\"\"\n        return self.bgcolor is None or self.bgcolor.is_default\n\n    @property\n    def background_style(self) -> \"Style\":\n        \"\"\"A Style with background only.\"\"\"\n        return Style(bgcolor=self.bgcolor)\n\n    @property\n    def meta(self) -> Dict[str, Any]:\n        \"\"\"Get meta information (can not be changed after construction).\"\"\"\n        return {} if self._meta is None else cast(Dict[str, Any], loads(self._meta))\n\n    @property\n    def without_color(self) -> \"Style\":\n        \"\"\"Get a copy of the style with color removed.\"\"\"\n        if self._null:\n            return NULL_STYLE\n        style: Style = self.__new__(Style)\n        style._ansi = None\n        style._style_definition = None\n        style._color = None\n        style._bgcolor = None\n        style._attributes = self._attributes\n        style._set_attributes = self._set_attributes\n        style._link = self._link\n        style._link_id = f\"{randint(0, 999999)}\" if self._link else \"\"\n        style._null = False\n        style._meta = None\n        style._hash = None\n        return style\n\n    @classmethod\n    @lru_cache(maxsize=4096)\n    def parse(cls, style_definition: str) -> \"Style\":\n        \"\"\"Parse a style definition.\n\n        Args:\n            style_definition (str): A string containing a style.\n\n        Raises:\n            errors.StyleSyntaxError: If the style definition syntax is invalid.\n\n        Returns:\n            `Style`: A Style instance.\n        \"\"\"\n        if style_definition.strip() == \"none\" or not style_definition:\n            return cls.null()\n\n        STYLE_ATTRIBUTES = cls.STYLE_ATTRIBUTES\n        color: Optional[str] = None\n        bgcolor: Optional[str] = None\n        attributes: Dict[str, Optional[Any]] = {}\n        link: Optional[str] = None\n\n        words = iter(style_definition.split())\n        for original_word in words:\n            word = original_word.lower()\n            if word == \"on\":\n                word = next(words, \"\")\n                if not word:\n                    raise errors.StyleSyntaxError(\"color expected after 'on'\")\n                try:\n                    Color.parse(word)\n                except ColorParseError as error:\n                    raise errors.StyleSyntaxError(\n                        f\"unable to parse {word!r} as background color; {error}\"\n                    ) from None\n                bgcolor = word\n\n            elif word == \"not\":\n                word = next(words, \"\")\n                attribute = STYLE_ATTRIBUTES.get(word)\n                if attribute is None:\n                    raise errors.StyleSyntaxError(\n                        f\"expected style attribute after 'not', found {word!r}\"\n                    )\n                attributes[attribute] = False\n\n            elif word == \"link\":\n                word = next(words, \"\")\n                if not word:\n                    raise errors.StyleSyntaxError(\"URL expected after 'link'\")\n                link = word\n\n            elif word in STYLE_ATTRIBUTES:\n                attributes[STYLE_ATTRIBUTES[word]] = True\n\n            else:\n                try:\n                    Color.parse(word)\n                except ColorParseError as error:\n                    raise errors.StyleSyntaxError(\n                        f\"unable to parse {word!r} as color; {error}\"\n                    ) from None\n                color = word\n        style = Style(color=color, bgcolor=bgcolor, link=link, **attributes)\n        return style\n\n    @lru_cache(maxsize=1024)\n    def get_html_style(self, theme: Optional[TerminalTheme] = None) -> str:\n        \"\"\"Get a CSS style rule.\"\"\"\n        theme = theme or DEFAULT_TERMINAL_THEME\n        css: List[str] = []\n        append = css.append\n\n        color = self.color\n        bgcolor = self.bgcolor\n        if self.reverse:\n            color, bgcolor = bgcolor, color\n        if self.dim:\n            foreground_color = (\n                theme.foreground_color if color is None else color.get_truecolor(theme)\n            )\n            color = Color.from_triplet(\n                blend_rgb(foreground_color, theme.background_color, 0.5)\n            )\n        if color is not None:\n            theme_color = color.get_truecolor(theme)\n            append(f\"color: {theme_color.hex}\")\n            append(f\"text-decoration-color: {theme_color.hex}\")\n        if bgcolor is not None:\n            theme_color = bgcolor.get_truecolor(theme, foreground=False)\n            append(f\"background-color: {theme_color.hex}\")\n        if self.bold:\n            append(\"font-weight: bold\")\n        if self.italic:\n            append(\"font-style: italic\")\n        if self.underline:\n            append(\"text-decoration: underline\")\n        if self.strike:\n            append(\"text-decoration: line-through\")\n        if self.overline:\n            append(\"text-decoration: overline\")\n        return \"; \".join(css)\n\n    @classmethod\n    def combine(cls, styles: Iterable[\"Style\"]) -> \"Style\":\n        \"\"\"Combine styles and get result.\n\n        Args:\n            styles (Iterable[Style]): Styles to combine.\n\n        Returns:\n            Style: A new style instance.\n        \"\"\"\n        iter_styles = iter(styles)\n        return sum(iter_styles, next(iter_styles))\n\n    @classmethod\n    def chain(cls, *styles: \"Style\") -> \"Style\":\n        \"\"\"Combine styles from positional argument in to a single style.\n\n        Args:\n            *styles (Iterable[Style]): Styles to combine.\n\n        Returns:\n            Style: A new style instance.\n        \"\"\"\n        iter_styles = iter(styles)\n        return sum(iter_styles, next(iter_styles))\n\n    def copy(self) -> \"Style\":\n        \"\"\"Get a copy of this style.\n\n        Returns:\n            Style: A new Style instance with identical attributes.\n        \"\"\"\n        if self._null:\n            return NULL_STYLE\n        style: Style = self.__new__(Style)\n        style._ansi = self._ansi\n        style._style_definition = self._style_definition\n        style._color = self._color\n        style._bgcolor = self._bgcolor\n        style._attributes = self._attributes\n        style._set_attributes = self._set_attributes\n        style._link = self._link\n        style._link_id = f\"{randint(0, 999999)}\" if self._link else \"\"\n        style._hash = self._hash\n        style._null = False\n        style._meta = self._meta\n        return style\n\n    @lru_cache(maxsize=128)\n    def clear_meta_and_links(self) -> \"Style\":\n        \"\"\"Get a copy of this style with link and meta information removed.\n\n        Returns:\n            Style: New style object.\n        \"\"\"\n        if self._null:\n            return NULL_STYLE\n        style: Style = self.__new__(Style)\n        style._ansi = self._ansi\n        style._style_definition = self._style_definition\n        style._color = self._color\n        style._bgcolor = self._bgcolor\n        style._attributes = self._attributes\n        style._set_attributes = self._set_attributes\n        style._link = None\n        style._link_id = \"\"\n        style._hash = None\n        style._null = False\n        style._meta = None\n        return style\n\n    def update_link(self, link: Optional[str] = None) -> \"Style\":\n        \"\"\"Get a copy with a different value for link.\n\n        Args:\n            link (str, optional): New value for link. Defaults to None.\n\n        Returns:\n            Style: A new Style instance.\n        \"\"\"\n        style: Style = self.__new__(Style)\n        style._ansi = self._ansi\n        style._style_definition = self._style_definition\n        style._color = self._color\n        style._bgcolor = self._bgcolor\n        style._attributes = self._attributes\n        style._set_attributes = self._set_attributes\n        style._link = link\n        style._link_id = f\"{randint(0, 999999)}\" if link else \"\"\n        style._hash = None\n        style._null = False\n        style._meta = self._meta\n        return style\n\n    def render(\n        self,\n        text: str = \"\",\n        *,\n        color_system: Optional[ColorSystem] = ColorSystem.TRUECOLOR,\n        legacy_windows: bool = False,\n    ) -> str:\n        \"\"\"Render the ANSI codes for the style.\n\n        Args:\n            text (str, optional): A string to style. Defaults to \"\".\n            color_system (Optional[ColorSystem], optional): Color system to render to. Defaults to ColorSystem.TRUECOLOR.\n\n        Returns:\n            str: A string containing ANSI style codes.\n        \"\"\"\n        if not text or color_system is None:\n            return text\n        attrs = self._ansi or self._make_ansi_codes(color_system)\n        rendered = f\"\\x1b[{attrs}m{text}\\x1b[0m\" if attrs else text\n        if self._link and not legacy_windows:\n            rendered = (\n                f\"\\x1b]8;id={self._link_id};{self._link}\\x1b\\\\{rendered}\\x1b]8;;\\x1b\\\\\"\n            )\n        return rendered\n\n    def test(self, text: Optional[str] = None) -> None:\n        \"\"\"Write text with style directly to terminal.\n\n        This method is for testing purposes only.\n\n        Args:\n            text (Optional[str], optional): Text to style or None for style name.\n\n        \"\"\"\n        text = text or str(self)\n        sys.stdout.write(f\"{self.render(text)}\\n\")\n\n    @lru_cache(maxsize=1024)\n    def _add(self, style: Optional[\"Style\"]) -> \"Style\":\n        if style is None or style._null:\n            return self\n        if self._null:\n            return style\n        new_style: Style = self.__new__(Style)\n        new_style._ansi = None\n        new_style._style_definition = None\n        new_style._color = style._color or self._color\n        new_style._bgcolor = style._bgcolor or self._bgcolor\n        new_style._attributes = (self._attributes & ~style._set_attributes) | (\n            style._attributes & style._set_attributes\n        )\n        new_style._set_attributes = self._set_attributes | style._set_attributes\n        new_style._link = style._link or self._link\n        new_style._link_id = style._link_id or self._link_id\n        new_style._null = style._null\n        if self._meta and style._meta:\n            new_style._meta = dumps({**self.meta, **style.meta})\n        else:\n            new_style._meta = self._meta or style._meta\n        new_style._hash = None\n        return new_style\n\n    def __add__(self, style: Optional[\"Style\"]) -> \"Style\":\n        combined_style = self._add(style)\n        return combined_style.copy() if combined_style.link else combined_style\n\n\nNULL_STYLE = Style()\n\n\nclass StyleStack:\n    \"\"\"A stack of styles.\"\"\"\n\n    __slots__ = [\"_stack\"]\n\n    def __init__(self, default_style: \"Style\") -> None:\n        self._stack: List[Style] = [default_style]\n\n    def __repr__(self) -> str:\n        return f\"<stylestack {self._stack!r}>\"\n\n    @property\n    def current(self) -> Style:\n        \"\"\"Get the Style at the top of the stack.\"\"\"\n        return self._stack[-1]\n\n    def push(self, style: Style) -> None:\n        \"\"\"Push a new style on to the stack.\n\n        Args:\n            style (Style): New style to combine with current style.\n        \"\"\"\n        self._stack.append(self._stack[-1] + style)\n\n    def pop(self) -> Style:\n        \"\"\"Pop last style and discard.\n\n        Returns:\n            Style: New current style (also available as stack.current)\n        \"\"\"\n        self._stack.pop()\n        return self._stack[-1]\n",
    "start_line": 0
  },
  {
    "file": "default_styles.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from typing import Dict\nfrom .style import Style\nDEFAULT_STYLES: Dict[str, Style] = {\n    \"none\": Style.null(),\n    \"reset\": Style(",
    "start_line": 0
  },
  {
    "file": "default_styles.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "color=\"default\",\n        bgcolor=\"default\",\n        dim=False,\n        bold=False,\n        italic=False,\n        underline=False,\n        blink=False,\n        blink2=False,\n        reverse=False,\n        conceal=False,\n        strike=False,\n    ),\n    \"dim\": Style(dim=True),\n    \"bright\": Style(dim=False),\n    \"bold\": Style(bold=True),\n    \"strong\": Style(bold=True),\n    \"code\": Style(reverse=True, bold=True),\n    \"italic\": Style(italic=True),\n    \"emphasize\": Style(italic=True),\n    \"underline\": Style(underline=True),\n    \"blink\": Style(blink=True),\n    \"blink2\": Style(blink2=True),\n    \"reverse\": Style(reverse=True),\n    \"strike\": Style(strike=True),\n    \"black\": Style(color=\"black\"),\n    \"red\": Style(color=\"red\"),\n    \"green\": Style(color=\"green\"),\n    \"yellow\": Style(color=\"yellow\"),\n    \"magenta\": Style(color=\"magenta\"),\n    \"cyan\": Style(color=\"cyan\"),\n    \"white\": Style(color=\"white\"),\n    \"inspect.attr\": Style(color=\"yellow\", italic=True),\n    \"inspect.attr.dunder\": Style(color=\"yellow\", italic=True, dim=True),\n    \"inspect.callable\": Style(bold=True, color=\"red\"),\n    \"inspect.async_def\": Style(italic=True, color=\"bright_cyan\"),\n    \"inspect.def\": Style(italic=True, color=\"bright_cyan\"),\n    \"inspect.class\": Style(italic=True, color=\"bright_cyan\"),\n    \"inspect.error\": Style(bold=True, color=\"red\"),\n    \"inspect.equals\": Style(),\n    \"inspect.help\": Style(color=\"cyan\"),\n    \"inspect.doc\": Style(dim=True),\n    \"inspect.value.border\": Style(color=\"green\"),\n    \"live.ellipsis\": Style(bold=True, color=\"red\"),\n    \"layout.tree.row\": Style(dim=False, color=\"red\"),\n    \"layout.tree.column\": Style(dim=False, color=\"blue\"),\n    \"logging.keyword\": Style(bold=True, color=\"yellow\"),\n    \"logging.level.notset\": Style(dim=True),\n    \"logging.level.debug\": Style(color=\"green\"),\n    \"logging.level.info\": Style(color=\"blue\"),\n    \"logging.level.warning\": Style(color=\"yellow\"),\n    \"logging.level.error\": Style(color=\"red\", bold=True),\n    \"logging.level.critical\": Style(color=\"red\", bold=True, reverse=True),\n    \"log.level\": Style.null(),\n    \"log.time\": Style(color=\"cyan\", dim=True),\n    \"log.message\": Style.null(),\n    \"log.path\": Style(dim=True),\n    \"repr.ellipsis\": Style(color=\"yellow\"),\n    \"repr.indent\": Style(color=\"green\", dim=True),\n    \"repr.error\": Style(color=\"red\", bold=True),\n    \"repr.str\": Style(color=\"green\", italic=False, bold=False),\n    \"repr.brace\": Style(bold=True),\n    \"repr.comma\": Style(bold=True),\n    \"repr.ipv4\": Style(bold=True, color=\"bright_green\"),\n    \"repr.ipv6\": Style(bold=True, color=\"bright_green\"),\n    \"repr.eui48\": Style(bold=True, color=\"bright_green\"),\n    \"repr.eui64\": Style(bold=True, color=\"bright_green\"),\n    \"repr.tag_start\": Style(bold=True),\n    \"repr.tag_name\": Style(color=\"bright_magenta\", bold=True),\n    \"repr.tag_contents\": Style(color=\"default\"),\n    \"repr.tag_end\": Style(bold=True),\n    \"repr.attrib_name\": Style(color=\"yellow\", italic=False),\n    \"repr.attrib_equal\": Style(bold=True),\n    \"repr.attrib_value\": Style(color=\"magenta\", italic=False),\n    \"repr.number\": Style(color=\"cyan\", bold=True, italic=False),\n    \"repr.number_complex\": Style(color=\"cyan\", bold=True, italic=False),  # same\n    \"repr.bool_true\": Style(color=\"bright_green\", italic=True),\n    \"repr.bool_false\": Style(color=\"bright_red\", italic=True),\n    \"repr.none\": Style(color=\"magenta\", italic=True),\n    \"repr.url\": Style(underline=True, color=\"bright_blue\", italic=False, bold=False),\n    \"repr.uuid\": Style(color=\"bright_yellow\", bold=False),\n    \"repr.call\": Style(color=\"magenta\", bold=True),\n    \"repr.path\": Style(color=\"magenta\"),\n    \"repr.filename\": Style(color=\"bright_magenta\"),\n    \"rule.line\": Style(color=\"bright_green\"),\n    \"rule.text\": Style.null(),\n    \"json.brace\": Style(bold=True),\n    \"json.bool_true\": Style(color=\"bright_green\", italic=True),\n    \"json.bool_false\": Style(color=\"bright_red\", italic=True),\n    \"json.null\": Style(color=\"magenta\", italic=True),\n    \"json.number\": Style(color=\"cyan\", bold=True, italic=False),\n    \"json.str\": Style(color=\"green\", italic=False, bold=False),\n    \"json.key\": Style(color=\"blue\", bold=True),\n    \"prompt\": Style.null(),\n    \"prompt.choices\": Style(color=\"magenta\", bold=True),\n    \"prompt.default\": Style(color=\"cyan\", bold=True),\n    \"prompt.invalid\": Style(color=\"red\"),\n    \"prompt.invalid.choice\": Style(color=\"red\"),\n    \"pretty\": Style.null(),\n    \"scope.border\": Style(color=\"blue\"),\n    \"scope.key\": Style(color=\"yellow\", italic=True),\n    \"scope.key.special\": Style(color=\"yellow\", italic=True, dim=True),\n    \"scope.equals\": Style(color=\"red\"),\n    \"table.header\": Style(bold=True),\n    \"table.footer\": Style(bold=True),\n    \"table.cell\": Style.null(),\n    \"table.title\": Style(italic=True),\n    \"table.caption\": Style(italic=True, dim=True),\n    \"traceback.error\": Style(color=\"red\", italic=True),\n    \"traceback.border.syntax_error\": Style(color=\"bright_red\"),\n    \"traceback.border\": Style(color=\"red\"),\n    \"traceback.text\": Style.null(),\n    \"traceback.title\": Style(color=\"red\", bold=True),\n    \"traceback.exc_type\": Style(color=\"bright_red\", bold=True),\n    \"traceback.exc_value\": Style.null(),\n    \"traceback.offset\": Style(color=\"bright_red\", bold=True),\n    \"traceback.error_range\": Style(underline=True, bold=True),\n    \"traceback.note\": Style(color=\"green\", bold=True),\n    \"traceback.group.border\": Style(color=\"magenta\"),\n    \"bar.back\": Style(color=\"grey23\"),\n    \"bar.complete\": Style(color=\"rgb(249,38,114)\"),\n    \"bar.finished\": Style(color=\"rgb(114,156,31)\"),\n    \"bar.pulse\": Style(color=\"rgb(249,38,114)\"),\n    \"progress.description\": Style.null(),\n    \"progress.filesize\": Style(color=\"green\"),\n    \"progress.filesize.total\": Style(color=\"green\"),\n    \"progress.download\": Style(color=\"green\"),\n    \"progress.elapsed\": Style(color=\"yellow\"),\n    \"progress.percentage\": Style(color=\"magenta\"),\n    \"progress.remaining\": Style(color=\"cyan\"),\n    \"progress.data.speed\": Style(color=\"red\"),\n    \"progress.spinner\": Style(color=\"green\"),\n    \"status.spinner\": Style(color=\"green\"),\n    \"tree\": Style(),\n    \"tree.line\": Style(),\n    \"markdown.paragraph\": Style(),\n    \"markdown.text\": Style(),\n    \"markdown.em\": Style(italic=True),\n    \"markdown.emph\": Style(italic=True),  # For commonmark backwards compatibility\n    \"markdown.strong\": Style(bold=True),\n    \"markdown.code\": Style(bold=True, color=\"cyan\", bgcolor=\"black\"),\n    \"markdown.code_block\": Style(color=\"cyan\", bgcolor=\"black\"),\n    \"markdown.block_quote\": Style(color=\"magenta\"),\n    \"markdown.list\": Style(color=\"cyan\"),\n    \"markdown.item\": Style(),\n    \"markdown.item.bullet\": Style(color=\"yellow\", bold=True),\n    \"markdown.item.number\": Style(color=\"yellow\", bold=True),\n    \"markdown.hr\": Style(color=\"yellow\"),\n    \"markdown.h1.border\": Style(),\n    \"markdown.h1\": Style(bold=True),\n    \"markdown.h2\": Style(bold=True, underline=True),\n    \"markdown.h3\": Style(bold=True),\n    \"markdown.h4\": Style(bold=True, dim=True),\n    \"markdown.h5\": Style(underline=True),\n    \"markdown.h6\": Style(italic=True),\n    \"markdown.h7\": Style(italic=True, dim=True),\n    \"markdown.link\": Style(color=\"bright_blue\"),\n    \"markdown.link_url\": Style(color=\"blue\", underline=True),\n    \"markdown.s\": Style(strike=True),\n    \"iso8601.date\": Style(color=\"blue\"),\n    \"iso8601.time\": Style(color=\"magenta\"),\n    \"iso8601.timezone\": Style(color=\"yellow\"),\n}\nif __name__ == \"__main__\":  # pragma: no cover",
    "start_line": 7
  },
  {
    "file": "default_styles.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "import argparse\n    import io\n    from rich.console import Console\n    from rich.table import Table\n    from rich.text import Text",
    "start_line": 172
  },
  {
    "file": "default_styles.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "parser = argparse.ArgumentParser()\n    parser.add_argument(\"--html\", action=\"store_true\", help=\"Export as HTML table\")\n    args = parser.parse_args()\n    html: bool = args.html\n    console = Console(record=True, width=70, file=io.StringIO()) if html else Console()\n    table = Table(\"Name\", \"Styling\")\n    for style_name, style in DEFAULT_STYLES.items():\n        table.add_row(Text(style_name, style=style), str(style))\n    console.print(table)\n    if html:\n        print(console.export_html(inline_styles=True))",
    "start_line": 179
  },
  {
    "file": "default_styles.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "from typing import Dict\n\nfrom .style import Style\n\nDEFAULT_STYLES: Dict[str, Style] = {\n    \"none\": Style.null(),\n    \"reset\": Style(\n        color=\"default\",\n        bgcolor=\"default\",\n        dim=False,\n        bold=False,\n        italic=False,\n        underline=False,\n        blink=False,\n        blink2=False,\n        reverse=False,\n        conceal=False,\n        strike=False,\n    ),\n    \"dim\": Style(dim=True),\n    \"bright\": Style(dim=False),\n    \"bold\": Style(bold=True),\n    \"strong\": Style(bold=True),\n    \"code\": Style(reverse=True, bold=True),\n    \"italic\": Style(italic=True),\n    \"emphasize\": Style(italic=True),\n    \"underline\": Style(underline=True),\n    \"blink\": Style(blink=True),\n    \"blink2\": Style(blink2=True),\n    \"reverse\": Style(reverse=True),\n    \"strike\": Style(strike=True),\n    \"black\": Style(color=\"black\"),\n    \"red\": Style(color=\"red\"),\n    \"green\": Style(color=\"green\"),\n    \"yellow\": Style(color=\"yellow\"),\n    \"magenta\": Style(color=\"magenta\"),\n    \"cyan\": Style(color=\"cyan\"),\n    \"white\": Style(color=\"white\"),\n    \"inspect.attr\": Style(color=\"yellow\", italic=True),\n    \"inspect.attr.dunder\": Style(color=\"yellow\", italic=True, dim=True),\n    \"inspect.callable\": Style(bold=True, color=\"red\"),\n    \"inspect.async_def\": Style(italic=True, color=\"bright_cyan\"),\n    \"inspect.def\": Style(italic=True, color=\"bright_cyan\"),\n    \"inspect.class\": Style(italic=True, color=\"bright_cyan\"),\n    \"inspect.error\": Style(bold=True, color=\"red\"),\n    \"inspect.equals\": Style(),\n    \"inspect.help\": Style(color=\"cyan\"),\n    \"inspect.doc\": Style(dim=True),\n    \"inspect.value.border\": Style(color=\"green\"),\n    \"live.ellipsis\": Style(bold=True, color=\"red\"),\n    \"layout.tree.row\": Style(dim=False, color=\"red\"),\n    \"layout.tree.column\": Style(dim=False, color=\"blue\"),\n    \"logging.keyword\": Style(bold=True, color=\"yellow\"),\n    \"logging.level.notset\": Style(dim=True),\n    \"logging.level.debug\": Style(color=\"green\"),\n    \"logging.level.info\": Style(color=\"blue\"),\n    \"logging.level.warning\": Style(color=\"yellow\"),\n    \"logging.level.error\": Style(color=\"red\", bold=True),\n    \"logging.level.critical\": Style(color=\"red\", bold=True, reverse=True),\n    \"log.level\": Style.null(),\n    \"log.time\": Style(color=\"cyan\", dim=True),\n    \"log.message\": Style.null(),\n    \"log.path\": Style(dim=True),\n    \"repr.ellipsis\": Style(color=\"yellow\"),\n    \"repr.indent\": Style(color=\"green\", dim=True),\n    \"repr.error\": Style(color=\"red\", bold=True),\n    \"repr.str\": Style(color=\"green\", italic=False, bold=False),\n    \"repr.brace\": Style(bold=True),\n    \"repr.comma\": Style(bold=True),\n    \"repr.ipv4\": Style(bold=True, color=\"bright_green\"),\n    \"repr.ipv6\": Style(bold=True, color=\"bright_green\"),\n    \"repr.eui48\": Style(bold=True, color=\"bright_green\"),\n    \"repr.eui64\": Style(bold=True, color=\"bright_green\"),\n    \"repr.tag_start\": Style(bold=True),\n    \"repr.tag_name\": Style(color=\"bright_magenta\", bold=True),\n    \"repr.tag_contents\": Style(color=\"default\"),\n    \"repr.tag_end\": Style(bold=True),\n    \"repr.attrib_name\": Style(color=\"yellow\", italic=False),\n    \"repr.attrib_equal\": Style(bold=True),\n    \"repr.attrib_value\": Style(color=\"magenta\", italic=False),\n    \"repr.number\": Style(color=\"cyan\", bold=True, italic=False),\n    \"repr.number_complex\": Style(color=\"cyan\", bold=True, italic=False),  # same\n    \"repr.bool_true\": Style(color=\"bright_green\", italic=True),\n    \"repr.bool_false\": Style(color=\"bright_red\", italic=True),\n    \"repr.none\": Style(color=\"magenta\", italic=True),\n    \"repr.url\": Style(underline=True, color=\"bright_blue\", italic=False, bold=False),\n    \"repr.uuid\": Style(color=\"bright_yellow\", bold=False),\n    \"repr.call\": Style(color=\"magenta\", bold=True),\n    \"repr.path\": Style(color=\"magenta\"),\n    \"repr.filename\": Style(color=\"bright_magenta\"),\n    \"rule.line\": Style(color=\"bright_green\"),\n    \"rule.text\": Style.null(),\n    \"json.brace\": Style(bold=True),\n    \"json.bool_true\": Style(color=\"bright_green\", italic=True),\n    \"json.bool_false\": Style(color=\"bright_red\", italic=True),\n    \"json.null\": Style(color=\"magenta\", italic=True),\n    \"json.number\": Style(color=\"cyan\", bold=True, italic=False),\n    \"json.str\": Style(color=\"green\", italic=False, bold=False),\n    \"json.key\": Style(color=\"blue\", bold=True),\n    \"prompt\": Style.null(),\n    \"prompt.choices\": Style(color=\"magenta\", bold=True),\n    \"prompt.default\": Style(color=\"cyan\", bold=True),\n    \"prompt.invalid\": Style(color=\"red\"),\n    \"prompt.invalid.choice\": Style(color=\"red\"),\n    \"pretty\": Style.null(),\n    \"scope.border\": Style(color=\"blue\"),\n    \"scope.key\": Style(color=\"yellow\", italic=True),\n    \"scope.key.special\": Style(color=\"yellow\", italic=True, dim=True),\n    \"scope.equals\": Style(color=\"red\"),\n    \"table.header\": Style(bold=True),\n    \"table.footer\": Style(bold=True),\n    \"table.cell\": Style.null(),\n    \"table.title\": Style(italic=True),\n    \"table.caption\": Style(italic=True, dim=True),\n    \"traceback.error\": Style(color=\"red\", italic=True),\n    \"traceback.border.syntax_error\": Style(color=\"bright_red\"),\n    \"traceback.border\": Style(color=\"red\"),\n    \"traceback.text\": Style.null(),\n    \"traceback.title\": Style(color=\"red\", bold=True),\n    \"traceback.exc_type\": Style(color=\"bright_red\", bold=True),\n    \"traceback.exc_value\": Style.null(),\n    \"traceback.offset\": Style(color=\"bright_red\", bold=True),\n    \"traceback.error_range\": Style(underline=True, bold=True),\n    \"traceback.note\": Style(color=\"green\", bold=True),\n    \"traceback.group.border\": Style(color=\"magenta\"),\n    \"bar.back\": Style(color=\"grey23\"),\n    \"bar.complete\": Style(color=\"rgb(249,38,114)\"),\n    \"bar.finished\": Style(color=\"rgb(114,156,31)\"),\n    \"bar.pulse\": Style(color=\"rgb(249,38,114)\"),\n    \"progress.description\": Style.null(),\n    \"progress.filesize\": Style(color=\"green\"),\n    \"progress.filesize.total\": Style(color=\"green\"),\n    \"progress.download\": Style(color=\"green\"),\n    \"progress.elapsed\": Style(color=\"yellow\"),\n    \"progress.percentage\": Style(color=\"magenta\"),\n    \"progress.remaining\": Style(color=\"cyan\"),\n    \"progress.data.speed\": Style(color=\"red\"),\n    \"progress.spinner\": Style(color=\"green\"),\n    \"status.spinner\": Style(color=\"green\"),\n    \"tree\": Style(),\n    \"tree.line\": Style(),\n    \"markdown.paragraph\": Style(),\n    \"markdown.text\": Style(),\n    \"markdown.em\": Style(italic=True),\n    \"markdown.emph\": Style(italic=True),  # For commonmark backwards compatibility\n    \"markdown.strong\": Style(bold=True),\n    \"markdown.code\": Style(bold=True, color=\"cyan\", bgcolor=\"black\"),\n    \"markdown.code_block\": Style(color=\"cyan\", bgcolor=\"black\"),\n    \"markdown.block_quote\": Style(color=\"magenta\"),\n    \"markdown.list\": Style(color=\"cyan\"),\n    \"markdown.item\": Style(),\n    \"markdown.item.bullet\": Style(color=\"yellow\", bold=True),\n    \"markdown.item.number\": Style(color=\"yellow\", bold=True),\n    \"markdown.hr\": Style(color=\"yellow\"),\n    \"markdown.h1.border\": Style(),\n    \"markdown.h1\": Style(bold=True),\n    \"markdown.h2\": Style(bold=True, underline=True),\n    \"markdown.h3\": Style(bold=True),\n    \"markdown.h4\": Style(bold=True, dim=True),\n    \"markdown.h5\": Style(underline=True),\n    \"markdown.h6\": Style(italic=True),\n    \"markdown.h7\": Style(italic=True, dim=True),\n    \"markdown.link\": Style(color=\"bright_blue\"),\n    \"markdown.link_url\": Style(color=\"blue\", underline=True),\n    \"markdown.s\": Style(strike=True),\n    \"iso8601.date\": Style(color=\"blue\"),\n    \"iso8601.time\": Style(color=\"magenta\"),\n    \"iso8601.timezone\": Style(color=\"yellow\"),\n}\n\n\nif __name__ == \"__main__\":  # pragma: no cover\n    import argparse\n    import io\n\n    from rich.console import Console\n    from rich.table import Table\n    from rich.text import Text\n\n    parser = argparse.ArgumentParser()\n    parser.add_argument(\"--html\", action=\"store_true\", help=\"Export as HTML table\")\n    args = parser.parse_args()\n    html: bool = args.html\n    console = Console(record=True, width=70, file=io.StringIO()) if html else Console()\n\n    table = Table(\"Name\", \"Styling\")\n\n    for style_name, style in DEFAULT_STYLES.items():\n        table.add_row(Text(style_name, style=style), str(style))\n\n    console.print(table)\n    if html:\n        print(console.export_html(inline_styles=True))\n",
    "start_line": 0
  },
  {
    "file": "_wrap.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from __future__ import annotations\nimport re\nfrom typing import Iterable\nfrom ._loop import loop_last\nfrom .cells import cell_len, chop_cells",
    "start_line": 0
  },
  {
    "file": "_wrap.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "re_word = re.compile(r\"\\s*\\S+\\s*\")",
    "start_line": 8
  },
  {
    "file": "_wrap.py",
    "type": "function",
    "class": null,
    "method": "words",
    "name": "words",
    "content": "def words(text: str) -> Iterable[tuple[int, int, str]]:\n    \"\"\"Yields each word from the text as a tuple\n    containing (start_index, end_index, word). A \"word\" in this context may\n    include the actual word and any whitespace to the right.\n    \"\"\"",
    "start_line": 11
  },
  {
    "file": "_wrap.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "position = 0\n    word_match = re_word.match(text, position)\n    while word_match is not None:\n        start, end = word_match.span()\n        word = word_match.group(0)\n        yield start, end, word\n        word_match = re_word.match(text, end)",
    "start_line": 16
  },
  {
    "file": "_wrap.py",
    "type": "function",
    "class": null,
    "method": "divide_line",
    "name": "divide_line",
    "content": "def divide_line(text: str, width: int, fold: bool = True) -> list[int]:\n    \"\"\"Given a string of text, and a width (measured in cells), return a list\n    of cell offsets which the string should be split at in order for it to fit\n    within the given width.\n\n    Args:\n        text: The text to examine.\n        width: The available cell width.\n        fold: If True, words longer than `width` will be folded onto a new line.\n\n    Returns:\n        A list of indices to break the line at.\n    \"\"\"\n    break_positions: list[int] = []  # offsets to insert the breaks at",
    "start_line": 25
  },
  {
    "file": "_wrap.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "append = break_positions.append\n    cell_offset = 0\n    _cell_len = cell_len\n    for start, _end, word in words(text):\n        word_length = _cell_len(word.rstrip())\n        remaining_space = width - cell_offset\n        word_fits_remaining_space = remaining_space >= word_length\n        if word_fits_remaining_space:",
    "start_line": 39
  },
  {
    "file": "_wrap.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# Simplest case - the word fits within the remaining width for this line.\n            cell_offset += _cell_len(word)\n        else:\n            # Not enough space remaining for this word on the current line.\n            if word_length > width:\n                # The word doesn't fit on any line, so we can't simply\n                # place it on the next line...\n                if fold:\n                    # Fold the word across multiple lines.",
    "start_line": 49
  },
  {
    "file": "_wrap.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "folded_word = chop_cells(word, width=width)\n                    for last, line in loop_last(folded_word):\n                        if start:\n                            append(start)\n                        if last:\n                            cell_offset = _cell_len(line)\n                        else:\n                            start += len(line)\n                else:",
    "start_line": 58
  },
  {
    "file": "_wrap.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# Folding isn't allowed, so crop the word.\n                    if start:\n                        append(start)",
    "start_line": 67
  },
  {
    "file": "_wrap.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "cell_offset = _cell_len(word)\n            elif cell_offset and start:",
    "start_line": 70
  },
  {
    "file": "_wrap.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# The word doesn't fit within the remaining space on the current\n                # line, but it *can* fit on to the next (empty) line.\n                append(start)",
    "start_line": 72
  },
  {
    "file": "_wrap.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "cell_offset = _cell_len(word)\n    return break_positions\nif __name__ == \"__main__\":  # pragma: no cover",
    "start_line": 75
  },
  {
    "file": "_wrap.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from .console import Console",
    "start_line": 81
  },
  {
    "file": "_wrap.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(width=10)\n    console.print(\"12345 abcdefghijklmnopqrstuvwyxzABCDEFGHIJKLMNOPQRSTUVWXYZ 12345\")\n    print(chop_cells(\"abcdefghijklmnopqrstuvwxyz\", 10))\n    console = Console(width=20)\n    console.rule()\n    console.print(\"TextualPython\")\n    console.rule()\n    console.print(\"1670\")",
    "start_line": 83
  },
  {
    "file": "_wrap.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "from __future__ import annotations\n\nimport re\nfrom typing import Iterable\n\nfrom ._loop import loop_last\nfrom .cells import cell_len, chop_cells\n\nre_word = re.compile(r\"\\s*\\S+\\s*\")\n\n\ndef words(text: str) -> Iterable[tuple[int, int, str]]:\n    \"\"\"Yields each word from the text as a tuple\n    containing (start_index, end_index, word). A \"word\" in this context may\n    include the actual word and any whitespace to the right.\n    \"\"\"\n    position = 0\n    word_match = re_word.match(text, position)\n    while word_match is not None:\n        start, end = word_match.span()\n        word = word_match.group(0)\n        yield start, end, word\n        word_match = re_word.match(text, end)\n\n\ndef divide_line(text: str, width: int, fold: bool = True) -> list[int]:\n    \"\"\"Given a string of text, and a width (measured in cells), return a list\n    of cell offsets which the string should be split at in order for it to fit\n    within the given width.\n\n    Args:\n        text: The text to examine.\n        width: The available cell width.\n        fold: If True, words longer than `width` will be folded onto a new line.\n\n    Returns:\n        A list of indices to break the line at.\n    \"\"\"\n    break_positions: list[int] = []  # offsets to insert the breaks at\n    append = break_positions.append\n    cell_offset = 0\n    _cell_len = cell_len\n\n    for start, _end, word in words(text):\n        word_length = _cell_len(word.rstrip())\n        remaining_space = width - cell_offset\n        word_fits_remaining_space = remaining_space >= word_length\n\n        if word_fits_remaining_space:\n            # Simplest case - the word fits within the remaining width for this line.\n            cell_offset += _cell_len(word)\n        else:\n            # Not enough space remaining for this word on the current line.\n            if word_length > width:\n                # The word doesn't fit on any line, so we can't simply\n                # place it on the next line...\n                if fold:\n                    # Fold the word across multiple lines.\n                    folded_word = chop_cells(word, width=width)\n                    for last, line in loop_last(folded_word):\n                        if start:\n                            append(start)\n                        if last:\n                            cell_offset = _cell_len(line)\n                        else:\n                            start += len(line)\n                else:\n                    # Folding isn't allowed, so crop the word.\n                    if start:\n                        append(start)\n                    cell_offset = _cell_len(word)\n            elif cell_offset and start:\n                # The word doesn't fit within the remaining space on the current\n                # line, but it *can* fit on to the next (empty) line.\n                append(start)\n                cell_offset = _cell_len(word)\n\n    return break_positions\n\n\nif __name__ == \"__main__\":  # pragma: no cover\n    from .console import Console\n\n    console = Console(width=10)\n    console.print(\"12345 abcdefghijklmnopqrstuvwyxzABCDEFGHIJKLMNOPQRSTUVWXYZ 12345\")\n    print(chop_cells(\"abcdefghijklmnopqrstuvwxyz\", 10))\n\n    console = Console(width=20)\n    console.rule()\n    console.print(\"TextualPython\")\n\n    console.rule()\n    console.print(\"1670\")\n",
    "start_line": 0
  },
  {
    "file": "_log_render.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from datetime import datetime\nfrom typing import Iterable, List, Optional, TYPE_CHECKING, Union, Callable\nfrom .text import Text, TextType\nif TYPE_CHECKING:\n    from .console import Console, ConsoleRenderable, RenderableType\n    from .table import Table\nFormatTimeCallable = Callable[[datetime], Text]",
    "start_line": 0
  },
  {
    "file": "_log_render.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "LogRender",
    "content": "class LogRender:",
    "start_line": 13
  },
  {
    "file": "_log_render.py",
    "type": "method",
    "class": "LogRender",
    "method": "__init__",
    "name": "__init__",
    "content": "class LogRender:\n    def __init__(\n        self,\n        show_time: bool = True,\n        show_level: bool = False,\n        show_path: bool = True,\n        time_format: Union[str, FormatTimeCallable] = \"[%x %X]\",\n        omit_repeated_times: bool = True,\n        level_width: Optional[int] = 8,\n    ) -> None:\n        self.show_time = show_time\n        self.show_level = show_level\n        self.show_path = show_path\n        self.time_format = time_format\n        self.omit_repeated_times = omit_repeated_times\n        self.level_width = level_width\n        self._last_time: Optional[Text] = None",
    "start_line": 14
  },
  {
    "file": "_log_render.py",
    "type": "method",
    "class": "LogRender",
    "method": "__call__",
    "name": "__call__",
    "content": "class LogRender:\n    def __call__(\n        self,\n        console: \"Console\",\n        renderables: Iterable[\"ConsoleRenderable\"],\n        log_time: Optional[datetime] = None,\n        time_format: Optional[Union[str, FormatTimeCallable]] = None,\n        level: TextType = \"\",\n        path: Optional[str] = None,\n        line_no: Optional[int] = None,\n        link_path: Optional[str] = None,\n    ) -> \"Table\":",
    "start_line": 31
  },
  {
    "file": "_log_render.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from .containers import Renderables\n        from .table import Table\n        output = Table.grid(padding=(0, 1))\n        output.expand = True\n        if self.show_time:\n            output.add_column(style=\"log.time\")\n        if self.show_level:\n            output.add_column(style=\"log.level\", width=self.level_width)\n        output.add_column(ratio=1, style=\"log.message\", overflow=\"fold\")\n        if self.show_path and path:\n            output.add_column(style=\"log.path\")\n        row: List[\"RenderableType\"] = []\n        if self.show_time:\n            log_time = log_time or console.get_datetime()\n            time_format = time_format or self.time_format\n            if callable(time_format):\n                log_time_display = time_format(log_time)\n            else:\n                log_time_display = Text(log_time.strftime(time_format))\n            if log_time_display == self._last_time and self.omit_repeated_times:\n                row.append(Text(\" \" * len(log_time_display)))\n            else:\n                row.append(log_time_display)\n                self._last_time = log_time_display\n        if self.show_level:\n            row.append(level)\n        row.append(Renderables(renderables))\n        if self.show_path and path:\n            path_text = Text()\n            path_text.append(\n                path, style=f\"link file://{link_path}\" if link_path else \"\"\n            )\n            if line_no:\n                path_text.append(\":\")\n                path_text.append(\n                    f\"{line_no}\",\n                    style=f\"link file://{link_path}#{line_no}\" if link_path else \"\",\n                )\n            row.append(path_text)\n        output.add_row(*row)\n        return output\nif __name__ == \"__main__\":  # pragma: no cover\n    from rich.console import Console",
    "start_line": 42
  },
  {
    "file": "_log_render.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "c = Console()\n    c.print(\"[on blue]Hello\", justify=\"right\")\n    c.log(\"[on blue]hello\", justify=\"right\")",
    "start_line": 91
  },
  {
    "file": "_log_render.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "from datetime import datetime\nfrom typing import Iterable, List, Optional, TYPE_CHECKING, Union, Callable\n\n\nfrom .text import Text, TextType\n\nif TYPE_CHECKING:\n    from .console import Console, ConsoleRenderable, RenderableType\n    from .table import Table\n\nFormatTimeCallable = Callable[[datetime], Text]\n\n\nclass LogRender:\n    def __init__(\n        self,\n        show_time: bool = True,\n        show_level: bool = False,\n        show_path: bool = True,\n        time_format: Union[str, FormatTimeCallable] = \"[%x %X]\",\n        omit_repeated_times: bool = True,\n        level_width: Optional[int] = 8,\n    ) -> None:\n        self.show_time = show_time\n        self.show_level = show_level\n        self.show_path = show_path\n        self.time_format = time_format\n        self.omit_repeated_times = omit_repeated_times\n        self.level_width = level_width\n        self._last_time: Optional[Text] = None\n\n    def __call__(\n        self,\n        console: \"Console\",\n        renderables: Iterable[\"ConsoleRenderable\"],\n        log_time: Optional[datetime] = None,\n        time_format: Optional[Union[str, FormatTimeCallable]] = None,\n        level: TextType = \"\",\n        path: Optional[str] = None,\n        line_no: Optional[int] = None,\n        link_path: Optional[str] = None,\n    ) -> \"Table\":\n        from .containers import Renderables\n        from .table import Table\n\n        output = Table.grid(padding=(0, 1))\n        output.expand = True\n        if self.show_time:\n            output.add_column(style=\"log.time\")\n        if self.show_level:\n            output.add_column(style=\"log.level\", width=self.level_width)\n        output.add_column(ratio=1, style=\"log.message\", overflow=\"fold\")\n        if self.show_path and path:\n            output.add_column(style=\"log.path\")\n        row: List[\"RenderableType\"] = []\n        if self.show_time:\n            log_time = log_time or console.get_datetime()\n            time_format = time_format or self.time_format\n            if callable(time_format):\n                log_time_display = time_format(log_time)\n            else:\n                log_time_display = Text(log_time.strftime(time_format))\n            if log_time_display == self._last_time and self.omit_repeated_times:\n                row.append(Text(\" \" * len(log_time_display)))\n            else:\n                row.append(log_time_display)\n                self._last_time = log_time_display\n        if self.show_level:\n            row.append(level)\n\n        row.append(Renderables(renderables))\n        if self.show_path and path:\n            path_text = Text()\n            path_text.append(\n                path, style=f\"link file://{link_path}\" if link_path else \"\"\n            )\n            if line_no:\n                path_text.append(\":\")\n                path_text.append(\n                    f\"{line_no}\",\n                    style=f\"link file://{link_path}#{line_no}\" if link_path else \"\",\n                )\n            row.append(path_text)\n\n        output.add_row(*row)\n        return output\n\n\nif __name__ == \"__main__\":  # pragma: no cover\n    from rich.console import Console\n\n    c = Console()\n    c.print(\"[on blue]Hello\", justify=\"right\")\n    c.log(\"[on blue]hello\", justify=\"right\")\n",
    "start_line": 0
  },
  {
    "file": "emoji.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "import sys\nfrom typing import TYPE_CHECKING, Optional, Union\nfrom .jupyter import JupyterMixin\nfrom .segment import Segment\nfrom .style import Style\nfrom ._emoji_codes import EMOJI\nfrom ._emoji_replace import _emoji_replace\nif sys.version_info >= (3, 8):\n    from typing import Literal\nelse:\n    from typing_extensions import Literal  # pragma: no cover\nif TYPE_CHECKING:\n    from .console import Console, ConsoleOptions, RenderResult\nEmojiVariant = Literal[\"emoji\", \"text\"]",
    "start_line": 0
  },
  {
    "file": "emoji.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "NoEmoji",
    "content": "class NoEmoji(Exception):\n    \"\"\"No emoji by that name.\"\"\"",
    "start_line": 22
  },
  {
    "file": "emoji.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "Emoji",
    "content": "class Emoji(JupyterMixin):\n    __slots__ = [\"name\", \"style\", \"_char\", \"variant\"]",
    "start_line": 26
  },
  {
    "file": "emoji.py",
    "type": "constants",
    "class": null,
    "method": null,
    "name": "module_constants",
    "content": "VARIANTS = {\"text\": \"\\uFE0E\", \"emoji\": \"\\uFE0F\"}",
    "start_line": 29
  },
  {
    "file": "emoji.py",
    "type": "method",
    "class": "Emoji",
    "method": "__init__",
    "name": "__init__",
    "content": "class Emoji:\n    def __init__(\n        self,\n        name: str,\n        style: Union[str, Style] = \"none\",\n        variant: Optional[EmojiVariant] = None,\n    ) -> None:\n        \"\"\"A single emoji character.\n\n        Args:\n            name (str): Name of emoji.\n            style (Union[str, Style], optional): Optional style. Defaults to None.\n\n        Raises:\n            NoEmoji: If the emoji doesn't exist.\n        \"\"\"\n        self.name = name\n        self.style = style\n        self.variant = variant\n        try:\n            self._char = EMOJI[name]\n        except KeyError:\n            raise NoEmoji(f\"No emoji called {name!r}\")\n        if variant is not None:\n            self._char += self.VARIANTS.get(variant, \"\")\n\n    @classmethod",
    "start_line": 31
  },
  {
    "file": "emoji.py",
    "type": "method",
    "class": "Emoji",
    "method": "replace",
    "name": "replace",
    "content": "class Emoji:\n    def replace(cls, text: str) -> str:\n        \"\"\"Replace emoji markup with corresponding unicode characters.\n\n        Args:\n            text (str): A string with emojis codes, e.g. \"Hello :smiley:!\"\n\n        Returns:\n            str: A string with emoji codes replaces with actual emoji.\n        \"\"\"\n        return _emoji_replace(text)",
    "start_line": 57
  },
  {
    "file": "emoji.py",
    "type": "method",
    "class": "Emoji",
    "method": "__repr__",
    "name": "__repr__",
    "content": "class Emoji:\n    def __repr__(self) -> str:\n        return f\"<emoji {self.name!r}>\"",
    "start_line": 68
  },
  {
    "file": "emoji.py",
    "type": "method",
    "class": "Emoji",
    "method": "__str__",
    "name": "__str__",
    "content": "class Emoji:\n    def __str__(self) -> str:\n        return self._char",
    "start_line": 71
  },
  {
    "file": "emoji.py",
    "type": "method",
    "class": "Emoji",
    "method": "__rich_console__",
    "name": "__rich_console__",
    "content": "class Emoji:\n    def __rich_console__(\n        self, console: \"Console\", options: \"ConsoleOptions\"\n    ) -> \"RenderResult\":\n        yield Segment(self._char, console.get_style(self.style))\n\n\nif __name__ == \"__main__\":  # pragma: no cover",
    "start_line": 74
  },
  {
    "file": "emoji.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "import sys\n    from rich.columns import Columns\n    from rich.console import Console\n    console = Console(record=True)\n    columns = Columns(\n        (f\":{name}: {name}\" for name in sorted(EMOJI.keys()) if \"\\u200D\" not in name),\n        column_first=True,\n    )\n    console.print(columns)\n    if len(sys.argv) > 1:\n        console.save_html(sys.argv[1])",
    "start_line": 81
  },
  {
    "file": "emoji.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "import sys\nfrom typing import TYPE_CHECKING, Optional, Union\n\nfrom .jupyter import JupyterMixin\nfrom .segment import Segment\nfrom .style import Style\nfrom ._emoji_codes import EMOJI\nfrom ._emoji_replace import _emoji_replace\n\nif sys.version_info >= (3, 8):\n    from typing import Literal\nelse:\n    from typing_extensions import Literal  # pragma: no cover\n\n\nif TYPE_CHECKING:\n    from .console import Console, ConsoleOptions, RenderResult\n\n\nEmojiVariant = Literal[\"emoji\", \"text\"]\n\n\nclass NoEmoji(Exception):\n    \"\"\"No emoji by that name.\"\"\"\n\n\nclass Emoji(JupyterMixin):\n    __slots__ = [\"name\", \"style\", \"_char\", \"variant\"]\n\n    VARIANTS = {\"text\": \"\\uFE0E\", \"emoji\": \"\\uFE0F\"}\n\n    def __init__(\n        self,\n        name: str,\n        style: Union[str, Style] = \"none\",\n        variant: Optional[EmojiVariant] = None,\n    ) -> None:\n        \"\"\"A single emoji character.\n\n        Args:\n            name (str): Name of emoji.\n            style (Union[str, Style], optional): Optional style. Defaults to None.\n\n        Raises:\n            NoEmoji: If the emoji doesn't exist.\n        \"\"\"\n        self.name = name\n        self.style = style\n        self.variant = variant\n        try:\n            self._char = EMOJI[name]\n        except KeyError:\n            raise NoEmoji(f\"No emoji called {name!r}\")\n        if variant is not None:\n            self._char += self.VARIANTS.get(variant, \"\")\n\n    @classmethod\n    def replace(cls, text: str) -> str:\n        \"\"\"Replace emoji markup with corresponding unicode characters.\n\n        Args:\n            text (str): A string with emojis codes, e.g. \"Hello :smiley:!\"\n\n        Returns:\n            str: A string with emoji codes replaces with actual emoji.\n        \"\"\"\n        return _emoji_replace(text)\n\n    def __repr__(self) -> str:\n        return f\"<emoji {self.name!r}>\"\n\n    def __str__(self) -> str:\n        return self._char\n\n    def __rich_console__(\n        self, console: \"Console\", options: \"ConsoleOptions\"\n    ) -> \"RenderResult\":\n        yield Segment(self._char, console.get_style(self.style))\n\n\nif __name__ == \"__main__\":  # pragma: no cover\n    import sys\n\n    from rich.columns import Columns\n    from rich.console import Console\n\n    console = Console(record=True)\n\n    columns = Columns(\n        (f\":{name}: {name}\" for name in sorted(EMOJI.keys()) if \"\\u200D\" not in name),\n        column_first=True,\n    )\n\n    console.print(columns)\n    if len(sys.argv) > 1:\n        console.save_html(sys.argv[1])\n",
    "start_line": 0
  },
  {
    "file": "layout.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from abc import ABC, abstractmethod\nfrom itertools import islice\nfrom operator import itemgetter\nfrom threading import RLock\nfrom typing import (\n    TYPE_CHECKING,\n    Dict,\n    Iterable,\n    List,\n    NamedTuple,\n    Optional,\n    Sequence,\n    Tuple,\n    Union,\n)\nfrom ._ratio import ratio_resolve\nfrom .align import Align\nfrom .console import Console, ConsoleOptions, RenderableType, RenderResult\nfrom .highlighter import ReprHighlighter\nfrom .panel import Panel\nfrom .pretty import Pretty\nfrom .region import Region\nfrom .repr import Result, rich_repr\nfrom .segment import Segment\nfrom .style import StyleType\nif TYPE_CHECKING:\n    from rich.tree import Tree",
    "start_line": 0
  },
  {
    "file": "layout.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "LayoutRender",
    "content": "class LayoutRender(NamedTuple):\n    \"\"\"An individual layout render.\"\"\"\n\n    region: Region\n    render: List[List[Segment]]\n\n\nRegionMap = Dict[\"Layout\", Region]\nRenderMap = Dict[\"Layout\", LayoutRender]",
    "start_line": 31
  },
  {
    "file": "layout.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "LayoutError",
    "content": "class LayoutError(Exception):\n    \"\"\"Layout related error.\"\"\"",
    "start_line": 42
  },
  {
    "file": "layout.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "NoSplitter",
    "content": "class NoSplitter(LayoutError):\n    \"\"\"Requested splitter does not exist.\"\"\"",
    "start_line": 46
  },
  {
    "file": "layout.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "_Placeholder",
    "content": "class _Placeholder:\n    \"\"\"An internal renderable used as a Layout placeholder.\"\"\"\n\n    highlighter = ReprHighlighter()",
    "start_line": 50
  },
  {
    "file": "layout.py",
    "type": "method",
    "class": "_Placeholder",
    "method": "__init__",
    "name": "__init__",
    "content": "class _Placeholder:\n    def __init__(self, layout: \"Layout\", style: StyleType = \"\") -> None:\n        self.layout = layout\n        self.style = style",
    "start_line": 55
  },
  {
    "file": "layout.py",
    "type": "method",
    "class": "_Placeholder",
    "method": "__rich_console__",
    "name": "__rich_console__",
    "content": "class _Placeholder:\n    def __rich_console__(\n        self, console: Console, options: ConsoleOptions\n    ) -> RenderResult:\n        width = options.max_width\n        height = options.height or options.size.height\n        layout = self.layout\n        title = (\n            f\"{layout.name!r} ({width} x {height})\"\n            if layout.name\n            else f\"({width} x {height})\"\n        )\n        yield Panel(\n            Align.center(Pretty(layout), vertical=\"middle\"),\n            style=self.style,\n            title=self.highlighter(title),\n            border_style=\"blue\",\n            height=height,\n        )",
    "start_line": 59
  },
  {
    "file": "layout.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "Splitter",
    "content": "class Splitter(ABC):\n    \"\"\"Base class for a splitter.\"\"\"\n\n    name: str = \"\"\n\n    @abstractmethod",
    "start_line": 79
  },
  {
    "file": "layout.py",
    "type": "method",
    "class": "Splitter",
    "method": "get_tree_icon",
    "name": "get_tree_icon",
    "content": "class Splitter:\n    def get_tree_icon(self) -> str:\n        \"\"\"Get the icon (emoji) used in layout.tree\"\"\"\n\n    @abstractmethod",
    "start_line": 85
  },
  {
    "file": "layout.py",
    "type": "method",
    "class": "Splitter",
    "method": "divide",
    "name": "divide",
    "content": "class Splitter:\n    def divide(\n        self, children: Sequence[\"Layout\"], region: Region\n    ) -> Iterable[Tuple[\"Layout\", Region]]:\n        \"\"\"Divide a region amongst several child layouts.\n\n        Args:\n            children (Sequence(Layout)): A number of child layouts.\n            region (Region): A rectangular region to divide.\n        \"\"\"",
    "start_line": 89
  },
  {
    "file": "layout.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "RowSplitter",
    "content": "class RowSplitter(Splitter):\n    \"\"\"Split a layout region in to rows.\"\"\"\n\n    name = \"row\"",
    "start_line": 100
  },
  {
    "file": "layout.py",
    "type": "method",
    "class": "RowSplitter",
    "method": "get_tree_icon",
    "name": "get_tree_icon",
    "content": "class RowSplitter:\n    def get_tree_icon(self) -> str:\n        return \"[layout.tree.row]\"",
    "start_line": 105
  },
  {
    "file": "layout.py",
    "type": "method",
    "class": "RowSplitter",
    "method": "divide",
    "name": "divide",
    "content": "class RowSplitter:\n    def divide(\n        self, children: Sequence[\"Layout\"], region: Region\n    ) -> Iterable[Tuple[\"Layout\", Region]]:\n        x, y, width, height = region\n        render_widths = ratio_resolve(width, children)\n        offset = 0\n        _Region = Region\n        for child, child_width in zip(children, render_widths):\n            yield child, _Region(x + offset, y, child_width, height)\n            offset += child_width",
    "start_line": 108
  },
  {
    "file": "layout.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "ColumnSplitter",
    "content": "class ColumnSplitter(Splitter):\n    \"\"\"Split a layout region in to columns.\"\"\"\n\n    name = \"column\"",
    "start_line": 120
  },
  {
    "file": "layout.py",
    "type": "method",
    "class": "ColumnSplitter",
    "method": "get_tree_icon",
    "name": "get_tree_icon",
    "content": "class ColumnSplitter:\n    def get_tree_icon(self) -> str:\n        return \"[layout.tree.column]\"",
    "start_line": 125
  },
  {
    "file": "layout.py",
    "type": "method",
    "class": "ColumnSplitter",
    "method": "divide",
    "name": "divide",
    "content": "class ColumnSplitter:\n    def divide(\n        self, children: Sequence[\"Layout\"], region: Region\n    ) -> Iterable[Tuple[\"Layout\", Region]]:\n        x, y, width, height = region\n        render_heights = ratio_resolve(height, children)\n        offset = 0\n        _Region = Region\n        for child, child_height in zip(children, render_heights):\n            yield child, _Region(x, y + offset, width, child_height)\n            offset += child_height\n\n\n@rich_repr",
    "start_line": 128
  },
  {
    "file": "layout.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "Layout",
    "content": "class Layout:\n    \"\"\"A renderable to divide a fixed height in to rows or columns.\n\n    Args:\n        renderable (RenderableType, optional): Renderable content, or None for placeholder. Defaults to None.\n        name (str, optional): Optional identifier for Layout. Defaults to None.\n        size (int, optional): Optional fixed size of layout. Defaults to None.\n        minimum_size (int, optional): Minimum size of layout. Defaults to 1.\n        ratio (int, optional): Optional ratio for flexible layout. Defaults to 1.\n        visible (bool, optional): Visibility of layout. Defaults to True.\n    \"\"\"\n\n    splitters = {\"row\": RowSplitter, \"column\": ColumnSplitter}",
    "start_line": 141
  },
  {
    "file": "layout.py",
    "type": "method",
    "class": "Layout",
    "method": "__init__",
    "name": "__init__",
    "content": "class Layout:\n    def __init__(\n        self,\n        renderable: Optional[RenderableType] = None,\n        *,\n        name: Optional[str] = None,\n        size: Optional[int] = None,\n        minimum_size: int = 1,\n        ratio: int = 1,\n        visible: bool = True,\n    ) -> None:\n        self._renderable = renderable or _Placeholder(self)\n        self.size = size\n        self.minimum_size = minimum_size\n        self.ratio = ratio\n        self.name = name\n        self.visible = visible\n        self.splitter: Splitter = self.splitters[\"column\"]()\n        self._children: List[Layout] = []\n        self._render_map: RenderMap = {}\n        self._lock = RLock()",
    "start_line": 155
  },
  {
    "file": "layout.py",
    "type": "method",
    "class": "Layout",
    "method": "__rich_repr__",
    "name": "__rich_repr__",
    "content": "class Layout:\n    def __rich_repr__(self) -> Result:\n        yield \"name\", self.name, None\n        yield \"size\", self.size, None\n        yield \"minimum_size\", self.minimum_size, 1\n        yield \"ratio\", self.ratio, 1\n\n    @property",
    "start_line": 176
  },
  {
    "file": "layout.py",
    "type": "method",
    "class": "Layout",
    "method": "renderable",
    "name": "renderable",
    "content": "class Layout:\n    def renderable(self) -> RenderableType:\n        \"\"\"Layout renderable.\"\"\"\n        return self if self._children else self._renderable\n\n    @property",
    "start_line": 183
  },
  {
    "file": "layout.py",
    "type": "method",
    "class": "Layout",
    "method": "children",
    "name": "children",
    "content": "class Layout:\n    def children(self) -> List[\"Layout\"]:\n        \"\"\"Gets (visible) layout children.\"\"\"\n        return [child for child in self._children if child.visible]\n\n    @property",
    "start_line": 188
  },
  {
    "file": "layout.py",
    "type": "method",
    "class": "Layout",
    "method": "map",
    "name": "map",
    "content": "class Layout:\n    def map(self) -> RenderMap:\n        \"\"\"Get a map of the last render.\"\"\"\n        return self._render_map",
    "start_line": 193
  },
  {
    "file": "layout.py",
    "type": "method",
    "class": "Layout",
    "method": "get",
    "name": "get",
    "content": "class Layout:\n    def get(self, name: str) -> Optional[\"Layout\"]:\n        \"\"\"Get a named layout, or None if it doesn't exist.\n\n        Args:\n            name (str): Name of layout.\n\n        Returns:\n            Optional[Layout]: Layout instance or None if no layout was found.\n        \"\"\"\n        if self.name == name:\n            return self\n        else:\n            for child in self._children:\n                named_layout = child.get(name)\n                if named_layout is not None:\n                    return named_layout\n        return None",
    "start_line": 197
  },
  {
    "file": "layout.py",
    "type": "method",
    "class": "Layout",
    "method": "__getitem__",
    "name": "__getitem__",
    "content": "class Layout:\n    def __getitem__(self, name: str) -> \"Layout\":\n        layout = self.get(name)\n        if layout is None:\n            raise KeyError(f\"No layout with name {name!r}\")\n        return layout\n\n    @property",
    "start_line": 215
  },
  {
    "file": "layout.py",
    "type": "method",
    "class": "Layout",
    "method": "tree",
    "name": "tree",
    "content": "class Layout:\n    def tree(self) -> \"Tree\":\n        \"\"\"Get a tree renderable to show layout structure.\"\"\"",
    "start_line": 222
  },
  {
    "file": "layout.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from rich.styled import Styled\n        from rich.table import Table\n        from rich.tree import Tree",
    "start_line": 224
  },
  {
    "file": "layout.py",
    "type": "method",
    "class": "Layout",
    "method": "summary",
    "name": "summary",
    "content": "class Layout:\n        def summary(layout: \"Layout\") -> Table:\n            icon = layout.splitter.get_tree_icon()\n\n            table = Table.grid(padding=(0, 1, 0, 0))\n\n            text: RenderableType = (\n                Pretty(layout) if layout.visible else Styled(Pretty(layout), \"dim\")\n            )\n            table.add_row(icon, text)\n            _summary = table\n            return _summary\n\n        layout = self\n        tree = Tree(\n            summary(layout),\n            guide_style=f\"layout.tree.{layout.splitter.name}\",\n            highlight=True,\n        )",
    "start_line": 228
  },
  {
    "file": "layout.py",
    "type": "method",
    "class": "Layout",
    "method": "recurse",
    "name": "recurse",
    "content": "class Layout:\n        def recurse(tree: \"Tree\", layout: \"Layout\") -> None:\n            for child in layout._children:\n                recurse(\n                    tree.add(\n                        summary(child),\n                        guide_style=f\"layout.tree.{child.splitter.name}\",\n                    ),\n                    child,\n                )\n\n        recurse(tree, self)\n        return tree",
    "start_line": 247
  },
  {
    "file": "layout.py",
    "type": "method",
    "class": "Layout",
    "method": "split",
    "name": "split",
    "content": "class Layout:\n    def split(\n        self,\n        *layouts: Union[\"Layout\", RenderableType],\n        splitter: Union[Splitter, str] = \"column\",\n    ) -> None:\n        \"\"\"Split the layout in to multiple sub-layouts.\n\n        Args:\n            *layouts (Layout): Positional arguments should be (sub) Layout instances.\n            splitter (Union[Splitter, str]): Splitter instance or name of splitter.\n        \"\"\"\n        _layouts = [\n            layout if isinstance(layout, Layout) else Layout(layout)\n            for layout in layouts\n        ]\n        try:\n            self.splitter = (\n                splitter\n                if isinstance(splitter, Splitter)\n                else self.splitters[splitter]()\n            )\n        except KeyError:\n            raise NoSplitter(f\"No splitter called {splitter!r}\")\n        self._children[:] = _layouts",
    "start_line": 260
  },
  {
    "file": "layout.py",
    "type": "method",
    "class": "Layout",
    "method": "add_split",
    "name": "add_split",
    "content": "class Layout:\n    def add_split(self, *layouts: Union[\"Layout\", RenderableType]) -> None:\n        \"\"\"Add a new layout(s) to existing split.\n\n        Args:\n            *layouts (Union[Layout, RenderableType]): Positional arguments should be renderables or (sub) Layout instances.\n\n        \"\"\"\n        _layouts = (\n            layout if isinstance(layout, Layout) else Layout(layout)\n            for layout in layouts\n        )\n        self._children.extend(_layouts)",
    "start_line": 285
  },
  {
    "file": "layout.py",
    "type": "method",
    "class": "Layout",
    "method": "split_row",
    "name": "split_row",
    "content": "class Layout:\n    def split_row(self, *layouts: Union[\"Layout\", RenderableType]) -> None:\n        \"\"\"Split the layout in to a row (layouts side by side).\n\n        Args:\n            *layouts (Layout): Positional arguments should be (sub) Layout instances.\n        \"\"\"\n        self.split(*layouts, splitter=\"row\")",
    "start_line": 298
  },
  {
    "file": "layout.py",
    "type": "method",
    "class": "Layout",
    "method": "split_column",
    "name": "split_column",
    "content": "class Layout:\n    def split_column(self, *layouts: Union[\"Layout\", RenderableType]) -> None:\n        \"\"\"Split the layout in to a column (layouts stacked on top of each other).\n\n        Args:\n            *layouts (Layout): Positional arguments should be (sub) Layout instances.\n        \"\"\"\n        self.split(*layouts, splitter=\"column\")",
    "start_line": 306
  },
  {
    "file": "layout.py",
    "type": "method",
    "class": "Layout",
    "method": "unsplit",
    "name": "unsplit",
    "content": "class Layout:\n    def unsplit(self) -> None:\n        \"\"\"Reset splits to initial state.\"\"\"\n        del self._children[:]",
    "start_line": 314
  },
  {
    "file": "layout.py",
    "type": "method",
    "class": "Layout",
    "method": "update",
    "name": "update",
    "content": "class Layout:\n    def update(self, renderable: RenderableType) -> None:\n        \"\"\"Update renderable.\n\n        Args:\n            renderable (RenderableType): New renderable object.\n        \"\"\"\n        with self._lock:\n            self._renderable = renderable",
    "start_line": 318
  },
  {
    "file": "layout.py",
    "type": "method",
    "class": "Layout",
    "method": "refresh_screen",
    "name": "refresh_screen",
    "content": "class Layout:\n    def refresh_screen(self, console: \"Console\", layout_name: str) -> None:\n        \"\"\"Refresh a sub-layout.\n\n        Args:\n            console (Console): Console instance where Layout is to be rendered.\n            layout_name (str): Name of layout.\n        \"\"\"\n        with self._lock:\n            layout = self[layout_name]\n            region, _lines = self._render_map[layout]\n            (x, y, width, height) = region\n            lines = console.render_lines(\n                layout, console.options.update_dimensions(width, height)\n            )\n            self._render_map[layout] = LayoutRender(region, lines)\n            console.update_screen_lines(lines, x, y)",
    "start_line": 327
  },
  {
    "file": "layout.py",
    "type": "method",
    "class": "Layout",
    "method": "_make_region_map",
    "name": "_make_region_map",
    "content": "class Layout:\n    def _make_region_map(self, width: int, height: int) -> RegionMap:\n        \"\"\"Create a dict that maps layout on to Region.\"\"\"\n        stack: List[Tuple[Layout, Region]] = [(self, Region(0, 0, width, height))]\n        push = stack.append\n        pop = stack.pop\n        layout_regions: List[Tuple[Layout, Region]] = []\n        append_layout_region = layout_regions.append\n        while stack:\n            append_layout_region(pop())\n            layout, region = layout_regions[-1]\n            children = layout.children\n            if children:\n                for child_and_region in layout.splitter.divide(children, region):\n                    push(child_and_region)\n\n        region_map = {\n            layout: region\n            for layout, region in sorted(layout_regions, key=itemgetter(1))\n        }\n        return region_map",
    "start_line": 344
  },
  {
    "file": "layout.py",
    "type": "method",
    "class": "Layout",
    "method": "render",
    "name": "render",
    "content": "class Layout:\n    def render(self, console: Console, options: ConsoleOptions) -> RenderMap:\n        \"\"\"Render the sub_layouts.\n\n        Args:\n            console (Console): Console instance.\n            options (ConsoleOptions): Console options.\n\n        Returns:\n            RenderMap: A dict that maps Layout on to a tuple of Region, lines\n        \"\"\"\n        render_width = options.max_width\n        render_height = options.height or console.height\n        region_map = self._make_region_map(render_width, render_height)\n        layout_regions = [\n            (layout, region)\n            for layout, region in region_map.items()\n            if not layout.children\n        ]\n        render_map: Dict[\"Layout\", \"LayoutRender\"] = {}\n        render_lines = console.render_lines\n        update_dimensions = options.update_dimensions\n\n        for layout, region in layout_regions:\n            lines = render_lines(\n                layout.renderable, update_dimensions(region.width, region.height)\n            )\n            render_map[layout] = LayoutRender(region, lines)\n        return render_map",
    "start_line": 365
  },
  {
    "file": "layout.py",
    "type": "method",
    "class": "Layout",
    "method": "__rich_console__",
    "name": "__rich_console__",
    "content": "class Layout:\n    def __rich_console__(\n        self, console: Console, options: ConsoleOptions\n    ) -> RenderResult:\n        with self._lock:\n            width = options.max_width or console.width\n            height = options.height or console.height\n            render_map = self.render(console, options.update_dimensions(width, height))\n            self._render_map = render_map\n            layout_lines: List[List[Segment]] = [[] for _ in range(height)]\n            _islice = islice\n            for region, lines in render_map.values():\n                _x, y, _layout_width, layout_height = region\n                for row, line in zip(\n                    _islice(layout_lines, y, y + layout_height), lines\n                ):\n                    row.extend(line)\n\n            new_line = Segment.line()\n            for layout_row in layout_lines:\n                yield from layout_row\n                yield new_line\n\n\nif __name__ == \"__main__\":",
    "start_line": 394
  },
  {
    "file": "layout.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from rich.console import Console\n    console = Console()\n    layout = Layout()\n    layout.split_column(\n        Layout(name=\"header\", size=3),\n        Layout(ratio=1, name=\"main\"),\n        Layout(size=10, name=\"footer\"),\n    )\n    layout[\"main\"].split_row(Layout(name=\"side\"), Layout(name=\"body\", ratio=2))\n    layout[\"body\"].split_row(Layout(name=\"content\", ratio=2), Layout(name=\"s2\"))\n    layout[\"s2\"].split_column(\n        Layout(name=\"top\"), Layout(name=\"middle\"), Layout(name=\"bottom\")\n    )\n    layout[\"side\"].split_column(Layout(layout.tree, name=\"left1\"), Layout(name=\"left2\"))\n    layout[\"content\"].update(\"foo\")\n    console.print(layout)",
    "start_line": 418
  },
  {
    "file": "layout.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "from abc import ABC, abstractmethod\nfrom itertools import islice\nfrom operator import itemgetter\nfrom threading import RLock\nfrom typing import (\n    TYPE_CHECKING,\n    Dict,\n    Iterable,\n    List,\n    NamedTuple,\n    Optional,\n    Sequence,\n    Tuple,\n    Union,\n)\n\nfrom ._ratio import ratio_resolve\nfrom .align import Align\nfrom .console import Console, ConsoleOptions, RenderableType, RenderResult\nfrom .highlighter import ReprHighlighter\nfrom .panel import Panel\nfrom .pretty import Pretty\nfrom .region import Region\nfrom .repr import Result, rich_repr\nfrom .segment import Segment\nfrom .style import StyleType\n\nif TYPE_CHECKING:\n    from rich.tree import Tree\n\n\nclass LayoutRender(NamedTuple):\n    \"\"\"An individual layout render.\"\"\"\n\n    region: Region\n    render: List[List[Segment]]\n\n\nRegionMap = Dict[\"Layout\", Region]\nRenderMap = Dict[\"Layout\", LayoutRender]\n\n\nclass LayoutError(Exception):\n    \"\"\"Layout related error.\"\"\"\n\n\nclass NoSplitter(LayoutError):\n    \"\"\"Requested splitter does not exist.\"\"\"\n\n\nclass _Placeholder:\n    \"\"\"An internal renderable used as a Layout placeholder.\"\"\"\n\n    highlighter = ReprHighlighter()\n\n    def __init__(self, layout: \"Layout\", style: StyleType = \"\") -> None:\n        self.layout = layout\n        self.style = style\n\n    def __rich_console__(\n        self, console: Console, options: ConsoleOptions\n    ) -> RenderResult:\n        width = options.max_width\n        height = options.height or options.size.height\n        layout = self.layout\n        title = (\n            f\"{layout.name!r} ({width} x {height})\"\n            if layout.name\n            else f\"({width} x {height})\"\n        )\n        yield Panel(\n            Align.center(Pretty(layout), vertical=\"middle\"),\n            style=self.style,\n            title=self.highlighter(title),\n            border_style=\"blue\",\n            height=height,\n        )\n\n\nclass Splitter(ABC):\n    \"\"\"Base class for a splitter.\"\"\"\n\n    name: str = \"\"\n\n    @abstractmethod\n    def get_tree_icon(self) -> str:\n        \"\"\"Get the icon (emoji) used in layout.tree\"\"\"\n\n    @abstractmethod\n    def divide(\n        self, children: Sequence[\"Layout\"], region: Region\n    ) -> Iterable[Tuple[\"Layout\", Region]]:\n        \"\"\"Divide a region amongst several child layouts.\n\n        Args:\n            children (Sequence(Layout)): A number of child layouts.\n            region (Region): A rectangular region to divide.\n        \"\"\"\n\n\nclass RowSplitter(Splitter):\n    \"\"\"Split a layout region in to rows.\"\"\"\n\n    name = \"row\"\n\n    def get_tree_icon(self) -> str:\n        return \"[layout.tree.row]\"\n\n    def divide(\n        self, children: Sequence[\"Layout\"], region: Region\n    ) -> Iterable[Tuple[\"Layout\", Region]]:\n        x, y, width, height = region\n        render_widths = ratio_resolve(width, children)\n        offset = 0\n        _Region = Region\n        for child, child_width in zip(children, render_widths):\n            yield child, _Region(x + offset, y, child_width, height)\n            offset += child_width\n\n\nclass ColumnSplitter(Splitter):\n    \"\"\"Split a layout region in to columns.\"\"\"\n\n    name = \"column\"\n\n    def get_tree_icon(self) -> str:\n        return \"[layout.tree.column]\"\n\n    def divide(\n        self, children: Sequence[\"Layout\"], region: Region\n    ) -> Iterable[Tuple[\"Layout\", Region]]:\n        x, y, width, height = region\n        render_heights = ratio_resolve(height, children)\n        offset = 0\n        _Region = Region\n        for child, child_height in zip(children, render_heights):\n            yield child, _Region(x, y + offset, width, child_height)\n            offset += child_height\n\n\n@rich_repr\nclass Layout:\n    \"\"\"A renderable to divide a fixed height in to rows or columns.\n\n    Args:\n        renderable (RenderableType, optional): Renderable content, or None for placeholder. Defaults to None.\n        name (str, optional): Optional identifier for Layout. Defaults to None.\n        size (int, optional): Optional fixed size of layout. Defaults to None.\n        minimum_size (int, optional): Minimum size of layout. Defaults to 1.\n        ratio (int, optional): Optional ratio for flexible layout. Defaults to 1.\n        visible (bool, optional): Visibility of layout. Defaults to True.\n    \"\"\"\n\n    splitters = {\"row\": RowSplitter, \"column\": ColumnSplitter}\n\n    def __init__(\n        self,\n        renderable: Optional[RenderableType] = None,\n        *,\n        name: Optional[str] = None,\n        size: Optional[int] = None,\n        minimum_size: int = 1,\n        ratio: int = 1,\n        visible: bool = True,\n    ) -> None:\n        self._renderable = renderable or _Placeholder(self)\n        self.size = size\n        self.minimum_size = minimum_size\n        self.ratio = ratio\n        self.name = name\n        self.visible = visible\n        self.splitter: Splitter = self.splitters[\"column\"]()\n        self._children: List[Layout] = []\n        self._render_map: RenderMap = {}\n        self._lock = RLock()\n\n    def __rich_repr__(self) -> Result:\n        yield \"name\", self.name, None\n        yield \"size\", self.size, None\n        yield \"minimum_size\", self.minimum_size, 1\n        yield \"ratio\", self.ratio, 1\n\n    @property\n    def renderable(self) -> RenderableType:\n        \"\"\"Layout renderable.\"\"\"\n        return self if self._children else self._renderable\n\n    @property\n    def children(self) -> List[\"Layout\"]:\n        \"\"\"Gets (visible) layout children.\"\"\"\n        return [child for child in self._children if child.visible]\n\n    @property\n    def map(self) -> RenderMap:\n        \"\"\"Get a map of the last render.\"\"\"\n        return self._render_map\n\n    def get(self, name: str) -> Optional[\"Layout\"]:\n        \"\"\"Get a named layout, or None if it doesn't exist.\n\n        Args:\n            name (str): Name of layout.\n\n        Returns:\n            Optional[Layout]: Layout instance or None if no layout was found.\n        \"\"\"\n        if self.name == name:\n            return self\n        else:\n            for child in self._children:\n                named_layout = child.get(name)\n                if named_layout is not None:\n                    return named_layout\n        return None\n\n    def __getitem__(self, name: str) -> \"Layout\":\n        layout = self.get(name)\n        if layout is None:\n            raise KeyError(f\"No layout with name {name!r}\")\n        return layout\n\n    @property\n    def tree(self) -> \"Tree\":\n        \"\"\"Get a tree renderable to show layout structure.\"\"\"\n        from rich.styled import Styled\n        from rich.table import Table\n        from rich.tree import Tree\n\n        def summary(layout: \"Layout\") -> Table:\n            icon = layout.splitter.get_tree_icon()\n\n            table = Table.grid(padding=(0, 1, 0, 0))\n\n            text: RenderableType = (\n                Pretty(layout) if layout.visible else Styled(Pretty(layout), \"dim\")\n            )\n            table.add_row(icon, text)\n            _summary = table\n            return _summary\n\n        layout = self\n        tree = Tree(\n            summary(layout),\n            guide_style=f\"layout.tree.{layout.splitter.name}\",\n            highlight=True,\n        )\n\n        def recurse(tree: \"Tree\", layout: \"Layout\") -> None:\n            for child in layout._children:\n                recurse(\n                    tree.add(\n                        summary(child),\n                        guide_style=f\"layout.tree.{child.splitter.name}\",\n                    ),\n                    child,\n                )\n\n        recurse(tree, self)\n        return tree\n\n    def split(\n        self,\n        *layouts: Union[\"Layout\", RenderableType],\n        splitter: Union[Splitter, str] = \"column\",\n    ) -> None:\n        \"\"\"Split the layout in to multiple sub-layouts.\n\n        Args:\n            *layouts (Layout): Positional arguments should be (sub) Layout instances.\n            splitter (Union[Splitter, str]): Splitter instance or name of splitter.\n        \"\"\"\n        _layouts = [\n            layout if isinstance(layout, Layout) else Layout(layout)\n            for layout in layouts\n        ]\n        try:\n            self.splitter = (\n                splitter\n                if isinstance(splitter, Splitter)\n                else self.splitters[splitter]()\n            )\n        except KeyError:\n            raise NoSplitter(f\"No splitter called {splitter!r}\")\n        self._children[:] = _layouts\n\n    def add_split(self, *layouts: Union[\"Layout\", RenderableType]) -> None:\n        \"\"\"Add a new layout(s) to existing split.\n\n        Args:\n            *layouts (Union[Layout, RenderableType]): Positional arguments should be renderables or (sub) Layout instances.\n\n        \"\"\"\n        _layouts = (\n            layout if isinstance(layout, Layout) else Layout(layout)\n            for layout in layouts\n        )\n        self._children.extend(_layouts)\n\n    def split_row(self, *layouts: Union[\"Layout\", RenderableType]) -> None:\n        \"\"\"Split the layout in to a row (layouts side by side).\n\n        Args:\n            *layouts (Layout): Positional arguments should be (sub) Layout instances.\n        \"\"\"\n        self.split(*layouts, splitter=\"row\")\n\n    def split_column(self, *layouts: Union[\"Layout\", RenderableType]) -> None:\n        \"\"\"Split the layout in to a column (layouts stacked on top of each other).\n\n        Args:\n            *layouts (Layout): Positional arguments should be (sub) Layout instances.\n        \"\"\"\n        self.split(*layouts, splitter=\"column\")\n\n    def unsplit(self) -> None:\n        \"\"\"Reset splits to initial state.\"\"\"\n        del self._children[:]\n\n    def update(self, renderable: RenderableType) -> None:\n        \"\"\"Update renderable.\n\n        Args:\n            renderable (RenderableType): New renderable object.\n        \"\"\"\n        with self._lock:\n            self._renderable = renderable\n\n    def refresh_screen(self, console: \"Console\", layout_name: str) -> None:\n        \"\"\"Refresh a sub-layout.\n\n        Args:\n            console (Console): Console instance where Layout is to be rendered.\n            layout_name (str): Name of layout.\n        \"\"\"\n        with self._lock:\n            layout = self[layout_name]\n            region, _lines = self._render_map[layout]\n            (x, y, width, height) = region\n            lines = console.render_lines(\n                layout, console.options.update_dimensions(width, height)\n            )\n            self._render_map[layout] = LayoutRender(region, lines)\n            console.update_screen_lines(lines, x, y)\n\n    def _make_region_map(self, width: int, height: int) -> RegionMap:\n        \"\"\"Create a dict that maps layout on to Region.\"\"\"\n        stack: List[Tuple[Layout, Region]] = [(self, Region(0, 0, width, height))]\n        push = stack.append\n        pop = stack.pop\n        layout_regions: List[Tuple[Layout, Region]] = []\n        append_layout_region = layout_regions.append\n        while stack:\n            append_layout_region(pop())\n            layout, region = layout_regions[-1]\n            children = layout.children\n            if children:\n                for child_and_region in layout.splitter.divide(children, region):\n                    push(child_and_region)\n\n        region_map = {\n            layout: region\n            for layout, region in sorted(layout_regions, key=itemgetter(1))\n        }\n        return region_map\n\n    def render(self, console: Console, options: ConsoleOptions) -> RenderMap:\n        \"\"\"Render the sub_layouts.\n\n        Args:\n            console (Console): Console instance.\n            options (ConsoleOptions): Console options.\n\n        Returns:\n            RenderMap: A dict that maps Layout on to a tuple of Region, lines\n        \"\"\"\n        render_width = options.max_width\n        render_height = options.height or console.height\n        region_map = self._make_region_map(render_width, render_height)\n        layout_regions = [\n            (layout, region)\n            for layout, region in region_map.items()\n            if not layout.children\n        ]\n        render_map: Dict[\"Layout\", \"LayoutRender\"] = {}\n        render_lines = console.render_lines\n        update_dimensions = options.update_dimensions\n\n        for layout, region in layout_regions:\n            lines = render_lines(\n                layout.renderable, update_dimensions(region.width, region.height)\n            )\n            render_map[layout] = LayoutRender(region, lines)\n        return render_map\n\n    def __rich_console__(\n        self, console: Console, options: ConsoleOptions\n    ) -> RenderResult:\n        with self._lock:\n            width = options.max_width or console.width\n            height = options.height or console.height\n            render_map = self.render(console, options.update_dimensions(width, height))\n            self._render_map = render_map\n            layout_lines: List[List[Segment]] = [[] for _ in range(height)]\n            _islice = islice\n            for region, lines in render_map.values():\n                _x, y, _layout_width, layout_height = region\n                for row, line in zip(\n                    _islice(layout_lines, y, y + layout_height), lines\n                ):\n                    row.extend(line)\n\n            new_line = Segment.line()\n            for layout_row in layout_lines:\n                yield from layout_row\n                yield new_line\n\n\nif __name__ == \"__main__\":\n    from rich.console import Console\n\n    console = Console()\n    layout = Layout()\n\n    layout.split_column(\n        Layout(name=\"header\", size=3),\n        Layout(ratio=1, name=\"main\"),\n        Layout(size=10, name=\"footer\"),\n    )\n\n    layout[\"main\"].split_row(Layout(name=\"side\"), Layout(name=\"body\", ratio=2))\n\n    layout[\"body\"].split_row(Layout(name=\"content\", ratio=2), Layout(name=\"s2\"))\n\n    layout[\"s2\"].split_column(\n        Layout(name=\"top\"), Layout(name=\"middle\"), Layout(name=\"bottom\")\n    )\n\n    layout[\"side\"].split_column(Layout(layout.tree, name=\"left1\"), Layout(name=\"left2\"))\n\n    layout[\"content\"].update(\"foo\")\n\n    console.print(layout)\n",
    "start_line": 0
  },
  {
    "file": "containers.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from itertools import zip_longest\nfrom typing import (\n    TYPE_CHECKING,\n    Iterable,\n    Iterator,\n    List,\n    Optional,\n    TypeVar,\n    Union,\n    overload,\n)\nif TYPE_CHECKING:\n    from .console import (\n        Console,\n        ConsoleOptions,\n        JustifyMethod,\n        OverflowMethod,\n        RenderResult,\n        RenderableType,\n    )\n    from .text import Text\nfrom .cells import cell_len\nfrom .measure import Measurement",
    "start_line": 0
  },
  {
    "file": "containers.py",
    "type": "constants",
    "class": null,
    "method": null,
    "name": "module_constants",
    "content": "T = TypeVar(\"T\")",
    "start_line": 26
  },
  {
    "file": "containers.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "Renderables",
    "content": "class Renderables:\n    \"\"\"A list subclass which renders its contents to the console.\"\"\"",
    "start_line": 29
  },
  {
    "file": "containers.py",
    "type": "method",
    "class": "Renderables",
    "method": "__init__",
    "name": "__init__",
    "content": "class Renderables:\n    def __init__(\n        self, renderables: Optional[Iterable[\"RenderableType\"]] = None\n    ) -> None:\n        self._renderables: List[\"RenderableType\"] = (\n            list(renderables) if renderables is not None else []\n        )",
    "start_line": 32
  },
  {
    "file": "containers.py",
    "type": "method",
    "class": "Renderables",
    "method": "__rich_console__",
    "name": "__rich_console__",
    "content": "class Renderables:\n    def __rich_console__(\n        self, console: \"Console\", options: \"ConsoleOptions\"\n    ) -> \"RenderResult\":\n        \"\"\"Console render method to insert line-breaks.\"\"\"\n        yield from self._renderables",
    "start_line": 39
  },
  {
    "file": "containers.py",
    "type": "method",
    "class": "Renderables",
    "method": "__rich_measure__",
    "name": "__rich_measure__",
    "content": "class Renderables:\n    def __rich_measure__(\n        self, console: \"Console\", options: \"ConsoleOptions\"\n    ) -> \"Measurement\":\n        dimensions = [\n            Measurement.get(console, options, renderable)\n            for renderable in self._renderables\n        ]\n        if not dimensions:\n            return Measurement(1, 1)\n        _min = max(dimension.minimum for dimension in dimensions)\n        _max = max(dimension.maximum for dimension in dimensions)\n        return Measurement(_min, _max)",
    "start_line": 45
  },
  {
    "file": "containers.py",
    "type": "method",
    "class": "Renderables",
    "method": "append",
    "name": "append",
    "content": "class Renderables:\n    def append(self, renderable: \"RenderableType\") -> None:\n        self._renderables.append(renderable)",
    "start_line": 58
  },
  {
    "file": "containers.py",
    "type": "method",
    "class": "Renderables",
    "method": "__iter__",
    "name": "__iter__",
    "content": "class Renderables:\n    def __iter__(self) -> Iterable[\"RenderableType\"]:\n        return iter(self._renderables)",
    "start_line": 61
  },
  {
    "file": "containers.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "Lines",
    "content": "class Lines:\n    \"\"\"A list subclass which can render to the console.\"\"\"",
    "start_line": 65
  },
  {
    "file": "containers.py",
    "type": "method",
    "class": "Lines",
    "method": "__init__",
    "name": "__init__",
    "content": "class Lines:\n    def __init__(self, lines: Iterable[\"Text\"] = ()) -> None:\n        self._lines: List[\"Text\"] = list(lines)",
    "start_line": 68
  },
  {
    "file": "containers.py",
    "type": "method",
    "class": "Lines",
    "method": "__repr__",
    "name": "__repr__",
    "content": "class Lines:\n    def __repr__(self) -> str:\n        return f\"Lines({self._lines!r})\"",
    "start_line": 71
  },
  {
    "file": "containers.py",
    "type": "method",
    "class": "Lines",
    "method": "__iter__",
    "name": "__iter__",
    "content": "class Lines:\n    def __iter__(self) -> Iterator[\"Text\"]:\n        return iter(self._lines)\n\n    @overload",
    "start_line": 74
  },
  {
    "file": "containers.py",
    "type": "method",
    "class": "Lines",
    "method": "__getitem__",
    "name": "__getitem__",
    "content": "class Lines:\n    def __getitem__(self, index: int) -> \"Text\":\n        ...\n\n    @overload",
    "start_line": 78
  },
  {
    "file": "containers.py",
    "type": "method",
    "class": "Lines",
    "method": "__getitem__",
    "name": "__getitem__",
    "content": "class Lines:\n    def __getitem__(self, index: slice) -> List[\"Text\"]:\n        ...",
    "start_line": 82
  },
  {
    "file": "containers.py",
    "type": "method",
    "class": "Lines",
    "method": "__getitem__",
    "name": "__getitem__",
    "content": "class Lines:\n    def __getitem__(self, index: Union[slice, int]) -> Union[\"Text\", List[\"Text\"]]:\n        return self._lines[index]",
    "start_line": 85
  },
  {
    "file": "containers.py",
    "type": "method",
    "class": "Lines",
    "method": "__setitem__",
    "name": "__setitem__",
    "content": "class Lines:\n    def __setitem__(self, index: int, value: \"Text\") -> \"Lines\":\n        self._lines[index] = value\n        return self",
    "start_line": 88
  },
  {
    "file": "containers.py",
    "type": "method",
    "class": "Lines",
    "method": "__len__",
    "name": "__len__",
    "content": "class Lines:\n    def __len__(self) -> int:\n        return self._lines.__len__()",
    "start_line": 92
  },
  {
    "file": "containers.py",
    "type": "method",
    "class": "Lines",
    "method": "__rich_console__",
    "name": "__rich_console__",
    "content": "class Lines:\n    def __rich_console__(\n        self, console: \"Console\", options: \"ConsoleOptions\"\n    ) -> \"RenderResult\":\n        \"\"\"Console render method to insert line-breaks.\"\"\"\n        yield from self._lines",
    "start_line": 95
  },
  {
    "file": "containers.py",
    "type": "method",
    "class": "Lines",
    "method": "append",
    "name": "append",
    "content": "class Lines:\n    def append(self, line: \"Text\") -> None:\n        self._lines.append(line)",
    "start_line": 101
  },
  {
    "file": "containers.py",
    "type": "method",
    "class": "Lines",
    "method": "extend",
    "name": "extend",
    "content": "class Lines:\n    def extend(self, lines: Iterable[\"Text\"]) -> None:\n        self._lines.extend(lines)",
    "start_line": 104
  },
  {
    "file": "containers.py",
    "type": "method",
    "class": "Lines",
    "method": "pop",
    "name": "pop",
    "content": "class Lines:\n    def pop(self, index: int = -1) -> \"Text\":\n        return self._lines.pop(index)",
    "start_line": 107
  },
  {
    "file": "containers.py",
    "type": "method",
    "class": "Lines",
    "method": "justify",
    "name": "justify",
    "content": "class Lines:\n    def justify(\n        self,\n        console: \"Console\",\n        width: int,\n        justify: \"JustifyMethod\" = \"left\",\n        overflow: \"OverflowMethod\" = \"fold\",\n    ) -> None:\n        \"\"\"Justify and overflow text to a given width.\n\n        Args:\n            console (Console): Console instance.\n            width (int): Number of cells available per line.\n            justify (str, optional): Default justify method for text: \"left\", \"center\", \"full\" or \"right\". Defaults to \"left\".\n            overflow (str, optional): Default overflow for text: \"crop\", \"fold\", or \"ellipsis\". Defaults to \"fold\".\n\n        \"\"\"",
    "start_line": 110
  },
  {
    "file": "containers.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from .text import Text\n        if justify == \"left\":\n            for line in self._lines:\n                line.truncate(width, overflow=overflow, pad=True)\n        elif justify == \"center\":\n            for line in self._lines:\n                line.rstrip()\n                line.truncate(width, overflow=overflow)\n                line.pad_left((width - cell_len(line.plain)) // 2)\n                line.pad_right(width - cell_len(line.plain))\n        elif justify == \"right\":\n            for line in self._lines:\n                line.rstrip()\n                line.truncate(width, overflow=overflow)\n                line.pad_left(width - cell_len(line.plain))\n        elif justify == \"full\":\n            for line_index, line in enumerate(self._lines):\n                if line_index == len(self._lines) - 1:\n                    break\n                words = line.split(\" \")\n                words_size = sum(cell_len(word.plain) for word in words)\n                num_spaces = len(words) - 1\n                spaces = [1 for _ in range(num_spaces)]\n                index = 0\n                if spaces:\n                    while words_size + num_spaces < width:\n                        spaces[len(spaces) - index - 1] += 1\n                        num_spaces += 1\n                        index = (index + 1) % len(spaces)\n                tokens: List[Text] = []\n                for index, (word, next_word) in enumerate(\n                    zip_longest(words, words[1:])\n                ):\n                    tokens.append(word)\n                    if index < len(spaces):\n                        style = word.get_style_at_offset(console, -1)\n                        next_style = next_word.get_style_at_offset(console, 0)\n                        space_style = style if style == next_style else line.style\n                        tokens.append(Text(\" \" * spaces[index], style=space_style))\n                self[line_index] = Text(\"\").join(tokens)",
    "start_line": 126
  },
  {
    "file": "containers.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "from itertools import zip_longest\nfrom typing import (\n    TYPE_CHECKING,\n    Iterable,\n    Iterator,\n    List,\n    Optional,\n    TypeVar,\n    Union,\n    overload,\n)\n\nif TYPE_CHECKING:\n    from .console import (\n        Console,\n        ConsoleOptions,\n        JustifyMethod,\n        OverflowMethod,\n        RenderResult,\n        RenderableType,\n    )\n    from .text import Text\n\nfrom .cells import cell_len\nfrom .measure import Measurement\n\nT = TypeVar(\"T\")\n\n\nclass Renderables:\n    \"\"\"A list subclass which renders its contents to the console.\"\"\"\n\n    def __init__(\n        self, renderables: Optional[Iterable[\"RenderableType\"]] = None\n    ) -> None:\n        self._renderables: List[\"RenderableType\"] = (\n            list(renderables) if renderables is not None else []\n        )\n\n    def __rich_console__(\n        self, console: \"Console\", options: \"ConsoleOptions\"\n    ) -> \"RenderResult\":\n        \"\"\"Console render method to insert line-breaks.\"\"\"\n        yield from self._renderables\n\n    def __rich_measure__(\n        self, console: \"Console\", options: \"ConsoleOptions\"\n    ) -> \"Measurement\":\n        dimensions = [\n            Measurement.get(console, options, renderable)\n            for renderable in self._renderables\n        ]\n        if not dimensions:\n            return Measurement(1, 1)\n        _min = max(dimension.minimum for dimension in dimensions)\n        _max = max(dimension.maximum for dimension in dimensions)\n        return Measurement(_min, _max)\n\n    def append(self, renderable: \"RenderableType\") -> None:\n        self._renderables.append(renderable)\n\n    def __iter__(self) -> Iterable[\"RenderableType\"]:\n        return iter(self._renderables)\n\n\nclass Lines:\n    \"\"\"A list subclass which can render to the console.\"\"\"\n\n    def __init__(self, lines: Iterable[\"Text\"] = ()) -> None:\n        self._lines: List[\"Text\"] = list(lines)\n\n    def __repr__(self) -> str:\n        return f\"Lines({self._lines!r})\"\n\n    def __iter__(self) -> Iterator[\"Text\"]:\n        return iter(self._lines)\n\n    @overload\n    def __getitem__(self, index: int) -> \"Text\":\n        ...\n\n    @overload\n    def __getitem__(self, index: slice) -> List[\"Text\"]:\n        ...\n\n    def __getitem__(self, index: Union[slice, int]) -> Union[\"Text\", List[\"Text\"]]:\n        return self._lines[index]\n\n    def __setitem__(self, index: int, value: \"Text\") -> \"Lines\":\n        self._lines[index] = value\n        return self\n\n    def __len__(self) -> int:\n        return self._lines.__len__()\n\n    def __rich_console__(\n        self, console: \"Console\", options: \"ConsoleOptions\"\n    ) -> \"RenderResult\":\n        \"\"\"Console render method to insert line-breaks.\"\"\"\n        yield from self._lines\n\n    def append(self, line: \"Text\") -> None:\n        self._lines.append(line)\n\n    def extend(self, lines: Iterable[\"Text\"]) -> None:\n        self._lines.extend(lines)\n\n    def pop(self, index: int = -1) -> \"Text\":\n        return self._lines.pop(index)\n\n    def justify(\n        self,\n        console: \"Console\",\n        width: int,\n        justify: \"JustifyMethod\" = \"left\",\n        overflow: \"OverflowMethod\" = \"fold\",\n    ) -> None:\n        \"\"\"Justify and overflow text to a given width.\n\n        Args:\n            console (Console): Console instance.\n            width (int): Number of cells available per line.\n            justify (str, optional): Default justify method for text: \"left\", \"center\", \"full\" or \"right\". Defaults to \"left\".\n            overflow (str, optional): Default overflow for text: \"crop\", \"fold\", or \"ellipsis\". Defaults to \"fold\".\n\n        \"\"\"\n        from .text import Text\n\n        if justify == \"left\":\n            for line in self._lines:\n                line.truncate(width, overflow=overflow, pad=True)\n        elif justify == \"center\":\n            for line in self._lines:\n                line.rstrip()\n                line.truncate(width, overflow=overflow)\n                line.pad_left((width - cell_len(line.plain)) // 2)\n                line.pad_right(width - cell_len(line.plain))\n        elif justify == \"right\":\n            for line in self._lines:\n                line.rstrip()\n                line.truncate(width, overflow=overflow)\n                line.pad_left(width - cell_len(line.plain))\n        elif justify == \"full\":\n            for line_index, line in enumerate(self._lines):\n                if line_index == len(self._lines) - 1:\n                    break\n                words = line.split(\" \")\n                words_size = sum(cell_len(word.plain) for word in words)\n                num_spaces = len(words) - 1\n                spaces = [1 for _ in range(num_spaces)]\n                index = 0\n                if spaces:\n                    while words_size + num_spaces < width:\n                        spaces[len(spaces) - index - 1] += 1\n                        num_spaces += 1\n                        index = (index + 1) % len(spaces)\n                tokens: List[Text] = []\n                for index, (word, next_word) in enumerate(\n                    zip_longest(words, words[1:])\n                ):\n                    tokens.append(word)\n                    if index < len(spaces):\n                        style = word.get_style_at_offset(console, -1)\n                        next_style = next_word.get_style_at_offset(console, 0)\n                        space_style = style if style == next_style else line.style\n                        tokens.append(Text(\" \" * spaces[index], style=space_style))\n                self[line_index] = Text(\"\").join(tokens)\n",
    "start_line": 0
  },
  {
    "file": "_emoji_replace.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from typing import Callable, Match, Optional\nimport re\nfrom ._emoji_codes import EMOJI",
    "start_line": 0
  },
  {
    "file": "_emoji_replace.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "_ReStringMatch = Match[str]  # regex match object\n_ReSubCallable = Callable[[_ReStringMatch], str]  # Callable invoked by re.sub\n_EmojiSubMethod = Callable[[_ReSubCallable, str], str]  # Sub method of a compiled re",
    "start_line": 6
  },
  {
    "file": "_emoji_replace.py",
    "type": "function",
    "class": null,
    "method": "_emoji_replace",
    "name": "_emoji_replace",
    "content": "def _emoji_replace(\n    text: str,\n    default_variant: Optional[str] = None,\n    _emoji_sub: _EmojiSubMethod = re.compile(r\"(:(\\S*?)(?:(?:\\-)(emoji|text))?:)\").sub,\n) -> str:\n    \"\"\"Replace emoji code in text.\"\"\"",
    "start_line": 11
  },
  {
    "file": "_emoji_replace.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "get_emoji = EMOJI.__getitem__\n    variants = {\"text\": \"\\uFE0E\", \"emoji\": \"\\uFE0F\"}\n    get_variant = variants.get\n    default_variant_code = variants.get(default_variant, \"\") if default_variant else \"\"",
    "start_line": 17
  },
  {
    "file": "_emoji_replace.py",
    "type": "function",
    "class": null,
    "method": "do_replace",
    "name": "do_replace",
    "content": "def do_replace(match: Match[str]) -> str:\n        emoji_code, emoji_name, variant = match.groups()\n        try:\n            return get_emoji(emoji_name.lower()) + get_variant(\n                variant, default_variant_code\n            )\n        except KeyError:\n            return emoji_code\n\n    return _emoji_sub(do_replace, text)",
    "start_line": 22
  },
  {
    "file": "_emoji_replace.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "from typing import Callable, Match, Optional\nimport re\n\nfrom ._emoji_codes import EMOJI\n\n\n_ReStringMatch = Match[str]  # regex match object\n_ReSubCallable = Callable[[_ReStringMatch], str]  # Callable invoked by re.sub\n_EmojiSubMethod = Callable[[_ReSubCallable, str], str]  # Sub method of a compiled re\n\n\ndef _emoji_replace(\n    text: str,\n    default_variant: Optional[str] = None,\n    _emoji_sub: _EmojiSubMethod = re.compile(r\"(:(\\S*?)(?:(?:\\-)(emoji|text))?:)\").sub,\n) -> str:\n    \"\"\"Replace emoji code in text.\"\"\"\n    get_emoji = EMOJI.__getitem__\n    variants = {\"text\": \"\\uFE0E\", \"emoji\": \"\\uFE0F\"}\n    get_variant = variants.get\n    default_variant_code = variants.get(default_variant, \"\") if default_variant else \"\"\n\n    def do_replace(match: Match[str]) -> str:\n        emoji_code, emoji_name, variant = match.groups()\n        try:\n            return get_emoji(emoji_name.lower()) + get_variant(\n                variant, default_variant_code\n            )\n        except KeyError:\n            return emoji_code\n\n    return _emoji_sub(do_replace, text)\n",
    "start_line": 0
  },
  {
    "file": "traceback.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "import inspect\nimport linecache\nimport os\nimport sys\nfrom dataclasses import dataclass, field\nfrom itertools import islice\nfrom traceback import walk_tb\nfrom types import ModuleType, TracebackType\nfrom typing import (\n    Any,\n    Callable,\n    Dict,\n    Iterable,\n    List,\n    Optional,\n    Sequence,\n    Tuple,\n    Type,\n    Union,\n)\nfrom pygments.lexers import guess_lexer_for_filename\nfrom pygments.token import Comment, Keyword, Name, Number, Operator, String\nfrom pygments.token import Text as TextToken\nfrom pygments.token import Token\nfrom pygments.util import ClassNotFound\nfrom . import pretty\nfrom ._loop import loop_first_last, loop_last\nfrom .columns import Columns\nfrom .console import (\n    Console,\n    ConsoleOptions,\n    ConsoleRenderable,\n    Group,\n    RenderResult,\n    group,\n)\nfrom .constrain import Constrain\nfrom .highlighter import RegexHighlighter, ReprHighlighter\nfrom .panel import Panel\nfrom .scope import render_scope\nfrom .style import Style\nfrom .syntax import Syntax, SyntaxPosition\nfrom .text import Text\nfrom .theme import Theme",
    "start_line": 0
  },
  {
    "file": "traceback.py",
    "type": "constants",
    "class": null,
    "method": null,
    "name": "module_constants",
    "content": "WINDOWS = sys.platform == \"win32\"\nLOCALS_MAX_LENGTH = 10\nLOCALS_MAX_STRING = 80",
    "start_line": 47
  },
  {
    "file": "traceback.py",
    "type": "function",
    "class": null,
    "method": "_iter_syntax_lines",
    "name": "_iter_syntax_lines",
    "content": "def _iter_syntax_lines(\n    start: SyntaxPosition, end: SyntaxPosition\n) -> Iterable[Tuple[int, int, int]]:\n    \"\"\"Yield start and end positions per line.\n\n    Args:\n        start: Start position.\n        end: End position.\n\n    Returns:\n        Iterable of (LINE, COLUMN1, COLUMN2).\n    \"\"\"\n\n    line1, column1 = start\n    line2, column2 = end\n\n    if line1 == line2:\n        yield line1, column1, column2\n    else:\n        for first, last, line_no in loop_first_last(range(line1, line2 + 1)):\n            if first:\n                yield line_no, column1, -1\n            elif last:\n                yield line_no, 0, column2\n            else:\n                yield line_no, 0, -1",
    "start_line": 53
  },
  {
    "file": "traceback.py",
    "type": "function",
    "class": null,
    "method": "install",
    "name": "install",
    "content": "def install(\n    *,\n    console: Optional[Console] = None,\n    width: Optional[int] = 100,\n    code_width: Optional[int] = 88,\n    extra_lines: int = 3,\n    theme: Optional[str] = None,\n    word_wrap: bool = False,\n    show_locals: bool = False,\n    locals_max_length: int = LOCALS_MAX_LENGTH,\n    locals_max_string: int = LOCALS_MAX_STRING,\n    locals_hide_dunder: bool = True,\n    locals_hide_sunder: Optional[bool] = None,\n    indent_guides: bool = True,\n    suppress: Iterable[Union[str, ModuleType]] = (),\n    max_frames: int = 100,\n) -> Callable[[Type[BaseException], BaseException, Optional[TracebackType]], Any]:\n    \"\"\"Install a rich traceback handler.\n\n    Once installed, any tracebacks will be printed with syntax highlighting and rich formatting.\n\n\n    Args:\n        console (Optional[Console], optional): Console to write exception to. Default uses internal Console instance.\n        width (Optional[int], optional): Width (in characters) of traceback. Defaults to 100.\n        code_width (Optional[int], optional): Code width (in characters) of traceback. Defaults to 88.\n        extra_lines (int, optional): Extra lines of code. Defaults to 3.\n        theme (Optional[str], optional): Pygments theme to use in traceback. Defaults to ``None`` which will pick\n            a theme appropriate for the platform.\n        word_wrap (bool, optional): Enable word wrapping of long lines. Defaults to False.\n        show_locals (bool, optional): Enable display of local variables. Defaults to False.\n        locals_max_length (int, optional): Maximum length of containers before abbreviating, or None for no abbreviation.\n            Defaults to 10.\n        locals_max_string (int, optional): Maximum length of string before truncating, or None to disable. Defaults to 80.\n        locals_hide_dunder (bool, optional): Hide locals prefixed with double underscore. Defaults to True.\n        locals_hide_sunder (bool, optional): Hide locals prefixed with single underscore. Defaults to False.\n        indent_guides (bool, optional): Enable indent guides in code and locals. Defaults to True.\n        suppress (Sequence[Union[str, ModuleType]]): Optional sequence of modules or paths to exclude from traceback.\n\n    Returns:\n        Callable: The previous exception handler that was replaced.\n\n    \"\"\"",
    "start_line": 81
  },
  {
    "file": "traceback.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "traceback_console = Console(stderr=True) if console is None else console\n    locals_hide_sunder = (\n        True\n        if (traceback_console.is_jupyter and locals_hide_sunder is None)\n        else locals_hide_sunder\n    )",
    "start_line": 124
  },
  {
    "file": "traceback.py",
    "type": "function",
    "class": null,
    "method": "excepthook",
    "name": "excepthook",
    "content": "def excepthook(\n        type_: Type[BaseException],\n        value: BaseException,\n        traceback: Optional[TracebackType],\n    ) -> None:",
    "start_line": 132
  },
  {
    "file": "traceback.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "exception_traceback = Traceback.from_exception(\n            type_,\n            value,\n            traceback,\n            width=width,\n            code_width=code_width,\n            extra_lines=extra_lines,\n            theme=theme,\n            word_wrap=word_wrap,\n            show_locals=show_locals,\n            locals_max_length=locals_max_length,\n            locals_max_string=locals_max_string,\n            locals_hide_dunder=locals_hide_dunder,\n            locals_hide_sunder=bool(locals_hide_sunder),\n            indent_guides=indent_guides,\n            suppress=suppress,\n            max_frames=max_frames,\n        )\n        traceback_console.print(exception_traceback)",
    "start_line": 137
  },
  {
    "file": "traceback.py",
    "type": "function",
    "class": null,
    "method": "ipy_excepthook_closure",
    "name": "ipy_excepthook_closure",
    "content": "def ipy_excepthook_closure(ip: Any) -> None:  # pragma: no cover",
    "start_line": 157
  },
  {
    "file": "traceback.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "tb_data = {}  # store information about showtraceback call\n        default_showtraceback = ip.showtraceback  # keep reference of default traceback",
    "start_line": 158
  },
  {
    "file": "traceback.py",
    "type": "function",
    "class": null,
    "method": "ipy_show_traceback",
    "name": "ipy_show_traceback",
    "content": "def ipy_show_traceback(*args: Any, **kwargs: Any) -> None:\n            \"\"\"wrap the default ip.showtraceback to store info for ip._showtraceback\"\"\"\n            nonlocal tb_data",
    "start_line": 161
  },
  {
    "file": "traceback.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "tb_data = kwargs\n            default_showtraceback(*args, **kwargs)",
    "start_line": 164
  },
  {
    "file": "traceback.py",
    "type": "function",
    "class": null,
    "method": "ipy_display_traceback",
    "name": "ipy_display_traceback",
    "content": "def ipy_display_traceback(\n            *args: Any, is_syntax: bool = False, **kwargs: Any\n        ) -> None:\n            \"\"\"Internally called traceback from ip._showtraceback\"\"\"\n            nonlocal tb_data",
    "start_line": 167
  },
  {
    "file": "traceback.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "exc_tuple = ip._get_exc_info()",
    "start_line": 172
  },
  {
    "file": "traceback.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# do not display trace on syntax error\n            tb: Optional[TracebackType] = None if is_syntax else exc_tuple[2]\n            # determine correct tb_offset",
    "start_line": 174
  },
  {
    "file": "traceback.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "compiled = tb_data.get(\"running_compiled_code\", False)\n            tb_offset = tb_data.get(\"tb_offset\", 1 if compiled else 0)",
    "start_line": 178
  },
  {
    "file": "traceback.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# remove ipython internal frames from trace with tb_offset\n            for _ in range(tb_offset):\n                if tb is None:\n                    break",
    "start_line": 180
  },
  {
    "file": "traceback.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "tb = tb.tb_next\n            excepthook(exc_tuple[0], exc_tuple[1], tb)\n            tb_data = {}  # clear data upon usage",
    "start_line": 184
  },
  {
    "file": "traceback.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# replace _showtraceback instead of showtraceback to allow ipython features such as debugging to work\n        # this is also what the ipython docs recommends to modify when subclassing InteractiveShell\n        ip._showtraceback = ipy_display_traceback\n        # add wrapper to capture tb_data\n        ip.showtraceback = ipy_show_traceback\n        ip.showsyntaxerror = lambda *args, **kwargs: ipy_display_traceback(\n            *args, is_syntax=True, **kwargs\n        )\n    try:  # pragma: no cover\n        # if within ipython, use customized traceback",
    "start_line": 189
  },
  {
    "file": "traceback.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "ip = get_ipython()  # type: ignore[name-defined]\n        ipy_excepthook_closure(ip)\n        return sys.excepthook\n    except Exception:",
    "start_line": 200
  },
  {
    "file": "traceback.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# otherwise use default system hook",
    "start_line": 204
  },
  {
    "file": "traceback.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "old_excepthook = sys.excepthook\n        sys.excepthook = excepthook\n        return old_excepthook\n@dataclass",
    "start_line": 205
  },
  {
    "file": "traceback.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "Frame",
    "content": "class Frame:\n    filename: str\n    lineno: int\n    name: str\n    line: str = \"\"\n    locals: Optional[Dict[str, pretty.Node]] = None\n    last_instruction: Optional[Tuple[Tuple[int, int], Tuple[int, int]]] = None\n\n\n@dataclass",
    "start_line": 211
  },
  {
    "file": "traceback.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "_SyntaxError",
    "content": "class _SyntaxError:\n    offset: int\n    filename: str\n    line: str\n    lineno: int\n    msg: str\n    notes: List[str] = field(default_factory=list)\n\n\n@dataclass",
    "start_line": 221
  },
  {
    "file": "traceback.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "Stack",
    "content": "class Stack:\n    exc_type: str\n    exc_value: str\n    syntax_error: Optional[_SyntaxError] = None\n    is_cause: bool = False\n    frames: List[Frame] = field(default_factory=list)\n    notes: List[str] = field(default_factory=list)\n    is_group: bool = False\n    exceptions: List[\"Trace\"] = field(default_factory=list)\n\n\n@dataclass",
    "start_line": 231
  },
  {
    "file": "traceback.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "Trace",
    "content": "class Trace:\n    stacks: List[Stack]",
    "start_line": 243
  },
  {
    "file": "traceback.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "PathHighlighter",
    "content": "class PathHighlighter(RegexHighlighter):\n    highlights = [r\"(?P<dim>.*/)(?P<bold>.+)\"]",
    "start_line": 247
  },
  {
    "file": "traceback.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "Traceback",
    "content": "class Traceback:\n    \"\"\"A Console renderable that renders a traceback.\n\n    Args:\n        trace (Trace, optional): A `Trace` object produced from `extract`. Defaults to None, which uses\n            the last exception.\n        width (Optional[int], optional): Number of characters used to traceback. Defaults to 100.\n        code_width (Optional[int], optional): Number of code characters used to traceback. Defaults to 88.\n        extra_lines (int, optional): Additional lines of code to render. Defaults to 3.\n        theme (str, optional): Override pygments theme used in traceback.\n        word_wrap (bool, optional): Enable word wrapping of long lines. Defaults to False.\n        show_locals (bool, optional): Enable display of local variables. Defaults to False.\n        indent_guides (bool, optional): Enable indent guides in code and locals. Defaults to True.\n        locals_max_length (int, optional): Maximum length of containers before abbreviating, or None for no abbreviation.\n            Defaults to 10.\n        locals_max_string (int, optional): Maximum length of string before truncating, or None to disable. Defaults to 80.\n        locals_hide_dunder (bool, optional): Hide locals prefixed with double underscore. Defaults to True.\n        locals_hide_sunder (bool, optional): Hide locals prefixed with single underscore. Defaults to False.\n        suppress (Sequence[Union[str, ModuleType]]): Optional sequence of modules or paths to exclude from traceback.\n        max_frames (int): Maximum number of frames to show in a traceback, 0 for no maximum. Defaults to 100.\n\n    \"\"\"",
    "start_line": 251
  },
  {
    "file": "traceback.py",
    "type": "constants",
    "class": null,
    "method": null,
    "name": "module_constants",
    "content": "LEXERS = {\n        \"\": \"text\",\n        \".py\": \"python\",\n        \".pxd\": \"cython\",\n        \".pyx\": \"cython\",\n        \".pxi\": \"pyrex\",\n    }",
    "start_line": 274
  },
  {
    "file": "traceback.py",
    "type": "method",
    "class": "Traceback",
    "method": "__init__",
    "name": "__init__",
    "content": "class Traceback:\n    def __init__(\n        self,\n        trace: Optional[Trace] = None,\n        *,\n        width: Optional[int] = 100,\n        code_width: Optional[int] = 88,\n        extra_lines: int = 3,\n        theme: Optional[str] = None,\n        word_wrap: bool = False,\n        show_locals: bool = False,\n        locals_max_length: int = LOCALS_MAX_LENGTH,\n        locals_max_string: int = LOCALS_MAX_STRING,\n        locals_hide_dunder: bool = True,\n        locals_hide_sunder: bool = False,\n        indent_guides: bool = True,\n        suppress: Iterable[Union[str, ModuleType]] = (),\n        max_frames: int = 100,\n    ):\n        if trace is None:\n            exc_type, exc_value, traceback = sys.exc_info()\n            if exc_type is None or exc_value is None or traceback is None:\n                raise ValueError(\n                    \"Value for 'trace' required if not called in except: block\"\n                )\n            trace = self.extract(\n                exc_type, exc_value, traceback, show_locals=show_locals\n            )\n        self.trace = trace\n        self.width = width\n        self.code_width = code_width\n        self.extra_lines = extra_lines\n        self.theme = Syntax.get_theme(theme or \"ansi_dark\")\n        self.word_wrap = word_wrap\n        self.show_locals = show_locals\n        self.indent_guides = indent_guides\n        self.locals_max_length = locals_max_length\n        self.locals_max_string = locals_max_string\n        self.locals_hide_dunder = locals_hide_dunder\n        self.locals_hide_sunder = locals_hide_sunder\n\n        self.suppress: Sequence[str] = []\n        for suppress_entity in suppress:\n            if not isinstance(suppress_entity, str):\n                assert (\n                    suppress_entity.__file__ is not None\n                ), f\"{suppress_entity!r} must be a module with '__file__' attribute\"\n                path = os.path.dirname(suppress_entity.__file__)\n            else:\n                path = suppress_entity\n            path = os.path.normpath(os.path.abspath(path))\n            self.suppress.append(path)\n        self.max_frames = max(4, max_frames) if max_frames > 0 else 0\n\n    @classmethod",
    "start_line": 282
  },
  {
    "file": "traceback.py",
    "type": "method",
    "class": "Traceback",
    "method": "from_exception",
    "name": "from_exception",
    "content": "class Traceback:\n    def from_exception(\n        cls,\n        exc_type: Type[Any],\n        exc_value: BaseException,\n        traceback: Optional[TracebackType],\n        *,\n        width: Optional[int] = 100,\n        code_width: Optional[int] = 88,\n        extra_lines: int = 3,\n        theme: Optional[str] = None,\n        word_wrap: bool = False,\n        show_locals: bool = False,\n        locals_max_length: int = LOCALS_MAX_LENGTH,\n        locals_max_string: int = LOCALS_MAX_STRING,\n        locals_hide_dunder: bool = True,\n        locals_hide_sunder: bool = False,\n        indent_guides: bool = True,\n        suppress: Iterable[Union[str, ModuleType]] = (),\n        max_frames: int = 100,\n    ) -> \"Traceback\":\n        \"\"\"Create a traceback from exception info\n\n        Args:\n            exc_type (Type[BaseException]): Exception type.\n            exc_value (BaseException): Exception value.\n            traceback (TracebackType): Python Traceback object.\n            width (Optional[int], optional): Number of characters used to traceback. Defaults to 100.\n            code_width (Optional[int], optional): Number of code characters used to traceback. Defaults to 88.\n            extra_lines (int, optional): Additional lines of code to render. Defaults to 3.\n            theme (str, optional): Override pygments theme used in traceback.\n            word_wrap (bool, optional): Enable word wrapping of long lines. Defaults to False.\n            show_locals (bool, optional): Enable display of local variables. Defaults to False.\n            indent_guides (bool, optional): Enable indent guides in code and locals. Defaults to True.\n            locals_max_length (int, optional): Maximum length of containers before abbreviating, or None for no abbreviation.\n                Defaults to 10.\n            locals_max_string (int, optional): Maximum length of string before truncating, or None to disable. Defaults to 80.\n            locals_hide_dunder (bool, optional): Hide locals prefixed with double underscore. Defaults to True.\n            locals_hide_sunder (bool, optional): Hide locals prefixed with single underscore. Defaults to False.\n            suppress (Iterable[Union[str, ModuleType]]): Optional sequence of modules or paths to exclude from traceback.\n            max_frames (int): Maximum number of frames to show in a traceback, 0 for no maximum. Defaults to 100.\n\n        Returns:\n            Traceback: A Traceback instance that may be printed.\n        \"\"\"\n        rich_traceback = cls.extract(\n            exc_type,\n            exc_value,\n            traceback,\n            show_locals=show_locals,\n            locals_max_length=locals_max_length,\n            locals_max_string=locals_max_string,\n            locals_hide_dunder=locals_hide_dunder,\n            locals_hide_sunder=locals_hide_sunder,\n        )\n\n        return cls(\n            rich_traceback,\n            width=width,\n            code_width=code_width,\n            extra_lines=extra_lines,\n            theme=theme,\n            word_wrap=word_wrap,\n            show_locals=show_locals,\n            indent_guides=indent_guides,\n            locals_max_length=locals_max_length,\n            locals_max_string=locals_max_string,\n            locals_hide_dunder=locals_hide_dunder,\n            locals_hide_sunder=locals_hide_sunder,\n            suppress=suppress,\n            max_frames=max_frames,\n        )\n\n    @classmethod",
    "start_line": 336
  },
  {
    "file": "traceback.py",
    "type": "method",
    "class": "Traceback",
    "method": "extract",
    "name": "extract",
    "content": "class Traceback:\n    def extract(\n        cls,\n        exc_type: Type[BaseException],\n        exc_value: BaseException,\n        traceback: Optional[TracebackType],\n        *,\n        show_locals: bool = False,\n        locals_max_length: int = LOCALS_MAX_LENGTH,\n        locals_max_string: int = LOCALS_MAX_STRING,\n        locals_hide_dunder: bool = True,\n        locals_hide_sunder: bool = False,\n    ) -> Trace:\n        \"\"\"Extract traceback information.\n\n        Args:\n            exc_type (Type[BaseException]): Exception type.\n            exc_value (BaseException): Exception value.\n            traceback (TracebackType): Python Traceback object.\n            show_locals (bool, optional): Enable display of local variables. Defaults to False.\n            locals_max_length (int, optional): Maximum length of containers before abbreviating, or None for no abbreviation.\n                Defaults to 10.\n            locals_max_string (int, optional): Maximum length of string before truncating, or None to disable. Defaults to 80.\n            locals_hide_dunder (bool, optional): Hide locals prefixed with double underscore. Defaults to True.\n            locals_hide_sunder (bool, optional): Hide locals prefixed with single underscore. Defaults to False.\n\n        Returns:\n            Trace: A Trace instance which you can use to construct a `Traceback`.\n        \"\"\"\n\n        stacks: List[Stack] = []\n        is_cause = False",
    "start_line": 409
  },
  {
    "file": "traceback.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from rich import _IMPORT_CWD\n        notes: List[str] = getattr(exc_value, \"__notes__\", None) or []",
    "start_line": 441
  },
  {
    "file": "traceback.py",
    "type": "method",
    "class": "Traceback",
    "method": "safe_str",
    "name": "safe_str",
    "content": "class Traceback:\n        def safe_str(_object: Any) -> str:\n            \"\"\"Don't allow exceptions from __str__ to propagate.\"\"\"\n            try:\n                return str(_object)\n            except Exception:\n                return \"<exception str() failed>\"\n\n        while True:\n            stack = Stack(\n                exc_type=safe_str(exc_type.__name__),\n                exc_value=safe_str(exc_value),\n                is_cause=is_cause,\n                notes=notes,\n            )\n\n            if sys.version_info >= (3, 11):\n                if isinstance(exc_value, (BaseExceptionGroup, ExceptionGroup)):\n                    stack.is_group = True\n                    for exception in exc_value.exceptions:\n                        stack.exceptions.append(\n                            Traceback.extract(\n                                type(exception),\n                                exception,\n                                exception.__traceback__,\n                                show_locals=show_locals,\n                                locals_max_length=locals_max_length,\n                                locals_hide_dunder=locals_hide_dunder,\n                                locals_hide_sunder=locals_hide_sunder,\n                            )\n                        )\n\n            if isinstance(exc_value, SyntaxError):\n                stack.syntax_error = _SyntaxError(\n                    offset=exc_value.offset or 0,\n                    filename=exc_value.filename or \"?\",\n                    lineno=exc_value.lineno or 0,\n                    line=exc_value.text or \"\",\n                    msg=exc_value.msg,\n                    notes=notes,\n                )\n\n            stacks.append(stack)\n            append = stack.frames.append",
    "start_line": 445
  },
  {
    "file": "traceback.py",
    "type": "method",
    "class": "Traceback",
    "method": "get_locals",
    "name": "get_locals",
    "content": "class Traceback:\n            def get_locals(\n                iter_locals: Iterable[Tuple[str, object]],\n            ) -> Iterable[Tuple[str, object]]:\n                \"\"\"Extract locals from an iterator of key pairs.\"\"\"\n                if not (locals_hide_dunder or locals_hide_sunder):\n                    yield from iter_locals\n                    return\n                for key, value in iter_locals:\n                    if locals_hide_dunder and key.startswith(\"__\"):\n                        continue\n                    if locals_hide_sunder and key.startswith(\"_\"):\n                        continue\n                    yield key, value\n\n            for frame_summary, line_no in walk_tb(traceback):\n                filename = frame_summary.f_code.co_filename\n\n                last_instruction: Optional[Tuple[Tuple[int, int], Tuple[int, int]]]\n                last_instruction = None\n                if sys.version_info >= (3, 11):\n                    instruction_index = frame_summary.f_lasti // 2\n                    instruction_position = next(\n                        islice(\n                            frame_summary.f_code.co_positions(),\n                            instruction_index,\n                            instruction_index + 1,\n                        )\n                    )\n                    (\n                        start_line,\n                        end_line,\n                        start_column,\n                        end_column,\n                    ) = instruction_position\n                    if (\n                        start_line is not None\n                        and end_line is not None\n                        and start_column is not None\n                        and end_column is not None\n                    ):\n                        last_instruction = (\n                            (start_line, start_column),\n                            (end_line, end_column),\n                        )\n\n                if filename and not filename.startswith(\"<\"):\n                    if not os.path.isabs(filename):\n                        filename = os.path.join(_IMPORT_CWD, filename)\n                if frame_summary.f_locals.get(\"_rich_traceback_omit\", False):\n                    continue\n\n                frame = Frame(\n                    filename=filename or \"?\",\n                    lineno=line_no,\n                    name=frame_summary.f_code.co_name,\n                    locals=(\n                        {\n                            key: pretty.traverse(\n                                value,\n                                max_length=locals_max_length,\n                                max_string=locals_max_string,\n                            )\n                            for key, value in get_locals(frame_summary.f_locals.items())\n                            if not (inspect.isfunction(value) or inspect.isclass(value))\n                        }\n                        if show_locals\n                        else None\n                    ),\n                    last_instruction=last_instruction,\n                )\n                append(frame)\n                if frame_summary.f_locals.get(\"_rich_traceback_guard\", False):\n                    del stack.frames[:]\n\n            cause = getattr(exc_value, \"__cause__\", None)\n            if cause:\n                exc_type = cause.__class__\n                exc_value = cause",
    "start_line": 489
  },
  {
    "file": "traceback.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# __traceback__ can be None, e.g. for exceptions raised by the\n                # 'multiprocessing' module\n                traceback = cause.__traceback__\n                is_cause = True\n                continue\n            cause = exc_value.__context__\n            if cause and not getattr(exc_value, \"__suppress_context__\", False):\n                exc_type = cause.__class__\n                exc_value = cause\n                traceback = cause.__traceback__\n                is_cause = False\n                continue\n            # No cover, code is reached but coverage doesn't recognize it.\n            break  # pragma: no cover\n        trace = Trace(stacks=stacks)\n        return trace",
    "start_line": 567
  },
  {
    "file": "traceback.py",
    "type": "method",
    "class": "Traceback",
    "method": "__rich_console__",
    "name": "__rich_console__",
    "content": "class Traceback:\n    def __rich_console__(\n        self, console: Console, options: ConsoleOptions\n    ) -> RenderResult:\n        theme = self.theme\n        background_style = theme.get_background_style()\n        token_style = theme.get_style_for_token\n\n        traceback_theme = Theme(\n            {\n                \"pretty\": token_style(TextToken),\n                \"pygments.text\": token_style(Token),\n                \"pygments.string\": token_style(String),\n                \"pygments.function\": token_style(Name.Function),\n                \"pygments.number\": token_style(Number),\n                \"repr.indent\": token_style(Comment) + Style(dim=True),\n                \"repr.str\": token_style(String),\n                \"repr.brace\": token_style(TextToken) + Style(bold=True),\n                \"repr.number\": token_style(Number),\n                \"repr.bool_true\": token_style(Keyword.Constant),\n                \"repr.bool_false\": token_style(Keyword.Constant),\n                \"repr.none\": token_style(Keyword.Constant),\n                \"scope.border\": token_style(String.Delimiter),\n                \"scope.equals\": token_style(Operator),\n                \"scope.key\": token_style(Name),\n                \"scope.key.special\": token_style(Name.Constant) + Style(dim=True),\n            },\n            inherit=False,\n        )\n\n        highlighter = ReprHighlighter()\n\n        @group()",
    "start_line": 587
  },
  {
    "file": "traceback.py",
    "type": "method",
    "class": "Traceback",
    "method": "render_stack",
    "name": "render_stack",
    "content": "class Traceback:\n        def render_stack(stack: Stack, last: bool) -> RenderResult:\n            if stack.frames:\n                stack_renderable: ConsoleRenderable = Panel(\n                    self._render_stack(stack),\n                    title=\"[traceback.title]Traceback [dim](most recent call last)\",\n                    style=background_style,\n                    border_style=\"traceback.border\",\n                    expand=True,\n                    padding=(0, 1),\n                )\n                stack_renderable = Constrain(stack_renderable, self.width)\n                with console.use_theme(traceback_theme):\n                    yield stack_renderable\n\n            if stack.syntax_error is not None:\n                with console.use_theme(traceback_theme):\n                    yield Constrain(\n                        Panel(\n                            self._render_syntax_error(stack.syntax_error),\n                            style=background_style,\n                            border_style=\"traceback.border.syntax_error\",\n                            expand=True,\n                            padding=(0, 1),\n                            width=self.width,\n                        ),\n                        self.width,\n                    )\n                yield Text.assemble(\n                    (f\"{stack.exc_type}: \", \"traceback.exc_type\"),\n                    highlighter(stack.syntax_error.msg),\n                )\n            elif stack.exc_value:\n                yield Text.assemble(\n                    (f\"{stack.exc_type}: \", \"traceback.exc_type\"),\n                    highlighter(stack.exc_value),\n                )\n            else:\n                yield Text.assemble((f\"{stack.exc_type}\", \"traceback.exc_type\"))\n\n            for note in stack.notes:\n                yield Text.assemble((\"[NOTE] \", \"traceback.note\"), highlighter(note))\n\n            if stack.is_group:\n                for group_no, group_exception in enumerate(stack.exceptions, 1):\n                    grouped_exceptions: List[Group] = []\n                    for group_last, group_stack in loop_last(group_exception.stacks):\n                        grouped_exceptions.append(render_stack(group_stack, group_last))\n                    yield \"\"\n                    yield Constrain(\n                        Panel(\n                            Group(*grouped_exceptions),\n                            title=f\"Sub-exception #{group_no}\",\n                            border_style=\"traceback.group.border\",\n                        ),\n                        self.width,\n                    )\n\n            if not last:\n                if stack.is_cause:\n                    yield Text.from_markup(\n                        \"\\n[i]The above exception was the direct cause of the following exception:\\n\",\n                    )\n                else:\n                    yield Text.from_markup(\n                        \"\\n[i]During handling of the above exception, another exception occurred:\\n\",\n                    )\n\n        for last, stack in loop_last(reversed(self.trace.stacks)):\n            yield render_stack(stack, last)\n\n    @group()",
    "start_line": 619
  },
  {
    "file": "traceback.py",
    "type": "method",
    "class": "Traceback",
    "method": "_render_syntax_error",
    "name": "_render_syntax_error",
    "content": "class Traceback:\n    def _render_syntax_error(self, syntax_error: _SyntaxError) -> RenderResult:\n        highlighter = ReprHighlighter()\n        path_highlighter = PathHighlighter()\n        if syntax_error.filename != \"<stdin>\":\n            if os.path.exists(syntax_error.filename):\n                text = Text.assemble(\n                    (f\" {syntax_error.filename}\", \"pygments.string\"),\n                    (\":\", \"pygments.text\"),\n                    (str(syntax_error.lineno), \"pygments.number\"),\n                    style=\"pygments.text\",\n                )\n                yield path_highlighter(text)\n        syntax_error_text = highlighter(syntax_error.line.rstrip())\n        syntax_error_text.no_wrap = True\n        offset = min(syntax_error.offset - 1, len(syntax_error_text))\n        syntax_error_text.stylize(\"bold underline\", offset, offset)\n        syntax_error_text += Text.from_markup(\n            \"\\n\" + \" \" * offset + \"[traceback.offset][/]\",\n            style=\"pygments.text\",\n        )\n        yield syntax_error_text\n\n    @classmethod",
    "start_line": 690
  },
  {
    "file": "traceback.py",
    "type": "method",
    "class": "Traceback",
    "method": "_guess_lexer",
    "name": "_guess_lexer",
    "content": "class Traceback:\n    def _guess_lexer(cls, filename: str, code: str) -> str:\n        ext = os.path.splitext(filename)[-1]\n        if not ext:",
    "start_line": 713
  },
  {
    "file": "traceback.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# No extension, look at first line to see if it is a hashbang\n            # Note, this is an educated guess and not a guarantee\n            # If it fails, the only downside is that the code is highlighted strangely\n            new_line_index = code.index(\"\\n\")\n            first_line = code[:new_line_index] if new_line_index != -1 else code\n            if first_line.startswith(\"#!\") and \"python\" in first_line.lower():\n                return \"python\"\n        try:\n            return cls.LEXERS.get(ext) or guess_lexer_for_filename(filename, code).name\n        except ClassNotFound:\n            return \"text\"\n    @group()",
    "start_line": 716
  },
  {
    "file": "traceback.py",
    "type": "method",
    "class": "Traceback",
    "method": "_render_stack",
    "name": "_render_stack",
    "content": "class Traceback:\n    def _render_stack(self, stack: Stack) -> RenderResult:\n        path_highlighter = PathHighlighter()\n        theme = self.theme",
    "start_line": 729
  },
  {
    "file": "traceback.py",
    "type": "method",
    "class": "Traceback",
    "method": "render_locals",
    "name": "render_locals",
    "content": "class Traceback:\n        def render_locals(frame: Frame) -> Iterable[ConsoleRenderable]:\n            if frame.locals:\n                yield render_scope(\n                    frame.locals,\n                    title=\"locals\",\n                    indent_guides=self.indent_guides,\n                    max_length=self.locals_max_length,\n                    max_string=self.locals_max_string,\n                )\n\n        exclude_frames: Optional[range] = None\n        if self.max_frames != 0:\n            exclude_frames = range(\n                self.max_frames // 2,\n                len(stack.frames) - self.max_frames // 2,\n            )\n\n        excluded = False\n        for frame_index, frame in enumerate(stack.frames):\n            if exclude_frames and frame_index in exclude_frames:\n                excluded = True\n                continue\n\n            if excluded:\n                assert exclude_frames is not None\n                yield Text(\n                    f\"\\n... {len(exclude_frames)} frames hidden ...\",\n                    justify=\"center\",\n                    style=\"traceback.error\",\n                )\n                excluded = False\n\n            first = frame_index == 0\n            frame_filename = frame.filename\n            suppressed = any(frame_filename.startswith(path) for path in self.suppress)\n\n            if os.path.exists(frame.filename):\n                text = Text.assemble(\n                    path_highlighter(Text(frame.filename, style=\"pygments.string\")),\n                    (\":\", \"pygments.text\"),\n                    (str(frame.lineno), \"pygments.number\"),\n                    \" in \",\n                    (frame.name, \"pygments.function\"),\n                    style=\"pygments.text\",\n                )\n            else:\n                text = Text.assemble(\n                    \"in \",\n                    (frame.name, \"pygments.function\"),\n                    (\":\", \"pygments.text\"),\n                    (str(frame.lineno), \"pygments.number\"),\n                    style=\"pygments.text\",\n                )\n            if not frame.filename.startswith(\"<\") and not first:\n                yield \"\"\n            yield text\n            if frame.filename.startswith(\"<\"):\n                yield from render_locals(frame)\n                continue\n            if not suppressed:\n                try:\n                    code_lines = linecache.getlines(frame.filename)\n                    code = \"\".join(code_lines)\n                    if not code:",
    "start_line": 733
  },
  {
    "file": "traceback.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# code may be an empty string if the file doesn't exist, OR\n                        # if the traceback filename is generated dynamically\n                        continue\n                    lexer_name = self._guess_lexer(frame.filename, code)\n                    syntax = Syntax(\n                        code,\n                        lexer_name,\n                        theme=theme,\n                        line_numbers=True,\n                        line_range=(\n                            frame.lineno - self.extra_lines,\n                            frame.lineno + self.extra_lines,\n                        ),\n                        highlight_lines={frame.lineno},\n                        word_wrap=self.word_wrap,\n                        code_width=self.code_width,\n                        indent_guides=self.indent_guides,\n                        dedent=False,\n                    )\n                    yield \"\"\n                except Exception as error:\n                    yield Text.assemble(\n                        (f\"\\n{error}\", \"traceback.error\"),\n                    )\n                else:\n                    if frame.last_instruction is not None:\n                        start, end = frame.last_instruction\n                        # Stylize a line at a time\n                        # So that indentation isn't underlined (which looks bad)\n                        for line1, column1, column2 in _iter_syntax_lines(start, end):\n                            try:\n                                if column1 == 0:\n                                    line = code_lines[line1 - 1]\n                                    column1 = len(line) - len(line.lstrip())\n                                if column2 == -1:\n                                    column2 = len(code_lines[line1 - 1])\n                            except IndexError:\n                                # Being defensive here\n                                # If last_instruction reports a line out-of-bounds, we don't want to crash\n                                continue\n                            syntax.stylize_range(\n                                style=\"traceback.error_range\",\n                                start=(line1, column1),\n                                end=(line1, column2),\n                            )\n                    yield (\n                        Columns(\n                            [\n                                syntax,\n                                *render_locals(frame),\n                            ],\n                            padding=1,\n                        )\n                        if frame.locals\n                        else syntax\n                    )\nif __name__ == \"__main__\":  # pragma: no cover\n    install(show_locals=True)",
    "start_line": 797
  },
  {
    "file": "traceback.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "import sys",
    "start_line": 859
  },
  {
    "file": "traceback.py",
    "type": "function",
    "class": null,
    "method": "bar",
    "name": "bar",
    "content": "def bar(\n        a: Any,\n    ) -> None:  # ",
    "start_line": 861
  },
  {
    "file": "traceback.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "one = 1\n        print(one / a)",
    "start_line": 864
  },
  {
    "file": "traceback.py",
    "type": "function",
    "class": null,
    "method": "foo",
    "name": "foo",
    "content": "def foo(a: Any) -> None:",
    "start_line": 867
  },
  {
    "file": "traceback.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "_rich_traceback_guard = True\n        zed = {\n            \"characters\": {\n                \"Paul Atreides\",\n                \"Vladimir Harkonnen\",\n                \"Thufir Hawat\",\n                \"Duncan Idaho\",\n            },\n            \"atomic_types\": (None, False, True),\n        }\n        bar(a)",
    "start_line": 868
  },
  {
    "file": "traceback.py",
    "type": "function",
    "class": null,
    "method": "error",
    "name": "error",
    "content": "def error() -> None:\n        foo(0)\n\n    error()",
    "start_line": 880
  },
  {
    "file": "traceback.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "import inspect\nimport linecache\nimport os\nimport sys\nfrom dataclasses import dataclass, field\nfrom itertools import islice\nfrom traceback import walk_tb\nfrom types import ModuleType, TracebackType\nfrom typing import (\n    Any,\n    Callable,\n    Dict,\n    Iterable,\n    List,\n    Optional,\n    Sequence,\n    Tuple,\n    Type,\n    Union,\n)\n\nfrom pygments.lexers import guess_lexer_for_filename\nfrom pygments.token import Comment, Keyword, Name, Number, Operator, String\nfrom pygments.token import Text as TextToken\nfrom pygments.token import Token\nfrom pygments.util import ClassNotFound\n\nfrom . import pretty\nfrom ._loop import loop_first_last, loop_last\nfrom .columns import Columns\nfrom .console import (\n    Console,\n    ConsoleOptions,\n    ConsoleRenderable,\n    Group,\n    RenderResult,\n    group,\n)\nfrom .constrain import Constrain\nfrom .highlighter import RegexHighlighter, ReprHighlighter\nfrom .panel import Panel\nfrom .scope import render_scope\nfrom .style import Style\nfrom .syntax import Syntax, SyntaxPosition\nfrom .text import Text\nfrom .theme import Theme\n\nWINDOWS = sys.platform == \"win32\"\n\nLOCALS_MAX_LENGTH = 10\nLOCALS_MAX_STRING = 80\n\n\ndef _iter_syntax_lines(\n    start: SyntaxPosition, end: SyntaxPosition\n) -> Iterable[Tuple[int, int, int]]:\n    \"\"\"Yield start and end positions per line.\n\n    Args:\n        start: Start position.\n        end: End position.\n\n    Returns:\n        Iterable of (LINE, COLUMN1, COLUMN2).\n    \"\"\"\n\n    line1, column1 = start\n    line2, column2 = end\n\n    if line1 == line2:\n        yield line1, column1, column2\n    else:\n        for first, last, line_no in loop_first_last(range(line1, line2 + 1)):\n            if first:\n                yield line_no, column1, -1\n            elif last:\n                yield line_no, 0, column2\n            else:\n                yield line_no, 0, -1\n\n\ndef install(\n    *,\n    console: Optional[Console] = None,\n    width: Optional[int] = 100,\n    code_width: Optional[int] = 88,\n    extra_lines: int = 3,\n    theme: Optional[str] = None,\n    word_wrap: bool = False,\n    show_locals: bool = False,\n    locals_max_length: int = LOCALS_MAX_LENGTH,\n    locals_max_string: int = LOCALS_MAX_STRING,\n    locals_hide_dunder: bool = True,\n    locals_hide_sunder: Optional[bool] = None,\n    indent_guides: bool = True,\n    suppress: Iterable[Union[str, ModuleType]] = (),\n    max_frames: int = 100,\n) -> Callable[[Type[BaseException], BaseException, Optional[TracebackType]], Any]:\n    \"\"\"Install a rich traceback handler.\n\n    Once installed, any tracebacks will be printed with syntax highlighting and rich formatting.\n\n\n    Args:\n        console (Optional[Console], optional): Console to write exception to. Default uses internal Console instance.\n        width (Optional[int], optional): Width (in characters) of traceback. Defaults to 100.\n        code_width (Optional[int], optional): Code width (in characters) of traceback. Defaults to 88.\n        extra_lines (int, optional): Extra lines of code. Defaults to 3.\n        theme (Optional[str], optional): Pygments theme to use in traceback. Defaults to ``None`` which will pick\n            a theme appropriate for the platform.\n        word_wrap (bool, optional): Enable word wrapping of long lines. Defaults to False.\n        show_locals (bool, optional): Enable display of local variables. Defaults to False.\n        locals_max_length (int, optional): Maximum length of containers before abbreviating, or None for no abbreviation.\n            Defaults to 10.\n        locals_max_string (int, optional): Maximum length of string before truncating, or None to disable. Defaults to 80.\n        locals_hide_dunder (bool, optional): Hide locals prefixed with double underscore. Defaults to True.\n        locals_hide_sunder (bool, optional): Hide locals prefixed with single underscore. Defaults to False.\n        indent_guides (bool, optional): Enable indent guides in code and locals. Defaults to True.\n        suppress (Sequence[Union[str, ModuleType]]): Optional sequence of modules or paths to exclude from traceback.\n\n    Returns:\n        Callable: The previous exception handler that was replaced.\n\n    \"\"\"\n    traceback_console = Console(stderr=True) if console is None else console\n\n    locals_hide_sunder = (\n        True\n        if (traceback_console.is_jupyter and locals_hide_sunder is None)\n        else locals_hide_sunder\n    )\n\n    def excepthook(\n        type_: Type[BaseException],\n        value: BaseException,\n        traceback: Optional[TracebackType],\n    ) -> None:\n        exception_traceback = Traceback.from_exception(\n            type_,\n            value,\n            traceback,\n            width=width,\n            code_width=code_width,\n            extra_lines=extra_lines,\n            theme=theme,\n            word_wrap=word_wrap,\n            show_locals=show_locals,\n            locals_max_length=locals_max_length,\n            locals_max_string=locals_max_string,\n            locals_hide_dunder=locals_hide_dunder,\n            locals_hide_sunder=bool(locals_hide_sunder),\n            indent_guides=indent_guides,\n            suppress=suppress,\n            max_frames=max_frames,\n        )\n        traceback_console.print(exception_traceback)\n\n    def ipy_excepthook_closure(ip: Any) -> None:  # pragma: no cover\n        tb_data = {}  # store information about showtraceback call\n        default_showtraceback = ip.showtraceback  # keep reference of default traceback\n\n        def ipy_show_traceback(*args: Any, **kwargs: Any) -> None:\n            \"\"\"wrap the default ip.showtraceback to store info for ip._showtraceback\"\"\"\n            nonlocal tb_data\n            tb_data = kwargs\n            default_showtraceback(*args, **kwargs)\n\n        def ipy_display_traceback(\n            *args: Any, is_syntax: bool = False, **kwargs: Any\n        ) -> None:\n            \"\"\"Internally called traceback from ip._showtraceback\"\"\"\n            nonlocal tb_data\n            exc_tuple = ip._get_exc_info()\n\n            # do not display trace on syntax error\n            tb: Optional[TracebackType] = None if is_syntax else exc_tuple[2]\n\n            # determine correct tb_offset\n            compiled = tb_data.get(\"running_compiled_code\", False)\n            tb_offset = tb_data.get(\"tb_offset\", 1 if compiled else 0)\n            # remove ipython internal frames from trace with tb_offset\n            for _ in range(tb_offset):\n                if tb is None:\n                    break\n                tb = tb.tb_next\n\n            excepthook(exc_tuple[0], exc_tuple[1], tb)\n            tb_data = {}  # clear data upon usage\n\n        # replace _showtraceback instead of showtraceback to allow ipython features such as debugging to work\n        # this is also what the ipython docs recommends to modify when subclassing InteractiveShell\n        ip._showtraceback = ipy_display_traceback\n        # add wrapper to capture tb_data\n        ip.showtraceback = ipy_show_traceback\n        ip.showsyntaxerror = lambda *args, **kwargs: ipy_display_traceback(\n            *args, is_syntax=True, **kwargs\n        )\n\n    try:  # pragma: no cover\n        # if within ipython, use customized traceback\n        ip = get_ipython()  # type: ignore[name-defined]\n        ipy_excepthook_closure(ip)\n        return sys.excepthook\n    except Exception:\n        # otherwise use default system hook\n        old_excepthook = sys.excepthook\n        sys.excepthook = excepthook\n        return old_excepthook\n\n\n@dataclass\nclass Frame:\n    filename: str\n    lineno: int\n    name: str\n    line: str = \"\"\n    locals: Optional[Dict[str, pretty.Node]] = None\n    last_instruction: Optional[Tuple[Tuple[int, int], Tuple[int, int]]] = None\n\n\n@dataclass\nclass _SyntaxError:\n    offset: int\n    filename: str\n    line: str\n    lineno: int\n    msg: str\n    notes: List[str] = field(default_factory=list)\n\n\n@dataclass\nclass Stack:\n    exc_type: str\n    exc_value: str\n    syntax_error: Optional[_SyntaxError] = None\n    is_cause: bool = False\n    frames: List[Frame] = field(default_factory=list)\n    notes: List[str] = field(default_factory=list)\n    is_group: bool = False\n    exceptions: List[\"Trace\"] = field(default_factory=list)\n\n\n@dataclass\nclass Trace:\n    stacks: List[Stack]\n\n\nclass PathHighlighter(RegexHighlighter):\n    highlights = [r\"(?P<dim>.*/)(?P<bold>.+)\"]\n\n\nclass Traceback:\n    \"\"\"A Console renderable that renders a traceback.\n\n    Args:\n        trace (Trace, optional): A `Trace` object produced from `extract`. Defaults to None, which uses\n            the last exception.\n        width (Optional[int], optional): Number of characters used to traceback. Defaults to 100.\n        code_width (Optional[int], optional): Number of code characters used to traceback. Defaults to 88.\n        extra_lines (int, optional): Additional lines of code to render. Defaults to 3.\n        theme (str, optional): Override pygments theme used in traceback.\n        word_wrap (bool, optional): Enable word wrapping of long lines. Defaults to False.\n        show_locals (bool, optional): Enable display of local variables. Defaults to False.\n        indent_guides (bool, optional): Enable indent guides in code and locals. Defaults to True.\n        locals_max_length (int, optional): Maximum length of containers before abbreviating, or None for no abbreviation.\n            Defaults to 10.\n        locals_max_string (int, optional): Maximum length of string before truncating, or None to disable. Defaults to 80.\n        locals_hide_dunder (bool, optional): Hide locals prefixed with double underscore. Defaults to True.\n        locals_hide_sunder (bool, optional): Hide locals prefixed with single underscore. Defaults to False.\n        suppress (Sequence[Union[str, ModuleType]]): Optional sequence of modules or paths to exclude from traceback.\n        max_frames (int): Maximum number of frames to show in a traceback, 0 for no maximum. Defaults to 100.\n\n    \"\"\"\n\n    LEXERS = {\n        \"\": \"text\",\n        \".py\": \"python\",\n        \".pxd\": \"cython\",\n        \".pyx\": \"cython\",\n        \".pxi\": \"pyrex\",\n    }\n\n    def __init__(\n        self,\n        trace: Optional[Trace] = None,\n        *,\n        width: Optional[int] = 100,\n        code_width: Optional[int] = 88,\n        extra_lines: int = 3,\n        theme: Optional[str] = None,\n        word_wrap: bool = False,\n        show_locals: bool = False,\n        locals_max_length: int = LOCALS_MAX_LENGTH,\n        locals_max_string: int = LOCALS_MAX_STRING,\n        locals_hide_dunder: bool = True,\n        locals_hide_sunder: bool = False,\n        indent_guides: bool = True,\n        suppress: Iterable[Union[str, ModuleType]] = (),\n        max_frames: int = 100,\n    ):\n        if trace is None:\n            exc_type, exc_value, traceback = sys.exc_info()\n            if exc_type is None or exc_value is None or traceback is None:\n                raise ValueError(\n                    \"Value for 'trace' required if not called in except: block\"\n                )\n            trace = self.extract(\n                exc_type, exc_value, traceback, show_locals=show_locals\n            )\n        self.trace = trace\n        self.width = width\n        self.code_width = code_width\n        self.extra_lines = extra_lines\n        self.theme = Syntax.get_theme(theme or \"ansi_dark\")\n        self.word_wrap = word_wrap\n        self.show_locals = show_locals\n        self.indent_guides = indent_guides\n        self.locals_max_length = locals_max_length\n        self.locals_max_string = locals_max_string\n        self.locals_hide_dunder = locals_hide_dunder\n        self.locals_hide_sunder = locals_hide_sunder\n\n        self.suppress: Sequence[str] = []\n        for suppress_entity in suppress:\n            if not isinstance(suppress_entity, str):\n                assert (\n                    suppress_entity.__file__ is not None\n                ), f\"{suppress_entity!r} must be a module with '__file__' attribute\"\n                path = os.path.dirname(suppress_entity.__file__)\n            else:\n                path = suppress_entity\n            path = os.path.normpath(os.path.abspath(path))\n            self.suppress.append(path)\n        self.max_frames = max(4, max_frames) if max_frames > 0 else 0\n\n    @classmethod\n    def from_exception(\n        cls,\n        exc_type: Type[Any],\n        exc_value: BaseException,\n        traceback: Optional[TracebackType],\n        *,\n        width: Optional[int] = 100,\n        code_width: Optional[int] = 88,\n        extra_lines: int = 3,\n        theme: Optional[str] = None,\n        word_wrap: bool = False,\n        show_locals: bool = False,\n        locals_max_length: int = LOCALS_MAX_LENGTH,\n        locals_max_string: int = LOCALS_MAX_STRING,\n        locals_hide_dunder: bool = True,\n        locals_hide_sunder: bool = False,\n        indent_guides: bool = True,\n        suppress: Iterable[Union[str, ModuleType]] = (),\n        max_frames: int = 100,\n    ) -> \"Traceback\":\n        \"\"\"Create a traceback from exception info\n\n        Args:\n            exc_type (Type[BaseException]): Exception type.\n            exc_value (BaseException): Exception value.\n            traceback (TracebackType): Python Traceback object.\n            width (Optional[int], optional): Number of characters used to traceback. Defaults to 100.\n            code_width (Optional[int], optional): Number of code characters used to traceback. Defaults to 88.\n            extra_lines (int, optional): Additional lines of code to render. Defaults to 3.\n            theme (str, optional): Override pygments theme used in traceback.\n            word_wrap (bool, optional): Enable word wrapping of long lines. Defaults to False.\n            show_locals (bool, optional): Enable display of local variables. Defaults to False.\n            indent_guides (bool, optional): Enable indent guides in code and locals. Defaults to True.\n            locals_max_length (int, optional): Maximum length of containers before abbreviating, or None for no abbreviation.\n                Defaults to 10.\n            locals_max_string (int, optional): Maximum length of string before truncating, or None to disable. Defaults to 80.\n            locals_hide_dunder (bool, optional): Hide locals prefixed with double underscore. Defaults to True.\n            locals_hide_sunder (bool, optional): Hide locals prefixed with single underscore. Defaults to False.\n            suppress (Iterable[Union[str, ModuleType]]): Optional sequence of modules or paths to exclude from traceback.\n            max_frames (int): Maximum number of frames to show in a traceback, 0 for no maximum. Defaults to 100.\n\n        Returns:\n            Traceback: A Traceback instance that may be printed.\n        \"\"\"\n        rich_traceback = cls.extract(\n            exc_type,\n            exc_value,\n            traceback,\n            show_locals=show_locals,\n            locals_max_length=locals_max_length,\n            locals_max_string=locals_max_string,\n            locals_hide_dunder=locals_hide_dunder,\n            locals_hide_sunder=locals_hide_sunder,\n        )\n\n        return cls(\n            rich_traceback,\n            width=width,\n            code_width=code_width,\n            extra_lines=extra_lines,\n            theme=theme,\n            word_wrap=word_wrap,\n            show_locals=show_locals,\n            indent_guides=indent_guides,\n            locals_max_length=locals_max_length,\n            locals_max_string=locals_max_string,\n            locals_hide_dunder=locals_hide_dunder,\n            locals_hide_sunder=locals_hide_sunder,\n            suppress=suppress,\n            max_frames=max_frames,\n        )\n\n    @classmethod\n    def extract(\n        cls,\n        exc_type: Type[BaseException],\n        exc_value: BaseException,\n        traceback: Optional[TracebackType],\n        *,\n        show_locals: bool = False,\n        locals_max_length: int = LOCALS_MAX_LENGTH,\n        locals_max_string: int = LOCALS_MAX_STRING,\n        locals_hide_dunder: bool = True,\n        locals_hide_sunder: bool = False,\n    ) -> Trace:\n        \"\"\"Extract traceback information.\n\n        Args:\n            exc_type (Type[BaseException]): Exception type.\n            exc_value (BaseException): Exception value.\n            traceback (TracebackType): Python Traceback object.\n            show_locals (bool, optional): Enable display of local variables. Defaults to False.\n            locals_max_length (int, optional): Maximum length of containers before abbreviating, or None for no abbreviation.\n                Defaults to 10.\n            locals_max_string (int, optional): Maximum length of string before truncating, or None to disable. Defaults to 80.\n            locals_hide_dunder (bool, optional): Hide locals prefixed with double underscore. Defaults to True.\n            locals_hide_sunder (bool, optional): Hide locals prefixed with single underscore. Defaults to False.\n\n        Returns:\n            Trace: A Trace instance which you can use to construct a `Traceback`.\n        \"\"\"\n\n        stacks: List[Stack] = []\n        is_cause = False\n\n        from rich import _IMPORT_CWD\n\n        notes: List[str] = getattr(exc_value, \"__notes__\", None) or []\n\n        def safe_str(_object: Any) -> str:\n            \"\"\"Don't allow exceptions from __str__ to propagate.\"\"\"\n            try:\n                return str(_object)\n            except Exception:\n                return \"<exception str() failed>\"\n\n        while True:\n            stack = Stack(\n                exc_type=safe_str(exc_type.__name__),\n                exc_value=safe_str(exc_value),\n                is_cause=is_cause,\n                notes=notes,\n            )\n\n            if sys.version_info >= (3, 11):\n                if isinstance(exc_value, (BaseExceptionGroup, ExceptionGroup)):\n                    stack.is_group = True\n                    for exception in exc_value.exceptions:\n                        stack.exceptions.append(\n                            Traceback.extract(\n                                type(exception),\n                                exception,\n                                exception.__traceback__,\n                                show_locals=show_locals,\n                                locals_max_length=locals_max_length,\n                                locals_hide_dunder=locals_hide_dunder,\n                                locals_hide_sunder=locals_hide_sunder,\n                            )\n                        )\n\n            if isinstance(exc_value, SyntaxError):\n                stack.syntax_error = _SyntaxError(\n                    offset=exc_value.offset or 0,\n                    filename=exc_value.filename or \"?\",\n                    lineno=exc_value.lineno or 0,\n                    line=exc_value.text or \"\",\n                    msg=exc_value.msg,\n                    notes=notes,\n                )\n\n            stacks.append(stack)\n            append = stack.frames.append\n\n            def get_locals(\n                iter_locals: Iterable[Tuple[str, object]],\n            ) -> Iterable[Tuple[str, object]]:\n                \"\"\"Extract locals from an iterator of key pairs.\"\"\"\n                if not (locals_hide_dunder or locals_hide_sunder):\n                    yield from iter_locals\n                    return\n                for key, value in iter_locals:\n                    if locals_hide_dunder and key.startswith(\"__\"):\n                        continue\n                    if locals_hide_sunder and key.startswith(\"_\"):\n                        continue\n                    yield key, value\n\n            for frame_summary, line_no in walk_tb(traceback):\n                filename = frame_summary.f_code.co_filename\n\n                last_instruction: Optional[Tuple[Tuple[int, int], Tuple[int, int]]]\n                last_instruction = None\n                if sys.version_info >= (3, 11):\n                    instruction_index = frame_summary.f_lasti // 2\n                    instruction_position = next(\n                        islice(\n                            frame_summary.f_code.co_positions(),\n                            instruction_index,\n                            instruction_index + 1,\n                        )\n                    )\n                    (\n                        start_line,\n                        end_line,\n                        start_column,\n                        end_column,\n                    ) = instruction_position\n                    if (\n                        start_line is not None\n                        and end_line is not None\n                        and start_column is not None\n                        and end_column is not None\n                    ):\n                        last_instruction = (\n                            (start_line, start_column),\n                            (end_line, end_column),\n                        )\n\n                if filename and not filename.startswith(\"<\"):\n                    if not os.path.isabs(filename):\n                        filename = os.path.join(_IMPORT_CWD, filename)\n                if frame_summary.f_locals.get(\"_rich_traceback_omit\", False):\n                    continue\n\n                frame = Frame(\n                    filename=filename or \"?\",\n                    lineno=line_no,\n                    name=frame_summary.f_code.co_name,\n                    locals=(\n                        {\n                            key: pretty.traverse(\n                                value,\n                                max_length=locals_max_length,\n                                max_string=locals_max_string,\n                            )\n                            for key, value in get_locals(frame_summary.f_locals.items())\n                            if not (inspect.isfunction(value) or inspect.isclass(value))\n                        }\n                        if show_locals\n                        else None\n                    ),\n                    last_instruction=last_instruction,\n                )\n                append(frame)\n                if frame_summary.f_locals.get(\"_rich_traceback_guard\", False):\n                    del stack.frames[:]\n\n            cause = getattr(exc_value, \"__cause__\", None)\n            if cause:\n                exc_type = cause.__class__\n                exc_value = cause\n                # __traceback__ can be None, e.g. for exceptions raised by the\n                # 'multiprocessing' module\n                traceback = cause.__traceback__\n                is_cause = True\n                continue\n\n            cause = exc_value.__context__\n            if cause and not getattr(exc_value, \"__suppress_context__\", False):\n                exc_type = cause.__class__\n                exc_value = cause\n                traceback = cause.__traceback__\n                is_cause = False\n                continue\n            # No cover, code is reached but coverage doesn't recognize it.\n            break  # pragma: no cover\n\n        trace = Trace(stacks=stacks)\n\n        return trace\n\n    def __rich_console__(\n        self, console: Console, options: ConsoleOptions\n    ) -> RenderResult:\n        theme = self.theme\n        background_style = theme.get_background_style()\n        token_style = theme.get_style_for_token\n\n        traceback_theme = Theme(\n            {\n                \"pretty\": token_style(TextToken),\n                \"pygments.text\": token_style(Token),\n                \"pygments.string\": token_style(String),\n                \"pygments.function\": token_style(Name.Function),\n                \"pygments.number\": token_style(Number),\n                \"repr.indent\": token_style(Comment) + Style(dim=True),\n                \"repr.str\": token_style(String),\n                \"repr.brace\": token_style(TextToken) + Style(bold=True),\n                \"repr.number\": token_style(Number),\n                \"repr.bool_true\": token_style(Keyword.Constant),\n                \"repr.bool_false\": token_style(Keyword.Constant),\n                \"repr.none\": token_style(Keyword.Constant),\n                \"scope.border\": token_style(String.Delimiter),\n                \"scope.equals\": token_style(Operator),\n                \"scope.key\": token_style(Name),\n                \"scope.key.special\": token_style(Name.Constant) + Style(dim=True),\n            },\n            inherit=False,\n        )\n\n        highlighter = ReprHighlighter()\n\n        @group()\n        def render_stack(stack: Stack, last: bool) -> RenderResult:\n            if stack.frames:\n                stack_renderable: ConsoleRenderable = Panel(\n                    self._render_stack(stack),\n                    title=\"[traceback.title]Traceback [dim](most recent call last)\",\n                    style=background_style,\n                    border_style=\"traceback.border\",\n                    expand=True,\n                    padding=(0, 1),\n                )\n                stack_renderable = Constrain(stack_renderable, self.width)\n                with console.use_theme(traceback_theme):\n                    yield stack_renderable\n\n            if stack.syntax_error is not None:\n                with console.use_theme(traceback_theme):\n                    yield Constrain(\n                        Panel(\n                            self._render_syntax_error(stack.syntax_error),\n                            style=background_style,\n                            border_style=\"traceback.border.syntax_error\",\n                            expand=True,\n                            padding=(0, 1),\n                            width=self.width,\n                        ),\n                        self.width,\n                    )\n                yield Text.assemble(\n                    (f\"{stack.exc_type}: \", \"traceback.exc_type\"),\n                    highlighter(stack.syntax_error.msg),\n                )\n            elif stack.exc_value:\n                yield Text.assemble(\n                    (f\"{stack.exc_type}: \", \"traceback.exc_type\"),\n                    highlighter(stack.exc_value),\n                )\n            else:\n                yield Text.assemble((f\"{stack.exc_type}\", \"traceback.exc_type\"))\n\n            for note in stack.notes:\n                yield Text.assemble((\"[NOTE] \", \"traceback.note\"), highlighter(note))\n\n            if stack.is_group:\n                for group_no, group_exception in enumerate(stack.exceptions, 1):\n                    grouped_exceptions: List[Group] = []\n                    for group_last, group_stack in loop_last(group_exception.stacks):\n                        grouped_exceptions.append(render_stack(group_stack, group_last))\n                    yield \"\"\n                    yield Constrain(\n                        Panel(\n                            Group(*grouped_exceptions),\n                            title=f\"Sub-exception #{group_no}\",\n                            border_style=\"traceback.group.border\",\n                        ),\n                        self.width,\n                    )\n\n            if not last:\n                if stack.is_cause:\n                    yield Text.from_markup(\n                        \"\\n[i]The above exception was the direct cause of the following exception:\\n\",\n                    )\n                else:\n                    yield Text.from_markup(\n                        \"\\n[i]During handling of the above exception, another exception occurred:\\n\",\n                    )\n\n        for last, stack in loop_last(reversed(self.trace.stacks)):\n            yield render_stack(stack, last)\n\n    @group()\n    def _render_syntax_error(self, syntax_error: _SyntaxError) -> RenderResult:\n        highlighter = ReprHighlighter()\n        path_highlighter = PathHighlighter()\n        if syntax_error.filename != \"<stdin>\":\n            if os.path.exists(syntax_error.filename):\n                text = Text.assemble(\n                    (f\" {syntax_error.filename}\", \"pygments.string\"),\n                    (\":\", \"pygments.text\"),\n                    (str(syntax_error.lineno), \"pygments.number\"),\n                    style=\"pygments.text\",\n                )\n                yield path_highlighter(text)\n        syntax_error_text = highlighter(syntax_error.line.rstrip())\n        syntax_error_text.no_wrap = True\n        offset = min(syntax_error.offset - 1, len(syntax_error_text))\n        syntax_error_text.stylize(\"bold underline\", offset, offset)\n        syntax_error_text += Text.from_markup(\n            \"\\n\" + \" \" * offset + \"[traceback.offset][/]\",\n            style=\"pygments.text\",\n        )\n        yield syntax_error_text\n\n    @classmethod\n    def _guess_lexer(cls, filename: str, code: str) -> str:\n        ext = os.path.splitext(filename)[-1]\n        if not ext:\n            # No extension, look at first line to see if it is a hashbang\n            # Note, this is an educated guess and not a guarantee\n            # If it fails, the only downside is that the code is highlighted strangely\n            new_line_index = code.index(\"\\n\")\n            first_line = code[:new_line_index] if new_line_index != -1 else code\n            if first_line.startswith(\"#!\") and \"python\" in first_line.lower():\n                return \"python\"\n        try:\n            return cls.LEXERS.get(ext) or guess_lexer_for_filename(filename, code).name\n        except ClassNotFound:\n            return \"text\"\n\n    @group()\n    def _render_stack(self, stack: Stack) -> RenderResult:\n        path_highlighter = PathHighlighter()\n        theme = self.theme\n\n        def render_locals(frame: Frame) -> Iterable[ConsoleRenderable]:\n            if frame.locals:\n                yield render_scope(\n                    frame.locals,\n                    title=\"locals\",\n                    indent_guides=self.indent_guides,\n                    max_length=self.locals_max_length,\n                    max_string=self.locals_max_string,\n                )\n\n        exclude_frames: Optional[range] = None\n        if self.max_frames != 0:\n            exclude_frames = range(\n                self.max_frames // 2,\n                len(stack.frames) - self.max_frames // 2,\n            )\n\n        excluded = False\n        for frame_index, frame in enumerate(stack.frames):\n            if exclude_frames and frame_index in exclude_frames:\n                excluded = True\n                continue\n\n            if excluded:\n                assert exclude_frames is not None\n                yield Text(\n                    f\"\\n... {len(exclude_frames)} frames hidden ...\",\n                    justify=\"center\",\n                    style=\"traceback.error\",\n                )\n                excluded = False\n\n            first = frame_index == 0\n            frame_filename = frame.filename\n            suppressed = any(frame_filename.startswith(path) for path in self.suppress)\n\n            if os.path.exists(frame.filename):\n                text = Text.assemble(\n                    path_highlighter(Text(frame.filename, style=\"pygments.string\")),\n                    (\":\", \"pygments.text\"),\n                    (str(frame.lineno), \"pygments.number\"),\n                    \" in \",\n                    (frame.name, \"pygments.function\"),\n                    style=\"pygments.text\",\n                )\n            else:\n                text = Text.assemble(\n                    \"in \",\n                    (frame.name, \"pygments.function\"),\n                    (\":\", \"pygments.text\"),\n                    (str(frame.lineno), \"pygments.number\"),\n                    style=\"pygments.text\",\n                )\n            if not frame.filename.startswith(\"<\") and not first:\n                yield \"\"\n            yield text\n            if frame.filename.startswith(\"<\"):\n                yield from render_locals(frame)\n                continue\n            if not suppressed:\n                try:\n                    code_lines = linecache.getlines(frame.filename)\n                    code = \"\".join(code_lines)\n                    if not code:\n                        # code may be an empty string if the file doesn't exist, OR\n                        # if the traceback filename is generated dynamically\n                        continue\n                    lexer_name = self._guess_lexer(frame.filename, code)\n                    syntax = Syntax(\n                        code,\n                        lexer_name,\n                        theme=theme,\n                        line_numbers=True,\n                        line_range=(\n                            frame.lineno - self.extra_lines,\n                            frame.lineno + self.extra_lines,\n                        ),\n                        highlight_lines={frame.lineno},\n                        word_wrap=self.word_wrap,\n                        code_width=self.code_width,\n                        indent_guides=self.indent_guides,\n                        dedent=False,\n                    )\n                    yield \"\"\n                except Exception as error:\n                    yield Text.assemble(\n                        (f\"\\n{error}\", \"traceback.error\"),\n                    )\n                else:\n                    if frame.last_instruction is not None:\n                        start, end = frame.last_instruction\n\n                        # Stylize a line at a time\n                        # So that indentation isn't underlined (which looks bad)\n                        for line1, column1, column2 in _iter_syntax_lines(start, end):\n                            try:\n                                if column1 == 0:\n                                    line = code_lines[line1 - 1]\n                                    column1 = len(line) - len(line.lstrip())\n                                if column2 == -1:\n                                    column2 = len(code_lines[line1 - 1])\n                            except IndexError:\n                                # Being defensive here\n                                # If last_instruction reports a line out-of-bounds, we don't want to crash\n                                continue\n\n                            syntax.stylize_range(\n                                style=\"traceback.error_range\",\n                                start=(line1, column1),\n                                end=(line1, column2),\n                            )\n                    yield (\n                        Columns(\n                            [\n                                syntax,\n                                *render_locals(frame),\n                            ],\n                            padding=1,\n                        )\n                        if frame.locals\n                        else syntax\n                    )\n\n\nif __name__ == \"__main__\":  # pragma: no cover\n    install(show_locals=True)\n    import sys\n\n    def bar(\n        a: Any,\n    ) -> None:  # \n        one = 1\n        print(one / a)\n\n    def foo(a: Any) -> None:\n        _rich_traceback_guard = True\n        zed = {\n            \"characters\": {\n                \"Paul Atreides\",\n                \"Vladimir Harkonnen\",\n                \"Thufir Hawat\",\n                \"Duncan Idaho\",\n            },\n            \"atomic_types\": (None, False, True),\n        }\n        bar(a)\n\n    def error() -> None:\n        foo(0)\n\n    error()\n",
    "start_line": 0
  },
  {
    "file": "region.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from typing import NamedTuple",
    "start_line": 0
  },
  {
    "file": "region.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "Region",
    "content": "class Region(NamedTuple):\n    \"\"\"Defines a rectangular region of the screen.\"\"\"\n\n    x: int\n    y: int\n    width: int\n    height: int",
    "start_line": 3
  },
  {
    "file": "region.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "from typing import NamedTuple\n\n\nclass Region(NamedTuple):\n    \"\"\"Defines a rectangular region of the screen.\"\"\"\n\n    x: int\n    y: int\n    width: int\n    height: int\n",
    "start_line": 0
  },
  {
    "file": "protocol.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from typing import Any, cast, Set, TYPE_CHECKING\nfrom inspect import isclass\nif TYPE_CHECKING:\n    from rich.console import RenderableType",
    "start_line": 0
  },
  {
    "file": "protocol.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "_GIBBERISH = \"\"\"aihwerij235234ljsdnp34ksodfipwoe234234jlskjdf\"\"\"",
    "start_line": 6
  },
  {
    "file": "protocol.py",
    "type": "function",
    "class": null,
    "method": "is_renderable",
    "name": "is_renderable",
    "content": "def is_renderable(check_object: Any) -> bool:\n    \"\"\"Check if an object may be rendered by Rich.\"\"\"\n    return (\n        isinstance(check_object, str)\n        or hasattr(check_object, \"__rich__\")\n        or hasattr(check_object, \"__rich_console__\")\n    )",
    "start_line": 9
  },
  {
    "file": "protocol.py",
    "type": "function",
    "class": null,
    "method": "rich_cast",
    "name": "rich_cast",
    "content": "def rich_cast(renderable: object) -> \"RenderableType\":\n    \"\"\"Cast an object to a renderable by calling __rich__ if present.\n\n    Args:\n        renderable (object): A potentially renderable object\n\n    Returns:\n        object: The result of recursively calling __rich__.\n    \"\"\"",
    "start_line": 18
  },
  {
    "file": "protocol.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from rich.console import RenderableType\n    rich_visited_set: Set[type] = set()  # Prevent potential infinite loop\n    while hasattr(renderable, \"__rich__\") and not isclass(renderable):",
    "start_line": 27
  },
  {
    "file": "protocol.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# Detect object which claim to have all the attributes\n        if hasattr(renderable, _GIBBERISH):\n            return repr(renderable)",
    "start_line": 31
  },
  {
    "file": "protocol.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "cast_method = getattr(renderable, \"__rich__\")\n        renderable = cast_method()\n        renderable_type = type(renderable)\n        if renderable_type in rich_visited_set:\n            break\n        rich_visited_set.add(renderable_type)\n    return cast(RenderableType, renderable)",
    "start_line": 34
  },
  {
    "file": "protocol.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "from typing import Any, cast, Set, TYPE_CHECKING\nfrom inspect import isclass\n\nif TYPE_CHECKING:\n    from rich.console import RenderableType\n\n_GIBBERISH = \"\"\"aihwerij235234ljsdnp34ksodfipwoe234234jlskjdf\"\"\"\n\n\ndef is_renderable(check_object: Any) -> bool:\n    \"\"\"Check if an object may be rendered by Rich.\"\"\"\n    return (\n        isinstance(check_object, str)\n        or hasattr(check_object, \"__rich__\")\n        or hasattr(check_object, \"__rich_console__\")\n    )\n\n\ndef rich_cast(renderable: object) -> \"RenderableType\":\n    \"\"\"Cast an object to a renderable by calling __rich__ if present.\n\n    Args:\n        renderable (object): A potentially renderable object\n\n    Returns:\n        object: The result of recursively calling __rich__.\n    \"\"\"\n    from rich.console import RenderableType\n\n    rich_visited_set: Set[type] = set()  # Prevent potential infinite loop\n    while hasattr(renderable, \"__rich__\") and not isclass(renderable):\n        # Detect object which claim to have all the attributes\n        if hasattr(renderable, _GIBBERISH):\n            return repr(renderable)\n        cast_method = getattr(renderable, \"__rich__\")\n        renderable = cast_method()\n        renderable_type = type(renderable)\n        if renderable_type in rich_visited_set:\n            break\n        rich_visited_set.add(renderable_type)\n\n    return cast(RenderableType, renderable)\n",
    "start_line": 0
  },
  {
    "file": "_loop.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from typing import Iterable, Tuple, TypeVar",
    "start_line": 0
  },
  {
    "file": "_loop.py",
    "type": "constants",
    "class": null,
    "method": null,
    "name": "module_constants",
    "content": "T = TypeVar(\"T\")",
    "start_line": 2
  },
  {
    "file": "_loop.py",
    "type": "function",
    "class": null,
    "method": "loop_first",
    "name": "loop_first",
    "content": "def loop_first(values: Iterable[T]) -> Iterable[Tuple[bool, T]]:\n    \"\"\"Iterate and generate a tuple with a flag for first value.\"\"\"",
    "start_line": 5
  },
  {
    "file": "_loop.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "iter_values = iter(values)\n    try:\n        value = next(iter_values)\n    except StopIteration:\n        return\n    yield True, value\n    for value in iter_values:\n        yield False, value",
    "start_line": 7
  },
  {
    "file": "_loop.py",
    "type": "function",
    "class": null,
    "method": "loop_last",
    "name": "loop_last",
    "content": "def loop_last(values: Iterable[T]) -> Iterable[Tuple[bool, T]]:\n    \"\"\"Iterate and generate a tuple with a flag for last value.\"\"\"",
    "start_line": 17
  },
  {
    "file": "_loop.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "iter_values = iter(values)\n    try:\n        previous_value = next(iter_values)\n    except StopIteration:\n        return\n    for value in iter_values:\n        yield False, previous_value\n        previous_value = value\n    yield True, previous_value",
    "start_line": 19
  },
  {
    "file": "_loop.py",
    "type": "function",
    "class": null,
    "method": "loop_first_last",
    "name": "loop_first_last",
    "content": "def loop_first_last(values: Iterable[T]) -> Iterable[Tuple[bool, bool, T]]:\n    \"\"\"Iterate and generate a tuple with a flag for first and last value.\"\"\"",
    "start_line": 30
  },
  {
    "file": "_loop.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "iter_values = iter(values)\n    try:\n        previous_value = next(iter_values)\n    except StopIteration:\n        return\n    first = True\n    for value in iter_values:\n        yield first, False, previous_value\n        first = False\n        previous_value = value\n    yield first, True, previous_value",
    "start_line": 32
  },
  {
    "file": "_loop.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "from typing import Iterable, Tuple, TypeVar\n\nT = TypeVar(\"T\")\n\n\ndef loop_first(values: Iterable[T]) -> Iterable[Tuple[bool, T]]:\n    \"\"\"Iterate and generate a tuple with a flag for first value.\"\"\"\n    iter_values = iter(values)\n    try:\n        value = next(iter_values)\n    except StopIteration:\n        return\n    yield True, value\n    for value in iter_values:\n        yield False, value\n\n\ndef loop_last(values: Iterable[T]) -> Iterable[Tuple[bool, T]]:\n    \"\"\"Iterate and generate a tuple with a flag for last value.\"\"\"\n    iter_values = iter(values)\n    try:\n        previous_value = next(iter_values)\n    except StopIteration:\n        return\n    for value in iter_values:\n        yield False, previous_value\n        previous_value = value\n    yield True, previous_value\n\n\ndef loop_first_last(values: Iterable[T]) -> Iterable[Tuple[bool, bool, T]]:\n    \"\"\"Iterate and generate a tuple with a flag for first and last value.\"\"\"\n    iter_values = iter(values)\n    try:\n        previous_value = next(iter_values)\n    except StopIteration:\n        return\n    first = True\n    for value in iter_values:\n        yield first, False, previous_value\n        first = False\n        previous_value = value\n    yield first, True, previous_value\n",
    "start_line": 0
  },
  {
    "file": "control.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "import sys\nimport time\nfrom typing import TYPE_CHECKING, Callable, Dict, Iterable, List, Union\nif sys.version_info >= (3, 8):\n    from typing import Final\nelse:\n    from typing_extensions import Final  # pragma: no cover\nfrom .segment import ControlCode, ControlType, Segment\nif TYPE_CHECKING:\n    from .console import Console, ConsoleOptions, RenderResult\nSTRIP_CONTROL_CODES: Final = [\n    7,  # Bell\n    8,  # Backspace\n    11,  # Vertical tab\n    12,  # Form feed\n    13,  # Carriage return\n]\n_CONTROL_STRIP_TRANSLATE: Final = {\n    _codepoint: None for _codepoint in STRIP_CONTROL_CODES\n}\nCONTROL_ESCAPE: Final = {\n    7: \"\\\\a\",\n    8: \"\\\\b\",\n    11: \"\\\\v\",\n    12: \"\\\\f\",\n    13: \"\\\\r\",\n}\nCONTROL_CODES_FORMAT: Dict[int, Callable[..., str]] = {\n    ControlType.BELL: lambda: \"\\x07\",\n    ControlType.CARRIAGE_RETURN: lambda: \"\\r\",\n    ControlType.HOME: lambda: \"\\x1b[H\",\n    ControlType.CLEAR: lambda: \"\\x1b[2J\",\n    ControlType.ENABLE_ALT_SCREEN: lambda: \"\\x1b[?1049h\",\n    ControlType.DISABLE_ALT_SCREEN: lambda: \"\\x1b[?1049l\",\n    ControlType.SHOW_CURSOR: lambda: \"\\x1b[?25h\",\n    ControlType.HIDE_CURSOR: lambda: \"\\x1b[?25l\",\n    ControlType.CURSOR_UP: lambda param: f\"\\x1b[{param}A\",\n    ControlType.CURSOR_DOWN: lambda param: f\"\\x1b[{param}B\",\n    ControlType.CURSOR_FORWARD: lambda param: f\"\\x1b[{param}C\",\n    ControlType.CURSOR_BACKWARD: lambda param: f\"\\x1b[{param}D\",\n    ControlType.CURSOR_MOVE_TO_COLUMN: lambda param: f\"\\x1b[{param+1}G\",\n    ControlType.ERASE_IN_LINE: lambda param: f\"\\x1b[{param}K\",\n    ControlType.CURSOR_MOVE_TO: lambda x, y: f\"\\x1b[{y+1};{x+1}H\",\n    ControlType.SET_WINDOW_TITLE: lambda title: f\"\\x1b]0;{title}\\x07\",\n}",
    "start_line": 0
  },
  {
    "file": "control.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "Control",
    "content": "class Control:\n    \"\"\"A renderable that inserts a control code (non printable but may move cursor).\n\n    Args:\n        *codes (str): Positional arguments are either a :class:`~rich.segment.ControlType` enum or a\n            tuple of ControlType and an integer parameter\n    \"\"\"\n\n    __slots__ = [\"segment\"]",
    "start_line": 53
  },
  {
    "file": "control.py",
    "type": "method",
    "class": "Control",
    "method": "__init__",
    "name": "__init__",
    "content": "class Control:\n    def __init__(self, *codes: Union[ControlType, ControlCode]) -> None:\n        control_codes: List[ControlCode] = [\n            (code,) if isinstance(code, ControlType) else code for code in codes\n        ]\n        _format_map = CONTROL_CODES_FORMAT\n        rendered_codes = \"\".join(\n            _format_map[code](*parameters) for code, *parameters in control_codes\n        )\n        self.segment = Segment(rendered_codes, None, control_codes)\n\n    @classmethod",
    "start_line": 63
  },
  {
    "file": "control.py",
    "type": "method",
    "class": "Control",
    "method": "bell",
    "name": "bell",
    "content": "class Control:\n    def bell(cls) -> \"Control\":\n        \"\"\"Ring the 'bell'.\"\"\"\n        return cls(ControlType.BELL)\n\n    @classmethod",
    "start_line": 74
  },
  {
    "file": "control.py",
    "type": "method",
    "class": "Control",
    "method": "home",
    "name": "home",
    "content": "class Control:\n    def home(cls) -> \"Control\":\n        \"\"\"Move cursor to 'home' position.\"\"\"\n        return cls(ControlType.HOME)\n\n    @classmethod",
    "start_line": 79
  },
  {
    "file": "control.py",
    "type": "method",
    "class": "Control",
    "method": "move",
    "name": "move",
    "content": "class Control:\n    def move(cls, x: int = 0, y: int = 0) -> \"Control\":\n        \"\"\"Move cursor relative to current position.\n\n        Args:\n            x (int): X offset.\n            y (int): Y offset.\n\n        Returns:\n            ~Control: Control object.\n\n        \"\"\"",
    "start_line": 84
  },
  {
    "file": "control.py",
    "type": "method",
    "class": "Control",
    "method": "get_codes",
    "name": "get_codes",
    "content": "class Control:\n        def get_codes() -> Iterable[ControlCode]:\n            control = ControlType\n            if x:\n                yield (\n                    control.CURSOR_FORWARD if x > 0 else control.CURSOR_BACKWARD,\n                    abs(x),\n                )\n            if y:\n                yield (\n                    control.CURSOR_DOWN if y > 0 else control.CURSOR_UP,\n                    abs(y),\n                )\n\n        control = cls(*get_codes())\n        return control\n\n    @classmethod",
    "start_line": 96
  },
  {
    "file": "control.py",
    "type": "method",
    "class": "Control",
    "method": "move_to_column",
    "name": "move_to_column",
    "content": "class Control:\n    def move_to_column(cls, x: int, y: int = 0) -> \"Control\":\n        \"\"\"Move to the given column, optionally add offset to row.\n\n        Returns:\n            x (int): absolute x (column)\n            y (int): optional y offset (row)\n\n        Returns:\n            ~Control: Control object.\n        \"\"\"\n\n        return (\n            cls(\n                (ControlType.CURSOR_MOVE_TO_COLUMN, x),\n                (\n                    ControlType.CURSOR_DOWN if y > 0 else ControlType.CURSOR_UP,\n                    abs(y),\n                ),\n            )\n            if y\n            else cls((ControlType.CURSOR_MOVE_TO_COLUMN, x))\n        )\n\n    @classmethod",
    "start_line": 113
  },
  {
    "file": "control.py",
    "type": "method",
    "class": "Control",
    "method": "move_to",
    "name": "move_to",
    "content": "class Control:\n    def move_to(cls, x: int, y: int) -> \"Control\":\n        \"\"\"Move cursor to absolute position.\n\n        Args:\n            x (int): x offset (column)\n            y (int): y offset (row)\n\n        Returns:\n            ~Control: Control object.\n        \"\"\"\n        return cls((ControlType.CURSOR_MOVE_TO, x, y))\n\n    @classmethod",
    "start_line": 137
  },
  {
    "file": "control.py",
    "type": "method",
    "class": "Control",
    "method": "clear",
    "name": "clear",
    "content": "class Control:\n    def clear(cls) -> \"Control\":\n        \"\"\"Clear the screen.\"\"\"\n        return cls(ControlType.CLEAR)\n\n    @classmethod",
    "start_line": 150
  },
  {
    "file": "control.py",
    "type": "method",
    "class": "Control",
    "method": "show_cursor",
    "name": "show_cursor",
    "content": "class Control:\n    def show_cursor(cls, show: bool) -> \"Control\":\n        \"\"\"Show or hide the cursor.\"\"\"\n        return cls(ControlType.SHOW_CURSOR if show else ControlType.HIDE_CURSOR)\n\n    @classmethod",
    "start_line": 155
  },
  {
    "file": "control.py",
    "type": "method",
    "class": "Control",
    "method": "alt_screen",
    "name": "alt_screen",
    "content": "class Control:\n    def alt_screen(cls, enable: bool) -> \"Control\":\n        \"\"\"Enable or disable alt screen.\"\"\"\n        if enable:\n            return cls(ControlType.ENABLE_ALT_SCREEN, ControlType.HOME)\n        else:\n            return cls(ControlType.DISABLE_ALT_SCREEN)\n\n    @classmethod",
    "start_line": 160
  },
  {
    "file": "control.py",
    "type": "method",
    "class": "Control",
    "method": "title",
    "name": "title",
    "content": "class Control:\n    def title(cls, title: str) -> \"Control\":\n        \"\"\"Set the terminal window title\n\n        Args:\n            title (str): The new terminal window title\n        \"\"\"\n        return cls((ControlType.SET_WINDOW_TITLE, title))",
    "start_line": 168
  },
  {
    "file": "control.py",
    "type": "method",
    "class": "Control",
    "method": "__str__",
    "name": "__str__",
    "content": "class Control:\n    def __str__(self) -> str:\n        return self.segment.text",
    "start_line": 176
  },
  {
    "file": "control.py",
    "type": "method",
    "class": "Control",
    "method": "__rich_console__",
    "name": "__rich_console__",
    "content": "class Control:\n    def __rich_console__(\n        self, console: \"Console\", options: \"ConsoleOptions\"\n    ) -> \"RenderResult\":\n        if self.segment.text:\n            yield self.segment",
    "start_line": 179
  },
  {
    "file": "control.py",
    "type": "function",
    "class": null,
    "method": "strip_control_codes",
    "name": "strip_control_codes",
    "content": "def strip_control_codes(\n    text: str, _translate_table: Dict[int, None] = _CONTROL_STRIP_TRANSLATE\n) -> str:\n    \"\"\"Remove control codes from text.\n\n    Args:\n        text (str): A string possibly contain control codes.\n\n    Returns:\n        str: String with control codes removed.\n    \"\"\"\n    return text.translate(_translate_table)",
    "start_line": 186
  },
  {
    "file": "control.py",
    "type": "function",
    "class": null,
    "method": "escape_control_codes",
    "name": "escape_control_codes",
    "content": "def escape_control_codes(\n    text: str,\n    _translate_table: Dict[int, str] = CONTROL_ESCAPE,\n) -> str:\n    \"\"\"Replace control codes with their \"escaped\" equivalent in the given text.\n    (e.g. \"\\b\" becomes \"\\\\b\")\n\n    Args:\n        text (str): A string possibly containing control codes.\n\n    Returns:\n        str: String with control codes replaced with their escaped version.\n    \"\"\"\n    return text.translate(_translate_table)\n\n\nif __name__ == \"__main__\":  # pragma: no cover",
    "start_line": 200
  },
  {
    "file": "control.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from rich.console import Console",
    "start_line": 217
  },
  {
    "file": "control.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console()\n    console.print(\"Look at the title of your terminal window ^\")",
    "start_line": 219
  },
  {
    "file": "control.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# console.print(Control((ControlType.SET_WINDOW_TITLE, \"Hello, world!\")))\n    for i in range(10):\n        console.set_window_title(\" Loading\" + \".\" * i)\n        time.sleep(0.5)",
    "start_line": 221
  },
  {
    "file": "control.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "import sys\nimport time\nfrom typing import TYPE_CHECKING, Callable, Dict, Iterable, List, Union\n\nif sys.version_info >= (3, 8):\n    from typing import Final\nelse:\n    from typing_extensions import Final  # pragma: no cover\n\nfrom .segment import ControlCode, ControlType, Segment\n\nif TYPE_CHECKING:\n    from .console import Console, ConsoleOptions, RenderResult\n\nSTRIP_CONTROL_CODES: Final = [\n    7,  # Bell\n    8,  # Backspace\n    11,  # Vertical tab\n    12,  # Form feed\n    13,  # Carriage return\n]\n_CONTROL_STRIP_TRANSLATE: Final = {\n    _codepoint: None for _codepoint in STRIP_CONTROL_CODES\n}\n\nCONTROL_ESCAPE: Final = {\n    7: \"\\\\a\",\n    8: \"\\\\b\",\n    11: \"\\\\v\",\n    12: \"\\\\f\",\n    13: \"\\\\r\",\n}\n\nCONTROL_CODES_FORMAT: Dict[int, Callable[..., str]] = {\n    ControlType.BELL: lambda: \"\\x07\",\n    ControlType.CARRIAGE_RETURN: lambda: \"\\r\",\n    ControlType.HOME: lambda: \"\\x1b[H\",\n    ControlType.CLEAR: lambda: \"\\x1b[2J\",\n    ControlType.ENABLE_ALT_SCREEN: lambda: \"\\x1b[?1049h\",\n    ControlType.DISABLE_ALT_SCREEN: lambda: \"\\x1b[?1049l\",\n    ControlType.SHOW_CURSOR: lambda: \"\\x1b[?25h\",\n    ControlType.HIDE_CURSOR: lambda: \"\\x1b[?25l\",\n    ControlType.CURSOR_UP: lambda param: f\"\\x1b[{param}A\",\n    ControlType.CURSOR_DOWN: lambda param: f\"\\x1b[{param}B\",\n    ControlType.CURSOR_FORWARD: lambda param: f\"\\x1b[{param}C\",\n    ControlType.CURSOR_BACKWARD: lambda param: f\"\\x1b[{param}D\",\n    ControlType.CURSOR_MOVE_TO_COLUMN: lambda param: f\"\\x1b[{param+1}G\",\n    ControlType.ERASE_IN_LINE: lambda param: f\"\\x1b[{param}K\",\n    ControlType.CURSOR_MOVE_TO: lambda x, y: f\"\\x1b[{y+1};{x+1}H\",\n    ControlType.SET_WINDOW_TITLE: lambda title: f\"\\x1b]0;{title}\\x07\",\n}\n\n\nclass Control:\n    \"\"\"A renderable that inserts a control code (non printable but may move cursor).\n\n    Args:\n        *codes (str): Positional arguments are either a :class:`~rich.segment.ControlType` enum or a\n            tuple of ControlType and an integer parameter\n    \"\"\"\n\n    __slots__ = [\"segment\"]\n\n    def __init__(self, *codes: Union[ControlType, ControlCode]) -> None:\n        control_codes: List[ControlCode] = [\n            (code,) if isinstance(code, ControlType) else code for code in codes\n        ]\n        _format_map = CONTROL_CODES_FORMAT\n        rendered_codes = \"\".join(\n            _format_map[code](*parameters) for code, *parameters in control_codes\n        )\n        self.segment = Segment(rendered_codes, None, control_codes)\n\n    @classmethod\n    def bell(cls) -> \"Control\":\n        \"\"\"Ring the 'bell'.\"\"\"\n        return cls(ControlType.BELL)\n\n    @classmethod\n    def home(cls) -> \"Control\":\n        \"\"\"Move cursor to 'home' position.\"\"\"\n        return cls(ControlType.HOME)\n\n    @classmethod\n    def move(cls, x: int = 0, y: int = 0) -> \"Control\":\n        \"\"\"Move cursor relative to current position.\n\n        Args:\n            x (int): X offset.\n            y (int): Y offset.\n\n        Returns:\n            ~Control: Control object.\n\n        \"\"\"\n\n        def get_codes() -> Iterable[ControlCode]:\n            control = ControlType\n            if x:\n                yield (\n                    control.CURSOR_FORWARD if x > 0 else control.CURSOR_BACKWARD,\n                    abs(x),\n                )\n            if y:\n                yield (\n                    control.CURSOR_DOWN if y > 0 else control.CURSOR_UP,\n                    abs(y),\n                )\n\n        control = cls(*get_codes())\n        return control\n\n    @classmethod\n    def move_to_column(cls, x: int, y: int = 0) -> \"Control\":\n        \"\"\"Move to the given column, optionally add offset to row.\n\n        Returns:\n            x (int): absolute x (column)\n            y (int): optional y offset (row)\n\n        Returns:\n            ~Control: Control object.\n        \"\"\"\n\n        return (\n            cls(\n                (ControlType.CURSOR_MOVE_TO_COLUMN, x),\n                (\n                    ControlType.CURSOR_DOWN if y > 0 else ControlType.CURSOR_UP,\n                    abs(y),\n                ),\n            )\n            if y\n            else cls((ControlType.CURSOR_MOVE_TO_COLUMN, x))\n        )\n\n    @classmethod\n    def move_to(cls, x: int, y: int) -> \"Control\":\n        \"\"\"Move cursor to absolute position.\n\n        Args:\n            x (int): x offset (column)\n            y (int): y offset (row)\n\n        Returns:\n            ~Control: Control object.\n        \"\"\"\n        return cls((ControlType.CURSOR_MOVE_TO, x, y))\n\n    @classmethod\n    def clear(cls) -> \"Control\":\n        \"\"\"Clear the screen.\"\"\"\n        return cls(ControlType.CLEAR)\n\n    @classmethod\n    def show_cursor(cls, show: bool) -> \"Control\":\n        \"\"\"Show or hide the cursor.\"\"\"\n        return cls(ControlType.SHOW_CURSOR if show else ControlType.HIDE_CURSOR)\n\n    @classmethod\n    def alt_screen(cls, enable: bool) -> \"Control\":\n        \"\"\"Enable or disable alt screen.\"\"\"\n        if enable:\n            return cls(ControlType.ENABLE_ALT_SCREEN, ControlType.HOME)\n        else:\n            return cls(ControlType.DISABLE_ALT_SCREEN)\n\n    @classmethod\n    def title(cls, title: str) -> \"Control\":\n        \"\"\"Set the terminal window title\n\n        Args:\n            title (str): The new terminal window title\n        \"\"\"\n        return cls((ControlType.SET_WINDOW_TITLE, title))\n\n    def __str__(self) -> str:\n        return self.segment.text\n\n    def __rich_console__(\n        self, console: \"Console\", options: \"ConsoleOptions\"\n    ) -> \"RenderResult\":\n        if self.segment.text:\n            yield self.segment\n\n\ndef strip_control_codes(\n    text: str, _translate_table: Dict[int, None] = _CONTROL_STRIP_TRANSLATE\n) -> str:\n    \"\"\"Remove control codes from text.\n\n    Args:\n        text (str): A string possibly contain control codes.\n\n    Returns:\n        str: String with control codes removed.\n    \"\"\"\n    return text.translate(_translate_table)\n\n\ndef escape_control_codes(\n    text: str,\n    _translate_table: Dict[int, str] = CONTROL_ESCAPE,\n) -> str:\n    \"\"\"Replace control codes with their \"escaped\" equivalent in the given text.\n    (e.g. \"\\b\" becomes \"\\\\b\")\n\n    Args:\n        text (str): A string possibly containing control codes.\n\n    Returns:\n        str: String with control codes replaced with their escaped version.\n    \"\"\"\n    return text.translate(_translate_table)\n\n\nif __name__ == \"__main__\":  # pragma: no cover\n    from rich.console import Console\n\n    console = Console()\n    console.print(\"Look at the title of your terminal window ^\")\n    # console.print(Control((ControlType.SET_WINDOW_TITLE, \"Hello, world!\")))\n    for i in range(10):\n        console.set_window_title(\" Loading\" + \".\" * i)\n        time.sleep(0.5)\n",
    "start_line": 0
  },
  {
    "file": "filesize.py",
    "type": "module_docstring",
    "class": null,
    "method": null,
    "name": "module_docstring",
    "content": "\"\"\"Functions for reporting filesizes. Borrowed from https://github.com/PyFilesystem/pyfilesystem2\n\nThe functions declared in this module should cover the different\nuse cases needed to generate a string representation of a file size\nusing several different units. Since there are many standards regarding\nfile size units, three different functions have been implemented.\n\nSee Also:\n    * `Wikipedia: Binary prefix <https://en.wikipedia.org/wiki/Binary_prefix>`_\n\n\"\"\"",
    "start_line": 0
  },
  {
    "file": "filesize.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "__all__ = [\"decimal\"]",
    "start_line": 12
  },
  {
    "file": "filesize.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from typing import Iterable, List, Optional, Tuple",
    "start_line": 14
  },
  {
    "file": "filesize.py",
    "type": "function",
    "class": null,
    "method": "_to_str",
    "name": "_to_str",
    "content": "def _to_str(\n    size: int,\n    suffixes: Iterable[str],\n    base: int,\n    *,\n    precision: Optional[int] = 1,\n    separator: Optional[str] = \" \",\n) -> str:\n    if size == 1:\n        return \"1 byte\"\n    elif size < base:\n        return f\"{size:,} bytes\"\n\n    for i, suffix in enumerate(suffixes, 2):  # noqa: B007",
    "start_line": 17
  },
  {
    "file": "filesize.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "unit = base**i\n        if size < unit:\n            break\n    return \"{:,.{precision}f}{separator}{}\".format(\n        (base * size / unit),\n        suffix,\n        precision=precision,\n        separator=separator,\n    )",
    "start_line": 31
  },
  {
    "file": "filesize.py",
    "type": "function",
    "class": null,
    "method": "pick_unit_and_suffix",
    "name": "pick_unit_and_suffix",
    "content": "def pick_unit_and_suffix(size: int, suffixes: List[str], base: int) -> Tuple[int, str]:\n    \"\"\"Pick a suffix and base for the given size.\"\"\"\n    for i, suffix in enumerate(suffixes):",
    "start_line": 42
  },
  {
    "file": "filesize.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "unit = base**i\n        if size < unit * base:\n            break\n    return unit, suffix",
    "start_line": 45
  },
  {
    "file": "filesize.py",
    "type": "function",
    "class": null,
    "method": "decimal",
    "name": "decimal",
    "content": "def decimal(\n    size: int,\n    *,\n    precision: Optional[int] = 1,\n    separator: Optional[str] = \" \",\n) -> str:\n    \"\"\"Convert a filesize in to a string (powers of 1000, SI prefixes).\n\n    In this convention, ``1000 B = 1 kB``.\n\n    This is typically the format used to advertise the storage\n    capacity of USB flash drives and the like (*256 MB* meaning\n    actually a storage capacity of more than *256 000 000 B*),\n    or used by **Mac OS X** since v10.6 to report file sizes.\n\n    Arguments:\n        int (size): A file size.\n        int (precision): The number of decimal places to include (default = 1).\n        str (separator): The string to separate the value from the units (default = \" \").\n\n    Returns:\n        `str`: A string containing a abbreviated file size and units.\n\n    Example:\n        >>> filesize.decimal(30000)\n        '30.0 kB'\n        >>> filesize.decimal(30000, precision=2, separator=\"\")\n        '30.00kB'\n\n    \"\"\"\n    return _to_str(\n        size,\n        (\"kB\", \"MB\", \"GB\", \"TB\", \"PB\", \"EB\", \"ZB\", \"YB\"),\n        1000,",
    "start_line": 51
  },
  {
    "file": "filesize.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "precision=precision,\n        separator=separator,\n    )",
    "start_line": 85
  },
  {
    "file": "filesize.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "\"\"\"Functions for reporting filesizes. Borrowed from https://github.com/PyFilesystem/pyfilesystem2\n\nThe functions declared in this module should cover the different\nuse cases needed to generate a string representation of a file size\nusing several different units. Since there are many standards regarding\nfile size units, three different functions have been implemented.\n\nSee Also:\n    * `Wikipedia: Binary prefix <https://en.wikipedia.org/wiki/Binary_prefix>`_\n\n\"\"\"\n\n__all__ = [\"decimal\"]\n\nfrom typing import Iterable, List, Optional, Tuple\n\n\ndef _to_str(\n    size: int,\n    suffixes: Iterable[str],\n    base: int,\n    *,\n    precision: Optional[int] = 1,\n    separator: Optional[str] = \" \",\n) -> str:\n    if size == 1:\n        return \"1 byte\"\n    elif size < base:\n        return f\"{size:,} bytes\"\n\n    for i, suffix in enumerate(suffixes, 2):  # noqa: B007\n        unit = base**i\n        if size < unit:\n            break\n    return \"{:,.{precision}f}{separator}{}\".format(\n        (base * size / unit),\n        suffix,\n        precision=precision,\n        separator=separator,\n    )\n\n\ndef pick_unit_and_suffix(size: int, suffixes: List[str], base: int) -> Tuple[int, str]:\n    \"\"\"Pick a suffix and base for the given size.\"\"\"\n    for i, suffix in enumerate(suffixes):\n        unit = base**i\n        if size < unit * base:\n            break\n    return unit, suffix\n\n\ndef decimal(\n    size: int,\n    *,\n    precision: Optional[int] = 1,\n    separator: Optional[str] = \" \",\n) -> str:\n    \"\"\"Convert a filesize in to a string (powers of 1000, SI prefixes).\n\n    In this convention, ``1000 B = 1 kB``.\n\n    This is typically the format used to advertise the storage\n    capacity of USB flash drives and the like (*256 MB* meaning\n    actually a storage capacity of more than *256 000 000 B*),\n    or used by **Mac OS X** since v10.6 to report file sizes.\n\n    Arguments:\n        int (size): A file size.\n        int (precision): The number of decimal places to include (default = 1).\n        str (separator): The string to separate the value from the units (default = \" \").\n\n    Returns:\n        `str`: A string containing a abbreviated file size and units.\n\n    Example:\n        >>> filesize.decimal(30000)\n        '30.0 kB'\n        >>> filesize.decimal(30000, precision=2, separator=\"\")\n        '30.00kB'\n\n    \"\"\"\n    return _to_str(\n        size,\n        (\"kB\", \"MB\", \"GB\", \"TB\", \"PB\", \"EB\", \"ZB\", \"YB\"),\n        1000,\n        precision=precision,\n        separator=separator,\n    )\n",
    "start_line": 0
  },
  {
    "file": "_null_file.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from types import TracebackType\nfrom typing import IO, Iterable, Iterator, List, Optional, Type",
    "start_line": 0
  },
  {
    "file": "_null_file.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "NullFile",
    "content": "class NullFile(IO[str]):",
    "start_line": 4
  },
  {
    "file": "_null_file.py",
    "type": "method",
    "class": "NullFile",
    "method": "close",
    "name": "close",
    "content": "class NullFile:\n    def close(self) -> None:\n        pass",
    "start_line": 5
  },
  {
    "file": "_null_file.py",
    "type": "method",
    "class": "NullFile",
    "method": "isatty",
    "name": "isatty",
    "content": "class NullFile:\n    def isatty(self) -> bool:\n        return False",
    "start_line": 8
  },
  {
    "file": "_null_file.py",
    "type": "method",
    "class": "NullFile",
    "method": "read",
    "name": "read",
    "content": "class NullFile:\n    def read(self, __n: int = 1) -> str:\n        return \"\"",
    "start_line": 11
  },
  {
    "file": "_null_file.py",
    "type": "method",
    "class": "NullFile",
    "method": "readable",
    "name": "readable",
    "content": "class NullFile:\n    def readable(self) -> bool:\n        return False",
    "start_line": 14
  },
  {
    "file": "_null_file.py",
    "type": "method",
    "class": "NullFile",
    "method": "readline",
    "name": "readline",
    "content": "class NullFile:\n    def readline(self, __limit: int = 1) -> str:\n        return \"\"",
    "start_line": 17
  },
  {
    "file": "_null_file.py",
    "type": "method",
    "class": "NullFile",
    "method": "readlines",
    "name": "readlines",
    "content": "class NullFile:\n    def readlines(self, __hint: int = 1) -> List[str]:\n        return []",
    "start_line": 20
  },
  {
    "file": "_null_file.py",
    "type": "method",
    "class": "NullFile",
    "method": "seek",
    "name": "seek",
    "content": "class NullFile:\n    def seek(self, __offset: int, __whence: int = 1) -> int:\n        return 0",
    "start_line": 23
  },
  {
    "file": "_null_file.py",
    "type": "method",
    "class": "NullFile",
    "method": "seekable",
    "name": "seekable",
    "content": "class NullFile:\n    def seekable(self) -> bool:\n        return False",
    "start_line": 26
  },
  {
    "file": "_null_file.py",
    "type": "method",
    "class": "NullFile",
    "method": "tell",
    "name": "tell",
    "content": "class NullFile:\n    def tell(self) -> int:\n        return 0",
    "start_line": 29
  },
  {
    "file": "_null_file.py",
    "type": "method",
    "class": "NullFile",
    "method": "truncate",
    "name": "truncate",
    "content": "class NullFile:\n    def truncate(self, __size: Optional[int] = 1) -> int:\n        return 0",
    "start_line": 32
  },
  {
    "file": "_null_file.py",
    "type": "method",
    "class": "NullFile",
    "method": "writable",
    "name": "writable",
    "content": "class NullFile:\n    def writable(self) -> bool:\n        return False",
    "start_line": 35
  },
  {
    "file": "_null_file.py",
    "type": "method",
    "class": "NullFile",
    "method": "writelines",
    "name": "writelines",
    "content": "class NullFile:\n    def writelines(self, __lines: Iterable[str]) -> None:\n        pass",
    "start_line": 38
  },
  {
    "file": "_null_file.py",
    "type": "method",
    "class": "NullFile",
    "method": "__next__",
    "name": "__next__",
    "content": "class NullFile:\n    def __next__(self) -> str:\n        return \"\"",
    "start_line": 41
  },
  {
    "file": "_null_file.py",
    "type": "method",
    "class": "NullFile",
    "method": "__iter__",
    "name": "__iter__",
    "content": "class NullFile:\n    def __iter__(self) -> Iterator[str]:\n        return iter([\"\"])",
    "start_line": 44
  },
  {
    "file": "_null_file.py",
    "type": "method",
    "class": "NullFile",
    "method": "__enter__",
    "name": "__enter__",
    "content": "class NullFile:\n    def __enter__(self) -> IO[str]:\n        return self",
    "start_line": 47
  },
  {
    "file": "_null_file.py",
    "type": "method",
    "class": "NullFile",
    "method": "__exit__",
    "name": "__exit__",
    "content": "class NullFile:\n    def __exit__(\n        self,\n        __t: Optional[Type[BaseException]],\n        __value: Optional[BaseException],\n        __traceback: Optional[TracebackType],\n    ) -> None:\n        pass",
    "start_line": 50
  },
  {
    "file": "_null_file.py",
    "type": "method",
    "class": "NullFile",
    "method": "write",
    "name": "write",
    "content": "class NullFile:\n    def write(self, text: str) -> int:\n        return 0",
    "start_line": 58
  },
  {
    "file": "_null_file.py",
    "type": "method",
    "class": "NullFile",
    "method": "flush",
    "name": "flush",
    "content": "class NullFile:\n    def flush(self) -> None:\n        pass",
    "start_line": 61
  },
  {
    "file": "_null_file.py",
    "type": "method",
    "class": "NullFile",
    "method": "fileno",
    "name": "fileno",
    "content": "class NullFile:\n    def fileno(self) -> int:\n        return -1",
    "start_line": 64
  },
  {
    "file": "_null_file.py",
    "type": "constants",
    "class": null,
    "method": null,
    "name": "module_constants",
    "content": "NULL_FILE = NullFile()",
    "start_line": 68
  },
  {
    "file": "_null_file.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "from types import TracebackType\nfrom typing import IO, Iterable, Iterator, List, Optional, Type\n\n\nclass NullFile(IO[str]):\n    def close(self) -> None:\n        pass\n\n    def isatty(self) -> bool:\n        return False\n\n    def read(self, __n: int = 1) -> str:\n        return \"\"\n\n    def readable(self) -> bool:\n        return False\n\n    def readline(self, __limit: int = 1) -> str:\n        return \"\"\n\n    def readlines(self, __hint: int = 1) -> List[str]:\n        return []\n\n    def seek(self, __offset: int, __whence: int = 1) -> int:\n        return 0\n\n    def seekable(self) -> bool:\n        return False\n\n    def tell(self) -> int:\n        return 0\n\n    def truncate(self, __size: Optional[int] = 1) -> int:\n        return 0\n\n    def writable(self) -> bool:\n        return False\n\n    def writelines(self, __lines: Iterable[str]) -> None:\n        pass\n\n    def __next__(self) -> str:\n        return \"\"\n\n    def __iter__(self) -> Iterator[str]:\n        return iter([\"\"])\n\n    def __enter__(self) -> IO[str]:\n        return self\n\n    def __exit__(\n        self,\n        __t: Optional[Type[BaseException]],\n        __value: Optional[BaseException],\n        __traceback: Optional[TracebackType],\n    ) -> None:\n        pass\n\n    def write(self, text: str) -> int:\n        return 0\n\n    def flush(self) -> None:\n        pass\n\n    def fileno(self) -> int:\n        return -1\n\n\nNULL_FILE = NullFile()\n",
    "start_line": 0
  },
  {
    "file": "_palettes.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from .palette import Palette",
    "start_line": 0
  },
  {
    "file": "_palettes.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# Taken from https://en.wikipedia.org/wiki/ANSI_escape_code (Windows 10 column)",
    "start_line": 3
  },
  {
    "file": "_palettes.py",
    "type": "constants",
    "class": null,
    "method": null,
    "name": "module_constants",
    "content": "WINDOWS_PALETTE = Palette(\n    [\n        (12, 12, 12),\n        (197, 15, 31),\n        (19, 161, 14),\n        (193, 156, 0),\n        (0, 55, 218),\n        (136, 23, 152),\n        (58, 150, 221),\n        (204, 204, 204),\n        (118, 118, 118),\n        (231, 72, 86),\n        (22, 198, 12),\n        (249, 241, 165),\n        (59, 120, 255),\n        (180, 0, 158),\n        (97, 214, 214),\n        (242, 242, 242),\n    ]\n)",
    "start_line": 4
  },
  {
    "file": "_palettes.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# # The standard ansi colors (including bright variants)",
    "start_line": 25
  },
  {
    "file": "_palettes.py",
    "type": "constants",
    "class": null,
    "method": null,
    "name": "module_constants",
    "content": "STANDARD_PALETTE = Palette(\n    [\n        (0, 0, 0),\n        (170, 0, 0),\n        (0, 170, 0),\n        (170, 85, 0),\n        (0, 0, 170),\n        (170, 0, 170),\n        (0, 170, 170),\n        (170, 170, 170),\n        (85, 85, 85),\n        (255, 85, 85),\n        (85, 255, 85),\n        (255, 255, 85),\n        (85, 85, 255),\n        (255, 85, 255),\n        (85, 255, 255),\n        (255, 255, 255),\n    ]\n)",
    "start_line": 26
  },
  {
    "file": "_palettes.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# The 256 color palette",
    "start_line": 48
  },
  {
    "file": "_palettes.py",
    "type": "constants",
    "class": null,
    "method": null,
    "name": "module_constants",
    "content": "EIGHT_BIT_PALETTE = Palette(\n    [\n        (0, 0, 0),\n        (128, 0, 0),\n        (0, 128, 0),\n        (128, 128, 0),\n        (0, 0, 128),\n        (128, 0, 128),\n        (0, 128, 128),\n        (192, 192, 192),\n        (128, 128, 128),\n        (255, 0, 0),\n        (0, 255, 0),\n        (255, 255, 0),\n        (0, 0, 255),\n        (255, 0, 255),\n        (0, 255, 255),\n        (255, 255, 255),\n        (0, 0, 0),\n        (0, 0, 95),\n        (0, 0, 135),\n        (0, 0, 175),\n        (0, 0, 215),\n        (0, 0, 255),\n        (0, 95, 0),\n        (0, 95, 95),\n        (0, 95, 135),\n        (0, 95, 175),\n        (0, 95, 215),\n        (0, 95, 255),\n        (0, 135, 0),\n        (0, 135, 95),\n        (0, 135, 135),\n        (0, 135, 175),\n        (0, 135, 215),\n        (0, 135, 255),\n        (0, 175, 0),\n        (0, 175, 95),\n        (0, 175, 135),\n        (0, 175, 175),\n        (0, 175, 215),\n        (0, 175, 255),\n        (0, 215, 0),\n        (0, 215, 95),\n        (0, 215, 135),\n        (0, 215, 175),\n        (0, 215, 215),\n        (0, 215, 255),\n        (0, 255, 0),\n        (0, 255, 95),\n        (0, 255, 135),\n        (0, 255, 175),\n        (0, 255, 215),\n        (0, 255, 255),\n        (95, 0, 0),\n        (95, 0, 95),\n        (95, 0, 135),\n        (95, 0, 175),\n        (95, 0, 215),\n        (95, 0, 255),\n        (95, 95, 0),\n        (95, 95, 95),\n        (95, 95, 135),\n        (95, 95, 175),\n        (95, 95, 215),\n        (95, 95, 255),\n        (95, 135, 0),\n        (95, 135, 95),\n        (95, 135, 135),\n        (95, 135, 175),\n        (95, 135, 215),\n        (95, 135, 255),\n        (95, 175, 0),\n        (95, 175, 95),\n        (95, 175, 135),\n        (95, 175, 175),\n        (95, 175, 215),\n        (95, 175, 255),\n        (95, 215, 0),\n        (95, 215, 95),\n        (95, 215, 135),\n        (95, 215, 175),\n        (95, 215, 215),\n        (95, 215, 255),\n        (95, 255, 0),\n        (95, 255, 95),\n        (95, 255, 135),\n        (95, 255, 175),\n        (95, 255, 215),\n        (95, 255, 255),\n        (135, 0, 0),\n        (135, 0, 95),\n        (135, 0, 135),\n        (135, 0, 175),\n        (135, 0, 215),\n        (135, 0, 255),\n        (135, 95, 0),\n        (135, 95, 95),\n        (135, 95, 135),\n        (135, 95, 175),\n        (135, 95, 215),\n        (135, 95, 255),\n        (135, 135, 0),\n        (135, 135, 95),\n        (135, 135, 135),\n        (135, 135, 175),\n        (135, 135, 215),\n        (135, 135, 255),\n        (135, 175, 0),\n        (135, 175, 95),\n        (135, 175, 135),\n        (135, 175, 175),\n        (135, 175, 215),\n        (135, 175, 255),\n        (135, 215, 0),\n        (135, 215, 95),\n        (135, 215, 135),\n        (135, 215, 175),\n        (135, 215, 215),\n        (135, 215, 255),\n        (135, 255, 0),\n        (135, 255, 95),\n        (135, 255, 135),\n        (135, 255, 175),\n        (135, 255, 215),\n        (135, 255, 255),\n        (175, 0, 0),\n        (175, 0, 95),\n        (175, 0, 135),\n        (175, 0, 175),\n        (175, 0, 215),\n        (175, 0, 255),\n        (175, 95, 0),\n        (175, 95, 95),\n        (175, 95, 135),\n        (175, 95, 175),\n        (175, 95, 215),\n        (175, 95, 255),\n        (175, 135, 0),\n        (175, 135, 95),\n        (175, 135, 135),\n        (175, 135, 175),\n        (175, 135, 215),\n        (175, 135, 255),\n        (175, 175, 0),\n        (175, 175, 95),\n        (175, 175, 135),\n        (175, 175, 175),\n        (175, 175, 215),\n        (175, 175, 255),\n        (175, 215, 0),\n        (175, 215, 95),\n        (175, 215, 135),\n        (175, 215, 175),\n        (175, 215, 215),\n        (175, 215, 255),\n        (175, 255, 0),\n        (175, 255, 95),\n        (175, 255, 135),\n        (175, 255, 175),\n        (175, 255, 215),\n        (175, 255, 255),\n        (215, 0, 0),\n        (215, 0, 95),\n        (215, 0, 135),\n        (215, 0, 175),\n        (215, 0, 215),\n        (215, 0, 255),\n        (215, 95, 0),\n        (215, 95, 95),\n        (215, 95, 135),\n        (215, 95, 175),\n        (215, 95, 215),\n        (215, 95, 255),\n        (215, 135, 0),\n        (215, 135, 95),\n        (215, 135, 135),\n        (215, 135, 175),\n        (215, 135, 215),\n        (215, 135, 255),\n        (215, 175, 0),\n        (215, 175, 95),\n        (215, 175, 135),\n        (215, 175, 175),\n        (215, 175, 215),\n        (215, 175, 255),\n        (215, 215, 0),\n        (215, 215, 95),\n        (215, 215, 135),\n        (215, 215, 175),\n        (215, 215, 215),\n        (215, 215, 255),\n        (215, 255, 0),\n        (215, 255, 95),\n        (215, 255, 135),\n        (215, 255, 175),\n        (215, 255, 215),\n        (215, 255, 255),\n        (255, 0, 0),\n        (255, 0, 95),\n        (255, 0, 135),\n        (255, 0, 175),\n        (255, 0, 215),\n        (255, 0, 255),\n        (255, 95, 0),\n        (255, 95, 95),\n        (255, 95, 135),\n        (255, 95, 175),\n        (255, 95, 215),\n        (255, 95, 255),\n        (255, 135, 0),\n        (255, 135, 95),\n        (255, 135, 135),\n        (255, 135, 175),\n        (255, 135, 215),\n        (255, 135, 255),\n        (255, 175, 0),\n        (255, 175, 95),\n        (255, 175, 135),\n        (255, 175, 175),\n        (255, 175, 215),\n        (255, 175, 255),\n        (255, 215, 0),\n        (255, 215, 95),\n        (255, 215, 135),\n        (255, 215, 175),\n        (255, 215, 215),\n        (255, 215, 255),\n        (255, 255, 0),\n        (255, 255, 95),\n        (255, 255, 135),\n        (255, 255, 175),\n        (255, 255, 215),\n        (255, 255, 255),\n        (8, 8, 8),\n        (18, 18, 18),\n        (28, 28, 28),\n        (38, 38, 38),\n        (48, 48, 48),\n        (58, 58, 58),\n        (68, 68, 68),\n        (78, 78, 78),\n        (88, 88, 88),\n        (98, 98, 98),\n        (108, 108, 108),\n        (118, 118, 118),\n        (128, 128, 128),\n        (138, 138, 138),\n        (148, 148, 148),\n        (158, 158, 158),\n        (168, 168, 168),\n        (178, 178, 178),\n        (188, 188, 188),\n        (198, 198, 198),\n        (208, 208, 208),\n        (218, 218, 218),\n        (228, 228, 228),\n        (238, 238, 238),\n    ]\n)",
    "start_line": 49
  },
  {
    "file": "_palettes.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "from .palette import Palette\n\n\n# Taken from https://en.wikipedia.org/wiki/ANSI_escape_code (Windows 10 column)\nWINDOWS_PALETTE = Palette(\n    [\n        (12, 12, 12),\n        (197, 15, 31),\n        (19, 161, 14),\n        (193, 156, 0),\n        (0, 55, 218),\n        (136, 23, 152),\n        (58, 150, 221),\n        (204, 204, 204),\n        (118, 118, 118),\n        (231, 72, 86),\n        (22, 198, 12),\n        (249, 241, 165),\n        (59, 120, 255),\n        (180, 0, 158),\n        (97, 214, 214),\n        (242, 242, 242),\n    ]\n)\n\n# # The standard ansi colors (including bright variants)\nSTANDARD_PALETTE = Palette(\n    [\n        (0, 0, 0),\n        (170, 0, 0),\n        (0, 170, 0),\n        (170, 85, 0),\n        (0, 0, 170),\n        (170, 0, 170),\n        (0, 170, 170),\n        (170, 170, 170),\n        (85, 85, 85),\n        (255, 85, 85),\n        (85, 255, 85),\n        (255, 255, 85),\n        (85, 85, 255),\n        (255, 85, 255),\n        (85, 255, 255),\n        (255, 255, 255),\n    ]\n)\n\n\n# The 256 color palette\nEIGHT_BIT_PALETTE = Palette(\n    [\n        (0, 0, 0),\n        (128, 0, 0),\n        (0, 128, 0),\n        (128, 128, 0),\n        (0, 0, 128),\n        (128, 0, 128),\n        (0, 128, 128),\n        (192, 192, 192),\n        (128, 128, 128),\n        (255, 0, 0),\n        (0, 255, 0),\n        (255, 255, 0),\n        (0, 0, 255),\n        (255, 0, 255),\n        (0, 255, 255),\n        (255, 255, 255),\n        (0, 0, 0),\n        (0, 0, 95),\n        (0, 0, 135),\n        (0, 0, 175),\n        (0, 0, 215),\n        (0, 0, 255),\n        (0, 95, 0),\n        (0, 95, 95),\n        (0, 95, 135),\n        (0, 95, 175),\n        (0, 95, 215),\n        (0, 95, 255),\n        (0, 135, 0),\n        (0, 135, 95),\n        (0, 135, 135),\n        (0, 135, 175),\n        (0, 135, 215),\n        (0, 135, 255),\n        (0, 175, 0),\n        (0, 175, 95),\n        (0, 175, 135),\n        (0, 175, 175),\n        (0, 175, 215),\n        (0, 175, 255),\n        (0, 215, 0),\n        (0, 215, 95),\n        (0, 215, 135),\n        (0, 215, 175),\n        (0, 215, 215),\n        (0, 215, 255),\n        (0, 255, 0),\n        (0, 255, 95),\n        (0, 255, 135),\n        (0, 255, 175),\n        (0, 255, 215),\n        (0, 255, 255),\n        (95, 0, 0),\n        (95, 0, 95),\n        (95, 0, 135),\n        (95, 0, 175),\n        (95, 0, 215),\n        (95, 0, 255),\n        (95, 95, 0),\n        (95, 95, 95),\n        (95, 95, 135),\n        (95, 95, 175),\n        (95, 95, 215),\n        (95, 95, 255),\n        (95, 135, 0),\n        (95, 135, 95),\n        (95, 135, 135),\n        (95, 135, 175),\n        (95, 135, 215),\n        (95, 135, 255),\n        (95, 175, 0),\n        (95, 175, 95),\n        (95, 175, 135),\n        (95, 175, 175),\n        (95, 175, 215),\n        (95, 175, 255),\n        (95, 215, 0),\n        (95, 215, 95),\n        (95, 215, 135),\n        (95, 215, 175),\n        (95, 215, 215),\n        (95, 215, 255),\n        (95, 255, 0),\n        (95, 255, 95),\n        (95, 255, 135),\n        (95, 255, 175),\n        (95, 255, 215),\n        (95, 255, 255),\n        (135, 0, 0),\n        (135, 0, 95),\n        (135, 0, 135),\n        (135, 0, 175),\n        (135, 0, 215),\n        (135, 0, 255),\n        (135, 95, 0),\n        (135, 95, 95),\n        (135, 95, 135),\n        (135, 95, 175),\n        (135, 95, 215),\n        (135, 95, 255),\n        (135, 135, 0),\n        (135, 135, 95),\n        (135, 135, 135),\n        (135, 135, 175),\n        (135, 135, 215),\n        (135, 135, 255),\n        (135, 175, 0),\n        (135, 175, 95),\n        (135, 175, 135),\n        (135, 175, 175),\n        (135, 175, 215),\n        (135, 175, 255),\n        (135, 215, 0),\n        (135, 215, 95),\n        (135, 215, 135),\n        (135, 215, 175),\n        (135, 215, 215),\n        (135, 215, 255),\n        (135, 255, 0),\n        (135, 255, 95),\n        (135, 255, 135),\n        (135, 255, 175),\n        (135, 255, 215),\n        (135, 255, 255),\n        (175, 0, 0),\n        (175, 0, 95),\n        (175, 0, 135),\n        (175, 0, 175),\n        (175, 0, 215),\n        (175, 0, 255),\n        (175, 95, 0),\n        (175, 95, 95),\n        (175, 95, 135),\n        (175, 95, 175),\n        (175, 95, 215),\n        (175, 95, 255),\n        (175, 135, 0),\n        (175, 135, 95),\n        (175, 135, 135),\n        (175, 135, 175),\n        (175, 135, 215),\n        (175, 135, 255),\n        (175, 175, 0),\n        (175, 175, 95),\n        (175, 175, 135),\n        (175, 175, 175),\n        (175, 175, 215),\n        (175, 175, 255),\n        (175, 215, 0),\n        (175, 215, 95),\n        (175, 215, 135),\n        (175, 215, 175),\n        (175, 215, 215),\n        (175, 215, 255),\n        (175, 255, 0),\n        (175, 255, 95),\n        (175, 255, 135),\n        (175, 255, 175),\n        (175, 255, 215),\n        (175, 255, 255),\n        (215, 0, 0),\n        (215, 0, 95),\n        (215, 0, 135),\n        (215, 0, 175),\n        (215, 0, 215),\n        (215, 0, 255),\n        (215, 95, 0),\n        (215, 95, 95),\n        (215, 95, 135),\n        (215, 95, 175),\n        (215, 95, 215),\n        (215, 95, 255),\n        (215, 135, 0),\n        (215, 135, 95),\n        (215, 135, 135),\n        (215, 135, 175),\n        (215, 135, 215),\n        (215, 135, 255),\n        (215, 175, 0),\n        (215, 175, 95),\n        (215, 175, 135),\n        (215, 175, 175),\n        (215, 175, 215),\n        (215, 175, 255),\n        (215, 215, 0),\n        (215, 215, 95),\n        (215, 215, 135),\n        (215, 215, 175),\n        (215, 215, 215),\n        (215, 215, 255),\n        (215, 255, 0),\n        (215, 255, 95),\n        (215, 255, 135),\n        (215, 255, 175),\n        (215, 255, 215),\n        (215, 255, 255),\n        (255, 0, 0),\n        (255, 0, 95),\n        (255, 0, 135),\n        (255, 0, 175),\n        (255, 0, 215),\n        (255, 0, 255),\n        (255, 95, 0),\n        (255, 95, 95),\n        (255, 95, 135),\n        (255, 95, 175),\n        (255, 95, 215),\n        (255, 95, 255),\n        (255, 135, 0),\n        (255, 135, 95),\n        (255, 135, 135),\n        (255, 135, 175),\n        (255, 135, 215),\n        (255, 135, 255),\n        (255, 175, 0),\n        (255, 175, 95),\n        (255, 175, 135),\n        (255, 175, 175),\n        (255, 175, 215),\n        (255, 175, 255),\n        (255, 215, 0),\n        (255, 215, 95),\n        (255, 215, 135),\n        (255, 215, 175),\n        (255, 215, 215),\n        (255, 215, 255),\n        (255, 255, 0),\n        (255, 255, 95),\n        (255, 255, 135),\n        (255, 255, 175),\n        (255, 255, 215),\n        (255, 255, 255),\n        (8, 8, 8),\n        (18, 18, 18),\n        (28, 28, 28),\n        (38, 38, 38),\n        (48, 48, 48),\n        (58, 58, 58),\n        (68, 68, 68),\n        (78, 78, 78),\n        (88, 88, 88),\n        (98, 98, 98),\n        (108, 108, 108),\n        (118, 118, 118),\n        (128, 128, 128),\n        (138, 138, 138),\n        (148, 148, 148),\n        (158, 158, 158),\n        (168, 168, 168),\n        (178, 178, 178),\n        (188, 188, 188),\n        (198, 198, 198),\n        (208, 208, 208),\n        (218, 218, 218),\n        (228, 228, 228),\n        (238, 238, 238),\n    ]\n)\n",
    "start_line": 0
  },
  {
    "file": "__init__.py",
    "type": "module_docstring",
    "class": null,
    "method": null,
    "name": "module_docstring",
    "content": "\"\"\"Rich text and beautiful formatting in the terminal.\"\"\"",
    "start_line": 0
  },
  {
    "file": "__init__.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "import os\nfrom typing import IO, TYPE_CHECKING, Any, Callable, Optional, Union\nfrom ._extension import load_ipython_extension  # noqa: F401",
    "start_line": 2
  },
  {
    "file": "__init__.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "__all__ = [\"get_console\", \"reconfigure\", \"print\", \"inspect\", \"print_json\"]\nif TYPE_CHECKING:",
    "start_line": 7
  },
  {
    "file": "__init__.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from .console import Console",
    "start_line": 10
  },
  {
    "file": "__init__.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# Global console used by alternative print\n_console: Optional[\"Console\"] = None\ntry:",
    "start_line": 12
  },
  {
    "file": "__init__.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "_IMPORT_CWD = os.path.abspath(os.getcwd())\nexcept FileNotFoundError:",
    "start_line": 16
  },
  {
    "file": "__init__.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# Can happen if the cwd has been deleted",
    "start_line": 18
  },
  {
    "file": "__init__.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "_IMPORT_CWD = \"\"",
    "start_line": 19
  },
  {
    "file": "__init__.py",
    "type": "function",
    "class": null,
    "method": "get_console",
    "name": "get_console",
    "content": "def get_console() -> \"Console\":\n    \"\"\"Get a global :class:`~rich.console.Console` instance. This function is used when Rich requires a Console,\n    and hasn't been explicitly given one.\n\n    Returns:\n        Console: A console instance.\n    \"\"\"\n    global _console\n    if _console is None:",
    "start_line": 22
  },
  {
    "file": "__init__.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from .console import Console",
    "start_line": 31
  },
  {
    "file": "__init__.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "_console = Console()\n    return _console",
    "start_line": 33
  },
  {
    "file": "__init__.py",
    "type": "function",
    "class": null,
    "method": "reconfigure",
    "name": "reconfigure",
    "content": "def reconfigure(*args: Any, **kwargs: Any) -> None:\n    \"\"\"Reconfigures the global console by replacing it with another.\n\n    Args:\n        *args (Any): Positional arguments for the replacement :class:`~rich.console.Console`.\n        **kwargs (Any): Keyword arguments for the replacement :class:`~rich.console.Console`.\n    \"\"\"",
    "start_line": 38
  },
  {
    "file": "__init__.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from rich.console import Console",
    "start_line": 45
  },
  {
    "file": "__init__.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "new_console = Console(*args, **kwargs)\n    _console = get_console()\n    _console.__dict__ = new_console.__dict__",
    "start_line": 47
  },
  {
    "file": "__init__.py",
    "type": "function",
    "class": null,
    "method": "print",
    "name": "print",
    "content": "def print(\n    *objects: Any,\n    sep: str = \" \",\n    end: str = \"\\n\",\n    file: Optional[IO[str]] = None,\n    flush: bool = False,\n) -> None:\n    r\"\"\"Print object(s) supplied via positional arguments.\n    This function has an identical signature to the built-in print.\n    For more advanced features, see the :class:`~rich.console.Console` class.\n\n    Args:\n        sep (str, optional): Separator between printed objects. Defaults to \" \".\n        end (str, optional): Character to write at end of output. Defaults to \"\\\\n\".\n        file (IO[str], optional): File to write to, or None for stdout. Defaults to None.\n        flush (bool, optional): Has no effect as Rich always flushes output. Defaults to False.\n\n    \"\"\"",
    "start_line": 52
  },
  {
    "file": "__init__.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from .console import Console",
    "start_line": 70
  },
  {
    "file": "__init__.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "write_console = get_console() if file is None else Console(file=file)\n    return write_console.print(*objects, sep=sep, end=end)",
    "start_line": 72
  },
  {
    "file": "__init__.py",
    "type": "function",
    "class": null,
    "method": "print_json",
    "name": "print_json",
    "content": "def print_json(\n    json: Optional[str] = None,\n    *,\n    data: Any = None,\n    indent: Union[None, int, str] = 2,\n    highlight: bool = True,\n    skip_keys: bool = False,\n    ensure_ascii: bool = False,\n    check_circular: bool = True,\n    allow_nan: bool = True,\n    default: Optional[Callable[[Any], Any]] = None,\n    sort_keys: bool = False,\n) -> None:\n    \"\"\"Pretty prints JSON. Output will be valid JSON.\n\n    Args:\n        json (str): A string containing JSON.\n        data (Any): If json is not supplied, then encode this data.\n        indent (int, optional): Number of spaces to indent. Defaults to 2.\n        highlight (bool, optional): Enable highlighting of output: Defaults to True.\n        skip_keys (bool, optional): Skip keys not of a basic type. Defaults to False.\n        ensure_ascii (bool, optional): Escape all non-ascii characters. Defaults to False.\n        check_circular (bool, optional): Check for circular references. Defaults to True.\n        allow_nan (bool, optional): Allow NaN and Infinity values. Defaults to True.\n        default (Callable, optional): A callable that converts values that can not be encoded\n            in to something that can be JSON encoded. Defaults to None.\n        sort_keys (bool, optional): Sort dictionary keys. Defaults to False.\n    \"\"\"\n\n    get_console().print_json(\n        json,",
    "start_line": 76
  },
  {
    "file": "__init__.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "data=data,\n        indent=indent,\n        highlight=highlight,\n        skip_keys=skip_keys,\n        ensure_ascii=ensure_ascii,\n        check_circular=check_circular,\n        allow_nan=allow_nan,\n        default=default,\n        sort_keys=sort_keys,\n    )",
    "start_line": 107
  },
  {
    "file": "__init__.py",
    "type": "function",
    "class": null,
    "method": "inspect",
    "name": "inspect",
    "content": "def inspect(\n    obj: Any,\n    *,\n    console: Optional[\"Console\"] = None,\n    title: Optional[str] = None,\n    help: bool = False,\n    methods: bool = False,\n    docs: bool = True,\n    private: bool = False,\n    dunder: bool = False,\n    sort: bool = True,\n    all: bool = False,\n    value: bool = True,\n) -> None:\n    \"\"\"Inspect any Python object.\n\n    * inspect(<OBJECT>) to see summarized info.\n    * inspect(<OBJECT>, methods=True) to see methods.\n    * inspect(<OBJECT>, help=True) to see full (non-abbreviated) help.\n    * inspect(<OBJECT>, private=True) to see private attributes (single underscore).\n    * inspect(<OBJECT>, dunder=True) to see attributes beginning with double underscore.\n    * inspect(<OBJECT>, all=True) to see all attributes.\n\n    Args:\n        obj (Any): An object to inspect.\n        title (str, optional): Title to display over inspect result, or None use type. Defaults to None.\n        help (bool, optional): Show full help text rather than just first paragraph. Defaults to False.\n        methods (bool, optional): Enable inspection of callables. Defaults to False.\n        docs (bool, optional): Also render doc strings. Defaults to True.\n        private (bool, optional): Show private attributes (beginning with underscore). Defaults to False.\n        dunder (bool, optional): Show attributes starting with double underscore. Defaults to False.\n        sort (bool, optional): Sort attributes alphabetically. Defaults to True.\n        all (bool, optional): Show all attributes. Defaults to False.\n        value (bool, optional): Pretty print value. Defaults to True.\n    \"\"\"",
    "start_line": 119
  },
  {
    "file": "__init__.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "_console = console or get_console()",
    "start_line": 154
  },
  {
    "file": "__init__.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from rich._inspect import Inspect",
    "start_line": 155
  },
  {
    "file": "__init__.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# Special case for inspect(inspect)",
    "start_line": 157
  },
  {
    "file": "__init__.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "is_inspect = obj is inspect\n    _inspect = Inspect(\n        obj,\n        title=title,\n        help=is_inspect or help,\n        methods=is_inspect or methods,\n        docs=is_inspect or docs,\n        private=private,\n        dunder=dunder,\n        sort=sort,\n        all=all,\n        value=value,\n    )\n    _console.print(_inspect)\nif __name__ == \"__main__\":  # pragma: no cover\n    print(\"Hello, **World**\")",
    "start_line": 158
  },
  {
    "file": "__init__.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "\"\"\"Rich text and beautiful formatting in the terminal.\"\"\"\n\nimport os\nfrom typing import IO, TYPE_CHECKING, Any, Callable, Optional, Union\n\nfrom ._extension import load_ipython_extension  # noqa: F401\n\n__all__ = [\"get_console\", \"reconfigure\", \"print\", \"inspect\", \"print_json\"]\n\nif TYPE_CHECKING:\n    from .console import Console\n\n# Global console used by alternative print\n_console: Optional[\"Console\"] = None\n\ntry:\n    _IMPORT_CWD = os.path.abspath(os.getcwd())\nexcept FileNotFoundError:\n    # Can happen if the cwd has been deleted\n    _IMPORT_CWD = \"\"\n\n\ndef get_console() -> \"Console\":\n    \"\"\"Get a global :class:`~rich.console.Console` instance. This function is used when Rich requires a Console,\n    and hasn't been explicitly given one.\n\n    Returns:\n        Console: A console instance.\n    \"\"\"\n    global _console\n    if _console is None:\n        from .console import Console\n\n        _console = Console()\n\n    return _console\n\n\ndef reconfigure(*args: Any, **kwargs: Any) -> None:\n    \"\"\"Reconfigures the global console by replacing it with another.\n\n    Args:\n        *args (Any): Positional arguments for the replacement :class:`~rich.console.Console`.\n        **kwargs (Any): Keyword arguments for the replacement :class:`~rich.console.Console`.\n    \"\"\"\n    from rich.console import Console\n\n    new_console = Console(*args, **kwargs)\n    _console = get_console()\n    _console.__dict__ = new_console.__dict__\n\n\ndef print(\n    *objects: Any,\n    sep: str = \" \",\n    end: str = \"\\n\",\n    file: Optional[IO[str]] = None,\n    flush: bool = False,\n) -> None:\n    r\"\"\"Print object(s) supplied via positional arguments.\n    This function has an identical signature to the built-in print.\n    For more advanced features, see the :class:`~rich.console.Console` class.\n\n    Args:\n        sep (str, optional): Separator between printed objects. Defaults to \" \".\n        end (str, optional): Character to write at end of output. Defaults to \"\\\\n\".\n        file (IO[str], optional): File to write to, or None for stdout. Defaults to None.\n        flush (bool, optional): Has no effect as Rich always flushes output. Defaults to False.\n\n    \"\"\"\n    from .console import Console\n\n    write_console = get_console() if file is None else Console(file=file)\n    return write_console.print(*objects, sep=sep, end=end)\n\n\ndef print_json(\n    json: Optional[str] = None,\n    *,\n    data: Any = None,\n    indent: Union[None, int, str] = 2,\n    highlight: bool = True,\n    skip_keys: bool = False,\n    ensure_ascii: bool = False,\n    check_circular: bool = True,\n    allow_nan: bool = True,\n    default: Optional[Callable[[Any], Any]] = None,\n    sort_keys: bool = False,\n) -> None:\n    \"\"\"Pretty prints JSON. Output will be valid JSON.\n\n    Args:\n        json (str): A string containing JSON.\n        data (Any): If json is not supplied, then encode this data.\n        indent (int, optional): Number of spaces to indent. Defaults to 2.\n        highlight (bool, optional): Enable highlighting of output: Defaults to True.\n        skip_keys (bool, optional): Skip keys not of a basic type. Defaults to False.\n        ensure_ascii (bool, optional): Escape all non-ascii characters. Defaults to False.\n        check_circular (bool, optional): Check for circular references. Defaults to True.\n        allow_nan (bool, optional): Allow NaN and Infinity values. Defaults to True.\n        default (Callable, optional): A callable that converts values that can not be encoded\n            in to something that can be JSON encoded. Defaults to None.\n        sort_keys (bool, optional): Sort dictionary keys. Defaults to False.\n    \"\"\"\n\n    get_console().print_json(\n        json,\n        data=data,\n        indent=indent,\n        highlight=highlight,\n        skip_keys=skip_keys,\n        ensure_ascii=ensure_ascii,\n        check_circular=check_circular,\n        allow_nan=allow_nan,\n        default=default,\n        sort_keys=sort_keys,\n    )\n\n\ndef inspect(\n    obj: Any,\n    *,\n    console: Optional[\"Console\"] = None,\n    title: Optional[str] = None,\n    help: bool = False,\n    methods: bool = False,\n    docs: bool = True,\n    private: bool = False,\n    dunder: bool = False,\n    sort: bool = True,\n    all: bool = False,\n    value: bool = True,\n) -> None:\n    \"\"\"Inspect any Python object.\n\n    * inspect(<OBJECT>) to see summarized info.\n    * inspect(<OBJECT>, methods=True) to see methods.\n    * inspect(<OBJECT>, help=True) to see full (non-abbreviated) help.\n    * inspect(<OBJECT>, private=True) to see private attributes (single underscore).\n    * inspect(<OBJECT>, dunder=True) to see attributes beginning with double underscore.\n    * inspect(<OBJECT>, all=True) to see all attributes.\n\n    Args:\n        obj (Any): An object to inspect.\n        title (str, optional): Title to display over inspect result, or None use type. Defaults to None.\n        help (bool, optional): Show full help text rather than just first paragraph. Defaults to False.\n        methods (bool, optional): Enable inspection of callables. Defaults to False.\n        docs (bool, optional): Also render doc strings. Defaults to True.\n        private (bool, optional): Show private attributes (beginning with underscore). Defaults to False.\n        dunder (bool, optional): Show attributes starting with double underscore. Defaults to False.\n        sort (bool, optional): Sort attributes alphabetically. Defaults to True.\n        all (bool, optional): Show all attributes. Defaults to False.\n        value (bool, optional): Pretty print value. Defaults to True.\n    \"\"\"\n    _console = console or get_console()\n    from rich._inspect import Inspect\n\n    # Special case for inspect(inspect)\n    is_inspect = obj is inspect\n\n    _inspect = Inspect(\n        obj,\n        title=title,\n        help=is_inspect or help,\n        methods=is_inspect or methods,\n        docs=is_inspect or docs,\n        private=private,\n        dunder=dunder,\n        sort=sort,\n        all=all,\n        value=value,\n    )\n    _console.print(_inspect)\n\n\nif __name__ == \"__main__\":  # pragma: no cover\n    print(\"Hello, **World**\")\n",
    "start_line": 0
  },
  {
    "file": "_pick.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from typing import Optional",
    "start_line": 0
  },
  {
    "file": "_pick.py",
    "type": "function",
    "class": null,
    "method": "pick_bool",
    "name": "pick_bool",
    "content": "def pick_bool(*values: Optional[bool]) -> bool:\n    \"\"\"Pick the first non-none bool or return the last value.\n\n    Args:\n        *values (bool): Any number of boolean or None values.\n\n    Returns:\n        bool: First non-none boolean.\n    \"\"\"\n    assert values, \"1 or more values required\"\n    for value in values:\n        if value is not None:\n            return value\n    return bool(value)",
    "start_line": 3
  },
  {
    "file": "_pick.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "from typing import Optional\n\n\ndef pick_bool(*values: Optional[bool]) -> bool:\n    \"\"\"Pick the first non-none bool or return the last value.\n\n    Args:\n        *values (bool): Any number of boolean or None values.\n\n    Returns:\n        bool: First non-none boolean.\n    \"\"\"\n    assert values, \"1 or more values required\"\n    for value in values:\n        if value is not None:\n            return value\n    return bool(value)\n",
    "start_line": 0
  },
  {
    "file": "file_proxy.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "import io\nfrom typing import IO, TYPE_CHECKING, Any, List\nfrom .ansi import AnsiDecoder\nfrom .text import Text\nif TYPE_CHECKING:\n    from .console import Console",
    "start_line": 0
  },
  {
    "file": "file_proxy.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "FileProxy",
    "content": "class FileProxy(io.TextIOBase):\n    \"\"\"Wraps a file (e.g. sys.stdout) and redirects writes to a console.\"\"\"",
    "start_line": 10
  },
  {
    "file": "file_proxy.py",
    "type": "method",
    "class": "FileProxy",
    "method": "__init__",
    "name": "__init__",
    "content": "class FileProxy:\n    def __init__(self, console: \"Console\", file: IO[str]) -> None:\n        self.__console = console\n        self.__file = file\n        self.__buffer: List[str] = []\n        self.__ansi_decoder = AnsiDecoder()\n\n    @property",
    "start_line": 13
  },
  {
    "file": "file_proxy.py",
    "type": "method",
    "class": "FileProxy",
    "method": "rich_proxied_file",
    "name": "rich_proxied_file",
    "content": "class FileProxy:\n    def rich_proxied_file(self) -> IO[str]:\n        \"\"\"Get proxied file.\"\"\"\n        return self.__file",
    "start_line": 20
  },
  {
    "file": "file_proxy.py",
    "type": "method",
    "class": "FileProxy",
    "method": "__getattr__",
    "name": "__getattr__",
    "content": "class FileProxy:\n    def __getattr__(self, name: str) -> Any:\n        return getattr(self.__file, name)",
    "start_line": 24
  },
  {
    "file": "file_proxy.py",
    "type": "method",
    "class": "FileProxy",
    "method": "write",
    "name": "write",
    "content": "class FileProxy:\n    def write(self, text: str) -> int:\n        if not isinstance(text, str):\n            raise TypeError(f\"write() argument must be str, not {type(text).__name__}\")\n        buffer = self.__buffer\n        lines: List[str] = []\n        while text:\n            line, new_line, text = text.partition(\"\\n\")\n            if new_line:\n                lines.append(\"\".join(buffer) + line)\n                buffer.clear()\n            else:\n                buffer.append(line)\n                break\n        if lines:\n            console = self.__console\n            with console:\n                output = Text(\"\\n\").join(\n                    self.__ansi_decoder.decode_line(line) for line in lines\n                )\n                console.print(output)\n        return len(text)",
    "start_line": 27
  },
  {
    "file": "file_proxy.py",
    "type": "method",
    "class": "FileProxy",
    "method": "flush",
    "name": "flush",
    "content": "class FileProxy:\n    def flush(self) -> None:\n        output = \"\".join(self.__buffer)\n        if output:\n            self.__console.print(output)\n        del self.__buffer[:]",
    "start_line": 49
  },
  {
    "file": "file_proxy.py",
    "type": "method",
    "class": "FileProxy",
    "method": "fileno",
    "name": "fileno",
    "content": "class FileProxy:\n    def fileno(self) -> int:\n        return self.__file.fileno()",
    "start_line": 55
  },
  {
    "file": "file_proxy.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "import io\nfrom typing import IO, TYPE_CHECKING, Any, List\n\nfrom .ansi import AnsiDecoder\nfrom .text import Text\n\nif TYPE_CHECKING:\n    from .console import Console\n\n\nclass FileProxy(io.TextIOBase):\n    \"\"\"Wraps a file (e.g. sys.stdout) and redirects writes to a console.\"\"\"\n\n    def __init__(self, console: \"Console\", file: IO[str]) -> None:\n        self.__console = console\n        self.__file = file\n        self.__buffer: List[str] = []\n        self.__ansi_decoder = AnsiDecoder()\n\n    @property\n    def rich_proxied_file(self) -> IO[str]:\n        \"\"\"Get proxied file.\"\"\"\n        return self.__file\n\n    def __getattr__(self, name: str) -> Any:\n        return getattr(self.__file, name)\n\n    def write(self, text: str) -> int:\n        if not isinstance(text, str):\n            raise TypeError(f\"write() argument must be str, not {type(text).__name__}\")\n        buffer = self.__buffer\n        lines: List[str] = []\n        while text:\n            line, new_line, text = text.partition(\"\\n\")\n            if new_line:\n                lines.append(\"\".join(buffer) + line)\n                buffer.clear()\n            else:\n                buffer.append(line)\n                break\n        if lines:\n            console = self.__console\n            with console:\n                output = Text(\"\\n\").join(\n                    self.__ansi_decoder.decode_line(line) for line in lines\n                )\n                console.print(output)\n        return len(text)\n\n    def flush(self) -> None:\n        output = \"\".join(self.__buffer)\n        if output:\n            self.__console.print(output)\n        del self.__buffer[:]\n\n    def fileno(self) -> int:\n        return self.__file.fileno()\n",
    "start_line": 0
  },
  {
    "file": "palette.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from math import sqrt\nfrom functools import lru_cache\nfrom typing import Sequence, Tuple, TYPE_CHECKING\nfrom .color_triplet import ColorTriplet\nif TYPE_CHECKING:\n    from rich.table import Table",
    "start_line": 0
  },
  {
    "file": "palette.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "Palette",
    "content": "class Palette:\n    \"\"\"A palette of available colors.\"\"\"",
    "start_line": 10
  },
  {
    "file": "palette.py",
    "type": "method",
    "class": "Palette",
    "method": "__init__",
    "name": "__init__",
    "content": "class Palette:\n    def __init__(self, colors: Sequence[Tuple[int, int, int]]):\n        self._colors = colors",
    "start_line": 13
  },
  {
    "file": "palette.py",
    "type": "method",
    "class": "Palette",
    "method": "__getitem__",
    "name": "__getitem__",
    "content": "class Palette:\n    def __getitem__(self, number: int) -> ColorTriplet:\n        return ColorTriplet(*self._colors[number])",
    "start_line": 16
  },
  {
    "file": "palette.py",
    "type": "method",
    "class": "Palette",
    "method": "__rich__",
    "name": "__rich__",
    "content": "class Palette:\n    def __rich__(self) -> \"Table\":",
    "start_line": 19
  },
  {
    "file": "palette.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from rich.color import Color\n        from rich.style import Style\n        from rich.text import Text\n        from rich.table import Table\n        table = Table(\n            \"index\",\n            \"RGB\",\n            \"Color\",\n            title=\"Palette\",\n            caption=f\"{len(self._colors)} colors\",\n            highlight=True,\n            caption_justify=\"right\",\n        )\n        for index, color in enumerate(self._colors):\n            table.add_row(\n                str(index),\n                repr(color),\n                Text(\" \" * 16, style=Style(bgcolor=Color.from_rgb(*color))),\n            )\n        return table",
    "start_line": 20
  },
  {
    "file": "palette.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# This is somewhat inefficient and needs caching\n    @lru_cache(maxsize=1024)",
    "start_line": 42
  },
  {
    "file": "palette.py",
    "type": "method",
    "class": "Palette",
    "method": "match",
    "name": "match",
    "content": "class Palette:\n    def match(self, color: Tuple[int, int, int]) -> int:\n        \"\"\"Find a color from a palette that most closely matches a given color.\n\n        Args:\n            color (Tuple[int, int, int]): RGB components in range 0 > 255.\n\n        Returns:\n            int: Index of closes matching color.\n        \"\"\"\n        red1, green1, blue1 = color\n        _sqrt = sqrt\n        get_color = self._colors.__getitem__",
    "start_line": 44
  },
  {
    "file": "palette.py",
    "type": "method",
    "class": "Palette",
    "method": "get_color_distance",
    "name": "get_color_distance",
    "content": "class Palette:\n        def get_color_distance(index: int) -> float:\n            \"\"\"Get the distance to a color.\"\"\"\n            red2, green2, blue2 = get_color(index)\n            red_mean = (red1 + red2) // 2\n            red = red1 - red2\n            green = green1 - green2\n            blue = blue1 - blue2\n            return _sqrt(\n                (((512 + red_mean) * red * red) >> 8)\n                + 4 * green * green\n                + (((767 - red_mean) * blue * blue) >> 8)\n            )\n\n        min_index = min(range(len(self._colors)), key=get_color_distance)\n        return min_index\n\n\nif __name__ == \"__main__\":  # pragma: no cover",
    "start_line": 57
  },
  {
    "file": "palette.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "import colorsys\n    from typing import Iterable\n    from rich.color import Color\n    from rich.console import Console, ConsoleOptions\n    from rich.segment import Segment\n    from rich.style import Style",
    "start_line": 75
  },
  {
    "file": "palette.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "ColorBox",
    "content": "class ColorBox:",
    "start_line": 82
  },
  {
    "file": "palette.py",
    "type": "method",
    "class": "ColorBox",
    "method": "__rich_console__",
    "name": "__rich_console__",
    "content": "class ColorBox:\n        def __rich_console__(\n            self, console: Console, options: ConsoleOptions\n        ) -> Iterable[Segment]:\n            height = console.size.height - 3\n            for y in range(0, height):\n                for x in range(options.max_width):\n                    h = x / options.max_width\n                    l = y / (height + 1)\n                    r1, g1, b1 = colorsys.hls_to_rgb(h, l, 1.0)\n                    r2, g2, b2 = colorsys.hls_to_rgb(h, l + (1 / height / 2), 1.0)\n                    bgcolor = Color.from_rgb(r1 * 255, g1 * 255, b1 * 255)\n                    color = Color.from_rgb(r2 * 255, g2 * 255, b2 * 255)\n                    yield Segment(\"\", Style(color=color, bgcolor=bgcolor))\n                yield Segment.line()\n\n    console = Console()\n    console.print(ColorBox())",
    "start_line": 83
  },
  {
    "file": "palette.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "from math import sqrt\nfrom functools import lru_cache\nfrom typing import Sequence, Tuple, TYPE_CHECKING\n\nfrom .color_triplet import ColorTriplet\n\nif TYPE_CHECKING:\n    from rich.table import Table\n\n\nclass Palette:\n    \"\"\"A palette of available colors.\"\"\"\n\n    def __init__(self, colors: Sequence[Tuple[int, int, int]]):\n        self._colors = colors\n\n    def __getitem__(self, number: int) -> ColorTriplet:\n        return ColorTriplet(*self._colors[number])\n\n    def __rich__(self) -> \"Table\":\n        from rich.color import Color\n        from rich.style import Style\n        from rich.text import Text\n        from rich.table import Table\n\n        table = Table(\n            \"index\",\n            \"RGB\",\n            \"Color\",\n            title=\"Palette\",\n            caption=f\"{len(self._colors)} colors\",\n            highlight=True,\n            caption_justify=\"right\",\n        )\n        for index, color in enumerate(self._colors):\n            table.add_row(\n                str(index),\n                repr(color),\n                Text(\" \" * 16, style=Style(bgcolor=Color.from_rgb(*color))),\n            )\n        return table\n\n    # This is somewhat inefficient and needs caching\n    @lru_cache(maxsize=1024)\n    def match(self, color: Tuple[int, int, int]) -> int:\n        \"\"\"Find a color from a palette that most closely matches a given color.\n\n        Args:\n            color (Tuple[int, int, int]): RGB components in range 0 > 255.\n\n        Returns:\n            int: Index of closes matching color.\n        \"\"\"\n        red1, green1, blue1 = color\n        _sqrt = sqrt\n        get_color = self._colors.__getitem__\n\n        def get_color_distance(index: int) -> float:\n            \"\"\"Get the distance to a color.\"\"\"\n            red2, green2, blue2 = get_color(index)\n            red_mean = (red1 + red2) // 2\n            red = red1 - red2\n            green = green1 - green2\n            blue = blue1 - blue2\n            return _sqrt(\n                (((512 + red_mean) * red * red) >> 8)\n                + 4 * green * green\n                + (((767 - red_mean) * blue * blue) >> 8)\n            )\n\n        min_index = min(range(len(self._colors)), key=get_color_distance)\n        return min_index\n\n\nif __name__ == \"__main__\":  # pragma: no cover\n    import colorsys\n    from typing import Iterable\n    from rich.color import Color\n    from rich.console import Console, ConsoleOptions\n    from rich.segment import Segment\n    from rich.style import Style\n\n    class ColorBox:\n        def __rich_console__(\n            self, console: Console, options: ConsoleOptions\n        ) -> Iterable[Segment]:\n            height = console.size.height - 3\n            for y in range(0, height):\n                for x in range(options.max_width):\n                    h = x / options.max_width\n                    l = y / (height + 1)\n                    r1, g1, b1 = colorsys.hls_to_rgb(h, l, 1.0)\n                    r2, g2, b2 = colorsys.hls_to_rgb(h, l + (1 / height / 2), 1.0)\n                    bgcolor = Color.from_rgb(r1 * 255, g1 * 255, b1 * 255)\n                    color = Color.from_rgb(r2 * 255, g2 * 255, b2 * 255)\n                    yield Segment(\"\", Style(color=color, bgcolor=bgcolor))\n                yield Segment.line()\n\n    console = Console()\n    console.print(ColorBox())\n",
    "start_line": 0
  },
  {
    "file": "markup.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "import re\nfrom ast import literal_eval\nfrom operator import attrgetter\nfrom typing import Callable, Iterable, List, Match, NamedTuple, Optional, Tuple, Union\nfrom ._emoji_replace import _emoji_replace\nfrom .emoji import EmojiVariant\nfrom .errors import MarkupError\nfrom .style import Style\nfrom .text import Span, Text",
    "start_line": 0
  },
  {
    "file": "markup.py",
    "type": "constants",
    "class": null,
    "method": null,
    "name": "module_constants",
    "content": "RE_TAGS = re.compile(\n    r\"\"\"((\\\\*)\\[([a-z#/@][^[]*?)])\"\"\",\n    re.VERBOSE,\n)\nRE_HANDLER = re.compile(r\"^([\\w.]*?)(\\(.*?\\))?$\")",
    "start_line": 11
  },
  {
    "file": "markup.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "Tag",
    "content": "class Tag(NamedTuple):\n    \"\"\"A tag in console markup.\"\"\"\n\n    name: str\n    \"\"\"The tag name. e.g. 'bold'.\"\"\"\n    parameters: Optional[str]\n    \"\"\"Any additional parameters after the name.\"\"\"",
    "start_line": 19
  },
  {
    "file": "markup.py",
    "type": "method",
    "class": "Tag",
    "method": "__str__",
    "name": "__str__",
    "content": "class Tag:\n    def __str__(self) -> str:\n        return (\n            self.name if self.parameters is None else f\"{self.name} {self.parameters}\"\n        )\n\n    @property",
    "start_line": 27
  },
  {
    "file": "markup.py",
    "type": "method",
    "class": "Tag",
    "method": "markup",
    "name": "markup",
    "content": "class Tag:\n    def markup(self) -> str:\n        \"\"\"Get the string representation of this tag.\"\"\"\n        return (\n            f\"[{self.name}]\"\n            if self.parameters is None\n            else f\"[{self.name}={self.parameters}]\"\n        )\n\n\n_ReStringMatch = Match[str]  # regex match object\n_ReSubCallable = Callable[[_ReStringMatch], str]  # Callable invoked by re.sub\n_EscapeSubMethod = Callable[[_ReSubCallable, str], str]  # Sub method of a compiled re",
    "start_line": 33
  },
  {
    "file": "markup.py",
    "type": "function",
    "class": null,
    "method": "escape",
    "name": "escape",
    "content": "def escape(\n    markup: str,\n    _escape: _EscapeSubMethod = re.compile(r\"(\\\\*)(\\[[a-z#/@][^[]*?])\").sub,\n) -> str:\n    \"\"\"Escapes text so that it won't be interpreted as markup.\n\n    Args:\n        markup (str): Content to be inserted in to markup.\n\n    Returns:\n        str: Markup with square brackets escaped.\n    \"\"\"",
    "start_line": 47
  },
  {
    "file": "markup.py",
    "type": "function",
    "class": null,
    "method": "escape_backslashes",
    "name": "escape_backslashes",
    "content": "def escape_backslashes(match: Match[str]) -> str:\n        \"\"\"Called by re.sub replace matches.\"\"\"\n        backslashes, text = match.groups()\n        return f\"{backslashes}{backslashes}\\\\{text}\"",
    "start_line": 60
  },
  {
    "file": "markup.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "markup = _escape(escape_backslashes, markup)\n    if markup.endswith(\"\\\\\") and not markup.endswith(\"\\\\\\\\\"):\n        return markup + \"\\\\\"\n    return markup",
    "start_line": 65
  },
  {
    "file": "markup.py",
    "type": "function",
    "class": null,
    "method": "_parse",
    "name": "_parse",
    "content": "def _parse(markup: str) -> Iterable[Tuple[int, Optional[str], Optional[Tag]]]:\n    \"\"\"Parse markup in to an iterable of tuples of (position, text, tag).\n\n    Args:\n        markup (str): A string containing console markup\n\n    \"\"\"",
    "start_line": 72
  },
  {
    "file": "markup.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "position = 0\n    _divmod = divmod\n    _Tag = Tag\n    for match in RE_TAGS.finditer(markup):\n        full_text, escapes, tag_text = match.groups()\n        start, end = match.span()\n        if start > position:\n            yield start, markup[position:start], None\n        if escapes:\n            backslashes, escaped = _divmod(len(escapes), 2)\n            if backslashes:",
    "start_line": 79
  },
  {
    "file": "markup.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# Literal backslashes\n                yield start, \"\\\\\" * backslashes, None\n                start += backslashes * 2\n            if escaped:\n                # Escape of tag\n                yield start, full_text[len(escapes) :], None",
    "start_line": 90
  },
  {
    "file": "markup.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "position = end\n                continue\n        text, equals, parameters = tag_text.partition(\"=\")\n        yield start, None, _Tag(text, parameters if equals else None)\n        position = end\n    if position < len(markup):\n        yield position, markup[position:], None",
    "start_line": 96
  },
  {
    "file": "markup.py",
    "type": "function",
    "class": null,
    "method": "render",
    "name": "render",
    "content": "def render(\n    markup: str,\n    style: Union[str, Style] = \"\",\n    emoji: bool = True,\n    emoji_variant: Optional[EmojiVariant] = None,\n) -> Text:\n    \"\"\"Render console markup in to a Text instance.\n\n    Args:\n        markup (str): A string containing console markup.\n        style: (Union[str, Style]): The style to use.\n        emoji (bool, optional): Also render emoji code. Defaults to True.\n        emoji_variant (str, optional): Optional emoji variant, either \"text\" or \"emoji\". Defaults to None.\n\n\n    Raises:\n        MarkupError: If there is a syntax error in the markup.\n\n    Returns:\n        Text: A test instance.\n    \"\"\"",
    "start_line": 105
  },
  {
    "file": "markup.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "emoji_replace = _emoji_replace\n    if \"[\" not in markup:\n        return Text(\n            emoji_replace(markup, default_variant=emoji_variant) if emoji else markup,\n            style=style,\n        )\n    text = Text(style=style)\n    append = text.append\n    normalize = Style.normalize\n    style_stack: List[Tuple[int, Tag]] = []\n    pop = style_stack.pop\n    spans: List[Span] = []\n    append_span = spans.append\n    _Span = Span\n    _Tag = Tag",
    "start_line": 126
  },
  {
    "file": "markup.py",
    "type": "function",
    "class": null,
    "method": "pop_style",
    "name": "pop_style",
    "content": "def pop_style(style_name: str) -> Tuple[int, Tag]:\n        \"\"\"Pop tag matching given style name.\"\"\"\n        for index, (_, tag) in enumerate(reversed(style_stack), 1):\n            if tag.name == style_name:\n                return pop(-index)\n        raise KeyError(style_name)\n\n    for position, plain_text, tag in _parse(markup):\n        if plain_text is not None:",
    "start_line": 145
  },
  {
    "file": "markup.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# Handle open brace escapes, where the brace is not part of a tag.",
    "start_line": 154
  },
  {
    "file": "markup.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "plain_text = plain_text.replace(\"\\\\[\", \"[\")\n            append(emoji_replace(plain_text) if emoji else plain_text)\n        elif tag is not None:\n            if tag.name.startswith(\"/\"):  # Closing tag\n                style_name = tag.name[1:].strip()\n                if style_name:  # explicit close\n                    style_name = normalize(style_name)\n                    try:\n                        start, open_tag = pop_style(style_name)\n                    except KeyError:\n                        raise MarkupError(\n                            f\"closing tag '{tag.markup}' at position {position} doesn't match any open tag\"\n                        ) from None\n                else:  # implicit close\n                    try:\n                        start, open_tag = pop()\n                    except IndexError:\n                        raise MarkupError(\n                            f\"closing tag '[/]' at position {position} has nothing to close\"\n                        ) from None\n                if open_tag.name.startswith(\"@\"):\n                    if open_tag.parameters:\n                        handler_name = \"\"\n                        parameters = open_tag.parameters.strip()\n                        handler_match = RE_HANDLER.match(parameters)\n                        if handler_match is not None:\n                            handler_name, match_parameters = handler_match.groups()\n                            parameters = (\n                                \"()\" if match_parameters is None else match_parameters\n                            )\n                        try:\n                            meta_params = literal_eval(parameters)\n                        except SyntaxError as error:\n                            raise MarkupError(\n                                f\"error parsing {parameters!r} in {open_tag.parameters!r}; {error.msg}\"\n                            )\n                        except Exception as error:\n                            raise MarkupError(\n                                f\"error parsing {open_tag.parameters!r}; {error}\"\n                            ) from None\n                        if handler_name:\n                            meta_params = (\n                                handler_name,\n                                meta_params\n                                if isinstance(meta_params, tuple)\n                                else (meta_params,),\n                            )\n                    else:\n                        meta_params = ()\n                    append_span(\n                        _Span(\n                            start, len(text), Style(meta={open_tag.name: meta_params})\n                        )\n                    )\n                else:\n                    append_span(_Span(start, len(text), str(open_tag)))\n            else:  # Opening tag\n                normalized_tag = _Tag(normalize(tag.name), tag.parameters)\n                style_stack.append((len(text), normalized_tag))\n    text_length = len(text)\n    while style_stack:\n        start, tag = style_stack.pop()\n        style = str(tag)\n        if style:\n            append_span(_Span(start, text_length, style))\n    text.spans = sorted(spans[::-1], key=attrgetter(\"start\"))\n    return text\nif __name__ == \"__main__\":  # pragma: no cover",
    "start_line": 155
  },
  {
    "file": "markup.py",
    "type": "constants",
    "class": null,
    "method": null,
    "name": "module_constants",
    "content": "MARKUP = [\n        \"[red]Hello World[/red]\",\n        \"[magenta]Hello [b]World[/b]\",\n        \"[bold]Bold[italic] bold and italic [/bold]italic[/italic]\",\n        \"Click [link=https://www.willmcgugan.com]here[/link] to visit my Blog\",\n        \":warning-emoji: [bold red blink] DANGER![/]\",\n    ]",
    "start_line": 234
  },
  {
    "file": "markup.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from rich import print\n    from rich.table import Table",
    "start_line": 242
  },
  {
    "file": "markup.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "grid = Table(\"Markup\", \"Result\", padding=(0, 1))\n    for markup in MARKUP:\n        grid.add_row(Text(markup), markup)\n    print(grid)",
    "start_line": 245
  },
  {
    "file": "markup.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "import re\nfrom ast import literal_eval\nfrom operator import attrgetter\nfrom typing import Callable, Iterable, List, Match, NamedTuple, Optional, Tuple, Union\n\nfrom ._emoji_replace import _emoji_replace\nfrom .emoji import EmojiVariant\nfrom .errors import MarkupError\nfrom .style import Style\nfrom .text import Span, Text\n\nRE_TAGS = re.compile(\n    r\"\"\"((\\\\*)\\[([a-z#/@][^[]*?)])\"\"\",\n    re.VERBOSE,\n)\n\nRE_HANDLER = re.compile(r\"^([\\w.]*?)(\\(.*?\\))?$\")\n\n\nclass Tag(NamedTuple):\n    \"\"\"A tag in console markup.\"\"\"\n\n    name: str\n    \"\"\"The tag name. e.g. 'bold'.\"\"\"\n    parameters: Optional[str]\n    \"\"\"Any additional parameters after the name.\"\"\"\n\n    def __str__(self) -> str:\n        return (\n            self.name if self.parameters is None else f\"{self.name} {self.parameters}\"\n        )\n\n    @property\n    def markup(self) -> str:\n        \"\"\"Get the string representation of this tag.\"\"\"\n        return (\n            f\"[{self.name}]\"\n            if self.parameters is None\n            else f\"[{self.name}={self.parameters}]\"\n        )\n\n\n_ReStringMatch = Match[str]  # regex match object\n_ReSubCallable = Callable[[_ReStringMatch], str]  # Callable invoked by re.sub\n_EscapeSubMethod = Callable[[_ReSubCallable, str], str]  # Sub method of a compiled re\n\n\ndef escape(\n    markup: str,\n    _escape: _EscapeSubMethod = re.compile(r\"(\\\\*)(\\[[a-z#/@][^[]*?])\").sub,\n) -> str:\n    \"\"\"Escapes text so that it won't be interpreted as markup.\n\n    Args:\n        markup (str): Content to be inserted in to markup.\n\n    Returns:\n        str: Markup with square brackets escaped.\n    \"\"\"\n\n    def escape_backslashes(match: Match[str]) -> str:\n        \"\"\"Called by re.sub replace matches.\"\"\"\n        backslashes, text = match.groups()\n        return f\"{backslashes}{backslashes}\\\\{text}\"\n\n    markup = _escape(escape_backslashes, markup)\n    if markup.endswith(\"\\\\\") and not markup.endswith(\"\\\\\\\\\"):\n        return markup + \"\\\\\"\n\n    return markup\n\n\ndef _parse(markup: str) -> Iterable[Tuple[int, Optional[str], Optional[Tag]]]:\n    \"\"\"Parse markup in to an iterable of tuples of (position, text, tag).\n\n    Args:\n        markup (str): A string containing console markup\n\n    \"\"\"\n    position = 0\n    _divmod = divmod\n    _Tag = Tag\n    for match in RE_TAGS.finditer(markup):\n        full_text, escapes, tag_text = match.groups()\n        start, end = match.span()\n        if start > position:\n            yield start, markup[position:start], None\n        if escapes:\n            backslashes, escaped = _divmod(len(escapes), 2)\n            if backslashes:\n                # Literal backslashes\n                yield start, \"\\\\\" * backslashes, None\n                start += backslashes * 2\n            if escaped:\n                # Escape of tag\n                yield start, full_text[len(escapes) :], None\n                position = end\n                continue\n        text, equals, parameters = tag_text.partition(\"=\")\n        yield start, None, _Tag(text, parameters if equals else None)\n        position = end\n    if position < len(markup):\n        yield position, markup[position:], None\n\n\ndef render(\n    markup: str,\n    style: Union[str, Style] = \"\",\n    emoji: bool = True,\n    emoji_variant: Optional[EmojiVariant] = None,\n) -> Text:\n    \"\"\"Render console markup in to a Text instance.\n\n    Args:\n        markup (str): A string containing console markup.\n        style: (Union[str, Style]): The style to use.\n        emoji (bool, optional): Also render emoji code. Defaults to True.\n        emoji_variant (str, optional): Optional emoji variant, either \"text\" or \"emoji\". Defaults to None.\n\n\n    Raises:\n        MarkupError: If there is a syntax error in the markup.\n\n    Returns:\n        Text: A test instance.\n    \"\"\"\n    emoji_replace = _emoji_replace\n    if \"[\" not in markup:\n        return Text(\n            emoji_replace(markup, default_variant=emoji_variant) if emoji else markup,\n            style=style,\n        )\n    text = Text(style=style)\n    append = text.append\n    normalize = Style.normalize\n\n    style_stack: List[Tuple[int, Tag]] = []\n    pop = style_stack.pop\n\n    spans: List[Span] = []\n    append_span = spans.append\n\n    _Span = Span\n    _Tag = Tag\n\n    def pop_style(style_name: str) -> Tuple[int, Tag]:\n        \"\"\"Pop tag matching given style name.\"\"\"\n        for index, (_, tag) in enumerate(reversed(style_stack), 1):\n            if tag.name == style_name:\n                return pop(-index)\n        raise KeyError(style_name)\n\n    for position, plain_text, tag in _parse(markup):\n        if plain_text is not None:\n            # Handle open brace escapes, where the brace is not part of a tag.\n            plain_text = plain_text.replace(\"\\\\[\", \"[\")\n            append(emoji_replace(plain_text) if emoji else plain_text)\n        elif tag is not None:\n            if tag.name.startswith(\"/\"):  # Closing tag\n                style_name = tag.name[1:].strip()\n\n                if style_name:  # explicit close\n                    style_name = normalize(style_name)\n                    try:\n                        start, open_tag = pop_style(style_name)\n                    except KeyError:\n                        raise MarkupError(\n                            f\"closing tag '{tag.markup}' at position {position} doesn't match any open tag\"\n                        ) from None\n                else:  # implicit close\n                    try:\n                        start, open_tag = pop()\n                    except IndexError:\n                        raise MarkupError(\n                            f\"closing tag '[/]' at position {position} has nothing to close\"\n                        ) from None\n\n                if open_tag.name.startswith(\"@\"):\n                    if open_tag.parameters:\n                        handler_name = \"\"\n                        parameters = open_tag.parameters.strip()\n                        handler_match = RE_HANDLER.match(parameters)\n                        if handler_match is not None:\n                            handler_name, match_parameters = handler_match.groups()\n                            parameters = (\n                                \"()\" if match_parameters is None else match_parameters\n                            )\n\n                        try:\n                            meta_params = literal_eval(parameters)\n                        except SyntaxError as error:\n                            raise MarkupError(\n                                f\"error parsing {parameters!r} in {open_tag.parameters!r}; {error.msg}\"\n                            )\n                        except Exception as error:\n                            raise MarkupError(\n                                f\"error parsing {open_tag.parameters!r}; {error}\"\n                            ) from None\n\n                        if handler_name:\n                            meta_params = (\n                                handler_name,\n                                meta_params\n                                if isinstance(meta_params, tuple)\n                                else (meta_params,),\n                            )\n\n                    else:\n                        meta_params = ()\n\n                    append_span(\n                        _Span(\n                            start, len(text), Style(meta={open_tag.name: meta_params})\n                        )\n                    )\n                else:\n                    append_span(_Span(start, len(text), str(open_tag)))\n\n            else:  # Opening tag\n                normalized_tag = _Tag(normalize(tag.name), tag.parameters)\n                style_stack.append((len(text), normalized_tag))\n\n    text_length = len(text)\n    while style_stack:\n        start, tag = style_stack.pop()\n        style = str(tag)\n        if style:\n            append_span(_Span(start, text_length, style))\n\n    text.spans = sorted(spans[::-1], key=attrgetter(\"start\"))\n    return text\n\n\nif __name__ == \"__main__\":  # pragma: no cover\n    MARKUP = [\n        \"[red]Hello World[/red]\",\n        \"[magenta]Hello [b]World[/b]\",\n        \"[bold]Bold[italic] bold and italic [/bold]italic[/italic]\",\n        \"Click [link=https://www.willmcgugan.com]here[/link] to visit my Blog\",\n        \":warning-emoji: [bold red blink] DANGER![/]\",\n    ]\n\n    from rich import print\n    from rich.table import Table\n\n    grid = Table(\"Markup\", \"Result\", padding=(0, 1))\n\n    for markup in MARKUP:\n        grid.add_row(Text(markup), markup)\n\n    print(grid)\n",
    "start_line": 0
  },
  {
    "file": "_ratio.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "import sys\nfrom fractions import Fraction\nfrom math import ceil\nfrom typing import cast, List, Optional, Sequence\nif sys.version_info >= (3, 8):\n    from typing import Protocol\nelse:\n    from typing_extensions import Protocol  # pragma: no cover",
    "start_line": 0
  },
  {
    "file": "_ratio.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "Edge",
    "content": "class Edge(Protocol):\n    \"\"\"Any object that defines an edge (such as Layout).\"\"\"\n\n    size: Optional[int] = None\n    ratio: int = 1\n    minimum_size: int = 1",
    "start_line": 11
  },
  {
    "file": "_ratio.py",
    "type": "function",
    "class": null,
    "method": "ratio_resolve",
    "name": "ratio_resolve",
    "content": "def ratio_resolve(total: int, edges: Sequence[Edge]) -> List[int]:\n    \"\"\"Divide total space to satisfy size, ratio, and minimum_size, constraints.\n\n    The returned list of integers should add up to total in most cases, unless it is\n    impossible to satisfy all the constraints. For instance, if there are two edges\n    with a minimum size of 20 each and `total` is 30 then the returned list will be\n    greater than total. In practice, this would mean that a Layout object would\n    clip the rows that would overflow the screen height.\n\n    Args:\n        total (int): Total number of characters.\n        edges (List[Edge]): Edges within total space.\n\n    Returns:\n        List[int]: Number of characters for each edge.\n    \"\"\"",
    "start_line": 19
  },
  {
    "file": "_ratio.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# Size of edge or None for yet to be determined",
    "start_line": 35
  },
  {
    "file": "_ratio.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "sizes = [(edge.size or None) for edge in edges]\n    _Fraction = Fraction",
    "start_line": 36
  },
  {
    "file": "_ratio.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# While any edges haven't been calculated\n    while None in sizes:\n        # Get flexible edges and index to map these back on to sizes list",
    "start_line": 40
  },
  {
    "file": "_ratio.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "flexible_edges = [\n            (index, edge)\n            for index, (size, edge) in enumerate(zip(sizes, edges))\n            if size is None\n        ]",
    "start_line": 43
  },
  {
    "file": "_ratio.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# Remaining space in total",
    "start_line": 48
  },
  {
    "file": "_ratio.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "remaining = total - sum(size or 0 for size in sizes)\n        if remaining <= 0:",
    "start_line": 49
  },
  {
    "file": "_ratio.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# No room for flexible edges\n            return [\n                ((edge.minimum_size or 1) if size is None else size)\n                for size, edge in zip(sizes, edges)\n            ]\n        # Calculate number of characters in a ratio portion",
    "start_line": 51
  },
  {
    "file": "_ratio.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "portion = _Fraction(\n            remaining, sum((edge.ratio or 1) for _, edge in flexible_edges)\n        )",
    "start_line": 57
  },
  {
    "file": "_ratio.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# If any edges will be less than their minimum, replace size with the minimum\n        for index, edge in flexible_edges:\n            if portion * edge.ratio <= edge.minimum_size:\n                sizes[index] = edge.minimum_size\n                # New fixed size will invalidate calculations, so we need to repeat the process\n                break\n        else:\n            # Distribute flexible space and compensate for rounding error\n            # Since edge sizes can only be integers we need to add the remainder\n            # to the following line",
    "start_line": 61
  },
  {
    "file": "_ratio.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "remainder = _Fraction(0)\n            for index, edge in flexible_edges:\n                size, remainder = divmod(portion * edge.ratio + remainder, 1)\n                sizes[index] = size\n            break",
    "start_line": 71
  },
  {
    "file": "_ratio.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# Sizes now contains integers only\n    return cast(List[int], sizes)",
    "start_line": 76
  },
  {
    "file": "_ratio.py",
    "type": "function",
    "class": null,
    "method": "ratio_reduce",
    "name": "ratio_reduce",
    "content": "def ratio_reduce(\n    total: int, ratios: List[int], maximums: List[int], values: List[int]\n) -> List[int]:\n    \"\"\"Divide an integer total in to parts based on ratios.\n\n    Args:\n        total (int): The total to divide.\n        ratios (List[int]): A list of integer ratios.\n        maximums (List[int]): List of maximums values for each slot.\n        values (List[int]): List of values\n\n    Returns:\n        List[int]: A list of integers guaranteed to sum to total.\n    \"\"\"",
    "start_line": 80
  },
  {
    "file": "_ratio.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "ratios = [ratio if _max else 0 for ratio, _max in zip(ratios, maximums)]\n    total_ratio = sum(ratios)\n    if not total_ratio:\n        return values[:]\n    total_remaining = total\n    result: List[int] = []\n    append = result.append\n    for ratio, maximum, value in zip(ratios, maximums, values):\n        if ratio and total_ratio > 0:\n            distributed = min(maximum, round(ratio * total_remaining / total_ratio))\n            append(value - distributed)\n            total_remaining -= distributed\n            total_ratio -= ratio\n        else:\n            append(value)\n    return result",
    "start_line": 94
  },
  {
    "file": "_ratio.py",
    "type": "function",
    "class": null,
    "method": "ratio_distribute",
    "name": "ratio_distribute",
    "content": "def ratio_distribute(\n    total: int, ratios: List[int], minimums: Optional[List[int]] = None\n) -> List[int]:\n    \"\"\"Distribute an integer total in to parts based on ratios.\n\n    Args:\n        total (int): The total to divide.\n        ratios (List[int]): A list of integer ratios.\n        minimums (List[int]): List of minimum values for each slot.\n\n    Returns:\n        List[int]: A list of integers guaranteed to sum to total.\n    \"\"\"\n    if minimums:",
    "start_line": 112
  },
  {
    "file": "_ratio.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "ratios = [ratio if _min else 0 for ratio, _min in zip(ratios, minimums)]\n    total_ratio = sum(ratios)\n    assert total_ratio > 0, \"Sum of ratios must be > 0\"\n    total_remaining = total\n    distributed_total: List[int] = []\n    append = distributed_total.append\n    if minimums is None:\n        _minimums = [0] * len(ratios)\n    else:\n        _minimums = minimums\n    for ratio, minimum in zip(ratios, _minimums):\n        if total_ratio > 0:\n            distributed = max(minimum, ceil(ratio * total_remaining / total_ratio))\n        else:\n            distributed = total_remaining\n        append(distributed)\n        total_ratio -= ratio\n        total_remaining -= distributed\n    return distributed_total\nif __name__ == \"__main__\":",
    "start_line": 126
  },
  {
    "file": "_ratio.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from dataclasses import dataclass\n    @dataclass",
    "start_line": 149
  },
  {
    "file": "_ratio.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "E",
    "content": "class E:\n        size: Optional[int] = None\n        ratio: int = 1\n        minimum_size: int = 1\n\n    resolved = ratio_resolve(110, [E(None, 1, 1), E(None, 1, 1), E(None, 1, 1)])\n    print(sum(resolved))",
    "start_line": 152
  },
  {
    "file": "_ratio.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "import sys\nfrom fractions import Fraction\nfrom math import ceil\nfrom typing import cast, List, Optional, Sequence\n\nif sys.version_info >= (3, 8):\n    from typing import Protocol\nelse:\n    from typing_extensions import Protocol  # pragma: no cover\n\n\nclass Edge(Protocol):\n    \"\"\"Any object that defines an edge (such as Layout).\"\"\"\n\n    size: Optional[int] = None\n    ratio: int = 1\n    minimum_size: int = 1\n\n\ndef ratio_resolve(total: int, edges: Sequence[Edge]) -> List[int]:\n    \"\"\"Divide total space to satisfy size, ratio, and minimum_size, constraints.\n\n    The returned list of integers should add up to total in most cases, unless it is\n    impossible to satisfy all the constraints. For instance, if there are two edges\n    with a minimum size of 20 each and `total` is 30 then the returned list will be\n    greater than total. In practice, this would mean that a Layout object would\n    clip the rows that would overflow the screen height.\n\n    Args:\n        total (int): Total number of characters.\n        edges (List[Edge]): Edges within total space.\n\n    Returns:\n        List[int]: Number of characters for each edge.\n    \"\"\"\n    # Size of edge or None for yet to be determined\n    sizes = [(edge.size or None) for edge in edges]\n\n    _Fraction = Fraction\n\n    # While any edges haven't been calculated\n    while None in sizes:\n        # Get flexible edges and index to map these back on to sizes list\n        flexible_edges = [\n            (index, edge)\n            for index, (size, edge) in enumerate(zip(sizes, edges))\n            if size is None\n        ]\n        # Remaining space in total\n        remaining = total - sum(size or 0 for size in sizes)\n        if remaining <= 0:\n            # No room for flexible edges\n            return [\n                ((edge.minimum_size or 1) if size is None else size)\n                for size, edge in zip(sizes, edges)\n            ]\n        # Calculate number of characters in a ratio portion\n        portion = _Fraction(\n            remaining, sum((edge.ratio or 1) for _, edge in flexible_edges)\n        )\n\n        # If any edges will be less than their minimum, replace size with the minimum\n        for index, edge in flexible_edges:\n            if portion * edge.ratio <= edge.minimum_size:\n                sizes[index] = edge.minimum_size\n                # New fixed size will invalidate calculations, so we need to repeat the process\n                break\n        else:\n            # Distribute flexible space and compensate for rounding error\n            # Since edge sizes can only be integers we need to add the remainder\n            # to the following line\n            remainder = _Fraction(0)\n            for index, edge in flexible_edges:\n                size, remainder = divmod(portion * edge.ratio + remainder, 1)\n                sizes[index] = size\n            break\n    # Sizes now contains integers only\n    return cast(List[int], sizes)\n\n\ndef ratio_reduce(\n    total: int, ratios: List[int], maximums: List[int], values: List[int]\n) -> List[int]:\n    \"\"\"Divide an integer total in to parts based on ratios.\n\n    Args:\n        total (int): The total to divide.\n        ratios (List[int]): A list of integer ratios.\n        maximums (List[int]): List of maximums values for each slot.\n        values (List[int]): List of values\n\n    Returns:\n        List[int]: A list of integers guaranteed to sum to total.\n    \"\"\"\n    ratios = [ratio if _max else 0 for ratio, _max in zip(ratios, maximums)]\n    total_ratio = sum(ratios)\n    if not total_ratio:\n        return values[:]\n    total_remaining = total\n    result: List[int] = []\n    append = result.append\n    for ratio, maximum, value in zip(ratios, maximums, values):\n        if ratio and total_ratio > 0:\n            distributed = min(maximum, round(ratio * total_remaining / total_ratio))\n            append(value - distributed)\n            total_remaining -= distributed\n            total_ratio -= ratio\n        else:\n            append(value)\n    return result\n\n\ndef ratio_distribute(\n    total: int, ratios: List[int], minimums: Optional[List[int]] = None\n) -> List[int]:\n    \"\"\"Distribute an integer total in to parts based on ratios.\n\n    Args:\n        total (int): The total to divide.\n        ratios (List[int]): A list of integer ratios.\n        minimums (List[int]): List of minimum values for each slot.\n\n    Returns:\n        List[int]: A list of integers guaranteed to sum to total.\n    \"\"\"\n    if minimums:\n        ratios = [ratio if _min else 0 for ratio, _min in zip(ratios, minimums)]\n    total_ratio = sum(ratios)\n    assert total_ratio > 0, \"Sum of ratios must be > 0\"\n\n    total_remaining = total\n    distributed_total: List[int] = []\n    append = distributed_total.append\n    if minimums is None:\n        _minimums = [0] * len(ratios)\n    else:\n        _minimums = minimums\n    for ratio, minimum in zip(ratios, _minimums):\n        if total_ratio > 0:\n            distributed = max(minimum, ceil(ratio * total_remaining / total_ratio))\n        else:\n            distributed = total_remaining\n        append(distributed)\n        total_ratio -= ratio\n        total_remaining -= distributed\n    return distributed_total\n\n\nif __name__ == \"__main__\":\n    from dataclasses import dataclass\n\n    @dataclass\n    class E:\n        size: Optional[int] = None\n        ratio: int = 1\n        minimum_size: int = 1\n\n    resolved = ratio_resolve(110, [E(None, 1, 1), E(None, 1, 1), E(None, 1, 1)])\n    print(sum(resolved))\n",
    "start_line": 0
  },
  {
    "file": "repr.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "import inspect\nfrom functools import partial\nfrom typing import (\n    Any,\n    Callable,\n    Iterable,\n    List,\n    Optional,\n    Tuple,\n    Type,\n    TypeVar,\n    Union,\n    overload,\n)",
    "start_line": 0
  },
  {
    "file": "repr.py",
    "type": "constants",
    "class": null,
    "method": null,
    "name": "module_constants",
    "content": "T = TypeVar(\"T\")\nResult = Iterable[Union[Any, Tuple[Any], Tuple[str, Any], Tuple[str, Any, Any]]]\nRichReprResult = Result",
    "start_line": 15
  },
  {
    "file": "repr.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "ReprError",
    "content": "class ReprError(Exception):\n    \"\"\"An error occurred when attempting to build a repr.\"\"\"\n\n\n@overload",
    "start_line": 22
  },
  {
    "file": "repr.py",
    "type": "function",
    "class": null,
    "method": "auto",
    "name": "auto",
    "content": "def auto(cls: Optional[Type[T]]) -> Type[T]:\n    ...\n\n\n@overload",
    "start_line": 27
  },
  {
    "file": "repr.py",
    "type": "function",
    "class": null,
    "method": "auto",
    "name": "auto",
    "content": "def auto(*, angular: bool = False) -> Callable[[Type[T]], Type[T]]:\n    ...",
    "start_line": 32
  },
  {
    "file": "repr.py",
    "type": "function",
    "class": null,
    "method": "auto",
    "name": "auto",
    "content": "def auto(\n    cls: Optional[Type[T]] = None, *, angular: Optional[bool] = None\n) -> Union[Type[T], Callable[[Type[T]], Type[T]]]:\n    \"\"\"Class decorator to create __repr__ from __rich_repr__\"\"\"",
    "start_line": 36
  },
  {
    "file": "repr.py",
    "type": "function",
    "class": null,
    "method": "do_replace",
    "name": "do_replace",
    "content": "def do_replace(cls: Type[T], angular: Optional[bool] = None) -> Type[T]:",
    "start_line": 41
  },
  {
    "file": "repr.py",
    "type": "function",
    "class": null,
    "method": "auto_repr",
    "name": "auto_repr",
    "content": "def auto_repr(self: T) -> str:\n            \"\"\"Create repr string from __rich_repr__\"\"\"\n            repr_str: List[str] = []",
    "start_line": 42
  },
  {
    "file": "repr.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "append = repr_str.append\n            angular: bool = getattr(self.__rich_repr__, \"angular\", False)  # type: ignore[attr-defined]\n            for arg in self.__rich_repr__():  # type: ignore[attr-defined]\n                if isinstance(arg, tuple):\n                    if len(arg) == 1:\n                        append(repr(arg[0]))\n                    else:\n                        key, value, *default = arg\n                        if key is None:\n                            append(repr(value))\n                        else:\n                            if default and default[0] == value:\n                                continue\n                            append(f\"{key}={value!r}\")\n                else:\n                    append(repr(arg))\n            if angular:\n                return f\"<{self.__class__.__name__} {' '.join(repr_str)}>\"\n            else:\n                return f\"{self.__class__.__name__}({', '.join(repr_str)})\"",
    "start_line": 45
  },
  {
    "file": "repr.py",
    "type": "function",
    "class": null,
    "method": "auto_rich_repr",
    "name": "auto_rich_repr",
    "content": "def auto_rich_repr(self: Type[T]) -> Result:\n            \"\"\"Auto generate __rich_rep__ from signature of __init__\"\"\"\n            try:",
    "start_line": 67
  },
  {
    "file": "repr.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "signature = inspect.signature(self.__init__)\n                for name, param in signature.parameters.items():\n                    if param.kind == param.POSITIONAL_ONLY:\n                        yield getattr(self, name)\n                    elif param.kind in (\n                        param.POSITIONAL_OR_KEYWORD,\n                        param.KEYWORD_ONLY,\n                    ):\n                        if param.default is param.empty:\n                            yield getattr(self, param.name)\n                        else:\n                            yield param.name, getattr(self, param.name), param.default\n            except Exception as error:\n                raise ReprError(\n                    f\"Failed to auto generate __rich_repr__; {error}\"\n                ) from None\n        if not hasattr(cls, \"__rich_repr__\"):\n            auto_rich_repr.__doc__ = \"Build a rich repr\"\n            cls.__rich_repr__ = auto_rich_repr  # type: ignore[attr-defined]\n        auto_repr.__doc__ = \"Return repr(self)\"\n        cls.__repr__ = auto_repr  # type: ignore[assignment]\n        if angular is not None:\n            cls.__rich_repr__.angular = angular  # type: ignore[attr-defined]\n        return cls\n    if cls is None:\n        return partial(do_replace, angular=angular)\n    else:\n        return do_replace(cls, angular=angular)\n@overload",
    "start_line": 70
  },
  {
    "file": "repr.py",
    "type": "function",
    "class": null,
    "method": "rich_repr",
    "name": "rich_repr",
    "content": "def rich_repr(cls: Optional[Type[T]]) -> Type[T]:\n    ...\n\n\n@overload",
    "start_line": 104
  },
  {
    "file": "repr.py",
    "type": "function",
    "class": null,
    "method": "rich_repr",
    "name": "rich_repr",
    "content": "def rich_repr(*, angular: bool = False) -> Callable[[Type[T]], Type[T]]:\n    ...",
    "start_line": 109
  },
  {
    "file": "repr.py",
    "type": "function",
    "class": null,
    "method": "rich_repr",
    "name": "rich_repr",
    "content": "def rich_repr(\n    cls: Optional[Type[T]] = None, *, angular: bool = False\n) -> Union[Type[T], Callable[[Type[T]], Type[T]]]:\n    if cls is None:\n        return auto(angular=angular)\n    else:\n        return auto(cls)\n\n\nif __name__ == \"__main__\":\n\n    @auto",
    "start_line": 113
  },
  {
    "file": "repr.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "Foo",
    "content": "class Foo:",
    "start_line": 125
  },
  {
    "file": "repr.py",
    "type": "method",
    "class": "Foo",
    "method": "__rich_repr__",
    "name": "__rich_repr__",
    "content": "class Foo:\n        def __rich_repr__(self) -> Result:\n            yield \"foo\"\n            yield \"bar\", {\"shopping\": [\"eggs\", \"ham\", \"pineapple\"]}\n            yield \"buy\", \"hand sanitizer\"\n\n    foo = Foo()",
    "start_line": 126
  },
  {
    "file": "repr.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from rich.console import Console\n    console = Console()\n    console.rule(\"Standard repr\")\n    console.print(foo)\n    console.print(foo, width=60)\n    console.print(foo, width=30)\n    console.rule(\"Angular repr\")\n    Foo.__rich_repr__.angular = True  # type: ignore[attr-defined]\n    console.print(foo)\n    console.print(foo, width=60)\n    console.print(foo, width=30)",
    "start_line": 132
  },
  {
    "file": "repr.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "import inspect\nfrom functools import partial\nfrom typing import (\n    Any,\n    Callable,\n    Iterable,\n    List,\n    Optional,\n    Tuple,\n    Type,\n    TypeVar,\n    Union,\n    overload,\n)\n\nT = TypeVar(\"T\")\n\n\nResult = Iterable[Union[Any, Tuple[Any], Tuple[str, Any], Tuple[str, Any, Any]]]\nRichReprResult = Result\n\n\nclass ReprError(Exception):\n    \"\"\"An error occurred when attempting to build a repr.\"\"\"\n\n\n@overload\ndef auto(cls: Optional[Type[T]]) -> Type[T]:\n    ...\n\n\n@overload\ndef auto(*, angular: bool = False) -> Callable[[Type[T]], Type[T]]:\n    ...\n\n\ndef auto(\n    cls: Optional[Type[T]] = None, *, angular: Optional[bool] = None\n) -> Union[Type[T], Callable[[Type[T]], Type[T]]]:\n    \"\"\"Class decorator to create __repr__ from __rich_repr__\"\"\"\n\n    def do_replace(cls: Type[T], angular: Optional[bool] = None) -> Type[T]:\n        def auto_repr(self: T) -> str:\n            \"\"\"Create repr string from __rich_repr__\"\"\"\n            repr_str: List[str] = []\n            append = repr_str.append\n\n            angular: bool = getattr(self.__rich_repr__, \"angular\", False)  # type: ignore[attr-defined]\n            for arg in self.__rich_repr__():  # type: ignore[attr-defined]\n                if isinstance(arg, tuple):\n                    if len(arg) == 1:\n                        append(repr(arg[0]))\n                    else:\n                        key, value, *default = arg\n                        if key is None:\n                            append(repr(value))\n                        else:\n                            if default and default[0] == value:\n                                continue\n                            append(f\"{key}={value!r}\")\n                else:\n                    append(repr(arg))\n            if angular:\n                return f\"<{self.__class__.__name__} {' '.join(repr_str)}>\"\n            else:\n                return f\"{self.__class__.__name__}({', '.join(repr_str)})\"\n\n        def auto_rich_repr(self: Type[T]) -> Result:\n            \"\"\"Auto generate __rich_rep__ from signature of __init__\"\"\"\n            try:\n                signature = inspect.signature(self.__init__)\n                for name, param in signature.parameters.items():\n                    if param.kind == param.POSITIONAL_ONLY:\n                        yield getattr(self, name)\n                    elif param.kind in (\n                        param.POSITIONAL_OR_KEYWORD,\n                        param.KEYWORD_ONLY,\n                    ):\n                        if param.default is param.empty:\n                            yield getattr(self, param.name)\n                        else:\n                            yield param.name, getattr(self, param.name), param.default\n            except Exception as error:\n                raise ReprError(\n                    f\"Failed to auto generate __rich_repr__; {error}\"\n                ) from None\n\n        if not hasattr(cls, \"__rich_repr__\"):\n            auto_rich_repr.__doc__ = \"Build a rich repr\"\n            cls.__rich_repr__ = auto_rich_repr  # type: ignore[attr-defined]\n\n        auto_repr.__doc__ = \"Return repr(self)\"\n        cls.__repr__ = auto_repr  # type: ignore[assignment]\n        if angular is not None:\n            cls.__rich_repr__.angular = angular  # type: ignore[attr-defined]\n        return cls\n\n    if cls is None:\n        return partial(do_replace, angular=angular)\n    else:\n        return do_replace(cls, angular=angular)\n\n\n@overload\ndef rich_repr(cls: Optional[Type[T]]) -> Type[T]:\n    ...\n\n\n@overload\ndef rich_repr(*, angular: bool = False) -> Callable[[Type[T]], Type[T]]:\n    ...\n\n\ndef rich_repr(\n    cls: Optional[Type[T]] = None, *, angular: bool = False\n) -> Union[Type[T], Callable[[Type[T]], Type[T]]]:\n    if cls is None:\n        return auto(angular=angular)\n    else:\n        return auto(cls)\n\n\nif __name__ == \"__main__\":\n\n    @auto\n    class Foo:\n        def __rich_repr__(self) -> Result:\n            yield \"foo\"\n            yield \"bar\", {\"shopping\": [\"eggs\", \"ham\", \"pineapple\"]}\n            yield \"buy\", \"hand sanitizer\"\n\n    foo = Foo()\n    from rich.console import Console\n\n    console = Console()\n\n    console.rule(\"Standard repr\")\n    console.print(foo)\n\n    console.print(foo, width=60)\n    console.print(foo, width=30)\n\n    console.rule(\"Angular repr\")\n    Foo.__rich_repr__.angular = True  # type: ignore[attr-defined]\n\n    console.print(foo)\n\n    console.print(foo, width=60)\n    console.print(foo, width=30)\n",
    "start_line": 0
  },
  {
    "file": "constrain.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from typing import Optional, TYPE_CHECKING\nfrom .jupyter import JupyterMixin\nfrom .measure import Measurement\nif TYPE_CHECKING:\n    from .console import Console, ConsoleOptions, RenderableType, RenderResult",
    "start_line": 0
  },
  {
    "file": "constrain.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "Constrain",
    "content": "class Constrain(JupyterMixin):\n    \"\"\"Constrain the width of a renderable to a given number of characters.\n\n    Args:\n        renderable (RenderableType): A renderable object.\n        width (int, optional): The maximum width (in characters) to render. Defaults to 80.\n    \"\"\"",
    "start_line": 9
  },
  {
    "file": "constrain.py",
    "type": "method",
    "class": "Constrain",
    "method": "__init__",
    "name": "__init__",
    "content": "class Constrain:\n    def __init__(self, renderable: \"RenderableType\", width: Optional[int] = 80) -> None:\n        self.renderable = renderable\n        self.width = width",
    "start_line": 17
  },
  {
    "file": "constrain.py",
    "type": "method",
    "class": "Constrain",
    "method": "__rich_console__",
    "name": "__rich_console__",
    "content": "class Constrain:\n    def __rich_console__(\n        self, console: \"Console\", options: \"ConsoleOptions\"\n    ) -> \"RenderResult\":\n        if self.width is None:\n            yield self.renderable\n        else:\n            child_options = options.update_width(min(self.width, options.max_width))\n            yield from console.render(self.renderable, child_options)",
    "start_line": 21
  },
  {
    "file": "constrain.py",
    "type": "method",
    "class": "Constrain",
    "method": "__rich_measure__",
    "name": "__rich_measure__",
    "content": "class Constrain:\n    def __rich_measure__(\n        self, console: \"Console\", options: \"ConsoleOptions\"\n    ) -> \"Measurement\":\n        if self.width is not None:\n            options = options.update_width(self.width)\n        measurement = Measurement.get(console, options, self.renderable)\n        return measurement",
    "start_line": 30
  },
  {
    "file": "constrain.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "from typing import Optional, TYPE_CHECKING\n\nfrom .jupyter import JupyterMixin\nfrom .measure import Measurement\n\nif TYPE_CHECKING:\n    from .console import Console, ConsoleOptions, RenderableType, RenderResult\n\n\nclass Constrain(JupyterMixin):\n    \"\"\"Constrain the width of a renderable to a given number of characters.\n\n    Args:\n        renderable (RenderableType): A renderable object.\n        width (int, optional): The maximum width (in characters) to render. Defaults to 80.\n    \"\"\"\n\n    def __init__(self, renderable: \"RenderableType\", width: Optional[int] = 80) -> None:\n        self.renderable = renderable\n        self.width = width\n\n    def __rich_console__(\n        self, console: \"Console\", options: \"ConsoleOptions\"\n    ) -> \"RenderResult\":\n        if self.width is None:\n            yield self.renderable\n        else:\n            child_options = options.update_width(min(self.width, options.max_width))\n            yield from console.render(self.renderable, child_options)\n\n    def __rich_measure__(\n        self, console: \"Console\", options: \"ConsoleOptions\"\n    ) -> \"Measurement\":\n        if self.width is not None:\n            options = options.update_width(self.width)\n        measurement = Measurement.get(console, options, self.renderable)\n        return measurement\n",
    "start_line": 0
  },
  {
    "file": "pretty.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "import builtins\nimport collections\nimport dataclasses\nimport inspect\nimport os\nimport reprlib\nimport sys\nfrom array import array\nfrom collections import Counter, UserDict, UserList, defaultdict, deque\nfrom dataclasses import dataclass, fields, is_dataclass\nfrom inspect import isclass\nfrom itertools import islice\nfrom types import MappingProxyType\nfrom typing import (\n    TYPE_CHECKING,\n    Any,\n    Callable,\n    DefaultDict,\n    Deque,\n    Dict,\n    Iterable,\n    List,\n    Optional,\n    Sequence,\n    Set,\n    Tuple,\n    Union,\n)\nfrom rich.repr import RichReprResult\ntry:\n    import attr as _attr_module",
    "start_line": 0
  },
  {
    "file": "pretty.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "_has_attrs = hasattr(_attr_module, \"ib\")\nexcept ImportError:  # pragma: no cover\n    _has_attrs = False",
    "start_line": 34
  },
  {
    "file": "pretty.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from . import get_console\nfrom ._loop import loop_last\nfrom ._pick import pick_bool\nfrom .abc import RichRenderable\nfrom .cells import cell_len\nfrom .highlighter import ReprHighlighter\nfrom .jupyter import JupyterMixin, JupyterRenderable\nfrom .measure import Measurement\nfrom .text import Text\nif TYPE_CHECKING:\n    from .console import (\n        Console,\n        ConsoleOptions,\n        HighlighterType,\n        JustifyMethod,\n        OverflowMethod,\n        RenderResult,\n    )",
    "start_line": 38
  },
  {
    "file": "pretty.py",
    "type": "function",
    "class": null,
    "method": "_is_attr_object",
    "name": "_is_attr_object",
    "content": "def _is_attr_object(obj: Any) -> bool:\n    \"\"\"Check if an object was created with attrs module.\"\"\"\n    return _has_attrs and _attr_module.has(type(obj))",
    "start_line": 59
  },
  {
    "file": "pretty.py",
    "type": "function",
    "class": null,
    "method": "_get_attr_fields",
    "name": "_get_attr_fields",
    "content": "def _get_attr_fields(obj: Any) -> Sequence[\"_attr_module.Attribute[Any]\"]:\n    \"\"\"Get fields for an attrs object.\"\"\"\n    return _attr_module.fields(type(obj)) if _has_attrs else []",
    "start_line": 64
  },
  {
    "file": "pretty.py",
    "type": "function",
    "class": null,
    "method": "_is_dataclass_repr",
    "name": "_is_dataclass_repr",
    "content": "def _is_dataclass_repr(obj: object) -> bool:\n    \"\"\"Check if an instance of a dataclass contains the default repr.\n\n    Args:\n        obj (object): A dataclass instance.\n\n    Returns:\n        bool: True if the default repr is used, False if there is a custom repr.\n    \"\"\"",
    "start_line": 69
  },
  {
    "file": "pretty.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# Digging in to a lot of internals here\n    # Catching all exceptions in case something is missing on a non CPython implementation\n    try:\n        return obj.__repr__.__code__.co_filename in (\n            dataclasses.__file__,\n            reprlib.__file__,\n        )\n    except Exception:  # pragma: no coverage\n        return False",
    "start_line": 78
  },
  {
    "file": "pretty.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "_dummy_namedtuple = collections.namedtuple(\"_dummy_namedtuple\", [])",
    "start_line": 89
  },
  {
    "file": "pretty.py",
    "type": "function",
    "class": null,
    "method": "_has_default_namedtuple_repr",
    "name": "_has_default_namedtuple_repr",
    "content": "def _has_default_namedtuple_repr(obj: object) -> bool:\n    \"\"\"Check if an instance of namedtuple contains the default repr\n\n    Args:\n        obj (object): A namedtuple\n\n    Returns:\n        bool: True if the default repr is used, False if there's a custom repr.\n    \"\"\"",
    "start_line": 92
  },
  {
    "file": "pretty.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "obj_file = None\n    try:\n        obj_file = inspect.getfile(obj.__repr__)\n    except (OSError, TypeError):",
    "start_line": 101
  },
  {
    "file": "pretty.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# OSError handles case where object is defined in __main__ scope, e.g. REPL - no filename available.\n        # TypeError trapped defensively, in case of object without filename slips through.\n        pass",
    "start_line": 105
  },
  {
    "file": "pretty.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "default_repr_file = inspect.getfile(_dummy_namedtuple.__repr__)\n    return obj_file == default_repr_file",
    "start_line": 108
  },
  {
    "file": "pretty.py",
    "type": "function",
    "class": null,
    "method": "_ipy_display_hook",
    "name": "_ipy_display_hook",
    "content": "def _ipy_display_hook(\n    value: Any,\n    console: Optional[\"Console\"] = None,\n    overflow: \"OverflowMethod\" = \"ignore\",\n    crop: bool = False,\n    indent_guides: bool = False,\n    max_length: Optional[int] = None,\n    max_string: Optional[int] = None,\n    max_depth: Optional[int] = None,\n    expand_all: bool = False,\n) -> Union[str, None]:",
    "start_line": 112
  },
  {
    "file": "pretty.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# needed here to prevent circular import:",
    "start_line": 123
  },
  {
    "file": "pretty.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from .console import ConsoleRenderable",
    "start_line": 124
  },
  {
    "file": "pretty.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# always skip rich generated jupyter renderables or None values\n    if _safe_isinstance(value, JupyterRenderable) or value is None:\n        return None",
    "start_line": 126
  },
  {
    "file": "pretty.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = console or get_console()\n    with console.capture() as capture:",
    "start_line": 130
  },
  {
    "file": "pretty.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# certain renderables should start on a new line\n        if _safe_isinstance(value, ConsoleRenderable):\n            console.line()\n        console.print(\n            (\n                value\n                if _safe_isinstance(value, RichRenderable)\n                else Pretty(\n                    value,",
    "start_line": 133
  },
  {
    "file": "pretty.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "overflow=overflow,\n                    indent_guides=indent_guides,\n                    max_length=max_length,\n                    max_string=max_string,\n                    max_depth=max_depth,\n                    expand_all=expand_all,\n                    margin=12,\n                )\n            ),\n            crop=crop,\n            new_line_start=True,\n            end=\"\",\n        )",
    "start_line": 142
  },
  {
    "file": "pretty.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# strip trailing newline, not usually part of a text repr\n    # I'm not sure if this should be prevented at a lower level\n    return capture.get().rstrip(\"\\n\")",
    "start_line": 155
  },
  {
    "file": "pretty.py",
    "type": "function",
    "class": null,
    "method": "_safe_isinstance",
    "name": "_safe_isinstance",
    "content": "def _safe_isinstance(\n    obj: object, class_or_tuple: Union[type, Tuple[type, ...]]\n) -> bool:\n    \"\"\"isinstance can fail in rare cases, for example types with no __class__\"\"\"\n    try:\n        return isinstance(obj, class_or_tuple)\n    except Exception:\n        return False",
    "start_line": 160
  },
  {
    "file": "pretty.py",
    "type": "function",
    "class": null,
    "method": "install",
    "name": "install",
    "content": "def install(\n    console: Optional[\"Console\"] = None,\n    overflow: \"OverflowMethod\" = \"ignore\",\n    crop: bool = False,\n    indent_guides: bool = False,\n    max_length: Optional[int] = None,\n    max_string: Optional[int] = None,\n    max_depth: Optional[int] = None,\n    expand_all: bool = False,\n) -> None:\n    \"\"\"Install automatic pretty printing in the Python REPL.\n\n    Args:\n        console (Console, optional): Console instance or ``None`` to use global console. Defaults to None.\n        overflow (Optional[OverflowMethod], optional): Overflow method. Defaults to \"ignore\".\n        crop (Optional[bool], optional): Enable cropping of long lines. Defaults to False.\n        indent_guides (bool, optional): Enable indentation guides. Defaults to False.\n        max_length (int, optional): Maximum length of containers before abbreviating, or None for no abbreviation.\n            Defaults to None.\n        max_string (int, optional): Maximum length of string before truncating, or None to disable. Defaults to None.\n        max_depth (int, optional): Maximum depth of nested data structures, or None for no maximum. Defaults to None.\n        expand_all (bool, optional): Expand all containers. Defaults to False.\n        max_frames (int): Maximum number of frames to show in a traceback, 0 for no maximum. Defaults to 100.\n    \"\"\"",
    "start_line": 170
  },
  {
    "file": "pretty.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from rich import get_console",
    "start_line": 194
  },
  {
    "file": "pretty.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = console or get_console()\n    assert console is not None",
    "start_line": 196
  },
  {
    "file": "pretty.py",
    "type": "function",
    "class": null,
    "method": "display_hook",
    "name": "display_hook",
    "content": "def display_hook(value: Any) -> None:\n        \"\"\"Replacement sys.displayhook which prettifies objects with Rich.\"\"\"\n        if value is not None:\n            assert console is not None\n            builtins._ = None  # type: ignore[attr-defined]\n            console.print(\n                (\n                    value\n                    if _safe_isinstance(value, RichRenderable)\n                    else Pretty(\n                        value,",
    "start_line": 199
  },
  {
    "file": "pretty.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "overflow=overflow,\n                        indent_guides=indent_guides,\n                        max_length=max_length,\n                        max_string=max_string,\n                        max_depth=max_depth,\n                        expand_all=expand_all,\n                    )\n                ),\n                crop=crop,\n            )\n            builtins._ = value  # type: ignore[attr-defined]\n    try:\n        ip = get_ipython()  # type: ignore[name-defined]\n    except NameError:\n        sys.displayhook = display_hook\n    else:",
    "start_line": 210
  },
  {
    "file": "pretty.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from IPython.core.formatters import BaseFormatter",
    "start_line": 227
  },
  {
    "file": "pretty.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "RichFormatter",
    "content": "class RichFormatter(BaseFormatter):  # type: ignore[misc]\n            pprint: bool = True",
    "start_line": 229
  },
  {
    "file": "pretty.py",
    "type": "method",
    "class": "RichFormatter",
    "method": "__call__",
    "name": "__call__",
    "content": "class RichFormatter:\n            def __call__(self, value: Any) -> Any:\n                if self.pprint:\n                    return _ipy_display_hook(\n                        value,\n                        console=get_console(),\n                        overflow=overflow,\n                        indent_guides=indent_guides,\n                        max_length=max_length,\n                        max_string=max_string,\n                        max_depth=max_depth,\n                        expand_all=expand_all,\n                    )\n                else:\n                    return repr(value)",
    "start_line": 232
  },
  {
    "file": "pretty.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# replace plain text formatter with rich formatter\n        rich_formatter = RichFormatter()\n        ip.display_formatter.formatters[\"text/plain\"] = rich_formatter",
    "start_line": 247
  },
  {
    "file": "pretty.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "Pretty",
    "content": "class Pretty(JupyterMixin):\n    \"\"\"A rich renderable that pretty prints an object.\n\n    Args:\n        _object (Any): An object to pretty print.\n        highlighter (HighlighterType, optional): Highlighter object to apply to result, or None for ReprHighlighter. Defaults to None.\n        indent_size (int, optional): Number of spaces in indent. Defaults to 4.\n        justify (JustifyMethod, optional): Justify method, or None for default. Defaults to None.\n        overflow (OverflowMethod, optional): Overflow method, or None for default. Defaults to None.\n        no_wrap (Optional[bool], optional): Disable word wrapping. Defaults to False.\n        indent_guides (bool, optional): Enable indentation guides. Defaults to False.\n        max_length (int, optional): Maximum length of containers before abbreviating, or None for no abbreviation.\n            Defaults to None.\n        max_string (int, optional): Maximum length of string before truncating, or None to disable. Defaults to None.\n        max_depth (int, optional): Maximum depth of nested data structures, or None for no maximum. Defaults to None.\n        expand_all (bool, optional): Expand all containers. Defaults to False.\n        margin (int, optional): Subtrace a margin from width to force containers to expand earlier. Defaults to 0.\n        insert_line (bool, optional): Insert a new line if the output has multiple new lines. Defaults to False.\n    \"\"\"",
    "start_line": 252
  },
  {
    "file": "pretty.py",
    "type": "method",
    "class": "Pretty",
    "method": "__init__",
    "name": "__init__",
    "content": "class Pretty:\n    def __init__(\n        self,\n        _object: Any,\n        highlighter: Optional[\"HighlighterType\"] = None,\n        *,\n        indent_size: int = 4,\n        justify: Optional[\"JustifyMethod\"] = None,\n        overflow: Optional[\"OverflowMethod\"] = None,\n        no_wrap: Optional[bool] = False,\n        indent_guides: bool = False,\n        max_length: Optional[int] = None,\n        max_string: Optional[int] = None,\n        max_depth: Optional[int] = None,\n        expand_all: bool = False,\n        margin: int = 0,\n        insert_line: bool = False,\n    ) -> None:\n        self._object = _object\n        self.highlighter = highlighter or ReprHighlighter()\n        self.indent_size = indent_size\n        self.justify: Optional[\"JustifyMethod\"] = justify\n        self.overflow: Optional[\"OverflowMethod\"] = overflow\n        self.no_wrap = no_wrap\n        self.indent_guides = indent_guides\n        self.max_length = max_length\n        self.max_string = max_string\n        self.max_depth = max_depth\n        self.expand_all = expand_all\n        self.margin = margin\n        self.insert_line = insert_line",
    "start_line": 272
  },
  {
    "file": "pretty.py",
    "type": "method",
    "class": "Pretty",
    "method": "__rich_console__",
    "name": "__rich_console__",
    "content": "class Pretty:\n    def __rich_console__(\n        self, console: \"Console\", options: \"ConsoleOptions\"\n    ) -> \"RenderResult\":\n        pretty_str = pretty_repr(\n            self._object,\n            max_width=options.max_width - self.margin,\n            indent_size=self.indent_size,\n            max_length=self.max_length,\n            max_string=self.max_string,\n            max_depth=self.max_depth,\n            expand_all=self.expand_all,\n        )\n        pretty_text = Text.from_ansi(\n            pretty_str,\n            justify=self.justify or options.justify,\n            overflow=self.overflow or options.overflow,\n            no_wrap=pick_bool(self.no_wrap, options.no_wrap),\n            style=\"pretty\",\n        )\n        pretty_text = (\n            self.highlighter(pretty_text)\n            if pretty_text\n            else Text(\n                f\"{type(self._object)}.__repr__ returned empty string\",\n                style=\"dim italic\",\n            )\n        )\n        if self.indent_guides and not options.ascii_only:\n            pretty_text = pretty_text.with_indent_guides(\n                self.indent_size, style=\"repr.indent\"\n            )\n        if self.insert_line and \"\\n\" in pretty_text:\n            yield \"\"\n        yield pretty_text",
    "start_line": 303
  },
  {
    "file": "pretty.py",
    "type": "method",
    "class": "Pretty",
    "method": "__rich_measure__",
    "name": "__rich_measure__",
    "content": "class Pretty:\n    def __rich_measure__(\n        self, console: \"Console\", options: \"ConsoleOptions\"\n    ) -> \"Measurement\":\n        pretty_str = pretty_repr(\n            self._object,\n            max_width=options.max_width,\n            indent_size=self.indent_size,\n            max_length=self.max_length,\n            max_string=self.max_string,\n            max_depth=self.max_depth,\n            expand_all=self.expand_all,\n        )\n        text_width = (\n            max(cell_len(line) for line in pretty_str.splitlines()) if pretty_str else 0\n        )\n        return Measurement(text_width, text_width)",
    "start_line": 338
  },
  {
    "file": "pretty.py",
    "type": "function",
    "class": null,
    "method": "_get_braces_for_defaultdict",
    "name": "_get_braces_for_defaultdict",
    "content": "def _get_braces_for_defaultdict(_object: DefaultDict[Any, Any]) -> Tuple[str, str, str]:\n    return (\n        f\"defaultdict({_object.default_factory!r}, {{\",\n        \"})\",\n        f\"defaultdict({_object.default_factory!r}, {{}})\",\n    )",
    "start_line": 356
  },
  {
    "file": "pretty.py",
    "type": "function",
    "class": null,
    "method": "_get_braces_for_deque",
    "name": "_get_braces_for_deque",
    "content": "def _get_braces_for_deque(_object: Deque[Any]) -> Tuple[str, str, str]:\n    if _object.maxlen is None:\n        return (\"deque([\", \"])\", \"deque()\")\n    return (\n        \"deque([\",\n        f\"], maxlen={_object.maxlen})\",\n        f\"deque(maxlen={_object.maxlen})\",\n    )",
    "start_line": 364
  },
  {
    "file": "pretty.py",
    "type": "function",
    "class": null,
    "method": "_get_braces_for_array",
    "name": "_get_braces_for_array",
    "content": "def _get_braces_for_array(_object: \"array[Any]\") -> Tuple[str, str, str]:\n    return (f\"array({_object.typecode!r}, [\", \"])\", f\"array({_object.typecode!r})\")\n\n\n_BRACES: Dict[type, Callable[[Any], Tuple[str, str, str]]] = {\n    os._Environ: lambda _object: (\"environ({\", \"})\", \"environ({})\"),\n    array: _get_braces_for_array,\n    defaultdict: _get_braces_for_defaultdict,\n    Counter: lambda _object: (\"Counter({\", \"})\", \"Counter()\"),\n    deque: _get_braces_for_deque,\n    dict: lambda _object: (\"{\", \"}\", \"{}\"),\n    UserDict: lambda _object: (\"{\", \"}\", \"{}\"),\n    frozenset: lambda _object: (\"frozenset({\", \"})\", \"frozenset()\"),\n    list: lambda _object: (\"[\", \"]\", \"[]\"),\n    UserList: lambda _object: (\"[\", \"]\", \"[]\"),\n    set: lambda _object: (\"{\", \"}\", \"set()\"),\n    tuple: lambda _object: (\"(\", \")\", \"()\"),\n    MappingProxyType: lambda _object: (\"mappingproxy({\", \"})\", \"mappingproxy({})\"),\n}",
    "start_line": 374
  },
  {
    "file": "pretty.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "_CONTAINERS = tuple(_BRACES.keys())\n_MAPPING_CONTAINERS = (dict, os._Environ, MappingProxyType, UserDict)",
    "start_line": 393
  },
  {
    "file": "pretty.py",
    "type": "function",
    "class": null,
    "method": "is_expandable",
    "name": "is_expandable",
    "content": "def is_expandable(obj: Any) -> bool:\n    \"\"\"Check if an object may be expanded by pretty print.\"\"\"\n    return (\n        _safe_isinstance(obj, _CONTAINERS)\n        or (is_dataclass(obj))\n        or (hasattr(obj, \"__rich_repr__\"))\n        or _is_attr_object(obj)\n    ) and not isclass(obj)\n\n\n@dataclass",
    "start_line": 397
  },
  {
    "file": "pretty.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "Node",
    "content": "class Node:\n    \"\"\"A node in a repr tree. May be atomic or a container.\"\"\"\n\n    key_repr: str = \"\"\n    value_repr: str = \"\"\n    open_brace: str = \"\"\n    close_brace: str = \"\"\n    empty: str = \"\"\n    last: bool = False\n    is_tuple: bool = False\n    is_namedtuple: bool = False\n    children: Optional[List[\"Node\"]] = None\n    key_separator: str = \": \"\n    separator: str = \", \"",
    "start_line": 408
  },
  {
    "file": "pretty.py",
    "type": "method",
    "class": "Node",
    "method": "iter_tokens",
    "name": "iter_tokens",
    "content": "class Node:\n    def iter_tokens(self) -> Iterable[str]:\n        \"\"\"Generate tokens for this node.\"\"\"\n        if self.key_repr:\n            yield self.key_repr\n            yield self.key_separator\n        if self.value_repr:\n            yield self.value_repr\n        elif self.children is not None:\n            if self.children:\n                yield self.open_brace\n                if self.is_tuple and not self.is_namedtuple and len(self.children) == 1:\n                    yield from self.children[0].iter_tokens()\n                    yield \",\"\n                else:\n                    for child in self.children:\n                        yield from child.iter_tokens()\n                        if not child.last:\n                            yield self.separator\n                yield self.close_brace\n            else:\n                yield self.empty",
    "start_line": 423
  },
  {
    "file": "pretty.py",
    "type": "method",
    "class": "Node",
    "method": "check_length",
    "name": "check_length",
    "content": "class Node:\n    def check_length(self, start_length: int, max_length: int) -> bool:\n        \"\"\"Check the length fits within a limit.\n\n        Args:\n            start_length (int): Starting length of the line (indent, prefix, suffix).\n            max_length (int): Maximum length.\n\n        Returns:\n            bool: True if the node can be rendered within max length, otherwise False.\n        \"\"\"\n        total_length = start_length\n        for token in self.iter_tokens():\n            total_length += cell_len(token)\n            if total_length > max_length:\n                return False\n        return True",
    "start_line": 445
  },
  {
    "file": "pretty.py",
    "type": "method",
    "class": "Node",
    "method": "__str__",
    "name": "__str__",
    "content": "class Node:\n    def __str__(self) -> str:\n        repr_text = \"\".join(self.iter_tokens())\n        return repr_text",
    "start_line": 462
  },
  {
    "file": "pretty.py",
    "type": "method",
    "class": "Node",
    "method": "render",
    "name": "render",
    "content": "class Node:\n    def render(\n        self, max_width: int = 80, indent_size: int = 4, expand_all: bool = False\n    ) -> str:\n        \"\"\"Render the node to a pretty repr.\n\n        Args:\n            max_width (int, optional): Maximum width of the repr. Defaults to 80.\n            indent_size (int, optional): Size of indents. Defaults to 4.\n            expand_all (bool, optional): Expand all levels. Defaults to False.\n\n        Returns:\n            str: A repr string of the original object.\n        \"\"\"\n        lines = [_Line(node=self, is_root=True)]\n        line_no = 0\n        while line_no < len(lines):\n            line = lines[line_no]\n            if line.expandable and not line.expanded:\n                if expand_all or not line.check_length(max_width):\n                    lines[line_no : line_no + 1] = line.expand(indent_size)\n            line_no += 1\n\n        repr_str = \"\\n\".join(str(line) for line in lines)\n        return repr_str\n\n\n@dataclass",
    "start_line": 466
  },
  {
    "file": "pretty.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "_Line",
    "content": "class _Line:\n    \"\"\"A line in repr output.\"\"\"\n\n    parent: Optional[\"_Line\"] = None\n    is_root: bool = False\n    node: Optional[Node] = None\n    text: str = \"\"\n    suffix: str = \"\"\n    whitespace: str = \"\"\n    expanded: bool = False\n    last: bool = False\n\n    @property",
    "start_line": 493
  },
  {
    "file": "pretty.py",
    "type": "method",
    "class": "_Line",
    "method": "expandable",
    "name": "expandable",
    "content": "class _Line:\n    def expandable(self) -> bool:\n        \"\"\"Check if the line may be expanded.\"\"\"\n        return bool(self.node is not None and self.node.children)",
    "start_line": 506
  },
  {
    "file": "pretty.py",
    "type": "method",
    "class": "_Line",
    "method": "check_length",
    "name": "check_length",
    "content": "class _Line:\n    def check_length(self, max_length: int) -> bool:\n        \"\"\"Check this line fits within a given number of cells.\"\"\"\n        start_length = (\n            len(self.whitespace) + cell_len(self.text) + cell_len(self.suffix)\n        )\n        assert self.node is not None\n        return self.node.check_length(start_length, max_length)",
    "start_line": 510
  },
  {
    "file": "pretty.py",
    "type": "method",
    "class": "_Line",
    "method": "expand",
    "name": "expand",
    "content": "class _Line:\n    def expand(self, indent_size: int) -> Iterable[\"_Line\"]:\n        \"\"\"Expand this line by adding children on their own line.\"\"\"\n        node = self.node\n        assert node is not None\n        whitespace = self.whitespace\n        assert node.children\n        if node.key_repr:\n            new_line = yield _Line(\n                text=f\"{node.key_repr}{node.key_separator}{node.open_brace}\",\n                whitespace=whitespace,\n            )\n        else:\n            new_line = yield _Line(text=node.open_brace, whitespace=whitespace)\n        child_whitespace = self.whitespace + \" \" * indent_size\n        tuple_of_one = node.is_tuple and len(node.children) == 1\n        for last, child in loop_last(node.children):\n            separator = \",\" if tuple_of_one else node.separator\n            line = _Line(\n                parent=new_line,\n                node=child,\n                whitespace=child_whitespace,\n                suffix=separator,\n                last=last and not tuple_of_one,\n            )\n            yield line\n\n        yield _Line(\n            text=node.close_brace,\n            whitespace=whitespace,\n            suffix=self.suffix,\n            last=self.last,\n        )",
    "start_line": 518
  },
  {
    "file": "pretty.py",
    "type": "method",
    "class": "_Line",
    "method": "__str__",
    "name": "__str__",
    "content": "class _Line:\n    def __str__(self) -> str:\n        if self.last:\n            return f\"{self.whitespace}{self.text}{self.node or ''}\"\n        else:\n            return (\n                f\"{self.whitespace}{self.text}{self.node or ''}{self.suffix.rstrip()}\"\n            )",
    "start_line": 551
  },
  {
    "file": "pretty.py",
    "type": "function",
    "class": null,
    "method": "_is_namedtuple",
    "name": "_is_namedtuple",
    "content": "def _is_namedtuple(obj: Any) -> bool:\n    \"\"\"Checks if an object is most likely a namedtuple. It is possible\n    to craft an object that passes this check and isn't a namedtuple, but\n    there is only a minuscule chance of this happening unintentionally.\n\n    Args:\n        obj (Any): The object to test\n\n    Returns:\n        bool: True if the object is a namedtuple. False otherwise.\n    \"\"\"\n    try:",
    "start_line": 560
  },
  {
    "file": "pretty.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "fields = getattr(obj, \"_fields\", None)\n    except Exception:",
    "start_line": 572
  },
  {
    "file": "pretty.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# Being very defensive - if we cannot get the attr then its not a namedtuple\n        return False\n    return isinstance(obj, tuple) and isinstance(fields, tuple)",
    "start_line": 574
  },
  {
    "file": "pretty.py",
    "type": "function",
    "class": null,
    "method": "traverse",
    "name": "traverse",
    "content": "def traverse(\n    _object: Any,\n    max_length: Optional[int] = None,\n    max_string: Optional[int] = None,\n    max_depth: Optional[int] = None,\n) -> Node:\n    \"\"\"Traverse object and generate a tree.\n\n    Args:\n        _object (Any): Object to be traversed.\n        max_length (int, optional): Maximum length of containers before abbreviating, or None for no abbreviation.\n            Defaults to None.\n        max_string (int, optional): Maximum length of string before truncating, or None to disable truncating.\n            Defaults to None.\n        max_depth (int, optional): Maximum depth of data structures, or None for no maximum.\n            Defaults to None.\n\n    Returns:\n        Node: The root of a tree structure which can be used to render a pretty repr.\n    \"\"\"",
    "start_line": 579
  },
  {
    "file": "pretty.py",
    "type": "function",
    "class": null,
    "method": "to_repr",
    "name": "to_repr",
    "content": "def to_repr(obj: Any) -> str:\n        \"\"\"Get repr string for an object, but catch errors.\"\"\"\n        if (\n            max_string is not None\n            and _safe_isinstance(obj, (bytes, str))\n            and len(obj) > max_string\n        ):",
    "start_line": 600
  },
  {
    "file": "pretty.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "truncated = len(obj) - max_string\n            obj_repr = f\"{obj[:max_string]!r}+{truncated}\"\n        else:\n            try:\n                obj_repr = repr(obj)\n            except Exception as error:\n                obj_repr = f\"<repr-error {str(error)!r}>\"\n        return obj_repr\n    visited_ids: Set[int] = set()\n    push_visited = visited_ids.add\n    pop_visited = visited_ids.remove",
    "start_line": 607
  },
  {
    "file": "pretty.py",
    "type": "function",
    "class": null,
    "method": "_traverse",
    "name": "_traverse",
    "content": "def _traverse(obj: Any, root: bool = False, depth: int = 0) -> Node:\n        \"\"\"Walk the object depth first.\"\"\"",
    "start_line": 620
  },
  {
    "file": "pretty.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "obj_id = id(obj)\n        if obj_id in visited_ids:",
    "start_line": 623
  },
  {
    "file": "pretty.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# Recursion detected\n            return Node(value_repr=\"...\")",
    "start_line": 625
  },
  {
    "file": "pretty.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "obj_type = type(obj)\n        children: List[Node]\n        reached_max_depth = max_depth is not None and depth >= max_depth",
    "start_line": 628
  },
  {
    "file": "pretty.py",
    "type": "function",
    "class": null,
    "method": "iter_rich_args",
    "name": "iter_rich_args",
    "content": "def iter_rich_args(rich_args: Any) -> Iterable[Union[Any, Tuple[str, Any]]]:\n            for arg in rich_args:\n                if _safe_isinstance(arg, tuple):\n                    if len(arg) == 3:\n                        key, child, default = arg\n                        if default == child:\n                            continue\n                        yield key, child\n                    elif len(arg) == 2:\n                        key, child = arg\n                        yield key, child\n                    elif len(arg) == 1:\n                        yield arg[0]\n                else:\n                    yield arg\n\n        try:",
    "start_line": 632
  },
  {
    "file": "pretty.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "fake_attributes = hasattr(\n                obj, \"awehoi234_wdfjwljet234_234wdfoijsdfmmnxpi492\"\n            )\n        except Exception:\n            fake_attributes = False\n        rich_repr_result: Optional[RichReprResult] = None\n        if not fake_attributes:\n            try:\n                if hasattr(obj, \"__rich_repr__\") and not isclass(obj):\n                    rich_repr_result = obj.__rich_repr__()\n            except Exception:\n                pass\n        if rich_repr_result is not None:\n            push_visited(obj_id)\n            angular = getattr(obj.__rich_repr__, \"angular\", False)\n            args = list(iter_rich_args(rich_repr_result))\n            class_name = obj.__class__.__name__\n            if args:\n                children = []\n                append = children.append\n                if reached_max_depth:\n                    if angular:\n                        node = Node(value_repr=f\"<{class_name}...>\")\n                    else:\n                        node = Node(value_repr=f\"{class_name}(...)\")\n                else:\n                    if angular:\n                        node = Node(\n                            open_brace=f\"<{class_name} \",\n                            close_brace=\">\",\n                            children=children,\n                            last=root,\n                            separator=\" \",\n                        )\n                    else:\n                        node = Node(\n                            open_brace=f\"{class_name}(\",\n                            close_brace=\")\",\n                            children=children,\n                            last=root,\n                        )\n                    for last, arg in loop_last(args):\n                        if _safe_isinstance(arg, tuple):\n                            key, child = arg\n                            child_node = _traverse(child, depth=depth + 1)\n                            child_node.last = last\n                            child_node.key_repr = key\n                            child_node.key_separator = \"=\"\n                            append(child_node)\n                        else:\n                            child_node = _traverse(arg, depth=depth + 1)\n                            child_node.last = last\n                            append(child_node)\n            else:\n                node = Node(\n                    value_repr=f\"<{class_name}>\" if angular else f\"{class_name}()\",\n                    children=[],\n                    last=root,\n                )\n            pop_visited(obj_id)\n        elif _is_attr_object(obj) and not fake_attributes:\n            push_visited(obj_id)\n            children = []\n            append = children.append\n            attr_fields = _get_attr_fields(obj)\n            if attr_fields:\n                if reached_max_depth:\n                    node = Node(value_repr=f\"{obj.__class__.__name__}(...)\")\n                else:\n                    node = Node(\n                        open_brace=f\"{obj.__class__.__name__}(\",\n                        close_brace=\")\",\n                        children=children,\n                        last=root,\n                    )",
    "start_line": 649
  },
  {
    "file": "pretty.py",
    "type": "function",
    "class": null,
    "method": "iter_attrs",
    "name": "iter_attrs",
    "content": "def iter_attrs() -> (\n                        Iterable[Tuple[str, Any, Optional[Callable[[Any], str]]]]\n                    ):\n                        \"\"\"Iterate over attr fields and values.\"\"\"\n                        for attr in attr_fields:\n                            if attr.repr:\n                                try:",
    "start_line": 730
  },
  {
    "file": "pretty.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "value = getattr(obj, attr.name)\n                                except Exception as error:",
    "start_line": 737
  },
  {
    "file": "pretty.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# Can happen, albeit rarely\n                                    yield (attr.name, error, None)\n                                else:\n                                    yield (\n                                        attr.name,\n                                        value,\n                                        attr.repr if callable(attr.repr) else None,\n                                    )\n                    for last, (name, value, repr_callable) in loop_last(iter_attrs()):\n                        if repr_callable:",
    "start_line": 739
  },
  {
    "file": "pretty.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "child_node = Node(value_repr=str(repr_callable(value)))\n                        else:\n                            child_node = _traverse(value, depth=depth + 1)\n                        child_node.last = last\n                        child_node.key_repr = name\n                        child_node.key_separator = \"=\"\n                        append(child_node)\n            else:\n                node = Node(\n                    value_repr=f\"{obj.__class__.__name__}()\", children=[], last=root\n                )\n            pop_visited(obj_id)\n        elif (\n            is_dataclass(obj)\n            and not _safe_isinstance(obj, type)\n            and not fake_attributes\n            and _is_dataclass_repr(obj)\n        ):\n            push_visited(obj_id)\n            children = []\n            append = children.append\n            if reached_max_depth:\n                node = Node(value_repr=f\"{obj.__class__.__name__}(...)\")\n            else:\n                node = Node(\n                    open_brace=f\"{obj.__class__.__name__}(\",\n                    close_brace=\")\",\n                    children=children,\n                    last=root,\n                    empty=f\"{obj.__class__.__name__}()\",\n                )\n                for last, field in loop_last(\n                    field\n                    for field in fields(obj)\n                    if field.repr and hasattr(obj, field.name)\n                ):\n                    child_node = _traverse(getattr(obj, field.name), depth=depth + 1)\n                    child_node.key_repr = field.name\n                    child_node.last = last\n                    child_node.key_separator = \"=\"\n                    append(child_node)\n            pop_visited(obj_id)\n        elif _is_namedtuple(obj) and _has_default_namedtuple_repr(obj):\n            push_visited(obj_id)\n            class_name = obj.__class__.__name__\n            if reached_max_depth:",
    "start_line": 750
  },
  {
    "file": "pretty.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# If we've reached the max depth, we still show the class name, but not its contents",
    "start_line": 798
  },
  {
    "file": "pretty.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "node = Node(\n                    value_repr=f\"{class_name}(...)\",\n                )\n            else:\n                children = []\n                append = children.append\n                node = Node(\n                    open_brace=f\"{class_name}(\",\n                    close_brace=\")\",\n                    children=children,\n                    empty=f\"{class_name}()\",\n                )\n                for last, (key, value) in loop_last(obj._asdict().items()):\n                    child_node = _traverse(value, depth=depth + 1)\n                    child_node.key_repr = key\n                    child_node.last = last\n                    child_node.key_separator = \"=\"\n                    append(child_node)\n            pop_visited(obj_id)\n        elif _safe_isinstance(obj, _CONTAINERS):\n            for container_type in _CONTAINERS:\n                if _safe_isinstance(obj, container_type):\n                    obj_type = container_type\n                    break\n            push_visited(obj_id)\n            open_brace, close_brace, empty = _BRACES[obj_type](obj)\n            if reached_max_depth:\n                node = Node(value_repr=f\"{open_brace}...{close_brace}\")\n            elif obj_type.__repr__ != type(obj).__repr__:\n                node = Node(value_repr=to_repr(obj), last=root)\n            elif obj:\n                children = []\n                node = Node(\n                    open_brace=open_brace,\n                    close_brace=close_brace,\n                    children=children,\n                    last=root,\n                )\n                append = children.append\n                num_items = len(obj)\n                last_item_index = num_items - 1\n                if _safe_isinstance(obj, _MAPPING_CONTAINERS):\n                    iter_items = iter(obj.items())\n                    if max_length is not None:\n                        iter_items = islice(iter_items, max_length)\n                    for index, (key, child) in enumerate(iter_items):\n                        child_node = _traverse(child, depth=depth + 1)\n                        child_node.key_repr = to_repr(key)\n                        child_node.last = index == last_item_index\n                        append(child_node)\n                else:\n                    iter_values = iter(obj)\n                    if max_length is not None:\n                        iter_values = islice(iter_values, max_length)\n                    for index, child in enumerate(iter_values):\n                        child_node = _traverse(child, depth=depth + 1)\n                        child_node.last = index == last_item_index\n                        append(child_node)\n                if max_length is not None and num_items > max_length:\n                    append(Node(value_repr=f\"... +{num_items - max_length}\", last=True))\n            else:\n                node = Node(empty=empty, children=[], last=root)\n            pop_visited(obj_id)\n        else:\n            node = Node(value_repr=to_repr(obj), last=root)\n        node.is_tuple = type(obj) == tuple\n        node.is_namedtuple = _is_namedtuple(obj)\n        return node\n    node = _traverse(_object, root=True)\n    return node",
    "start_line": 799
  },
  {
    "file": "pretty.py",
    "type": "function",
    "class": null,
    "method": "pretty_repr",
    "name": "pretty_repr",
    "content": "def pretty_repr(\n    _object: Any,\n    *,\n    max_width: int = 80,\n    indent_size: int = 4,\n    max_length: Optional[int] = None,\n    max_string: Optional[int] = None,\n    max_depth: Optional[int] = None,\n    expand_all: bool = False,\n) -> str:\n    \"\"\"Prettify repr string by expanding on to new lines to fit within a given width.\n\n    Args:\n        _object (Any): Object to repr.\n        max_width (int, optional): Desired maximum width of repr string. Defaults to 80.\n        indent_size (int, optional): Number of spaces to indent. Defaults to 4.\n        max_length (int, optional): Maximum length of containers before abbreviating, or None for no abbreviation.\n            Defaults to None.\n        max_string (int, optional): Maximum length of string before truncating, or None to disable truncating.\n            Defaults to None.\n        max_depth (int, optional): Maximum depth of nested data structure, or None for no depth.\n            Defaults to None.\n        expand_all (bool, optional): Expand all containers regardless of available width. Defaults to False.\n\n    Returns:\n        str: A possibly multi-line representation of the object.\n    \"\"\"\n\n    if _safe_isinstance(_object, Node):",
    "start_line": 877
  },
  {
    "file": "pretty.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "node = _object\n    else:\n        node = traverse(\n            _object, max_length=max_length, max_string=max_string, max_depth=max_depth\n        )\n    repr_str: str = node.render(\n        max_width=max_width, indent_size=indent_size, expand_all=expand_all\n    )\n    return repr_str",
    "start_line": 906
  },
  {
    "file": "pretty.py",
    "type": "function",
    "class": null,
    "method": "pprint",
    "name": "pprint",
    "content": "def pprint(\n    _object: Any,\n    *,\n    console: Optional[\"Console\"] = None,\n    indent_guides: bool = True,\n    max_length: Optional[int] = None,\n    max_string: Optional[int] = None,\n    max_depth: Optional[int] = None,\n    expand_all: bool = False,\n) -> None:\n    \"\"\"A convenience function for pretty printing.\n\n    Args:\n        _object (Any): Object to pretty print.\n        console (Console, optional): Console instance, or None to use default. Defaults to None.\n        max_length (int, optional): Maximum length of containers before abbreviating, or None for no abbreviation.\n            Defaults to None.\n        max_string (int, optional): Maximum length of strings before truncating, or None to disable. Defaults to None.\n        max_depth (int, optional): Maximum depth for nested data structures, or None for unlimited depth. Defaults to None.\n        indent_guides (bool, optional): Enable indentation guides. Defaults to True.\n        expand_all (bool, optional): Expand all containers. Defaults to False.\n    \"\"\"",
    "start_line": 917
  },
  {
    "file": "pretty.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "_console = get_console() if console is None else console\n    _console.print(\n        Pretty(\n            _object,\n            max_length=max_length,\n            max_string=max_string,\n            max_depth=max_depth,\n            indent_guides=indent_guides,\n            expand_all=expand_all,\n            overflow=\"ignore\",\n        ),\n        soft_wrap=True,\n    )\nif __name__ == \"__main__\":  # pragma: no cover",
    "start_line": 939
  },
  {
    "file": "pretty.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "BrokenRepr",
    "content": "class BrokenRepr:",
    "start_line": 956
  },
  {
    "file": "pretty.py",
    "type": "method",
    "class": "BrokenRepr",
    "method": "__repr__",
    "name": "__repr__",
    "content": "class BrokenRepr:\n        def __repr__(self) -> str:\n            1 / 0\n            return \"this will fail\"",
    "start_line": 957
  },
  {
    "file": "pretty.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from typing import NamedTuple",
    "start_line": 961
  },
  {
    "file": "pretty.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "StockKeepingUnit",
    "content": "class StockKeepingUnit(NamedTuple):\n        name: str\n        description: str\n        price: float\n        category: str\n        reviews: List[str]\n\n    d = defaultdict(int)\n    d[\"foo\"] = 5",
    "start_line": 963
  },
  {
    "file": "pretty.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "data = {\n        \"foo\": [\n            1,\n            \"Hello World!\",\n            100.123,\n            323.232,\n            432324.0,\n            {5, 6, 7, (1, 2, 3, 4), 8},\n        ],\n        \"bar\": frozenset({1, 2, 3}),\n        \"defaultdict\": defaultdict(\n            list, {\"crumble\": [\"apple\", \"rhubarb\", \"butter\", \"sugar\", \"flour\"]}\n        ),\n        \"counter\": Counter(\n            [\n                \"apple\",\n                \"orange\",\n                \"pear\",\n                \"kumquat\",\n                \"kumquat\",\n                \"durian\" * 100,\n            ]\n        ),\n        \"atomic\": (False, True, None),\n        \"namedtuple\": StockKeepingUnit(\n            \"Sparkling British Spring Water\",\n            \"Carbonated spring water\",\n            0.9,\n            \"water\",\n            [\"its amazing!\", \"its terrible!\"],\n        ),\n        \"Broken\": BrokenRepr(),\n    }\n    data[\"foo\"].append(data)  # type: ignore[attr-defined]",
    "start_line": 972
  },
  {
    "file": "pretty.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from rich import print\n    print(Pretty(data, indent_guides=True, max_string=20))",
    "start_line": 1007
  },
  {
    "file": "pretty.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "Thing",
    "content": "class Thing:",
    "start_line": 1011
  },
  {
    "file": "pretty.py",
    "type": "method",
    "class": "Thing",
    "method": "__repr__",
    "name": "__repr__",
    "content": "class Thing:\n        def __repr__(self) -> str:\n            return \"Hello\\x1b[38;5;239m World!\"\n\n    print(Pretty(Thing()))",
    "start_line": 1012
  },
  {
    "file": "pretty.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "import builtins\nimport collections\nimport dataclasses\nimport inspect\nimport os\nimport reprlib\nimport sys\nfrom array import array\nfrom collections import Counter, UserDict, UserList, defaultdict, deque\nfrom dataclasses import dataclass, fields, is_dataclass\nfrom inspect import isclass\nfrom itertools import islice\nfrom types import MappingProxyType\nfrom typing import (\n    TYPE_CHECKING,\n    Any,\n    Callable,\n    DefaultDict,\n    Deque,\n    Dict,\n    Iterable,\n    List,\n    Optional,\n    Sequence,\n    Set,\n    Tuple,\n    Union,\n)\n\nfrom rich.repr import RichReprResult\n\ntry:\n    import attr as _attr_module\n\n    _has_attrs = hasattr(_attr_module, \"ib\")\nexcept ImportError:  # pragma: no cover\n    _has_attrs = False\n\nfrom . import get_console\nfrom ._loop import loop_last\nfrom ._pick import pick_bool\nfrom .abc import RichRenderable\nfrom .cells import cell_len\nfrom .highlighter import ReprHighlighter\nfrom .jupyter import JupyterMixin, JupyterRenderable\nfrom .measure import Measurement\nfrom .text import Text\n\nif TYPE_CHECKING:\n    from .console import (\n        Console,\n        ConsoleOptions,\n        HighlighterType,\n        JustifyMethod,\n        OverflowMethod,\n        RenderResult,\n    )\n\n\ndef _is_attr_object(obj: Any) -> bool:\n    \"\"\"Check if an object was created with attrs module.\"\"\"\n    return _has_attrs and _attr_module.has(type(obj))\n\n\ndef _get_attr_fields(obj: Any) -> Sequence[\"_attr_module.Attribute[Any]\"]:\n    \"\"\"Get fields for an attrs object.\"\"\"\n    return _attr_module.fields(type(obj)) if _has_attrs else []\n\n\ndef _is_dataclass_repr(obj: object) -> bool:\n    \"\"\"Check if an instance of a dataclass contains the default repr.\n\n    Args:\n        obj (object): A dataclass instance.\n\n    Returns:\n        bool: True if the default repr is used, False if there is a custom repr.\n    \"\"\"\n    # Digging in to a lot of internals here\n    # Catching all exceptions in case something is missing on a non CPython implementation\n    try:\n        return obj.__repr__.__code__.co_filename in (\n            dataclasses.__file__,\n            reprlib.__file__,\n        )\n    except Exception:  # pragma: no coverage\n        return False\n\n\n_dummy_namedtuple = collections.namedtuple(\"_dummy_namedtuple\", [])\n\n\ndef _has_default_namedtuple_repr(obj: object) -> bool:\n    \"\"\"Check if an instance of namedtuple contains the default repr\n\n    Args:\n        obj (object): A namedtuple\n\n    Returns:\n        bool: True if the default repr is used, False if there's a custom repr.\n    \"\"\"\n    obj_file = None\n    try:\n        obj_file = inspect.getfile(obj.__repr__)\n    except (OSError, TypeError):\n        # OSError handles case where object is defined in __main__ scope, e.g. REPL - no filename available.\n        # TypeError trapped defensively, in case of object without filename slips through.\n        pass\n    default_repr_file = inspect.getfile(_dummy_namedtuple.__repr__)\n    return obj_file == default_repr_file\n\n\ndef _ipy_display_hook(\n    value: Any,\n    console: Optional[\"Console\"] = None,\n    overflow: \"OverflowMethod\" = \"ignore\",\n    crop: bool = False,\n    indent_guides: bool = False,\n    max_length: Optional[int] = None,\n    max_string: Optional[int] = None,\n    max_depth: Optional[int] = None,\n    expand_all: bool = False,\n) -> Union[str, None]:\n    # needed here to prevent circular import:\n    from .console import ConsoleRenderable\n\n    # always skip rich generated jupyter renderables or None values\n    if _safe_isinstance(value, JupyterRenderable) or value is None:\n        return None\n\n    console = console or get_console()\n\n    with console.capture() as capture:\n        # certain renderables should start on a new line\n        if _safe_isinstance(value, ConsoleRenderable):\n            console.line()\n        console.print(\n            (\n                value\n                if _safe_isinstance(value, RichRenderable)\n                else Pretty(\n                    value,\n                    overflow=overflow,\n                    indent_guides=indent_guides,\n                    max_length=max_length,\n                    max_string=max_string,\n                    max_depth=max_depth,\n                    expand_all=expand_all,\n                    margin=12,\n                )\n            ),\n            crop=crop,\n            new_line_start=True,\n            end=\"\",\n        )\n    # strip trailing newline, not usually part of a text repr\n    # I'm not sure if this should be prevented at a lower level\n    return capture.get().rstrip(\"\\n\")\n\n\ndef _safe_isinstance(\n    obj: object, class_or_tuple: Union[type, Tuple[type, ...]]\n) -> bool:\n    \"\"\"isinstance can fail in rare cases, for example types with no __class__\"\"\"\n    try:\n        return isinstance(obj, class_or_tuple)\n    except Exception:\n        return False\n\n\ndef install(\n    console: Optional[\"Console\"] = None,\n    overflow: \"OverflowMethod\" = \"ignore\",\n    crop: bool = False,\n    indent_guides: bool = False,\n    max_length: Optional[int] = None,\n    max_string: Optional[int] = None,\n    max_depth: Optional[int] = None,\n    expand_all: bool = False,\n) -> None:\n    \"\"\"Install automatic pretty printing in the Python REPL.\n\n    Args:\n        console (Console, optional): Console instance or ``None`` to use global console. Defaults to None.\n        overflow (Optional[OverflowMethod], optional): Overflow method. Defaults to \"ignore\".\n        crop (Optional[bool], optional): Enable cropping of long lines. Defaults to False.\n        indent_guides (bool, optional): Enable indentation guides. Defaults to False.\n        max_length (int, optional): Maximum length of containers before abbreviating, or None for no abbreviation.\n            Defaults to None.\n        max_string (int, optional): Maximum length of string before truncating, or None to disable. Defaults to None.\n        max_depth (int, optional): Maximum depth of nested data structures, or None for no maximum. Defaults to None.\n        expand_all (bool, optional): Expand all containers. Defaults to False.\n        max_frames (int): Maximum number of frames to show in a traceback, 0 for no maximum. Defaults to 100.\n    \"\"\"\n    from rich import get_console\n\n    console = console or get_console()\n    assert console is not None\n\n    def display_hook(value: Any) -> None:\n        \"\"\"Replacement sys.displayhook which prettifies objects with Rich.\"\"\"\n        if value is not None:\n            assert console is not None\n            builtins._ = None  # type: ignore[attr-defined]\n            console.print(\n                (\n                    value\n                    if _safe_isinstance(value, RichRenderable)\n                    else Pretty(\n                        value,\n                        overflow=overflow,\n                        indent_guides=indent_guides,\n                        max_length=max_length,\n                        max_string=max_string,\n                        max_depth=max_depth,\n                        expand_all=expand_all,\n                    )\n                ),\n                crop=crop,\n            )\n            builtins._ = value  # type: ignore[attr-defined]\n\n    try:\n        ip = get_ipython()  # type: ignore[name-defined]\n    except NameError:\n        sys.displayhook = display_hook\n    else:\n        from IPython.core.formatters import BaseFormatter\n\n        class RichFormatter(BaseFormatter):  # type: ignore[misc]\n            pprint: bool = True\n\n            def __call__(self, value: Any) -> Any:\n                if self.pprint:\n                    return _ipy_display_hook(\n                        value,\n                        console=get_console(),\n                        overflow=overflow,\n                        indent_guides=indent_guides,\n                        max_length=max_length,\n                        max_string=max_string,\n                        max_depth=max_depth,\n                        expand_all=expand_all,\n                    )\n                else:\n                    return repr(value)\n\n        # replace plain text formatter with rich formatter\n        rich_formatter = RichFormatter()\n        ip.display_formatter.formatters[\"text/plain\"] = rich_formatter\n\n\nclass Pretty(JupyterMixin):\n    \"\"\"A rich renderable that pretty prints an object.\n\n    Args:\n        _object (Any): An object to pretty print.\n        highlighter (HighlighterType, optional): Highlighter object to apply to result, or None for ReprHighlighter. Defaults to None.\n        indent_size (int, optional): Number of spaces in indent. Defaults to 4.\n        justify (JustifyMethod, optional): Justify method, or None for default. Defaults to None.\n        overflow (OverflowMethod, optional): Overflow method, or None for default. Defaults to None.\n        no_wrap (Optional[bool], optional): Disable word wrapping. Defaults to False.\n        indent_guides (bool, optional): Enable indentation guides. Defaults to False.\n        max_length (int, optional): Maximum length of containers before abbreviating, or None for no abbreviation.\n            Defaults to None.\n        max_string (int, optional): Maximum length of string before truncating, or None to disable. Defaults to None.\n        max_depth (int, optional): Maximum depth of nested data structures, or None for no maximum. Defaults to None.\n        expand_all (bool, optional): Expand all containers. Defaults to False.\n        margin (int, optional): Subtrace a margin from width to force containers to expand earlier. Defaults to 0.\n        insert_line (bool, optional): Insert a new line if the output has multiple new lines. Defaults to False.\n    \"\"\"\n\n    def __init__(\n        self,\n        _object: Any,\n        highlighter: Optional[\"HighlighterType\"] = None,\n        *,\n        indent_size: int = 4,\n        justify: Optional[\"JustifyMethod\"] = None,\n        overflow: Optional[\"OverflowMethod\"] = None,\n        no_wrap: Optional[bool] = False,\n        indent_guides: bool = False,\n        max_length: Optional[int] = None,\n        max_string: Optional[int] = None,\n        max_depth: Optional[int] = None,\n        expand_all: bool = False,\n        margin: int = 0,\n        insert_line: bool = False,\n    ) -> None:\n        self._object = _object\n        self.highlighter = highlighter or ReprHighlighter()\n        self.indent_size = indent_size\n        self.justify: Optional[\"JustifyMethod\"] = justify\n        self.overflow: Optional[\"OverflowMethod\"] = overflow\n        self.no_wrap = no_wrap\n        self.indent_guides = indent_guides\n        self.max_length = max_length\n        self.max_string = max_string\n        self.max_depth = max_depth\n        self.expand_all = expand_all\n        self.margin = margin\n        self.insert_line = insert_line\n\n    def __rich_console__(\n        self, console: \"Console\", options: \"ConsoleOptions\"\n    ) -> \"RenderResult\":\n        pretty_str = pretty_repr(\n            self._object,\n            max_width=options.max_width - self.margin,\n            indent_size=self.indent_size,\n            max_length=self.max_length,\n            max_string=self.max_string,\n            max_depth=self.max_depth,\n            expand_all=self.expand_all,\n        )\n        pretty_text = Text.from_ansi(\n            pretty_str,\n            justify=self.justify or options.justify,\n            overflow=self.overflow or options.overflow,\n            no_wrap=pick_bool(self.no_wrap, options.no_wrap),\n            style=\"pretty\",\n        )\n        pretty_text = (\n            self.highlighter(pretty_text)\n            if pretty_text\n            else Text(\n                f\"{type(self._object)}.__repr__ returned empty string\",\n                style=\"dim italic\",\n            )\n        )\n        if self.indent_guides and not options.ascii_only:\n            pretty_text = pretty_text.with_indent_guides(\n                self.indent_size, style=\"repr.indent\"\n            )\n        if self.insert_line and \"\\n\" in pretty_text:\n            yield \"\"\n        yield pretty_text\n\n    def __rich_measure__(\n        self, console: \"Console\", options: \"ConsoleOptions\"\n    ) -> \"Measurement\":\n        pretty_str = pretty_repr(\n            self._object,\n            max_width=options.max_width,\n            indent_size=self.indent_size,\n            max_length=self.max_length,\n            max_string=self.max_string,\n            max_depth=self.max_depth,\n            expand_all=self.expand_all,\n        )\n        text_width = (\n            max(cell_len(line) for line in pretty_str.splitlines()) if pretty_str else 0\n        )\n        return Measurement(text_width, text_width)\n\n\ndef _get_braces_for_defaultdict(_object: DefaultDict[Any, Any]) -> Tuple[str, str, str]:\n    return (\n        f\"defaultdict({_object.default_factory!r}, {{\",\n        \"})\",\n        f\"defaultdict({_object.default_factory!r}, {{}})\",\n    )\n\n\ndef _get_braces_for_deque(_object: Deque[Any]) -> Tuple[str, str, str]:\n    if _object.maxlen is None:\n        return (\"deque([\", \"])\", \"deque()\")\n    return (\n        \"deque([\",\n        f\"], maxlen={_object.maxlen})\",\n        f\"deque(maxlen={_object.maxlen})\",\n    )\n\n\ndef _get_braces_for_array(_object: \"array[Any]\") -> Tuple[str, str, str]:\n    return (f\"array({_object.typecode!r}, [\", \"])\", f\"array({_object.typecode!r})\")\n\n\n_BRACES: Dict[type, Callable[[Any], Tuple[str, str, str]]] = {\n    os._Environ: lambda _object: (\"environ({\", \"})\", \"environ({})\"),\n    array: _get_braces_for_array,\n    defaultdict: _get_braces_for_defaultdict,\n    Counter: lambda _object: (\"Counter({\", \"})\", \"Counter()\"),\n    deque: _get_braces_for_deque,\n    dict: lambda _object: (\"{\", \"}\", \"{}\"),\n    UserDict: lambda _object: (\"{\", \"}\", \"{}\"),\n    frozenset: lambda _object: (\"frozenset({\", \"})\", \"frozenset()\"),\n    list: lambda _object: (\"[\", \"]\", \"[]\"),\n    UserList: lambda _object: (\"[\", \"]\", \"[]\"),\n    set: lambda _object: (\"{\", \"}\", \"set()\"),\n    tuple: lambda _object: (\"(\", \")\", \"()\"),\n    MappingProxyType: lambda _object: (\"mappingproxy({\", \"})\", \"mappingproxy({})\"),\n}\n_CONTAINERS = tuple(_BRACES.keys())\n_MAPPING_CONTAINERS = (dict, os._Environ, MappingProxyType, UserDict)\n\n\ndef is_expandable(obj: Any) -> bool:\n    \"\"\"Check if an object may be expanded by pretty print.\"\"\"\n    return (\n        _safe_isinstance(obj, _CONTAINERS)\n        or (is_dataclass(obj))\n        or (hasattr(obj, \"__rich_repr__\"))\n        or _is_attr_object(obj)\n    ) and not isclass(obj)\n\n\n@dataclass\nclass Node:\n    \"\"\"A node in a repr tree. May be atomic or a container.\"\"\"\n\n    key_repr: str = \"\"\n    value_repr: str = \"\"\n    open_brace: str = \"\"\n    close_brace: str = \"\"\n    empty: str = \"\"\n    last: bool = False\n    is_tuple: bool = False\n    is_namedtuple: bool = False\n    children: Optional[List[\"Node\"]] = None\n    key_separator: str = \": \"\n    separator: str = \", \"\n\n    def iter_tokens(self) -> Iterable[str]:\n        \"\"\"Generate tokens for this node.\"\"\"\n        if self.key_repr:\n            yield self.key_repr\n            yield self.key_separator\n        if self.value_repr:\n            yield self.value_repr\n        elif self.children is not None:\n            if self.children:\n                yield self.open_brace\n                if self.is_tuple and not self.is_namedtuple and len(self.children) == 1:\n                    yield from self.children[0].iter_tokens()\n                    yield \",\"\n                else:\n                    for child in self.children:\n                        yield from child.iter_tokens()\n                        if not child.last:\n                            yield self.separator\n                yield self.close_brace\n            else:\n                yield self.empty\n\n    def check_length(self, start_length: int, max_length: int) -> bool:\n        \"\"\"Check the length fits within a limit.\n\n        Args:\n            start_length (int): Starting length of the line (indent, prefix, suffix).\n            max_length (int): Maximum length.\n\n        Returns:\n            bool: True if the node can be rendered within max length, otherwise False.\n        \"\"\"\n        total_length = start_length\n        for token in self.iter_tokens():\n            total_length += cell_len(token)\n            if total_length > max_length:\n                return False\n        return True\n\n    def __str__(self) -> str:\n        repr_text = \"\".join(self.iter_tokens())\n        return repr_text\n\n    def render(\n        self, max_width: int = 80, indent_size: int = 4, expand_all: bool = False\n    ) -> str:\n        \"\"\"Render the node to a pretty repr.\n\n        Args:\n            max_width (int, optional): Maximum width of the repr. Defaults to 80.\n            indent_size (int, optional): Size of indents. Defaults to 4.\n            expand_all (bool, optional): Expand all levels. Defaults to False.\n\n        Returns:\n            str: A repr string of the original object.\n        \"\"\"\n        lines = [_Line(node=self, is_root=True)]\n        line_no = 0\n        while line_no < len(lines):\n            line = lines[line_no]\n            if line.expandable and not line.expanded:\n                if expand_all or not line.check_length(max_width):\n                    lines[line_no : line_no + 1] = line.expand(indent_size)\n            line_no += 1\n\n        repr_str = \"\\n\".join(str(line) for line in lines)\n        return repr_str\n\n\n@dataclass\nclass _Line:\n    \"\"\"A line in repr output.\"\"\"\n\n    parent: Optional[\"_Line\"] = None\n    is_root: bool = False\n    node: Optional[Node] = None\n    text: str = \"\"\n    suffix: str = \"\"\n    whitespace: str = \"\"\n    expanded: bool = False\n    last: bool = False\n\n    @property\n    def expandable(self) -> bool:\n        \"\"\"Check if the line may be expanded.\"\"\"\n        return bool(self.node is not None and self.node.children)\n\n    def check_length(self, max_length: int) -> bool:\n        \"\"\"Check this line fits within a given number of cells.\"\"\"\n        start_length = (\n            len(self.whitespace) + cell_len(self.text) + cell_len(self.suffix)\n        )\n        assert self.node is not None\n        return self.node.check_length(start_length, max_length)\n\n    def expand(self, indent_size: int) -> Iterable[\"_Line\"]:\n        \"\"\"Expand this line by adding children on their own line.\"\"\"\n        node = self.node\n        assert node is not None\n        whitespace = self.whitespace\n        assert node.children\n        if node.key_repr:\n            new_line = yield _Line(\n                text=f\"{node.key_repr}{node.key_separator}{node.open_brace}\",\n                whitespace=whitespace,\n            )\n        else:\n            new_line = yield _Line(text=node.open_brace, whitespace=whitespace)\n        child_whitespace = self.whitespace + \" \" * indent_size\n        tuple_of_one = node.is_tuple and len(node.children) == 1\n        for last, child in loop_last(node.children):\n            separator = \",\" if tuple_of_one else node.separator\n            line = _Line(\n                parent=new_line,\n                node=child,\n                whitespace=child_whitespace,\n                suffix=separator,\n                last=last and not tuple_of_one,\n            )\n            yield line\n\n        yield _Line(\n            text=node.close_brace,\n            whitespace=whitespace,\n            suffix=self.suffix,\n            last=self.last,\n        )\n\n    def __str__(self) -> str:\n        if self.last:\n            return f\"{self.whitespace}{self.text}{self.node or ''}\"\n        else:\n            return (\n                f\"{self.whitespace}{self.text}{self.node or ''}{self.suffix.rstrip()}\"\n            )\n\n\ndef _is_namedtuple(obj: Any) -> bool:\n    \"\"\"Checks if an object is most likely a namedtuple. It is possible\n    to craft an object that passes this check and isn't a namedtuple, but\n    there is only a minuscule chance of this happening unintentionally.\n\n    Args:\n        obj (Any): The object to test\n\n    Returns:\n        bool: True if the object is a namedtuple. False otherwise.\n    \"\"\"\n    try:\n        fields = getattr(obj, \"_fields\", None)\n    except Exception:\n        # Being very defensive - if we cannot get the attr then its not a namedtuple\n        return False\n    return isinstance(obj, tuple) and isinstance(fields, tuple)\n\n\ndef traverse(\n    _object: Any,\n    max_length: Optional[int] = None,\n    max_string: Optional[int] = None,\n    max_depth: Optional[int] = None,\n) -> Node:\n    \"\"\"Traverse object and generate a tree.\n\n    Args:\n        _object (Any): Object to be traversed.\n        max_length (int, optional): Maximum length of containers before abbreviating, or None for no abbreviation.\n            Defaults to None.\n        max_string (int, optional): Maximum length of string before truncating, or None to disable truncating.\n            Defaults to None.\n        max_depth (int, optional): Maximum depth of data structures, or None for no maximum.\n            Defaults to None.\n\n    Returns:\n        Node: The root of a tree structure which can be used to render a pretty repr.\n    \"\"\"\n\n    def to_repr(obj: Any) -> str:\n        \"\"\"Get repr string for an object, but catch errors.\"\"\"\n        if (\n            max_string is not None\n            and _safe_isinstance(obj, (bytes, str))\n            and len(obj) > max_string\n        ):\n            truncated = len(obj) - max_string\n            obj_repr = f\"{obj[:max_string]!r}+{truncated}\"\n        else:\n            try:\n                obj_repr = repr(obj)\n            except Exception as error:\n                obj_repr = f\"<repr-error {str(error)!r}>\"\n        return obj_repr\n\n    visited_ids: Set[int] = set()\n    push_visited = visited_ids.add\n    pop_visited = visited_ids.remove\n\n    def _traverse(obj: Any, root: bool = False, depth: int = 0) -> Node:\n        \"\"\"Walk the object depth first.\"\"\"\n\n        obj_id = id(obj)\n        if obj_id in visited_ids:\n            # Recursion detected\n            return Node(value_repr=\"...\")\n\n        obj_type = type(obj)\n        children: List[Node]\n        reached_max_depth = max_depth is not None and depth >= max_depth\n\n        def iter_rich_args(rich_args: Any) -> Iterable[Union[Any, Tuple[str, Any]]]:\n            for arg in rich_args:\n                if _safe_isinstance(arg, tuple):\n                    if len(arg) == 3:\n                        key, child, default = arg\n                        if default == child:\n                            continue\n                        yield key, child\n                    elif len(arg) == 2:\n                        key, child = arg\n                        yield key, child\n                    elif len(arg) == 1:\n                        yield arg[0]\n                else:\n                    yield arg\n\n        try:\n            fake_attributes = hasattr(\n                obj, \"awehoi234_wdfjwljet234_234wdfoijsdfmmnxpi492\"\n            )\n        except Exception:\n            fake_attributes = False\n\n        rich_repr_result: Optional[RichReprResult] = None\n        if not fake_attributes:\n            try:\n                if hasattr(obj, \"__rich_repr__\") and not isclass(obj):\n                    rich_repr_result = obj.__rich_repr__()\n            except Exception:\n                pass\n\n        if rich_repr_result is not None:\n            push_visited(obj_id)\n            angular = getattr(obj.__rich_repr__, \"angular\", False)\n            args = list(iter_rich_args(rich_repr_result))\n            class_name = obj.__class__.__name__\n\n            if args:\n                children = []\n                append = children.append\n\n                if reached_max_depth:\n                    if angular:\n                        node = Node(value_repr=f\"<{class_name}...>\")\n                    else:\n                        node = Node(value_repr=f\"{class_name}(...)\")\n                else:\n                    if angular:\n                        node = Node(\n                            open_brace=f\"<{class_name} \",\n                            close_brace=\">\",\n                            children=children,\n                            last=root,\n                            separator=\" \",\n                        )\n                    else:\n                        node = Node(\n                            open_brace=f\"{class_name}(\",\n                            close_brace=\")\",\n                            children=children,\n                            last=root,\n                        )\n                    for last, arg in loop_last(args):\n                        if _safe_isinstance(arg, tuple):\n                            key, child = arg\n                            child_node = _traverse(child, depth=depth + 1)\n                            child_node.last = last\n                            child_node.key_repr = key\n                            child_node.key_separator = \"=\"\n                            append(child_node)\n                        else:\n                            child_node = _traverse(arg, depth=depth + 1)\n                            child_node.last = last\n                            append(child_node)\n            else:\n                node = Node(\n                    value_repr=f\"<{class_name}>\" if angular else f\"{class_name}()\",\n                    children=[],\n                    last=root,\n                )\n            pop_visited(obj_id)\n        elif _is_attr_object(obj) and not fake_attributes:\n            push_visited(obj_id)\n            children = []\n            append = children.append\n\n            attr_fields = _get_attr_fields(obj)\n            if attr_fields:\n                if reached_max_depth:\n                    node = Node(value_repr=f\"{obj.__class__.__name__}(...)\")\n                else:\n                    node = Node(\n                        open_brace=f\"{obj.__class__.__name__}(\",\n                        close_brace=\")\",\n                        children=children,\n                        last=root,\n                    )\n\n                    def iter_attrs() -> (\n                        Iterable[Tuple[str, Any, Optional[Callable[[Any], str]]]]\n                    ):\n                        \"\"\"Iterate over attr fields and values.\"\"\"\n                        for attr in attr_fields:\n                            if attr.repr:\n                                try:\n                                    value = getattr(obj, attr.name)\n                                except Exception as error:\n                                    # Can happen, albeit rarely\n                                    yield (attr.name, error, None)\n                                else:\n                                    yield (\n                                        attr.name,\n                                        value,\n                                        attr.repr if callable(attr.repr) else None,\n                                    )\n\n                    for last, (name, value, repr_callable) in loop_last(iter_attrs()):\n                        if repr_callable:\n                            child_node = Node(value_repr=str(repr_callable(value)))\n                        else:\n                            child_node = _traverse(value, depth=depth + 1)\n                        child_node.last = last\n                        child_node.key_repr = name\n                        child_node.key_separator = \"=\"\n                        append(child_node)\n            else:\n                node = Node(\n                    value_repr=f\"{obj.__class__.__name__}()\", children=[], last=root\n                )\n            pop_visited(obj_id)\n        elif (\n            is_dataclass(obj)\n            and not _safe_isinstance(obj, type)\n            and not fake_attributes\n            and _is_dataclass_repr(obj)\n        ):\n            push_visited(obj_id)\n            children = []\n            append = children.append\n            if reached_max_depth:\n                node = Node(value_repr=f\"{obj.__class__.__name__}(...)\")\n            else:\n                node = Node(\n                    open_brace=f\"{obj.__class__.__name__}(\",\n                    close_brace=\")\",\n                    children=children,\n                    last=root,\n                    empty=f\"{obj.__class__.__name__}()\",\n                )\n\n                for last, field in loop_last(\n                    field\n                    for field in fields(obj)\n                    if field.repr and hasattr(obj, field.name)\n                ):\n                    child_node = _traverse(getattr(obj, field.name), depth=depth + 1)\n                    child_node.key_repr = field.name\n                    child_node.last = last\n                    child_node.key_separator = \"=\"\n                    append(child_node)\n\n            pop_visited(obj_id)\n        elif _is_namedtuple(obj) and _has_default_namedtuple_repr(obj):\n            push_visited(obj_id)\n            class_name = obj.__class__.__name__\n            if reached_max_depth:\n                # If we've reached the max depth, we still show the class name, but not its contents\n                node = Node(\n                    value_repr=f\"{class_name}(...)\",\n                )\n            else:\n                children = []\n                append = children.append\n                node = Node(\n                    open_brace=f\"{class_name}(\",\n                    close_brace=\")\",\n                    children=children,\n                    empty=f\"{class_name}()\",\n                )\n                for last, (key, value) in loop_last(obj._asdict().items()):\n                    child_node = _traverse(value, depth=depth + 1)\n                    child_node.key_repr = key\n                    child_node.last = last\n                    child_node.key_separator = \"=\"\n                    append(child_node)\n            pop_visited(obj_id)\n        elif _safe_isinstance(obj, _CONTAINERS):\n            for container_type in _CONTAINERS:\n                if _safe_isinstance(obj, container_type):\n                    obj_type = container_type\n                    break\n\n            push_visited(obj_id)\n\n            open_brace, close_brace, empty = _BRACES[obj_type](obj)\n\n            if reached_max_depth:\n                node = Node(value_repr=f\"{open_brace}...{close_brace}\")\n            elif obj_type.__repr__ != type(obj).__repr__:\n                node = Node(value_repr=to_repr(obj), last=root)\n            elif obj:\n                children = []\n                node = Node(\n                    open_brace=open_brace,\n                    close_brace=close_brace,\n                    children=children,\n                    last=root,\n                )\n                append = children.append\n                num_items = len(obj)\n                last_item_index = num_items - 1\n\n                if _safe_isinstance(obj, _MAPPING_CONTAINERS):\n                    iter_items = iter(obj.items())\n                    if max_length is not None:\n                        iter_items = islice(iter_items, max_length)\n                    for index, (key, child) in enumerate(iter_items):\n                        child_node = _traverse(child, depth=depth + 1)\n                        child_node.key_repr = to_repr(key)\n                        child_node.last = index == last_item_index\n                        append(child_node)\n                else:\n                    iter_values = iter(obj)\n                    if max_length is not None:\n                        iter_values = islice(iter_values, max_length)\n                    for index, child in enumerate(iter_values):\n                        child_node = _traverse(child, depth=depth + 1)\n                        child_node.last = index == last_item_index\n                        append(child_node)\n                if max_length is not None and num_items > max_length:\n                    append(Node(value_repr=f\"... +{num_items - max_length}\", last=True))\n            else:\n                node = Node(empty=empty, children=[], last=root)\n\n            pop_visited(obj_id)\n        else:\n            node = Node(value_repr=to_repr(obj), last=root)\n        node.is_tuple = type(obj) == tuple\n        node.is_namedtuple = _is_namedtuple(obj)\n        return node\n\n    node = _traverse(_object, root=True)\n    return node\n\n\ndef pretty_repr(\n    _object: Any,\n    *,\n    max_width: int = 80,\n    indent_size: int = 4,\n    max_length: Optional[int] = None,\n    max_string: Optional[int] = None,\n    max_depth: Optional[int] = None,\n    expand_all: bool = False,\n) -> str:\n    \"\"\"Prettify repr string by expanding on to new lines to fit within a given width.\n\n    Args:\n        _object (Any): Object to repr.\n        max_width (int, optional): Desired maximum width of repr string. Defaults to 80.\n        indent_size (int, optional): Number of spaces to indent. Defaults to 4.\n        max_length (int, optional): Maximum length of containers before abbreviating, or None for no abbreviation.\n            Defaults to None.\n        max_string (int, optional): Maximum length of string before truncating, or None to disable truncating.\n            Defaults to None.\n        max_depth (int, optional): Maximum depth of nested data structure, or None for no depth.\n            Defaults to None.\n        expand_all (bool, optional): Expand all containers regardless of available width. Defaults to False.\n\n    Returns:\n        str: A possibly multi-line representation of the object.\n    \"\"\"\n\n    if _safe_isinstance(_object, Node):\n        node = _object\n    else:\n        node = traverse(\n            _object, max_length=max_length, max_string=max_string, max_depth=max_depth\n        )\n    repr_str: str = node.render(\n        max_width=max_width, indent_size=indent_size, expand_all=expand_all\n    )\n    return repr_str\n\n\ndef pprint(\n    _object: Any,\n    *,\n    console: Optional[\"Console\"] = None,\n    indent_guides: bool = True,\n    max_length: Optional[int] = None,\n    max_string: Optional[int] = None,\n    max_depth: Optional[int] = None,\n    expand_all: bool = False,\n) -> None:\n    \"\"\"A convenience function for pretty printing.\n\n    Args:\n        _object (Any): Object to pretty print.\n        console (Console, optional): Console instance, or None to use default. Defaults to None.\n        max_length (int, optional): Maximum length of containers before abbreviating, or None for no abbreviation.\n            Defaults to None.\n        max_string (int, optional): Maximum length of strings before truncating, or None to disable. Defaults to None.\n        max_depth (int, optional): Maximum depth for nested data structures, or None for unlimited depth. Defaults to None.\n        indent_guides (bool, optional): Enable indentation guides. Defaults to True.\n        expand_all (bool, optional): Expand all containers. Defaults to False.\n    \"\"\"\n    _console = get_console() if console is None else console\n    _console.print(\n        Pretty(\n            _object,\n            max_length=max_length,\n            max_string=max_string,\n            max_depth=max_depth,\n            indent_guides=indent_guides,\n            expand_all=expand_all,\n            overflow=\"ignore\",\n        ),\n        soft_wrap=True,\n    )\n\n\nif __name__ == \"__main__\":  # pragma: no cover\n\n    class BrokenRepr:\n        def __repr__(self) -> str:\n            1 / 0\n            return \"this will fail\"\n\n    from typing import NamedTuple\n\n    class StockKeepingUnit(NamedTuple):\n        name: str\n        description: str\n        price: float\n        category: str\n        reviews: List[str]\n\n    d = defaultdict(int)\n    d[\"foo\"] = 5\n    data = {\n        \"foo\": [\n            1,\n            \"Hello World!\",\n            100.123,\n            323.232,\n            432324.0,\n            {5, 6, 7, (1, 2, 3, 4), 8},\n        ],\n        \"bar\": frozenset({1, 2, 3}),\n        \"defaultdict\": defaultdict(\n            list, {\"crumble\": [\"apple\", \"rhubarb\", \"butter\", \"sugar\", \"flour\"]}\n        ),\n        \"counter\": Counter(\n            [\n                \"apple\",\n                \"orange\",\n                \"pear\",\n                \"kumquat\",\n                \"kumquat\",\n                \"durian\" * 100,\n            ]\n        ),\n        \"atomic\": (False, True, None),\n        \"namedtuple\": StockKeepingUnit(\n            \"Sparkling British Spring Water\",\n            \"Carbonated spring water\",\n            0.9,\n            \"water\",\n            [\"its amazing!\", \"its terrible!\"],\n        ),\n        \"Broken\": BrokenRepr(),\n    }\n    data[\"foo\"].append(data)  # type: ignore[attr-defined]\n\n    from rich import print\n\n    print(Pretty(data, indent_guides=True, max_string=20))\n\n    class Thing:\n        def __repr__(self) -> str:\n            return \"Hello\\x1b[38;5;239m World!\"\n\n    print(Pretty(Thing()))\n",
    "start_line": 0
  },
  {
    "file": "diagnose.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "import os\nimport platform\nfrom rich import inspect\nfrom rich.console import Console, get_windows_console_features\nfrom rich.panel import Panel\nfrom rich.pretty import Pretty",
    "start_line": 0
  },
  {
    "file": "diagnose.py",
    "type": "function",
    "class": null,
    "method": "report",
    "name": "report",
    "content": "def report() -> None:  # pragma: no cover\n    \"\"\"Print a report to the terminal with debugging information\"\"\"",
    "start_line": 9
  },
  {
    "file": "diagnose.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console()\n    inspect(console)\n    features = get_windows_console_features()\n    inspect(features)\n    env_names = (\n        \"CLICOLOR\",\n        \"COLORTERM\",\n        \"COLUMNS\",\n        \"JPY_PARENT_PID\",\n        \"JUPYTER_COLUMNS\",\n        \"JUPYTER_LINES\",\n        \"LINES\",\n        \"NO_COLOR\",\n        \"TERM_PROGRAM\",\n        \"TERM\",\n        \"TTY_COMPATIBLE\",\n        \"VSCODE_VERBOSE_LOGGING\",\n    )\n    env = {name: os.getenv(name) for name in env_names}\n    console.print(Panel.fit((Pretty(env)), title=\"[b]Environment Variables\"))\n    console.print(f'platform=\"{platform.system()}\"')\nif __name__ == \"__main__\":  # pragma: no cover\n    report()",
    "start_line": 11
  },
  {
    "file": "diagnose.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "import os\nimport platform\n\nfrom rich import inspect\nfrom rich.console import Console, get_windows_console_features\nfrom rich.panel import Panel\nfrom rich.pretty import Pretty\n\n\ndef report() -> None:  # pragma: no cover\n    \"\"\"Print a report to the terminal with debugging information\"\"\"\n    console = Console()\n    inspect(console)\n    features = get_windows_console_features()\n    inspect(features)\n\n    env_names = (\n        \"CLICOLOR\",\n        \"COLORTERM\",\n        \"COLUMNS\",\n        \"JPY_PARENT_PID\",\n        \"JUPYTER_COLUMNS\",\n        \"JUPYTER_LINES\",\n        \"LINES\",\n        \"NO_COLOR\",\n        \"TERM_PROGRAM\",\n        \"TERM\",\n        \"TTY_COMPATIBLE\",\n        \"VSCODE_VERBOSE_LOGGING\",\n    )\n    env = {name: os.getenv(name) for name in env_names}\n    console.print(Panel.fit((Pretty(env)), title=\"[b]Environment Variables\"))\n\n    console.print(f'platform=\"{platform.system()}\"')\n\n\nif __name__ == \"__main__\":  # pragma: no cover\n    report()\n",
    "start_line": 0
  },
  {
    "file": "columns.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from collections import defaultdict\nfrom itertools import chain\nfrom operator import itemgetter\nfrom typing import Dict, Iterable, List, Optional, Tuple\nfrom .align import Align, AlignMethod\nfrom .console import Console, ConsoleOptions, RenderableType, RenderResult\nfrom .constrain import Constrain\nfrom .measure import Measurement\nfrom .padding import Padding, PaddingDimensions\nfrom .table import Table\nfrom .text import TextType\nfrom .jupyter import JupyterMixin",
    "start_line": 0
  },
  {
    "file": "columns.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "Columns",
    "content": "class Columns(JupyterMixin):\n    \"\"\"Display renderables in neat columns.\n\n    Args:\n        renderables (Iterable[RenderableType]): Any number of Rich renderables (including str).\n        width (int, optional): The desired width of the columns, or None to auto detect. Defaults to None.\n        padding (PaddingDimensions, optional): Optional padding around cells. Defaults to (0, 1).\n        expand (bool, optional): Expand columns to full width. Defaults to False.\n        equal (bool, optional): Arrange in to equal sized columns. Defaults to False.\n        column_first (bool, optional): Align items from top to bottom (rather than left to right). Defaults to False.\n        right_to_left (bool, optional): Start column from right hand side. Defaults to False.\n        align (str, optional): Align value (\"left\", \"right\", or \"center\") or None for default. Defaults to None.\n        title (TextType, optional): Optional title for Columns.\n    \"\"\"",
    "start_line": 15
  },
  {
    "file": "columns.py",
    "type": "method",
    "class": "Columns",
    "method": "__init__",
    "name": "__init__",
    "content": "class Columns:\n    def __init__(\n        self,\n        renderables: Optional[Iterable[RenderableType]] = None,\n        padding: PaddingDimensions = (0, 1),\n        *,\n        width: Optional[int] = None,\n        expand: bool = False,\n        equal: bool = False,\n        column_first: bool = False,\n        right_to_left: bool = False,\n        align: Optional[AlignMethod] = None,\n        title: Optional[TextType] = None,\n    ) -> None:\n        self.renderables = list(renderables or [])\n        self.width = width\n        self.padding = padding\n        self.expand = expand\n        self.equal = equal\n        self.column_first = column_first\n        self.right_to_left = right_to_left\n        self.align: Optional[AlignMethod] = align\n        self.title = title",
    "start_line": 30
  },
  {
    "file": "columns.py",
    "type": "method",
    "class": "Columns",
    "method": "add_renderable",
    "name": "add_renderable",
    "content": "class Columns:\n    def add_renderable(self, renderable: RenderableType) -> None:\n        \"\"\"Add a renderable to the columns.\n\n        Args:\n            renderable (RenderableType): Any renderable object.\n        \"\"\"\n        self.renderables.append(renderable)",
    "start_line": 53
  },
  {
    "file": "columns.py",
    "type": "method",
    "class": "Columns",
    "method": "__rich_console__",
    "name": "__rich_console__",
    "content": "class Columns:\n    def __rich_console__(\n        self, console: Console, options: ConsoleOptions\n    ) -> RenderResult:\n        render_str = console.render_str\n        renderables = [\n            render_str(renderable) if isinstance(renderable, str) else renderable\n            for renderable in self.renderables\n        ]\n        if not renderables:\n            return\n        _top, right, _bottom, left = Padding.unpack(self.padding)\n        width_padding = max(left, right)\n        max_width = options.max_width\n        widths: Dict[int, int] = defaultdict(int)\n        column_count = len(renderables)\n\n        get_measurement = Measurement.get\n        renderable_widths = [\n            get_measurement(console, options, renderable).maximum\n            for renderable in renderables\n        ]\n        if self.equal:\n            renderable_widths = [max(renderable_widths)] * len(renderable_widths)",
    "start_line": 61
  },
  {
    "file": "columns.py",
    "type": "method",
    "class": "Columns",
    "method": "iter_renderables",
    "name": "iter_renderables",
    "content": "class Columns:\n        def iter_renderables(\n            column_count: int,\n        ) -> Iterable[Tuple[int, Optional[RenderableType]]]:\n            item_count = len(renderables)\n            if self.column_first:\n                width_renderables = list(zip(renderable_widths, renderables))\n\n                column_lengths: List[int] = [item_count // column_count] * column_count\n                for col_no in range(item_count % column_count):\n                    column_lengths[col_no] += 1\n\n                row_count = (item_count + column_count - 1) // column_count\n                cells = [[-1] * column_count for _ in range(row_count)]\n                row = col = 0\n                for index in range(item_count):\n                    cells[row][col] = index\n                    column_lengths[col] -= 1\n                    if column_lengths[col]:\n                        row += 1\n                    else:\n                        col += 1\n                        row = 0\n                for index in chain.from_iterable(cells):\n                    if index == -1:\n                        break\n                    yield width_renderables[index]\n            else:\n                yield from zip(renderable_widths, renderables)",
    "start_line": 85
  },
  {
    "file": "columns.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# Pad odd elements with spaces\n            if item_count % column_count:\n                for _ in range(column_count - (item_count % column_count)):\n                    yield 0, None\n        table = Table.grid(padding=self.padding, collapse_padding=True, pad_edge=False)\n        table.expand = self.expand\n        table.title = self.title\n        if self.width is not None:\n            column_count = (max_width) // (self.width + width_padding)\n            for _ in range(column_count):\n                table.add_column(width=self.width)\n        else:\n            while column_count > 1:\n                widths.clear()\n                column_no = 0\n                for renderable_width, _ in iter_renderables(column_count):\n                    widths[column_no] = max(widths[column_no], renderable_width)\n                    total_width = sum(widths.values()) + width_padding * (\n                        len(widths) - 1\n                    )\n                    if total_width > max_width:\n                        column_count = len(widths) - 1\n                        break\n                    else:\n                        column_no = (column_no + 1) % column_count\n                else:\n                    break\n        get_renderable = itemgetter(1)\n        _renderables = [\n            get_renderable(_renderable)\n            for _renderable in iter_renderables(column_count)\n        ]\n        if self.equal:\n            _renderables = [\n                None\n                if renderable is None\n                else Constrain(renderable, renderable_widths[0])\n                for renderable in _renderables\n            ]\n        if self.align:\n            align = self.align\n            _Align = Align\n            _renderables = [\n                None if renderable is None else _Align(renderable, align)\n                for renderable in _renderables\n            ]\n        right_to_left = self.right_to_left\n        add_row = table.add_row\n        for start in range(0, len(_renderables), column_count):\n            row = _renderables[start : start + column_count]\n            if right_to_left:\n                row = row[::-1]\n            add_row(*row)\n        yield table\nif __name__ == \"__main__\":  # pragma: no cover",
    "start_line": 113
  },
  {
    "file": "columns.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "import os",
    "start_line": 174
  },
  {
    "file": "columns.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console()\n    files = [f\"{i} {s}\" for i, s in enumerate(sorted(os.listdir()))]\n    columns = Columns(files, padding=(0, 1), expand=False, equal=False)\n    console.print(columns)\n    console.rule()\n    columns.column_first = True\n    console.print(columns)\n    columns.right_to_left = True\n    console.rule()\n    console.print(columns)",
    "start_line": 176
  },
  {
    "file": "columns.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "from collections import defaultdict\nfrom itertools import chain\nfrom operator import itemgetter\nfrom typing import Dict, Iterable, List, Optional, Tuple\n\nfrom .align import Align, AlignMethod\nfrom .console import Console, ConsoleOptions, RenderableType, RenderResult\nfrom .constrain import Constrain\nfrom .measure import Measurement\nfrom .padding import Padding, PaddingDimensions\nfrom .table import Table\nfrom .text import TextType\nfrom .jupyter import JupyterMixin\n\n\nclass Columns(JupyterMixin):\n    \"\"\"Display renderables in neat columns.\n\n    Args:\n        renderables (Iterable[RenderableType]): Any number of Rich renderables (including str).\n        width (int, optional): The desired width of the columns, or None to auto detect. Defaults to None.\n        padding (PaddingDimensions, optional): Optional padding around cells. Defaults to (0, 1).\n        expand (bool, optional): Expand columns to full width. Defaults to False.\n        equal (bool, optional): Arrange in to equal sized columns. Defaults to False.\n        column_first (bool, optional): Align items from top to bottom (rather than left to right). Defaults to False.\n        right_to_left (bool, optional): Start column from right hand side. Defaults to False.\n        align (str, optional): Align value (\"left\", \"right\", or \"center\") or None for default. Defaults to None.\n        title (TextType, optional): Optional title for Columns.\n    \"\"\"\n\n    def __init__(\n        self,\n        renderables: Optional[Iterable[RenderableType]] = None,\n        padding: PaddingDimensions = (0, 1),\n        *,\n        width: Optional[int] = None,\n        expand: bool = False,\n        equal: bool = False,\n        column_first: bool = False,\n        right_to_left: bool = False,\n        align: Optional[AlignMethod] = None,\n        title: Optional[TextType] = None,\n    ) -> None:\n        self.renderables = list(renderables or [])\n        self.width = width\n        self.padding = padding\n        self.expand = expand\n        self.equal = equal\n        self.column_first = column_first\n        self.right_to_left = right_to_left\n        self.align: Optional[AlignMethod] = align\n        self.title = title\n\n    def add_renderable(self, renderable: RenderableType) -> None:\n        \"\"\"Add a renderable to the columns.\n\n        Args:\n            renderable (RenderableType): Any renderable object.\n        \"\"\"\n        self.renderables.append(renderable)\n\n    def __rich_console__(\n        self, console: Console, options: ConsoleOptions\n    ) -> RenderResult:\n        render_str = console.render_str\n        renderables = [\n            render_str(renderable) if isinstance(renderable, str) else renderable\n            for renderable in self.renderables\n        ]\n        if not renderables:\n            return\n        _top, right, _bottom, left = Padding.unpack(self.padding)\n        width_padding = max(left, right)\n        max_width = options.max_width\n        widths: Dict[int, int] = defaultdict(int)\n        column_count = len(renderables)\n\n        get_measurement = Measurement.get\n        renderable_widths = [\n            get_measurement(console, options, renderable).maximum\n            for renderable in renderables\n        ]\n        if self.equal:\n            renderable_widths = [max(renderable_widths)] * len(renderable_widths)\n\n        def iter_renderables(\n            column_count: int,\n        ) -> Iterable[Tuple[int, Optional[RenderableType]]]:\n            item_count = len(renderables)\n            if self.column_first:\n                width_renderables = list(zip(renderable_widths, renderables))\n\n                column_lengths: List[int] = [item_count // column_count] * column_count\n                for col_no in range(item_count % column_count):\n                    column_lengths[col_no] += 1\n\n                row_count = (item_count + column_count - 1) // column_count\n                cells = [[-1] * column_count for _ in range(row_count)]\n                row = col = 0\n                for index in range(item_count):\n                    cells[row][col] = index\n                    column_lengths[col] -= 1\n                    if column_lengths[col]:\n                        row += 1\n                    else:\n                        col += 1\n                        row = 0\n                for index in chain.from_iterable(cells):\n                    if index == -1:\n                        break\n                    yield width_renderables[index]\n            else:\n                yield from zip(renderable_widths, renderables)\n            # Pad odd elements with spaces\n            if item_count % column_count:\n                for _ in range(column_count - (item_count % column_count)):\n                    yield 0, None\n\n        table = Table.grid(padding=self.padding, collapse_padding=True, pad_edge=False)\n        table.expand = self.expand\n        table.title = self.title\n\n        if self.width is not None:\n            column_count = (max_width) // (self.width + width_padding)\n            for _ in range(column_count):\n                table.add_column(width=self.width)\n        else:\n            while column_count > 1:\n                widths.clear()\n                column_no = 0\n                for renderable_width, _ in iter_renderables(column_count):\n                    widths[column_no] = max(widths[column_no], renderable_width)\n                    total_width = sum(widths.values()) + width_padding * (\n                        len(widths) - 1\n                    )\n                    if total_width > max_width:\n                        column_count = len(widths) - 1\n                        break\n                    else:\n                        column_no = (column_no + 1) % column_count\n                else:\n                    break\n\n        get_renderable = itemgetter(1)\n        _renderables = [\n            get_renderable(_renderable)\n            for _renderable in iter_renderables(column_count)\n        ]\n        if self.equal:\n            _renderables = [\n                None\n                if renderable is None\n                else Constrain(renderable, renderable_widths[0])\n                for renderable in _renderables\n            ]\n        if self.align:\n            align = self.align\n            _Align = Align\n            _renderables = [\n                None if renderable is None else _Align(renderable, align)\n                for renderable in _renderables\n            ]\n\n        right_to_left = self.right_to_left\n        add_row = table.add_row\n        for start in range(0, len(_renderables), column_count):\n            row = _renderables[start : start + column_count]\n            if right_to_left:\n                row = row[::-1]\n            add_row(*row)\n        yield table\n\n\nif __name__ == \"__main__\":  # pragma: no cover\n    import os\n\n    console = Console()\n\n    files = [f\"{i} {s}\" for i, s in enumerate(sorted(os.listdir()))]\n    columns = Columns(files, padding=(0, 1), expand=False, equal=False)\n    console.print(columns)\n    console.rule()\n    columns.column_first = True\n    console.print(columns)\n    columns.right_to_left = True\n    console.rule()\n    console.print(columns)\n",
    "start_line": 0
  },
  {
    "file": "rule.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from typing import Union\nfrom .align import AlignMethod\nfrom .cells import cell_len, set_cell_size\nfrom .console import Console, ConsoleOptions, RenderResult\nfrom .jupyter import JupyterMixin\nfrom .measure import Measurement\nfrom .style import Style\nfrom .text import Text",
    "start_line": 0
  },
  {
    "file": "rule.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "Rule",
    "content": "class Rule(JupyterMixin):\n    \"\"\"A console renderable to draw a horizontal rule (line).\n\n    Args:\n        title (Union[str, Text], optional): Text to render in the rule. Defaults to \"\".\n        characters (str, optional): Character(s) used to draw the line. Defaults to \"\".\n        style (StyleType, optional): Style of Rule. Defaults to \"rule.line\".\n        end (str, optional): Character at end of Rule. defaults to \"\\\\\\\\n\"\n        align (str, optional): How to align the title, one of \"left\", \"center\", or \"right\". Defaults to \"center\".\n    \"\"\"",
    "start_line": 11
  },
  {
    "file": "rule.py",
    "type": "method",
    "class": "Rule",
    "method": "__init__",
    "name": "__init__",
    "content": "class Rule:\n    def __init__(\n        self,\n        title: Union[str, Text] = \"\",\n        *,\n        characters: str = \"\",\n        style: Union[str, Style] = \"rule.line\",\n        end: str = \"\\n\",\n        align: AlignMethod = \"center\",\n    ) -> None:\n        if cell_len(characters) < 1:\n            raise ValueError(\n                \"'characters' argument must have a cell width of at least 1\"\n            )\n        if align not in (\"left\", \"center\", \"right\"):\n            raise ValueError(\n                f'invalid value for align, expected \"left\", \"center\", \"right\" (not {align!r})'\n            )\n        self.title = title\n        self.characters = characters\n        self.style = style\n        self.end = end\n        self.align = align",
    "start_line": 22
  },
  {
    "file": "rule.py",
    "type": "method",
    "class": "Rule",
    "method": "__repr__",
    "name": "__repr__",
    "content": "class Rule:\n    def __repr__(self) -> str:\n        return f\"Rule({self.title!r}, {self.characters!r})\"",
    "start_line": 45
  },
  {
    "file": "rule.py",
    "type": "method",
    "class": "Rule",
    "method": "__rich_console__",
    "name": "__rich_console__",
    "content": "class Rule:\n    def __rich_console__(\n        self, console: Console, options: ConsoleOptions\n    ) -> RenderResult:\n        width = options.max_width\n\n        characters = (\n            \"-\"\n            if (options.ascii_only and not self.characters.isascii())\n            else self.characters\n        )\n\n        chars_len = cell_len(characters)\n        if not self.title:\n            yield self._rule_line(chars_len, width)\n            return\n\n        if isinstance(self.title, Text):\n            title_text = self.title\n        else:\n            title_text = console.render_str(self.title, style=\"rule.text\")\n\n        title_text.plain = title_text.plain.replace(\"\\n\", \" \")\n        title_text.expand_tabs()\n\n        required_space = 4 if self.align == \"center\" else 2\n        truncate_width = max(0, width - required_space)\n        if not truncate_width:\n            yield self._rule_line(chars_len, width)\n            return\n\n        rule_text = Text(end=self.end)\n        if self.align == \"center\":\n            title_text.truncate(truncate_width, overflow=\"ellipsis\")\n            side_width = (width - cell_len(title_text.plain)) // 2\n            left = Text(characters * (side_width // chars_len + 1))\n            left.truncate(side_width - 1)\n            right_length = width - cell_len(left.plain) - cell_len(title_text.plain)\n            right = Text(characters * (side_width // chars_len + 1))\n            right.truncate(right_length)\n            rule_text.append(left.plain + \" \", self.style)\n            rule_text.append(title_text)\n            rule_text.append(\" \" + right.plain, self.style)\n        elif self.align == \"left\":\n            title_text.truncate(truncate_width, overflow=\"ellipsis\")\n            rule_text.append(title_text)\n            rule_text.append(\" \")\n            rule_text.append(characters * (width - rule_text.cell_len), self.style)\n        elif self.align == \"right\":\n            title_text.truncate(truncate_width, overflow=\"ellipsis\")\n            rule_text.append(characters * (width - title_text.cell_len - 1), self.style)\n            rule_text.append(\" \")\n            rule_text.append(title_text)\n\n        rule_text.plain = set_cell_size(rule_text.plain, width)\n        yield rule_text",
    "start_line": 48
  },
  {
    "file": "rule.py",
    "type": "method",
    "class": "Rule",
    "method": "_rule_line",
    "name": "_rule_line",
    "content": "class Rule:\n    def _rule_line(self, chars_len: int, width: int) -> Text:\n        rule_text = Text(self.characters * ((width // chars_len) + 1), self.style)\n        rule_text.truncate(width)\n        rule_text.plain = set_cell_size(rule_text.plain, width)\n        return rule_text",
    "start_line": 104
  },
  {
    "file": "rule.py",
    "type": "method",
    "class": "Rule",
    "method": "__rich_measure__",
    "name": "__rich_measure__",
    "content": "class Rule:\n    def __rich_measure__(\n        self, console: Console, options: ConsoleOptions\n    ) -> Measurement:\n        return Measurement(1, 1)\n\n\nif __name__ == \"__main__\":  # pragma: no cover",
    "start_line": 110
  },
  {
    "file": "rule.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "import sys\n    from rich.console import Console\n    try:\n        text = sys.argv[1]\n    except IndexError:\n        text = \"Hello, World\"\n    console = Console()\n    console.print(Rule(title=text))\n    console = Console()\n    console.print(Rule(\"foo\"), width=4)",
    "start_line": 117
  },
  {
    "file": "rule.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "from typing import Union\n\nfrom .align import AlignMethod\nfrom .cells import cell_len, set_cell_size\nfrom .console import Console, ConsoleOptions, RenderResult\nfrom .jupyter import JupyterMixin\nfrom .measure import Measurement\nfrom .style import Style\nfrom .text import Text\n\n\nclass Rule(JupyterMixin):\n    \"\"\"A console renderable to draw a horizontal rule (line).\n\n    Args:\n        title (Union[str, Text], optional): Text to render in the rule. Defaults to \"\".\n        characters (str, optional): Character(s) used to draw the line. Defaults to \"\".\n        style (StyleType, optional): Style of Rule. Defaults to \"rule.line\".\n        end (str, optional): Character at end of Rule. defaults to \"\\\\\\\\n\"\n        align (str, optional): How to align the title, one of \"left\", \"center\", or \"right\". Defaults to \"center\".\n    \"\"\"\n\n    def __init__(\n        self,\n        title: Union[str, Text] = \"\",\n        *,\n        characters: str = \"\",\n        style: Union[str, Style] = \"rule.line\",\n        end: str = \"\\n\",\n        align: AlignMethod = \"center\",\n    ) -> None:\n        if cell_len(characters) < 1:\n            raise ValueError(\n                \"'characters' argument must have a cell width of at least 1\"\n            )\n        if align not in (\"left\", \"center\", \"right\"):\n            raise ValueError(\n                f'invalid value for align, expected \"left\", \"center\", \"right\" (not {align!r})'\n            )\n        self.title = title\n        self.characters = characters\n        self.style = style\n        self.end = end\n        self.align = align\n\n    def __repr__(self) -> str:\n        return f\"Rule({self.title!r}, {self.characters!r})\"\n\n    def __rich_console__(\n        self, console: Console, options: ConsoleOptions\n    ) -> RenderResult:\n        width = options.max_width\n\n        characters = (\n            \"-\"\n            if (options.ascii_only and not self.characters.isascii())\n            else self.characters\n        )\n\n        chars_len = cell_len(characters)\n        if not self.title:\n            yield self._rule_line(chars_len, width)\n            return\n\n        if isinstance(self.title, Text):\n            title_text = self.title\n        else:\n            title_text = console.render_str(self.title, style=\"rule.text\")\n\n        title_text.plain = title_text.plain.replace(\"\\n\", \" \")\n        title_text.expand_tabs()\n\n        required_space = 4 if self.align == \"center\" else 2\n        truncate_width = max(0, width - required_space)\n        if not truncate_width:\n            yield self._rule_line(chars_len, width)\n            return\n\n        rule_text = Text(end=self.end)\n        if self.align == \"center\":\n            title_text.truncate(truncate_width, overflow=\"ellipsis\")\n            side_width = (width - cell_len(title_text.plain)) // 2\n            left = Text(characters * (side_width // chars_len + 1))\n            left.truncate(side_width - 1)\n            right_length = width - cell_len(left.plain) - cell_len(title_text.plain)\n            right = Text(characters * (side_width // chars_len + 1))\n            right.truncate(right_length)\n            rule_text.append(left.plain + \" \", self.style)\n            rule_text.append(title_text)\n            rule_text.append(\" \" + right.plain, self.style)\n        elif self.align == \"left\":\n            title_text.truncate(truncate_width, overflow=\"ellipsis\")\n            rule_text.append(title_text)\n            rule_text.append(\" \")\n            rule_text.append(characters * (width - rule_text.cell_len), self.style)\n        elif self.align == \"right\":\n            title_text.truncate(truncate_width, overflow=\"ellipsis\")\n            rule_text.append(characters * (width - title_text.cell_len - 1), self.style)\n            rule_text.append(\" \")\n            rule_text.append(title_text)\n\n        rule_text.plain = set_cell_size(rule_text.plain, width)\n        yield rule_text\n\n    def _rule_line(self, chars_len: int, width: int) -> Text:\n        rule_text = Text(self.characters * ((width // chars_len) + 1), self.style)\n        rule_text.truncate(width)\n        rule_text.plain = set_cell_size(rule_text.plain, width)\n        return rule_text\n\n    def __rich_measure__(\n        self, console: Console, options: ConsoleOptions\n    ) -> Measurement:\n        return Measurement(1, 1)\n\n\nif __name__ == \"__main__\":  # pragma: no cover\n    import sys\n\n    from rich.console import Console\n\n    try:\n        text = sys.argv[1]\n    except IndexError:\n        text = \"Hello, World\"\n    console = Console()\n    console.print(Rule(title=text))\n\n    console = Console()\n    console.print(Rule(\"foo\"), width=4)\n",
    "start_line": 0
  },
  {
    "file": "_inspect.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "import inspect\nfrom inspect import cleandoc, getdoc, getfile, isclass, ismodule, signature\nfrom typing import Any, Collection, Iterable, Optional, Tuple, Type, Union\nfrom .console import Group, RenderableType\nfrom .control import escape_control_codes\nfrom .highlighter import ReprHighlighter\nfrom .jupyter import JupyterMixin\nfrom .panel import Panel\nfrom .pretty import Pretty\nfrom .table import Table\nfrom .text import Text, TextType",
    "start_line": 0
  },
  {
    "file": "_inspect.py",
    "type": "function",
    "class": null,
    "method": "_first_paragraph",
    "name": "_first_paragraph",
    "content": "def _first_paragraph(doc: str) -> str:\n    \"\"\"Get the first paragraph from a docstring.\"\"\"\n    paragraph, _, _ = doc.partition(\"\\n\\n\")\n    return paragraph",
    "start_line": 14
  },
  {
    "file": "_inspect.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "Inspect",
    "content": "class Inspect(JupyterMixin):\n    \"\"\"A renderable to inspect any Python Object.\n\n    Args:\n        obj (Any): An object to inspect.\n        title (str, optional): Title to display over inspect result, or None use type. Defaults to None.\n        help (bool, optional): Show full help text rather than just first paragraph. Defaults to False.\n        methods (bool, optional): Enable inspection of callables. Defaults to False.\n        docs (bool, optional): Also render doc strings. Defaults to True.\n        private (bool, optional): Show private attributes (beginning with underscore). Defaults to False.\n        dunder (bool, optional): Show attributes starting with double underscore. Defaults to False.\n        sort (bool, optional): Sort attributes alphabetically. Defaults to True.\n        all (bool, optional): Show all attributes. Defaults to False.\n        value (bool, optional): Pretty print value of object. Defaults to True.\n    \"\"\"",
    "start_line": 20
  },
  {
    "file": "_inspect.py",
    "type": "method",
    "class": "Inspect",
    "method": "__init__",
    "name": "__init__",
    "content": "class Inspect:\n    def __init__(\n        self,\n        obj: Any,\n        *,\n        title: Optional[TextType] = None,\n        help: bool = False,\n        methods: bool = False,\n        docs: bool = True,\n        private: bool = False,\n        dunder: bool = False,\n        sort: bool = True,\n        all: bool = True,\n        value: bool = True,\n    ) -> None:\n        self.highlighter = ReprHighlighter()\n        self.obj = obj\n        self.title = title or self._make_title(obj)\n        if all:\n            methods = private = dunder = True\n        self.help = help\n        self.methods = methods\n        self.docs = docs or help\n        self.private = private or dunder\n        self.dunder = dunder\n        self.sort = sort\n        self.value = value",
    "start_line": 36
  },
  {
    "file": "_inspect.py",
    "type": "method",
    "class": "Inspect",
    "method": "_make_title",
    "name": "_make_title",
    "content": "class Inspect:\n    def _make_title(self, obj: Any) -> Text:\n        \"\"\"Make a default title.\"\"\"\n        title_str = (\n            str(obj)\n            if (isclass(obj) or callable(obj) or ismodule(obj))\n            else str(type(obj))\n        )\n        title_text = self.highlighter(title_str)\n        return title_text",
    "start_line": 63
  },
  {
    "file": "_inspect.py",
    "type": "method",
    "class": "Inspect",
    "method": "__rich__",
    "name": "__rich__",
    "content": "class Inspect:\n    def __rich__(self) -> Panel:\n        return Panel.fit(\n            Group(*self._render()),\n            title=self.title,\n            border_style=\"scope.border\",\n            padding=(0, 1),\n        )",
    "start_line": 73
  },
  {
    "file": "_inspect.py",
    "type": "method",
    "class": "Inspect",
    "method": "_get_signature",
    "name": "_get_signature",
    "content": "class Inspect:\n    def _get_signature(self, name: str, obj: Any) -> Optional[Text]:\n        \"\"\"Get a signature for a callable.\"\"\"\n        try:\n            _signature = str(signature(obj)) + \":\"\n        except ValueError:\n            _signature = \"(...)\"\n        except TypeError:\n            return None\n\n        source_filename: Optional[str] = None\n        try:\n            source_filename = getfile(obj)\n        except (OSError, TypeError):",
    "start_line": 81
  },
  {
    "file": "_inspect.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# OSError is raised if obj has no source file, e.g. when defined in REPL.\n            pass\n        callable_name = Text(name, style=\"inspect.callable\")\n        if source_filename:\n            callable_name.stylize(f\"link file://{source_filename}\")\n        signature_text = self.highlighter(_signature)\n        qualname = name or getattr(obj, \"__qualname__\", name)\n        # If obj is a module, there may be classes (which are callable) to display\n        if inspect.isclass(obj):\n            prefix = \"class\"\n        elif inspect.iscoroutinefunction(obj):\n            prefix = \"async def\"\n        else:\n            prefix = \"def\"\n        qual_signature = Text.assemble(\n            (f\"{prefix} \", f\"inspect.{prefix.replace(' ', '_')}\"),\n            (qualname, \"inspect.callable\"),\n            signature_text,\n        )\n        return qual_signature",
    "start_line": 94
  },
  {
    "file": "_inspect.py",
    "type": "method",
    "class": "Inspect",
    "method": "_render",
    "name": "_render",
    "content": "class Inspect:\n    def _render(self) -> Iterable[RenderableType]:\n        \"\"\"Render object.\"\"\"",
    "start_line": 120
  },
  {
    "file": "_inspect.py",
    "type": "method",
    "class": "Inspect",
    "method": "sort_items",
    "name": "sort_items",
    "content": "class Inspect:\n        def sort_items(item: Tuple[str, Any]) -> Tuple[bool, str]:\n            key, (_error, value) = item\n            return (callable(value), key.strip(\"_\").lower())",
    "start_line": 123
  },
  {
    "file": "_inspect.py",
    "type": "method",
    "class": "Inspect",
    "method": "safe_getattr",
    "name": "safe_getattr",
    "content": "class Inspect:\n        def safe_getattr(attr_name: str) -> Tuple[Any, Any]:\n            \"\"\"Get attribute or any exception.\"\"\"\n            try:\n                return (None, getattr(obj, attr_name))\n            except Exception as error:\n                return (error, None)\n\n        obj = self.obj\n        keys = dir(obj)\n        total_items = len(keys)\n        if not self.dunder:\n            keys = [key for key in keys if not key.startswith(\"__\")]\n        if not self.private:\n            keys = [key for key in keys if not key.startswith(\"_\")]\n        not_shown_count = total_items - len(keys)\n        items = [(key, safe_getattr(key)) for key in keys]\n        if self.sort:\n            items.sort(key=sort_items)\n\n        items_table = Table.grid(padding=(0, 1), expand=False)\n        items_table.add_column(justify=\"right\")\n        add_row = items_table.add_row\n        highlighter = self.highlighter\n\n        if callable(obj):\n            signature = self._get_signature(\"\", obj)\n            if signature is not None:\n                yield signature\n                yield \"\"\n\n        if self.docs:\n            _doc = self._get_formatted_doc(obj)\n            if _doc is not None:\n                doc_text = Text(_doc, style=\"inspect.help\")\n                doc_text = highlighter(doc_text)\n                yield doc_text\n                yield \"\"\n\n        if self.value and not (isclass(obj) or callable(obj) or ismodule(obj)):\n            yield Panel(\n                Pretty(obj, indent_guides=True, max_length=10, max_string=60),\n                border_style=\"inspect.value.border\",\n            )\n            yield \"\"\n\n        for key, (error, value) in items:\n            key_text = Text.assemble(\n                (\n                    key,\n                    \"inspect.attr.dunder\" if key.startswith(\"__\") else \"inspect.attr\",\n                ),\n                (\" =\", \"inspect.equals\"),\n            )\n            if error is not None:\n                warning = key_text.copy()\n                warning.stylize(\"inspect.error\")\n                add_row(warning, highlighter(repr(error)))\n                continue\n\n            if callable(value):\n                if not self.methods:\n                    continue\n\n                _signature_text = self._get_signature(key, value)\n                if _signature_text is None:\n                    add_row(key_text, Pretty(value, highlighter=highlighter))\n                else:\n                    if self.docs:\n                        docs = self._get_formatted_doc(value)\n                        if docs is not None:\n                            _signature_text.append(\"\\n\" if \"\\n\" in docs else \" \")\n                            doc = highlighter(docs)\n                            doc.stylize(\"inspect.doc\")\n                            _signature_text.append(doc)\n\n                    add_row(key_text, _signature_text)\n            else:\n                add_row(key_text, Pretty(value, highlighter=highlighter))\n        if items_table.row_count:\n            yield items_table\n        elif not_shown_count:\n            yield Text.from_markup(\n                f\"[b cyan]{not_shown_count}[/][i] attribute(s) not shown.[/i] \"\n                f\"Run [b][magenta]inspect[/]([not b]inspect[/])[/b] for options.\"\n            )",
    "start_line": 127
  },
  {
    "file": "_inspect.py",
    "type": "method",
    "class": "Inspect",
    "method": "_get_formatted_doc",
    "name": "_get_formatted_doc",
    "content": "class Inspect:\n    def _get_formatted_doc(self, object_: Any) -> Optional[str]:\n        \"\"\"\n        Extract the docstring of an object, process it and returns it.\n        The processing consists in cleaning up the doctring's indentation,\n        taking only its 1st paragraph if `self.help` is not True,\n        and escape its control codes.\n\n        Args:\n            object_ (Any): the object to get the docstring from.\n\n        Returns:\n            Optional[str]: the processed docstring, or None if no docstring was found.\n        \"\"\"\n        docs = getdoc(object_)\n        if docs is None:\n            return None\n        docs = cleandoc(docs).strip()\n        if not self.help:\n            docs = _first_paragraph(docs)\n        return escape_control_codes(docs)",
    "start_line": 213
  },
  {
    "file": "_inspect.py",
    "type": "function",
    "class": null,
    "method": "get_object_types_mro",
    "name": "get_object_types_mro",
    "content": "def get_object_types_mro(obj: Union[object, Type[Any]]) -> Tuple[type, ...]:\n    \"\"\"Returns the MRO of an object's class, or of the object itself if it's a class.\"\"\"\n    if not hasattr(obj, \"__mro__\"):",
    "start_line": 235
  },
  {
    "file": "_inspect.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# N.B. we cannot use `if type(obj) is type` here because it doesn't work with\n        # some types of classes, such as the ones that use abc.ABCMeta.",
    "start_line": 238
  },
  {
    "file": "_inspect.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "obj = type(obj)\n    return getattr(obj, \"__mro__\", ())",
    "start_line": 240
  },
  {
    "file": "_inspect.py",
    "type": "function",
    "class": null,
    "method": "get_object_types_mro_as_strings",
    "name": "get_object_types_mro_as_strings",
    "content": "def get_object_types_mro_as_strings(obj: object) -> Collection[str]:\n    \"\"\"\n    Returns the MRO of an object's class as full qualified names, or of the object itself if it's a class.\n\n    Examples:\n        `object_types_mro_as_strings(JSONDecoder)` will return `['json.decoder.JSONDecoder', 'builtins.object']`\n    \"\"\"\n    return [\n        f'{getattr(type_, \"__module__\", \"\")}.{getattr(type_, \"__qualname__\", \"\")}'\n        for type_ in get_object_types_mro(obj)\n    ]",
    "start_line": 244
  },
  {
    "file": "_inspect.py",
    "type": "function",
    "class": null,
    "method": "is_object_one_of_types",
    "name": "is_object_one_of_types",
    "content": "def is_object_one_of_types(\n    obj: object, fully_qualified_types_names: Collection[str]\n) -> bool:\n    \"\"\"\n    Returns `True` if the given object's class (or the object itself, if it's a class) has one of the\n    fully qualified names in its MRO.\n    \"\"\"\n    for type_name in get_object_types_mro_as_strings(obj):\n        if type_name in fully_qualified_types_names:\n            return True\n    return False",
    "start_line": 257
  },
  {
    "file": "_inspect.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "import inspect\nfrom inspect import cleandoc, getdoc, getfile, isclass, ismodule, signature\nfrom typing import Any, Collection, Iterable, Optional, Tuple, Type, Union\n\nfrom .console import Group, RenderableType\nfrom .control import escape_control_codes\nfrom .highlighter import ReprHighlighter\nfrom .jupyter import JupyterMixin\nfrom .panel import Panel\nfrom .pretty import Pretty\nfrom .table import Table\nfrom .text import Text, TextType\n\n\ndef _first_paragraph(doc: str) -> str:\n    \"\"\"Get the first paragraph from a docstring.\"\"\"\n    paragraph, _, _ = doc.partition(\"\\n\\n\")\n    return paragraph\n\n\nclass Inspect(JupyterMixin):\n    \"\"\"A renderable to inspect any Python Object.\n\n    Args:\n        obj (Any): An object to inspect.\n        title (str, optional): Title to display over inspect result, or None use type. Defaults to None.\n        help (bool, optional): Show full help text rather than just first paragraph. Defaults to False.\n        methods (bool, optional): Enable inspection of callables. Defaults to False.\n        docs (bool, optional): Also render doc strings. Defaults to True.\n        private (bool, optional): Show private attributes (beginning with underscore). Defaults to False.\n        dunder (bool, optional): Show attributes starting with double underscore. Defaults to False.\n        sort (bool, optional): Sort attributes alphabetically. Defaults to True.\n        all (bool, optional): Show all attributes. Defaults to False.\n        value (bool, optional): Pretty print value of object. Defaults to True.\n    \"\"\"\n\n    def __init__(\n        self,\n        obj: Any,\n        *,\n        title: Optional[TextType] = None,\n        help: bool = False,\n        methods: bool = False,\n        docs: bool = True,\n        private: bool = False,\n        dunder: bool = False,\n        sort: bool = True,\n        all: bool = True,\n        value: bool = True,\n    ) -> None:\n        self.highlighter = ReprHighlighter()\n        self.obj = obj\n        self.title = title or self._make_title(obj)\n        if all:\n            methods = private = dunder = True\n        self.help = help\n        self.methods = methods\n        self.docs = docs or help\n        self.private = private or dunder\n        self.dunder = dunder\n        self.sort = sort\n        self.value = value\n\n    def _make_title(self, obj: Any) -> Text:\n        \"\"\"Make a default title.\"\"\"\n        title_str = (\n            str(obj)\n            if (isclass(obj) or callable(obj) or ismodule(obj))\n            else str(type(obj))\n        )\n        title_text = self.highlighter(title_str)\n        return title_text\n\n    def __rich__(self) -> Panel:\n        return Panel.fit(\n            Group(*self._render()),\n            title=self.title,\n            border_style=\"scope.border\",\n            padding=(0, 1),\n        )\n\n    def _get_signature(self, name: str, obj: Any) -> Optional[Text]:\n        \"\"\"Get a signature for a callable.\"\"\"\n        try:\n            _signature = str(signature(obj)) + \":\"\n        except ValueError:\n            _signature = \"(...)\"\n        except TypeError:\n            return None\n\n        source_filename: Optional[str] = None\n        try:\n            source_filename = getfile(obj)\n        except (OSError, TypeError):\n            # OSError is raised if obj has no source file, e.g. when defined in REPL.\n            pass\n\n        callable_name = Text(name, style=\"inspect.callable\")\n        if source_filename:\n            callable_name.stylize(f\"link file://{source_filename}\")\n        signature_text = self.highlighter(_signature)\n\n        qualname = name or getattr(obj, \"__qualname__\", name)\n\n        # If obj is a module, there may be classes (which are callable) to display\n        if inspect.isclass(obj):\n            prefix = \"class\"\n        elif inspect.iscoroutinefunction(obj):\n            prefix = \"async def\"\n        else:\n            prefix = \"def\"\n\n        qual_signature = Text.assemble(\n            (f\"{prefix} \", f\"inspect.{prefix.replace(' ', '_')}\"),\n            (qualname, \"inspect.callable\"),\n            signature_text,\n        )\n\n        return qual_signature\n\n    def _render(self) -> Iterable[RenderableType]:\n        \"\"\"Render object.\"\"\"\n\n        def sort_items(item: Tuple[str, Any]) -> Tuple[bool, str]:\n            key, (_error, value) = item\n            return (callable(value), key.strip(\"_\").lower())\n\n        def safe_getattr(attr_name: str) -> Tuple[Any, Any]:\n            \"\"\"Get attribute or any exception.\"\"\"\n            try:\n                return (None, getattr(obj, attr_name))\n            except Exception as error:\n                return (error, None)\n\n        obj = self.obj\n        keys = dir(obj)\n        total_items = len(keys)\n        if not self.dunder:\n            keys = [key for key in keys if not key.startswith(\"__\")]\n        if not self.private:\n            keys = [key for key in keys if not key.startswith(\"_\")]\n        not_shown_count = total_items - len(keys)\n        items = [(key, safe_getattr(key)) for key in keys]\n        if self.sort:\n            items.sort(key=sort_items)\n\n        items_table = Table.grid(padding=(0, 1), expand=False)\n        items_table.add_column(justify=\"right\")\n        add_row = items_table.add_row\n        highlighter = self.highlighter\n\n        if callable(obj):\n            signature = self._get_signature(\"\", obj)\n            if signature is not None:\n                yield signature\n                yield \"\"\n\n        if self.docs:\n            _doc = self._get_formatted_doc(obj)\n            if _doc is not None:\n                doc_text = Text(_doc, style=\"inspect.help\")\n                doc_text = highlighter(doc_text)\n                yield doc_text\n                yield \"\"\n\n        if self.value and not (isclass(obj) or callable(obj) or ismodule(obj)):\n            yield Panel(\n                Pretty(obj, indent_guides=True, max_length=10, max_string=60),\n                border_style=\"inspect.value.border\",\n            )\n            yield \"\"\n\n        for key, (error, value) in items:\n            key_text = Text.assemble(\n                (\n                    key,\n                    \"inspect.attr.dunder\" if key.startswith(\"__\") else \"inspect.attr\",\n                ),\n                (\" =\", \"inspect.equals\"),\n            )\n            if error is not None:\n                warning = key_text.copy()\n                warning.stylize(\"inspect.error\")\n                add_row(warning, highlighter(repr(error)))\n                continue\n\n            if callable(value):\n                if not self.methods:\n                    continue\n\n                _signature_text = self._get_signature(key, value)\n                if _signature_text is None:\n                    add_row(key_text, Pretty(value, highlighter=highlighter))\n                else:\n                    if self.docs:\n                        docs = self._get_formatted_doc(value)\n                        if docs is not None:\n                            _signature_text.append(\"\\n\" if \"\\n\" in docs else \" \")\n                            doc = highlighter(docs)\n                            doc.stylize(\"inspect.doc\")\n                            _signature_text.append(doc)\n\n                    add_row(key_text, _signature_text)\n            else:\n                add_row(key_text, Pretty(value, highlighter=highlighter))\n        if items_table.row_count:\n            yield items_table\n        elif not_shown_count:\n            yield Text.from_markup(\n                f\"[b cyan]{not_shown_count}[/][i] attribute(s) not shown.[/i] \"\n                f\"Run [b][magenta]inspect[/]([not b]inspect[/])[/b] for options.\"\n            )\n\n    def _get_formatted_doc(self, object_: Any) -> Optional[str]:\n        \"\"\"\n        Extract the docstring of an object, process it and returns it.\n        The processing consists in cleaning up the doctring's indentation,\n        taking only its 1st paragraph if `self.help` is not True,\n        and escape its control codes.\n\n        Args:\n            object_ (Any): the object to get the docstring from.\n\n        Returns:\n            Optional[str]: the processed docstring, or None if no docstring was found.\n        \"\"\"\n        docs = getdoc(object_)\n        if docs is None:\n            return None\n        docs = cleandoc(docs).strip()\n        if not self.help:\n            docs = _first_paragraph(docs)\n        return escape_control_codes(docs)\n\n\ndef get_object_types_mro(obj: Union[object, Type[Any]]) -> Tuple[type, ...]:\n    \"\"\"Returns the MRO of an object's class, or of the object itself if it's a class.\"\"\"\n    if not hasattr(obj, \"__mro__\"):\n        # N.B. we cannot use `if type(obj) is type` here because it doesn't work with\n        # some types of classes, such as the ones that use abc.ABCMeta.\n        obj = type(obj)\n    return getattr(obj, \"__mro__\", ())\n\n\ndef get_object_types_mro_as_strings(obj: object) -> Collection[str]:\n    \"\"\"\n    Returns the MRO of an object's class as full qualified names, or of the object itself if it's a class.\n\n    Examples:\n        `object_types_mro_as_strings(JSONDecoder)` will return `['json.decoder.JSONDecoder', 'builtins.object']`\n    \"\"\"\n    return [\n        f'{getattr(type_, \"__module__\", \"\")}.{getattr(type_, \"__qualname__\", \"\")}'\n        for type_ in get_object_types_mro(obj)\n    ]\n\n\ndef is_object_one_of_types(\n    obj: object, fully_qualified_types_names: Collection[str]\n) -> bool:\n    \"\"\"\n    Returns `True` if the given object's class (or the object itself, if it's a class) has one of the\n    fully qualified names in its MRO.\n    \"\"\"\n    for type_name in get_object_types_mro_as_strings(obj):\n        if type_name in fully_qualified_types_names:\n            return True\n    return False\n",
    "start_line": 0
  },
  {
    "file": "markdown.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from __future__ import annotations\nimport sys\nfrom typing import ClassVar, Iterable\nfrom markdown_it import MarkdownIt\nfrom markdown_it.token import Token\nif sys.version_info >= (3, 8):\n    from typing import get_args\nelse:\n    from typing_extensions import get_args  # pragma: no cover\nfrom rich.table import Table\nfrom . import box\nfrom ._loop import loop_first\nfrom ._stack import Stack\nfrom .console import Console, ConsoleOptions, JustifyMethod, RenderResult\nfrom .containers import Renderables\nfrom .jupyter import JupyterMixin\nfrom .panel import Panel\nfrom .rule import Rule\nfrom .segment import Segment\nfrom .style import Style, StyleStack\nfrom .syntax import Syntax\nfrom .text import Text, TextType",
    "start_line": 0
  },
  {
    "file": "markdown.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "MarkdownElement",
    "content": "class MarkdownElement:\n    new_line: ClassVar[bool] = True\n\n    @classmethod",
    "start_line": 29
  },
  {
    "file": "markdown.py",
    "type": "method",
    "class": "MarkdownElement",
    "method": "create",
    "name": "create",
    "content": "class MarkdownElement:\n    def create(cls, markdown: Markdown, token: Token) -> MarkdownElement:\n        \"\"\"Factory to create markdown element,\n\n        Args:\n            markdown (Markdown): The parent Markdown object.\n            token (Token): A node from markdown-it.\n\n        Returns:\n            MarkdownElement: A new markdown element\n        \"\"\"\n        return cls()",
    "start_line": 33
  },
  {
    "file": "markdown.py",
    "type": "method",
    "class": "MarkdownElement",
    "method": "on_enter",
    "name": "on_enter",
    "content": "class MarkdownElement:\n    def on_enter(self, context: MarkdownContext) -> None:\n        \"\"\"Called when the node is entered.\n\n        Args:\n            context (MarkdownContext): The markdown context.\n        \"\"\"",
    "start_line": 45
  },
  {
    "file": "markdown.py",
    "type": "method",
    "class": "MarkdownElement",
    "method": "on_text",
    "name": "on_text",
    "content": "class MarkdownElement:\n    def on_text(self, context: MarkdownContext, text: TextType) -> None:\n        \"\"\"Called when text is parsed.\n\n        Args:\n            context (MarkdownContext): The markdown context.\n        \"\"\"",
    "start_line": 52
  },
  {
    "file": "markdown.py",
    "type": "method",
    "class": "MarkdownElement",
    "method": "on_leave",
    "name": "on_leave",
    "content": "class MarkdownElement:\n    def on_leave(self, context: MarkdownContext) -> None:\n        \"\"\"Called when the parser leaves the element.\n\n        Args:\n            context (MarkdownContext): [description]\n        \"\"\"",
    "start_line": 59
  },
  {
    "file": "markdown.py",
    "type": "method",
    "class": "MarkdownElement",
    "method": "on_child_close",
    "name": "on_child_close",
    "content": "class MarkdownElement:\n    def on_child_close(self, context: MarkdownContext, child: MarkdownElement) -> bool:\n        \"\"\"Called when a child element is closed.\n\n        This method allows a parent element to take over rendering of its children.\n\n        Args:\n            context (MarkdownContext): The markdown context.\n            child (MarkdownElement): The child markdown element.\n\n        Returns:\n            bool: Return True to render the element, or False to not render the element.\n        \"\"\"\n        return True",
    "start_line": 66
  },
  {
    "file": "markdown.py",
    "type": "method",
    "class": "MarkdownElement",
    "method": "__rich_console__",
    "name": "__rich_console__",
    "content": "class MarkdownElement:\n    def __rich_console__(\n        self, console: Console, options: ConsoleOptions\n    ) -> RenderResult:\n        return ()",
    "start_line": 80
  },
  {
    "file": "markdown.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "UnknownElement",
    "content": "class UnknownElement(MarkdownElement):\n    \"\"\"An unknown element.\n\n    Hopefully there will be no unknown elements, and we will have a MarkdownElement for\n    everything in the document.\n\n    \"\"\"",
    "start_line": 86
  },
  {
    "file": "markdown.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "TextElement",
    "content": "class TextElement(MarkdownElement):\n    \"\"\"Base class for elements that render text.\"\"\"\n\n    style_name = \"none\"",
    "start_line": 95
  },
  {
    "file": "markdown.py",
    "type": "method",
    "class": "TextElement",
    "method": "on_enter",
    "name": "on_enter",
    "content": "class TextElement:\n    def on_enter(self, context: MarkdownContext) -> None:\n        self.style = context.enter_style(self.style_name)\n        self.text = Text(justify=\"left\")",
    "start_line": 100
  },
  {
    "file": "markdown.py",
    "type": "method",
    "class": "TextElement",
    "method": "on_text",
    "name": "on_text",
    "content": "class TextElement:\n    def on_text(self, context: MarkdownContext, text: TextType) -> None:\n        self.text.append(text, context.current_style if isinstance(text, str) else None)",
    "start_line": 104
  },
  {
    "file": "markdown.py",
    "type": "method",
    "class": "TextElement",
    "method": "on_leave",
    "name": "on_leave",
    "content": "class TextElement:\n    def on_leave(self, context: MarkdownContext) -> None:\n        context.leave_style()",
    "start_line": 107
  },
  {
    "file": "markdown.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "Paragraph",
    "content": "class Paragraph(TextElement):\n    \"\"\"A Paragraph.\"\"\"\n\n    style_name = \"markdown.paragraph\"\n    justify: JustifyMethod\n\n    @classmethod",
    "start_line": 111
  },
  {
    "file": "markdown.py",
    "type": "method",
    "class": "Paragraph",
    "method": "create",
    "name": "create",
    "content": "class Paragraph:\n    def create(cls, markdown: Markdown, token: Token) -> Paragraph:\n        return cls(justify=markdown.justify or \"left\")",
    "start_line": 118
  },
  {
    "file": "markdown.py",
    "type": "method",
    "class": "Paragraph",
    "method": "__init__",
    "name": "__init__",
    "content": "class Paragraph:\n    def __init__(self, justify: JustifyMethod) -> None:\n        self.justify = justify",
    "start_line": 121
  },
  {
    "file": "markdown.py",
    "type": "method",
    "class": "Paragraph",
    "method": "__rich_console__",
    "name": "__rich_console__",
    "content": "class Paragraph:\n    def __rich_console__(\n        self, console: Console, options: ConsoleOptions\n    ) -> RenderResult:\n        self.text.justify = self.justify\n        yield self.text",
    "start_line": 124
  },
  {
    "file": "markdown.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "Heading",
    "content": "class Heading(TextElement):\n    \"\"\"A heading.\"\"\"\n\n    @classmethod",
    "start_line": 131
  },
  {
    "file": "markdown.py",
    "type": "method",
    "class": "Heading",
    "method": "create",
    "name": "create",
    "content": "class Heading:\n    def create(cls, markdown: Markdown, token: Token) -> Heading:\n        return cls(token.tag)",
    "start_line": 135
  },
  {
    "file": "markdown.py",
    "type": "method",
    "class": "Heading",
    "method": "on_enter",
    "name": "on_enter",
    "content": "class Heading:\n    def on_enter(self, context: MarkdownContext) -> None:\n        self.text = Text()\n        context.enter_style(self.style_name)",
    "start_line": 138
  },
  {
    "file": "markdown.py",
    "type": "method",
    "class": "Heading",
    "method": "__init__",
    "name": "__init__",
    "content": "class Heading:\n    def __init__(self, tag: str) -> None:\n        self.tag = tag\n        self.style_name = f\"markdown.{tag}\"\n        super().__init__()",
    "start_line": 142
  },
  {
    "file": "markdown.py",
    "type": "method",
    "class": "Heading",
    "method": "__rich_console__",
    "name": "__rich_console__",
    "content": "class Heading:\n    def __rich_console__(\n        self, console: Console, options: ConsoleOptions\n    ) -> RenderResult:\n        text = self.text\n        text.justify = \"center\"\n        if self.tag == \"h1\":",
    "start_line": 147
  },
  {
    "file": "markdown.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# Draw a border around h1s\n            yield Panel(\n                text,\n                box=box.HEAVY,\n                style=\"markdown.h1.border\",\n            )\n        else:\n            # Styled text for h2 and beyond\n            if self.tag == \"h2\":\n                yield Text(\"\")\n            yield text",
    "start_line": 153
  },
  {
    "file": "markdown.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "CodeBlock",
    "content": "class CodeBlock(TextElement):\n    \"\"\"A code block with syntax highlighting.\"\"\"\n\n    style_name = \"markdown.code_block\"\n\n    @classmethod",
    "start_line": 166
  },
  {
    "file": "markdown.py",
    "type": "method",
    "class": "CodeBlock",
    "method": "create",
    "name": "create",
    "content": "class CodeBlock:\n    def create(cls, markdown: Markdown, token: Token) -> CodeBlock:\n        node_info = token.info or \"\"\n        lexer_name = node_info.partition(\" \")[0]\n        return cls(lexer_name or \"text\", markdown.code_theme)",
    "start_line": 172
  },
  {
    "file": "markdown.py",
    "type": "method",
    "class": "CodeBlock",
    "method": "__init__",
    "name": "__init__",
    "content": "class CodeBlock:\n    def __init__(self, lexer_name: str, theme: str) -> None:\n        self.lexer_name = lexer_name\n        self.theme = theme",
    "start_line": 177
  },
  {
    "file": "markdown.py",
    "type": "method",
    "class": "CodeBlock",
    "method": "__rich_console__",
    "name": "__rich_console__",
    "content": "class CodeBlock:\n    def __rich_console__(\n        self, console: Console, options: ConsoleOptions\n    ) -> RenderResult:\n        code = str(self.text).rstrip()\n        syntax = Syntax(\n            code, self.lexer_name, theme=self.theme, word_wrap=True, padding=1\n        )\n        yield syntax",
    "start_line": 181
  },
  {
    "file": "markdown.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "BlockQuote",
    "content": "class BlockQuote(TextElement):\n    \"\"\"A block quote.\"\"\"\n\n    style_name = \"markdown.block_quote\"",
    "start_line": 191
  },
  {
    "file": "markdown.py",
    "type": "method",
    "class": "BlockQuote",
    "method": "__init__",
    "name": "__init__",
    "content": "class BlockQuote:\n    def __init__(self) -> None:\n        self.elements: Renderables = Renderables()",
    "start_line": 196
  },
  {
    "file": "markdown.py",
    "type": "method",
    "class": "BlockQuote",
    "method": "on_child_close",
    "name": "on_child_close",
    "content": "class BlockQuote:\n    def on_child_close(self, context: MarkdownContext, child: MarkdownElement) -> bool:\n        self.elements.append(child)\n        return False",
    "start_line": 199
  },
  {
    "file": "markdown.py",
    "type": "method",
    "class": "BlockQuote",
    "method": "__rich_console__",
    "name": "__rich_console__",
    "content": "class BlockQuote:\n    def __rich_console__(\n        self, console: Console, options: ConsoleOptions\n    ) -> RenderResult:\n        render_options = options.update(width=options.max_width - 4)\n        lines = console.render_lines(self.elements, render_options, style=self.style)\n        style = self.style\n        new_line = Segment(\"\\n\")\n        padding = Segment(\" \", style)\n        for line in lines:\n            yield padding\n            yield from line\n            yield new_line",
    "start_line": 203
  },
  {
    "file": "markdown.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "HorizontalRule",
    "content": "class HorizontalRule(MarkdownElement):\n    \"\"\"A horizontal rule to divide sections.\"\"\"\n\n    new_line = False",
    "start_line": 217
  },
  {
    "file": "markdown.py",
    "type": "method",
    "class": "HorizontalRule",
    "method": "__rich_console__",
    "name": "__rich_console__",
    "content": "class HorizontalRule:\n    def __rich_console__(\n        self, console: Console, options: ConsoleOptions\n    ) -> RenderResult:\n        style = console.get_style(\"markdown.hr\", default=\"none\")\n        yield Rule(style=style)",
    "start_line": 222
  },
  {
    "file": "markdown.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "TableElement",
    "content": "class TableElement(MarkdownElement):\n    \"\"\"MarkdownElement corresponding to `table_open`.\"\"\"",
    "start_line": 229
  },
  {
    "file": "markdown.py",
    "type": "method",
    "class": "TableElement",
    "method": "__init__",
    "name": "__init__",
    "content": "class TableElement:\n    def __init__(self) -> None:\n        self.header: TableHeaderElement | None = None\n        self.body: TableBodyElement | None = None",
    "start_line": 232
  },
  {
    "file": "markdown.py",
    "type": "method",
    "class": "TableElement",
    "method": "on_child_close",
    "name": "on_child_close",
    "content": "class TableElement:\n    def on_child_close(self, context: MarkdownContext, child: MarkdownElement) -> bool:\n        if isinstance(child, TableHeaderElement):\n            self.header = child\n        elif isinstance(child, TableBodyElement):\n            self.body = child\n        else:\n            raise RuntimeError(\"Couldn't process markdown table.\")\n        return False",
    "start_line": 236
  },
  {
    "file": "markdown.py",
    "type": "method",
    "class": "TableElement",
    "method": "__rich_console__",
    "name": "__rich_console__",
    "content": "class TableElement:\n    def __rich_console__(\n        self, console: Console, options: ConsoleOptions\n    ) -> RenderResult:\n        table = Table(box=box.SIMPLE_HEAVY)\n\n        if self.header is not None and self.header.row is not None:\n            for column in self.header.row.cells:\n                table.add_column(column.content)\n\n        if self.body is not None:\n            for row in self.body.rows:\n                row_content = [element.content for element in row.cells]\n                table.add_row(*row_content)\n\n        yield table",
    "start_line": 245
  },
  {
    "file": "markdown.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "TableHeaderElement",
    "content": "class TableHeaderElement(MarkdownElement):\n    \"\"\"MarkdownElement corresponding to `thead_open` and `thead_close`.\"\"\"",
    "start_line": 262
  },
  {
    "file": "markdown.py",
    "type": "method",
    "class": "TableHeaderElement",
    "method": "__init__",
    "name": "__init__",
    "content": "class TableHeaderElement:\n    def __init__(self) -> None:\n        self.row: TableRowElement | None = None",
    "start_line": 265
  },
  {
    "file": "markdown.py",
    "type": "method",
    "class": "TableHeaderElement",
    "method": "on_child_close",
    "name": "on_child_close",
    "content": "class TableHeaderElement:\n    def on_child_close(self, context: MarkdownContext, child: MarkdownElement) -> bool:\n        assert isinstance(child, TableRowElement)\n        self.row = child\n        return False",
    "start_line": 268
  },
  {
    "file": "markdown.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "TableBodyElement",
    "content": "class TableBodyElement(MarkdownElement):\n    \"\"\"MarkdownElement corresponding to `tbody_open` and `tbody_close`.\"\"\"",
    "start_line": 274
  },
  {
    "file": "markdown.py",
    "type": "method",
    "class": "TableBodyElement",
    "method": "__init__",
    "name": "__init__",
    "content": "class TableBodyElement:\n    def __init__(self) -> None:\n        self.rows: list[TableRowElement] = []",
    "start_line": 277
  },
  {
    "file": "markdown.py",
    "type": "method",
    "class": "TableBodyElement",
    "method": "on_child_close",
    "name": "on_child_close",
    "content": "class TableBodyElement:\n    def on_child_close(self, context: MarkdownContext, child: MarkdownElement) -> bool:\n        assert isinstance(child, TableRowElement)\n        self.rows.append(child)\n        return False",
    "start_line": 280
  },
  {
    "file": "markdown.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "TableRowElement",
    "content": "class TableRowElement(MarkdownElement):\n    \"\"\"MarkdownElement corresponding to `tr_open` and `tr_close`.\"\"\"",
    "start_line": 286
  },
  {
    "file": "markdown.py",
    "type": "method",
    "class": "TableRowElement",
    "method": "__init__",
    "name": "__init__",
    "content": "class TableRowElement:\n    def __init__(self) -> None:\n        self.cells: list[TableDataElement] = []",
    "start_line": 289
  },
  {
    "file": "markdown.py",
    "type": "method",
    "class": "TableRowElement",
    "method": "on_child_close",
    "name": "on_child_close",
    "content": "class TableRowElement:\n    def on_child_close(self, context: MarkdownContext, child: MarkdownElement) -> bool:\n        assert isinstance(child, TableDataElement)\n        self.cells.append(child)\n        return False",
    "start_line": 292
  },
  {
    "file": "markdown.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "TableDataElement",
    "content": "class TableDataElement(MarkdownElement):\n    \"\"\"MarkdownElement corresponding to `td_open` and `td_close`\n    and `th_open` and `th_close`.\"\"\"\n\n    @classmethod",
    "start_line": 298
  },
  {
    "file": "markdown.py",
    "type": "method",
    "class": "TableDataElement",
    "method": "create",
    "name": "create",
    "content": "class TableDataElement:\n    def create(cls, markdown: Markdown, token: Token) -> MarkdownElement:\n        style = str(token.attrs.get(\"style\")) or \"\"\n\n        justify: JustifyMethod\n        if \"text-align:right\" in style:\n            justify = \"right\"\n        elif \"text-align:center\" in style:\n            justify = \"center\"\n        elif \"text-align:left\" in style:\n            justify = \"left\"\n        else:\n            justify = \"default\"\n\n        assert justify in get_args(JustifyMethod)\n        return cls(justify=justify)",
    "start_line": 303
  },
  {
    "file": "markdown.py",
    "type": "method",
    "class": "TableDataElement",
    "method": "__init__",
    "name": "__init__",
    "content": "class TableDataElement:\n    def __init__(self, justify: JustifyMethod) -> None:\n        self.content: Text = Text(\"\", justify=justify)\n        self.justify = justify",
    "start_line": 319
  },
  {
    "file": "markdown.py",
    "type": "method",
    "class": "TableDataElement",
    "method": "on_text",
    "name": "on_text",
    "content": "class TableDataElement:\n    def on_text(self, context: MarkdownContext, text: TextType) -> None:\n        text = Text(text) if isinstance(text, str) else text\n        text.stylize(context.current_style)\n        self.content.append_text(text)",
    "start_line": 323
  },
  {
    "file": "markdown.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "ListElement",
    "content": "class ListElement(MarkdownElement):\n    \"\"\"A list element.\"\"\"\n\n    @classmethod",
    "start_line": 329
  },
  {
    "file": "markdown.py",
    "type": "method",
    "class": "ListElement",
    "method": "create",
    "name": "create",
    "content": "class ListElement:\n    def create(cls, markdown: Markdown, token: Token) -> ListElement:\n        return cls(token.type, int(token.attrs.get(\"start\", 1)))",
    "start_line": 333
  },
  {
    "file": "markdown.py",
    "type": "method",
    "class": "ListElement",
    "method": "__init__",
    "name": "__init__",
    "content": "class ListElement:\n    def __init__(self, list_type: str, list_start: int | None) -> None:\n        self.items: list[ListItem] = []\n        self.list_type = list_type\n        self.list_start = list_start",
    "start_line": 336
  },
  {
    "file": "markdown.py",
    "type": "method",
    "class": "ListElement",
    "method": "on_child_close",
    "name": "on_child_close",
    "content": "class ListElement:\n    def on_child_close(self, context: MarkdownContext, child: MarkdownElement) -> bool:\n        assert isinstance(child, ListItem)\n        self.items.append(child)\n        return False",
    "start_line": 341
  },
  {
    "file": "markdown.py",
    "type": "method",
    "class": "ListElement",
    "method": "__rich_console__",
    "name": "__rich_console__",
    "content": "class ListElement:\n    def __rich_console__(\n        self, console: Console, options: ConsoleOptions\n    ) -> RenderResult:\n        if self.list_type == \"bullet_list_open\":\n            for item in self.items:\n                yield from item.render_bullet(console, options)\n        else:\n            number = 1 if self.list_start is None else self.list_start\n            last_number = number + len(self.items)\n            for index, item in enumerate(self.items):\n                yield from item.render_number(\n                    console, options, number + index, last_number\n                )",
    "start_line": 346
  },
  {
    "file": "markdown.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "ListItem",
    "content": "class ListItem(TextElement):\n    \"\"\"An item in a list.\"\"\"\n\n    style_name = \"markdown.item\"",
    "start_line": 361
  },
  {
    "file": "markdown.py",
    "type": "method",
    "class": "ListItem",
    "method": "__init__",
    "name": "__init__",
    "content": "class ListItem:\n    def __init__(self) -> None:\n        self.elements: Renderables = Renderables()",
    "start_line": 366
  },
  {
    "file": "markdown.py",
    "type": "method",
    "class": "ListItem",
    "method": "on_child_close",
    "name": "on_child_close",
    "content": "class ListItem:\n    def on_child_close(self, context: MarkdownContext, child: MarkdownElement) -> bool:\n        self.elements.append(child)\n        return False",
    "start_line": 369
  },
  {
    "file": "markdown.py",
    "type": "method",
    "class": "ListItem",
    "method": "render_bullet",
    "name": "render_bullet",
    "content": "class ListItem:\n    def render_bullet(self, console: Console, options: ConsoleOptions) -> RenderResult:\n        render_options = options.update(width=options.max_width - 3)\n        lines = console.render_lines(self.elements, render_options, style=self.style)\n        bullet_style = console.get_style(\"markdown.item.bullet\", default=\"none\")\n\n        bullet = Segment(\"  \", bullet_style)\n        padding = Segment(\" \" * 3, bullet_style)\n        new_line = Segment(\"\\n\")\n        for first, line in loop_first(lines):\n            yield bullet if first else padding\n            yield from line\n            yield new_line",
    "start_line": 373
  },
  {
    "file": "markdown.py",
    "type": "method",
    "class": "ListItem",
    "method": "render_number",
    "name": "render_number",
    "content": "class ListItem:\n    def render_number(\n        self, console: Console, options: ConsoleOptions, number: int, last_number: int\n    ) -> RenderResult:\n        number_width = len(str(last_number)) + 2\n        render_options = options.update(width=options.max_width - number_width)\n        lines = console.render_lines(self.elements, render_options, style=self.style)\n        number_style = console.get_style(\"markdown.item.number\", default=\"none\")\n\n        new_line = Segment(\"\\n\")\n        padding = Segment(\" \" * number_width, number_style)\n        numeral = Segment(f\"{number}\".rjust(number_width - 1) + \" \", number_style)\n        for first, line in loop_first(lines):\n            yield numeral if first else padding\n            yield from line\n            yield new_line",
    "start_line": 386
  },
  {
    "file": "markdown.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "Link",
    "content": "class Link(TextElement):\n    @classmethod",
    "start_line": 403
  },
  {
    "file": "markdown.py",
    "type": "method",
    "class": "Link",
    "method": "create",
    "name": "create",
    "content": "class Link:\n    def create(cls, markdown: Markdown, token: Token) -> MarkdownElement:\n        url = token.attrs.get(\"href\", \"#\")\n        return cls(token.content, str(url))",
    "start_line": 405
  },
  {
    "file": "markdown.py",
    "type": "method",
    "class": "Link",
    "method": "__init__",
    "name": "__init__",
    "content": "class Link:\n    def __init__(self, text: str, href: str):\n        self.text = Text(text)\n        self.href = href",
    "start_line": 409
  },
  {
    "file": "markdown.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "ImageItem",
    "content": "class ImageItem(TextElement):\n    \"\"\"Renders a placeholder for an image.\"\"\"\n\n    new_line = False\n\n    @classmethod",
    "start_line": 414
  },
  {
    "file": "markdown.py",
    "type": "method",
    "class": "ImageItem",
    "method": "create",
    "name": "create",
    "content": "class ImageItem:\n    def create(cls, markdown: Markdown, token: Token) -> MarkdownElement:\n        \"\"\"Factory to create markdown element,\n\n        Args:\n            markdown (Markdown): The parent Markdown object.\n            token (Any): A token from markdown-it.\n\n        Returns:\n            MarkdownElement: A new markdown element\n        \"\"\"\n        return cls(str(token.attrs.get(\"src\", \"\")), markdown.hyperlinks)",
    "start_line": 420
  },
  {
    "file": "markdown.py",
    "type": "method",
    "class": "ImageItem",
    "method": "__init__",
    "name": "__init__",
    "content": "class ImageItem:\n    def __init__(self, destination: str, hyperlinks: bool) -> None:\n        self.destination = destination\n        self.hyperlinks = hyperlinks\n        self.link: str | None = None\n        super().__init__()",
    "start_line": 432
  },
  {
    "file": "markdown.py",
    "type": "method",
    "class": "ImageItem",
    "method": "on_enter",
    "name": "on_enter",
    "content": "class ImageItem:\n    def on_enter(self, context: MarkdownContext) -> None:\n        self.link = context.current_style.link\n        self.text = Text(justify=\"left\")\n        super().on_enter(context)",
    "start_line": 438
  },
  {
    "file": "markdown.py",
    "type": "method",
    "class": "ImageItem",
    "method": "__rich_console__",
    "name": "__rich_console__",
    "content": "class ImageItem:\n    def __rich_console__(\n        self, console: Console, options: ConsoleOptions\n    ) -> RenderResult:\n        link_style = Style(link=self.link or self.destination or None)\n        title = self.text or Text(self.destination.strip(\"/\").rsplit(\"/\", 1)[-1])\n        if self.hyperlinks:\n            title.stylize(link_style)\n        text = Text.assemble(\" \", title, \" \", end=\"\")\n        yield text",
    "start_line": 443
  },
  {
    "file": "markdown.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "MarkdownContext",
    "content": "class MarkdownContext:\n    \"\"\"Manages the console render state.\"\"\"",
    "start_line": 454
  },
  {
    "file": "markdown.py",
    "type": "method",
    "class": "MarkdownContext",
    "method": "__init__",
    "name": "__init__",
    "content": "class MarkdownContext:\n    def __init__(\n        self,\n        console: Console,\n        options: ConsoleOptions,\n        style: Style,\n        inline_code_lexer: str | None = None,\n        inline_code_theme: str = \"monokai\",\n    ) -> None:\n        self.console = console\n        self.options = options\n        self.style_stack: StyleStack = StyleStack(style)\n        self.stack: Stack[MarkdownElement] = Stack()\n\n        self._syntax: Syntax | None = None\n        if inline_code_lexer is not None:\n            self._syntax = Syntax(\"\", inline_code_lexer, theme=inline_code_theme)\n\n    @property",
    "start_line": 457
  },
  {
    "file": "markdown.py",
    "type": "method",
    "class": "MarkdownContext",
    "method": "current_style",
    "name": "current_style",
    "content": "class MarkdownContext:\n    def current_style(self) -> Style:\n        \"\"\"Current style which is the product of all styles on the stack.\"\"\"\n        return self.style_stack.current",
    "start_line": 475
  },
  {
    "file": "markdown.py",
    "type": "method",
    "class": "MarkdownContext",
    "method": "on_text",
    "name": "on_text",
    "content": "class MarkdownContext:\n    def on_text(self, text: str, node_type: str) -> None:\n        \"\"\"Called when the parser visits text.\"\"\"\n        if node_type in {\"fence\", \"code_inline\"} and self._syntax is not None:\n            highlight_text = self._syntax.highlight(text)\n            highlight_text.rstrip()\n            self.stack.top.on_text(\n                self, Text.assemble(highlight_text, style=self.style_stack.current)\n            )\n        else:\n            self.stack.top.on_text(self, text)",
    "start_line": 479
  },
  {
    "file": "markdown.py",
    "type": "method",
    "class": "MarkdownContext",
    "method": "enter_style",
    "name": "enter_style",
    "content": "class MarkdownContext:\n    def enter_style(self, style_name: str | Style) -> Style:\n        \"\"\"Enter a style context.\"\"\"\n        style = self.console.get_style(style_name, default=\"none\")\n        self.style_stack.push(style)\n        return self.current_style",
    "start_line": 490
  },
  {
    "file": "markdown.py",
    "type": "method",
    "class": "MarkdownContext",
    "method": "leave_style",
    "name": "leave_style",
    "content": "class MarkdownContext:\n    def leave_style(self) -> Style:\n        \"\"\"Leave a style context.\"\"\"\n        style = self.style_stack.pop()\n        return style",
    "start_line": 496
  },
  {
    "file": "markdown.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "Markdown",
    "content": "class Markdown(JupyterMixin):\n    \"\"\"A Markdown renderable.\n\n    Args:\n        markup (str): A string containing markdown.\n        code_theme (str, optional): Pygments theme for code blocks. Defaults to \"monokai\". See https://pygments.org/styles/ for code themes.\n        justify (JustifyMethod, optional): Justify value for paragraphs. Defaults to None.\n        style (Union[str, Style], optional): Optional style to apply to markdown.\n        hyperlinks (bool, optional): Enable hyperlinks. Defaults to ``True``.\n        inline_code_lexer: (str, optional): Lexer to use if inline code highlighting is\n            enabled. Defaults to None.\n        inline_code_theme: (Optional[str], optional): Pygments theme for inline code\n            highlighting, or None for no highlighting. Defaults to None.\n    \"\"\"\n\n    elements: ClassVar[dict[str, type[MarkdownElement]]] = {\n        \"paragraph_open\": Paragraph,\n        \"heading_open\": Heading,\n        \"fence\": CodeBlock,\n        \"code_block\": CodeBlock,\n        \"blockquote_open\": BlockQuote,\n        \"hr\": HorizontalRule,\n        \"bullet_list_open\": ListElement,\n        \"ordered_list_open\": ListElement,\n        \"list_item_open\": ListItem,\n        \"image\": ImageItem,\n        \"table_open\": TableElement,\n        \"tbody_open\": TableBodyElement,\n        \"thead_open\": TableHeaderElement,\n        \"tr_open\": TableRowElement,\n        \"td_open\": TableDataElement,\n        \"th_open\": TableDataElement,\n    }\n\n    inlines = {\"em\", \"strong\", \"code\", \"s\"}",
    "start_line": 502
  },
  {
    "file": "markdown.py",
    "type": "method",
    "class": "Markdown",
    "method": "__init__",
    "name": "__init__",
    "content": "class Markdown:\n    def __init__(\n        self,\n        markup: str,\n        code_theme: str = \"monokai\",\n        justify: JustifyMethod | None = None,\n        style: str | Style = \"none\",\n        hyperlinks: bool = True,\n        inline_code_lexer: str | None = None,\n        inline_code_theme: str | None = None,\n    ) -> None:\n        parser = MarkdownIt().enable(\"strikethrough\").enable(\"table\")\n        self.markup = markup\n        self.parsed = parser.parse(markup)\n        self.code_theme = code_theme\n        self.justify: JustifyMethod | None = justify\n        self.style = style\n        self.hyperlinks = hyperlinks\n        self.inline_code_lexer = inline_code_lexer\n        self.inline_code_theme = inline_code_theme or code_theme",
    "start_line": 538
  },
  {
    "file": "markdown.py",
    "type": "method",
    "class": "Markdown",
    "method": "_flatten_tokens",
    "name": "_flatten_tokens",
    "content": "class Markdown:\n    def _flatten_tokens(self, tokens: Iterable[Token]) -> Iterable[Token]:\n        \"\"\"Flattens the token stream.\"\"\"\n        for token in tokens:\n            is_fence = token.type == \"fence\"\n            is_image = token.tag == \"img\"\n            if token.children and not (is_image or is_fence):\n                yield from self._flatten_tokens(token.children)\n            else:\n                yield token",
    "start_line": 558
  },
  {
    "file": "markdown.py",
    "type": "method",
    "class": "Markdown",
    "method": "__rich_console__",
    "name": "__rich_console__",
    "content": "class Markdown:\n    def __rich_console__(\n        self, console: Console, options: ConsoleOptions\n    ) -> RenderResult:\n        \"\"\"Render markdown to the console.\"\"\"\n        style = console.get_style(self.style, default=\"none\")\n        options = options.update(height=None)\n        context = MarkdownContext(\n            console,\n            options,\n            style,\n            inline_code_lexer=self.inline_code_lexer,\n            inline_code_theme=self.inline_code_theme,\n        )\n        tokens = self.parsed\n        inline_style_tags = self.inlines\n        new_line = False\n        _new_line_segment = Segment.line()\n\n        for token in self._flatten_tokens(tokens):\n            node_type = token.type\n            tag = token.tag\n\n            entering = token.nesting == 1\n            exiting = token.nesting == -1\n            self_closing = token.nesting == 0\n\n            if node_type == \"text\":\n                context.on_text(token.content, node_type)\n            elif node_type == \"hardbreak\":\n                context.on_text(\"\\n\", node_type)\n            elif node_type == \"softbreak\":\n                context.on_text(\" \", node_type)\n            elif node_type == \"link_open\":\n                href = str(token.attrs.get(\"href\", \"\"))\n                if self.hyperlinks:\n                    link_style = console.get_style(\"markdown.link_url\", default=\"none\")\n                    link_style += Style(link=href)\n                    context.enter_style(link_style)\n                else:\n                    context.stack.push(Link.create(self, token))\n            elif node_type == \"link_close\":\n                if self.hyperlinks:\n                    context.leave_style()\n                else:\n                    element = context.stack.pop()\n                    assert isinstance(element, Link)\n                    link_style = console.get_style(\"markdown.link\", default=\"none\")\n                    context.enter_style(link_style)\n                    context.on_text(element.text.plain, node_type)\n                    context.leave_style()\n                    context.on_text(\" (\", node_type)\n                    link_url_style = console.get_style(\n                        \"markdown.link_url\", default=\"none\"\n                    )\n                    context.enter_style(link_url_style)\n                    context.on_text(element.href, node_type)\n                    context.leave_style()\n                    context.on_text(\")\", node_type)\n            elif (\n                tag in inline_style_tags\n                and node_type != \"fence\"\n                and node_type != \"code_block\"\n            ):\n                if entering:",
    "start_line": 568
  },
  {
    "file": "markdown.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# If it's an opening inline token e.g. strong, em, etc.\n                    # Then we move into a style context i.e. push to stack.\n                    context.enter_style(f\"markdown.{tag}\")\n                elif exiting:\n                    # If it's a closing inline style, then we pop the style\n                    # off of the stack, to move out of the context of it...\n                    context.leave_style()\n                else:\n                    # If it's a self-closing inline style e.g. `code_inline`\n                    context.enter_style(f\"markdown.{tag}\")\n                    if token.content:\n                        context.on_text(token.content, node_type)\n                    context.leave_style()\n            else:\n                # Map the markdown tag -> MarkdownElement renderable\n                element_class = self.elements.get(token.type) or UnknownElement\n                element = element_class.create(self, token)\n                if entering or self_closing:\n                    context.stack.push(element)\n                    element.on_enter(context)\n                if exiting:  # CLOSING tag\n                    element = context.stack.pop()\n                    should_render = not context.stack or (\n                        context.stack\n                        and context.stack.top.on_child_close(context, element)\n                    )\n                    if should_render:\n                        if new_line:\n                            yield _new_line_segment\n                        yield from console.render(element, context.options)\n                elif self_closing:  # SELF-CLOSING tags (e.g. text, code, image)\n                    context.stack.pop()\n                    text = token.content\n                    if text is not None:\n                        element.on_text(context, text)\n                    should_render = (\n                        not context.stack\n                        or context.stack\n                        and context.stack.top.on_child_close(context, element)\n                    )\n                    if should_render:\n                        if new_line and node_type != \"inline\":\n                            yield _new_line_segment\n                        yield from console.render(element, context.options)\n                if exiting or self_closing:\n                    element.on_leave(context)\n                    new_line = element.new_line\nif __name__ == \"__main__\":  # pragma: no cover",
    "start_line": 632
  },
  {
    "file": "markdown.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "import argparse\n    import sys",
    "start_line": 689
  },
  {
    "file": "markdown.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "parser = argparse.ArgumentParser(\n        description=\"Render Markdown to the console with Rich\"\n    )\n    parser.add_argument(\n        \"path\",\n        metavar=\"PATH\",\n        help=\"path to markdown file, or - for stdin\",\n    )\n    parser.add_argument(\n        \"-c\",\n        \"--force-color\",\n        dest=\"force_color\",\n        action=\"store_true\",\n        default=None,\n        help=\"force color for non-terminals\",\n    )\n    parser.add_argument(\n        \"-t\",\n        \"--code-theme\",\n        dest=\"code_theme\",\n        default=\"monokai\",\n        help=\"pygments code theme\",\n    )\n    parser.add_argument(\n        \"-i\",\n        \"--inline-code-lexer\",\n        dest=\"inline_code_lexer\",\n        default=None,\n        help=\"inline_code_lexer\",\n    )\n    parser.add_argument(\n        \"-y\",\n        \"--hyperlinks\",\n        dest=\"hyperlinks\",\n        action=\"store_true\",\n        help=\"enable hyperlinks\",\n    )\n    parser.add_argument(\n        \"-w\",\n        \"--width\",\n        type=int,\n        dest=\"width\",\n        default=None,\n        help=\"width of output (default will auto-detect)\",\n    )\n    parser.add_argument(\n        \"-j\",\n        \"--justify\",\n        dest=\"justify\",\n        action=\"store_true\",\n        help=\"enable full text justify\",\n    )\n    parser.add_argument(\n        \"-p\",\n        \"--page\",\n        dest=\"page\",\n        action=\"store_true\",\n        help=\"use pager to scroll output\",\n    )\n    args = parser.parse_args()",
    "start_line": 692
  },
  {
    "file": "markdown.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from rich.console import Console\n    if args.path == \"-\":",
    "start_line": 753
  },
  {
    "file": "markdown.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "markdown_body = sys.stdin.read()\n    else:\n        with open(args.path, encoding=\"utf-8\") as markdown_file:\n            markdown_body = markdown_file.read()\n    markdown = Markdown(\n        markdown_body,\n        justify=\"full\" if args.justify else \"left\",\n        code_theme=args.code_theme,\n        hyperlinks=args.hyperlinks,\n        inline_code_lexer=args.inline_code_lexer,\n    )\n    if args.page:",
    "start_line": 756
  },
  {
    "file": "markdown.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "import io\n        import pydoc",
    "start_line": 769
  },
  {
    "file": "markdown.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "fileio = io.StringIO()\n        console = Console(\n            file=fileio, force_terminal=args.force_color, width=args.width\n        )\n        console.print(markdown)\n        pydoc.pager(fileio.getvalue())\n    else:\n        console = Console(\n            force_terminal=args.force_color, width=args.width, record=True\n        )\n        console.print(markdown)",
    "start_line": 772
  },
  {
    "file": "markdown.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "from __future__ import annotations\n\nimport sys\nfrom typing import ClassVar, Iterable\n\nfrom markdown_it import MarkdownIt\nfrom markdown_it.token import Token\n\nif sys.version_info >= (3, 8):\n    from typing import get_args\nelse:\n    from typing_extensions import get_args  # pragma: no cover\n\nfrom rich.table import Table\n\nfrom . import box\nfrom ._loop import loop_first\nfrom ._stack import Stack\nfrom .console import Console, ConsoleOptions, JustifyMethod, RenderResult\nfrom .containers import Renderables\nfrom .jupyter import JupyterMixin\nfrom .panel import Panel\nfrom .rule import Rule\nfrom .segment import Segment\nfrom .style import Style, StyleStack\nfrom .syntax import Syntax\nfrom .text import Text, TextType\n\n\nclass MarkdownElement:\n    new_line: ClassVar[bool] = True\n\n    @classmethod\n    def create(cls, markdown: Markdown, token: Token) -> MarkdownElement:\n        \"\"\"Factory to create markdown element,\n\n        Args:\n            markdown (Markdown): The parent Markdown object.\n            token (Token): A node from markdown-it.\n\n        Returns:\n            MarkdownElement: A new markdown element\n        \"\"\"\n        return cls()\n\n    def on_enter(self, context: MarkdownContext) -> None:\n        \"\"\"Called when the node is entered.\n\n        Args:\n            context (MarkdownContext): The markdown context.\n        \"\"\"\n\n    def on_text(self, context: MarkdownContext, text: TextType) -> None:\n        \"\"\"Called when text is parsed.\n\n        Args:\n            context (MarkdownContext): The markdown context.\n        \"\"\"\n\n    def on_leave(self, context: MarkdownContext) -> None:\n        \"\"\"Called when the parser leaves the element.\n\n        Args:\n            context (MarkdownContext): [description]\n        \"\"\"\n\n    def on_child_close(self, context: MarkdownContext, child: MarkdownElement) -> bool:\n        \"\"\"Called when a child element is closed.\n\n        This method allows a parent element to take over rendering of its children.\n\n        Args:\n            context (MarkdownContext): The markdown context.\n            child (MarkdownElement): The child markdown element.\n\n        Returns:\n            bool: Return True to render the element, or False to not render the element.\n        \"\"\"\n        return True\n\n    def __rich_console__(\n        self, console: Console, options: ConsoleOptions\n    ) -> RenderResult:\n        return ()\n\n\nclass UnknownElement(MarkdownElement):\n    \"\"\"An unknown element.\n\n    Hopefully there will be no unknown elements, and we will have a MarkdownElement for\n    everything in the document.\n\n    \"\"\"\n\n\nclass TextElement(MarkdownElement):\n    \"\"\"Base class for elements that render text.\"\"\"\n\n    style_name = \"none\"\n\n    def on_enter(self, context: MarkdownContext) -> None:\n        self.style = context.enter_style(self.style_name)\n        self.text = Text(justify=\"left\")\n\n    def on_text(self, context: MarkdownContext, text: TextType) -> None:\n        self.text.append(text, context.current_style if isinstance(text, str) else None)\n\n    def on_leave(self, context: MarkdownContext) -> None:\n        context.leave_style()\n\n\nclass Paragraph(TextElement):\n    \"\"\"A Paragraph.\"\"\"\n\n    style_name = \"markdown.paragraph\"\n    justify: JustifyMethod\n\n    @classmethod\n    def create(cls, markdown: Markdown, token: Token) -> Paragraph:\n        return cls(justify=markdown.justify or \"left\")\n\n    def __init__(self, justify: JustifyMethod) -> None:\n        self.justify = justify\n\n    def __rich_console__(\n        self, console: Console, options: ConsoleOptions\n    ) -> RenderResult:\n        self.text.justify = self.justify\n        yield self.text\n\n\nclass Heading(TextElement):\n    \"\"\"A heading.\"\"\"\n\n    @classmethod\n    def create(cls, markdown: Markdown, token: Token) -> Heading:\n        return cls(token.tag)\n\n    def on_enter(self, context: MarkdownContext) -> None:\n        self.text = Text()\n        context.enter_style(self.style_name)\n\n    def __init__(self, tag: str) -> None:\n        self.tag = tag\n        self.style_name = f\"markdown.{tag}\"\n        super().__init__()\n\n    def __rich_console__(\n        self, console: Console, options: ConsoleOptions\n    ) -> RenderResult:\n        text = self.text\n        text.justify = \"center\"\n        if self.tag == \"h1\":\n            # Draw a border around h1s\n            yield Panel(\n                text,\n                box=box.HEAVY,\n                style=\"markdown.h1.border\",\n            )\n        else:\n            # Styled text for h2 and beyond\n            if self.tag == \"h2\":\n                yield Text(\"\")\n            yield text\n\n\nclass CodeBlock(TextElement):\n    \"\"\"A code block with syntax highlighting.\"\"\"\n\n    style_name = \"markdown.code_block\"\n\n    @classmethod\n    def create(cls, markdown: Markdown, token: Token) -> CodeBlock:\n        node_info = token.info or \"\"\n        lexer_name = node_info.partition(\" \")[0]\n        return cls(lexer_name or \"text\", markdown.code_theme)\n\n    def __init__(self, lexer_name: str, theme: str) -> None:\n        self.lexer_name = lexer_name\n        self.theme = theme\n\n    def __rich_console__(\n        self, console: Console, options: ConsoleOptions\n    ) -> RenderResult:\n        code = str(self.text).rstrip()\n        syntax = Syntax(\n            code, self.lexer_name, theme=self.theme, word_wrap=True, padding=1\n        )\n        yield syntax\n\n\nclass BlockQuote(TextElement):\n    \"\"\"A block quote.\"\"\"\n\n    style_name = \"markdown.block_quote\"\n\n    def __init__(self) -> None:\n        self.elements: Renderables = Renderables()\n\n    def on_child_close(self, context: MarkdownContext, child: MarkdownElement) -> bool:\n        self.elements.append(child)\n        return False\n\n    def __rich_console__(\n        self, console: Console, options: ConsoleOptions\n    ) -> RenderResult:\n        render_options = options.update(width=options.max_width - 4)\n        lines = console.render_lines(self.elements, render_options, style=self.style)\n        style = self.style\n        new_line = Segment(\"\\n\")\n        padding = Segment(\" \", style)\n        for line in lines:\n            yield padding\n            yield from line\n            yield new_line\n\n\nclass HorizontalRule(MarkdownElement):\n    \"\"\"A horizontal rule to divide sections.\"\"\"\n\n    new_line = False\n\n    def __rich_console__(\n        self, console: Console, options: ConsoleOptions\n    ) -> RenderResult:\n        style = console.get_style(\"markdown.hr\", default=\"none\")\n        yield Rule(style=style)\n\n\nclass TableElement(MarkdownElement):\n    \"\"\"MarkdownElement corresponding to `table_open`.\"\"\"\n\n    def __init__(self) -> None:\n        self.header: TableHeaderElement | None = None\n        self.body: TableBodyElement | None = None\n\n    def on_child_close(self, context: MarkdownContext, child: MarkdownElement) -> bool:\n        if isinstance(child, TableHeaderElement):\n            self.header = child\n        elif isinstance(child, TableBodyElement):\n            self.body = child\n        else:\n            raise RuntimeError(\"Couldn't process markdown table.\")\n        return False\n\n    def __rich_console__(\n        self, console: Console, options: ConsoleOptions\n    ) -> RenderResult:\n        table = Table(box=box.SIMPLE_HEAVY)\n\n        if self.header is not None and self.header.row is not None:\n            for column in self.header.row.cells:\n                table.add_column(column.content)\n\n        if self.body is not None:\n            for row in self.body.rows:\n                row_content = [element.content for element in row.cells]\n                table.add_row(*row_content)\n\n        yield table\n\n\nclass TableHeaderElement(MarkdownElement):\n    \"\"\"MarkdownElement corresponding to `thead_open` and `thead_close`.\"\"\"\n\n    def __init__(self) -> None:\n        self.row: TableRowElement | None = None\n\n    def on_child_close(self, context: MarkdownContext, child: MarkdownElement) -> bool:\n        assert isinstance(child, TableRowElement)\n        self.row = child\n        return False\n\n\nclass TableBodyElement(MarkdownElement):\n    \"\"\"MarkdownElement corresponding to `tbody_open` and `tbody_close`.\"\"\"\n\n    def __init__(self) -> None:\n        self.rows: list[TableRowElement] = []\n\n    def on_child_close(self, context: MarkdownContext, child: MarkdownElement) -> bool:\n        assert isinstance(child, TableRowElement)\n        self.rows.append(child)\n        return False\n\n\nclass TableRowElement(MarkdownElement):\n    \"\"\"MarkdownElement corresponding to `tr_open` and `tr_close`.\"\"\"\n\n    def __init__(self) -> None:\n        self.cells: list[TableDataElement] = []\n\n    def on_child_close(self, context: MarkdownContext, child: MarkdownElement) -> bool:\n        assert isinstance(child, TableDataElement)\n        self.cells.append(child)\n        return False\n\n\nclass TableDataElement(MarkdownElement):\n    \"\"\"MarkdownElement corresponding to `td_open` and `td_close`\n    and `th_open` and `th_close`.\"\"\"\n\n    @classmethod\n    def create(cls, markdown: Markdown, token: Token) -> MarkdownElement:\n        style = str(token.attrs.get(\"style\")) or \"\"\n\n        justify: JustifyMethod\n        if \"text-align:right\" in style:\n            justify = \"right\"\n        elif \"text-align:center\" in style:\n            justify = \"center\"\n        elif \"text-align:left\" in style:\n            justify = \"left\"\n        else:\n            justify = \"default\"\n\n        assert justify in get_args(JustifyMethod)\n        return cls(justify=justify)\n\n    def __init__(self, justify: JustifyMethod) -> None:\n        self.content: Text = Text(\"\", justify=justify)\n        self.justify = justify\n\n    def on_text(self, context: MarkdownContext, text: TextType) -> None:\n        text = Text(text) if isinstance(text, str) else text\n        text.stylize(context.current_style)\n        self.content.append_text(text)\n\n\nclass ListElement(MarkdownElement):\n    \"\"\"A list element.\"\"\"\n\n    @classmethod\n    def create(cls, markdown: Markdown, token: Token) -> ListElement:\n        return cls(token.type, int(token.attrs.get(\"start\", 1)))\n\n    def __init__(self, list_type: str, list_start: int | None) -> None:\n        self.items: list[ListItem] = []\n        self.list_type = list_type\n        self.list_start = list_start\n\n    def on_child_close(self, context: MarkdownContext, child: MarkdownElement) -> bool:\n        assert isinstance(child, ListItem)\n        self.items.append(child)\n        return False\n\n    def __rich_console__(\n        self, console: Console, options: ConsoleOptions\n    ) -> RenderResult:\n        if self.list_type == \"bullet_list_open\":\n            for item in self.items:\n                yield from item.render_bullet(console, options)\n        else:\n            number = 1 if self.list_start is None else self.list_start\n            last_number = number + len(self.items)\n            for index, item in enumerate(self.items):\n                yield from item.render_number(\n                    console, options, number + index, last_number\n                )\n\n\nclass ListItem(TextElement):\n    \"\"\"An item in a list.\"\"\"\n\n    style_name = \"markdown.item\"\n\n    def __init__(self) -> None:\n        self.elements: Renderables = Renderables()\n\n    def on_child_close(self, context: MarkdownContext, child: MarkdownElement) -> bool:\n        self.elements.append(child)\n        return False\n\n    def render_bullet(self, console: Console, options: ConsoleOptions) -> RenderResult:\n        render_options = options.update(width=options.max_width - 3)\n        lines = console.render_lines(self.elements, render_options, style=self.style)\n        bullet_style = console.get_style(\"markdown.item.bullet\", default=\"none\")\n\n        bullet = Segment(\"  \", bullet_style)\n        padding = Segment(\" \" * 3, bullet_style)\n        new_line = Segment(\"\\n\")\n        for first, line in loop_first(lines):\n            yield bullet if first else padding\n            yield from line\n            yield new_line\n\n    def render_number(\n        self, console: Console, options: ConsoleOptions, number: int, last_number: int\n    ) -> RenderResult:\n        number_width = len(str(last_number)) + 2\n        render_options = options.update(width=options.max_width - number_width)\n        lines = console.render_lines(self.elements, render_options, style=self.style)\n        number_style = console.get_style(\"markdown.item.number\", default=\"none\")\n\n        new_line = Segment(\"\\n\")\n        padding = Segment(\" \" * number_width, number_style)\n        numeral = Segment(f\"{number}\".rjust(number_width - 1) + \" \", number_style)\n        for first, line in loop_first(lines):\n            yield numeral if first else padding\n            yield from line\n            yield new_line\n\n\nclass Link(TextElement):\n    @classmethod\n    def create(cls, markdown: Markdown, token: Token) -> MarkdownElement:\n        url = token.attrs.get(\"href\", \"#\")\n        return cls(token.content, str(url))\n\n    def __init__(self, text: str, href: str):\n        self.text = Text(text)\n        self.href = href\n\n\nclass ImageItem(TextElement):\n    \"\"\"Renders a placeholder for an image.\"\"\"\n\n    new_line = False\n\n    @classmethod\n    def create(cls, markdown: Markdown, token: Token) -> MarkdownElement:\n        \"\"\"Factory to create markdown element,\n\n        Args:\n            markdown (Markdown): The parent Markdown object.\n            token (Any): A token from markdown-it.\n\n        Returns:\n            MarkdownElement: A new markdown element\n        \"\"\"\n        return cls(str(token.attrs.get(\"src\", \"\")), markdown.hyperlinks)\n\n    def __init__(self, destination: str, hyperlinks: bool) -> None:\n        self.destination = destination\n        self.hyperlinks = hyperlinks\n        self.link: str | None = None\n        super().__init__()\n\n    def on_enter(self, context: MarkdownContext) -> None:\n        self.link = context.current_style.link\n        self.text = Text(justify=\"left\")\n        super().on_enter(context)\n\n    def __rich_console__(\n        self, console: Console, options: ConsoleOptions\n    ) -> RenderResult:\n        link_style = Style(link=self.link or self.destination or None)\n        title = self.text or Text(self.destination.strip(\"/\").rsplit(\"/\", 1)[-1])\n        if self.hyperlinks:\n            title.stylize(link_style)\n        text = Text.assemble(\" \", title, \" \", end=\"\")\n        yield text\n\n\nclass MarkdownContext:\n    \"\"\"Manages the console render state.\"\"\"\n\n    def __init__(\n        self,\n        console: Console,\n        options: ConsoleOptions,\n        style: Style,\n        inline_code_lexer: str | None = None,\n        inline_code_theme: str = \"monokai\",\n    ) -> None:\n        self.console = console\n        self.options = options\n        self.style_stack: StyleStack = StyleStack(style)\n        self.stack: Stack[MarkdownElement] = Stack()\n\n        self._syntax: Syntax | None = None\n        if inline_code_lexer is not None:\n            self._syntax = Syntax(\"\", inline_code_lexer, theme=inline_code_theme)\n\n    @property\n    def current_style(self) -> Style:\n        \"\"\"Current style which is the product of all styles on the stack.\"\"\"\n        return self.style_stack.current\n\n    def on_text(self, text: str, node_type: str) -> None:\n        \"\"\"Called when the parser visits text.\"\"\"\n        if node_type in {\"fence\", \"code_inline\"} and self._syntax is not None:\n            highlight_text = self._syntax.highlight(text)\n            highlight_text.rstrip()\n            self.stack.top.on_text(\n                self, Text.assemble(highlight_text, style=self.style_stack.current)\n            )\n        else:\n            self.stack.top.on_text(self, text)\n\n    def enter_style(self, style_name: str | Style) -> Style:\n        \"\"\"Enter a style context.\"\"\"\n        style = self.console.get_style(style_name, default=\"none\")\n        self.style_stack.push(style)\n        return self.current_style\n\n    def leave_style(self) -> Style:\n        \"\"\"Leave a style context.\"\"\"\n        style = self.style_stack.pop()\n        return style\n\n\nclass Markdown(JupyterMixin):\n    \"\"\"A Markdown renderable.\n\n    Args:\n        markup (str): A string containing markdown.\n        code_theme (str, optional): Pygments theme for code blocks. Defaults to \"monokai\". See https://pygments.org/styles/ for code themes.\n        justify (JustifyMethod, optional): Justify value for paragraphs. Defaults to None.\n        style (Union[str, Style], optional): Optional style to apply to markdown.\n        hyperlinks (bool, optional): Enable hyperlinks. Defaults to ``True``.\n        inline_code_lexer: (str, optional): Lexer to use if inline code highlighting is\n            enabled. Defaults to None.\n        inline_code_theme: (Optional[str], optional): Pygments theme for inline code\n            highlighting, or None for no highlighting. Defaults to None.\n    \"\"\"\n\n    elements: ClassVar[dict[str, type[MarkdownElement]]] = {\n        \"paragraph_open\": Paragraph,\n        \"heading_open\": Heading,\n        \"fence\": CodeBlock,\n        \"code_block\": CodeBlock,\n        \"blockquote_open\": BlockQuote,\n        \"hr\": HorizontalRule,\n        \"bullet_list_open\": ListElement,\n        \"ordered_list_open\": ListElement,\n        \"list_item_open\": ListItem,\n        \"image\": ImageItem,\n        \"table_open\": TableElement,\n        \"tbody_open\": TableBodyElement,\n        \"thead_open\": TableHeaderElement,\n        \"tr_open\": TableRowElement,\n        \"td_open\": TableDataElement,\n        \"th_open\": TableDataElement,\n    }\n\n    inlines = {\"em\", \"strong\", \"code\", \"s\"}\n\n    def __init__(\n        self,\n        markup: str,\n        code_theme: str = \"monokai\",\n        justify: JustifyMethod | None = None,\n        style: str | Style = \"none\",\n        hyperlinks: bool = True,\n        inline_code_lexer: str | None = None,\n        inline_code_theme: str | None = None,\n    ) -> None:\n        parser = MarkdownIt().enable(\"strikethrough\").enable(\"table\")\n        self.markup = markup\n        self.parsed = parser.parse(markup)\n        self.code_theme = code_theme\n        self.justify: JustifyMethod | None = justify\n        self.style = style\n        self.hyperlinks = hyperlinks\n        self.inline_code_lexer = inline_code_lexer\n        self.inline_code_theme = inline_code_theme or code_theme\n\n    def _flatten_tokens(self, tokens: Iterable[Token]) -> Iterable[Token]:\n        \"\"\"Flattens the token stream.\"\"\"\n        for token in tokens:\n            is_fence = token.type == \"fence\"\n            is_image = token.tag == \"img\"\n            if token.children and not (is_image or is_fence):\n                yield from self._flatten_tokens(token.children)\n            else:\n                yield token\n\n    def __rich_console__(\n        self, console: Console, options: ConsoleOptions\n    ) -> RenderResult:\n        \"\"\"Render markdown to the console.\"\"\"\n        style = console.get_style(self.style, default=\"none\")\n        options = options.update(height=None)\n        context = MarkdownContext(\n            console,\n            options,\n            style,\n            inline_code_lexer=self.inline_code_lexer,\n            inline_code_theme=self.inline_code_theme,\n        )\n        tokens = self.parsed\n        inline_style_tags = self.inlines\n        new_line = False\n        _new_line_segment = Segment.line()\n\n        for token in self._flatten_tokens(tokens):\n            node_type = token.type\n            tag = token.tag\n\n            entering = token.nesting == 1\n            exiting = token.nesting == -1\n            self_closing = token.nesting == 0\n\n            if node_type == \"text\":\n                context.on_text(token.content, node_type)\n            elif node_type == \"hardbreak\":\n                context.on_text(\"\\n\", node_type)\n            elif node_type == \"softbreak\":\n                context.on_text(\" \", node_type)\n            elif node_type == \"link_open\":\n                href = str(token.attrs.get(\"href\", \"\"))\n                if self.hyperlinks:\n                    link_style = console.get_style(\"markdown.link_url\", default=\"none\")\n                    link_style += Style(link=href)\n                    context.enter_style(link_style)\n                else:\n                    context.stack.push(Link.create(self, token))\n            elif node_type == \"link_close\":\n                if self.hyperlinks:\n                    context.leave_style()\n                else:\n                    element = context.stack.pop()\n                    assert isinstance(element, Link)\n                    link_style = console.get_style(\"markdown.link\", default=\"none\")\n                    context.enter_style(link_style)\n                    context.on_text(element.text.plain, node_type)\n                    context.leave_style()\n                    context.on_text(\" (\", node_type)\n                    link_url_style = console.get_style(\n                        \"markdown.link_url\", default=\"none\"\n                    )\n                    context.enter_style(link_url_style)\n                    context.on_text(element.href, node_type)\n                    context.leave_style()\n                    context.on_text(\")\", node_type)\n            elif (\n                tag in inline_style_tags\n                and node_type != \"fence\"\n                and node_type != \"code_block\"\n            ):\n                if entering:\n                    # If it's an opening inline token e.g. strong, em, etc.\n                    # Then we move into a style context i.e. push to stack.\n                    context.enter_style(f\"markdown.{tag}\")\n                elif exiting:\n                    # If it's a closing inline style, then we pop the style\n                    # off of the stack, to move out of the context of it...\n                    context.leave_style()\n                else:\n                    # If it's a self-closing inline style e.g. `code_inline`\n                    context.enter_style(f\"markdown.{tag}\")\n                    if token.content:\n                        context.on_text(token.content, node_type)\n                    context.leave_style()\n            else:\n                # Map the markdown tag -> MarkdownElement renderable\n                element_class = self.elements.get(token.type) or UnknownElement\n                element = element_class.create(self, token)\n\n                if entering or self_closing:\n                    context.stack.push(element)\n                    element.on_enter(context)\n\n                if exiting:  # CLOSING tag\n                    element = context.stack.pop()\n\n                    should_render = not context.stack or (\n                        context.stack\n                        and context.stack.top.on_child_close(context, element)\n                    )\n\n                    if should_render:\n                        if new_line:\n                            yield _new_line_segment\n\n                        yield from console.render(element, context.options)\n                elif self_closing:  # SELF-CLOSING tags (e.g. text, code, image)\n                    context.stack.pop()\n                    text = token.content\n                    if text is not None:\n                        element.on_text(context, text)\n\n                    should_render = (\n                        not context.stack\n                        or context.stack\n                        and context.stack.top.on_child_close(context, element)\n                    )\n                    if should_render:\n                        if new_line and node_type != \"inline\":\n                            yield _new_line_segment\n                        yield from console.render(element, context.options)\n\n                if exiting or self_closing:\n                    element.on_leave(context)\n                    new_line = element.new_line\n\n\nif __name__ == \"__main__\":  # pragma: no cover\n    import argparse\n    import sys\n\n    parser = argparse.ArgumentParser(\n        description=\"Render Markdown to the console with Rich\"\n    )\n    parser.add_argument(\n        \"path\",\n        metavar=\"PATH\",\n        help=\"path to markdown file, or - for stdin\",\n    )\n    parser.add_argument(\n        \"-c\",\n        \"--force-color\",\n        dest=\"force_color\",\n        action=\"store_true\",\n        default=None,\n        help=\"force color for non-terminals\",\n    )\n    parser.add_argument(\n        \"-t\",\n        \"--code-theme\",\n        dest=\"code_theme\",\n        default=\"monokai\",\n        help=\"pygments code theme\",\n    )\n    parser.add_argument(\n        \"-i\",\n        \"--inline-code-lexer\",\n        dest=\"inline_code_lexer\",\n        default=None,\n        help=\"inline_code_lexer\",\n    )\n    parser.add_argument(\n        \"-y\",\n        \"--hyperlinks\",\n        dest=\"hyperlinks\",\n        action=\"store_true\",\n        help=\"enable hyperlinks\",\n    )\n    parser.add_argument(\n        \"-w\",\n        \"--width\",\n        type=int,\n        dest=\"width\",\n        default=None,\n        help=\"width of output (default will auto-detect)\",\n    )\n    parser.add_argument(\n        \"-j\",\n        \"--justify\",\n        dest=\"justify\",\n        action=\"store_true\",\n        help=\"enable full text justify\",\n    )\n    parser.add_argument(\n        \"-p\",\n        \"--page\",\n        dest=\"page\",\n        action=\"store_true\",\n        help=\"use pager to scroll output\",\n    )\n    args = parser.parse_args()\n\n    from rich.console import Console\n\n    if args.path == \"-\":\n        markdown_body = sys.stdin.read()\n    else:\n        with open(args.path, encoding=\"utf-8\") as markdown_file:\n            markdown_body = markdown_file.read()\n\n    markdown = Markdown(\n        markdown_body,\n        justify=\"full\" if args.justify else \"left\",\n        code_theme=args.code_theme,\n        hyperlinks=args.hyperlinks,\n        inline_code_lexer=args.inline_code_lexer,\n    )\n    if args.page:\n        import io\n        import pydoc\n\n        fileio = io.StringIO()\n        console = Console(\n            file=fileio, force_terminal=args.force_color, width=args.width\n        )\n        console.print(markdown)\n        pydoc.pager(fileio.getvalue())\n\n    else:\n        console = Console(\n            force_terminal=args.force_color, width=args.width, record=True\n        )\n        console.print(markdown)\n",
    "start_line": 0
  },
  {
    "file": "pager.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from abc import ABC, abstractmethod\nfrom typing import Any",
    "start_line": 0
  },
  {
    "file": "pager.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "Pager",
    "content": "class Pager(ABC):\n    \"\"\"Base class for a pager.\"\"\"\n\n    @abstractmethod",
    "start_line": 4
  },
  {
    "file": "pager.py",
    "type": "method",
    "class": "Pager",
    "method": "show",
    "name": "show",
    "content": "class Pager:\n    def show(self, content: str) -> None:\n        \"\"\"Show content in pager.\n\n        Args:\n            content (str): Content to be displayed.\n        \"\"\"",
    "start_line": 8
  },
  {
    "file": "pager.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "SystemPager",
    "content": "class SystemPager(Pager):\n    \"\"\"Uses the pager installed on the system.\"\"\"",
    "start_line": 16
  },
  {
    "file": "pager.py",
    "type": "method",
    "class": "SystemPager",
    "method": "_pager",
    "name": "_pager",
    "content": "class SystemPager:\n    def _pager(self, content: str) -> Any:  # pragma: no cover\n        return __import__(\"pydoc\").pager(content)",
    "start_line": 19
  },
  {
    "file": "pager.py",
    "type": "method",
    "class": "SystemPager",
    "method": "show",
    "name": "show",
    "content": "class SystemPager:\n    def show(self, content: str) -> None:\n        \"\"\"Use the same pager used by pydoc.\"\"\"\n        self._pager(content)\n\n\nif __name__ == \"__main__\":  # pragma: no cover",
    "start_line": 22
  },
  {
    "file": "pager.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from .__main__ import make_test_card\n    from .console import Console\n    console = Console()\n    with console.pager(styles=True):\n        console.print(make_test_card())",
    "start_line": 28
  },
  {
    "file": "pager.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "from abc import ABC, abstractmethod\nfrom typing import Any\n\n\nclass Pager(ABC):\n    \"\"\"Base class for a pager.\"\"\"\n\n    @abstractmethod\n    def show(self, content: str) -> None:\n        \"\"\"Show content in pager.\n\n        Args:\n            content (str): Content to be displayed.\n        \"\"\"\n\n\nclass SystemPager(Pager):\n    \"\"\"Uses the pager installed on the system.\"\"\"\n\n    def _pager(self, content: str) -> Any:  # pragma: no cover\n        return __import__(\"pydoc\").pager(content)\n\n    def show(self, content: str) -> None:\n        \"\"\"Use the same pager used by pydoc.\"\"\"\n        self._pager(content)\n\n\nif __name__ == \"__main__\":  # pragma: no cover\n    from .__main__ import make_test_card\n    from .console import Console\n\n    console = Console()\n    with console.pager(styles=True):\n        console.print(make_test_card())\n",
    "start_line": 0
  },
  {
    "file": "text.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "import re\nfrom functools import partial, reduce\nfrom math import gcd\nfrom operator import itemgetter\nfrom typing import (\n    TYPE_CHECKING,\n    Any,\n    Callable,\n    Dict,\n    Iterable,\n    List,\n    NamedTuple,\n    Optional,\n    Pattern,\n    Tuple,\n    Union,\n)\nfrom ._loop import loop_last\nfrom ._pick import pick_bool\nfrom ._wrap import divide_line\nfrom .align import AlignMethod\nfrom .cells import cell_len, set_cell_size\nfrom .containers import Lines\nfrom .control import strip_control_codes\nfrom .emoji import EmojiVariant\nfrom .jupyter import JupyterMixin\nfrom .measure import Measurement\nfrom .segment import Segment\nfrom .style import Style, StyleType\nif TYPE_CHECKING:  # pragma: no cover\n    from .console import Console, ConsoleOptions, JustifyMethod, OverflowMethod\nDEFAULT_JUSTIFY: \"JustifyMethod\" = \"default\"\nDEFAULT_OVERFLOW: \"OverflowMethod\" = \"fold\"",
    "start_line": 0
  },
  {
    "file": "text.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "_re_whitespace = re.compile(r\"\\s+$\")\nTextType = Union[str, \"Text\"]\n\"\"\"A plain string or a :class:`Text` instance.\"\"\"\nGetStyleCallable = Callable[[str], Optional[StyleType]]",
    "start_line": 38
  },
  {
    "file": "text.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "Span",
    "content": "class Span(NamedTuple):\n    \"\"\"A marked up region in some text.\"\"\"\n\n    start: int\n    \"\"\"Span start index.\"\"\"\n    end: int\n    \"\"\"Span end index.\"\"\"\n    style: Union[str, Style]\n    \"\"\"Style associated with the span.\"\"\"",
    "start_line": 46
  },
  {
    "file": "text.py",
    "type": "method",
    "class": "Span",
    "method": "__repr__",
    "name": "__repr__",
    "content": "class Span:\n    def __repr__(self) -> str:\n        return f\"Span({self.start}, {self.end}, {self.style!r})\"",
    "start_line": 56
  },
  {
    "file": "text.py",
    "type": "method",
    "class": "Span",
    "method": "__bool__",
    "name": "__bool__",
    "content": "class Span:\n    def __bool__(self) -> bool:\n        return self.end > self.start",
    "start_line": 59
  },
  {
    "file": "text.py",
    "type": "method",
    "class": "Span",
    "method": "split",
    "name": "split",
    "content": "class Span:\n    def split(self, offset: int) -> Tuple[\"Span\", Optional[\"Span\"]]:\n        \"\"\"Split a span in to 2 from a given offset.\"\"\"\n\n        if offset < self.start:\n            return self, None\n        if offset >= self.end:\n            return self, None\n\n        start, end, style = self\n        span1 = Span(start, min(end, offset), style)\n        span2 = Span(span1.end, end, style)\n        return span1, span2",
    "start_line": 62
  },
  {
    "file": "text.py",
    "type": "method",
    "class": "Span",
    "method": "move",
    "name": "move",
    "content": "class Span:\n    def move(self, offset: int) -> \"Span\":\n        \"\"\"Move start and end by a given offset.\n\n        Args:\n            offset (int): Number of characters to add to start and end.\n\n        Returns:\n            TextSpan: A new TextSpan with adjusted position.\n        \"\"\"\n        start, end, style = self\n        return Span(start + offset, end + offset, style)",
    "start_line": 75
  },
  {
    "file": "text.py",
    "type": "method",
    "class": "Span",
    "method": "right_crop",
    "name": "right_crop",
    "content": "class Span:\n    def right_crop(self, offset: int) -> \"Span\":\n        \"\"\"Crop the span at the given offset.\n\n        Args:\n            offset (int): A value between start and end.\n\n        Returns:\n            Span: A new (possibly smaller) span.\n        \"\"\"\n        start, end, style = self\n        if offset >= end:\n            return self\n        return Span(start, min(offset, end), style)",
    "start_line": 87
  },
  {
    "file": "text.py",
    "type": "method",
    "class": "Span",
    "method": "extend",
    "name": "extend",
    "content": "class Span:\n    def extend(self, cells: int) -> \"Span\":\n        \"\"\"Extend the span by the given number of cells.\n\n        Args:\n            cells (int): Additional space to add to end of span.\n\n        Returns:\n            Span: A span.\n        \"\"\"\n        if cells:\n            start, end, style = self\n            return Span(start, end + cells, style)\n        else:\n            return self",
    "start_line": 101
  },
  {
    "file": "text.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "Text",
    "content": "class Text(JupyterMixin):\n    \"\"\"Text with color / style.\n\n    Args:\n        text (str, optional): Default unstyled text. Defaults to \"\".\n        style (Union[str, Style], optional): Base style for text. Defaults to \"\".\n        justify (str, optional): Justify method: \"left\", \"center\", \"full\", \"right\". Defaults to None.\n        overflow (str, optional): Overflow method: \"crop\", \"fold\", \"ellipsis\". Defaults to None.\n        no_wrap (bool, optional): Disable text wrapping, or None for default. Defaults to None.\n        end (str, optional): Character to end text with. Defaults to \"\\\\\\\\n\".\n        tab_size (int): Number of spaces per tab, or ``None`` to use ``console.tab_size``. Defaults to None.\n        spans (List[Span], optional). A list of predefined style spans. Defaults to None.\n    \"\"\"\n\n    __slots__ = [\n        \"_text\",\n        \"style\",\n        \"justify\",\n        \"overflow\",\n        \"no_wrap\",\n        \"end\",\n        \"tab_size\",\n        \"_spans\",\n        \"_length\",\n    ]",
    "start_line": 117
  },
  {
    "file": "text.py",
    "type": "method",
    "class": "Text",
    "method": "__init__",
    "name": "__init__",
    "content": "class Text:\n    def __init__(\n        self,\n        text: str = \"\",\n        style: Union[str, Style] = \"\",\n        *,\n        justify: Optional[\"JustifyMethod\"] = None,\n        overflow: Optional[\"OverflowMethod\"] = None,\n        no_wrap: Optional[bool] = None,\n        end: str = \"\\n\",\n        tab_size: Optional[int] = None,\n        spans: Optional[List[Span]] = None,\n    ) -> None:\n        sanitized_text = strip_control_codes(text)\n        self._text = [sanitized_text]\n        self.style = style\n        self.justify: Optional[\"JustifyMethod\"] = justify\n        self.overflow: Optional[\"OverflowMethod\"] = overflow\n        self.no_wrap = no_wrap\n        self.end = end\n        self.tab_size = tab_size\n        self._spans: List[Span] = spans or []\n        self._length: int = len(sanitized_text)",
    "start_line": 143
  },
  {
    "file": "text.py",
    "type": "method",
    "class": "Text",
    "method": "__len__",
    "name": "__len__",
    "content": "class Text:\n    def __len__(self) -> int:\n        return self._length",
    "start_line": 166
  },
  {
    "file": "text.py",
    "type": "method",
    "class": "Text",
    "method": "__bool__",
    "name": "__bool__",
    "content": "class Text:\n    def __bool__(self) -> bool:\n        return bool(self._length)",
    "start_line": 169
  },
  {
    "file": "text.py",
    "type": "method",
    "class": "Text",
    "method": "__str__",
    "name": "__str__",
    "content": "class Text:\n    def __str__(self) -> str:\n        return self.plain",
    "start_line": 172
  },
  {
    "file": "text.py",
    "type": "method",
    "class": "Text",
    "method": "__repr__",
    "name": "__repr__",
    "content": "class Text:\n    def __repr__(self) -> str:\n        return f\"<text {self.plain!r} {self._spans!r} {self.style!r}>\"",
    "start_line": 175
  },
  {
    "file": "text.py",
    "type": "method",
    "class": "Text",
    "method": "__add__",
    "name": "__add__",
    "content": "class Text:\n    def __add__(self, other: Any) -> \"Text\":\n        if isinstance(other, (str, Text)):\n            result = self.copy()\n            result.append(other)\n            return result\n        return NotImplemented",
    "start_line": 178
  },
  {
    "file": "text.py",
    "type": "method",
    "class": "Text",
    "method": "__eq__",
    "name": "__eq__",
    "content": "class Text:\n    def __eq__(self, other: object) -> bool:\n        if not isinstance(other, Text):\n            return NotImplemented\n        return self.plain == other.plain and self._spans == other._spans",
    "start_line": 185
  },
  {
    "file": "text.py",
    "type": "method",
    "class": "Text",
    "method": "__contains__",
    "name": "__contains__",
    "content": "class Text:\n    def __contains__(self, other: object) -> bool:\n        if isinstance(other, str):\n            return other in self.plain\n        elif isinstance(other, Text):\n            return other.plain in self.plain\n        return False",
    "start_line": 190
  },
  {
    "file": "text.py",
    "type": "method",
    "class": "Text",
    "method": "__getitem__",
    "name": "__getitem__",
    "content": "class Text:\n    def __getitem__(self, slice: Union[int, slice]) -> \"Text\":",
    "start_line": 197
  },
  {
    "file": "text.py",
    "type": "method",
    "class": "Text",
    "method": "get_text_at",
    "name": "get_text_at",
    "content": "class Text:\n        def get_text_at(offset: int) -> \"Text\":\n            _Span = Span\n            text = Text(\n                self.plain[offset],\n                spans=[\n                    _Span(0, 1, style)\n                    for start, end, style in self._spans\n                    if end > offset >= start\n                ],\n                end=\"\",\n            )\n            return text\n\n        if isinstance(slice, int):\n            return get_text_at(slice)\n        else:\n            start, stop, step = slice.indices(len(self.plain))\n            if step == 1:\n                lines = self.divide([start, stop])\n                return lines[1]\n            else:",
    "start_line": 198
  },
  {
    "file": "text.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# This would be a bit of work to implement efficiently\n                # For now, its not required\n                raise TypeError(\"slices with step!=1 are not supported\")\n    @property",
    "start_line": 219
  },
  {
    "file": "text.py",
    "type": "method",
    "class": "Text",
    "method": "cell_len",
    "name": "cell_len",
    "content": "class Text:\n    def cell_len(self) -> int:\n        \"\"\"Get the number of cells required to render this text.\"\"\"\n        return cell_len(self.plain)\n\n    @property",
    "start_line": 224
  },
  {
    "file": "text.py",
    "type": "method",
    "class": "Text",
    "method": "markup",
    "name": "markup",
    "content": "class Text:\n    def markup(self) -> str:\n        \"\"\"Get console markup to render this Text.\n\n        Returns:\n            str: A string potentially creating markup tags.\n        \"\"\"",
    "start_line": 229
  },
  {
    "file": "text.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from .markup import escape\n        output: List[str] = []\n        plain = self.plain\n        markup_spans = [\n            (0, False, self.style),\n            *((span.start, False, span.style) for span in self._spans),\n            *((span.end, True, span.style) for span in self._spans),\n            (len(plain), True, self.style),\n        ]\n        markup_spans.sort(key=itemgetter(0, 1))\n        position = 0\n        append = output.append\n        for offset, closing, style in markup_spans:\n            if offset > position:\n                append(escape(plain[position:offset]))\n                position = offset\n            if style:\n                append(f\"[/{style}]\" if closing else f\"[{style}]\")\n        markup = \"\".join(output)\n        return markup\n    @classmethod",
    "start_line": 235
  },
  {
    "file": "text.py",
    "type": "method",
    "class": "Text",
    "method": "from_markup",
    "name": "from_markup",
    "content": "class Text:\n    def from_markup(\n        cls,\n        text: str,\n        *,\n        style: Union[str, Style] = \"\",\n        emoji: bool = True,\n        emoji_variant: Optional[EmojiVariant] = None,\n        justify: Optional[\"JustifyMethod\"] = None,\n        overflow: Optional[\"OverflowMethod\"] = None,\n        end: str = \"\\n\",\n    ) -> \"Text\":\n        \"\"\"Create Text instance from markup.\n\n        Args:\n            text (str): A string containing console markup.\n            style (Union[str, Style], optional): Base style for text. Defaults to \"\".\n            emoji (bool, optional): Also render emoji code. Defaults to True.\n            emoji_variant (str, optional): Optional emoji variant, either \"text\" or \"emoji\". Defaults to None.\n            justify (str, optional): Justify method: \"left\", \"center\", \"full\", \"right\". Defaults to None.\n            overflow (str, optional): Overflow method: \"crop\", \"fold\", \"ellipsis\". Defaults to None.\n            end (str, optional): Character to end text with. Defaults to \"\\\\\\\\n\".\n\n        Returns:\n            Text: A Text instance with markup rendered.\n        \"\"\"",
    "start_line": 259
  },
  {
    "file": "text.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from .markup import render\n        rendered_text = render(text, style, emoji=emoji, emoji_variant=emoji_variant)\n        rendered_text.justify = justify\n        rendered_text.overflow = overflow\n        rendered_text.end = end\n        return rendered_text\n    @classmethod",
    "start_line": 284
  },
  {
    "file": "text.py",
    "type": "method",
    "class": "Text",
    "method": "from_ansi",
    "name": "from_ansi",
    "content": "class Text:\n    def from_ansi(\n        cls,\n        text: str,\n        *,\n        style: Union[str, Style] = \"\",\n        justify: Optional[\"JustifyMethod\"] = None,\n        overflow: Optional[\"OverflowMethod\"] = None,\n        no_wrap: Optional[bool] = None,\n        end: str = \"\\n\",\n        tab_size: Optional[int] = 8,\n    ) -> \"Text\":\n        \"\"\"Create a Text object from a string containing ANSI escape codes.\n\n        Args:\n            text (str): A string containing escape codes.\n            style (Union[str, Style], optional): Base style for text. Defaults to \"\".\n            justify (str, optional): Justify method: \"left\", \"center\", \"full\", \"right\". Defaults to None.\n            overflow (str, optional): Overflow method: \"crop\", \"fold\", \"ellipsis\". Defaults to None.\n            no_wrap (bool, optional): Disable text wrapping, or None for default. Defaults to None.\n            end (str, optional): Character to end text with. Defaults to \"\\\\\\\\n\".\n            tab_size (int): Number of spaces per tab, or ``None`` to use ``console.tab_size``. Defaults to None.\n        \"\"\"",
    "start_line": 293
  },
  {
    "file": "text.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from .ansi import AnsiDecoder\n        joiner = Text(\n            \"\\n\",\n            justify=justify,\n            overflow=overflow,\n            no_wrap=no_wrap,\n            end=end,\n            tab_size=tab_size,\n            style=style,\n        )\n        decoder = AnsiDecoder()\n        result = joiner.join(line for line in decoder.decode(text))\n        return result\n    @classmethod",
    "start_line": 315
  },
  {
    "file": "text.py",
    "type": "method",
    "class": "Text",
    "method": "styled",
    "name": "styled",
    "content": "class Text:\n    def styled(\n        cls,\n        text: str,\n        style: StyleType = \"\",\n        *,\n        justify: Optional[\"JustifyMethod\"] = None,\n        overflow: Optional[\"OverflowMethod\"] = None,\n    ) -> \"Text\":\n        \"\"\"Construct a Text instance with a pre-applied styled. A style applied in this way won't be used\n        to pad the text when it is justified.\n\n        Args:\n            text (str): A string containing console markup.\n            style (Union[str, Style]): Style to apply to the text. Defaults to \"\".\n            justify (str, optional): Justify method: \"left\", \"center\", \"full\", \"right\". Defaults to None.\n            overflow (str, optional): Overflow method: \"crop\", \"fold\", \"ellipsis\". Defaults to None.\n\n        Returns:\n            Text: A text instance with a style applied to the entire string.\n        \"\"\"\n        styled_text = cls(text, justify=justify, overflow=overflow)\n        styled_text.stylize(style)\n        return styled_text\n\n    @classmethod",
    "start_line": 331
  },
  {
    "file": "text.py",
    "type": "method",
    "class": "Text",
    "method": "assemble",
    "name": "assemble",
    "content": "class Text:\n    def assemble(\n        cls,\n        *parts: Union[str, \"Text\", Tuple[str, StyleType]],\n        style: Union[str, Style] = \"\",\n        justify: Optional[\"JustifyMethod\"] = None,\n        overflow: Optional[\"OverflowMethod\"] = None,\n        no_wrap: Optional[bool] = None,\n        end: str = \"\\n\",\n        tab_size: int = 8,\n        meta: Optional[Dict[str, Any]] = None,\n    ) -> \"Text\":\n        \"\"\"Construct a text instance by combining a sequence of strings with optional styles.\n        The positional arguments should be either strings, or a tuple of string + style.\n\n        Args:\n            style (Union[str, Style], optional): Base style for text. Defaults to \"\".\n            justify (str, optional): Justify method: \"left\", \"center\", \"full\", \"right\". Defaults to None.\n            overflow (str, optional): Overflow method: \"crop\", \"fold\", \"ellipsis\". Defaults to None.\n            no_wrap (bool, optional): Disable text wrapping, or None for default. Defaults to None.\n            end (str, optional): Character to end text with. Defaults to \"\\\\\\\\n\".\n            tab_size (int): Number of spaces per tab, or ``None`` to use ``console.tab_size``. Defaults to None.\n            meta (Dict[str, Any], optional). Meta data to apply to text, or None for no meta data. Default to None\n\n        Returns:\n            Text: A new text instance.\n        \"\"\"\n        text = cls(\n            style=style,\n            justify=justify,\n            overflow=overflow,\n            no_wrap=no_wrap,\n            end=end,\n            tab_size=tab_size,\n        )\n        append = text.append\n        _Text = Text\n        for part in parts:\n            if isinstance(part, (_Text, str)):\n                append(part)\n            else:\n                append(*part)\n        if meta:\n            text.apply_meta(meta)\n        return text\n\n    @property",
    "start_line": 356
  },
  {
    "file": "text.py",
    "type": "method",
    "class": "Text",
    "method": "plain",
    "name": "plain",
    "content": "class Text:\n    def plain(self) -> str:\n        \"\"\"Get the text as a single string.\"\"\"\n        if len(self._text) != 1:\n            self._text[:] = [\"\".join(self._text)]\n        return self._text[0]\n\n    @plain.setter",
    "start_line": 402
  },
  {
    "file": "text.py",
    "type": "method",
    "class": "Text",
    "method": "plain",
    "name": "plain",
    "content": "class Text:\n    def plain(self, new_text: str) -> None:\n        \"\"\"Set the text to a new value.\"\"\"\n        if new_text != self.plain:\n            sanitized_text = strip_control_codes(new_text)\n            self._text[:] = [sanitized_text]\n            old_length = self._length\n            self._length = len(sanitized_text)\n            if old_length > self._length:\n                self._trim_spans()\n\n    @property",
    "start_line": 409
  },
  {
    "file": "text.py",
    "type": "method",
    "class": "Text",
    "method": "spans",
    "name": "spans",
    "content": "class Text:\n    def spans(self) -> List[Span]:\n        \"\"\"Get a reference to the internal list of spans.\"\"\"\n        return self._spans\n\n    @spans.setter",
    "start_line": 420
  },
  {
    "file": "text.py",
    "type": "method",
    "class": "Text",
    "method": "spans",
    "name": "spans",
    "content": "class Text:\n    def spans(self, spans: List[Span]) -> None:\n        \"\"\"Set spans.\"\"\"\n        self._spans = spans[:]",
    "start_line": 425
  },
  {
    "file": "text.py",
    "type": "method",
    "class": "Text",
    "method": "blank_copy",
    "name": "blank_copy",
    "content": "class Text:\n    def blank_copy(self, plain: str = \"\") -> \"Text\":\n        \"\"\"Return a new Text instance with copied metadata (but not the string or spans).\"\"\"\n        copy_self = Text(\n            plain,\n            style=self.style,\n            justify=self.justify,\n            overflow=self.overflow,\n            no_wrap=self.no_wrap,\n            end=self.end,\n            tab_size=self.tab_size,\n        )\n        return copy_self",
    "start_line": 429
  },
  {
    "file": "text.py",
    "type": "method",
    "class": "Text",
    "method": "copy",
    "name": "copy",
    "content": "class Text:\n    def copy(self) -> \"Text\":\n        \"\"\"Return a copy of this instance.\"\"\"\n        copy_self = Text(\n            self.plain,\n            style=self.style,\n            justify=self.justify,\n            overflow=self.overflow,\n            no_wrap=self.no_wrap,\n            end=self.end,\n            tab_size=self.tab_size,\n        )\n        copy_self._spans[:] = self._spans\n        return copy_self",
    "start_line": 442
  },
  {
    "file": "text.py",
    "type": "method",
    "class": "Text",
    "method": "stylize",
    "name": "stylize",
    "content": "class Text:\n    def stylize(\n        self,\n        style: Union[str, Style],\n        start: int = 0,\n        end: Optional[int] = None,\n    ) -> None:\n        \"\"\"Apply a style to the text, or a portion of the text.\n\n        Args:\n            style (Union[str, Style]): Style instance or style definition to apply.\n            start (int): Start offset (negative indexing is supported). Defaults to 0.\n            end (Optional[int], optional): End offset (negative indexing is supported), or None for end of text. Defaults to None.\n        \"\"\"\n        if style:\n            length = len(self)\n            if start < 0:\n                start = length + start\n            if end is None:\n                end = length\n            if end < 0:\n                end = length + end\n            if start >= length or end <= start:",
    "start_line": 456
  },
  {
    "file": "text.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# Span not in text or not valid\n                return\n            self._spans.append(Span(start, min(length, end), style))",
    "start_line": 478
  },
  {
    "file": "text.py",
    "type": "method",
    "class": "Text",
    "method": "stylize_before",
    "name": "stylize_before",
    "content": "class Text:\n    def stylize_before(\n        self,\n        style: Union[str, Style],\n        start: int = 0,\n        end: Optional[int] = None,\n    ) -> None:\n        \"\"\"Apply a style to the text, or a portion of the text. Styles will be applied before other styles already present.\n\n        Args:\n            style (Union[str, Style]): Style instance or style definition to apply.\n            start (int): Start offset (negative indexing is supported). Defaults to 0.\n            end (Optional[int], optional): End offset (negative indexing is supported), or None for end of text. Defaults to None.\n        \"\"\"\n        if style:\n            length = len(self)\n            if start < 0:\n                start = length + start\n            if end is None:\n                end = length\n            if end < 0:\n                end = length + end\n            if start >= length or end <= start:",
    "start_line": 482
  },
  {
    "file": "text.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# Span not in text or not valid\n                return\n            self._spans.insert(0, Span(start, min(length, end), style))",
    "start_line": 504
  },
  {
    "file": "text.py",
    "type": "method",
    "class": "Text",
    "method": "apply_meta",
    "name": "apply_meta",
    "content": "class Text:\n    def apply_meta(\n        self, meta: Dict[str, Any], start: int = 0, end: Optional[int] = None\n    ) -> None:\n        \"\"\"Apply metadata to the text, or a portion of the text.\n\n        Args:\n            meta (Dict[str, Any]): A dict of meta information.\n            start (int): Start offset (negative indexing is supported). Defaults to 0.\n            end (Optional[int], optional): End offset (negative indexing is supported), or None for end of text. Defaults to None.\n\n        \"\"\"\n        style = Style.from_meta(meta)\n        self.stylize(style, start=start, end=end)",
    "start_line": 508
  },
  {
    "file": "text.py",
    "type": "method",
    "class": "Text",
    "method": "on",
    "name": "on",
    "content": "class Text:\n    def on(self, meta: Optional[Dict[str, Any]] = None, **handlers: Any) -> \"Text\":\n        \"\"\"Apply event handlers (used by Textual project).\n\n        Example:\n            >>> from rich.text import Text\n            >>> text = Text(\"hello world\")\n            >>> text.on(click=\"view.toggle('world')\")\n\n        Args:\n            meta (Dict[str, Any]): Mapping of meta information.\n            **handlers: Keyword args are prefixed with \"@\" to defined handlers.\n\n        Returns:\n            Text: Self is returned to method may be chained.\n        \"\"\"\n        meta = {} if meta is None else meta\n        meta.update({f\"@{key}\": value for key, value in handlers.items()})\n        self.stylize(Style.from_meta(meta))\n        return self",
    "start_line": 522
  },
  {
    "file": "text.py",
    "type": "method",
    "class": "Text",
    "method": "remove_suffix",
    "name": "remove_suffix",
    "content": "class Text:\n    def remove_suffix(self, suffix: str) -> None:\n        \"\"\"Remove a suffix if it exists.\n\n        Args:\n            suffix (str): Suffix to remove.\n        \"\"\"\n        if self.plain.endswith(suffix):\n            self.right_crop(len(suffix))",
    "start_line": 542
  },
  {
    "file": "text.py",
    "type": "method",
    "class": "Text",
    "method": "get_style_at_offset",
    "name": "get_style_at_offset",
    "content": "class Text:\n    def get_style_at_offset(self, console: \"Console\", offset: int) -> Style:\n        \"\"\"Get the style of a character at give offset.\n\n        Args:\n            console (~Console): Console where text will be rendered.\n            offset (int): Offset in to text (negative indexing supported)\n\n        Returns:\n            Style: A Style instance.\n        \"\"\"",
    "start_line": 551
  },
  {
    "file": "text.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# TODO: This is a little inefficient, it is only used by full justify\n        if offset < 0:\n            offset = len(self) + offset\n        get_style = console.get_style\n        style = get_style(self.style).copy()\n        for start, end, span_style in self._spans:\n            if end > offset >= start:\n                style += get_style(span_style, default=\"\")\n        return style",
    "start_line": 561
  },
  {
    "file": "text.py",
    "type": "method",
    "class": "Text",
    "method": "extend_style",
    "name": "extend_style",
    "content": "class Text:\n    def extend_style(self, spaces: int) -> None:\n        \"\"\"Extend the Text given number of spaces where the spaces have the same style as the last character.\n\n        Args:\n            spaces (int): Number of spaces to add to the Text.\n        \"\"\"\n        if spaces <= 0:\n            return\n        spans = self.spans\n        new_spaces = \" \" * spaces\n        if spans:\n            end_offset = len(self)\n            self._spans[:] = [\n                span.extend(spaces) if span.end >= end_offset else span\n                for span in spans\n            ]\n            self._text.append(new_spaces)\n            self._length += spaces\n        else:\n            self.plain += new_spaces",
    "start_line": 571
  },
  {
    "file": "text.py",
    "type": "method",
    "class": "Text",
    "method": "highlight_regex",
    "name": "highlight_regex",
    "content": "class Text:\n    def highlight_regex(\n        self,\n        re_highlight: Union[Pattern[str], str],\n        style: Optional[Union[GetStyleCallable, StyleType]] = None,\n        *,\n        style_prefix: str = \"\",\n    ) -> int:\n        \"\"\"Highlight text with a regular expression, where group names are\n        translated to styles.\n\n        Args:\n            re_highlight (Union[re.Pattern, str]): A regular expression object or string.\n            style (Union[GetStyleCallable, StyleType]): Optional style to apply to whole match, or a callable\n                which accepts the matched text and returns a style. Defaults to None.\n            style_prefix (str, optional): Optional prefix to add to style group names.\n\n        Returns:\n            int: Number of regex matches\n        \"\"\"\n        count = 0\n        append_span = self._spans.append\n        _Span = Span\n        plain = self.plain\n        if isinstance(re_highlight, str):\n            re_highlight = re.compile(re_highlight)\n        for match in re_highlight.finditer(plain):\n            get_span = match.span\n            if style:\n                start, end = get_span()\n                match_style = style(plain[start:end]) if callable(style) else style\n                if match_style is not None and end > start:\n                    append_span(_Span(start, end, match_style))\n\n            count += 1\n            for name in match.groupdict().keys():\n                start, end = get_span(name)\n                if start != -1 and end > start:\n                    append_span(_Span(start, end, f\"{style_prefix}{name}\"))\n        return count",
    "start_line": 592
  },
  {
    "file": "text.py",
    "type": "method",
    "class": "Text",
    "method": "highlight_words",
    "name": "highlight_words",
    "content": "class Text:\n    def highlight_words(\n        self,\n        words: Iterable[str],\n        style: Union[str, Style],\n        *,\n        case_sensitive: bool = True,\n    ) -> int:\n        \"\"\"Highlight words with a style.\n\n        Args:\n            words (Iterable[str]): Words to highlight.\n            style (Union[str, Style]): Style to apply.\n            case_sensitive (bool, optional): Enable case sensitive matching. Defaults to True.\n\n        Returns:\n            int: Number of words highlighted.\n        \"\"\"\n        re_words = \"|\".join(re.escape(word) for word in words)\n        add_span = self._spans.append\n        count = 0\n        _Span = Span\n        for match in re.finditer(\n            re_words, self.plain, flags=0 if case_sensitive else re.IGNORECASE\n        ):\n            start, end = match.span(0)\n            add_span(_Span(start, end, style))\n            count += 1\n        return count",
    "start_line": 632
  },
  {
    "file": "text.py",
    "type": "method",
    "class": "Text",
    "method": "rstrip",
    "name": "rstrip",
    "content": "class Text:\n    def rstrip(self) -> None:\n        \"\"\"Strip whitespace from end of text.\"\"\"\n        self.plain = self.plain.rstrip()",
    "start_line": 661
  },
  {
    "file": "text.py",
    "type": "method",
    "class": "Text",
    "method": "rstrip_end",
    "name": "rstrip_end",
    "content": "class Text:\n    def rstrip_end(self, size: int) -> None:\n        \"\"\"Remove whitespace beyond a certain width at the end of the text.\n\n        Args:\n            size (int): The desired size of the text.\n        \"\"\"\n        text_length = len(self)\n        if text_length > size:\n            excess = text_length - size\n            whitespace_match = _re_whitespace.search(self.plain)\n            if whitespace_match is not None:\n                whitespace_count = len(whitespace_match.group(0))\n                self.right_crop(min(whitespace_count, excess))",
    "start_line": 665
  },
  {
    "file": "text.py",
    "type": "method",
    "class": "Text",
    "method": "set_length",
    "name": "set_length",
    "content": "class Text:\n    def set_length(self, new_length: int) -> None:\n        \"\"\"Set new length of the text, clipping or padding is required.\"\"\"\n        length = len(self)\n        if length != new_length:\n            if length < new_length:\n                self.pad_right(new_length - length)\n            else:\n                self.right_crop(length - new_length)",
    "start_line": 679
  },
  {
    "file": "text.py",
    "type": "method",
    "class": "Text",
    "method": "__rich_console__",
    "name": "__rich_console__",
    "content": "class Text:\n    def __rich_console__(\n        self, console: \"Console\", options: \"ConsoleOptions\"\n    ) -> Iterable[Segment]:\n        tab_size: int = console.tab_size if self.tab_size is None else self.tab_size\n        justify = self.justify or options.justify or DEFAULT_JUSTIFY\n\n        overflow = self.overflow or options.overflow or DEFAULT_OVERFLOW\n\n        lines = self.wrap(\n            console,\n            options.max_width,\n            justify=justify,\n            overflow=overflow,\n            tab_size=tab_size or 8,\n            no_wrap=pick_bool(self.no_wrap, options.no_wrap, False),\n        )\n        all_lines = Text(\"\\n\").join(lines)\n        yield from all_lines.render(console, end=self.end)",
    "start_line": 688
  },
  {
    "file": "text.py",
    "type": "method",
    "class": "Text",
    "method": "__rich_measure__",
    "name": "__rich_measure__",
    "content": "class Text:\n    def __rich_measure__(\n        self, console: \"Console\", options: \"ConsoleOptions\"\n    ) -> Measurement:\n        text = self.plain\n        lines = text.splitlines()\n        max_text_width = max(cell_len(line) for line in lines) if lines else 0\n        words = text.split()\n        min_text_width = (\n            max(cell_len(word) for word in words) if words else max_text_width\n        )\n        return Measurement(min_text_width, max_text_width)",
    "start_line": 707
  },
  {
    "file": "text.py",
    "type": "method",
    "class": "Text",
    "method": "render",
    "name": "render",
    "content": "class Text:\n    def render(self, console: \"Console\", end: str = \"\") -> Iterable[\"Segment\"]:\n        \"\"\"Render the text as Segments.\n\n        Args:\n            console (Console): Console instance.\n            end (Optional[str], optional): Optional end character.\n\n        Returns:\n            Iterable[Segment]: Result of render that may be written to the console.\n        \"\"\"\n        _Segment = Segment\n        text = self.plain\n        if not self._spans:\n            yield Segment(text)\n            if end:\n                yield _Segment(end)\n            return\n        get_style = partial(console.get_style, default=Style.null())\n\n        enumerated_spans = list(enumerate(self._spans, 1))\n        style_map = {index: get_style(span.style) for index, span in enumerated_spans}\n        style_map[0] = get_style(self.style)\n\n        spans = [\n            (0, False, 0),\n            *((span.start, False, index) for index, span in enumerated_spans),\n            *((span.end, True, index) for index, span in enumerated_spans),\n            (len(text), True, 0),\n        ]\n        spans.sort(key=itemgetter(0, 1))\n\n        stack: List[int] = []\n        stack_append = stack.append\n        stack_pop = stack.remove\n\n        style_cache: Dict[Tuple[Style, ...], Style] = {}\n        style_cache_get = style_cache.get\n        combine = Style.combine",
    "start_line": 719
  },
  {
    "file": "text.py",
    "type": "method",
    "class": "Text",
    "method": "get_current_style",
    "name": "get_current_style",
    "content": "class Text:\n        def get_current_style() -> Style:\n            \"\"\"Construct current style from stack.\"\"\"\n            styles = tuple(style_map[_style_id] for _style_id in sorted(stack))\n            cached_style = style_cache_get(styles)\n            if cached_style is not None:\n                return cached_style\n            current_style = combine(styles)\n            style_cache[styles] = current_style\n            return current_style\n\n        for (offset, leaving, style_id), (next_offset, _, _) in zip(spans, spans[1:]):\n            if leaving:\n                stack_pop(style_id)\n            else:\n                stack_append(style_id)\n            if next_offset > offset:\n                yield _Segment(text[offset:next_offset], get_current_style())\n        if end:\n            yield _Segment(end)",
    "start_line": 758
  },
  {
    "file": "text.py",
    "type": "method",
    "class": "Text",
    "method": "join",
    "name": "join",
    "content": "class Text:\n    def join(self, lines: Iterable[\"Text\"]) -> \"Text\":\n        \"\"\"Join text together with this instance as the separator.\n\n        Args:\n            lines (Iterable[Text]): An iterable of Text instances to join.\n\n        Returns:\n            Text: A new text instance containing join text.\n        \"\"\"\n\n        new_text = self.blank_copy()",
    "start_line": 778
  },
  {
    "file": "text.py",
    "type": "method",
    "class": "Text",
    "method": "iter_text",
    "name": "iter_text",
    "content": "class Text:\n        def iter_text() -> Iterable[\"Text\"]:\n            if self.plain:\n                for last, line in loop_last(lines):\n                    yield line\n                    if not last:\n                        yield self\n            else:\n                yield from lines\n\n        extend_text = new_text._text.extend\n        append_span = new_text._spans.append\n        extend_spans = new_text._spans.extend\n        offset = 0\n        _Span = Span\n\n        for text in iter_text():\n            extend_text(text._text)\n            if text.style:\n                append_span(_Span(offset, offset + len(text), text.style))\n            extend_spans(\n                _Span(offset + start, offset + end, style)\n                for start, end, style in text._spans\n            )\n            offset += len(text)\n        new_text._length = offset\n        return new_text",
    "start_line": 790
  },
  {
    "file": "text.py",
    "type": "method",
    "class": "Text",
    "method": "expand_tabs",
    "name": "expand_tabs",
    "content": "class Text:\n    def expand_tabs(self, tab_size: Optional[int] = None) -> None:\n        \"\"\"Converts tabs to spaces.\n\n        Args:\n            tab_size (int, optional): Size of tabs. Defaults to 8.\n\n        \"\"\"\n        if \"\\t\" not in self.plain:\n            return\n        if tab_size is None:\n            tab_size = self.tab_size\n        if tab_size is None:\n            tab_size = 8\n\n        new_text: List[Text] = []\n        append = new_text.append\n\n        for line in self.split(\"\\n\", include_separator=True):\n            if \"\\t\" not in line.plain:\n                append(line)\n            else:\n                cell_position = 0\n                parts = line.split(\"\\t\", include_separator=True)\n                for part in parts:\n                    if part.plain.endswith(\"\\t\"):\n                        part._text[-1] = part._text[-1][:-1] + \" \"\n                        cell_position += part.cell_len\n                        tab_remainder = cell_position % tab_size\n                        if tab_remainder:\n                            spaces = tab_size - tab_remainder\n                            part.extend_style(spaces)\n                            cell_position += spaces\n                    else:\n                        cell_position += part.cell_len\n                    append(part)\n\n        result = Text(\"\").join(new_text)\n\n        self._text = [result.plain]\n        self._length = len(self.plain)\n        self._spans[:] = result._spans",
    "start_line": 817
  },
  {
    "file": "text.py",
    "type": "method",
    "class": "Text",
    "method": "truncate",
    "name": "truncate",
    "content": "class Text:\n    def truncate(\n        self,\n        max_width: int,\n        *,\n        overflow: Optional[\"OverflowMethod\"] = None,\n        pad: bool = False,\n    ) -> None:\n        \"\"\"Truncate text if it is longer that a given width.\n\n        Args:\n            max_width (int): Maximum number of characters in text.\n            overflow (str, optional): Overflow method: \"crop\", \"fold\", or \"ellipsis\". Defaults to None, to use self.overflow.\n            pad (bool, optional): Pad with spaces if the length is less than max_width. Defaults to False.\n        \"\"\"\n        _overflow = overflow or self.overflow or DEFAULT_OVERFLOW\n        if _overflow != \"ignore\":\n            length = cell_len(self.plain)\n            if length > max_width:\n                if _overflow == \"ellipsis\":\n                    self.plain = set_cell_size(self.plain, max_width - 1) + \"\"\n                else:\n                    self.plain = set_cell_size(self.plain, max_width)\n            if pad and length < max_width:\n                spaces = max_width - length\n                self._text = [f\"{self.plain}{' ' * spaces}\"]\n                self._length = len(self.plain)",
    "start_line": 859
  },
  {
    "file": "text.py",
    "type": "method",
    "class": "Text",
    "method": "_trim_spans",
    "name": "_trim_spans",
    "content": "class Text:\n    def _trim_spans(self) -> None:\n        \"\"\"Remove or modify any spans that are over the end of the text.\"\"\"\n        max_offset = len(self.plain)\n        _Span = Span\n        self._spans[:] = [\n            (\n                span\n                if span.end < max_offset\n                else _Span(span.start, min(max_offset, span.end), span.style)\n            )\n            for span in self._spans\n            if span.start < max_offset\n        ]",
    "start_line": 886
  },
  {
    "file": "text.py",
    "type": "method",
    "class": "Text",
    "method": "pad",
    "name": "pad",
    "content": "class Text:\n    def pad(self, count: int, character: str = \" \") -> None:\n        \"\"\"Pad left and right with a given number of characters.\n\n        Args:\n            count (int): Width of padding.\n            character (str): The character to pad with. Must be a string of length 1.\n        \"\"\"\n        assert len(character) == 1, \"Character must be a string of length 1\"\n        if count:\n            pad_characters = character * count\n            self.plain = f\"{pad_characters}{self.plain}{pad_characters}\"\n            _Span = Span\n            self._spans[:] = [\n                _Span(start + count, end + count, style)\n                for start, end, style in self._spans\n            ]",
    "start_line": 900
  },
  {
    "file": "text.py",
    "type": "method",
    "class": "Text",
    "method": "pad_left",
    "name": "pad_left",
    "content": "class Text:\n    def pad_left(self, count: int, character: str = \" \") -> None:\n        \"\"\"Pad the left with a given character.\n\n        Args:\n            count (int): Number of characters to pad.\n            character (str, optional): Character to pad with. Defaults to \" \".\n        \"\"\"\n        assert len(character) == 1, \"Character must be a string of length 1\"\n        if count:\n            self.plain = f\"{character * count}{self.plain}\"\n            _Span = Span\n            self._spans[:] = [\n                _Span(start + count, end + count, style)\n                for start, end, style in self._spans\n            ]",
    "start_line": 917
  },
  {
    "file": "text.py",
    "type": "method",
    "class": "Text",
    "method": "pad_right",
    "name": "pad_right",
    "content": "class Text:\n    def pad_right(self, count: int, character: str = \" \") -> None:\n        \"\"\"Pad the right with a given character.\n\n        Args:\n            count (int): Number of characters to pad.\n            character (str, optional): Character to pad with. Defaults to \" \".\n        \"\"\"\n        assert len(character) == 1, \"Character must be a string of length 1\"\n        if count:\n            self.plain = f\"{self.plain}{character * count}\"",
    "start_line": 933
  },
  {
    "file": "text.py",
    "type": "method",
    "class": "Text",
    "method": "align",
    "name": "align",
    "content": "class Text:\n    def align(self, align: AlignMethod, width: int, character: str = \" \") -> None:\n        \"\"\"Align text to a given width.\n\n        Args:\n            align (AlignMethod): One of \"left\", \"center\", or \"right\".\n            width (int): Desired width.\n            character (str, optional): Character to pad with. Defaults to \" \".\n        \"\"\"\n        self.truncate(width)\n        excess_space = width - cell_len(self.plain)\n        if excess_space:\n            if align == \"left\":\n                self.pad_right(excess_space, character)\n            elif align == \"center\":\n                left = excess_space // 2\n                self.pad_left(left, character)\n                self.pad_right(excess_space - left, character)\n            else:\n                self.pad_left(excess_space, character)",
    "start_line": 944
  },
  {
    "file": "text.py",
    "type": "method",
    "class": "Text",
    "method": "append",
    "name": "append",
    "content": "class Text:\n    def append(\n        self, text: Union[\"Text\", str], style: Optional[Union[str, \"Style\"]] = None\n    ) -> \"Text\":\n        \"\"\"Add text with an optional style.\n\n        Args:\n            text (Union[Text, str]): A str or Text to append.\n            style (str, optional): A style name. Defaults to None.\n\n        Returns:\n            Text: Returns self for chaining.\n        \"\"\"\n\n        if not isinstance(text, (str, Text)):\n            raise TypeError(\"Only str or Text can be appended to Text\")\n\n        if len(text):\n            if isinstance(text, str):\n                sanitized_text = strip_control_codes(text)\n                self._text.append(sanitized_text)\n                offset = len(self)\n                text_length = len(sanitized_text)\n                if style:\n                    self._spans.append(Span(offset, offset + text_length, style))\n                self._length += text_length\n            elif isinstance(text, Text):\n                _Span = Span\n                if style is not None:\n                    raise ValueError(\n                        \"style must not be set when appending Text instance\"\n                    )\n                text_length = self._length\n                if text.style:\n                    self._spans.append(\n                        _Span(text_length, text_length + len(text), text.style)\n                    )\n                self._text.append(text.plain)\n                self._spans.extend(\n                    _Span(start + text_length, end + text_length, style)\n                    for start, end, style in text._spans.copy()\n                )\n                self._length += len(text)\n        return self",
    "start_line": 964
  },
  {
    "file": "text.py",
    "type": "method",
    "class": "Text",
    "method": "append_text",
    "name": "append_text",
    "content": "class Text:\n    def append_text(self, text: \"Text\") -> \"Text\":\n        \"\"\"Append another Text instance. This method is more performant that Text.append, but\n        only works for Text.\n\n        Args:\n            text (Text): The Text instance to append to this instance.\n\n        Returns:\n            Text: Returns self for chaining.\n        \"\"\"\n        _Span = Span\n        text_length = self._length\n        if text.style:\n            self._spans.append(_Span(text_length, text_length + len(text), text.style))\n        self._text.append(text.plain)\n        self._spans.extend(\n            _Span(start + text_length, end + text_length, style)\n            for start, end, style in text._spans.copy()\n        )\n        self._length += len(text)\n        return self",
    "start_line": 1008
  },
  {
    "file": "text.py",
    "type": "method",
    "class": "Text",
    "method": "append_tokens",
    "name": "append_tokens",
    "content": "class Text:\n    def append_tokens(\n        self, tokens: Iterable[Tuple[str, Optional[StyleType]]]\n    ) -> \"Text\":\n        \"\"\"Append iterable of str and style. Style may be a Style instance or a str style definition.\n\n        Args:\n            tokens (Iterable[Tuple[str, Optional[StyleType]]]): An iterable of tuples containing str content and style.\n\n        Returns:\n            Text: Returns self for chaining.\n        \"\"\"\n        append_text = self._text.append\n        append_span = self._spans.append\n        _Span = Span\n        offset = len(self)\n        for content, style in tokens:\n            content = strip_control_codes(content)\n            append_text(content)\n            if style:\n                append_span(_Span(offset, offset + len(content), style))\n            offset += len(content)\n        self._length = offset\n        return self",
    "start_line": 1030
  },
  {
    "file": "text.py",
    "type": "method",
    "class": "Text",
    "method": "copy_styles",
    "name": "copy_styles",
    "content": "class Text:\n    def copy_styles(self, text: \"Text\") -> None:\n        \"\"\"Copy styles from another Text instance.\n\n        Args:\n            text (Text): A Text instance to copy styles from, must be the same length.\n        \"\"\"\n        self._spans.extend(text._spans)",
    "start_line": 1054
  },
  {
    "file": "text.py",
    "type": "method",
    "class": "Text",
    "method": "split",
    "name": "split",
    "content": "class Text:\n    def split(\n        self,\n        separator: str = \"\\n\",\n        *,\n        include_separator: bool = False,\n        allow_blank: bool = False,\n    ) -> Lines:\n        \"\"\"Split rich text in to lines, preserving styles.\n\n        Args:\n            separator (str, optional): String to split on. Defaults to \"\\\\\\\\n\".\n            include_separator (bool, optional): Include the separator in the lines. Defaults to False.\n            allow_blank (bool, optional): Return a blank line if the text ends with a separator. Defaults to False.\n\n        Returns:\n            List[RichText]: A list of rich text, one per line of the original.\n        \"\"\"\n        assert separator, \"separator must not be empty\"\n\n        text = self.plain\n        if separator not in text:\n            return Lines([self.copy()])\n\n        if include_separator:\n            lines = self.divide(\n                match.end() for match in re.finditer(re.escape(separator), text)\n            )\n        else:",
    "start_line": 1062
  },
  {
    "file": "text.py",
    "type": "method",
    "class": "Text",
    "method": "flatten_spans",
    "name": "flatten_spans",
    "content": "class Text:\n            def flatten_spans() -> Iterable[int]:\n                for match in re.finditer(re.escape(separator), text):\n                    start, end = match.span()\n                    yield start\n                    yield end\n\n            lines = Lines(\n                line for line in self.divide(flatten_spans()) if line.plain != separator\n            )\n\n        if not allow_blank and text.endswith(separator):\n            lines.pop()\n\n        return lines",
    "start_line": 1091
  },
  {
    "file": "text.py",
    "type": "method",
    "class": "Text",
    "method": "divide",
    "name": "divide",
    "content": "class Text:\n    def divide(self, offsets: Iterable[int]) -> Lines:\n        \"\"\"Divide text in to a number of lines at given offsets.\n\n        Args:\n            offsets (Iterable[int]): Offsets used to divide text.\n\n        Returns:\n            Lines: New RichText instances between offsets.\n        \"\"\"\n        _offsets = list(offsets)\n\n        if not _offsets:\n            return Lines([self.copy()])\n\n        text = self.plain\n        text_length = len(text)\n        divide_offsets = [0, *_offsets, text_length]\n        line_ranges = list(zip(divide_offsets, divide_offsets[1:]))\n\n        style = self.style\n        justify = self.justify\n        overflow = self.overflow\n        _Text = Text\n        new_lines = Lines(\n            _Text(\n                text[start:end],\n                style=style,\n                justify=justify,\n                overflow=overflow,\n            )\n            for start, end in line_ranges\n        )\n        if not self._spans:\n            return new_lines\n\n        _line_appends = [line._spans.append for line in new_lines._lines]\n        line_count = len(line_ranges)\n        _Span = Span\n\n        for span_start, span_end, style in self._spans:\n            lower_bound = 0\n            upper_bound = line_count\n            start_line_no = (lower_bound + upper_bound) // 2\n\n            while True:\n                line_start, line_end = line_ranges[start_line_no]\n                if span_start < line_start:\n                    upper_bound = start_line_no - 1\n                elif span_start > line_end:\n                    lower_bound = start_line_no + 1\n                else:\n                    break\n                start_line_no = (lower_bound + upper_bound) // 2\n\n            if span_end < line_end:\n                end_line_no = start_line_no\n            else:\n                end_line_no = lower_bound = start_line_no\n                upper_bound = line_count\n\n                while True:\n                    line_start, line_end = line_ranges[end_line_no]\n                    if span_end < line_start:\n                        upper_bound = end_line_no - 1\n                    elif span_end > line_end:\n                        lower_bound = end_line_no + 1\n                    else:\n                        break\n                    end_line_no = (lower_bound + upper_bound) // 2\n\n            for line_no in range(start_line_no, end_line_no + 1):\n                line_start, line_end = line_ranges[line_no]\n                new_start = max(0, span_start - line_start)\n                new_end = min(span_end - line_start, line_end - line_start)\n                if new_end > new_start:\n                    _line_appends[line_no](_Span(new_start, new_end, style))\n\n        return new_lines",
    "start_line": 1106
  },
  {
    "file": "text.py",
    "type": "method",
    "class": "Text",
    "method": "right_crop",
    "name": "right_crop",
    "content": "class Text:\n    def right_crop(self, amount: int = 1) -> None:\n        \"\"\"Remove a number of characters from the end of the text.\"\"\"\n        max_offset = len(self.plain) - amount\n        _Span = Span\n        self._spans[:] = [\n            (\n                span\n                if span.end < max_offset\n                else _Span(span.start, min(max_offset, span.end), span.style)\n            )\n            for span in self._spans\n            if span.start < max_offset\n        ]\n        self._text = [self.plain[:-amount]]\n        self._length -= amount",
    "start_line": 1185
  },
  {
    "file": "text.py",
    "type": "method",
    "class": "Text",
    "method": "wrap",
    "name": "wrap",
    "content": "class Text:\n    def wrap(\n        self,\n        console: \"Console\",\n        width: int,\n        *,\n        justify: Optional[\"JustifyMethod\"] = None,\n        overflow: Optional[\"OverflowMethod\"] = None,\n        tab_size: int = 8,\n        no_wrap: Optional[bool] = None,\n    ) -> Lines:\n        \"\"\"Word wrap the text.\n\n        Args:\n            console (Console): Console instance.\n            width (int): Number of cells available per line.\n            justify (str, optional): Justify method: \"default\", \"left\", \"center\", \"full\", \"right\". Defaults to \"default\".\n            overflow (str, optional): Overflow method: \"crop\", \"fold\", or \"ellipsis\". Defaults to None.\n            tab_size (int, optional): Default tab size. Defaults to 8.\n            no_wrap (bool, optional): Disable wrapping, Defaults to False.\n\n        Returns:\n            Lines: Number of lines.\n        \"\"\"\n        wrap_justify = justify or self.justify or DEFAULT_JUSTIFY\n        wrap_overflow = overflow or self.overflow or DEFAULT_OVERFLOW\n\n        no_wrap = pick_bool(no_wrap, self.no_wrap, False) or overflow == \"ignore\"\n\n        lines = Lines()\n        for line in self.split(allow_blank=True):\n            if \"\\t\" in line:\n                line.expand_tabs(tab_size)\n            if no_wrap:\n                new_lines = Lines([line])\n            else:\n                offsets = divide_line(str(line), width, fold=wrap_overflow == \"fold\")\n                new_lines = line.divide(offsets)\n            for line in new_lines:\n                line.rstrip_end(width)\n            if wrap_justify:\n                new_lines.justify(\n                    console, width, justify=wrap_justify, overflow=wrap_overflow\n                )\n            for line in new_lines:\n                line.truncate(width, overflow=wrap_overflow)\n            lines.extend(new_lines)\n        return lines",
    "start_line": 1201
  },
  {
    "file": "text.py",
    "type": "method",
    "class": "Text",
    "method": "fit",
    "name": "fit",
    "content": "class Text:\n    def fit(self, width: int) -> Lines:\n        \"\"\"Fit the text in to given width by chopping in to lines.\n\n        Args:\n            width (int): Maximum characters in a line.\n\n        Returns:\n            Lines: Lines container.\n        \"\"\"\n        lines: Lines = Lines()\n        append = lines.append\n        for line in self.split():\n            line.set_length(width)\n            append(line)\n        return lines",
    "start_line": 1249
  },
  {
    "file": "text.py",
    "type": "method",
    "class": "Text",
    "method": "detect_indentation",
    "name": "detect_indentation",
    "content": "class Text:\n    def detect_indentation(self) -> int:\n        \"\"\"Auto-detect indentation of code.\n\n        Returns:\n            int: Number of spaces used to indent code.\n        \"\"\"\n\n        _indentations = {\n            len(match.group(1))\n            for match in re.finditer(r\"^( *)(.*)$\", self.plain, flags=re.MULTILINE)\n        }\n\n        try:\n            indentation = (\n                reduce(gcd, [indent for indent in _indentations if not indent % 2]) or 1\n            )\n        except TypeError:\n            indentation = 1\n\n        return indentation",
    "start_line": 1265
  },
  {
    "file": "text.py",
    "type": "method",
    "class": "Text",
    "method": "with_indent_guides",
    "name": "with_indent_guides",
    "content": "class Text:\n    def with_indent_guides(\n        self,\n        indent_size: Optional[int] = None,\n        *,\n        character: str = \"\",\n        style: StyleType = \"dim green\",\n    ) -> \"Text\":\n        \"\"\"Adds indent guide lines to text.\n\n        Args:\n            indent_size (Optional[int]): Size of indentation, or None to auto detect. Defaults to None.\n            character (str, optional): Character to use for indentation. Defaults to \"\".\n            style (Union[Style, str], optional): Style of indent guides.\n\n        Returns:\n            Text: New text with indentation guides.\n        \"\"\"\n\n        _indent_size = self.detect_indentation() if indent_size is None else indent_size\n\n        text = self.copy()\n        text.expand_tabs()\n        indent_line = f\"{character}{' ' * (_indent_size - 1)}\"\n\n        re_indent = re.compile(r\"^( *)(.*)$\")\n        new_lines: List[Text] = []\n        add_line = new_lines.append\n        blank_lines = 0\n        for line in text.split(allow_blank=True):\n            match = re_indent.match(line.plain)\n            if not match or not match.group(2):\n                blank_lines += 1\n                continue\n            indent = match.group(1)\n            full_indents, remaining_space = divmod(len(indent), _indent_size)\n            new_indent = f\"{indent_line * full_indents}{' ' * remaining_space}\"\n            line.plain = new_indent + line.plain[len(new_indent) :]\n            line.stylize(style, 0, len(new_indent))\n            if blank_lines:\n                new_lines.extend([Text(new_indent, style=style)] * blank_lines)\n                blank_lines = 0\n            add_line(line)\n        if blank_lines:\n            new_lines.extend([Text(\"\", style=style)] * blank_lines)\n\n        new_text = text.blank_copy(\"\\n\").join(new_lines)\n        return new_text\n\n\nif __name__ == \"__main__\":  # pragma: no cover",
    "start_line": 1286
  },
  {
    "file": "text.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from rich.console import Console\n    text = Text(\n        \"\"\"\\nLorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\\n\"\"\"\n    )\n    text.highlight_words([\"Lorem\"], \"bold\")\n    text.highlight_words([\"ipsum\"], \"italic\")\n    console = Console()\n    console.rule(\"justify='left'\")\n    console.print(text, style=\"red\")\n    console.print()\n    console.rule(\"justify='center'\")\n    console.print(text, style=\"green\", justify=\"center\")\n    console.print()\n    console.rule(\"justify='right'\")\n    console.print(text, style=\"blue\", justify=\"right\")\n    console.print()\n    console.rule(\"justify='full'\")\n    console.print(text, style=\"magenta\", justify=\"full\")\n    console.print()",
    "start_line": 1336
  },
  {
    "file": "text.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "import re\nfrom functools import partial, reduce\nfrom math import gcd\nfrom operator import itemgetter\nfrom typing import (\n    TYPE_CHECKING,\n    Any,\n    Callable,\n    Dict,\n    Iterable,\n    List,\n    NamedTuple,\n    Optional,\n    Pattern,\n    Tuple,\n    Union,\n)\n\nfrom ._loop import loop_last\nfrom ._pick import pick_bool\nfrom ._wrap import divide_line\nfrom .align import AlignMethod\nfrom .cells import cell_len, set_cell_size\nfrom .containers import Lines\nfrom .control import strip_control_codes\nfrom .emoji import EmojiVariant\nfrom .jupyter import JupyterMixin\nfrom .measure import Measurement\nfrom .segment import Segment\nfrom .style import Style, StyleType\n\nif TYPE_CHECKING:  # pragma: no cover\n    from .console import Console, ConsoleOptions, JustifyMethod, OverflowMethod\n\nDEFAULT_JUSTIFY: \"JustifyMethod\" = \"default\"\nDEFAULT_OVERFLOW: \"OverflowMethod\" = \"fold\"\n\n\n_re_whitespace = re.compile(r\"\\s+$\")\n\nTextType = Union[str, \"Text\"]\n\"\"\"A plain string or a :class:`Text` instance.\"\"\"\n\nGetStyleCallable = Callable[[str], Optional[StyleType]]\n\n\nclass Span(NamedTuple):\n    \"\"\"A marked up region in some text.\"\"\"\n\n    start: int\n    \"\"\"Span start index.\"\"\"\n    end: int\n    \"\"\"Span end index.\"\"\"\n    style: Union[str, Style]\n    \"\"\"Style associated with the span.\"\"\"\n\n    def __repr__(self) -> str:\n        return f\"Span({self.start}, {self.end}, {self.style!r})\"\n\n    def __bool__(self) -> bool:\n        return self.end > self.start\n\n    def split(self, offset: int) -> Tuple[\"Span\", Optional[\"Span\"]]:\n        \"\"\"Split a span in to 2 from a given offset.\"\"\"\n\n        if offset < self.start:\n            return self, None\n        if offset >= self.end:\n            return self, None\n\n        start, end, style = self\n        span1 = Span(start, min(end, offset), style)\n        span2 = Span(span1.end, end, style)\n        return span1, span2\n\n    def move(self, offset: int) -> \"Span\":\n        \"\"\"Move start and end by a given offset.\n\n        Args:\n            offset (int): Number of characters to add to start and end.\n\n        Returns:\n            TextSpan: A new TextSpan with adjusted position.\n        \"\"\"\n        start, end, style = self\n        return Span(start + offset, end + offset, style)\n\n    def right_crop(self, offset: int) -> \"Span\":\n        \"\"\"Crop the span at the given offset.\n\n        Args:\n            offset (int): A value between start and end.\n\n        Returns:\n            Span: A new (possibly smaller) span.\n        \"\"\"\n        start, end, style = self\n        if offset >= end:\n            return self\n        return Span(start, min(offset, end), style)\n\n    def extend(self, cells: int) -> \"Span\":\n        \"\"\"Extend the span by the given number of cells.\n\n        Args:\n            cells (int): Additional space to add to end of span.\n\n        Returns:\n            Span: A span.\n        \"\"\"\n        if cells:\n            start, end, style = self\n            return Span(start, end + cells, style)\n        else:\n            return self\n\n\nclass Text(JupyterMixin):\n    \"\"\"Text with color / style.\n\n    Args:\n        text (str, optional): Default unstyled text. Defaults to \"\".\n        style (Union[str, Style], optional): Base style for text. Defaults to \"\".\n        justify (str, optional): Justify method: \"left\", \"center\", \"full\", \"right\". Defaults to None.\n        overflow (str, optional): Overflow method: \"crop\", \"fold\", \"ellipsis\". Defaults to None.\n        no_wrap (bool, optional): Disable text wrapping, or None for default. Defaults to None.\n        end (str, optional): Character to end text with. Defaults to \"\\\\\\\\n\".\n        tab_size (int): Number of spaces per tab, or ``None`` to use ``console.tab_size``. Defaults to None.\n        spans (List[Span], optional). A list of predefined style spans. Defaults to None.\n    \"\"\"\n\n    __slots__ = [\n        \"_text\",\n        \"style\",\n        \"justify\",\n        \"overflow\",\n        \"no_wrap\",\n        \"end\",\n        \"tab_size\",\n        \"_spans\",\n        \"_length\",\n    ]\n\n    def __init__(\n        self,\n        text: str = \"\",\n        style: Union[str, Style] = \"\",\n        *,\n        justify: Optional[\"JustifyMethod\"] = None,\n        overflow: Optional[\"OverflowMethod\"] = None,\n        no_wrap: Optional[bool] = None,\n        end: str = \"\\n\",\n        tab_size: Optional[int] = None,\n        spans: Optional[List[Span]] = None,\n    ) -> None:\n        sanitized_text = strip_control_codes(text)\n        self._text = [sanitized_text]\n        self.style = style\n        self.justify: Optional[\"JustifyMethod\"] = justify\n        self.overflow: Optional[\"OverflowMethod\"] = overflow\n        self.no_wrap = no_wrap\n        self.end = end\n        self.tab_size = tab_size\n        self._spans: List[Span] = spans or []\n        self._length: int = len(sanitized_text)\n\n    def __len__(self) -> int:\n        return self._length\n\n    def __bool__(self) -> bool:\n        return bool(self._length)\n\n    def __str__(self) -> str:\n        return self.plain\n\n    def __repr__(self) -> str:\n        return f\"<text {self.plain!r} {self._spans!r} {self.style!r}>\"\n\n    def __add__(self, other: Any) -> \"Text\":\n        if isinstance(other, (str, Text)):\n            result = self.copy()\n            result.append(other)\n            return result\n        return NotImplemented\n\n    def __eq__(self, other: object) -> bool:\n        if not isinstance(other, Text):\n            return NotImplemented\n        return self.plain == other.plain and self._spans == other._spans\n\n    def __contains__(self, other: object) -> bool:\n        if isinstance(other, str):\n            return other in self.plain\n        elif isinstance(other, Text):\n            return other.plain in self.plain\n        return False\n\n    def __getitem__(self, slice: Union[int, slice]) -> \"Text\":\n        def get_text_at(offset: int) -> \"Text\":\n            _Span = Span\n            text = Text(\n                self.plain[offset],\n                spans=[\n                    _Span(0, 1, style)\n                    for start, end, style in self._spans\n                    if end > offset >= start\n                ],\n                end=\"\",\n            )\n            return text\n\n        if isinstance(slice, int):\n            return get_text_at(slice)\n        else:\n            start, stop, step = slice.indices(len(self.plain))\n            if step == 1:\n                lines = self.divide([start, stop])\n                return lines[1]\n            else:\n                # This would be a bit of work to implement efficiently\n                # For now, its not required\n                raise TypeError(\"slices with step!=1 are not supported\")\n\n    @property\n    def cell_len(self) -> int:\n        \"\"\"Get the number of cells required to render this text.\"\"\"\n        return cell_len(self.plain)\n\n    @property\n    def markup(self) -> str:\n        \"\"\"Get console markup to render this Text.\n\n        Returns:\n            str: A string potentially creating markup tags.\n        \"\"\"\n        from .markup import escape\n\n        output: List[str] = []\n\n        plain = self.plain\n        markup_spans = [\n            (0, False, self.style),\n            *((span.start, False, span.style) for span in self._spans),\n            *((span.end, True, span.style) for span in self._spans),\n            (len(plain), True, self.style),\n        ]\n        markup_spans.sort(key=itemgetter(0, 1))\n        position = 0\n        append = output.append\n        for offset, closing, style in markup_spans:\n            if offset > position:\n                append(escape(plain[position:offset]))\n                position = offset\n            if style:\n                append(f\"[/{style}]\" if closing else f\"[{style}]\")\n        markup = \"\".join(output)\n        return markup\n\n    @classmethod\n    def from_markup(\n        cls,\n        text: str,\n        *,\n        style: Union[str, Style] = \"\",\n        emoji: bool = True,\n        emoji_variant: Optional[EmojiVariant] = None,\n        justify: Optional[\"JustifyMethod\"] = None,\n        overflow: Optional[\"OverflowMethod\"] = None,\n        end: str = \"\\n\",\n    ) -> \"Text\":\n        \"\"\"Create Text instance from markup.\n\n        Args:\n            text (str): A string containing console markup.\n            style (Union[str, Style], optional): Base style for text. Defaults to \"\".\n            emoji (bool, optional): Also render emoji code. Defaults to True.\n            emoji_variant (str, optional): Optional emoji variant, either \"text\" or \"emoji\". Defaults to None.\n            justify (str, optional): Justify method: \"left\", \"center\", \"full\", \"right\". Defaults to None.\n            overflow (str, optional): Overflow method: \"crop\", \"fold\", \"ellipsis\". Defaults to None.\n            end (str, optional): Character to end text with. Defaults to \"\\\\\\\\n\".\n\n        Returns:\n            Text: A Text instance with markup rendered.\n        \"\"\"\n        from .markup import render\n\n        rendered_text = render(text, style, emoji=emoji, emoji_variant=emoji_variant)\n        rendered_text.justify = justify\n        rendered_text.overflow = overflow\n        rendered_text.end = end\n        return rendered_text\n\n    @classmethod\n    def from_ansi(\n        cls,\n        text: str,\n        *,\n        style: Union[str, Style] = \"\",\n        justify: Optional[\"JustifyMethod\"] = None,\n        overflow: Optional[\"OverflowMethod\"] = None,\n        no_wrap: Optional[bool] = None,\n        end: str = \"\\n\",\n        tab_size: Optional[int] = 8,\n    ) -> \"Text\":\n        \"\"\"Create a Text object from a string containing ANSI escape codes.\n\n        Args:\n            text (str): A string containing escape codes.\n            style (Union[str, Style], optional): Base style for text. Defaults to \"\".\n            justify (str, optional): Justify method: \"left\", \"center\", \"full\", \"right\". Defaults to None.\n            overflow (str, optional): Overflow method: \"crop\", \"fold\", \"ellipsis\". Defaults to None.\n            no_wrap (bool, optional): Disable text wrapping, or None for default. Defaults to None.\n            end (str, optional): Character to end text with. Defaults to \"\\\\\\\\n\".\n            tab_size (int): Number of spaces per tab, or ``None`` to use ``console.tab_size``. Defaults to None.\n        \"\"\"\n        from .ansi import AnsiDecoder\n\n        joiner = Text(\n            \"\\n\",\n            justify=justify,\n            overflow=overflow,\n            no_wrap=no_wrap,\n            end=end,\n            tab_size=tab_size,\n            style=style,\n        )\n        decoder = AnsiDecoder()\n        result = joiner.join(line for line in decoder.decode(text))\n        return result\n\n    @classmethod\n    def styled(\n        cls,\n        text: str,\n        style: StyleType = \"\",\n        *,\n        justify: Optional[\"JustifyMethod\"] = None,\n        overflow: Optional[\"OverflowMethod\"] = None,\n    ) -> \"Text\":\n        \"\"\"Construct a Text instance with a pre-applied styled. A style applied in this way won't be used\n        to pad the text when it is justified.\n\n        Args:\n            text (str): A string containing console markup.\n            style (Union[str, Style]): Style to apply to the text. Defaults to \"\".\n            justify (str, optional): Justify method: \"left\", \"center\", \"full\", \"right\". Defaults to None.\n            overflow (str, optional): Overflow method: \"crop\", \"fold\", \"ellipsis\". Defaults to None.\n\n        Returns:\n            Text: A text instance with a style applied to the entire string.\n        \"\"\"\n        styled_text = cls(text, justify=justify, overflow=overflow)\n        styled_text.stylize(style)\n        return styled_text\n\n    @classmethod\n    def assemble(\n        cls,\n        *parts: Union[str, \"Text\", Tuple[str, StyleType]],\n        style: Union[str, Style] = \"\",\n        justify: Optional[\"JustifyMethod\"] = None,\n        overflow: Optional[\"OverflowMethod\"] = None,\n        no_wrap: Optional[bool] = None,\n        end: str = \"\\n\",\n        tab_size: int = 8,\n        meta: Optional[Dict[str, Any]] = None,\n    ) -> \"Text\":\n        \"\"\"Construct a text instance by combining a sequence of strings with optional styles.\n        The positional arguments should be either strings, or a tuple of string + style.\n\n        Args:\n            style (Union[str, Style], optional): Base style for text. Defaults to \"\".\n            justify (str, optional): Justify method: \"left\", \"center\", \"full\", \"right\". Defaults to None.\n            overflow (str, optional): Overflow method: \"crop\", \"fold\", \"ellipsis\". Defaults to None.\n            no_wrap (bool, optional): Disable text wrapping, or None for default. Defaults to None.\n            end (str, optional): Character to end text with. Defaults to \"\\\\\\\\n\".\n            tab_size (int): Number of spaces per tab, or ``None`` to use ``console.tab_size``. Defaults to None.\n            meta (Dict[str, Any], optional). Meta data to apply to text, or None for no meta data. Default to None\n\n        Returns:\n            Text: A new text instance.\n        \"\"\"\n        text = cls(\n            style=style,\n            justify=justify,\n            overflow=overflow,\n            no_wrap=no_wrap,\n            end=end,\n            tab_size=tab_size,\n        )\n        append = text.append\n        _Text = Text\n        for part in parts:\n            if isinstance(part, (_Text, str)):\n                append(part)\n            else:\n                append(*part)\n        if meta:\n            text.apply_meta(meta)\n        return text\n\n    @property\n    def plain(self) -> str:\n        \"\"\"Get the text as a single string.\"\"\"\n        if len(self._text) != 1:\n            self._text[:] = [\"\".join(self._text)]\n        return self._text[0]\n\n    @plain.setter\n    def plain(self, new_text: str) -> None:\n        \"\"\"Set the text to a new value.\"\"\"\n        if new_text != self.plain:\n            sanitized_text = strip_control_codes(new_text)\n            self._text[:] = [sanitized_text]\n            old_length = self._length\n            self._length = len(sanitized_text)\n            if old_length > self._length:\n                self._trim_spans()\n\n    @property\n    def spans(self) -> List[Span]:\n        \"\"\"Get a reference to the internal list of spans.\"\"\"\n        return self._spans\n\n    @spans.setter\n    def spans(self, spans: List[Span]) -> None:\n        \"\"\"Set spans.\"\"\"\n        self._spans = spans[:]\n\n    def blank_copy(self, plain: str = \"\") -> \"Text\":\n        \"\"\"Return a new Text instance with copied metadata (but not the string or spans).\"\"\"\n        copy_self = Text(\n            plain,\n            style=self.style,\n            justify=self.justify,\n            overflow=self.overflow,\n            no_wrap=self.no_wrap,\n            end=self.end,\n            tab_size=self.tab_size,\n        )\n        return copy_self\n\n    def copy(self) -> \"Text\":\n        \"\"\"Return a copy of this instance.\"\"\"\n        copy_self = Text(\n            self.plain,\n            style=self.style,\n            justify=self.justify,\n            overflow=self.overflow,\n            no_wrap=self.no_wrap,\n            end=self.end,\n            tab_size=self.tab_size,\n        )\n        copy_self._spans[:] = self._spans\n        return copy_self\n\n    def stylize(\n        self,\n        style: Union[str, Style],\n        start: int = 0,\n        end: Optional[int] = None,\n    ) -> None:\n        \"\"\"Apply a style to the text, or a portion of the text.\n\n        Args:\n            style (Union[str, Style]): Style instance or style definition to apply.\n            start (int): Start offset (negative indexing is supported). Defaults to 0.\n            end (Optional[int], optional): End offset (negative indexing is supported), or None for end of text. Defaults to None.\n        \"\"\"\n        if style:\n            length = len(self)\n            if start < 0:\n                start = length + start\n            if end is None:\n                end = length\n            if end < 0:\n                end = length + end\n            if start >= length or end <= start:\n                # Span not in text or not valid\n                return\n            self._spans.append(Span(start, min(length, end), style))\n\n    def stylize_before(\n        self,\n        style: Union[str, Style],\n        start: int = 0,\n        end: Optional[int] = None,\n    ) -> None:\n        \"\"\"Apply a style to the text, or a portion of the text. Styles will be applied before other styles already present.\n\n        Args:\n            style (Union[str, Style]): Style instance or style definition to apply.\n            start (int): Start offset (negative indexing is supported). Defaults to 0.\n            end (Optional[int], optional): End offset (negative indexing is supported), or None for end of text. Defaults to None.\n        \"\"\"\n        if style:\n            length = len(self)\n            if start < 0:\n                start = length + start\n            if end is None:\n                end = length\n            if end < 0:\n                end = length + end\n            if start >= length or end <= start:\n                # Span not in text or not valid\n                return\n            self._spans.insert(0, Span(start, min(length, end), style))\n\n    def apply_meta(\n        self, meta: Dict[str, Any], start: int = 0, end: Optional[int] = None\n    ) -> None:\n        \"\"\"Apply metadata to the text, or a portion of the text.\n\n        Args:\n            meta (Dict[str, Any]): A dict of meta information.\n            start (int): Start offset (negative indexing is supported). Defaults to 0.\n            end (Optional[int], optional): End offset (negative indexing is supported), or None for end of text. Defaults to None.\n\n        \"\"\"\n        style = Style.from_meta(meta)\n        self.stylize(style, start=start, end=end)\n\n    def on(self, meta: Optional[Dict[str, Any]] = None, **handlers: Any) -> \"Text\":\n        \"\"\"Apply event handlers (used by Textual project).\n\n        Example:\n            >>> from rich.text import Text\n            >>> text = Text(\"hello world\")\n            >>> text.on(click=\"view.toggle('world')\")\n\n        Args:\n            meta (Dict[str, Any]): Mapping of meta information.\n            **handlers: Keyword args are prefixed with \"@\" to defined handlers.\n\n        Returns:\n            Text: Self is returned to method may be chained.\n        \"\"\"\n        meta = {} if meta is None else meta\n        meta.update({f\"@{key}\": value for key, value in handlers.items()})\n        self.stylize(Style.from_meta(meta))\n        return self\n\n    def remove_suffix(self, suffix: str) -> None:\n        \"\"\"Remove a suffix if it exists.\n\n        Args:\n            suffix (str): Suffix to remove.\n        \"\"\"\n        if self.plain.endswith(suffix):\n            self.right_crop(len(suffix))\n\n    def get_style_at_offset(self, console: \"Console\", offset: int) -> Style:\n        \"\"\"Get the style of a character at give offset.\n\n        Args:\n            console (~Console): Console where text will be rendered.\n            offset (int): Offset in to text (negative indexing supported)\n\n        Returns:\n            Style: A Style instance.\n        \"\"\"\n        # TODO: This is a little inefficient, it is only used by full justify\n        if offset < 0:\n            offset = len(self) + offset\n        get_style = console.get_style\n        style = get_style(self.style).copy()\n        for start, end, span_style in self._spans:\n            if end > offset >= start:\n                style += get_style(span_style, default=\"\")\n        return style\n\n    def extend_style(self, spaces: int) -> None:\n        \"\"\"Extend the Text given number of spaces where the spaces have the same style as the last character.\n\n        Args:\n            spaces (int): Number of spaces to add to the Text.\n        \"\"\"\n        if spaces <= 0:\n            return\n        spans = self.spans\n        new_spaces = \" \" * spaces\n        if spans:\n            end_offset = len(self)\n            self._spans[:] = [\n                span.extend(spaces) if span.end >= end_offset else span\n                for span in spans\n            ]\n            self._text.append(new_spaces)\n            self._length += spaces\n        else:\n            self.plain += new_spaces\n\n    def highlight_regex(\n        self,\n        re_highlight: Union[Pattern[str], str],\n        style: Optional[Union[GetStyleCallable, StyleType]] = None,\n        *,\n        style_prefix: str = \"\",\n    ) -> int:\n        \"\"\"Highlight text with a regular expression, where group names are\n        translated to styles.\n\n        Args:\n            re_highlight (Union[re.Pattern, str]): A regular expression object or string.\n            style (Union[GetStyleCallable, StyleType]): Optional style to apply to whole match, or a callable\n                which accepts the matched text and returns a style. Defaults to None.\n            style_prefix (str, optional): Optional prefix to add to style group names.\n\n        Returns:\n            int: Number of regex matches\n        \"\"\"\n        count = 0\n        append_span = self._spans.append\n        _Span = Span\n        plain = self.plain\n        if isinstance(re_highlight, str):\n            re_highlight = re.compile(re_highlight)\n        for match in re_highlight.finditer(plain):\n            get_span = match.span\n            if style:\n                start, end = get_span()\n                match_style = style(plain[start:end]) if callable(style) else style\n                if match_style is not None and end > start:\n                    append_span(_Span(start, end, match_style))\n\n            count += 1\n            for name in match.groupdict().keys():\n                start, end = get_span(name)\n                if start != -1 and end > start:\n                    append_span(_Span(start, end, f\"{style_prefix}{name}\"))\n        return count\n\n    def highlight_words(\n        self,\n        words: Iterable[str],\n        style: Union[str, Style],\n        *,\n        case_sensitive: bool = True,\n    ) -> int:\n        \"\"\"Highlight words with a style.\n\n        Args:\n            words (Iterable[str]): Words to highlight.\n            style (Union[str, Style]): Style to apply.\n            case_sensitive (bool, optional): Enable case sensitive matching. Defaults to True.\n\n        Returns:\n            int: Number of words highlighted.\n        \"\"\"\n        re_words = \"|\".join(re.escape(word) for word in words)\n        add_span = self._spans.append\n        count = 0\n        _Span = Span\n        for match in re.finditer(\n            re_words, self.plain, flags=0 if case_sensitive else re.IGNORECASE\n        ):\n            start, end = match.span(0)\n            add_span(_Span(start, end, style))\n            count += 1\n        return count\n\n    def rstrip(self) -> None:\n        \"\"\"Strip whitespace from end of text.\"\"\"\n        self.plain = self.plain.rstrip()\n\n    def rstrip_end(self, size: int) -> None:\n        \"\"\"Remove whitespace beyond a certain width at the end of the text.\n\n        Args:\n            size (int): The desired size of the text.\n        \"\"\"\n        text_length = len(self)\n        if text_length > size:\n            excess = text_length - size\n            whitespace_match = _re_whitespace.search(self.plain)\n            if whitespace_match is not None:\n                whitespace_count = len(whitespace_match.group(0))\n                self.right_crop(min(whitespace_count, excess))\n\n    def set_length(self, new_length: int) -> None:\n        \"\"\"Set new length of the text, clipping or padding is required.\"\"\"\n        length = len(self)\n        if length != new_length:\n            if length < new_length:\n                self.pad_right(new_length - length)\n            else:\n                self.right_crop(length - new_length)\n\n    def __rich_console__(\n        self, console: \"Console\", options: \"ConsoleOptions\"\n    ) -> Iterable[Segment]:\n        tab_size: int = console.tab_size if self.tab_size is None else self.tab_size\n        justify = self.justify or options.justify or DEFAULT_JUSTIFY\n\n        overflow = self.overflow or options.overflow or DEFAULT_OVERFLOW\n\n        lines = self.wrap(\n            console,\n            options.max_width,\n            justify=justify,\n            overflow=overflow,\n            tab_size=tab_size or 8,\n            no_wrap=pick_bool(self.no_wrap, options.no_wrap, False),\n        )\n        all_lines = Text(\"\\n\").join(lines)\n        yield from all_lines.render(console, end=self.end)\n\n    def __rich_measure__(\n        self, console: \"Console\", options: \"ConsoleOptions\"\n    ) -> Measurement:\n        text = self.plain\n        lines = text.splitlines()\n        max_text_width = max(cell_len(line) for line in lines) if lines else 0\n        words = text.split()\n        min_text_width = (\n            max(cell_len(word) for word in words) if words else max_text_width\n        )\n        return Measurement(min_text_width, max_text_width)\n\n    def render(self, console: \"Console\", end: str = \"\") -> Iterable[\"Segment\"]:\n        \"\"\"Render the text as Segments.\n\n        Args:\n            console (Console): Console instance.\n            end (Optional[str], optional): Optional end character.\n\n        Returns:\n            Iterable[Segment]: Result of render that may be written to the console.\n        \"\"\"\n        _Segment = Segment\n        text = self.plain\n        if not self._spans:\n            yield Segment(text)\n            if end:\n                yield _Segment(end)\n            return\n        get_style = partial(console.get_style, default=Style.null())\n\n        enumerated_spans = list(enumerate(self._spans, 1))\n        style_map = {index: get_style(span.style) for index, span in enumerated_spans}\n        style_map[0] = get_style(self.style)\n\n        spans = [\n            (0, False, 0),\n            *((span.start, False, index) for index, span in enumerated_spans),\n            *((span.end, True, index) for index, span in enumerated_spans),\n            (len(text), True, 0),\n        ]\n        spans.sort(key=itemgetter(0, 1))\n\n        stack: List[int] = []\n        stack_append = stack.append\n        stack_pop = stack.remove\n\n        style_cache: Dict[Tuple[Style, ...], Style] = {}\n        style_cache_get = style_cache.get\n        combine = Style.combine\n\n        def get_current_style() -> Style:\n            \"\"\"Construct current style from stack.\"\"\"\n            styles = tuple(style_map[_style_id] for _style_id in sorted(stack))\n            cached_style = style_cache_get(styles)\n            if cached_style is not None:\n                return cached_style\n            current_style = combine(styles)\n            style_cache[styles] = current_style\n            return current_style\n\n        for (offset, leaving, style_id), (next_offset, _, _) in zip(spans, spans[1:]):\n            if leaving:\n                stack_pop(style_id)\n            else:\n                stack_append(style_id)\n            if next_offset > offset:\n                yield _Segment(text[offset:next_offset], get_current_style())\n        if end:\n            yield _Segment(end)\n\n    def join(self, lines: Iterable[\"Text\"]) -> \"Text\":\n        \"\"\"Join text together with this instance as the separator.\n\n        Args:\n            lines (Iterable[Text]): An iterable of Text instances to join.\n\n        Returns:\n            Text: A new text instance containing join text.\n        \"\"\"\n\n        new_text = self.blank_copy()\n\n        def iter_text() -> Iterable[\"Text\"]:\n            if self.plain:\n                for last, line in loop_last(lines):\n                    yield line\n                    if not last:\n                        yield self\n            else:\n                yield from lines\n\n        extend_text = new_text._text.extend\n        append_span = new_text._spans.append\n        extend_spans = new_text._spans.extend\n        offset = 0\n        _Span = Span\n\n        for text in iter_text():\n            extend_text(text._text)\n            if text.style:\n                append_span(_Span(offset, offset + len(text), text.style))\n            extend_spans(\n                _Span(offset + start, offset + end, style)\n                for start, end, style in text._spans\n            )\n            offset += len(text)\n        new_text._length = offset\n        return new_text\n\n    def expand_tabs(self, tab_size: Optional[int] = None) -> None:\n        \"\"\"Converts tabs to spaces.\n\n        Args:\n            tab_size (int, optional): Size of tabs. Defaults to 8.\n\n        \"\"\"\n        if \"\\t\" not in self.plain:\n            return\n        if tab_size is None:\n            tab_size = self.tab_size\n        if tab_size is None:\n            tab_size = 8\n\n        new_text: List[Text] = []\n        append = new_text.append\n\n        for line in self.split(\"\\n\", include_separator=True):\n            if \"\\t\" not in line.plain:\n                append(line)\n            else:\n                cell_position = 0\n                parts = line.split(\"\\t\", include_separator=True)\n                for part in parts:\n                    if part.plain.endswith(\"\\t\"):\n                        part._text[-1] = part._text[-1][:-1] + \" \"\n                        cell_position += part.cell_len\n                        tab_remainder = cell_position % tab_size\n                        if tab_remainder:\n                            spaces = tab_size - tab_remainder\n                            part.extend_style(spaces)\n                            cell_position += spaces\n                    else:\n                        cell_position += part.cell_len\n                    append(part)\n\n        result = Text(\"\").join(new_text)\n\n        self._text = [result.plain]\n        self._length = len(self.plain)\n        self._spans[:] = result._spans\n\n    def truncate(\n        self,\n        max_width: int,\n        *,\n        overflow: Optional[\"OverflowMethod\"] = None,\n        pad: bool = False,\n    ) -> None:\n        \"\"\"Truncate text if it is longer that a given width.\n\n        Args:\n            max_width (int): Maximum number of characters in text.\n            overflow (str, optional): Overflow method: \"crop\", \"fold\", or \"ellipsis\". Defaults to None, to use self.overflow.\n            pad (bool, optional): Pad with spaces if the length is less than max_width. Defaults to False.\n        \"\"\"\n        _overflow = overflow or self.overflow or DEFAULT_OVERFLOW\n        if _overflow != \"ignore\":\n            length = cell_len(self.plain)\n            if length > max_width:\n                if _overflow == \"ellipsis\":\n                    self.plain = set_cell_size(self.plain, max_width - 1) + \"\"\n                else:\n                    self.plain = set_cell_size(self.plain, max_width)\n            if pad and length < max_width:\n                spaces = max_width - length\n                self._text = [f\"{self.plain}{' ' * spaces}\"]\n                self._length = len(self.plain)\n\n    def _trim_spans(self) -> None:\n        \"\"\"Remove or modify any spans that are over the end of the text.\"\"\"\n        max_offset = len(self.plain)\n        _Span = Span\n        self._spans[:] = [\n            (\n                span\n                if span.end < max_offset\n                else _Span(span.start, min(max_offset, span.end), span.style)\n            )\n            for span in self._spans\n            if span.start < max_offset\n        ]\n\n    def pad(self, count: int, character: str = \" \") -> None:\n        \"\"\"Pad left and right with a given number of characters.\n\n        Args:\n            count (int): Width of padding.\n            character (str): The character to pad with. Must be a string of length 1.\n        \"\"\"\n        assert len(character) == 1, \"Character must be a string of length 1\"\n        if count:\n            pad_characters = character * count\n            self.plain = f\"{pad_characters}{self.plain}{pad_characters}\"\n            _Span = Span\n            self._spans[:] = [\n                _Span(start + count, end + count, style)\n                for start, end, style in self._spans\n            ]\n\n    def pad_left(self, count: int, character: str = \" \") -> None:\n        \"\"\"Pad the left with a given character.\n\n        Args:\n            count (int): Number of characters to pad.\n            character (str, optional): Character to pad with. Defaults to \" \".\n        \"\"\"\n        assert len(character) == 1, \"Character must be a string of length 1\"\n        if count:\n            self.plain = f\"{character * count}{self.plain}\"\n            _Span = Span\n            self._spans[:] = [\n                _Span(start + count, end + count, style)\n                for start, end, style in self._spans\n            ]\n\n    def pad_right(self, count: int, character: str = \" \") -> None:\n        \"\"\"Pad the right with a given character.\n\n        Args:\n            count (int): Number of characters to pad.\n            character (str, optional): Character to pad with. Defaults to \" \".\n        \"\"\"\n        assert len(character) == 1, \"Character must be a string of length 1\"\n        if count:\n            self.plain = f\"{self.plain}{character * count}\"\n\n    def align(self, align: AlignMethod, width: int, character: str = \" \") -> None:\n        \"\"\"Align text to a given width.\n\n        Args:\n            align (AlignMethod): One of \"left\", \"center\", or \"right\".\n            width (int): Desired width.\n            character (str, optional): Character to pad with. Defaults to \" \".\n        \"\"\"\n        self.truncate(width)\n        excess_space = width - cell_len(self.plain)\n        if excess_space:\n            if align == \"left\":\n                self.pad_right(excess_space, character)\n            elif align == \"center\":\n                left = excess_space // 2\n                self.pad_left(left, character)\n                self.pad_right(excess_space - left, character)\n            else:\n                self.pad_left(excess_space, character)\n\n    def append(\n        self, text: Union[\"Text\", str], style: Optional[Union[str, \"Style\"]] = None\n    ) -> \"Text\":\n        \"\"\"Add text with an optional style.\n\n        Args:\n            text (Union[Text, str]): A str or Text to append.\n            style (str, optional): A style name. Defaults to None.\n\n        Returns:\n            Text: Returns self for chaining.\n        \"\"\"\n\n        if not isinstance(text, (str, Text)):\n            raise TypeError(\"Only str or Text can be appended to Text\")\n\n        if len(text):\n            if isinstance(text, str):\n                sanitized_text = strip_control_codes(text)\n                self._text.append(sanitized_text)\n                offset = len(self)\n                text_length = len(sanitized_text)\n                if style:\n                    self._spans.append(Span(offset, offset + text_length, style))\n                self._length += text_length\n            elif isinstance(text, Text):\n                _Span = Span\n                if style is not None:\n                    raise ValueError(\n                        \"style must not be set when appending Text instance\"\n                    )\n                text_length = self._length\n                if text.style:\n                    self._spans.append(\n                        _Span(text_length, text_length + len(text), text.style)\n                    )\n                self._text.append(text.plain)\n                self._spans.extend(\n                    _Span(start + text_length, end + text_length, style)\n                    for start, end, style in text._spans.copy()\n                )\n                self._length += len(text)\n        return self\n\n    def append_text(self, text: \"Text\") -> \"Text\":\n        \"\"\"Append another Text instance. This method is more performant that Text.append, but\n        only works for Text.\n\n        Args:\n            text (Text): The Text instance to append to this instance.\n\n        Returns:\n            Text: Returns self for chaining.\n        \"\"\"\n        _Span = Span\n        text_length = self._length\n        if text.style:\n            self._spans.append(_Span(text_length, text_length + len(text), text.style))\n        self._text.append(text.plain)\n        self._spans.extend(\n            _Span(start + text_length, end + text_length, style)\n            for start, end, style in text._spans.copy()\n        )\n        self._length += len(text)\n        return self\n\n    def append_tokens(\n        self, tokens: Iterable[Tuple[str, Optional[StyleType]]]\n    ) -> \"Text\":\n        \"\"\"Append iterable of str and style. Style may be a Style instance or a str style definition.\n\n        Args:\n            tokens (Iterable[Tuple[str, Optional[StyleType]]]): An iterable of tuples containing str content and style.\n\n        Returns:\n            Text: Returns self for chaining.\n        \"\"\"\n        append_text = self._text.append\n        append_span = self._spans.append\n        _Span = Span\n        offset = len(self)\n        for content, style in tokens:\n            content = strip_control_codes(content)\n            append_text(content)\n            if style:\n                append_span(_Span(offset, offset + len(content), style))\n            offset += len(content)\n        self._length = offset\n        return self\n\n    def copy_styles(self, text: \"Text\") -> None:\n        \"\"\"Copy styles from another Text instance.\n\n        Args:\n            text (Text): A Text instance to copy styles from, must be the same length.\n        \"\"\"\n        self._spans.extend(text._spans)\n\n    def split(\n        self,\n        separator: str = \"\\n\",\n        *,\n        include_separator: bool = False,\n        allow_blank: bool = False,\n    ) -> Lines:\n        \"\"\"Split rich text in to lines, preserving styles.\n\n        Args:\n            separator (str, optional): String to split on. Defaults to \"\\\\\\\\n\".\n            include_separator (bool, optional): Include the separator in the lines. Defaults to False.\n            allow_blank (bool, optional): Return a blank line if the text ends with a separator. Defaults to False.\n\n        Returns:\n            List[RichText]: A list of rich text, one per line of the original.\n        \"\"\"\n        assert separator, \"separator must not be empty\"\n\n        text = self.plain\n        if separator not in text:\n            return Lines([self.copy()])\n\n        if include_separator:\n            lines = self.divide(\n                match.end() for match in re.finditer(re.escape(separator), text)\n            )\n        else:\n\n            def flatten_spans() -> Iterable[int]:\n                for match in re.finditer(re.escape(separator), text):\n                    start, end = match.span()\n                    yield start\n                    yield end\n\n            lines = Lines(\n                line for line in self.divide(flatten_spans()) if line.plain != separator\n            )\n\n        if not allow_blank and text.endswith(separator):\n            lines.pop()\n\n        return lines\n\n    def divide(self, offsets: Iterable[int]) -> Lines:\n        \"\"\"Divide text in to a number of lines at given offsets.\n\n        Args:\n            offsets (Iterable[int]): Offsets used to divide text.\n\n        Returns:\n            Lines: New RichText instances between offsets.\n        \"\"\"\n        _offsets = list(offsets)\n\n        if not _offsets:\n            return Lines([self.copy()])\n\n        text = self.plain\n        text_length = len(text)\n        divide_offsets = [0, *_offsets, text_length]\n        line_ranges = list(zip(divide_offsets, divide_offsets[1:]))\n\n        style = self.style\n        justify = self.justify\n        overflow = self.overflow\n        _Text = Text\n        new_lines = Lines(\n            _Text(\n                text[start:end],\n                style=style,\n                justify=justify,\n                overflow=overflow,\n            )\n            for start, end in line_ranges\n        )\n        if not self._spans:\n            return new_lines\n\n        _line_appends = [line._spans.append for line in new_lines._lines]\n        line_count = len(line_ranges)\n        _Span = Span\n\n        for span_start, span_end, style in self._spans:\n            lower_bound = 0\n            upper_bound = line_count\n            start_line_no = (lower_bound + upper_bound) // 2\n\n            while True:\n                line_start, line_end = line_ranges[start_line_no]\n                if span_start < line_start:\n                    upper_bound = start_line_no - 1\n                elif span_start > line_end:\n                    lower_bound = start_line_no + 1\n                else:\n                    break\n                start_line_no = (lower_bound + upper_bound) // 2\n\n            if span_end < line_end:\n                end_line_no = start_line_no\n            else:\n                end_line_no = lower_bound = start_line_no\n                upper_bound = line_count\n\n                while True:\n                    line_start, line_end = line_ranges[end_line_no]\n                    if span_end < line_start:\n                        upper_bound = end_line_no - 1\n                    elif span_end > line_end:\n                        lower_bound = end_line_no + 1\n                    else:\n                        break\n                    end_line_no = (lower_bound + upper_bound) // 2\n\n            for line_no in range(start_line_no, end_line_no + 1):\n                line_start, line_end = line_ranges[line_no]\n                new_start = max(0, span_start - line_start)\n                new_end = min(span_end - line_start, line_end - line_start)\n                if new_end > new_start:\n                    _line_appends[line_no](_Span(new_start, new_end, style))\n\n        return new_lines\n\n    def right_crop(self, amount: int = 1) -> None:\n        \"\"\"Remove a number of characters from the end of the text.\"\"\"\n        max_offset = len(self.plain) - amount\n        _Span = Span\n        self._spans[:] = [\n            (\n                span\n                if span.end < max_offset\n                else _Span(span.start, min(max_offset, span.end), span.style)\n            )\n            for span in self._spans\n            if span.start < max_offset\n        ]\n        self._text = [self.plain[:-amount]]\n        self._length -= amount\n\n    def wrap(\n        self,\n        console: \"Console\",\n        width: int,\n        *,\n        justify: Optional[\"JustifyMethod\"] = None,\n        overflow: Optional[\"OverflowMethod\"] = None,\n        tab_size: int = 8,\n        no_wrap: Optional[bool] = None,\n    ) -> Lines:\n        \"\"\"Word wrap the text.\n\n        Args:\n            console (Console): Console instance.\n            width (int): Number of cells available per line.\n            justify (str, optional): Justify method: \"default\", \"left\", \"center\", \"full\", \"right\". Defaults to \"default\".\n            overflow (str, optional): Overflow method: \"crop\", \"fold\", or \"ellipsis\". Defaults to None.\n            tab_size (int, optional): Default tab size. Defaults to 8.\n            no_wrap (bool, optional): Disable wrapping, Defaults to False.\n\n        Returns:\n            Lines: Number of lines.\n        \"\"\"\n        wrap_justify = justify or self.justify or DEFAULT_JUSTIFY\n        wrap_overflow = overflow or self.overflow or DEFAULT_OVERFLOW\n\n        no_wrap = pick_bool(no_wrap, self.no_wrap, False) or overflow == \"ignore\"\n\n        lines = Lines()\n        for line in self.split(allow_blank=True):\n            if \"\\t\" in line:\n                line.expand_tabs(tab_size)\n            if no_wrap:\n                new_lines = Lines([line])\n            else:\n                offsets = divide_line(str(line), width, fold=wrap_overflow == \"fold\")\n                new_lines = line.divide(offsets)\n            for line in new_lines:\n                line.rstrip_end(width)\n            if wrap_justify:\n                new_lines.justify(\n                    console, width, justify=wrap_justify, overflow=wrap_overflow\n                )\n            for line in new_lines:\n                line.truncate(width, overflow=wrap_overflow)\n            lines.extend(new_lines)\n        return lines\n\n    def fit(self, width: int) -> Lines:\n        \"\"\"Fit the text in to given width by chopping in to lines.\n\n        Args:\n            width (int): Maximum characters in a line.\n\n        Returns:\n            Lines: Lines container.\n        \"\"\"\n        lines: Lines = Lines()\n        append = lines.append\n        for line in self.split():\n            line.set_length(width)\n            append(line)\n        return lines\n\n    def detect_indentation(self) -> int:\n        \"\"\"Auto-detect indentation of code.\n\n        Returns:\n            int: Number of spaces used to indent code.\n        \"\"\"\n\n        _indentations = {\n            len(match.group(1))\n            for match in re.finditer(r\"^( *)(.*)$\", self.plain, flags=re.MULTILINE)\n        }\n\n        try:\n            indentation = (\n                reduce(gcd, [indent for indent in _indentations if not indent % 2]) or 1\n            )\n        except TypeError:\n            indentation = 1\n\n        return indentation\n\n    def with_indent_guides(\n        self,\n        indent_size: Optional[int] = None,\n        *,\n        character: str = \"\",\n        style: StyleType = \"dim green\",\n    ) -> \"Text\":\n        \"\"\"Adds indent guide lines to text.\n\n        Args:\n            indent_size (Optional[int]): Size of indentation, or None to auto detect. Defaults to None.\n            character (str, optional): Character to use for indentation. Defaults to \"\".\n            style (Union[Style, str], optional): Style of indent guides.\n\n        Returns:\n            Text: New text with indentation guides.\n        \"\"\"\n\n        _indent_size = self.detect_indentation() if indent_size is None else indent_size\n\n        text = self.copy()\n        text.expand_tabs()\n        indent_line = f\"{character}{' ' * (_indent_size - 1)}\"\n\n        re_indent = re.compile(r\"^( *)(.*)$\")\n        new_lines: List[Text] = []\n        add_line = new_lines.append\n        blank_lines = 0\n        for line in text.split(allow_blank=True):\n            match = re_indent.match(line.plain)\n            if not match or not match.group(2):\n                blank_lines += 1\n                continue\n            indent = match.group(1)\n            full_indents, remaining_space = divmod(len(indent), _indent_size)\n            new_indent = f\"{indent_line * full_indents}{' ' * remaining_space}\"\n            line.plain = new_indent + line.plain[len(new_indent) :]\n            line.stylize(style, 0, len(new_indent))\n            if blank_lines:\n                new_lines.extend([Text(new_indent, style=style)] * blank_lines)\n                blank_lines = 0\n            add_line(line)\n        if blank_lines:\n            new_lines.extend([Text(\"\", style=style)] * blank_lines)\n\n        new_text = text.blank_copy(\"\\n\").join(new_lines)\n        return new_text\n\n\nif __name__ == \"__main__\":  # pragma: no cover\n    from rich.console import Console\n\n    text = Text(\n        \"\"\"\\nLorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\\n\"\"\"\n    )\n    text.highlight_words([\"Lorem\"], \"bold\")\n    text.highlight_words([\"ipsum\"], \"italic\")\n\n    console = Console()\n\n    console.rule(\"justify='left'\")\n    console.print(text, style=\"red\")\n    console.print()\n\n    console.rule(\"justify='center'\")\n    console.print(text, style=\"green\", justify=\"center\")\n    console.print()\n\n    console.rule(\"justify='right'\")\n    console.print(text, style=\"blue\", justify=\"right\")\n    console.print()\n\n    console.rule(\"justify='full'\")\n    console.print(text, style=\"magenta\", justify=\"full\")\n    console.print()\n",
    "start_line": 0
  },
  {
    "file": "highlighter.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "import re\nfrom abc import ABC, abstractmethod\nfrom typing import List, Union\nfrom .text import Span, Text",
    "start_line": 0
  },
  {
    "file": "highlighter.py",
    "type": "function",
    "class": null,
    "method": "_combine_regex",
    "name": "_combine_regex",
    "content": "def _combine_regex(*regexes: str) -> str:\n    \"\"\"Combine a number of regexes in to a single regex.\n\n    Returns:\n        str: New regex with all regexes ORed together.\n    \"\"\"\n    return \"|\".join(regexes)",
    "start_line": 7
  },
  {
    "file": "highlighter.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "Highlighter",
    "content": "class Highlighter(ABC):\n    \"\"\"Abstract base class for highlighters.\"\"\"",
    "start_line": 16
  },
  {
    "file": "highlighter.py",
    "type": "method",
    "class": "Highlighter",
    "method": "__call__",
    "name": "__call__",
    "content": "class Highlighter:\n    def __call__(self, text: Union[str, Text]) -> Text:\n        \"\"\"Highlight a str or Text instance.\n\n        Args:\n            text (Union[str, ~Text]): Text to highlight.\n\n        Raises:\n            TypeError: If not called with text or str.\n\n        Returns:\n            Text: A test instance with highlighting applied.\n        \"\"\"\n        if isinstance(text, str):\n            highlight_text = Text(text)\n        elif isinstance(text, Text):\n            highlight_text = text.copy()\n        else:\n            raise TypeError(f\"str or Text instance required, not {text!r}\")\n        self.highlight(highlight_text)\n        return highlight_text\n\n    @abstractmethod",
    "start_line": 19
  },
  {
    "file": "highlighter.py",
    "type": "method",
    "class": "Highlighter",
    "method": "highlight",
    "name": "highlight",
    "content": "class Highlighter:\n    def highlight(self, text: Text) -> None:\n        \"\"\"Apply highlighting in place to text.\n\n        Args:\n            text (~Text): A text object highlight.\n        \"\"\"",
    "start_line": 41
  },
  {
    "file": "highlighter.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "NullHighlighter",
    "content": "class NullHighlighter(Highlighter):\n    \"\"\"A highlighter object that doesn't highlight.\n\n    May be used to disable highlighting entirely.\n\n    \"\"\"",
    "start_line": 49
  },
  {
    "file": "highlighter.py",
    "type": "method",
    "class": "NullHighlighter",
    "method": "highlight",
    "name": "highlight",
    "content": "class NullHighlighter:\n    def highlight(self, text: Text) -> None:\n        \"\"\"Nothing to do\"\"\"",
    "start_line": 56
  },
  {
    "file": "highlighter.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "RegexHighlighter",
    "content": "class RegexHighlighter(Highlighter):\n    \"\"\"Applies highlighting from a list of regular expressions.\"\"\"\n\n    highlights: List[str] = []\n    base_style: str = \"\"",
    "start_line": 60
  },
  {
    "file": "highlighter.py",
    "type": "method",
    "class": "RegexHighlighter",
    "method": "highlight",
    "name": "highlight",
    "content": "class RegexHighlighter:\n    def highlight(self, text: Text) -> None:\n        \"\"\"Highlight :class:`rich.text.Text` using regular expressions.\n\n        Args:\n            text (~Text): Text to highlighted.\n\n        \"\"\"\n\n        highlight_regex = text.highlight_regex\n        for re_highlight in self.highlights:\n            highlight_regex(re_highlight, style_prefix=self.base_style)",
    "start_line": 66
  },
  {
    "file": "highlighter.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "ReprHighlighter",
    "content": "class ReprHighlighter(RegexHighlighter):\n    \"\"\"Highlights the text typically produced from ``__repr__`` methods.\"\"\"\n\n    base_style = \"repr.\"\n    highlights = [\n        r\"(?P<tag_start><)(?P<tag_name>[-\\w.:|]*)(?P<tag_contents>[\\w\\W]*)(?P<tag_end>>)\",\n        r'(?P<attrib_name>[\\w_]{1,50})=(?P<attrib_value>\"?[\\w_]+\"?)?',\n        r\"(?P<brace>[][{}()])\",\n        _combine_regex(\n            r\"(?P<ipv4>[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3})\",\n            r\"(?P<ipv6>([A-Fa-f0-9]{1,4}::?){1,7}[A-Fa-f0-9]{1,4})\",\n            r\"(?P<eui64>(?:[0-9A-Fa-f]{1,2}-){7}[0-9A-Fa-f]{1,2}|(?:[0-9A-Fa-f]{1,2}:){7}[0-9A-Fa-f]{1,2}|(?:[0-9A-Fa-f]{4}\\.){3}[0-9A-Fa-f]{4})\",\n            r\"(?P<eui48>(?:[0-9A-Fa-f]{1,2}-){5}[0-9A-Fa-f]{1,2}|(?:[0-9A-Fa-f]{1,2}:){5}[0-9A-Fa-f]{1,2}|(?:[0-9A-Fa-f]{4}\\.){2}[0-9A-Fa-f]{4})\",\n            r\"(?P<uuid>[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12})\",\n            r\"(?P<call>[\\w.]*?)\\(\",\n            r\"\\b(?P<bool_true>True)\\b|\\b(?P<bool_false>False)\\b|\\b(?P<none>None)\\b\",\n            r\"(?P<ellipsis>\\.\\.\\.)\",\n            r\"(?P<number_complex>(?<!\\w)(?:\\-?[0-9]+\\.?[0-9]*(?:e[-+]?\\d+?)?)(?:[-+](?:[0-9]+\\.?[0-9]*(?:e[-+]?\\d+)?))?j)\",\n            r\"(?P<number>(?<!\\w)\\-?[0-9]+\\.?[0-9]*(e[-+]?\\d+?)?\\b|0x[0-9a-fA-F]*)\",\n            r\"(?P<path>\\B(/[-\\w._+]+)*\\/)(?P<filename>[-\\w._+]*)?\",\n            r\"(?<![\\\\\\w])(?P<str>b?'''.*?(?<!\\\\)'''|b?'.*?(?<!\\\\)'|b?\\\"\\\"\\\".*?(?<!\\\\)\\\"\\\"\\\"|b?\\\".*?(?<!\\\\)\\\")\",\n            r\"(?P<url>(file|https|http|ws|wss)://[-0-9a-zA-Z$_+!`(),.?/;:&=%#~@]*)\",\n        ),\n    ]",
    "start_line": 79
  },
  {
    "file": "highlighter.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "JSONHighlighter",
    "content": "class JSONHighlighter(RegexHighlighter):\n    \"\"\"Highlights JSON\"\"\"",
    "start_line": 105
  },
  {
    "file": "highlighter.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# Captures the start and end of JSON strings, handling escaped quotes",
    "start_line": 108
  },
  {
    "file": "highlighter.py",
    "type": "constants",
    "class": null,
    "method": null,
    "name": "module_constants",
    "content": "JSON_STR = r\"(?<![\\\\\\w])(?P<str>b?\\\".*?(?<!\\\\)\\\")\"\n    JSON_WHITESPACE = {\" \", \"\\n\", \"\\r\", \"\\t\"}\n    base_style = \"json.\"\n    highlights = [\n        _combine_regex(\n            r\"(?P<brace>[\\{\\[\\(\\)\\]\\}])\",\n            r\"\\b(?P<bool_true>true)\\b|\\b(?P<bool_false>false)\\b|\\b(?P<null>null)\\b\",\n            r\"(?P<number>(?<!\\w)\\-?[0-9]+\\.?[0-9]*(e[\\-\\+]?\\d+?)?\\b|0x[0-9a-fA-F]*)\",\n            JSON_STR,\n        ),\n    ]",
    "start_line": 109
  },
  {
    "file": "highlighter.py",
    "type": "method",
    "class": "JSONHighlighter",
    "method": "highlight",
    "name": "highlight",
    "content": "class JSONHighlighter:\n    def highlight(self, text: Text) -> None:\n        super().highlight(text)",
    "start_line": 122
  },
  {
    "file": "highlighter.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# Additional work to handle highlighting JSON keys\n        plain = text.plain\n        append = text.spans.append\n        whitespace = self.JSON_WHITESPACE\n        for match in re.finditer(self.JSON_STR, plain):\n            start, end = match.span()\n            cursor = end\n            while cursor < len(plain):\n                char = plain[cursor]\n                cursor += 1\n                if char == \":\":\n                    append(Span(start, end, \"json.key\"))\n                elif char in whitespace:\n                    continue\n                break",
    "start_line": 125
  },
  {
    "file": "highlighter.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "ISO8601Highlighter",
    "content": "class ISO8601Highlighter(RegexHighlighter):\n    \"\"\"Highlights the ISO8601 date time strings.\n    Regex reference: https://www.oreilly.com/library/view/regular-expressions-cookbook/9781449327453/ch04s07.html\n    \"\"\"\n\n    base_style = \"iso8601.\"\n    highlights = [",
    "start_line": 142
  },
  {
    "file": "highlighter.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "#\n        # Dates\n        #\n        # Calendar month (e.g. 2008-08). The hyphen is required\n        r\"^(?P<year>[0-9]{4})-(?P<month>1[0-2]|0[1-9])$\",\n        # Calendar date w/o hyphens (e.g. 20080830)\n        r\"^(?P<date>(?P<year>[0-9]{4})(?P<month>1[0-2]|0[1-9])(?P<day>3[01]|0[1-9]|[12][0-9]))$\",\n        # Ordinal date (e.g. 2008-243). The hyphen is optional\n        r\"^(?P<date>(?P<year>[0-9]{4})-?(?P<day>36[0-6]|3[0-5][0-9]|[12][0-9]{2}|0[1-9][0-9]|00[1-9]))$\",\n        #\n        # Weeks\n        #\n        # Week of the year (e.g., 2008-W35). The hyphen is optional\n        r\"^(?P<date>(?P<year>[0-9]{4})-?W(?P<week>5[0-3]|[1-4][0-9]|0[1-9]))$\",\n        # Week date (e.g., 2008-W35-6). The hyphens are optional\n        r\"^(?P<date>(?P<year>[0-9]{4})-?W(?P<week>5[0-3]|[1-4][0-9]|0[1-9])-?(?P<day>[1-7]))$\",\n        #\n        # Times\n        #\n        # Hours and minutes (e.g., 17:21). The colon is optional\n        r\"^(?P<time>(?P<hour>2[0-3]|[01][0-9]):?(?P<minute>[0-5][0-9]))$\",\n        # Hours, minutes, and seconds w/o colons (e.g., 172159)\n        r\"^(?P<time>(?P<hour>2[0-3]|[01][0-9])(?P<minute>[0-5][0-9])(?P<second>[0-5][0-9]))$\",\n        # Time zone designator (e.g., Z, +07 or +07:00). The colons and the minutes are optional\n        r\"^(?P<timezone>(Z|[+-](?:2[0-3]|[01][0-9])(?::?(?:[0-5][0-9]))?))$\",\n        # Hours, minutes, and seconds with time zone designator (e.g., 17:21:59+07:00).\n        # All the colons are optional. The minutes in the time zone designator are also optional\n        r\"^(?P<time>(?P<hour>2[0-3]|[01][0-9])(?P<minute>[0-5][0-9])(?P<second>[0-5][0-9]))(?P<timezone>Z|[+-](?:2[0-3]|[01][0-9])(?::?(?:[0-5][0-9]))?)$\",\n        #\n        # Date and Time\n        #\n        # Calendar date with hours, minutes, and seconds (e.g., 2008-08-30 17:21:59 or 20080830 172159).\n        # A space is required between the date and the time. The hyphens and colons are optional.\n        # This regex matches dates and times that specify some hyphens or colons but omit others.\n        # This does not follow ISO 8601\n        r\"^(?P<date>(?P<year>[0-9]{4})(?P<hyphen>-)?(?P<month>1[0-2]|0[1-9])(?(hyphen)-)(?P<day>3[01]|0[1-9]|[12][0-9])) (?P<time>(?P<hour>2[0-3]|[01][0-9])(?(hyphen):)(?P<minute>[0-5][0-9])(?(hyphen):)(?P<second>[0-5][0-9]))$\",\n        #\n        # XML Schema dates and times\n        #\n        # Date, with optional time zone (e.g., 2008-08-30 or 2008-08-30+07:00).\n        # Hyphens are required. This is the XML Schema 'date' type\n        r\"^(?P<date>(?P<year>-?(?:[1-9][0-9]*)?[0-9]{4})-(?P<month>1[0-2]|0[1-9])-(?P<day>3[01]|0[1-9]|[12][0-9]))(?P<timezone>Z|[+-](?:2[0-3]|[01][0-9]):[0-5][0-9])?$\",\n        # Time, with optional fractional seconds and time zone (e.g., 01:45:36 or 01:45:36.123+07:00).\n        # There is no limit on the number of digits for the fractional seconds. This is the XML Schema 'time' type\n        r\"^(?P<time>(?P<hour>2[0-3]|[01][0-9]):(?P<minute>[0-5][0-9]):(?P<second>[0-5][0-9])(?P<frac>\\.[0-9]+)?)(?P<timezone>Z|[+-](?:2[0-3]|[01][0-9]):[0-5][0-9])?$\",\n        # Date and time, with optional fractional seconds and time zone (e.g., 2008-08-30T01:45:36 or 2008-08-30T01:45:36.123Z).\n        # This is the XML Schema 'dateTime' type\n        r\"^(?P<date>(?P<year>-?(?:[1-9][0-9]*)?[0-9]{4})-(?P<month>1[0-2]|0[1-9])-(?P<day>3[01]|0[1-9]|[12][0-9]))T(?P<time>(?P<hour>2[0-3]|[01][0-9]):(?P<minute>[0-5][0-9]):(?P<second>[0-5][0-9])(?P<ms>\\.[0-9]+)?)(?P<timezone>Z|[+-](?:2[0-3]|[01][0-9]):[0-5][0-9])?$\",\n    ]\nif __name__ == \"__main__\":  # pragma: no cover",
    "start_line": 149
  },
  {
    "file": "highlighter.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from .console import Console",
    "start_line": 201
  },
  {
    "file": "highlighter.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console()\n    console.print(\"[bold green]hello world![/bold green]\")\n    console.print(\"'[bold green]hello world![/bold green]'\")\n    console.print(\" /foo\")\n    console.print(\"/foo/\")\n    console.print(\"/foo/bar\")\n    console.print(\"foo/bar/baz\")\n    console.print(\"/foo/bar/baz?foo=bar+egg&egg=baz\")\n    console.print(\"/foo/bar/baz/\")\n    console.print(\"/foo/bar/baz/egg\")\n    console.print(\"/foo/bar/baz/egg.py\")\n    console.print(\"/foo/bar/baz/egg.py word\")\n    console.print(\" /foo/bar/baz/egg.py word\")\n    console.print(\"foo /foo/bar/baz/egg.py word\")\n    console.print(\"foo /foo/bar/ba._++z/egg+.py word\")\n    console.print(\"https://example.org?foo=bar#header\")\n    console.print(1234567.34)\n    console.print(1 / 2)\n    console.print(-1 / 123123123123)\n    console.print(\n        \"127.0.1.1 bar 192.168.1.4 2001:0db8:85a3:0000:0000:8a2e:0370:7334 foo\"\n    )",
    "start_line": 203
  },
  {
    "file": "highlighter.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "import json\n    console.print_json(json.dumps(obj={\"name\": \"apple\", \"count\": 1}), indent=None)",
    "start_line": 229
  },
  {
    "file": "highlighter.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "import re\nfrom abc import ABC, abstractmethod\nfrom typing import List, Union\n\nfrom .text import Span, Text\n\n\ndef _combine_regex(*regexes: str) -> str:\n    \"\"\"Combine a number of regexes in to a single regex.\n\n    Returns:\n        str: New regex with all regexes ORed together.\n    \"\"\"\n    return \"|\".join(regexes)\n\n\nclass Highlighter(ABC):\n    \"\"\"Abstract base class for highlighters.\"\"\"\n\n    def __call__(self, text: Union[str, Text]) -> Text:\n        \"\"\"Highlight a str or Text instance.\n\n        Args:\n            text (Union[str, ~Text]): Text to highlight.\n\n        Raises:\n            TypeError: If not called with text or str.\n\n        Returns:\n            Text: A test instance with highlighting applied.\n        \"\"\"\n        if isinstance(text, str):\n            highlight_text = Text(text)\n        elif isinstance(text, Text):\n            highlight_text = text.copy()\n        else:\n            raise TypeError(f\"str or Text instance required, not {text!r}\")\n        self.highlight(highlight_text)\n        return highlight_text\n\n    @abstractmethod\n    def highlight(self, text: Text) -> None:\n        \"\"\"Apply highlighting in place to text.\n\n        Args:\n            text (~Text): A text object highlight.\n        \"\"\"\n\n\nclass NullHighlighter(Highlighter):\n    \"\"\"A highlighter object that doesn't highlight.\n\n    May be used to disable highlighting entirely.\n\n    \"\"\"\n\n    def highlight(self, text: Text) -> None:\n        \"\"\"Nothing to do\"\"\"\n\n\nclass RegexHighlighter(Highlighter):\n    \"\"\"Applies highlighting from a list of regular expressions.\"\"\"\n\n    highlights: List[str] = []\n    base_style: str = \"\"\n\n    def highlight(self, text: Text) -> None:\n        \"\"\"Highlight :class:`rich.text.Text` using regular expressions.\n\n        Args:\n            text (~Text): Text to highlighted.\n\n        \"\"\"\n\n        highlight_regex = text.highlight_regex\n        for re_highlight in self.highlights:\n            highlight_regex(re_highlight, style_prefix=self.base_style)\n\n\nclass ReprHighlighter(RegexHighlighter):\n    \"\"\"Highlights the text typically produced from ``__repr__`` methods.\"\"\"\n\n    base_style = \"repr.\"\n    highlights = [\n        r\"(?P<tag_start><)(?P<tag_name>[-\\w.:|]*)(?P<tag_contents>[\\w\\W]*)(?P<tag_end>>)\",\n        r'(?P<attrib_name>[\\w_]{1,50})=(?P<attrib_value>\"?[\\w_]+\"?)?',\n        r\"(?P<brace>[][{}()])\",\n        _combine_regex(\n            r\"(?P<ipv4>[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3})\",\n            r\"(?P<ipv6>([A-Fa-f0-9]{1,4}::?){1,7}[A-Fa-f0-9]{1,4})\",\n            r\"(?P<eui64>(?:[0-9A-Fa-f]{1,2}-){7}[0-9A-Fa-f]{1,2}|(?:[0-9A-Fa-f]{1,2}:){7}[0-9A-Fa-f]{1,2}|(?:[0-9A-Fa-f]{4}\\.){3}[0-9A-Fa-f]{4})\",\n            r\"(?P<eui48>(?:[0-9A-Fa-f]{1,2}-){5}[0-9A-Fa-f]{1,2}|(?:[0-9A-Fa-f]{1,2}:){5}[0-9A-Fa-f]{1,2}|(?:[0-9A-Fa-f]{4}\\.){2}[0-9A-Fa-f]{4})\",\n            r\"(?P<uuid>[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12})\",\n            r\"(?P<call>[\\w.]*?)\\(\",\n            r\"\\b(?P<bool_true>True)\\b|\\b(?P<bool_false>False)\\b|\\b(?P<none>None)\\b\",\n            r\"(?P<ellipsis>\\.\\.\\.)\",\n            r\"(?P<number_complex>(?<!\\w)(?:\\-?[0-9]+\\.?[0-9]*(?:e[-+]?\\d+?)?)(?:[-+](?:[0-9]+\\.?[0-9]*(?:e[-+]?\\d+)?))?j)\",\n            r\"(?P<number>(?<!\\w)\\-?[0-9]+\\.?[0-9]*(e[-+]?\\d+?)?\\b|0x[0-9a-fA-F]*)\",\n            r\"(?P<path>\\B(/[-\\w._+]+)*\\/)(?P<filename>[-\\w._+]*)?\",\n            r\"(?<![\\\\\\w])(?P<str>b?'''.*?(?<!\\\\)'''|b?'.*?(?<!\\\\)'|b?\\\"\\\"\\\".*?(?<!\\\\)\\\"\\\"\\\"|b?\\\".*?(?<!\\\\)\\\")\",\n            r\"(?P<url>(file|https|http|ws|wss)://[-0-9a-zA-Z$_+!`(),.?/;:&=%#~@]*)\",\n        ),\n    ]\n\n\nclass JSONHighlighter(RegexHighlighter):\n    \"\"\"Highlights JSON\"\"\"\n\n    # Captures the start and end of JSON strings, handling escaped quotes\n    JSON_STR = r\"(?<![\\\\\\w])(?P<str>b?\\\".*?(?<!\\\\)\\\")\"\n    JSON_WHITESPACE = {\" \", \"\\n\", \"\\r\", \"\\t\"}\n\n    base_style = \"json.\"\n    highlights = [\n        _combine_regex(\n            r\"(?P<brace>[\\{\\[\\(\\)\\]\\}])\",\n            r\"\\b(?P<bool_true>true)\\b|\\b(?P<bool_false>false)\\b|\\b(?P<null>null)\\b\",\n            r\"(?P<number>(?<!\\w)\\-?[0-9]+\\.?[0-9]*(e[\\-\\+]?\\d+?)?\\b|0x[0-9a-fA-F]*)\",\n            JSON_STR,\n        ),\n    ]\n\n    def highlight(self, text: Text) -> None:\n        super().highlight(text)\n\n        # Additional work to handle highlighting JSON keys\n        plain = text.plain\n        append = text.spans.append\n        whitespace = self.JSON_WHITESPACE\n        for match in re.finditer(self.JSON_STR, plain):\n            start, end = match.span()\n            cursor = end\n            while cursor < len(plain):\n                char = plain[cursor]\n                cursor += 1\n                if char == \":\":\n                    append(Span(start, end, \"json.key\"))\n                elif char in whitespace:\n                    continue\n                break\n\n\nclass ISO8601Highlighter(RegexHighlighter):\n    \"\"\"Highlights the ISO8601 date time strings.\n    Regex reference: https://www.oreilly.com/library/view/regular-expressions-cookbook/9781449327453/ch04s07.html\n    \"\"\"\n\n    base_style = \"iso8601.\"\n    highlights = [\n        #\n        # Dates\n        #\n        # Calendar month (e.g. 2008-08). The hyphen is required\n        r\"^(?P<year>[0-9]{4})-(?P<month>1[0-2]|0[1-9])$\",\n        # Calendar date w/o hyphens (e.g. 20080830)\n        r\"^(?P<date>(?P<year>[0-9]{4})(?P<month>1[0-2]|0[1-9])(?P<day>3[01]|0[1-9]|[12][0-9]))$\",\n        # Ordinal date (e.g. 2008-243). The hyphen is optional\n        r\"^(?P<date>(?P<year>[0-9]{4})-?(?P<day>36[0-6]|3[0-5][0-9]|[12][0-9]{2}|0[1-9][0-9]|00[1-9]))$\",\n        #\n        # Weeks\n        #\n        # Week of the year (e.g., 2008-W35). The hyphen is optional\n        r\"^(?P<date>(?P<year>[0-9]{4})-?W(?P<week>5[0-3]|[1-4][0-9]|0[1-9]))$\",\n        # Week date (e.g., 2008-W35-6). The hyphens are optional\n        r\"^(?P<date>(?P<year>[0-9]{4})-?W(?P<week>5[0-3]|[1-4][0-9]|0[1-9])-?(?P<day>[1-7]))$\",\n        #\n        # Times\n        #\n        # Hours and minutes (e.g., 17:21). The colon is optional\n        r\"^(?P<time>(?P<hour>2[0-3]|[01][0-9]):?(?P<minute>[0-5][0-9]))$\",\n        # Hours, minutes, and seconds w/o colons (e.g., 172159)\n        r\"^(?P<time>(?P<hour>2[0-3]|[01][0-9])(?P<minute>[0-5][0-9])(?P<second>[0-5][0-9]))$\",\n        # Time zone designator (e.g., Z, +07 or +07:00). The colons and the minutes are optional\n        r\"^(?P<timezone>(Z|[+-](?:2[0-3]|[01][0-9])(?::?(?:[0-5][0-9]))?))$\",\n        # Hours, minutes, and seconds with time zone designator (e.g., 17:21:59+07:00).\n        # All the colons are optional. The minutes in the time zone designator are also optional\n        r\"^(?P<time>(?P<hour>2[0-3]|[01][0-9])(?P<minute>[0-5][0-9])(?P<second>[0-5][0-9]))(?P<timezone>Z|[+-](?:2[0-3]|[01][0-9])(?::?(?:[0-5][0-9]))?)$\",\n        #\n        # Date and Time\n        #\n        # Calendar date with hours, minutes, and seconds (e.g., 2008-08-30 17:21:59 or 20080830 172159).\n        # A space is required between the date and the time. The hyphens and colons are optional.\n        # This regex matches dates and times that specify some hyphens or colons but omit others.\n        # This does not follow ISO 8601\n        r\"^(?P<date>(?P<year>[0-9]{4})(?P<hyphen>-)?(?P<month>1[0-2]|0[1-9])(?(hyphen)-)(?P<day>3[01]|0[1-9]|[12][0-9])) (?P<time>(?P<hour>2[0-3]|[01][0-9])(?(hyphen):)(?P<minute>[0-5][0-9])(?(hyphen):)(?P<second>[0-5][0-9]))$\",\n        #\n        # XML Schema dates and times\n        #\n        # Date, with optional time zone (e.g., 2008-08-30 or 2008-08-30+07:00).\n        # Hyphens are required. This is the XML Schema 'date' type\n        r\"^(?P<date>(?P<year>-?(?:[1-9][0-9]*)?[0-9]{4})-(?P<month>1[0-2]|0[1-9])-(?P<day>3[01]|0[1-9]|[12][0-9]))(?P<timezone>Z|[+-](?:2[0-3]|[01][0-9]):[0-5][0-9])?$\",\n        # Time, with optional fractional seconds and time zone (e.g., 01:45:36 or 01:45:36.123+07:00).\n        # There is no limit on the number of digits for the fractional seconds. This is the XML Schema 'time' type\n        r\"^(?P<time>(?P<hour>2[0-3]|[01][0-9]):(?P<minute>[0-5][0-9]):(?P<second>[0-5][0-9])(?P<frac>\\.[0-9]+)?)(?P<timezone>Z|[+-](?:2[0-3]|[01][0-9]):[0-5][0-9])?$\",\n        # Date and time, with optional fractional seconds and time zone (e.g., 2008-08-30T01:45:36 or 2008-08-30T01:45:36.123Z).\n        # This is the XML Schema 'dateTime' type\n        r\"^(?P<date>(?P<year>-?(?:[1-9][0-9]*)?[0-9]{4})-(?P<month>1[0-2]|0[1-9])-(?P<day>3[01]|0[1-9]|[12][0-9]))T(?P<time>(?P<hour>2[0-3]|[01][0-9]):(?P<minute>[0-5][0-9]):(?P<second>[0-5][0-9])(?P<ms>\\.[0-9]+)?)(?P<timezone>Z|[+-](?:2[0-3]|[01][0-9]):[0-5][0-9])?$\",\n    ]\n\n\nif __name__ == \"__main__\":  # pragma: no cover\n    from .console import Console\n\n    console = Console()\n    console.print(\"[bold green]hello world![/bold green]\")\n    console.print(\"'[bold green]hello world![/bold green]'\")\n\n    console.print(\" /foo\")\n    console.print(\"/foo/\")\n    console.print(\"/foo/bar\")\n    console.print(\"foo/bar/baz\")\n\n    console.print(\"/foo/bar/baz?foo=bar+egg&egg=baz\")\n    console.print(\"/foo/bar/baz/\")\n    console.print(\"/foo/bar/baz/egg\")\n    console.print(\"/foo/bar/baz/egg.py\")\n    console.print(\"/foo/bar/baz/egg.py word\")\n    console.print(\" /foo/bar/baz/egg.py word\")\n    console.print(\"foo /foo/bar/baz/egg.py word\")\n    console.print(\"foo /foo/bar/ba._++z/egg+.py word\")\n    console.print(\"https://example.org?foo=bar#header\")\n\n    console.print(1234567.34)\n    console.print(1 / 2)\n    console.print(-1 / 123123123123)\n\n    console.print(\n        \"127.0.1.1 bar 192.168.1.4 2001:0db8:85a3:0000:0000:8a2e:0370:7334 foo\"\n    )\n    import json\n\n    console.print_json(json.dumps(obj={\"name\": \"apple\", \"count\": 1}), indent=None)\n",
    "start_line": 0
  },
  {
    "file": "_spinners.py",
    "type": "module_docstring",
    "class": null,
    "method": null,
    "name": "module_docstring",
    "content": "\"\"\"\nSpinners are from:\n* cli-spinners:\n    MIT License\n    Copyright (c) Sindre Sorhus <sindresorhus@gmail.com> (sindresorhus.com)\n    Permission is hereby granted, free of charge, to any person obtaining a copy\n    of this software and associated documentation files (the \"Software\"), to deal\n    in the Software without restriction, including without limitation the rights to\n    use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of\n    the Software, and to permit persons to whom the Software is furnished to do so,\n    subject to the following conditions:\n    The above copyright notice and this permission notice shall be included\n    in all copies or substantial portions of the Software.\n    THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n    INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR\n    PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE\n    FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE,\n    ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS\n    IN THE SOFTWARE.\n\"\"\"",
    "start_line": 0
  },
  {
    "file": "_spinners.py",
    "type": "constants",
    "class": null,
    "method": null,
    "name": "module_constants",
    "content": "SPINNERS = {\n    \"dots\": {\n        \"interval\": 80,\n        \"frames\": \"\",\n    },\n    \"dots2\": {\"interval\": 80, \"frames\": \"\"},\n    \"dots3\": {\n        \"interval\": 80,\n        \"frames\": \"\",\n    },\n    \"dots4\": {\n        \"interval\": 80,\n        \"frames\": \"\",\n    },\n    \"dots5\": {\n        \"interval\": 80,\n        \"frames\": \"\",\n    },\n    \"dots6\": {\n        \"interval\": 80,\n        \"frames\": \"\",\n    },\n    \"dots7\": {\n        \"interval\": 80,\n        \"frames\": \"\",\n    },\n    \"dots8\": {\n        \"interval\": 80,\n        \"frames\": \"\",\n    },\n    \"dots9\": {\"interval\": 80, \"frames\": \"\"},\n    \"dots10\": {\"interval\": 80, \"frames\": \"\"},\n    \"dots11\": {\"interval\": 100, \"frames\": \"\"},\n    \"dots12\": {\n        \"interval\": 80,\n        \"frames\": [\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n        ],\n    },\n    \"dots8Bit\": {\n        \"interval\": 80,\n        \"frames\": \"\"\n        \"\"\n        \"\"\n        \"\"\n        \"\",\n    },\n    \"line\": {\"interval\": 130, \"frames\": [\"-\", \"\\\\\", \"|\", \"/\"]},\n    \"line2\": {\"interval\": 100, \"frames\": \"--\"},\n    \"pipe\": {\"interval\": 100, \"frames\": \"\"},\n    \"simpleDots\": {\"interval\": 400, \"frames\": [\".  \", \".. \", \"...\", \"   \"]},\n    \"simpleDotsScrolling\": {\n        \"interval\": 200,\n        \"frames\": [\".  \", \".. \", \"...\", \" ..\", \"  .\", \"   \"],\n    },\n    \"star\": {\"interval\": 70, \"frames\": \"\"},\n    \"star2\": {\"interval\": 80, \"frames\": \"+x*\"},\n    \"flip\": {\n        \"interval\": 70,\n        \"frames\": \"___-``'-___\",\n    },\n    \"hamburger\": {\"interval\": 100, \"frames\": \"\"},\n    \"growVertical\": {\n        \"interval\": 120,\n        \"frames\": \"\",\n    },\n    \"growHorizontal\": {\n        \"interval\": 120,\n        \"frames\": \"\",\n    },\n    \"balloon\": {\"interval\": 140, \"frames\": \" .oO@* \"},\n    \"balloon2\": {\"interval\": 120, \"frames\": \".oOOo.\"},\n    \"noise\": {\"interval\": 100, \"frames\": \"\"},\n    \"bounce\": {\"interval\": 120, \"frames\": \"\"},\n    \"boxBounce\": {\"interval\": 120, \"frames\": \"\"},\n    \"boxBounce2\": {\"interval\": 100, \"frames\": \"\"},\n    \"triangle\": {\"interval\": 50, \"frames\": \"\"},\n    \"arc\": {\"interval\": 100, \"frames\": \"\"},\n    \"circle\": {\"interval\": 120, \"frames\": \"\"},\n    \"squareCorners\": {\"interval\": 180, \"frames\": \"\"},\n    \"circleQuarters\": {\"interval\": 120, \"frames\": \"\"},\n    \"circleHalves\": {\"interval\": 50, \"frames\": \"\"},\n    \"squish\": {\"interval\": 100, \"frames\": \"\"},\n    \"toggle\": {\"interval\": 250, \"frames\": \"\"},\n    \"toggle2\": {\"interval\": 80, \"frames\": \"\"},\n    \"toggle3\": {\"interval\": 120, \"frames\": \"\"},\n    \"toggle4\": {\"interval\": 100, \"frames\": \"\"},\n    \"toggle5\": {\"interval\": 100, \"frames\": \"\"},\n    \"toggle6\": {\"interval\": 300, \"frames\": \"\"},\n    \"toggle7\": {\"interval\": 80, \"frames\": \"\"},\n    \"toggle8\": {\"interval\": 100, \"frames\": \"\"},\n    \"toggle9\": {\"interval\": 100, \"frames\": \"\"},\n    \"toggle10\": {\"interval\": 100, \"frames\": \"\"},\n    \"toggle11\": {\"interval\": 50, \"frames\": \"\"},\n    \"toggle12\": {\"interval\": 120, \"frames\": \"\"},\n    \"toggle13\": {\"interval\": 80, \"frames\": \"=*-\"},\n    \"arrow\": {\"interval\": 100, \"frames\": \"\"},\n    \"arrow2\": {\n        \"interval\": 80,\n        \"frames\": [\" \", \" \", \" \", \" \", \" \", \" \", \" \", \" \"],\n    },\n    \"arrow3\": {\n        \"interval\": 120,\n        \"frames\": [\"\", \"\", \"\", \"\", \"\", \"\"],\n    },\n    \"bouncingBar\": {\n        \"interval\": 80,\n        \"frames\": [\n            \"[    ]\",\n            \"[=   ]\",\n            \"[==  ]\",\n            \"[=== ]\",\n            \"[ ===]\",\n            \"[  ==]\",\n            \"[   =]\",\n            \"[    ]\",\n            \"[   =]\",\n            \"[  ==]\",\n            \"[ ===]\",\n            \"[====]\",\n            \"[=== ]\",\n            \"[==  ]\",\n            \"[=   ]\",\n        ],\n    },\n    \"bouncingBall\": {\n        \"interval\": 80,\n        \"frames\": [\n            \"(     )\",\n            \"(     )\",\n            \"(     )\",\n            \"(     )\",\n            \"(     )\",\n            \"(     )\",\n            \"(     )\",\n            \"(     )\",\n            \"(     )\",\n            \"(     )\",\n        ],\n    },\n    \"smiley\": {\"interval\": 200, \"frames\": [\" \", \" \"]},\n    \"monkey\": {\"interval\": 300, \"frames\": [\" \", \" \", \" \", \" \"]},\n    \"hearts\": {\"interval\": 100, \"frames\": [\" \", \" \", \" \", \" \", \" \"]},\n    \"clock\": {\n        \"interval\": 100,\n        \"frames\": [\n            \" \",\n            \" \",\n            \" \",\n            \" \",\n            \" \",\n            \" \",\n            \" \",\n            \" \",\n            \" \",\n            \" \",\n            \" \",\n            \" \",\n        ],\n    },\n    \"earth\": {\"interval\": 180, \"frames\": [\" \", \" \", \" \"]},\n    \"material\": {\n        \"interval\": 17,\n        \"frames\": [\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n        ],\n    },\n    \"moon\": {\n        \"interval\": 80,\n        \"frames\": [\" \", \" \", \" \", \" \", \" \", \" \", \" \", \" \"],\n    },\n    \"runner\": {\"interval\": 140, \"frames\": [\" \", \" \"]},\n    \"pong\": {\n        \"interval\": 80,\n        \"frames\": [\n            \"       \",\n            \"       \",\n            \"       \",\n            \"       \",\n            \"       \",\n            \"       \",\n            \"       \",\n            \"       \",\n            \"       \",\n            \"       \",\n            \"       \",\n            \"       \",\n            \"       \",\n            \"       \",\n            \"       \",\n            \"       \",\n            \"       \",\n            \"       \",\n            \"       \",\n            \"       \",\n            \"       \",\n            \"       \",\n            \"       \",\n            \"       \",\n            \"       \",\n            \"       \",\n            \"       \",\n            \"       \",\n            \"       \",\n            \"       \",\n        ],\n    },\n    \"shark\": {\n        \"interval\": 120,\n        \"frames\": [\n            \"|\\\\____________\",\n            \"_|\\\\___________\",\n            \"__|\\\\__________\",\n            \"___|\\\\_________\",\n            \"____|\\\\________\",\n            \"_____|\\\\_______\",\n            \"______|\\\\______\",\n            \"_______|\\\\_____\",\n            \"________|\\\\____\",\n            \"_________|\\\\___\",\n            \"__________|\\\\__\",\n            \"___________|\\\\_\",\n            \"____________|\\\\\",\n            \"____________/|\",\n            \"___________/|_\",\n            \"__________/|__\",\n            \"_________/|___\",\n            \"________/|____\",\n            \"_______/|_____\",\n            \"______/|______\",\n            \"_____/|_______\",\n            \"____/|________\",\n            \"___/|_________\",\n            \"__/|__________\",\n            \"_/|___________\",\n            \"/|____________\",\n        ],\n    },\n    \"dqpb\": {\"interval\": 100, \"frames\": \"dqpb\"},\n    \"weather\": {\n        \"interval\": 100,\n        \"frames\": [\n            \" \",\n            \" \",\n            \" \",\n            \" \",\n            \" \",\n            \" \",\n            \" \",\n            \" \",\n            \" \",\n            \" \",\n            \" \",\n            \" \",\n            \" \",\n            \" \",\n            \" \",\n            \" \",\n            \" \",\n            \" \",\n            \" \",\n            \" \",\n            \" \",\n            \" \",\n            \" \",\n        ],\n    },\n    \"christmas\": {\"interval\": 400, \"frames\": \"\"},\n    \"grenade\": {\n        \"interval\": 80,\n        \"frames\": [\n            \"   \",\n            \"   \",\n            \"  \",\n            \"  \",\n            \"  \",\n            \"  \",\n            \"  |\",\n            \"  \",\n            \"  \",\n            \"  \",\n            \"  \",\n            \"   \",\n            \"   \",\n            \"   \",\n        ],\n    },\n    \"point\": {\"interval\": 125, \"frames\": [\"\", \"\", \"\", \"\", \"\"]},\n    \"layer\": {\"interval\": 150, \"frames\": \"-=\"},\n    \"betaWave\": {\n        \"interval\": 80,\n        \"frames\": [\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n        ],\n    },\n    \"aesthetic\": {\n        \"interval\": 80,\n        \"frames\": [\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n        ],\n    },\n}",
    "start_line": 21
  },
  {
    "file": "_spinners.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "\"\"\"\nSpinners are from:\n* cli-spinners:\n    MIT License\n    Copyright (c) Sindre Sorhus <sindresorhus@gmail.com> (sindresorhus.com)\n    Permission is hereby granted, free of charge, to any person obtaining a copy\n    of this software and associated documentation files (the \"Software\"), to deal\n    in the Software without restriction, including without limitation the rights to\n    use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of\n    the Software, and to permit persons to whom the Software is furnished to do so,\n    subject to the following conditions:\n    The above copyright notice and this permission notice shall be included\n    in all copies or substantial portions of the Software.\n    THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n    INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR\n    PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE\n    FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE,\n    ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS\n    IN THE SOFTWARE.\n\"\"\"\n\nSPINNERS = {\n    \"dots\": {\n        \"interval\": 80,\n        \"frames\": \"\",\n    },\n    \"dots2\": {\"interval\": 80, \"frames\": \"\"},\n    \"dots3\": {\n        \"interval\": 80,\n        \"frames\": \"\",\n    },\n    \"dots4\": {\n        \"interval\": 80,\n        \"frames\": \"\",\n    },\n    \"dots5\": {\n        \"interval\": 80,\n        \"frames\": \"\",\n    },\n    \"dots6\": {\n        \"interval\": 80,\n        \"frames\": \"\",\n    },\n    \"dots7\": {\n        \"interval\": 80,\n        \"frames\": \"\",\n    },\n    \"dots8\": {\n        \"interval\": 80,\n        \"frames\": \"\",\n    },\n    \"dots9\": {\"interval\": 80, \"frames\": \"\"},\n    \"dots10\": {\"interval\": 80, \"frames\": \"\"},\n    \"dots11\": {\"interval\": 100, \"frames\": \"\"},\n    \"dots12\": {\n        \"interval\": 80,\n        \"frames\": [\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n        ],\n    },\n    \"dots8Bit\": {\n        \"interval\": 80,\n        \"frames\": \"\"\n        \"\"\n        \"\"\n        \"\"\n        \"\",\n    },\n    \"line\": {\"interval\": 130, \"frames\": [\"-\", \"\\\\\", \"|\", \"/\"]},\n    \"line2\": {\"interval\": 100, \"frames\": \"--\"},\n    \"pipe\": {\"interval\": 100, \"frames\": \"\"},\n    \"simpleDots\": {\"interval\": 400, \"frames\": [\".  \", \".. \", \"...\", \"   \"]},\n    \"simpleDotsScrolling\": {\n        \"interval\": 200,\n        \"frames\": [\".  \", \".. \", \"...\", \" ..\", \"  .\", \"   \"],\n    },\n    \"star\": {\"interval\": 70, \"frames\": \"\"},\n    \"star2\": {\"interval\": 80, \"frames\": \"+x*\"},\n    \"flip\": {\n        \"interval\": 70,\n        \"frames\": \"___-``'-___\",\n    },\n    \"hamburger\": {\"interval\": 100, \"frames\": \"\"},\n    \"growVertical\": {\n        \"interval\": 120,\n        \"frames\": \"\",\n    },\n    \"growHorizontal\": {\n        \"interval\": 120,\n        \"frames\": \"\",\n    },\n    \"balloon\": {\"interval\": 140, \"frames\": \" .oO@* \"},\n    \"balloon2\": {\"interval\": 120, \"frames\": \".oOOo.\"},\n    \"noise\": {\"interval\": 100, \"frames\": \"\"},\n    \"bounce\": {\"interval\": 120, \"frames\": \"\"},\n    \"boxBounce\": {\"interval\": 120, \"frames\": \"\"},\n    \"boxBounce2\": {\"interval\": 100, \"frames\": \"\"},\n    \"triangle\": {\"interval\": 50, \"frames\": \"\"},\n    \"arc\": {\"interval\": 100, \"frames\": \"\"},\n    \"circle\": {\"interval\": 120, \"frames\": \"\"},\n    \"squareCorners\": {\"interval\": 180, \"frames\": \"\"},\n    \"circleQuarters\": {\"interval\": 120, \"frames\": \"\"},\n    \"circleHalves\": {\"interval\": 50, \"frames\": \"\"},\n    \"squish\": {\"interval\": 100, \"frames\": \"\"},\n    \"toggle\": {\"interval\": 250, \"frames\": \"\"},\n    \"toggle2\": {\"interval\": 80, \"frames\": \"\"},\n    \"toggle3\": {\"interval\": 120, \"frames\": \"\"},\n    \"toggle4\": {\"interval\": 100, \"frames\": \"\"},\n    \"toggle5\": {\"interval\": 100, \"frames\": \"\"},\n    \"toggle6\": {\"interval\": 300, \"frames\": \"\"},\n    \"toggle7\": {\"interval\": 80, \"frames\": \"\"},\n    \"toggle8\": {\"interval\": 100, \"frames\": \"\"},\n    \"toggle9\": {\"interval\": 100, \"frames\": \"\"},\n    \"toggle10\": {\"interval\": 100, \"frames\": \"\"},\n    \"toggle11\": {\"interval\": 50, \"frames\": \"\"},\n    \"toggle12\": {\"interval\": 120, \"frames\": \"\"},\n    \"toggle13\": {\"interval\": 80, \"frames\": \"=*-\"},\n    \"arrow\": {\"interval\": 100, \"frames\": \"\"},\n    \"arrow2\": {\n        \"interval\": 80,\n        \"frames\": [\" \", \" \", \" \", \" \", \" \", \" \", \" \", \" \"],\n    },\n    \"arrow3\": {\n        \"interval\": 120,\n        \"frames\": [\"\", \"\", \"\", \"\", \"\", \"\"],\n    },\n    \"bouncingBar\": {\n        \"interval\": 80,\n        \"frames\": [\n            \"[    ]\",\n            \"[=   ]\",\n            \"[==  ]\",\n            \"[=== ]\",\n            \"[ ===]\",\n            \"[  ==]\",\n            \"[   =]\",\n            \"[    ]\",\n            \"[   =]\",\n            \"[  ==]\",\n            \"[ ===]\",\n            \"[====]\",\n            \"[=== ]\",\n            \"[==  ]\",\n            \"[=   ]\",\n        ],\n    },\n    \"bouncingBall\": {\n        \"interval\": 80,\n        \"frames\": [\n            \"(     )\",\n            \"(     )\",\n            \"(     )\",\n            \"(     )\",\n            \"(     )\",\n            \"(     )\",\n            \"(     )\",\n            \"(     )\",\n            \"(     )\",\n            \"(     )\",\n        ],\n    },\n    \"smiley\": {\"interval\": 200, \"frames\": [\" \", \" \"]},\n    \"monkey\": {\"interval\": 300, \"frames\": [\" \", \" \", \" \", \" \"]},\n    \"hearts\": {\"interval\": 100, \"frames\": [\" \", \" \", \" \", \" \", \" \"]},\n    \"clock\": {\n        \"interval\": 100,\n        \"frames\": [\n            \" \",\n            \" \",\n            \" \",\n            \" \",\n            \" \",\n            \" \",\n            \" \",\n            \" \",\n            \" \",\n            \" \",\n            \" \",\n            \" \",\n        ],\n    },\n    \"earth\": {\"interval\": 180, \"frames\": [\" \", \" \", \" \"]},\n    \"material\": {\n        \"interval\": 17,\n        \"frames\": [\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n        ],\n    },\n    \"moon\": {\n        \"interval\": 80,\n        \"frames\": [\" \", \" \", \" \", \" \", \" \", \" \", \" \", \" \"],\n    },\n    \"runner\": {\"interval\": 140, \"frames\": [\" \", \" \"]},\n    \"pong\": {\n        \"interval\": 80,\n        \"frames\": [\n            \"       \",\n            \"       \",\n            \"       \",\n            \"       \",\n            \"       \",\n            \"       \",\n            \"       \",\n            \"       \",\n            \"       \",\n            \"       \",\n            \"       \",\n            \"       \",\n            \"       \",\n            \"       \",\n            \"       \",\n            \"       \",\n            \"       \",\n            \"       \",\n            \"       \",\n            \"       \",\n            \"       \",\n            \"       \",\n            \"       \",\n            \"       \",\n            \"       \",\n            \"       \",\n            \"       \",\n            \"       \",\n            \"       \",\n            \"       \",\n        ],\n    },\n    \"shark\": {\n        \"interval\": 120,\n        \"frames\": [\n            \"|\\\\____________\",\n            \"_|\\\\___________\",\n            \"__|\\\\__________\",\n            \"___|\\\\_________\",\n            \"____|\\\\________\",\n            \"_____|\\\\_______\",\n            \"______|\\\\______\",\n            \"_______|\\\\_____\",\n            \"________|\\\\____\",\n            \"_________|\\\\___\",\n            \"__________|\\\\__\",\n            \"___________|\\\\_\",\n            \"____________|\\\\\",\n            \"____________/|\",\n            \"___________/|_\",\n            \"__________/|__\",\n            \"_________/|___\",\n            \"________/|____\",\n            \"_______/|_____\",\n            \"______/|______\",\n            \"_____/|_______\",\n            \"____/|________\",\n            \"___/|_________\",\n            \"__/|__________\",\n            \"_/|___________\",\n            \"/|____________\",\n        ],\n    },\n    \"dqpb\": {\"interval\": 100, \"frames\": \"dqpb\"},\n    \"weather\": {\n        \"interval\": 100,\n        \"frames\": [\n            \" \",\n            \" \",\n            \" \",\n            \" \",\n            \" \",\n            \" \",\n            \" \",\n            \" \",\n            \" \",\n            \" \",\n            \" \",\n            \" \",\n            \" \",\n            \" \",\n            \" \",\n            \" \",\n            \" \",\n            \" \",\n            \" \",\n            \" \",\n            \" \",\n            \" \",\n            \" \",\n        ],\n    },\n    \"christmas\": {\"interval\": 400, \"frames\": \"\"},\n    \"grenade\": {\n        \"interval\": 80,\n        \"frames\": [\n            \"   \",\n            \"   \",\n            \"  \",\n            \"  \",\n            \"  \",\n            \"  \",\n            \"  |\",\n            \"  \",\n            \"  \",\n            \"  \",\n            \"  \",\n            \"   \",\n            \"   \",\n            \"   \",\n        ],\n    },\n    \"point\": {\"interval\": 125, \"frames\": [\"\", \"\", \"\", \"\", \"\"]},\n    \"layer\": {\"interval\": 150, \"frames\": \"-=\"},\n    \"betaWave\": {\n        \"interval\": 80,\n        \"frames\": [\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n        ],\n    },\n    \"aesthetic\": {\n        \"interval\": 80,\n        \"frames\": [\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n        ],\n    },\n}\n",
    "start_line": 0
  },
  {
    "file": "terminal_theme.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from typing import List, Optional, Tuple\nfrom .color_triplet import ColorTriplet\nfrom .palette import Palette",
    "start_line": 0
  },
  {
    "file": "terminal_theme.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "_ColorTuple = Tuple[int, int, int]",
    "start_line": 5
  },
  {
    "file": "terminal_theme.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "TerminalTheme",
    "content": "class TerminalTheme:\n    \"\"\"A color theme used when exporting console content.\n\n    Args:\n        background (Tuple[int, int, int]): The background color.\n        foreground (Tuple[int, int, int]): The foreground (text) color.\n        normal (List[Tuple[int, int, int]]): A list of 8 normal intensity colors.\n        bright (List[Tuple[int, int, int]], optional): A list of 8 bright colors, or None\n            to repeat normal intensity. Defaults to None.\n    \"\"\"",
    "start_line": 8
  },
  {
    "file": "terminal_theme.py",
    "type": "method",
    "class": "TerminalTheme",
    "method": "__init__",
    "name": "__init__",
    "content": "class TerminalTheme:\n    def __init__(\n        self,\n        background: _ColorTuple,\n        foreground: _ColorTuple,\n        normal: List[_ColorTuple],\n        bright: Optional[List[_ColorTuple]] = None,\n    ) -> None:\n        self.background_color = ColorTriplet(*background)\n        self.foreground_color = ColorTriplet(*foreground)\n        self.ansi_colors = Palette(normal + (bright or normal))",
    "start_line": 19
  },
  {
    "file": "terminal_theme.py",
    "type": "constants",
    "class": null,
    "method": null,
    "name": "module_constants",
    "content": "DEFAULT_TERMINAL_THEME = TerminalTheme(\n    (255, 255, 255),\n    (0, 0, 0),\n    [\n        (0, 0, 0),\n        (128, 0, 0),\n        (0, 128, 0),\n        (128, 128, 0),\n        (0, 0, 128),\n        (128, 0, 128),\n        (0, 128, 128),\n        (192, 192, 192),\n    ],\n    [\n        (128, 128, 128),\n        (255, 0, 0),\n        (0, 255, 0),\n        (255, 255, 0),\n        (0, 0, 255),\n        (255, 0, 255),\n        (0, 255, 255),\n        (255, 255, 255),\n    ],\n)\nMONOKAI = TerminalTheme(\n    (12, 12, 12),\n    (217, 217, 217),\n    [\n        (26, 26, 26),\n        (244, 0, 95),\n        (152, 224, 36),\n        (253, 151, 31),\n        (157, 101, 255),\n        (244, 0, 95),\n        (88, 209, 235),\n        (196, 197, 181),\n        (98, 94, 76),\n    ],\n    [\n        (244, 0, 95),\n        (152, 224, 36),\n        (224, 213, 97),\n        (157, 101, 255),\n        (244, 0, 95),\n        (88, 209, 235),\n        (246, 246, 239),\n    ],\n)\nDIMMED_MONOKAI = TerminalTheme(\n    (25, 25, 25),\n    (185, 188, 186),\n    [\n        (58, 61, 67),\n        (190, 63, 72),\n        (135, 154, 59),\n        (197, 166, 53),\n        (79, 118, 161),\n        (133, 92, 141),\n        (87, 143, 164),\n        (185, 188, 186),\n        (136, 137, 135),\n    ],\n    [\n        (251, 0, 31),\n        (15, 114, 47),\n        (196, 112, 51),\n        (24, 109, 227),\n        (251, 0, 103),\n        (46, 112, 109),\n        (253, 255, 185),\n    ],\n)\nNIGHT_OWLISH = TerminalTheme(\n    (255, 255, 255),\n    (64, 63, 83),\n    [\n        (1, 22, 39),\n        (211, 66, 62),\n        (42, 162, 152),\n        (218, 170, 1),\n        (72, 118, 214),\n        (64, 63, 83),\n        (8, 145, 106),\n        (122, 129, 129),\n        (122, 129, 129),\n    ],\n    [\n        (247, 110, 110),\n        (73, 208, 197),\n        (218, 194, 107),\n        (92, 167, 228),\n        (105, 112, 152),\n        (0, 201, 144),\n        (152, 159, 177),\n    ],\n)\nSVG_EXPORT_THEME = TerminalTheme(\n    (41, 41, 41),\n    (197, 200, 198),\n    [\n        (75, 78, 85),\n        (204, 85, 90),\n        (152, 168, 75),\n        (208, 179, 68),\n        (96, 138, 177),\n        (152, 114, 159),\n        (104, 160, 179),\n        (197, 200, 198),\n        (154, 155, 153),\n    ],\n    [\n        (255, 38, 39),\n        (0, 130, 61),\n        (208, 132, 66),\n        (25, 132, 233),\n        (255, 44, 122),\n        (57, 130, 128),\n        (253, 253, 197),\n    ],\n)",
    "start_line": 31
  },
  {
    "file": "terminal_theme.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "from typing import List, Optional, Tuple\n\nfrom .color_triplet import ColorTriplet\nfrom .palette import Palette\n\n_ColorTuple = Tuple[int, int, int]\n\n\nclass TerminalTheme:\n    \"\"\"A color theme used when exporting console content.\n\n    Args:\n        background (Tuple[int, int, int]): The background color.\n        foreground (Tuple[int, int, int]): The foreground (text) color.\n        normal (List[Tuple[int, int, int]]): A list of 8 normal intensity colors.\n        bright (List[Tuple[int, int, int]], optional): A list of 8 bright colors, or None\n            to repeat normal intensity. Defaults to None.\n    \"\"\"\n\n    def __init__(\n        self,\n        background: _ColorTuple,\n        foreground: _ColorTuple,\n        normal: List[_ColorTuple],\n        bright: Optional[List[_ColorTuple]] = None,\n    ) -> None:\n        self.background_color = ColorTriplet(*background)\n        self.foreground_color = ColorTriplet(*foreground)\n        self.ansi_colors = Palette(normal + (bright or normal))\n\n\nDEFAULT_TERMINAL_THEME = TerminalTheme(\n    (255, 255, 255),\n    (0, 0, 0),\n    [\n        (0, 0, 0),\n        (128, 0, 0),\n        (0, 128, 0),\n        (128, 128, 0),\n        (0, 0, 128),\n        (128, 0, 128),\n        (0, 128, 128),\n        (192, 192, 192),\n    ],\n    [\n        (128, 128, 128),\n        (255, 0, 0),\n        (0, 255, 0),\n        (255, 255, 0),\n        (0, 0, 255),\n        (255, 0, 255),\n        (0, 255, 255),\n        (255, 255, 255),\n    ],\n)\n\nMONOKAI = TerminalTheme(\n    (12, 12, 12),\n    (217, 217, 217),\n    [\n        (26, 26, 26),\n        (244, 0, 95),\n        (152, 224, 36),\n        (253, 151, 31),\n        (157, 101, 255),\n        (244, 0, 95),\n        (88, 209, 235),\n        (196, 197, 181),\n        (98, 94, 76),\n    ],\n    [\n        (244, 0, 95),\n        (152, 224, 36),\n        (224, 213, 97),\n        (157, 101, 255),\n        (244, 0, 95),\n        (88, 209, 235),\n        (246, 246, 239),\n    ],\n)\nDIMMED_MONOKAI = TerminalTheme(\n    (25, 25, 25),\n    (185, 188, 186),\n    [\n        (58, 61, 67),\n        (190, 63, 72),\n        (135, 154, 59),\n        (197, 166, 53),\n        (79, 118, 161),\n        (133, 92, 141),\n        (87, 143, 164),\n        (185, 188, 186),\n        (136, 137, 135),\n    ],\n    [\n        (251, 0, 31),\n        (15, 114, 47),\n        (196, 112, 51),\n        (24, 109, 227),\n        (251, 0, 103),\n        (46, 112, 109),\n        (253, 255, 185),\n    ],\n)\nNIGHT_OWLISH = TerminalTheme(\n    (255, 255, 255),\n    (64, 63, 83),\n    [\n        (1, 22, 39),\n        (211, 66, 62),\n        (42, 162, 152),\n        (218, 170, 1),\n        (72, 118, 214),\n        (64, 63, 83),\n        (8, 145, 106),\n        (122, 129, 129),\n        (122, 129, 129),\n    ],\n    [\n        (247, 110, 110),\n        (73, 208, 197),\n        (218, 194, 107),\n        (92, 167, 228),\n        (105, 112, 152),\n        (0, 201, 144),\n        (152, 159, 177),\n    ],\n)\n\nSVG_EXPORT_THEME = TerminalTheme(\n    (41, 41, 41),\n    (197, 200, 198),\n    [\n        (75, 78, 85),\n        (204, 85, 90),\n        (152, 168, 75),\n        (208, 179, 68),\n        (96, 138, 177),\n        (152, 114, 159),\n        (104, 160, 179),\n        (197, 200, 198),\n        (154, 155, 153),\n    ],\n    [\n        (255, 38, 39),\n        (0, 130, 61),\n        (208, 132, 66),\n        (25, 132, 233),\n        (255, 44, 122),\n        (57, 130, 128),\n        (253, 253, 197),\n    ],\n)\n",
    "start_line": 0
  },
  {
    "file": "bar.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from typing import Optional, Union\nfrom .color import Color\nfrom .console import Console, ConsoleOptions, RenderResult\nfrom .jupyter import JupyterMixin\nfrom .measure import Measurement\nfrom .segment import Segment\nfrom .style import Style",
    "start_line": 0
  },
  {
    "file": "bar.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# There are left-aligned characters for 1/8 to 7/8, but\n# the right-aligned characters exist only for 1/8 and 4/8.",
    "start_line": 9
  },
  {
    "file": "bar.py",
    "type": "constants",
    "class": null,
    "method": null,
    "name": "module_constants",
    "content": "BEGIN_BLOCK_ELEMENTS = [\"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"]\nEND_BLOCK_ELEMENTS = [\" \", \"\", \"\", \"\", \"\", \"\", \"\", \"\"]\nFULL_BLOCK = \"\"",
    "start_line": 11
  },
  {
    "file": "bar.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "Bar",
    "content": "class Bar(JupyterMixin):\n    \"\"\"Renders a solid block bar.\n\n    Args:\n        size (float): Value for the end of the bar.\n        begin (float): Begin point (between 0 and size, inclusive).\n        end (float): End point (between 0 and size, inclusive).\n        width (int, optional): Width of the bar, or ``None`` for maximum width. Defaults to None.\n        color (Union[Color, str], optional): Color of the bar. Defaults to \"default\".\n        bgcolor (Union[Color, str], optional): Color of bar background. Defaults to \"default\".\n    \"\"\"",
    "start_line": 16
  },
  {
    "file": "bar.py",
    "type": "method",
    "class": "Bar",
    "method": "__init__",
    "name": "__init__",
    "content": "class Bar:\n    def __init__(\n        self,\n        size: float,\n        begin: float,\n        end: float,\n        *,\n        width: Optional[int] = None,\n        color: Union[Color, str] = \"default\",\n        bgcolor: Union[Color, str] = \"default\",\n    ):\n        self.size = size\n        self.begin = max(begin, 0)\n        self.end = min(end, size)\n        self.width = width\n        self.style = Style(color=color, bgcolor=bgcolor)",
    "start_line": 28
  },
  {
    "file": "bar.py",
    "type": "method",
    "class": "Bar",
    "method": "__repr__",
    "name": "__repr__",
    "content": "class Bar:\n    def __repr__(self) -> str:\n        return f\"Bar({self.size}, {self.begin}, {self.end})\"",
    "start_line": 44
  },
  {
    "file": "bar.py",
    "type": "method",
    "class": "Bar",
    "method": "__rich_console__",
    "name": "__rich_console__",
    "content": "class Bar:\n    def __rich_console__(\n        self, console: Console, options: ConsoleOptions\n    ) -> RenderResult:\n        width = min(\n            self.width if self.width is not None else options.max_width,\n            options.max_width,\n        )\n\n        if self.begin >= self.end:\n            yield Segment(\" \" * width, self.style)\n            yield Segment.line()\n            return\n\n        prefix_complete_eights = int(width * 8 * self.begin / self.size)\n        prefix_bar_count = prefix_complete_eights // 8\n        prefix_eights_count = prefix_complete_eights % 8\n\n        body_complete_eights = int(width * 8 * self.end / self.size)\n        body_bar_count = body_complete_eights // 8\n        body_eights_count = body_complete_eights % 8",
    "start_line": 47
  },
  {
    "file": "bar.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# When start and end fall into the same cell, we ideally should render\n        # a symbol that's \"center-aligned\", but there is no good symbol in Unicode.\n        # In this case, we fall back to right-aligned block symbol for simplicity.\n        prefix = \" \" * prefix_bar_count\n        if prefix_eights_count:\n            prefix += BEGIN_BLOCK_ELEMENTS[prefix_eights_count]\n        body = FULL_BLOCK * body_bar_count\n        if body_eights_count:\n            body += END_BLOCK_ELEMENTS[body_eights_count]\n        suffix = \" \" * (width - len(body))\n        yield Segment(prefix + body[len(prefix) :] + suffix, self.style)\n        yield Segment.line()",
    "start_line": 68
  },
  {
    "file": "bar.py",
    "type": "method",
    "class": "Bar",
    "method": "__rich_measure__",
    "name": "__rich_measure__",
    "content": "class Bar:\n    def __rich_measure__(\n        self, console: Console, options: ConsoleOptions\n    ) -> Measurement:\n        return (\n            Measurement(self.width, self.width)\n            if self.width is not None\n            else Measurement(4, options.max_width)\n        )",
    "start_line": 85
  },
  {
    "file": "bar.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "from typing import Optional, Union\n\nfrom .color import Color\nfrom .console import Console, ConsoleOptions, RenderResult\nfrom .jupyter import JupyterMixin\nfrom .measure import Measurement\nfrom .segment import Segment\nfrom .style import Style\n\n# There are left-aligned characters for 1/8 to 7/8, but\n# the right-aligned characters exist only for 1/8 and 4/8.\nBEGIN_BLOCK_ELEMENTS = [\"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"]\nEND_BLOCK_ELEMENTS = [\" \", \"\", \"\", \"\", \"\", \"\", \"\", \"\"]\nFULL_BLOCK = \"\"\n\n\nclass Bar(JupyterMixin):\n    \"\"\"Renders a solid block bar.\n\n    Args:\n        size (float): Value for the end of the bar.\n        begin (float): Begin point (between 0 and size, inclusive).\n        end (float): End point (between 0 and size, inclusive).\n        width (int, optional): Width of the bar, or ``None`` for maximum width. Defaults to None.\n        color (Union[Color, str], optional): Color of the bar. Defaults to \"default\".\n        bgcolor (Union[Color, str], optional): Color of bar background. Defaults to \"default\".\n    \"\"\"\n\n    def __init__(\n        self,\n        size: float,\n        begin: float,\n        end: float,\n        *,\n        width: Optional[int] = None,\n        color: Union[Color, str] = \"default\",\n        bgcolor: Union[Color, str] = \"default\",\n    ):\n        self.size = size\n        self.begin = max(begin, 0)\n        self.end = min(end, size)\n        self.width = width\n        self.style = Style(color=color, bgcolor=bgcolor)\n\n    def __repr__(self) -> str:\n        return f\"Bar({self.size}, {self.begin}, {self.end})\"\n\n    def __rich_console__(\n        self, console: Console, options: ConsoleOptions\n    ) -> RenderResult:\n        width = min(\n            self.width if self.width is not None else options.max_width,\n            options.max_width,\n        )\n\n        if self.begin >= self.end:\n            yield Segment(\" \" * width, self.style)\n            yield Segment.line()\n            return\n\n        prefix_complete_eights = int(width * 8 * self.begin / self.size)\n        prefix_bar_count = prefix_complete_eights // 8\n        prefix_eights_count = prefix_complete_eights % 8\n\n        body_complete_eights = int(width * 8 * self.end / self.size)\n        body_bar_count = body_complete_eights // 8\n        body_eights_count = body_complete_eights % 8\n\n        # When start and end fall into the same cell, we ideally should render\n        # a symbol that's \"center-aligned\", but there is no good symbol in Unicode.\n        # In this case, we fall back to right-aligned block symbol for simplicity.\n\n        prefix = \" \" * prefix_bar_count\n        if prefix_eights_count:\n            prefix += BEGIN_BLOCK_ELEMENTS[prefix_eights_count]\n\n        body = FULL_BLOCK * body_bar_count\n        if body_eights_count:\n            body += END_BLOCK_ELEMENTS[body_eights_count]\n\n        suffix = \" \" * (width - len(body))\n\n        yield Segment(prefix + body[len(prefix) :] + suffix, self.style)\n        yield Segment.line()\n\n    def __rich_measure__(\n        self, console: Console, options: ConsoleOptions\n    ) -> Measurement:\n        return (\n            Measurement(self.width, self.width)\n            if self.width is not None\n            else Measurement(4, options.max_width)\n        )\n",
    "start_line": 0
  },
  {
    "file": "live.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "import sys\nfrom threading import Event, RLock, Thread\nfrom types import TracebackType\nfrom typing import IO, Any, Callable, List, Optional, TextIO, Type, cast\nfrom . import get_console\nfrom .console import Console, ConsoleRenderable, RenderableType, RenderHook\nfrom .control import Control\nfrom .file_proxy import FileProxy\nfrom .jupyter import JupyterMixin\nfrom .live_render import LiveRender, VerticalOverflowMethod\nfrom .screen import Screen\nfrom .text import Text",
    "start_line": 0
  },
  {
    "file": "live.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "_RefreshThread",
    "content": "class _RefreshThread(Thread):\n    \"\"\"A thread that calls refresh() at regular intervals.\"\"\"",
    "start_line": 15
  },
  {
    "file": "live.py",
    "type": "method",
    "class": "_RefreshThread",
    "method": "__init__",
    "name": "__init__",
    "content": "class _RefreshThread:\n    def __init__(self, live: \"Live\", refresh_per_second: float) -> None:\n        self.live = live\n        self.refresh_per_second = refresh_per_second\n        self.done = Event()\n        super().__init__(daemon=True)",
    "start_line": 18
  },
  {
    "file": "live.py",
    "type": "method",
    "class": "_RefreshThread",
    "method": "stop",
    "name": "stop",
    "content": "class _RefreshThread:\n    def stop(self) -> None:\n        self.done.set()",
    "start_line": 24
  },
  {
    "file": "live.py",
    "type": "method",
    "class": "_RefreshThread",
    "method": "run",
    "name": "run",
    "content": "class _RefreshThread:\n    def run(self) -> None:\n        while not self.done.wait(1 / self.refresh_per_second):\n            with self.live._lock:\n                if not self.done.is_set():\n                    self.live.refresh()",
    "start_line": 27
  },
  {
    "file": "live.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "Live",
    "content": "class Live(JupyterMixin, RenderHook):\n    \"\"\"Renders an auto-updating live display of any given renderable.\n\n    Args:\n        renderable (RenderableType, optional): The renderable to live display. Defaults to displaying nothing.\n        console (Console, optional): Optional Console instance. Defaults to an internal Console instance writing to stdout.\n        screen (bool, optional): Enable alternate screen mode. Defaults to False.\n        auto_refresh (bool, optional): Enable auto refresh. If disabled, you will need to call `refresh()` or `update()` with refresh flag. Defaults to True\n        refresh_per_second (float, optional): Number of times per second to refresh the live display. Defaults to 4.\n        transient (bool, optional): Clear the renderable on exit (has no effect when screen=True). Defaults to False.\n        redirect_stdout (bool, optional): Enable redirection of stdout, so ``print`` may be used. Defaults to True.\n        redirect_stderr (bool, optional): Enable redirection of stderr. Defaults to True.\n        vertical_overflow (VerticalOverflowMethod, optional): How to handle renderable when it is too tall for the console. Defaults to \"ellipsis\".\n        get_renderable (Callable[[], RenderableType], optional): Optional callable to get renderable. Defaults to None.\n    \"\"\"",
    "start_line": 34
  },
  {
    "file": "live.py",
    "type": "method",
    "class": "Live",
    "method": "__init__",
    "name": "__init__",
    "content": "class Live:\n    def __init__(\n        self,\n        renderable: Optional[RenderableType] = None,\n        *,\n        console: Optional[Console] = None,\n        screen: bool = False,\n        auto_refresh: bool = True,\n        refresh_per_second: float = 4,\n        transient: bool = False,\n        redirect_stdout: bool = True,\n        redirect_stderr: bool = True,\n        vertical_overflow: VerticalOverflowMethod = \"ellipsis\",\n        get_renderable: Optional[Callable[[], RenderableType]] = None,\n    ) -> None:\n        assert refresh_per_second > 0, \"refresh_per_second must be > 0\"\n        self._renderable = renderable\n        self.console = console if console is not None else get_console()\n        self._screen = screen\n        self._alt_screen = False\n\n        self._redirect_stdout = redirect_stdout\n        self._redirect_stderr = redirect_stderr\n        self._restore_stdout: Optional[IO[str]] = None\n        self._restore_stderr: Optional[IO[str]] = None\n\n        self._lock = RLock()\n        self.ipy_widget: Optional[Any] = None\n        self.auto_refresh = auto_refresh\n        self._started: bool = False\n        self.transient = True if screen else transient\n\n        self._refresh_thread: Optional[_RefreshThread] = None\n        self.refresh_per_second = refresh_per_second\n\n        self.vertical_overflow = vertical_overflow\n        self._get_renderable = get_renderable\n        self._live_render = LiveRender(\n            self.get_renderable(), vertical_overflow=vertical_overflow\n        )\n\n    @property",
    "start_line": 50
  },
  {
    "file": "live.py",
    "type": "method",
    "class": "Live",
    "method": "is_started",
    "name": "is_started",
    "content": "class Live:\n    def is_started(self) -> bool:\n        \"\"\"Check if live display has been started.\"\"\"\n        return self._started",
    "start_line": 91
  },
  {
    "file": "live.py",
    "type": "method",
    "class": "Live",
    "method": "get_renderable",
    "name": "get_renderable",
    "content": "class Live:\n    def get_renderable(self) -> RenderableType:\n        renderable = (\n            self._get_renderable()\n            if self._get_renderable is not None\n            else self._renderable\n        )\n        return renderable or \"\"",
    "start_line": 95
  },
  {
    "file": "live.py",
    "type": "method",
    "class": "Live",
    "method": "start",
    "name": "start",
    "content": "class Live:\n    def start(self, refresh: bool = False) -> None:\n        \"\"\"Start live rendering display.\n\n        Args:\n            refresh (bool, optional): Also refresh. Defaults to False.\n        \"\"\"\n        with self._lock:\n            if self._started:\n                return\n            self.console.set_live(self)\n            self._started = True\n            if self._screen:\n                self._alt_screen = self.console.set_alt_screen(True)\n            self.console.show_cursor(False)\n            self._enable_redirect_io()\n            self.console.push_render_hook(self)\n            if refresh:\n                try:\n                    self.refresh()\n                except Exception:",
    "start_line": 103
  },
  {
    "file": "live.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# If refresh fails, we want to stop the redirection of sys.stderr,\n                    # so the error stacktrace is properly displayed in the terminal.\n                    # (or, if the code that calls Rich captures the exception and wants to display something,\n                    # let this be displayed in the terminal).\n                    self.stop()\n                    raise\n            if self.auto_refresh:\n                self._refresh_thread = _RefreshThread(self, self.refresh_per_second)\n                self._refresh_thread.start()",
    "start_line": 123
  },
  {
    "file": "live.py",
    "type": "method",
    "class": "Live",
    "method": "stop",
    "name": "stop",
    "content": "class Live:\n    def stop(self) -> None:\n        \"\"\"Stop live rendering display.\"\"\"\n        with self._lock:\n            if not self._started:\n                return\n            self.console.clear_live()\n            self._started = False\n\n            if self.auto_refresh and self._refresh_thread is not None:\n                self._refresh_thread.stop()\n                self._refresh_thread = None",
    "start_line": 133
  },
  {
    "file": "live.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# allow it to fully render on the last even if overflow\n            self.vertical_overflow = \"visible\"\n            with self.console:\n                try:\n                    if not self._alt_screen and not self.console.is_jupyter:\n                        self.refresh()\n                finally:\n                    self._disable_redirect_io()\n                    self.console.pop_render_hook()\n                    if not self._alt_screen and self.console.is_terminal:\n                        self.console.line()\n                    self.console.show_cursor(True)\n                    if self._alt_screen:\n                        self.console.set_alt_screen(False)\n                    if self.transient and not self._alt_screen:\n                        self.console.control(self._live_render.restore_cursor())\n                    if self.ipy_widget is not None and self.transient:\n                        self.ipy_widget.close()  # pragma: no cover",
    "start_line": 144
  },
  {
    "file": "live.py",
    "type": "method",
    "class": "Live",
    "method": "__enter__",
    "name": "__enter__",
    "content": "class Live:\n    def __enter__(self) -> \"Live\":\n        self.start(refresh=self._renderable is not None)\n        return self",
    "start_line": 164
  },
  {
    "file": "live.py",
    "type": "method",
    "class": "Live",
    "method": "__exit__",
    "name": "__exit__",
    "content": "class Live:\n    def __exit__(\n        self,\n        exc_type: Optional[Type[BaseException]],\n        exc_val: Optional[BaseException],\n        exc_tb: Optional[TracebackType],\n    ) -> None:\n        self.stop()",
    "start_line": 168
  },
  {
    "file": "live.py",
    "type": "method",
    "class": "Live",
    "method": "_enable_redirect_io",
    "name": "_enable_redirect_io",
    "content": "class Live:\n    def _enable_redirect_io(self) -> None:\n        \"\"\"Enable redirecting of stdout / stderr.\"\"\"\n        if self.console.is_terminal or self.console.is_jupyter:\n            if self._redirect_stdout and not isinstance(sys.stdout, FileProxy):\n                self._restore_stdout = sys.stdout\n                sys.stdout = cast(\"TextIO\", FileProxy(self.console, sys.stdout))\n            if self._redirect_stderr and not isinstance(sys.stderr, FileProxy):\n                self._restore_stderr = sys.stderr\n                sys.stderr = cast(\"TextIO\", FileProxy(self.console, sys.stderr))",
    "start_line": 176
  },
  {
    "file": "live.py",
    "type": "method",
    "class": "Live",
    "method": "_disable_redirect_io",
    "name": "_disable_redirect_io",
    "content": "class Live:\n    def _disable_redirect_io(self) -> None:\n        \"\"\"Disable redirecting of stdout / stderr.\"\"\"\n        if self._restore_stdout:\n            sys.stdout = cast(\"TextIO\", self._restore_stdout)\n            self._restore_stdout = None\n        if self._restore_stderr:\n            sys.stderr = cast(\"TextIO\", self._restore_stderr)\n            self._restore_stderr = None\n\n    @property",
    "start_line": 186
  },
  {
    "file": "live.py",
    "type": "method",
    "class": "Live",
    "method": "renderable",
    "name": "renderable",
    "content": "class Live:\n    def renderable(self) -> RenderableType:\n        \"\"\"Get the renderable that is being displayed\n\n        Returns:\n            RenderableType: Displayed renderable.\n        \"\"\"\n        renderable = self.get_renderable()\n        return Screen(renderable) if self._alt_screen else renderable",
    "start_line": 196
  },
  {
    "file": "live.py",
    "type": "method",
    "class": "Live",
    "method": "update",
    "name": "update",
    "content": "class Live:\n    def update(self, renderable: RenderableType, *, refresh: bool = False) -> None:\n        \"\"\"Update the renderable that is being displayed\n\n        Args:\n            renderable (RenderableType): New renderable to use.\n            refresh (bool, optional): Refresh the display. Defaults to False.\n        \"\"\"\n        if isinstance(renderable, str):\n            renderable = self.console.render_str(renderable)\n        with self._lock:\n            self._renderable = renderable\n            if refresh:\n                self.refresh()",
    "start_line": 205
  },
  {
    "file": "live.py",
    "type": "method",
    "class": "Live",
    "method": "refresh",
    "name": "refresh",
    "content": "class Live:\n    def refresh(self) -> None:\n        \"\"\"Update the display of the Live Render.\"\"\"\n        with self._lock:\n            self._live_render.set_renderable(self.renderable)\n            if self.console.is_jupyter:  # pragma: no cover\n                try:",
    "start_line": 219
  },
  {
    "file": "live.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from IPython.display import display\n                    from ipywidgets import Output\n                except ImportError:\n                    import warnings\n                    warnings.warn('install \"ipywidgets\" for Jupyter support')\n                else:\n                    if self.ipy_widget is None:\n                        self.ipy_widget = Output()\n                        display(self.ipy_widget)\n                    with self.ipy_widget:\n                        self.ipy_widget.clear_output(wait=True)\n                        self.console.print(self._live_render.renderable)\n            elif self.console.is_terminal and not self.console.is_dumb_terminal:\n                with self.console:\n                    self.console.print(Control())\n            elif (\n                not self._started and not self.transient\n            ):  # if it is finished allow files or dumb-terminals to see final result\n                with self.console:\n                    self.console.print(Control())",
    "start_line": 225
  },
  {
    "file": "live.py",
    "type": "method",
    "class": "Live",
    "method": "process_renderables",
    "name": "process_renderables",
    "content": "class Live:\n    def process_renderables(\n        self, renderables: List[ConsoleRenderable]\n    ) -> List[ConsoleRenderable]:\n        \"\"\"Process renderables to restore cursor and display progress.\"\"\"\n        self._live_render.vertical_overflow = self.vertical_overflow\n        if self.console.is_interactive:",
    "start_line": 248
  },
  {
    "file": "live.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# lock needs acquiring as user can modify live_render renderable at any time unlike in Progress.\n            with self._lock:\n                reset = (\n                    Control.home()\n                    if self._alt_screen\n                    else self._live_render.position_cursor()\n                )\n                renderables = [reset, *renderables, self._live_render]\n        elif (\n            not self._started and not self.transient\n        ):  # if it is finished render the final output for files or dumb_terminals\n            renderables = [*renderables, self._live_render]\n        return renderables\nif __name__ == \"__main__\":  # pragma: no cover",
    "start_line": 254
  },
  {
    "file": "live.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "import random\n    import time\n    from itertools import cycle\n    from typing import Dict, List, Tuple\n    from .align import Align\n    from .console import Console\n    from .live import Live as Live\n    from .panel import Panel\n    from .rule import Rule\n    from .syntax import Syntax\n    from .table import Table",
    "start_line": 271
  },
  {
    "file": "live.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console()\n    syntax = Syntax(\n        '''def loop_last(values: Iterable[T]) -> Iterable[Tuple[bool, T]]:\n    \"\"\"Iterate and generate a tuple with a flag for last value.\"\"\"\n    iter_values = iter(values)\n    try:\n        previous_value = next(iter_values)\n    except StopIteration:\n        return\n    for value in iter_values:\n        yield False, previous_value\n        previous_value = value\n    yield True, previous_value''',\n        \"python\",\n        line_numbers=True,\n    )\n    table = Table(\"foo\", \"bar\", \"baz\")\n    table.add_row(\"1\", \"2\", \"3\")\n    progress_renderables = [\n        \"You can make the terminal shorter and taller to see the live table hide\"\n        \"Text may be printed while the progress bars are rendering.\",\n        Panel(\"In fact, [i]any[/i] renderable will work\"),\n        \"Such as [magenta]tables[/]...\",\n        table,\n        \"Pretty printed structures...\",\n        {\"type\": \"example\", \"text\": \"Pretty printed\"},\n        \"Syntax...\",\n        syntax,\n        Rule(\"Give it a try!\"),\n    ]\n    examples = cycle(progress_renderables)\n    exchanges = [\n        \"SGD\",\n        \"MYR\",\n        \"EUR\",\n        \"USD\",\n        \"AUD\",\n        \"JPY\",\n        \"CNH\",\n        \"HKD\",\n        \"CAD\",\n        \"INR\",\n        \"DKK\",\n        \"GBP\",\n        \"RUB\",\n        \"NZD\",\n        \"MXN\",\n        \"IDR\",\n        \"TWD\",\n        \"THB\",\n        \"VND\",\n    ]\n    with Live(console=console) as live_table:\n        exchange_rate_dict: Dict[Tuple[str, str], float] = {}\n        for index in range(100):\n            select_exchange = exchanges[index % len(exchanges)]\n            for exchange in exchanges:\n                if exchange == select_exchange:\n                    continue\n                time.sleep(0.4)\n                if random.randint(0, 10) < 1:\n                    console.log(next(examples))\n                exchange_rate_dict[(select_exchange, exchange)] = 200 / (\n                    (random.random() * 320) + 1\n                )\n                if len(exchange_rate_dict) > len(exchanges) - 1:\n                    exchange_rate_dict.pop(list(exchange_rate_dict.keys())[0])\n                table = Table(title=\"Exchange Rates\")\n                table.add_column(\"Source Currency\")\n                table.add_column(\"Destination Currency\")\n                table.add_column(\"Exchange Rate\")\n                for (source, dest), exchange_rate in exchange_rate_dict.items():\n                    table.add_row(\n                        source,\n                        dest,\n                        Text(\n                            f\"{exchange_rate:.4f}\",\n                            style=\"red\" if exchange_rate < 1.0 else \"green\",\n                        ),\n                    )\n                live_table.update(Align.center(table))",
    "start_line": 284
  },
  {
    "file": "live.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "import sys\nfrom threading import Event, RLock, Thread\nfrom types import TracebackType\nfrom typing import IO, Any, Callable, List, Optional, TextIO, Type, cast\n\nfrom . import get_console\nfrom .console import Console, ConsoleRenderable, RenderableType, RenderHook\nfrom .control import Control\nfrom .file_proxy import FileProxy\nfrom .jupyter import JupyterMixin\nfrom .live_render import LiveRender, VerticalOverflowMethod\nfrom .screen import Screen\nfrom .text import Text\n\n\nclass _RefreshThread(Thread):\n    \"\"\"A thread that calls refresh() at regular intervals.\"\"\"\n\n    def __init__(self, live: \"Live\", refresh_per_second: float) -> None:\n        self.live = live\n        self.refresh_per_second = refresh_per_second\n        self.done = Event()\n        super().__init__(daemon=True)\n\n    def stop(self) -> None:\n        self.done.set()\n\n    def run(self) -> None:\n        while not self.done.wait(1 / self.refresh_per_second):\n            with self.live._lock:\n                if not self.done.is_set():\n                    self.live.refresh()\n\n\nclass Live(JupyterMixin, RenderHook):\n    \"\"\"Renders an auto-updating live display of any given renderable.\n\n    Args:\n        renderable (RenderableType, optional): The renderable to live display. Defaults to displaying nothing.\n        console (Console, optional): Optional Console instance. Defaults to an internal Console instance writing to stdout.\n        screen (bool, optional): Enable alternate screen mode. Defaults to False.\n        auto_refresh (bool, optional): Enable auto refresh. If disabled, you will need to call `refresh()` or `update()` with refresh flag. Defaults to True\n        refresh_per_second (float, optional): Number of times per second to refresh the live display. Defaults to 4.\n        transient (bool, optional): Clear the renderable on exit (has no effect when screen=True). Defaults to False.\n        redirect_stdout (bool, optional): Enable redirection of stdout, so ``print`` may be used. Defaults to True.\n        redirect_stderr (bool, optional): Enable redirection of stderr. Defaults to True.\n        vertical_overflow (VerticalOverflowMethod, optional): How to handle renderable when it is too tall for the console. Defaults to \"ellipsis\".\n        get_renderable (Callable[[], RenderableType], optional): Optional callable to get renderable. Defaults to None.\n    \"\"\"\n\n    def __init__(\n        self,\n        renderable: Optional[RenderableType] = None,\n        *,\n        console: Optional[Console] = None,\n        screen: bool = False,\n        auto_refresh: bool = True,\n        refresh_per_second: float = 4,\n        transient: bool = False,\n        redirect_stdout: bool = True,\n        redirect_stderr: bool = True,\n        vertical_overflow: VerticalOverflowMethod = \"ellipsis\",\n        get_renderable: Optional[Callable[[], RenderableType]] = None,\n    ) -> None:\n        assert refresh_per_second > 0, \"refresh_per_second must be > 0\"\n        self._renderable = renderable\n        self.console = console if console is not None else get_console()\n        self._screen = screen\n        self._alt_screen = False\n\n        self._redirect_stdout = redirect_stdout\n        self._redirect_stderr = redirect_stderr\n        self._restore_stdout: Optional[IO[str]] = None\n        self._restore_stderr: Optional[IO[str]] = None\n\n        self._lock = RLock()\n        self.ipy_widget: Optional[Any] = None\n        self.auto_refresh = auto_refresh\n        self._started: bool = False\n        self.transient = True if screen else transient\n\n        self._refresh_thread: Optional[_RefreshThread] = None\n        self.refresh_per_second = refresh_per_second\n\n        self.vertical_overflow = vertical_overflow\n        self._get_renderable = get_renderable\n        self._live_render = LiveRender(\n            self.get_renderable(), vertical_overflow=vertical_overflow\n        )\n\n    @property\n    def is_started(self) -> bool:\n        \"\"\"Check if live display has been started.\"\"\"\n        return self._started\n\n    def get_renderable(self) -> RenderableType:\n        renderable = (\n            self._get_renderable()\n            if self._get_renderable is not None\n            else self._renderable\n        )\n        return renderable or \"\"\n\n    def start(self, refresh: bool = False) -> None:\n        \"\"\"Start live rendering display.\n\n        Args:\n            refresh (bool, optional): Also refresh. Defaults to False.\n        \"\"\"\n        with self._lock:\n            if self._started:\n                return\n            self.console.set_live(self)\n            self._started = True\n            if self._screen:\n                self._alt_screen = self.console.set_alt_screen(True)\n            self.console.show_cursor(False)\n            self._enable_redirect_io()\n            self.console.push_render_hook(self)\n            if refresh:\n                try:\n                    self.refresh()\n                except Exception:\n                    # If refresh fails, we want to stop the redirection of sys.stderr,\n                    # so the error stacktrace is properly displayed in the terminal.\n                    # (or, if the code that calls Rich captures the exception and wants to display something,\n                    # let this be displayed in the terminal).\n                    self.stop()\n                    raise\n            if self.auto_refresh:\n                self._refresh_thread = _RefreshThread(self, self.refresh_per_second)\n                self._refresh_thread.start()\n\n    def stop(self) -> None:\n        \"\"\"Stop live rendering display.\"\"\"\n        with self._lock:\n            if not self._started:\n                return\n            self.console.clear_live()\n            self._started = False\n\n            if self.auto_refresh and self._refresh_thread is not None:\n                self._refresh_thread.stop()\n                self._refresh_thread = None\n            # allow it to fully render on the last even if overflow\n            self.vertical_overflow = \"visible\"\n            with self.console:\n                try:\n                    if not self._alt_screen and not self.console.is_jupyter:\n                        self.refresh()\n                finally:\n                    self._disable_redirect_io()\n                    self.console.pop_render_hook()\n                    if not self._alt_screen and self.console.is_terminal:\n                        self.console.line()\n                    self.console.show_cursor(True)\n                    if self._alt_screen:\n                        self.console.set_alt_screen(False)\n\n                    if self.transient and not self._alt_screen:\n                        self.console.control(self._live_render.restore_cursor())\n                    if self.ipy_widget is not None and self.transient:\n                        self.ipy_widget.close()  # pragma: no cover\n\n    def __enter__(self) -> \"Live\":\n        self.start(refresh=self._renderable is not None)\n        return self\n\n    def __exit__(\n        self,\n        exc_type: Optional[Type[BaseException]],\n        exc_val: Optional[BaseException],\n        exc_tb: Optional[TracebackType],\n    ) -> None:\n        self.stop()\n\n    def _enable_redirect_io(self) -> None:\n        \"\"\"Enable redirecting of stdout / stderr.\"\"\"\n        if self.console.is_terminal or self.console.is_jupyter:\n            if self._redirect_stdout and not isinstance(sys.stdout, FileProxy):\n                self._restore_stdout = sys.stdout\n                sys.stdout = cast(\"TextIO\", FileProxy(self.console, sys.stdout))\n            if self._redirect_stderr and not isinstance(sys.stderr, FileProxy):\n                self._restore_stderr = sys.stderr\n                sys.stderr = cast(\"TextIO\", FileProxy(self.console, sys.stderr))\n\n    def _disable_redirect_io(self) -> None:\n        \"\"\"Disable redirecting of stdout / stderr.\"\"\"\n        if self._restore_stdout:\n            sys.stdout = cast(\"TextIO\", self._restore_stdout)\n            self._restore_stdout = None\n        if self._restore_stderr:\n            sys.stderr = cast(\"TextIO\", self._restore_stderr)\n            self._restore_stderr = None\n\n    @property\n    def renderable(self) -> RenderableType:\n        \"\"\"Get the renderable that is being displayed\n\n        Returns:\n            RenderableType: Displayed renderable.\n        \"\"\"\n        renderable = self.get_renderable()\n        return Screen(renderable) if self._alt_screen else renderable\n\n    def update(self, renderable: RenderableType, *, refresh: bool = False) -> None:\n        \"\"\"Update the renderable that is being displayed\n\n        Args:\n            renderable (RenderableType): New renderable to use.\n            refresh (bool, optional): Refresh the display. Defaults to False.\n        \"\"\"\n        if isinstance(renderable, str):\n            renderable = self.console.render_str(renderable)\n        with self._lock:\n            self._renderable = renderable\n            if refresh:\n                self.refresh()\n\n    def refresh(self) -> None:\n        \"\"\"Update the display of the Live Render.\"\"\"\n        with self._lock:\n            self._live_render.set_renderable(self.renderable)\n            if self.console.is_jupyter:  # pragma: no cover\n                try:\n                    from IPython.display import display\n                    from ipywidgets import Output\n                except ImportError:\n                    import warnings\n\n                    warnings.warn('install \"ipywidgets\" for Jupyter support')\n                else:\n                    if self.ipy_widget is None:\n                        self.ipy_widget = Output()\n                        display(self.ipy_widget)\n\n                    with self.ipy_widget:\n                        self.ipy_widget.clear_output(wait=True)\n                        self.console.print(self._live_render.renderable)\n            elif self.console.is_terminal and not self.console.is_dumb_terminal:\n                with self.console:\n                    self.console.print(Control())\n            elif (\n                not self._started and not self.transient\n            ):  # if it is finished allow files or dumb-terminals to see final result\n                with self.console:\n                    self.console.print(Control())\n\n    def process_renderables(\n        self, renderables: List[ConsoleRenderable]\n    ) -> List[ConsoleRenderable]:\n        \"\"\"Process renderables to restore cursor and display progress.\"\"\"\n        self._live_render.vertical_overflow = self.vertical_overflow\n        if self.console.is_interactive:\n            # lock needs acquiring as user can modify live_render renderable at any time unlike in Progress.\n            with self._lock:\n                reset = (\n                    Control.home()\n                    if self._alt_screen\n                    else self._live_render.position_cursor()\n                )\n                renderables = [reset, *renderables, self._live_render]\n        elif (\n            not self._started and not self.transient\n        ):  # if it is finished render the final output for files or dumb_terminals\n            renderables = [*renderables, self._live_render]\n\n        return renderables\n\n\nif __name__ == \"__main__\":  # pragma: no cover\n    import random\n    import time\n    from itertools import cycle\n    from typing import Dict, List, Tuple\n\n    from .align import Align\n    from .console import Console\n    from .live import Live as Live\n    from .panel import Panel\n    from .rule import Rule\n    from .syntax import Syntax\n    from .table import Table\n\n    console = Console()\n\n    syntax = Syntax(\n        '''def loop_last(values: Iterable[T]) -> Iterable[Tuple[bool, T]]:\n    \"\"\"Iterate and generate a tuple with a flag for last value.\"\"\"\n    iter_values = iter(values)\n    try:\n        previous_value = next(iter_values)\n    except StopIteration:\n        return\n    for value in iter_values:\n        yield False, previous_value\n        previous_value = value\n    yield True, previous_value''',\n        \"python\",\n        line_numbers=True,\n    )\n\n    table = Table(\"foo\", \"bar\", \"baz\")\n    table.add_row(\"1\", \"2\", \"3\")\n\n    progress_renderables = [\n        \"You can make the terminal shorter and taller to see the live table hide\"\n        \"Text may be printed while the progress bars are rendering.\",\n        Panel(\"In fact, [i]any[/i] renderable will work\"),\n        \"Such as [magenta]tables[/]...\",\n        table,\n        \"Pretty printed structures...\",\n        {\"type\": \"example\", \"text\": \"Pretty printed\"},\n        \"Syntax...\",\n        syntax,\n        Rule(\"Give it a try!\"),\n    ]\n\n    examples = cycle(progress_renderables)\n\n    exchanges = [\n        \"SGD\",\n        \"MYR\",\n        \"EUR\",\n        \"USD\",\n        \"AUD\",\n        \"JPY\",\n        \"CNH\",\n        \"HKD\",\n        \"CAD\",\n        \"INR\",\n        \"DKK\",\n        \"GBP\",\n        \"RUB\",\n        \"NZD\",\n        \"MXN\",\n        \"IDR\",\n        \"TWD\",\n        \"THB\",\n        \"VND\",\n    ]\n    with Live(console=console) as live_table:\n        exchange_rate_dict: Dict[Tuple[str, str], float] = {}\n\n        for index in range(100):\n            select_exchange = exchanges[index % len(exchanges)]\n\n            for exchange in exchanges:\n                if exchange == select_exchange:\n                    continue\n                time.sleep(0.4)\n                if random.randint(0, 10) < 1:\n                    console.log(next(examples))\n                exchange_rate_dict[(select_exchange, exchange)] = 200 / (\n                    (random.random() * 320) + 1\n                )\n                if len(exchange_rate_dict) > len(exchanges) - 1:\n                    exchange_rate_dict.pop(list(exchange_rate_dict.keys())[0])\n                table = Table(title=\"Exchange Rates\")\n\n                table.add_column(\"Source Currency\")\n                table.add_column(\"Destination Currency\")\n                table.add_column(\"Exchange Rate\")\n\n                for (source, dest), exchange_rate in exchange_rate_dict.items():\n                    table.add_row(\n                        source,\n                        dest,\n                        Text(\n                            f\"{exchange_rate:.4f}\",\n                            style=\"red\" if exchange_rate < 1.0 else \"green\",\n                        ),\n                    )\n\n                live_table.update(Align.center(table))\n",
    "start_line": 0
  },
  {
    "file": "syntax.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "import os.path\nimport re\nimport sys\nimport textwrap\nfrom abc import ABC, abstractmethod\nfrom pathlib import Path\nfrom typing import (\n    Any,\n    Dict,\n    Iterable,\n    List,\n    NamedTuple,\n    Optional,\n    Sequence,\n    Set,\n    Tuple,\n    Type,\n    Union,\n)\nfrom pygments.lexer import Lexer\nfrom pygments.lexers import get_lexer_by_name, guess_lexer_for_filename\nfrom pygments.style import Style as PygmentsStyle\nfrom pygments.styles import get_style_by_name\nfrom pygments.token import (\n    Comment,\n    Error,\n    Generic,\n    Keyword,\n    Name,\n    Number,\n    Operator,\n    String,\n    Token,\n    Whitespace,\n)\nfrom pygments.util import ClassNotFound\nfrom rich.containers import Lines\nfrom rich.padding import Padding, PaddingDimensions\nfrom ._loop import loop_first\nfrom .cells import cell_len\nfrom .color import Color, blend_rgb\nfrom .console import Console, ConsoleOptions, JustifyMethod, RenderResult\nfrom .jupyter import JupyterMixin\nfrom .measure import Measurement\nfrom .segment import Segment, Segments\nfrom .style import Style, StyleType\nfrom .text import Text\nTokenType = Tuple[str, ...]",
    "start_line": 0
  },
  {
    "file": "syntax.py",
    "type": "constants",
    "class": null,
    "method": null,
    "name": "module_constants",
    "content": "WINDOWS = sys.platform == \"win32\"\nDEFAULT_THEME = \"monokai\"",
    "start_line": 53
  },
  {
    "file": "syntax.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# The following styles are based on https://github.com/pygments/pygments/blob/master/pygments/formatters/terminal.py\n# A few modifications were made\nANSI_LIGHT: Dict[TokenType, Style] = {\n    Token: Style(),\n    Whitespace: Style(color=\"white\"),\n    Comment: Style(dim=True),\n    Comment.Preproc: Style(color=\"cyan\"),\n    Keyword: Style(color=\"blue\"),\n    Keyword.Type: Style(color=\"cyan\"),\n    Operator.Word: Style(color=\"magenta\"),\n    Name.Builtin: Style(color=\"cyan\"),\n    Name.Function: Style(color=\"green\"),\n    Name.Namespace: Style(color=\"cyan\", underline=True),\n    Name.Class: Style(color=\"green\", underline=True),\n    Name.Exception: Style(color=\"cyan\"),\n    Name.Decorator: Style(color=\"magenta\", bold=True),\n    Name.Variable: Style(color=\"red\"),\n    Name.Constant: Style(color=\"red\"),\n    Name.Attribute: Style(color=\"cyan\"),\n    Name.Tag: Style(color=\"bright_blue\"),\n    String: Style(color=\"yellow\"),\n    Number: Style(color=\"blue\"),\n    Generic.Deleted: Style(color=\"bright_red\"),\n    Generic.Inserted: Style(color=\"green\"),\n    Generic.Heading: Style(bold=True),\n    Generic.Subheading: Style(color=\"magenta\", bold=True),\n    Generic.Prompt: Style(bold=True),\n    Generic.Error: Style(color=\"bright_red\"),\n    Error: Style(color=\"red\", underline=True),\n}\nANSI_DARK: Dict[TokenType, Style] = {\n    Token: Style(),\n    Whitespace: Style(color=\"bright_black\"),\n    Comment: Style(dim=True),\n    Comment.Preproc: Style(color=\"bright_cyan\"),\n    Keyword: Style(color=\"bright_blue\"),\n    Keyword.Type: Style(color=\"bright_cyan\"),\n    Operator.Word: Style(color=\"bright_magenta\"),\n    Name.Builtin: Style(color=\"bright_cyan\"),\n    Name.Function: Style(color=\"bright_green\"),\n    Name.Namespace: Style(color=\"bright_cyan\", underline=True),\n    Name.Class: Style(color=\"bright_green\", underline=True),\n    Name.Exception: Style(color=\"bright_cyan\"),\n    Name.Decorator: Style(color=\"bright_magenta\", bold=True),\n    Name.Variable: Style(color=\"bright_red\"),\n    Name.Constant: Style(color=\"bright_red\"),\n    Name.Attribute: Style(color=\"bright_cyan\"),\n    Name.Tag: Style(color=\"bright_blue\"),\n    String: Style(color=\"yellow\"),\n    Number: Style(color=\"bright_blue\"),\n    Generic.Deleted: Style(color=\"bright_red\"),\n    Generic.Inserted: Style(color=\"bright_green\"),\n    Generic.Heading: Style(bold=True),\n    Generic.Subheading: Style(color=\"bright_magenta\", bold=True),\n    Generic.Prompt: Style(bold=True),\n    Generic.Error: Style(color=\"bright_red\"),\n    Error: Style(color=\"red\", underline=True),\n}",
    "start_line": 56
  },
  {
    "file": "syntax.py",
    "type": "constants",
    "class": null,
    "method": null,
    "name": "module_constants",
    "content": "RICH_SYNTAX_THEMES = {\"ansi_light\": ANSI_LIGHT, \"ansi_dark\": ANSI_DARK}\nNUMBERS_COLUMN_DEFAULT_PADDING = 2",
    "start_line": 117
  },
  {
    "file": "syntax.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "SyntaxTheme",
    "content": "class SyntaxTheme(ABC):\n    \"\"\"Base class for a syntax theme.\"\"\"\n\n    @abstractmethod",
    "start_line": 121
  },
  {
    "file": "syntax.py",
    "type": "method",
    "class": "SyntaxTheme",
    "method": "get_style_for_token",
    "name": "get_style_for_token",
    "content": "class SyntaxTheme:\n    def get_style_for_token(self, token_type: TokenType) -> Style:\n        \"\"\"Get a style for a given Pygments token.\"\"\"\n        raise NotImplementedError  # pragma: no cover\n\n    @abstractmethod",
    "start_line": 125
  },
  {
    "file": "syntax.py",
    "type": "method",
    "class": "SyntaxTheme",
    "method": "get_background_style",
    "name": "get_background_style",
    "content": "class SyntaxTheme:\n    def get_background_style(self) -> Style:\n        \"\"\"Get the background color.\"\"\"\n        raise NotImplementedError  # pragma: no cover",
    "start_line": 130
  },
  {
    "file": "syntax.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "PygmentsSyntaxTheme",
    "content": "class PygmentsSyntaxTheme(SyntaxTheme):\n    \"\"\"Syntax theme that delegates to Pygments theme.\"\"\"",
    "start_line": 135
  },
  {
    "file": "syntax.py",
    "type": "method",
    "class": "PygmentsSyntaxTheme",
    "method": "__init__",
    "name": "__init__",
    "content": "class PygmentsSyntaxTheme:\n    def __init__(self, theme: Union[str, Type[PygmentsStyle]]) -> None:\n        self._style_cache: Dict[TokenType, Style] = {}\n        if isinstance(theme, str):\n            try:\n                self._pygments_style_class = get_style_by_name(theme)\n            except ClassNotFound:\n                self._pygments_style_class = get_style_by_name(\"default\")\n        else:\n            self._pygments_style_class = theme\n\n        self._background_color = self._pygments_style_class.background_color\n        self._background_style = Style(bgcolor=self._background_color)",
    "start_line": 138
  },
  {
    "file": "syntax.py",
    "type": "method",
    "class": "PygmentsSyntaxTheme",
    "method": "get_style_for_token",
    "name": "get_style_for_token",
    "content": "class PygmentsSyntaxTheme:\n    def get_style_for_token(self, token_type: TokenType) -> Style:\n        \"\"\"Get a style from a Pygments class.\"\"\"\n        try:\n            return self._style_cache[token_type]\n        except KeyError:\n            try:\n                pygments_style = self._pygments_style_class.style_for_token(token_type)\n            except KeyError:\n                style = Style.null()\n            else:\n                color = pygments_style[\"color\"]\n                bgcolor = pygments_style[\"bgcolor\"]\n                style = Style(\n                    color=\"#\" + color if color else \"#000000\",\n                    bgcolor=\"#\" + bgcolor if bgcolor else self._background_color,\n                    bold=pygments_style[\"bold\"],\n                    italic=pygments_style[\"italic\"],\n                    underline=pygments_style[\"underline\"],\n                )\n            self._style_cache[token_type] = style\n        return style",
    "start_line": 151
  },
  {
    "file": "syntax.py",
    "type": "method",
    "class": "PygmentsSyntaxTheme",
    "method": "get_background_style",
    "name": "get_background_style",
    "content": "class PygmentsSyntaxTheme:\n    def get_background_style(self) -> Style:\n        return self._background_style",
    "start_line": 173
  },
  {
    "file": "syntax.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "ANSISyntaxTheme",
    "content": "class ANSISyntaxTheme(SyntaxTheme):\n    \"\"\"Syntax theme to use standard colors.\"\"\"",
    "start_line": 177
  },
  {
    "file": "syntax.py",
    "type": "method",
    "class": "ANSISyntaxTheme",
    "method": "__init__",
    "name": "__init__",
    "content": "class ANSISyntaxTheme:\n    def __init__(self, style_map: Dict[TokenType, Style]) -> None:\n        self.style_map = style_map\n        self._missing_style = Style.null()\n        self._background_style = Style.null()\n        self._style_cache: Dict[TokenType, Style] = {}",
    "start_line": 180
  },
  {
    "file": "syntax.py",
    "type": "method",
    "class": "ANSISyntaxTheme",
    "method": "get_style_for_token",
    "name": "get_style_for_token",
    "content": "class ANSISyntaxTheme:\n    def get_style_for_token(self, token_type: TokenType) -> Style:\n        \"\"\"Look up style in the style map.\"\"\"\n        try:\n            return self._style_cache[token_type]\n        except KeyError:",
    "start_line": 186
  },
  {
    "file": "syntax.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# Styles form a hierarchy\n            # We need to go from most to least specific\n            # e.g. (\"foo\", \"bar\", \"baz\") to (\"foo\", \"bar\")  to (\"foo\",)\n            get_style = self.style_map.get\n            token = tuple(token_type)\n            style = self._missing_style\n            while token:\n                _style = get_style(token)\n                if _style is not None:\n                    style = _style\n                    break\n                token = token[:-1]\n            self._style_cache[token_type] = style\n            return style",
    "start_line": 191
  },
  {
    "file": "syntax.py",
    "type": "method",
    "class": "ANSISyntaxTheme",
    "method": "get_background_style",
    "name": "get_background_style",
    "content": "class ANSISyntaxTheme:\n    def get_background_style(self) -> Style:\n        return self._background_style\n\n\nSyntaxPosition = Tuple[int, int]",
    "start_line": 206
  },
  {
    "file": "syntax.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "_SyntaxHighlightRange",
    "content": "class _SyntaxHighlightRange(NamedTuple):\n    \"\"\"\n    A range to highlight in a Syntax object.\n    `start` and `end` are 2-integers tuples, where the first integer is the line number\n    (starting from 1) and the second integer is the column index (starting from 0).\n    \"\"\"\n\n    style: StyleType\n    start: SyntaxPosition\n    end: SyntaxPosition\n    style_before: bool = False",
    "start_line": 213
  },
  {
    "file": "syntax.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "Syntax",
    "content": "class Syntax(JupyterMixin):\n    \"\"\"Construct a Syntax object to render syntax highlighted code.\n\n    Args:\n        code (str): Code to highlight.\n        lexer (Lexer | str): Lexer to use (see https://pygments.org/docs/lexers/)\n        theme (str, optional): Color theme, aka Pygments style (see https://pygments.org/docs/styles/#getting-a-list-of-available-styles). Defaults to \"monokai\".\n        dedent (bool, optional): Enable stripping of initial whitespace. Defaults to False.\n        line_numbers (bool, optional): Enable rendering of line numbers. Defaults to False.\n        start_line (int, optional): Starting number for line numbers. Defaults to 1.\n        line_range (Tuple[int | None, int | None], optional): If given should be a tuple of the start and end line to render.\n            A value of None in the tuple indicates the range is open in that direction.\n        highlight_lines (Set[int]): A set of line numbers to highlight.\n        code_width: Width of code to render (not including line numbers), or ``None`` to use all available width.\n        tab_size (int, optional): Size of tabs. Defaults to 4.\n        word_wrap (bool, optional): Enable word wrapping.\n        background_color (str, optional): Optional background color, or None to use theme color. Defaults to None.\n        indent_guides (bool, optional): Show indent guides. Defaults to False.\n        padding (PaddingDimensions): Padding to apply around the syntax. Defaults to 0 (no padding).\n    \"\"\"\n\n    _pygments_style_class: Type[PygmentsStyle]\n    _theme: SyntaxTheme\n\n    @classmethod",
    "start_line": 226
  },
  {
    "file": "syntax.py",
    "type": "method",
    "class": "Syntax",
    "method": "get_theme",
    "name": "get_theme",
    "content": "class Syntax:\n    def get_theme(cls, name: Union[str, SyntaxTheme]) -> SyntaxTheme:\n        \"\"\"Get a syntax theme instance.\"\"\"\n        if isinstance(name, SyntaxTheme):\n            return name\n        theme: SyntaxTheme\n        if name in RICH_SYNTAX_THEMES:\n            theme = ANSISyntaxTheme(RICH_SYNTAX_THEMES[name])\n        else:\n            theme = PygmentsSyntaxTheme(name)\n        return theme",
    "start_line": 251
  },
  {
    "file": "syntax.py",
    "type": "method",
    "class": "Syntax",
    "method": "__init__",
    "name": "__init__",
    "content": "class Syntax:\n    def __init__(\n        self,\n        code: str,\n        lexer: Union[Lexer, str],\n        *,\n        theme: Union[str, SyntaxTheme] = DEFAULT_THEME,\n        dedent: bool = False,\n        line_numbers: bool = False,\n        start_line: int = 1,\n        line_range: Optional[Tuple[Optional[int], Optional[int]]] = None,\n        highlight_lines: Optional[Set[int]] = None,\n        code_width: Optional[int] = None,\n        tab_size: int = 4,\n        word_wrap: bool = False,\n        background_color: Optional[str] = None,\n        indent_guides: bool = False,\n        padding: PaddingDimensions = 0,\n    ) -> None:\n        self.code = code\n        self._lexer = lexer\n        self.dedent = dedent\n        self.line_numbers = line_numbers\n        self.start_line = start_line\n        self.line_range = line_range\n        self.highlight_lines = highlight_lines or set()\n        self.code_width = code_width\n        self.tab_size = tab_size\n        self.word_wrap = word_wrap\n        self.background_color = background_color\n        self.background_style = (\n            Style(bgcolor=background_color) if background_color else Style()\n        )\n        self.indent_guides = indent_guides\n        self.padding = padding\n\n        self._theme = self.get_theme(theme)\n        self._stylized_ranges: List[_SyntaxHighlightRange] = []\n\n    @classmethod",
    "start_line": 262
  },
  {
    "file": "syntax.py",
    "type": "method",
    "class": "Syntax",
    "method": "from_path",
    "name": "from_path",
    "content": "class Syntax:\n    def from_path(\n        cls,\n        path: str,\n        encoding: str = \"utf-8\",\n        lexer: Optional[Union[Lexer, str]] = None,\n        theme: Union[str, SyntaxTheme] = DEFAULT_THEME,\n        dedent: bool = False,\n        line_numbers: bool = False,\n        line_range: Optional[Tuple[int, int]] = None,\n        start_line: int = 1,\n        highlight_lines: Optional[Set[int]] = None,\n        code_width: Optional[int] = None,\n        tab_size: int = 4,\n        word_wrap: bool = False,\n        background_color: Optional[str] = None,\n        indent_guides: bool = False,\n        padding: PaddingDimensions = 0,\n    ) -> \"Syntax\":\n        \"\"\"Construct a Syntax object from a file.\n\n        Args:\n            path (str): Path to file to highlight.\n            encoding (str): Encoding of file.\n            lexer (str | Lexer, optional): Lexer to use. If None, lexer will be auto-detected from path/file content.\n            theme (str, optional): Color theme, aka Pygments style (see https://pygments.org/docs/styles/#getting-a-list-of-available-styles). Defaults to \"emacs\".\n            dedent (bool, optional): Enable stripping of initial whitespace. Defaults to True.\n            line_numbers (bool, optional): Enable rendering of line numbers. Defaults to False.\n            start_line (int, optional): Starting number for line numbers. Defaults to 1.\n            line_range (Tuple[int, int], optional): If given should be a tuple of the start and end line to render.\n            highlight_lines (Set[int]): A set of line numbers to highlight.\n            code_width: Width of code to render (not including line numbers), or ``None`` to use all available width.\n            tab_size (int, optional): Size of tabs. Defaults to 4.\n            word_wrap (bool, optional): Enable word wrapping of code.\n            background_color (str, optional): Optional background color, or None to use theme color. Defaults to None.\n            indent_guides (bool, optional): Show indent guides. Defaults to False.\n            padding (PaddingDimensions): Padding to apply around the syntax. Defaults to 0 (no padding).\n\n        Returns:\n            [Syntax]: A Syntax object that may be printed to the console\n        \"\"\"\n        code = Path(path).read_text(encoding=encoding)\n\n        if not lexer:\n            lexer = cls.guess_lexer(path, code=code)\n\n        return cls(\n            code,\n            lexer,\n            theme=theme,\n            dedent=dedent,\n            line_numbers=line_numbers,\n            line_range=line_range,\n            start_line=start_line,\n            highlight_lines=highlight_lines,\n            code_width=code_width,\n            tab_size=tab_size,\n            word_wrap=word_wrap,\n            background_color=background_color,\n            indent_guides=indent_guides,\n            padding=padding,\n        )\n\n    @classmethod",
    "start_line": 301
  },
  {
    "file": "syntax.py",
    "type": "method",
    "class": "Syntax",
    "method": "guess_lexer",
    "name": "guess_lexer",
    "content": "class Syntax:\n    def guess_lexer(cls, path: str, code: Optional[str] = None) -> str:\n        \"\"\"Guess the alias of the Pygments lexer to use based on a path and an optional string of code.\n        If code is supplied, it will use a combination of the code and the filename to determine the\n        best lexer to use. For example, if the file is ``index.html`` and the file contains Django\n        templating syntax, then \"html+django\" will be returned. If the file is ``index.html``, and no\n        templating language is used, the \"html\" lexer will be used. If no string of code\n        is supplied, the lexer will be chosen based on the file extension..\n\n        Args:\n             path (AnyStr): The path to the file containing the code you wish to know the lexer for.\n             code (str, optional): Optional string of code that will be used as a fallback if no lexer\n                is found for the supplied path.\n\n        Returns:\n            str: The name of the Pygments lexer that best matches the supplied path/code.\n        \"\"\"\n        lexer: Optional[Lexer] = None\n        lexer_name = \"default\"\n        if code:\n            try:\n                lexer = guess_lexer_for_filename(path, code)\n            except ClassNotFound:\n                pass\n\n        if not lexer:\n            try:\n                _, ext = os.path.splitext(path)\n                if ext:\n                    extension = ext.lstrip(\".\").lower()\n                    lexer = get_lexer_by_name(extension)\n            except ClassNotFound:\n                pass\n\n        if lexer:\n            if lexer.aliases:\n                lexer_name = lexer.aliases[0]\n            else:\n                lexer_name = lexer.name\n\n        return lexer_name",
    "start_line": 364
  },
  {
    "file": "syntax.py",
    "type": "method",
    "class": "Syntax",
    "method": "_get_base_style",
    "name": "_get_base_style",
    "content": "class Syntax:\n    def _get_base_style(self) -> Style:\n        \"\"\"Get the base style.\"\"\"\n        default_style = self._theme.get_background_style() + self.background_style\n        return default_style",
    "start_line": 405
  },
  {
    "file": "syntax.py",
    "type": "method",
    "class": "Syntax",
    "method": "_get_token_color",
    "name": "_get_token_color",
    "content": "class Syntax:\n    def _get_token_color(self, token_type: TokenType) -> Optional[Color]:\n        \"\"\"Get a color (if any) for the given token.\n\n        Args:\n            token_type (TokenType): A token type tuple from Pygments.\n\n        Returns:\n            Optional[Color]: Color from theme, or None for no color.\n        \"\"\"\n        style = self._theme.get_style_for_token(token_type)\n        return style.color\n\n    @property",
    "start_line": 410
  },
  {
    "file": "syntax.py",
    "type": "method",
    "class": "Syntax",
    "method": "lexer",
    "name": "lexer",
    "content": "class Syntax:\n    def lexer(self) -> Optional[Lexer]:\n        \"\"\"The lexer for this syntax, or None if no lexer was found.\n\n        Tries to find the lexer by name if a string was passed to the constructor.\n        \"\"\"\n\n        if isinstance(self._lexer, Lexer):\n            return self._lexer\n        try:\n            return get_lexer_by_name(\n                self._lexer,\n                stripnl=False,\n                ensurenl=True,\n                tabsize=self.tab_size,\n            )\n        except ClassNotFound:\n            return None\n\n    @property",
    "start_line": 423
  },
  {
    "file": "syntax.py",
    "type": "method",
    "class": "Syntax",
    "method": "default_lexer",
    "name": "default_lexer",
    "content": "class Syntax:\n    def default_lexer(self) -> Lexer:\n        \"\"\"A Pygments Lexer to use if one is not specified or invalid.\"\"\"\n        return get_lexer_by_name(\n            \"text\",\n            stripnl=False,\n            ensurenl=True,\n            tabsize=self.tab_size,\n        )",
    "start_line": 442
  },
  {
    "file": "syntax.py",
    "type": "method",
    "class": "Syntax",
    "method": "highlight",
    "name": "highlight",
    "content": "class Syntax:\n    def highlight(\n        self,\n        code: str,\n        line_range: Optional[Tuple[Optional[int], Optional[int]]] = None,\n    ) -> Text:\n        \"\"\"Highlight code and return a Text instance.\n\n        Args:\n            code (str): Code to highlight.\n            line_range(Tuple[int, int], optional): Optional line range to highlight.\n\n        Returns:\n            Text: A text instance containing highlighted syntax.\n        \"\"\"\n\n        base_style = self._get_base_style()\n        justify: JustifyMethod = (\n            \"default\" if base_style.transparent_background else \"left\"\n        )\n\n        text = Text(\n            justify=justify,\n            style=base_style,\n            tab_size=self.tab_size,\n            no_wrap=not self.word_wrap,\n        )\n        _get_theme_style = self._theme.get_style_for_token\n\n        lexer = self.lexer or self.default_lexer\n\n        if lexer is None:\n            text.append(code)\n        else:\n            if line_range:",
    "start_line": 451
  },
  {
    "file": "syntax.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# More complicated path to only stylize a portion of the code\n                # This speeds up further operations as there are less spans to process\n                line_start, line_end = line_range",
    "start_line": 485
  },
  {
    "file": "syntax.py",
    "type": "method",
    "class": "Syntax",
    "method": "line_tokenize",
    "name": "line_tokenize",
    "content": "class Syntax:\n                def line_tokenize() -> Iterable[Tuple[Any, str]]:\n                    \"\"\"Split tokens to one per line.\"\"\"\n                    assert lexer  # required to make MyPy happy - we know lexer is not None at this point\n\n                    for token_type, token in lexer.get_tokens(code):\n                        while token:\n                            line_token, new_line, token = token.partition(\"\\n\")\n                            yield token_type, line_token + new_line",
    "start_line": 489
  },
  {
    "file": "syntax.py",
    "type": "method",
    "class": "Syntax",
    "method": "tokens_to_spans",
    "name": "tokens_to_spans",
    "content": "class Syntax:\n                def tokens_to_spans() -> Iterable[Tuple[str, Optional[Style]]]:\n                    \"\"\"Convert tokens to spans.\"\"\"\n                    tokens = iter(line_tokenize())\n                    line_no = 0\n                    _line_start = line_start - 1 if line_start else 0",
    "start_line": 498
  },
  {
    "file": "syntax.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# Skip over tokens until line start\n                    while line_no < _line_start:\n                        try:\n                            _token_type, token = next(tokens)\n                        except StopIteration:\n                            break\n                        yield (token, None)\n                        if token.endswith(\"\\n\"):\n                            line_no += 1\n                    # Generate spans until line end\n                    for token_type, token in tokens:\n                        yield (token, _get_theme_style(token_type))\n                        if token.endswith(\"\\n\"):\n                            line_no += 1\n                            if line_end and line_no >= line_end:\n                                break\n                text.append_tokens(tokens_to_spans())\n            else:\n                text.append_tokens(\n                    (token, _get_theme_style(token_type))\n                    for token_type, token in lexer.get_tokens(code)\n                )\n            if self.background_color is not None:\n                text.stylize(f\"on {self.background_color}\")\n        if self._stylized_ranges:\n            self._apply_stylized_ranges(text)\n        return text",
    "start_line": 504
  },
  {
    "file": "syntax.py",
    "type": "method",
    "class": "Syntax",
    "method": "stylize_range",
    "name": "stylize_range",
    "content": "class Syntax:\n    def stylize_range(\n        self,\n        style: StyleType,\n        start: SyntaxPosition,\n        end: SyntaxPosition,\n        style_before: bool = False,\n    ) -> None:\n        \"\"\"\n        Adds a custom style on a part of the code, that will be applied to the syntax display when it's rendered.\n        Line numbers are 1-based, while column indexes are 0-based.\n\n        Args:\n            style (StyleType): The style to apply.\n            start (Tuple[int, int]): The start of the range, in the form `[line number, column index]`.\n            end (Tuple[int, int]): The end of the range, in the form `[line number, column index]`.\n            style_before (bool): Apply the style before any existing styles.\n        \"\"\"\n        self._stylized_ranges.append(\n            _SyntaxHighlightRange(style, start, end, style_before)\n        )",
    "start_line": 536
  },
  {
    "file": "syntax.py",
    "type": "method",
    "class": "Syntax",
    "method": "_get_line_numbers_color",
    "name": "_get_line_numbers_color",
    "content": "class Syntax:\n    def _get_line_numbers_color(self, blend: float = 0.3) -> Color:\n        background_style = self._theme.get_background_style() + self.background_style\n        background_color = background_style.bgcolor\n        if background_color is None or background_color.is_system_defined:\n            return Color.default()\n        foreground_color = self._get_token_color(Token.Text)\n        if foreground_color is None or foreground_color.is_system_defined:\n            return foreground_color or Color.default()\n        new_color = blend_rgb(\n            background_color.get_truecolor(),\n            foreground_color.get_truecolor(),\n            cross_fade=blend,\n        )\n        return Color.from_triplet(new_color)\n\n    @property",
    "start_line": 557
  },
  {
    "file": "syntax.py",
    "type": "method",
    "class": "Syntax",
    "method": "_numbers_column_width",
    "name": "_numbers_column_width",
    "content": "class Syntax:\n    def _numbers_column_width(self) -> int:\n        \"\"\"Get the number of characters used to render the numbers column.\"\"\"\n        column_width = 0\n        if self.line_numbers:\n            column_width = (\n                len(str(self.start_line + self.code.count(\"\\n\")))\n                + NUMBERS_COLUMN_DEFAULT_PADDING\n            )\n        return column_width",
    "start_line": 573
  },
  {
    "file": "syntax.py",
    "type": "method",
    "class": "Syntax",
    "method": "_get_number_styles",
    "name": "_get_number_styles",
    "content": "class Syntax:\n    def _get_number_styles(self, console: Console) -> Tuple[Style, Style, Style]:\n        \"\"\"Get background, number, and highlight styles for line numbers.\"\"\"\n        background_style = self._get_base_style()\n        if background_style.transparent_background:\n            return Style.null(), Style(dim=True), Style.null()\n        if console.color_system in (\"256\", \"truecolor\"):\n            number_style = Style.chain(\n                background_style,\n                self._theme.get_style_for_token(Token.Text),\n                Style(color=self._get_line_numbers_color()),\n                self.background_style,\n            )\n            highlight_number_style = Style.chain(\n                background_style,\n                self._theme.get_style_for_token(Token.Text),\n                Style(bold=True, color=self._get_line_numbers_color(0.9)),\n                self.background_style,\n            )\n        else:\n            number_style = background_style + Style(dim=True)\n            highlight_number_style = background_style + Style(dim=False)\n        return background_style, number_style, highlight_number_style",
    "start_line": 583
  },
  {
    "file": "syntax.py",
    "type": "method",
    "class": "Syntax",
    "method": "__rich_measure__",
    "name": "__rich_measure__",
    "content": "class Syntax:\n    def __rich_measure__(\n        self, console: \"Console\", options: \"ConsoleOptions\"\n    ) -> \"Measurement\":\n        _, right, _, left = Padding.unpack(self.padding)\n        padding = left + right\n        if self.code_width is not None:\n            width = self.code_width + self._numbers_column_width + padding + 1\n            return Measurement(self._numbers_column_width, width)\n        lines = self.code.splitlines()\n        width = (\n            self._numbers_column_width\n            + padding\n            + (max(cell_len(line) for line in lines) if lines else 0)\n        )\n        if self.line_numbers:\n            width += 1\n        return Measurement(self._numbers_column_width, width)",
    "start_line": 606
  },
  {
    "file": "syntax.py",
    "type": "method",
    "class": "Syntax",
    "method": "__rich_console__",
    "name": "__rich_console__",
    "content": "class Syntax:\n    def __rich_console__(\n        self, console: Console, options: ConsoleOptions\n    ) -> RenderResult:\n        segments = Segments(self._get_syntax(console, options))\n        if self.padding:\n            yield Padding(segments, style=self._get_base_style(), pad=self.padding)\n        else:\n            yield segments",
    "start_line": 624
  },
  {
    "file": "syntax.py",
    "type": "method",
    "class": "Syntax",
    "method": "_get_syntax",
    "name": "_get_syntax",
    "content": "class Syntax:\n    def _get_syntax(\n        self,\n        console: Console,\n        options: ConsoleOptions,\n    ) -> Iterable[Segment]:\n        \"\"\"\n        Get the Segments for the Syntax object, excluding any vertical/horizontal padding\n        \"\"\"\n        transparent_background = self._get_base_style().transparent_background\n        code_width = (\n            (\n                (options.max_width - self._numbers_column_width - 1)\n                if self.line_numbers\n                else options.max_width\n            )\n            if self.code_width is None\n            else self.code_width\n        )\n\n        ends_on_nl, processed_code = self._process_code(self.code)\n        text = self.highlight(processed_code, self.line_range)\n\n        if not self.line_numbers and not self.word_wrap and not self.line_range:\n            if not ends_on_nl:\n                text.remove_suffix(\"\\n\")",
    "start_line": 633
  },
  {
    "file": "syntax.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# Simple case of just rendering text\n            style = (\n                self._get_base_style()\n                + self._theme.get_style_for_token(Comment)\n                + Style(dim=True)\n                + self.background_style\n            )\n            if self.indent_guides and not options.ascii_only:\n                text = text.with_indent_guides(self.tab_size, style=style)\n                text.overflow = \"crop\"\n            if style.transparent_background:\n                yield from console.render(\n                    text, options=options.update(width=code_width)\n                )\n            else:\n                syntax_lines = console.render_lines(\n                    text,\n                    options.update(width=code_width, height=None, justify=\"left\"),\n                    style=self.background_style,\n                    pad=True,\n                    new_lines=True,\n                )\n                for syntax_line in syntax_lines:\n                    yield from syntax_line\n            return\n        start_line, end_line = self.line_range or (None, None)\n        line_offset = 0\n        if start_line:\n            line_offset = max(0, start_line - 1)\n        lines: Union[List[Text], Lines] = text.split(\"\\n\", allow_blank=ends_on_nl)\n        if self.line_range:\n            if line_offset > len(lines):\n                return\n            lines = lines[line_offset:end_line]\n        if self.indent_guides and not options.ascii_only:\n            style = (\n                self._get_base_style()\n                + self._theme.get_style_for_token(Comment)\n                + Style(dim=True)\n                + self.background_style\n            )\n            lines = (\n                Text(\"\\n\")\n                .join(lines)\n                .with_indent_guides(self.tab_size, style=style + Style(italic=False))\n                .split(\"\\n\", allow_blank=True)\n            )\n        numbers_column_width = self._numbers_column_width\n        render_options = options.update(width=code_width)\n        highlight_line = self.highlight_lines.__contains__\n        _Segment = Segment\n        new_line = _Segment(\"\\n\")\n        line_pointer = \"> \" if options.legacy_windows else \" \"\n        (\n            background_style,\n            number_style,\n            highlight_number_style,\n        ) = self._get_number_styles(console)\n        for line_no, line in enumerate(lines, self.start_line + line_offset):\n            if self.word_wrap:\n                wrapped_lines = console.render_lines(\n                    line,\n                    render_options.update(height=None, justify=\"left\"),\n                    style=background_style,\n                    pad=not transparent_background,\n                )\n            else:\n                segments = list(line.render(console, end=\"\"))\n                if options.no_wrap:\n                    wrapped_lines = [segments]\n                else:\n                    wrapped_lines = [\n                        _Segment.adjust_line_length(\n                            segments,\n                            render_options.max_width,\n                            style=background_style,\n                            pad=not transparent_background,\n                        )\n                    ]\n            if self.line_numbers:\n                wrapped_line_left_pad = _Segment(\n                    \" \" * numbers_column_width + \" \", background_style\n                )\n                for first, wrapped_line in loop_first(wrapped_lines):\n                    if first:\n                        line_column = str(line_no).rjust(numbers_column_width - 2) + \" \"\n                        if highlight_line(line_no):\n                            yield _Segment(line_pointer, Style(color=\"red\"))\n                            yield _Segment(line_column, highlight_number_style)\n                        else:\n                            yield _Segment(\"  \", highlight_number_style)\n                            yield _Segment(line_column, number_style)\n                    else:\n                        yield wrapped_line_left_pad\n                    yield from wrapped_line\n                    yield new_line\n            else:\n                for wrapped_line in wrapped_lines:\n                    yield from wrapped_line\n                    yield new_line",
    "start_line": 658
  },
  {
    "file": "syntax.py",
    "type": "method",
    "class": "Syntax",
    "method": "_apply_stylized_ranges",
    "name": "_apply_stylized_ranges",
    "content": "class Syntax:\n    def _apply_stylized_ranges(self, text: Text) -> None:\n        \"\"\"\n        Apply stylized ranges to a text instance,\n        using the given code to determine the right portion to apply the style to.\n\n        Args:\n            text (Text): Text instance to apply the style to.\n        \"\"\"\n        code = text.plain\n        newlines_offsets = [",
    "start_line": 767
  },
  {
    "file": "syntax.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# Let's add outer boundaries at each side of the list:\n            0,\n            # N.B. using \"\\n\" here is much faster than using metacharacters such as \"^\" or \"\\Z\":\n            *[\n                match.start() + 1\n                for match in re.finditer(\"\\n\", code, flags=re.MULTILINE)\n            ],\n            len(code) + 1,\n        ]\n        for stylized_range in self._stylized_ranges:\n            start = _get_code_index_for_syntax_position(\n                newlines_offsets, stylized_range.start\n            )\n            end = _get_code_index_for_syntax_position(\n                newlines_offsets, stylized_range.end\n            )\n            if start is not None and end is not None:\n                if stylized_range.style_before:\n                    text.stylize_before(stylized_range.style, start, end)\n                else:\n                    text.stylize(stylized_range.style, start, end)",
    "start_line": 777
  },
  {
    "file": "syntax.py",
    "type": "method",
    "class": "Syntax",
    "method": "_process_code",
    "name": "_process_code",
    "content": "class Syntax:\n    def _process_code(self, code: str) -> Tuple[bool, str]:\n        \"\"\"\n        Applies various processing to a raw code string\n        (normalises it so it always ends with a line return, dedents it if necessary, etc.)\n\n        Args:\n            code (str): The raw code string to process\n\n        Returns:\n            Tuple[bool, str]: the boolean indicates whether the raw code ends with a line return,\n                while the string is the processed code.\n        \"\"\"\n        ends_on_nl = code.endswith(\"\\n\")\n        processed_code = code if ends_on_nl else code + \"\\n\"\n        processed_code = (\n            textwrap.dedent(processed_code) if self.dedent else processed_code\n        )\n        processed_code = processed_code.expandtabs(self.tab_size)\n        return ends_on_nl, processed_code",
    "start_line": 800
  },
  {
    "file": "syntax.py",
    "type": "function",
    "class": null,
    "method": "_get_code_index_for_syntax_position",
    "name": "_get_code_index_for_syntax_position",
    "content": "def _get_code_index_for_syntax_position(\n    newlines_offsets: Sequence[int], position: SyntaxPosition\n) -> Optional[int]:\n    \"\"\"\n    Returns the index of the code string for the given positions.\n\n    Args:\n        newlines_offsets (Sequence[int]): The offset of each newline character found in the code snippet.\n        position (SyntaxPosition): The position to search for.\n\n    Returns:\n        Optional[int]: The index of the code string for this position, or `None`\n            if the given position's line number is out of range (if it's the column that is out of range\n            we silently clamp its value so that it reaches the end of the line)\n    \"\"\"",
    "start_line": 821
  },
  {
    "file": "syntax.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "lines_count = len(newlines_offsets)\n    line_number, column_index = position\n    if line_number > lines_count or len(newlines_offsets) < (line_number + 1):\n        return None  # `line_number` is out of range\n    line_index = line_number - 1\n    line_length = newlines_offsets[line_index + 1] - newlines_offsets[line_index] - 1",
    "start_line": 836
  },
  {
    "file": "syntax.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# If `column_index` is out of range: let's silently clamp it:",
    "start_line": 843
  },
  {
    "file": "syntax.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "column_index = min(line_length, column_index)\n    return newlines_offsets[line_index] + column_index\nif __name__ == \"__main__\":  # pragma: no cover",
    "start_line": 844
  },
  {
    "file": "syntax.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "import argparse\n    import sys",
    "start_line": 849
  },
  {
    "file": "syntax.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "parser = argparse.ArgumentParser(\n        description=\"Render syntax to the console with Rich\"\n    )\n    parser.add_argument(\n        \"path\",\n        metavar=\"PATH\",\n        help=\"path to file, or - for stdin\",\n    )\n    parser.add_argument(\n        \"-c\",\n        \"--force-color\",\n        dest=\"force_color\",\n        action=\"store_true\",\n        default=None,\n        help=\"force color for non-terminals\",\n    )\n    parser.add_argument(\n        \"-i\",\n        \"--indent-guides\",\n        dest=\"indent_guides\",\n        action=\"store_true\",\n        default=False,\n        help=\"display indent guides\",\n    )\n    parser.add_argument(\n        \"-l\",\n        \"--line-numbers\",\n        dest=\"line_numbers\",\n        action=\"store_true\",\n        help=\"render line numbers\",\n    )\n    parser.add_argument(\n        \"-w\",\n        \"--width\",\n        type=int,\n        dest=\"width\",\n        default=None,\n        help=\"width of output (default will auto-detect)\",\n    )\n    parser.add_argument(\n        \"-r\",\n        \"--wrap\",\n        dest=\"word_wrap\",\n        action=\"store_true\",\n        default=False,\n        help=\"word wrap long lines\",\n    )\n    parser.add_argument(\n        \"-s\",\n        \"--soft-wrap\",\n        action=\"store_true\",\n        dest=\"soft_wrap\",\n        default=False,\n        help=\"enable soft wrapping mode\",\n    )\n    parser.add_argument(\n        \"-t\", \"--theme\", dest=\"theme\", default=\"monokai\", help=\"pygments theme\"\n    )\n    parser.add_argument(\n        \"-b\",\n        \"--background-color\",\n        dest=\"background_color\",\n        default=None,\n        help=\"Override background color\",\n    )\n    parser.add_argument(\n        \"-x\",\n        \"--lexer\",\n        default=None,\n        dest=\"lexer_name\",\n        help=\"Lexer name\",\n    )\n    parser.add_argument(\n        \"-p\", \"--padding\", type=int, default=0, dest=\"padding\", help=\"Padding\"\n    )\n    parser.add_argument(\n        \"--highlight-line\",\n        type=int,\n        default=None,\n        dest=\"highlight_line\",\n        help=\"The line number (not index!) to highlight\",\n    )\n    args = parser.parse_args()",
    "start_line": 852
  },
  {
    "file": "syntax.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from rich.console import Console",
    "start_line": 936
  },
  {
    "file": "syntax.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(force_terminal=args.force_color, width=args.width)\n    if args.path == \"-\":\n        code = sys.stdin.read()\n        syntax = Syntax(\n            code=code,\n            lexer=args.lexer_name,\n            line_numbers=args.line_numbers,\n            word_wrap=args.word_wrap,\n            theme=args.theme,\n            background_color=args.background_color,\n            indent_guides=args.indent_guides,\n            padding=args.padding,\n            highlight_lines={args.highlight_line},\n        )\n    else:\n        syntax = Syntax.from_path(\n            args.path,\n            lexer=args.lexer_name,\n            line_numbers=args.line_numbers,\n            word_wrap=args.word_wrap,\n            theme=args.theme,\n            background_color=args.background_color,\n            indent_guides=args.indent_guides,\n            padding=args.padding,\n            highlight_lines={args.highlight_line},\n        )\n    console.print(syntax, soft_wrap=args.soft_wrap)",
    "start_line": 938
  },
  {
    "file": "syntax.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "import os.path\nimport re\nimport sys\nimport textwrap\nfrom abc import ABC, abstractmethod\nfrom pathlib import Path\nfrom typing import (\n    Any,\n    Dict,\n    Iterable,\n    List,\n    NamedTuple,\n    Optional,\n    Sequence,\n    Set,\n    Tuple,\n    Type,\n    Union,\n)\n\nfrom pygments.lexer import Lexer\nfrom pygments.lexers import get_lexer_by_name, guess_lexer_for_filename\nfrom pygments.style import Style as PygmentsStyle\nfrom pygments.styles import get_style_by_name\nfrom pygments.token import (\n    Comment,\n    Error,\n    Generic,\n    Keyword,\n    Name,\n    Number,\n    Operator,\n    String,\n    Token,\n    Whitespace,\n)\nfrom pygments.util import ClassNotFound\n\nfrom rich.containers import Lines\nfrom rich.padding import Padding, PaddingDimensions\n\nfrom ._loop import loop_first\nfrom .cells import cell_len\nfrom .color import Color, blend_rgb\nfrom .console import Console, ConsoleOptions, JustifyMethod, RenderResult\nfrom .jupyter import JupyterMixin\nfrom .measure import Measurement\nfrom .segment import Segment, Segments\nfrom .style import Style, StyleType\nfrom .text import Text\n\nTokenType = Tuple[str, ...]\n\nWINDOWS = sys.platform == \"win32\"\nDEFAULT_THEME = \"monokai\"\n\n# The following styles are based on https://github.com/pygments/pygments/blob/master/pygments/formatters/terminal.py\n# A few modifications were made\n\nANSI_LIGHT: Dict[TokenType, Style] = {\n    Token: Style(),\n    Whitespace: Style(color=\"white\"),\n    Comment: Style(dim=True),\n    Comment.Preproc: Style(color=\"cyan\"),\n    Keyword: Style(color=\"blue\"),\n    Keyword.Type: Style(color=\"cyan\"),\n    Operator.Word: Style(color=\"magenta\"),\n    Name.Builtin: Style(color=\"cyan\"),\n    Name.Function: Style(color=\"green\"),\n    Name.Namespace: Style(color=\"cyan\", underline=True),\n    Name.Class: Style(color=\"green\", underline=True),\n    Name.Exception: Style(color=\"cyan\"),\n    Name.Decorator: Style(color=\"magenta\", bold=True),\n    Name.Variable: Style(color=\"red\"),\n    Name.Constant: Style(color=\"red\"),\n    Name.Attribute: Style(color=\"cyan\"),\n    Name.Tag: Style(color=\"bright_blue\"),\n    String: Style(color=\"yellow\"),\n    Number: Style(color=\"blue\"),\n    Generic.Deleted: Style(color=\"bright_red\"),\n    Generic.Inserted: Style(color=\"green\"),\n    Generic.Heading: Style(bold=True),\n    Generic.Subheading: Style(color=\"magenta\", bold=True),\n    Generic.Prompt: Style(bold=True),\n    Generic.Error: Style(color=\"bright_red\"),\n    Error: Style(color=\"red\", underline=True),\n}\n\nANSI_DARK: Dict[TokenType, Style] = {\n    Token: Style(),\n    Whitespace: Style(color=\"bright_black\"),\n    Comment: Style(dim=True),\n    Comment.Preproc: Style(color=\"bright_cyan\"),\n    Keyword: Style(color=\"bright_blue\"),\n    Keyword.Type: Style(color=\"bright_cyan\"),\n    Operator.Word: Style(color=\"bright_magenta\"),\n    Name.Builtin: Style(color=\"bright_cyan\"),\n    Name.Function: Style(color=\"bright_green\"),\n    Name.Namespace: Style(color=\"bright_cyan\", underline=True),\n    Name.Class: Style(color=\"bright_green\", underline=True),\n    Name.Exception: Style(color=\"bright_cyan\"),\n    Name.Decorator: Style(color=\"bright_magenta\", bold=True),\n    Name.Variable: Style(color=\"bright_red\"),\n    Name.Constant: Style(color=\"bright_red\"),\n    Name.Attribute: Style(color=\"bright_cyan\"),\n    Name.Tag: Style(color=\"bright_blue\"),\n    String: Style(color=\"yellow\"),\n    Number: Style(color=\"bright_blue\"),\n    Generic.Deleted: Style(color=\"bright_red\"),\n    Generic.Inserted: Style(color=\"bright_green\"),\n    Generic.Heading: Style(bold=True),\n    Generic.Subheading: Style(color=\"bright_magenta\", bold=True),\n    Generic.Prompt: Style(bold=True),\n    Generic.Error: Style(color=\"bright_red\"),\n    Error: Style(color=\"red\", underline=True),\n}\n\nRICH_SYNTAX_THEMES = {\"ansi_light\": ANSI_LIGHT, \"ansi_dark\": ANSI_DARK}\nNUMBERS_COLUMN_DEFAULT_PADDING = 2\n\n\nclass SyntaxTheme(ABC):\n    \"\"\"Base class for a syntax theme.\"\"\"\n\n    @abstractmethod\n    def get_style_for_token(self, token_type: TokenType) -> Style:\n        \"\"\"Get a style for a given Pygments token.\"\"\"\n        raise NotImplementedError  # pragma: no cover\n\n    @abstractmethod\n    def get_background_style(self) -> Style:\n        \"\"\"Get the background color.\"\"\"\n        raise NotImplementedError  # pragma: no cover\n\n\nclass PygmentsSyntaxTheme(SyntaxTheme):\n    \"\"\"Syntax theme that delegates to Pygments theme.\"\"\"\n\n    def __init__(self, theme: Union[str, Type[PygmentsStyle]]) -> None:\n        self._style_cache: Dict[TokenType, Style] = {}\n        if isinstance(theme, str):\n            try:\n                self._pygments_style_class = get_style_by_name(theme)\n            except ClassNotFound:\n                self._pygments_style_class = get_style_by_name(\"default\")\n        else:\n            self._pygments_style_class = theme\n\n        self._background_color = self._pygments_style_class.background_color\n        self._background_style = Style(bgcolor=self._background_color)\n\n    def get_style_for_token(self, token_type: TokenType) -> Style:\n        \"\"\"Get a style from a Pygments class.\"\"\"\n        try:\n            return self._style_cache[token_type]\n        except KeyError:\n            try:\n                pygments_style = self._pygments_style_class.style_for_token(token_type)\n            except KeyError:\n                style = Style.null()\n            else:\n                color = pygments_style[\"color\"]\n                bgcolor = pygments_style[\"bgcolor\"]\n                style = Style(\n                    color=\"#\" + color if color else \"#000000\",\n                    bgcolor=\"#\" + bgcolor if bgcolor else self._background_color,\n                    bold=pygments_style[\"bold\"],\n                    italic=pygments_style[\"italic\"],\n                    underline=pygments_style[\"underline\"],\n                )\n            self._style_cache[token_type] = style\n        return style\n\n    def get_background_style(self) -> Style:\n        return self._background_style\n\n\nclass ANSISyntaxTheme(SyntaxTheme):\n    \"\"\"Syntax theme to use standard colors.\"\"\"\n\n    def __init__(self, style_map: Dict[TokenType, Style]) -> None:\n        self.style_map = style_map\n        self._missing_style = Style.null()\n        self._background_style = Style.null()\n        self._style_cache: Dict[TokenType, Style] = {}\n\n    def get_style_for_token(self, token_type: TokenType) -> Style:\n        \"\"\"Look up style in the style map.\"\"\"\n        try:\n            return self._style_cache[token_type]\n        except KeyError:\n            # Styles form a hierarchy\n            # We need to go from most to least specific\n            # e.g. (\"foo\", \"bar\", \"baz\") to (\"foo\", \"bar\")  to (\"foo\",)\n            get_style = self.style_map.get\n            token = tuple(token_type)\n            style = self._missing_style\n            while token:\n                _style = get_style(token)\n                if _style is not None:\n                    style = _style\n                    break\n                token = token[:-1]\n            self._style_cache[token_type] = style\n            return style\n\n    def get_background_style(self) -> Style:\n        return self._background_style\n\n\nSyntaxPosition = Tuple[int, int]\n\n\nclass _SyntaxHighlightRange(NamedTuple):\n    \"\"\"\n    A range to highlight in a Syntax object.\n    `start` and `end` are 2-integers tuples, where the first integer is the line number\n    (starting from 1) and the second integer is the column index (starting from 0).\n    \"\"\"\n\n    style: StyleType\n    start: SyntaxPosition\n    end: SyntaxPosition\n    style_before: bool = False\n\n\nclass Syntax(JupyterMixin):\n    \"\"\"Construct a Syntax object to render syntax highlighted code.\n\n    Args:\n        code (str): Code to highlight.\n        lexer (Lexer | str): Lexer to use (see https://pygments.org/docs/lexers/)\n        theme (str, optional): Color theme, aka Pygments style (see https://pygments.org/docs/styles/#getting-a-list-of-available-styles). Defaults to \"monokai\".\n        dedent (bool, optional): Enable stripping of initial whitespace. Defaults to False.\n        line_numbers (bool, optional): Enable rendering of line numbers. Defaults to False.\n        start_line (int, optional): Starting number for line numbers. Defaults to 1.\n        line_range (Tuple[int | None, int | None], optional): If given should be a tuple of the start and end line to render.\n            A value of None in the tuple indicates the range is open in that direction.\n        highlight_lines (Set[int]): A set of line numbers to highlight.\n        code_width: Width of code to render (not including line numbers), or ``None`` to use all available width.\n        tab_size (int, optional): Size of tabs. Defaults to 4.\n        word_wrap (bool, optional): Enable word wrapping.\n        background_color (str, optional): Optional background color, or None to use theme color. Defaults to None.\n        indent_guides (bool, optional): Show indent guides. Defaults to False.\n        padding (PaddingDimensions): Padding to apply around the syntax. Defaults to 0 (no padding).\n    \"\"\"\n\n    _pygments_style_class: Type[PygmentsStyle]\n    _theme: SyntaxTheme\n\n    @classmethod\n    def get_theme(cls, name: Union[str, SyntaxTheme]) -> SyntaxTheme:\n        \"\"\"Get a syntax theme instance.\"\"\"\n        if isinstance(name, SyntaxTheme):\n            return name\n        theme: SyntaxTheme\n        if name in RICH_SYNTAX_THEMES:\n            theme = ANSISyntaxTheme(RICH_SYNTAX_THEMES[name])\n        else:\n            theme = PygmentsSyntaxTheme(name)\n        return theme\n\n    def __init__(\n        self,\n        code: str,\n        lexer: Union[Lexer, str],\n        *,\n        theme: Union[str, SyntaxTheme] = DEFAULT_THEME,\n        dedent: bool = False,\n        line_numbers: bool = False,\n        start_line: int = 1,\n        line_range: Optional[Tuple[Optional[int], Optional[int]]] = None,\n        highlight_lines: Optional[Set[int]] = None,\n        code_width: Optional[int] = None,\n        tab_size: int = 4,\n        word_wrap: bool = False,\n        background_color: Optional[str] = None,\n        indent_guides: bool = False,\n        padding: PaddingDimensions = 0,\n    ) -> None:\n        self.code = code\n        self._lexer = lexer\n        self.dedent = dedent\n        self.line_numbers = line_numbers\n        self.start_line = start_line\n        self.line_range = line_range\n        self.highlight_lines = highlight_lines or set()\n        self.code_width = code_width\n        self.tab_size = tab_size\n        self.word_wrap = word_wrap\n        self.background_color = background_color\n        self.background_style = (\n            Style(bgcolor=background_color) if background_color else Style()\n        )\n        self.indent_guides = indent_guides\n        self.padding = padding\n\n        self._theme = self.get_theme(theme)\n        self._stylized_ranges: List[_SyntaxHighlightRange] = []\n\n    @classmethod\n    def from_path(\n        cls,\n        path: str,\n        encoding: str = \"utf-8\",\n        lexer: Optional[Union[Lexer, str]] = None,\n        theme: Union[str, SyntaxTheme] = DEFAULT_THEME,\n        dedent: bool = False,\n        line_numbers: bool = False,\n        line_range: Optional[Tuple[int, int]] = None,\n        start_line: int = 1,\n        highlight_lines: Optional[Set[int]] = None,\n        code_width: Optional[int] = None,\n        tab_size: int = 4,\n        word_wrap: bool = False,\n        background_color: Optional[str] = None,\n        indent_guides: bool = False,\n        padding: PaddingDimensions = 0,\n    ) -> \"Syntax\":\n        \"\"\"Construct a Syntax object from a file.\n\n        Args:\n            path (str): Path to file to highlight.\n            encoding (str): Encoding of file.\n            lexer (str | Lexer, optional): Lexer to use. If None, lexer will be auto-detected from path/file content.\n            theme (str, optional): Color theme, aka Pygments style (see https://pygments.org/docs/styles/#getting-a-list-of-available-styles). Defaults to \"emacs\".\n            dedent (bool, optional): Enable stripping of initial whitespace. Defaults to True.\n            line_numbers (bool, optional): Enable rendering of line numbers. Defaults to False.\n            start_line (int, optional): Starting number for line numbers. Defaults to 1.\n            line_range (Tuple[int, int], optional): If given should be a tuple of the start and end line to render.\n            highlight_lines (Set[int]): A set of line numbers to highlight.\n            code_width: Width of code to render (not including line numbers), or ``None`` to use all available width.\n            tab_size (int, optional): Size of tabs. Defaults to 4.\n            word_wrap (bool, optional): Enable word wrapping of code.\n            background_color (str, optional): Optional background color, or None to use theme color. Defaults to None.\n            indent_guides (bool, optional): Show indent guides. Defaults to False.\n            padding (PaddingDimensions): Padding to apply around the syntax. Defaults to 0 (no padding).\n\n        Returns:\n            [Syntax]: A Syntax object that may be printed to the console\n        \"\"\"\n        code = Path(path).read_text(encoding=encoding)\n\n        if not lexer:\n            lexer = cls.guess_lexer(path, code=code)\n\n        return cls(\n            code,\n            lexer,\n            theme=theme,\n            dedent=dedent,\n            line_numbers=line_numbers,\n            line_range=line_range,\n            start_line=start_line,\n            highlight_lines=highlight_lines,\n            code_width=code_width,\n            tab_size=tab_size,\n            word_wrap=word_wrap,\n            background_color=background_color,\n            indent_guides=indent_guides,\n            padding=padding,\n        )\n\n    @classmethod\n    def guess_lexer(cls, path: str, code: Optional[str] = None) -> str:\n        \"\"\"Guess the alias of the Pygments lexer to use based on a path and an optional string of code.\n        If code is supplied, it will use a combination of the code and the filename to determine the\n        best lexer to use. For example, if the file is ``index.html`` and the file contains Django\n        templating syntax, then \"html+django\" will be returned. If the file is ``index.html``, and no\n        templating language is used, the \"html\" lexer will be used. If no string of code\n        is supplied, the lexer will be chosen based on the file extension..\n\n        Args:\n             path (AnyStr): The path to the file containing the code you wish to know the lexer for.\n             code (str, optional): Optional string of code that will be used as a fallback if no lexer\n                is found for the supplied path.\n\n        Returns:\n            str: The name of the Pygments lexer that best matches the supplied path/code.\n        \"\"\"\n        lexer: Optional[Lexer] = None\n        lexer_name = \"default\"\n        if code:\n            try:\n                lexer = guess_lexer_for_filename(path, code)\n            except ClassNotFound:\n                pass\n\n        if not lexer:\n            try:\n                _, ext = os.path.splitext(path)\n                if ext:\n                    extension = ext.lstrip(\".\").lower()\n                    lexer = get_lexer_by_name(extension)\n            except ClassNotFound:\n                pass\n\n        if lexer:\n            if lexer.aliases:\n                lexer_name = lexer.aliases[0]\n            else:\n                lexer_name = lexer.name\n\n        return lexer_name\n\n    def _get_base_style(self) -> Style:\n        \"\"\"Get the base style.\"\"\"\n        default_style = self._theme.get_background_style() + self.background_style\n        return default_style\n\n    def _get_token_color(self, token_type: TokenType) -> Optional[Color]:\n        \"\"\"Get a color (if any) for the given token.\n\n        Args:\n            token_type (TokenType): A token type tuple from Pygments.\n\n        Returns:\n            Optional[Color]: Color from theme, or None for no color.\n        \"\"\"\n        style = self._theme.get_style_for_token(token_type)\n        return style.color\n\n    @property\n    def lexer(self) -> Optional[Lexer]:\n        \"\"\"The lexer for this syntax, or None if no lexer was found.\n\n        Tries to find the lexer by name if a string was passed to the constructor.\n        \"\"\"\n\n        if isinstance(self._lexer, Lexer):\n            return self._lexer\n        try:\n            return get_lexer_by_name(\n                self._lexer,\n                stripnl=False,\n                ensurenl=True,\n                tabsize=self.tab_size,\n            )\n        except ClassNotFound:\n            return None\n\n    @property\n    def default_lexer(self) -> Lexer:\n        \"\"\"A Pygments Lexer to use if one is not specified or invalid.\"\"\"\n        return get_lexer_by_name(\n            \"text\",\n            stripnl=False,\n            ensurenl=True,\n            tabsize=self.tab_size,\n        )\n\n    def highlight(\n        self,\n        code: str,\n        line_range: Optional[Tuple[Optional[int], Optional[int]]] = None,\n    ) -> Text:\n        \"\"\"Highlight code and return a Text instance.\n\n        Args:\n            code (str): Code to highlight.\n            line_range(Tuple[int, int], optional): Optional line range to highlight.\n\n        Returns:\n            Text: A text instance containing highlighted syntax.\n        \"\"\"\n\n        base_style = self._get_base_style()\n        justify: JustifyMethod = (\n            \"default\" if base_style.transparent_background else \"left\"\n        )\n\n        text = Text(\n            justify=justify,\n            style=base_style,\n            tab_size=self.tab_size,\n            no_wrap=not self.word_wrap,\n        )\n        _get_theme_style = self._theme.get_style_for_token\n\n        lexer = self.lexer or self.default_lexer\n\n        if lexer is None:\n            text.append(code)\n        else:\n            if line_range:\n                # More complicated path to only stylize a portion of the code\n                # This speeds up further operations as there are less spans to process\n                line_start, line_end = line_range\n\n                def line_tokenize() -> Iterable[Tuple[Any, str]]:\n                    \"\"\"Split tokens to one per line.\"\"\"\n                    assert lexer  # required to make MyPy happy - we know lexer is not None at this point\n\n                    for token_type, token in lexer.get_tokens(code):\n                        while token:\n                            line_token, new_line, token = token.partition(\"\\n\")\n                            yield token_type, line_token + new_line\n\n                def tokens_to_spans() -> Iterable[Tuple[str, Optional[Style]]]:\n                    \"\"\"Convert tokens to spans.\"\"\"\n                    tokens = iter(line_tokenize())\n                    line_no = 0\n                    _line_start = line_start - 1 if line_start else 0\n\n                    # Skip over tokens until line start\n                    while line_no < _line_start:\n                        try:\n                            _token_type, token = next(tokens)\n                        except StopIteration:\n                            break\n                        yield (token, None)\n                        if token.endswith(\"\\n\"):\n                            line_no += 1\n                    # Generate spans until line end\n                    for token_type, token in tokens:\n                        yield (token, _get_theme_style(token_type))\n                        if token.endswith(\"\\n\"):\n                            line_no += 1\n                            if line_end and line_no >= line_end:\n                                break\n\n                text.append_tokens(tokens_to_spans())\n\n            else:\n                text.append_tokens(\n                    (token, _get_theme_style(token_type))\n                    for token_type, token in lexer.get_tokens(code)\n                )\n            if self.background_color is not None:\n                text.stylize(f\"on {self.background_color}\")\n\n        if self._stylized_ranges:\n            self._apply_stylized_ranges(text)\n\n        return text\n\n    def stylize_range(\n        self,\n        style: StyleType,\n        start: SyntaxPosition,\n        end: SyntaxPosition,\n        style_before: bool = False,\n    ) -> None:\n        \"\"\"\n        Adds a custom style on a part of the code, that will be applied to the syntax display when it's rendered.\n        Line numbers are 1-based, while column indexes are 0-based.\n\n        Args:\n            style (StyleType): The style to apply.\n            start (Tuple[int, int]): The start of the range, in the form `[line number, column index]`.\n            end (Tuple[int, int]): The end of the range, in the form `[line number, column index]`.\n            style_before (bool): Apply the style before any existing styles.\n        \"\"\"\n        self._stylized_ranges.append(\n            _SyntaxHighlightRange(style, start, end, style_before)\n        )\n\n    def _get_line_numbers_color(self, blend: float = 0.3) -> Color:\n        background_style = self._theme.get_background_style() + self.background_style\n        background_color = background_style.bgcolor\n        if background_color is None or background_color.is_system_defined:\n            return Color.default()\n        foreground_color = self._get_token_color(Token.Text)\n        if foreground_color is None or foreground_color.is_system_defined:\n            return foreground_color or Color.default()\n        new_color = blend_rgb(\n            background_color.get_truecolor(),\n            foreground_color.get_truecolor(),\n            cross_fade=blend,\n        )\n        return Color.from_triplet(new_color)\n\n    @property\n    def _numbers_column_width(self) -> int:\n        \"\"\"Get the number of characters used to render the numbers column.\"\"\"\n        column_width = 0\n        if self.line_numbers:\n            column_width = (\n                len(str(self.start_line + self.code.count(\"\\n\")))\n                + NUMBERS_COLUMN_DEFAULT_PADDING\n            )\n        return column_width\n\n    def _get_number_styles(self, console: Console) -> Tuple[Style, Style, Style]:\n        \"\"\"Get background, number, and highlight styles for line numbers.\"\"\"\n        background_style = self._get_base_style()\n        if background_style.transparent_background:\n            return Style.null(), Style(dim=True), Style.null()\n        if console.color_system in (\"256\", \"truecolor\"):\n            number_style = Style.chain(\n                background_style,\n                self._theme.get_style_for_token(Token.Text),\n                Style(color=self._get_line_numbers_color()),\n                self.background_style,\n            )\n            highlight_number_style = Style.chain(\n                background_style,\n                self._theme.get_style_for_token(Token.Text),\n                Style(bold=True, color=self._get_line_numbers_color(0.9)),\n                self.background_style,\n            )\n        else:\n            number_style = background_style + Style(dim=True)\n            highlight_number_style = background_style + Style(dim=False)\n        return background_style, number_style, highlight_number_style\n\n    def __rich_measure__(\n        self, console: \"Console\", options: \"ConsoleOptions\"\n    ) -> \"Measurement\":\n        _, right, _, left = Padding.unpack(self.padding)\n        padding = left + right\n        if self.code_width is not None:\n            width = self.code_width + self._numbers_column_width + padding + 1\n            return Measurement(self._numbers_column_width, width)\n        lines = self.code.splitlines()\n        width = (\n            self._numbers_column_width\n            + padding\n            + (max(cell_len(line) for line in lines) if lines else 0)\n        )\n        if self.line_numbers:\n            width += 1\n        return Measurement(self._numbers_column_width, width)\n\n    def __rich_console__(\n        self, console: Console, options: ConsoleOptions\n    ) -> RenderResult:\n        segments = Segments(self._get_syntax(console, options))\n        if self.padding:\n            yield Padding(segments, style=self._get_base_style(), pad=self.padding)\n        else:\n            yield segments\n\n    def _get_syntax(\n        self,\n        console: Console,\n        options: ConsoleOptions,\n    ) -> Iterable[Segment]:\n        \"\"\"\n        Get the Segments for the Syntax object, excluding any vertical/horizontal padding\n        \"\"\"\n        transparent_background = self._get_base_style().transparent_background\n        code_width = (\n            (\n                (options.max_width - self._numbers_column_width - 1)\n                if self.line_numbers\n                else options.max_width\n            )\n            if self.code_width is None\n            else self.code_width\n        )\n\n        ends_on_nl, processed_code = self._process_code(self.code)\n        text = self.highlight(processed_code, self.line_range)\n\n        if not self.line_numbers and not self.word_wrap and not self.line_range:\n            if not ends_on_nl:\n                text.remove_suffix(\"\\n\")\n            # Simple case of just rendering text\n            style = (\n                self._get_base_style()\n                + self._theme.get_style_for_token(Comment)\n                + Style(dim=True)\n                + self.background_style\n            )\n            if self.indent_guides and not options.ascii_only:\n                text = text.with_indent_guides(self.tab_size, style=style)\n                text.overflow = \"crop\"\n            if style.transparent_background:\n                yield from console.render(\n                    text, options=options.update(width=code_width)\n                )\n            else:\n                syntax_lines = console.render_lines(\n                    text,\n                    options.update(width=code_width, height=None, justify=\"left\"),\n                    style=self.background_style,\n                    pad=True,\n                    new_lines=True,\n                )\n                for syntax_line in syntax_lines:\n                    yield from syntax_line\n            return\n\n        start_line, end_line = self.line_range or (None, None)\n        line_offset = 0\n        if start_line:\n            line_offset = max(0, start_line - 1)\n        lines: Union[List[Text], Lines] = text.split(\"\\n\", allow_blank=ends_on_nl)\n        if self.line_range:\n            if line_offset > len(lines):\n                return\n            lines = lines[line_offset:end_line]\n\n        if self.indent_guides and not options.ascii_only:\n            style = (\n                self._get_base_style()\n                + self._theme.get_style_for_token(Comment)\n                + Style(dim=True)\n                + self.background_style\n            )\n            lines = (\n                Text(\"\\n\")\n                .join(lines)\n                .with_indent_guides(self.tab_size, style=style + Style(italic=False))\n                .split(\"\\n\", allow_blank=True)\n            )\n\n        numbers_column_width = self._numbers_column_width\n        render_options = options.update(width=code_width)\n\n        highlight_line = self.highlight_lines.__contains__\n        _Segment = Segment\n        new_line = _Segment(\"\\n\")\n\n        line_pointer = \"> \" if options.legacy_windows else \" \"\n\n        (\n            background_style,\n            number_style,\n            highlight_number_style,\n        ) = self._get_number_styles(console)\n\n        for line_no, line in enumerate(lines, self.start_line + line_offset):\n            if self.word_wrap:\n                wrapped_lines = console.render_lines(\n                    line,\n                    render_options.update(height=None, justify=\"left\"),\n                    style=background_style,\n                    pad=not transparent_background,\n                )\n            else:\n                segments = list(line.render(console, end=\"\"))\n                if options.no_wrap:\n                    wrapped_lines = [segments]\n                else:\n                    wrapped_lines = [\n                        _Segment.adjust_line_length(\n                            segments,\n                            render_options.max_width,\n                            style=background_style,\n                            pad=not transparent_background,\n                        )\n                    ]\n\n            if self.line_numbers:\n                wrapped_line_left_pad = _Segment(\n                    \" \" * numbers_column_width + \" \", background_style\n                )\n                for first, wrapped_line in loop_first(wrapped_lines):\n                    if first:\n                        line_column = str(line_no).rjust(numbers_column_width - 2) + \" \"\n                        if highlight_line(line_no):\n                            yield _Segment(line_pointer, Style(color=\"red\"))\n                            yield _Segment(line_column, highlight_number_style)\n                        else:\n                            yield _Segment(\"  \", highlight_number_style)\n                            yield _Segment(line_column, number_style)\n                    else:\n                        yield wrapped_line_left_pad\n                    yield from wrapped_line\n                    yield new_line\n            else:\n                for wrapped_line in wrapped_lines:\n                    yield from wrapped_line\n                    yield new_line\n\n    def _apply_stylized_ranges(self, text: Text) -> None:\n        \"\"\"\n        Apply stylized ranges to a text instance,\n        using the given code to determine the right portion to apply the style to.\n\n        Args:\n            text (Text): Text instance to apply the style to.\n        \"\"\"\n        code = text.plain\n        newlines_offsets = [\n            # Let's add outer boundaries at each side of the list:\n            0,\n            # N.B. using \"\\n\" here is much faster than using metacharacters such as \"^\" or \"\\Z\":\n            *[\n                match.start() + 1\n                for match in re.finditer(\"\\n\", code, flags=re.MULTILINE)\n            ],\n            len(code) + 1,\n        ]\n\n        for stylized_range in self._stylized_ranges:\n            start = _get_code_index_for_syntax_position(\n                newlines_offsets, stylized_range.start\n            )\n            end = _get_code_index_for_syntax_position(\n                newlines_offsets, stylized_range.end\n            )\n            if start is not None and end is not None:\n                if stylized_range.style_before:\n                    text.stylize_before(stylized_range.style, start, end)\n                else:\n                    text.stylize(stylized_range.style, start, end)\n\n    def _process_code(self, code: str) -> Tuple[bool, str]:\n        \"\"\"\n        Applies various processing to a raw code string\n        (normalises it so it always ends with a line return, dedents it if necessary, etc.)\n\n        Args:\n            code (str): The raw code string to process\n\n        Returns:\n            Tuple[bool, str]: the boolean indicates whether the raw code ends with a line return,\n                while the string is the processed code.\n        \"\"\"\n        ends_on_nl = code.endswith(\"\\n\")\n        processed_code = code if ends_on_nl else code + \"\\n\"\n        processed_code = (\n            textwrap.dedent(processed_code) if self.dedent else processed_code\n        )\n        processed_code = processed_code.expandtabs(self.tab_size)\n        return ends_on_nl, processed_code\n\n\ndef _get_code_index_for_syntax_position(\n    newlines_offsets: Sequence[int], position: SyntaxPosition\n) -> Optional[int]:\n    \"\"\"\n    Returns the index of the code string for the given positions.\n\n    Args:\n        newlines_offsets (Sequence[int]): The offset of each newline character found in the code snippet.\n        position (SyntaxPosition): The position to search for.\n\n    Returns:\n        Optional[int]: The index of the code string for this position, or `None`\n            if the given position's line number is out of range (if it's the column that is out of range\n            we silently clamp its value so that it reaches the end of the line)\n    \"\"\"\n    lines_count = len(newlines_offsets)\n\n    line_number, column_index = position\n    if line_number > lines_count or len(newlines_offsets) < (line_number + 1):\n        return None  # `line_number` is out of range\n    line_index = line_number - 1\n    line_length = newlines_offsets[line_index + 1] - newlines_offsets[line_index] - 1\n    # If `column_index` is out of range: let's silently clamp it:\n    column_index = min(line_length, column_index)\n    return newlines_offsets[line_index] + column_index\n\n\nif __name__ == \"__main__\":  # pragma: no cover\n    import argparse\n    import sys\n\n    parser = argparse.ArgumentParser(\n        description=\"Render syntax to the console with Rich\"\n    )\n    parser.add_argument(\n        \"path\",\n        metavar=\"PATH\",\n        help=\"path to file, or - for stdin\",\n    )\n    parser.add_argument(\n        \"-c\",\n        \"--force-color\",\n        dest=\"force_color\",\n        action=\"store_true\",\n        default=None,\n        help=\"force color for non-terminals\",\n    )\n    parser.add_argument(\n        \"-i\",\n        \"--indent-guides\",\n        dest=\"indent_guides\",\n        action=\"store_true\",\n        default=False,\n        help=\"display indent guides\",\n    )\n    parser.add_argument(\n        \"-l\",\n        \"--line-numbers\",\n        dest=\"line_numbers\",\n        action=\"store_true\",\n        help=\"render line numbers\",\n    )\n    parser.add_argument(\n        \"-w\",\n        \"--width\",\n        type=int,\n        dest=\"width\",\n        default=None,\n        help=\"width of output (default will auto-detect)\",\n    )\n    parser.add_argument(\n        \"-r\",\n        \"--wrap\",\n        dest=\"word_wrap\",\n        action=\"store_true\",\n        default=False,\n        help=\"word wrap long lines\",\n    )\n    parser.add_argument(\n        \"-s\",\n        \"--soft-wrap\",\n        action=\"store_true\",\n        dest=\"soft_wrap\",\n        default=False,\n        help=\"enable soft wrapping mode\",\n    )\n    parser.add_argument(\n        \"-t\", \"--theme\", dest=\"theme\", default=\"monokai\", help=\"pygments theme\"\n    )\n    parser.add_argument(\n        \"-b\",\n        \"--background-color\",\n        dest=\"background_color\",\n        default=None,\n        help=\"Override background color\",\n    )\n    parser.add_argument(\n        \"-x\",\n        \"--lexer\",\n        default=None,\n        dest=\"lexer_name\",\n        help=\"Lexer name\",\n    )\n    parser.add_argument(\n        \"-p\", \"--padding\", type=int, default=0, dest=\"padding\", help=\"Padding\"\n    )\n    parser.add_argument(\n        \"--highlight-line\",\n        type=int,\n        default=None,\n        dest=\"highlight_line\",\n        help=\"The line number (not index!) to highlight\",\n    )\n    args = parser.parse_args()\n\n    from rich.console import Console\n\n    console = Console(force_terminal=args.force_color, width=args.width)\n\n    if args.path == \"-\":\n        code = sys.stdin.read()\n        syntax = Syntax(\n            code=code,\n            lexer=args.lexer_name,\n            line_numbers=args.line_numbers,\n            word_wrap=args.word_wrap,\n            theme=args.theme,\n            background_color=args.background_color,\n            indent_guides=args.indent_guides,\n            padding=args.padding,\n            highlight_lines={args.highlight_line},\n        )\n    else:\n        syntax = Syntax.from_path(\n            args.path,\n            lexer=args.lexer_name,\n            line_numbers=args.line_numbers,\n            word_wrap=args.word_wrap,\n            theme=args.theme,\n            background_color=args.background_color,\n            indent_guides=args.indent_guides,\n            padding=args.padding,\n            highlight_lines={args.highlight_line},\n        )\n    console.print(syntax, soft_wrap=args.soft_wrap)\n",
    "start_line": 0
  },
  {
    "file": "table.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from dataclasses import dataclass, field, replace\nfrom typing import (\n    TYPE_CHECKING,\n    Dict,\n    Iterable,\n    List,\n    NamedTuple,\n    Optional,\n    Sequence,\n    Tuple,\n    Union,\n)\nfrom . import box, errors\nfrom ._loop import loop_first_last, loop_last\nfrom ._pick import pick_bool\nfrom ._ratio import ratio_distribute, ratio_reduce\nfrom .align import VerticalAlignMethod\nfrom .jupyter import JupyterMixin\nfrom .measure import Measurement\nfrom .padding import Padding, PaddingDimensions\nfrom .protocol import is_renderable\nfrom .segment import Segment\nfrom .style import Style, StyleType\nfrom .text import Text, TextType\nif TYPE_CHECKING:\n    from .console import (\n        Console,\n        ConsoleOptions,\n        JustifyMethod,\n        OverflowMethod,\n        RenderableType,\n        RenderResult,\n    )\n@dataclass",
    "start_line": 0
  },
  {
    "file": "table.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "Column",
    "content": "class Column:\n    \"\"\"Defines a column within a ~Table.\n\n    Args:\n        title (Union[str, Text], optional): The title of the table rendered at the top. Defaults to None.\n        caption (Union[str, Text], optional): The table caption rendered below. Defaults to None.\n        width (int, optional): The width in characters of the table, or ``None`` to automatically fit. Defaults to None.\n        min_width (Optional[int], optional): The minimum width of the table, or ``None`` for no minimum. Defaults to None.\n        box (box.Box, optional): One of the constants in box.py used to draw the edges (see :ref:`appendix_box`), or ``None`` for no box lines. Defaults to box.HEAVY_HEAD.\n        safe_box (Optional[bool], optional): Disable box characters that don't display on windows legacy terminal with *raster* fonts. Defaults to True.\n        padding (PaddingDimensions, optional): Padding for cells (top, right, bottom, left). Defaults to (0, 1).\n        collapse_padding (bool, optional): Enable collapsing of padding around cells. Defaults to False.\n        pad_edge (bool, optional): Enable padding of edge cells. Defaults to True.\n        expand (bool, optional): Expand the table to fit the available space if ``True``, otherwise the table width will be auto-calculated. Defaults to False.\n        show_header (bool, optional): Show a header row. Defaults to True.\n        show_footer (bool, optional): Show a footer row. Defaults to False.\n        show_edge (bool, optional): Draw a box around the outside of the table. Defaults to True.\n        show_lines (bool, optional): Draw lines between every row. Defaults to False.\n        leading (int, optional): Number of blank lines between rows (precludes ``show_lines``). Defaults to 0.\n        style (Union[str, Style], optional): Default style for the table. Defaults to \"none\".\n        row_styles (List[Union, str], optional): Optional list of row styles, if more than one style is given then the styles will alternate. Defaults to None.\n        header_style (Union[str, Style], optional): Style of the header. Defaults to \"table.header\".\n        footer_style (Union[str, Style], optional): Style of the footer. Defaults to \"table.footer\".\n        border_style (Union[str, Style], optional): Style of the border. Defaults to None.\n        title_style (Union[str, Style], optional): Style of the title. Defaults to None.\n        caption_style (Union[str, Style], optional): Style of the caption. Defaults to None.\n        title_justify (str, optional): Justify method for title. Defaults to \"center\".\n        caption_justify (str, optional): Justify method for caption. Defaults to \"center\".\n        highlight (bool, optional): Highlight cell contents (if str). Defaults to False.\n    \"\"\"\n\n    header: \"RenderableType\" = \"\"\n    \"\"\"RenderableType: Renderable for the header (typically a string)\"\"\"\n\n    footer: \"RenderableType\" = \"\"\n    \"\"\"RenderableType: Renderable for the footer (typically a string)\"\"\"\n\n    header_style: StyleType = \"\"\n    \"\"\"StyleType: The style of the header.\"\"\"\n\n    footer_style: StyleType = \"\"\n    \"\"\"StyleType: The style of the footer.\"\"\"\n\n    style: StyleType = \"\"\n    \"\"\"StyleType: The style of the column.\"\"\"\n\n    justify: \"JustifyMethod\" = \"left\"\n    \"\"\"str: How to justify text within the column (\"left\", \"center\", \"right\", or \"full\")\"\"\"\n\n    vertical: \"VerticalAlignMethod\" = \"top\"\n    \"\"\"str: How to vertically align content (\"top\", \"middle\", or \"bottom\")\"\"\"\n\n    overflow: \"OverflowMethod\" = \"ellipsis\"\n    \"\"\"str: Overflow method.\"\"\"\n\n    width: Optional[int] = None\n    \"\"\"Optional[int]: Width of the column, or ``None`` (default) to auto calculate width.\"\"\"\n\n    min_width: Optional[int] = None\n    \"\"\"Optional[int]: Minimum width of column, or ``None`` for no minimum. Defaults to None.\"\"\"\n\n    max_width: Optional[int] = None\n    \"\"\"Optional[int]: Maximum width of column, or ``None`` for no maximum. Defaults to None.\"\"\"\n\n    ratio: Optional[int] = None\n    \"\"\"Optional[int]: Ratio to use when calculating column width, or ``None`` (default) to adapt to column contents.\"\"\"\n\n    no_wrap: bool = False\n    \"\"\"bool: Prevent wrapping of text within the column. Defaults to ``False``.\"\"\"\n\n    highlight: bool = False\n    \"\"\"bool: Apply highlighter to column. Defaults to ``False``.\"\"\"\n\n    _index: int = 0\n    \"\"\"Index of column.\"\"\"\n\n    _cells: List[\"RenderableType\"] = field(default_factory=list)",
    "start_line": 38
  },
  {
    "file": "table.py",
    "type": "method",
    "class": "Column",
    "method": "copy",
    "name": "copy",
    "content": "class Column:\n    def copy(self) -> \"Column\":\n        \"\"\"Return a copy of this Column.\"\"\"\n        return replace(self, _cells=[])\n\n    @property",
    "start_line": 116
  },
  {
    "file": "table.py",
    "type": "method",
    "class": "Column",
    "method": "cells",
    "name": "cells",
    "content": "class Column:\n    def cells(self) -> Iterable[\"RenderableType\"]:\n        \"\"\"Get all cells in the column, not including header.\"\"\"\n        yield from self._cells\n\n    @property",
    "start_line": 121
  },
  {
    "file": "table.py",
    "type": "method",
    "class": "Column",
    "method": "flexible",
    "name": "flexible",
    "content": "class Column:\n    def flexible(self) -> bool:\n        \"\"\"Check if this column is flexible.\"\"\"\n        return self.ratio is not None\n\n\n@dataclass",
    "start_line": 126
  },
  {
    "file": "table.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "Row",
    "content": "class Row:\n    \"\"\"Information regarding a row.\"\"\"\n\n    style: Optional[StyleType] = None\n    \"\"\"Style to apply to row.\"\"\"\n\n    end_section: bool = False\n    \"\"\"Indicated end of section, which will force a line beneath the row.\"\"\"",
    "start_line": 132
  },
  {
    "file": "table.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "_Cell",
    "content": "class _Cell(NamedTuple):\n    \"\"\"A single cell in a table.\"\"\"\n\n    style: StyleType\n    \"\"\"Style to apply to cell.\"\"\"\n    renderable: \"RenderableType\"\n    \"\"\"Cell renderable.\"\"\"\n    vertical: VerticalAlignMethod\n    \"\"\"Cell vertical alignment.\"\"\"",
    "start_line": 142
  },
  {
    "file": "table.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "Table",
    "content": "class Table(JupyterMixin):\n    \"\"\"A console renderable to draw a table.\n\n    Args:\n        *headers (Union[Column, str]): Column headers, either as a string, or :class:`~rich.table.Column` instance.\n        title (Union[str, Text], optional): The title of the table rendered at the top. Defaults to None.\n        caption (Union[str, Text], optional): The table caption rendered below. Defaults to None.\n        width (int, optional): The width in characters of the table, or ``None`` to automatically fit. Defaults to None.\n        min_width (Optional[int], optional): The minimum width of the table, or ``None`` for no minimum. Defaults to None.\n        box (box.Box, optional): One of the constants in box.py used to draw the edges (see :ref:`appendix_box`), or ``None`` for no box lines. Defaults to box.HEAVY_HEAD.\n        safe_box (Optional[bool], optional): Disable box characters that don't display on windows legacy terminal with *raster* fonts. Defaults to True.\n        padding (PaddingDimensions, optional): Padding for cells (top, right, bottom, left). Defaults to (0, 1).\n        collapse_padding (bool, optional): Enable collapsing of padding around cells. Defaults to False.\n        pad_edge (bool, optional): Enable padding of edge cells. Defaults to True.\n        expand (bool, optional): Expand the table to fit the available space if ``True``, otherwise the table width will be auto-calculated. Defaults to False.\n        show_header (bool, optional): Show a header row. Defaults to True.\n        show_footer (bool, optional): Show a footer row. Defaults to False.\n        show_edge (bool, optional): Draw a box around the outside of the table. Defaults to True.\n        show_lines (bool, optional): Draw lines between every row. Defaults to False.\n        leading (int, optional): Number of blank lines between rows (precludes ``show_lines``). Defaults to 0.\n        style (Union[str, Style], optional): Default style for the table. Defaults to \"none\".\n        row_styles (List[Union, str], optional): Optional list of row styles, if more than one style is given then the styles will alternate. Defaults to None.\n        header_style (Union[str, Style], optional): Style of the header. Defaults to \"table.header\".\n        footer_style (Union[str, Style], optional): Style of the footer. Defaults to \"table.footer\".\n        border_style (Union[str, Style], optional): Style of the border. Defaults to None.\n        title_style (Union[str, Style], optional): Style of the title. Defaults to None.\n        caption_style (Union[str, Style], optional): Style of the caption. Defaults to None.\n        title_justify (str, optional): Justify method for title. Defaults to \"center\".\n        caption_justify (str, optional): Justify method for caption. Defaults to \"center\".\n        highlight (bool, optional): Highlight cell contents (if str). Defaults to False.\n    \"\"\"\n\n    columns: List[Column]\n    rows: List[Row]",
    "start_line": 153
  },
  {
    "file": "table.py",
    "type": "method",
    "class": "Table",
    "method": "__init__",
    "name": "__init__",
    "content": "class Table:\n    def __init__(\n        self,\n        *headers: Union[Column, str],\n        title: Optional[TextType] = None,\n        caption: Optional[TextType] = None,\n        width: Optional[int] = None,\n        min_width: Optional[int] = None,\n        box: Optional[box.Box] = box.HEAVY_HEAD,\n        safe_box: Optional[bool] = None,\n        padding: PaddingDimensions = (0, 1),\n        collapse_padding: bool = False,\n        pad_edge: bool = True,\n        expand: bool = False,\n        show_header: bool = True,\n        show_footer: bool = False,\n        show_edge: bool = True,\n        show_lines: bool = False,\n        leading: int = 0,\n        style: StyleType = \"none\",\n        row_styles: Optional[Iterable[StyleType]] = None,\n        header_style: Optional[StyleType] = \"table.header\",\n        footer_style: Optional[StyleType] = \"table.footer\",\n        border_style: Optional[StyleType] = None,\n        title_style: Optional[StyleType] = None,\n        caption_style: Optional[StyleType] = None,\n        title_justify: \"JustifyMethod\" = \"center\",\n        caption_justify: \"JustifyMethod\" = \"center\",\n        highlight: bool = False,\n    ) -> None:\n        self.columns: List[Column] = []\n        self.rows: List[Row] = []\n        self.title = title\n        self.caption = caption\n        self.width = width\n        self.min_width = min_width\n        self.box = box\n        self.safe_box = safe_box\n        self._padding = Padding.unpack(padding)\n        self.pad_edge = pad_edge\n        self._expand = expand\n        self.show_header = show_header\n        self.show_footer = show_footer\n        self.show_edge = show_edge\n        self.show_lines = show_lines\n        self.leading = leading\n        self.collapse_padding = collapse_padding\n        self.style = style\n        self.header_style = header_style or \"\"\n        self.footer_style = footer_style or \"\"\n        self.border_style = border_style\n        self.title_style = title_style\n        self.caption_style = caption_style\n        self.title_justify: \"JustifyMethod\" = title_justify\n        self.caption_justify: \"JustifyMethod\" = caption_justify\n        self.highlight = highlight\n        self.row_styles: Sequence[StyleType] = list(row_styles or [])\n        append_column = self.columns.append\n        for header in headers:\n            if isinstance(header, str):\n                self.add_column(header=header)\n            else:\n                header._index = len(self.columns)\n                append_column(header)\n\n    @classmethod",
    "start_line": 188
  },
  {
    "file": "table.py",
    "type": "method",
    "class": "Table",
    "method": "grid",
    "name": "grid",
    "content": "class Table:\n    def grid(\n        cls,\n        *headers: Union[Column, str],\n        padding: PaddingDimensions = 0,\n        collapse_padding: bool = True,\n        pad_edge: bool = False,\n        expand: bool = False,\n    ) -> \"Table\":\n        \"\"\"Get a table with no lines, headers, or footer.\n\n        Args:\n            *headers (Union[Column, str]): Column headers, either as a string, or :class:`~rich.table.Column` instance.\n            padding (PaddingDimensions, optional): Get padding around cells. Defaults to 0.\n            collapse_padding (bool, optional): Enable collapsing of padding around cells. Defaults to True.\n            pad_edge (bool, optional): Enable padding around edges of table. Defaults to False.\n            expand (bool, optional): Expand the table to fit the available space if ``True``, otherwise the table width will be auto-calculated. Defaults to False.\n\n        Returns:\n            Table: A table instance.\n        \"\"\"\n        return cls(\n            *headers,\n            box=None,\n            padding=padding,\n            collapse_padding=collapse_padding,\n            show_header=False,\n            show_footer=False,\n            show_edge=False,\n            pad_edge=pad_edge,\n            expand=expand,\n        )\n\n    @property",
    "start_line": 253
  },
  {
    "file": "table.py",
    "type": "method",
    "class": "Table",
    "method": "expand",
    "name": "expand",
    "content": "class Table:\n    def expand(self) -> bool:\n        \"\"\"Setting a non-None self.width implies expand.\"\"\"\n        return self._expand or self.width is not None\n\n    @expand.setter",
    "start_line": 286
  },
  {
    "file": "table.py",
    "type": "method",
    "class": "Table",
    "method": "expand",
    "name": "expand",
    "content": "class Table:\n    def expand(self, expand: bool) -> None:\n        \"\"\"Set expand.\"\"\"\n        self._expand = expand\n\n    @property",
    "start_line": 291
  },
  {
    "file": "table.py",
    "type": "method",
    "class": "Table",
    "method": "_extra_width",
    "name": "_extra_width",
    "content": "class Table:\n    def _extra_width(self) -> int:\n        \"\"\"Get extra width to add to cell content.\"\"\"\n        width = 0\n        if self.box and self.show_edge:\n            width += 2\n        if self.box:\n            width += len(self.columns) - 1\n        return width\n\n    @property",
    "start_line": 296
  },
  {
    "file": "table.py",
    "type": "method",
    "class": "Table",
    "method": "row_count",
    "name": "row_count",
    "content": "class Table:\n    def row_count(self) -> int:\n        \"\"\"Get the current number of rows.\"\"\"\n        return len(self.rows)",
    "start_line": 306
  },
  {
    "file": "table.py",
    "type": "method",
    "class": "Table",
    "method": "get_row_style",
    "name": "get_row_style",
    "content": "class Table:\n    def get_row_style(self, console: \"Console\", index: int) -> StyleType:\n        \"\"\"Get the current row style.\"\"\"\n        style = Style.null()\n        if self.row_styles:\n            style += console.get_style(self.row_styles[index % len(self.row_styles)])\n        row_style = self.rows[index].style\n        if row_style is not None:\n            style += console.get_style(row_style)\n        return style",
    "start_line": 310
  },
  {
    "file": "table.py",
    "type": "method",
    "class": "Table",
    "method": "__rich_measure__",
    "name": "__rich_measure__",
    "content": "class Table:\n    def __rich_measure__(\n        self, console: \"Console\", options: \"ConsoleOptions\"\n    ) -> Measurement:\n        max_width = options.max_width\n        if self.width is not None:\n            max_width = self.width\n        if max_width < 0:\n            return Measurement(0, 0)\n\n        extra_width = self._extra_width\n        max_width = sum(\n            self._calculate_column_widths(\n                console, options.update_width(max_width - extra_width)\n            )\n        )\n        _measure_column = self._measure_column\n\n        measurements = [\n            _measure_column(console, options.update_width(max_width), column)\n            for column in self.columns\n        ]\n        minimum_width = (\n            sum(measurement.minimum for measurement in measurements) + extra_width\n        )\n        maximum_width = (\n            sum(measurement.maximum for measurement in measurements) + extra_width\n            if (self.width is None)\n            else self.width\n        )\n        measurement = Measurement(minimum_width, maximum_width)\n        measurement = measurement.clamp(self.min_width)\n        return measurement\n\n    @property",
    "start_line": 320
  },
  {
    "file": "table.py",
    "type": "method",
    "class": "Table",
    "method": "padding",
    "name": "padding",
    "content": "class Table:\n    def padding(self) -> Tuple[int, int, int, int]:\n        \"\"\"Get cell padding.\"\"\"\n        return self._padding\n\n    @padding.setter",
    "start_line": 354
  },
  {
    "file": "table.py",
    "type": "method",
    "class": "Table",
    "method": "padding",
    "name": "padding",
    "content": "class Table:\n    def padding(self, padding: PaddingDimensions) -> \"Table\":\n        \"\"\"Set cell padding.\"\"\"\n        self._padding = Padding.unpack(padding)\n        return self",
    "start_line": 359
  },
  {
    "file": "table.py",
    "type": "method",
    "class": "Table",
    "method": "add_column",
    "name": "add_column",
    "content": "class Table:\n    def add_column(\n        self,\n        header: \"RenderableType\" = \"\",\n        footer: \"RenderableType\" = \"\",\n        *,\n        header_style: Optional[StyleType] = None,\n        highlight: Optional[bool] = None,\n        footer_style: Optional[StyleType] = None,\n        style: Optional[StyleType] = None,\n        justify: \"JustifyMethod\" = \"left\",\n        vertical: \"VerticalAlignMethod\" = \"top\",\n        overflow: \"OverflowMethod\" = \"ellipsis\",\n        width: Optional[int] = None,\n        min_width: Optional[int] = None,\n        max_width: Optional[int] = None,\n        ratio: Optional[int] = None,\n        no_wrap: bool = False,\n    ) -> None:\n        \"\"\"Add a column to the table.\n\n        Args:\n            header (RenderableType, optional): Text or renderable for the header.\n                Defaults to \"\".\n            footer (RenderableType, optional): Text or renderable for the footer.\n                Defaults to \"\".\n            header_style (Union[str, Style], optional): Style for the header, or None for default. Defaults to None.\n            highlight (bool, optional): Whether to highlight the text. The default of None uses the value of the table (self) object.\n            footer_style (Union[str, Style], optional): Style for the footer, or None for default. Defaults to None.\n            style (Union[str, Style], optional): Style for the column cells, or None for default. Defaults to None.\n            justify (JustifyMethod, optional): Alignment for cells. Defaults to \"left\".\n            vertical (VerticalAlignMethod, optional): Vertical alignment, one of \"top\", \"middle\", or \"bottom\". Defaults to \"top\".\n            overflow (OverflowMethod): Overflow method: \"crop\", \"fold\", \"ellipsis\". Defaults to \"ellipsis\".\n            width (int, optional): Desired width of column in characters, or None to fit to contents. Defaults to None.\n            min_width (Optional[int], optional): Minimum width of column, or ``None`` for no minimum. Defaults to None.\n            max_width (Optional[int], optional): Maximum width of column, or ``None`` for no maximum. Defaults to None.\n            ratio (int, optional): Flexible ratio for the column (requires ``Table.expand`` or ``Table.width``). Defaults to None.\n            no_wrap (bool, optional): Set to ``True`` to disable wrapping of this column.\n        \"\"\"\n\n        column = Column(\n            _index=len(self.columns),\n            header=header,\n            footer=footer,\n            header_style=header_style or \"\",\n            highlight=highlight if highlight is not None else self.highlight,\n            footer_style=footer_style or \"\",\n            style=style or \"\",\n            justify=justify,\n            vertical=vertical,\n            overflow=overflow,\n            width=width,\n            min_width=min_width,\n            max_width=max_width,\n            ratio=ratio,\n            no_wrap=no_wrap,\n        )\n        self.columns.append(column)",
    "start_line": 364
  },
  {
    "file": "table.py",
    "type": "method",
    "class": "Table",
    "method": "add_row",
    "name": "add_row",
    "content": "class Table:\n    def add_row(\n        self,\n        *renderables: Optional[\"RenderableType\"],\n        style: Optional[StyleType] = None,\n        end_section: bool = False,\n    ) -> None:\n        \"\"\"Add a row of renderables.\n\n        Args:\n            *renderables (None or renderable): Each cell in a row must be a renderable object (including str),\n                or ``None`` for a blank cell.\n            style (StyleType, optional): An optional style to apply to the entire row. Defaults to None.\n            end_section (bool, optional): End a section and draw a line. Defaults to False.\n\n        Raises:\n            errors.NotRenderableError: If you add something that can't be rendered.\n        \"\"\"",
    "start_line": 422
  },
  {
    "file": "table.py",
    "type": "method",
    "class": "Table",
    "method": "add_cell",
    "name": "add_cell",
    "content": "class Table:\n        def add_cell(column: Column, renderable: \"RenderableType\") -> None:\n            column._cells.append(renderable)\n\n        cell_renderables: List[Optional[\"RenderableType\"]] = list(renderables)\n\n        columns = self.columns\n        if len(cell_renderables) < len(columns):\n            cell_renderables = [\n                *cell_renderables,\n                *[None] * (len(columns) - len(cell_renderables)),\n            ]\n        for index, renderable in enumerate(cell_renderables):\n            if index == len(columns):\n                column = Column(_index=index, highlight=self.highlight)\n                for _ in self.rows:\n                    add_cell(column, Text(\"\"))\n                self.columns.append(column)\n            else:\n                column = columns[index]\n            if renderable is None:\n                add_cell(column, \"\")\n            elif is_renderable(renderable):\n                add_cell(column, renderable)\n            else:\n                raise errors.NotRenderableError(\n                    f\"unable to render {type(renderable).__name__}; a string or other renderable object is required\"\n                )\n        self.rows.append(Row(style=style, end_section=end_section))",
    "start_line": 440
  },
  {
    "file": "table.py",
    "type": "method",
    "class": "Table",
    "method": "add_section",
    "name": "add_section",
    "content": "class Table:\n    def add_section(self) -> None:\n        \"\"\"Add a new section (draw a line after current row).\"\"\"\n\n        if self.rows:\n            self.rows[-1].end_section = True",
    "start_line": 469
  },
  {
    "file": "table.py",
    "type": "method",
    "class": "Table",
    "method": "__rich_console__",
    "name": "__rich_console__",
    "content": "class Table:\n    def __rich_console__(\n        self, console: \"Console\", options: \"ConsoleOptions\"\n    ) -> \"RenderResult\":\n        if not self.columns:\n            yield Segment(\"\\n\")\n            return\n\n        max_width = options.max_width\n        if self.width is not None:\n            max_width = self.width\n\n        extra_width = self._extra_width\n        widths = self._calculate_column_widths(\n            console, options.update_width(max_width - extra_width)\n        )\n        table_width = sum(widths) + extra_width\n\n        render_options = options.update(\n            width=table_width, highlight=self.highlight, height=None\n        )",
    "start_line": 475
  },
  {
    "file": "table.py",
    "type": "method",
    "class": "Table",
    "method": "render_annotation",
    "name": "render_annotation",
    "content": "class Table:\n        def render_annotation(\n            text: TextType, style: StyleType, justify: \"JustifyMethod\" = \"center\"\n        ) -> \"RenderResult\":\n            render_text = (\n                console.render_str(text, style=style, highlight=False)\n                if isinstance(text, str)\n                else text\n            )\n            return console.render(\n                render_text, options=render_options.update(justify=justify)\n            )\n\n        if self.title:\n            yield from render_annotation(\n                self.title,\n                style=Style.pick_first(self.title_style, \"table.title\"),\n                justify=self.title_justify,\n            )\n        yield from self._render(console, render_options, widths)\n        if self.caption:\n            yield from render_annotation(\n                self.caption,\n                style=Style.pick_first(self.caption_style, \"table.caption\"),\n                justify=self.caption_justify,\n            )",
    "start_line": 496
  },
  {
    "file": "table.py",
    "type": "method",
    "class": "Table",
    "method": "_calculate_column_widths",
    "name": "_calculate_column_widths",
    "content": "class Table:\n    def _calculate_column_widths(\n        self, console: \"Console\", options: \"ConsoleOptions\"\n    ) -> List[int]:\n        \"\"\"Calculate the widths of each column, including padding, not including borders.\"\"\"\n        max_width = options.max_width\n        columns = self.columns\n        width_ranges = [\n            self._measure_column(console, options, column) for column in columns\n        ]\n        widths = [_range.maximum or 1 for _range in width_ranges]\n        get_padding_width = self._get_padding_width\n        extra_width = self._extra_width\n        if self.expand:\n            ratios = [col.ratio or 0 for col in columns if col.flexible]\n            if any(ratios):\n                fixed_widths = [\n                    0 if column.flexible else _range.maximum\n                    for _range, column in zip(width_ranges, columns)\n                ]\n                flex_minimum = [\n                    (column.width or 1) + get_padding_width(column._index)\n                    for column in columns\n                    if column.flexible\n                ]\n                flexible_width = max_width - sum(fixed_widths)\n                flex_widths = ratio_distribute(flexible_width, ratios, flex_minimum)\n                iter_flex_widths = iter(flex_widths)\n                for index, column in enumerate(columns):\n                    if column.flexible:\n                        widths[index] = fixed_widths[index] + next(iter_flex_widths)\n        table_width = sum(widths)\n\n        if table_width > max_width:\n            widths = self._collapse_widths(\n                widths,\n                [(column.width is None and not column.no_wrap) for column in columns],\n                max_width,\n            )\n            table_width = sum(widths)",
    "start_line": 522
  },
  {
    "file": "table.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# last resort, reduce columns evenly\n            if table_width > max_width:\n                excess_width = table_width - max_width\n                widths = ratio_reduce(excess_width, [1] * len(widths), widths, widths)\n                table_width = sum(widths)\n            width_ranges = [\n                self._measure_column(console, options.update_width(width), column)\n                for width, column in zip(widths, columns)\n            ]\n            widths = [_range.maximum or 0 for _range in width_ranges]\n        if (table_width < max_width and self.expand) or (\n            self.min_width is not None and table_width < (self.min_width - extra_width)\n        ):\n            _max_width = (\n                max_width\n                if self.min_width is None\n                else min(self.min_width - extra_width, max_width)\n            )\n            pad_widths = ratio_distribute(_max_width - table_width, widths)\n            widths = [_width + pad for _width, pad in zip(widths, pad_widths)]\n        return widths\n    @classmethod",
    "start_line": 561
  },
  {
    "file": "table.py",
    "type": "method",
    "class": "Table",
    "method": "_collapse_widths",
    "name": "_collapse_widths",
    "content": "class Table:\n    def _collapse_widths(\n        cls, widths: List[int], wrapable: List[bool], max_width: int\n    ) -> List[int]:\n        \"\"\"Reduce widths so that the total is under max_width.\n\n        Args:\n            widths (List[int]): List of widths.\n            wrapable (List[bool]): List of booleans that indicate if a column may shrink.\n            max_width (int): Maximum width to reduce to.\n\n        Returns:\n            List[int]: A new list of widths.\n        \"\"\"\n        total_width = sum(widths)\n        excess_width = total_width - max_width\n        if any(wrapable):\n            while total_width and excess_width > 0:\n                max_column = max(\n                    width for width, allow_wrap in zip(widths, wrapable) if allow_wrap\n                )\n                second_max_column = max(\n                    width if allow_wrap and width != max_column else 0\n                    for width, allow_wrap in zip(widths, wrapable)\n                )\n                column_difference = max_column - second_max_column\n                ratios = [\n                    (1 if (width == max_column and allow_wrap) else 0)\n                    for width, allow_wrap in zip(widths, wrapable)\n                ]\n                if not any(ratios) or not column_difference:\n                    break\n                max_reduce = [min(excess_width, column_difference)] * len(widths)\n                widths = ratio_reduce(excess_width, ratios, max_reduce, widths)\n\n                total_width = sum(widths)\n                excess_width = total_width - max_width\n        return widths",
    "start_line": 587
  },
  {
    "file": "table.py",
    "type": "method",
    "class": "Table",
    "method": "_get_cells",
    "name": "_get_cells",
    "content": "class Table:\n    def _get_cells(\n        self, console: \"Console\", column_index: int, column: Column\n    ) -> Iterable[_Cell]:\n        \"\"\"Get all the cells with padding and optional header.\"\"\"\n\n        collapse_padding = self.collapse_padding\n        pad_edge = self.pad_edge\n        padding = self.padding\n        any_padding = any(padding)\n\n        first_column = column_index == 0\n        last_column = column_index == len(self.columns) - 1\n\n        _padding_cache: Dict[Tuple[bool, bool], Tuple[int, int, int, int]] = {}",
    "start_line": 625
  },
  {
    "file": "table.py",
    "type": "method",
    "class": "Table",
    "method": "get_padding",
    "name": "get_padding",
    "content": "class Table:\n        def get_padding(first_row: bool, last_row: bool) -> Tuple[int, int, int, int]:\n            cached = _padding_cache.get((first_row, last_row))\n            if cached:\n                return cached\n            top, right, bottom, left = padding\n\n            if collapse_padding:\n                if not first_column:\n                    left = max(0, left - right)\n                if not last_row:\n                    bottom = max(0, top - bottom)\n\n            if not pad_edge:\n                if first_column:\n                    left = 0\n                if last_column:\n                    right = 0\n                if first_row:\n                    top = 0\n                if last_row:\n                    bottom = 0\n            _padding = (top, right, bottom, left)\n            _padding_cache[(first_row, last_row)] = _padding\n            return _padding\n\n        raw_cells: List[Tuple[StyleType, \"RenderableType\"]] = []\n        _append = raw_cells.append\n        get_style = console.get_style\n        if self.show_header:\n            header_style = get_style(self.header_style or \"\") + get_style(\n                column.header_style\n            )\n            _append((header_style, column.header))\n        cell_style = get_style(column.style or \"\")\n        for cell in column.cells:\n            _append((cell_style, cell))\n        if self.show_footer:\n            footer_style = get_style(self.footer_style or \"\") + get_style(\n                column.footer_style\n            )\n            _append((footer_style, column.footer))\n\n        if any_padding:\n            _Padding = Padding\n            for first, last, (style, renderable) in loop_first_last(raw_cells):\n                yield _Cell(\n                    style,\n                    _Padding(renderable, get_padding(first, last)),\n                    getattr(renderable, \"vertical\", None) or column.vertical,\n                )\n        else:\n            for style, renderable in raw_cells:\n                yield _Cell(\n                    style,\n                    renderable,\n                    getattr(renderable, \"vertical\", None) or column.vertical,\n                )",
    "start_line": 640
  },
  {
    "file": "table.py",
    "type": "method",
    "class": "Table",
    "method": "_get_padding_width",
    "name": "_get_padding_width",
    "content": "class Table:\n    def _get_padding_width(self, column_index: int) -> int:\n        \"\"\"Get extra width from padding.\"\"\"\n        _, pad_right, _, pad_left = self.padding\n        if self.collapse_padding:\n            if column_index > 0:\n                pad_left = max(0, pad_left - pad_right)\n        return pad_left + pad_right",
    "start_line": 698
  },
  {
    "file": "table.py",
    "type": "method",
    "class": "Table",
    "method": "_measure_column",
    "name": "_measure_column",
    "content": "class Table:\n    def _measure_column(\n        self,\n        console: \"Console\",\n        options: \"ConsoleOptions\",\n        column: Column,\n    ) -> Measurement:\n        \"\"\"Get the minimum and maximum width of the column.\"\"\"\n\n        max_width = options.max_width\n        if max_width < 1:\n            return Measurement(0, 0)\n\n        padding_width = self._get_padding_width(column._index)\n\n        if column.width is not None:",
    "start_line": 706
  },
  {
    "file": "table.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# Fixed width column\n            return Measurement(\n                column.width + padding_width, column.width + padding_width\n            ).with_maximum(max_width)\n        # Flexible column, we need to measure contents\n        min_widths: List[int] = []\n        max_widths: List[int] = []\n        append_min = min_widths.append\n        append_max = max_widths.append\n        get_render_width = Measurement.get\n        for cell in self._get_cells(console, column._index, column):\n            _min, _max = get_render_width(console, options, cell.renderable)\n            append_min(_min)\n            append_max(_max)\n        measurement = Measurement(\n            max(min_widths) if min_widths else 1,\n            max(max_widths) if max_widths else max_width,\n        ).with_maximum(max_width)\n        measurement = measurement.clamp(\n            None if column.min_width is None else column.min_width + padding_width,\n            None if column.max_width is None else column.max_width + padding_width,\n        )\n        return measurement",
    "start_line": 721
  },
  {
    "file": "table.py",
    "type": "method",
    "class": "Table",
    "method": "_render",
    "name": "_render",
    "content": "class Table:\n    def _render(\n        self, console: \"Console\", options: \"ConsoleOptions\", widths: List[int]\n    ) -> \"RenderResult\":\n        table_style = console.get_style(self.style or \"\")\n\n        border_style = table_style + console.get_style(self.border_style or \"\")\n        _column_cells = (\n            self._get_cells(console, column_index, column)\n            for column_index, column in enumerate(self.columns)\n        )\n        row_cells: List[Tuple[_Cell, ...]] = list(zip(*_column_cells))\n        _box = (\n            self.box.substitute(\n                options, safe=pick_bool(self.safe_box, console.safe_box)\n            )\n            if self.box\n            else None\n        )\n        _box = _box.get_plain_headed_box() if _box and not self.show_header else _box\n\n        new_line = Segment.line()\n\n        columns = self.columns\n        show_header = self.show_header\n        show_footer = self.show_footer\n        show_edge = self.show_edge\n        show_lines = self.show_lines\n        leading = self.leading\n\n        _Segment = Segment\n        if _box:\n            box_segments = [\n                (\n                    _Segment(_box.head_left, border_style),\n                    _Segment(_box.head_right, border_style),\n                    _Segment(_box.head_vertical, border_style),\n                ),\n                (\n                    _Segment(_box.mid_left, border_style),\n                    _Segment(_box.mid_right, border_style),\n                    _Segment(_box.mid_vertical, border_style),\n                ),\n                (\n                    _Segment(_box.foot_left, border_style),\n                    _Segment(_box.foot_right, border_style),\n                    _Segment(_box.foot_vertical, border_style),\n                ),\n            ]\n            if show_edge:\n                yield _Segment(_box.get_top(widths), border_style)\n                yield new_line\n        else:\n            box_segments = []\n\n        get_row_style = self.get_row_style\n        get_style = console.get_style\n\n        for index, (first, last, row_cell) in enumerate(loop_first_last(row_cells)):\n            header_row = first and show_header\n            footer_row = last and show_footer\n            row = (\n                self.rows[index - show_header]\n                if (not header_row and not footer_row)\n                else None\n            )\n            max_height = 1\n            cells: List[List[List[Segment]]] = []\n            if header_row or footer_row:\n                row_style = Style.null()\n            else:\n                row_style = get_style(\n                    get_row_style(console, index - 1 if show_header else index)\n                )\n            for width, cell, column in zip(widths, row_cell, columns):\n                render_options = options.update(\n                    width=width,\n                    justify=column.justify,\n                    no_wrap=column.no_wrap,\n                    overflow=column.overflow,\n                    height=None,\n                    highlight=column.highlight,\n                )\n                lines = console.render_lines(\n                    cell.renderable,\n                    render_options,\n                    style=get_style(cell.style) + row_style,\n                )\n                max_height = max(max_height, len(lines))\n                cells.append(lines)\n\n            row_height = max(len(cell) for cell in cells)",
    "start_line": 746
  },
  {
    "file": "table.py",
    "type": "method",
    "class": "Table",
    "method": "align_cell",
    "name": "align_cell",
    "content": "class Table:\n            def align_cell(\n                cell: List[List[Segment]],\n                vertical: \"VerticalAlignMethod\",\n                width: int,\n                style: Style,\n            ) -> List[List[Segment]]:\n                if header_row:\n                    vertical = \"bottom\"\n                elif footer_row:\n                    vertical = \"top\"\n\n                if vertical == \"top\":\n                    return _Segment.align_top(cell, width, row_height, style)\n                elif vertical == \"middle\":\n                    return _Segment.align_middle(cell, width, row_height, style)\n                return _Segment.align_bottom(cell, width, row_height, style)\n\n            cells[:] = [\n                _Segment.set_shape(\n                    align_cell(\n                        cell,\n                        _cell.vertical,\n                        width,\n                        get_style(_cell.style) + row_style,\n                    ),\n                    width,\n                    max_height,\n                )\n                for width, _cell, cell, column in zip(widths, row_cell, cells, columns)\n            ]\n\n            if _box:\n                if last and show_footer:\n                    yield _Segment(\n                        _box.get_row(widths, \"foot\", edge=show_edge), border_style\n                    )\n                    yield new_line\n                left, right, _divider = box_segments[0 if first else (2 if last else 1)]",
    "start_line": 838
  },
  {
    "file": "table.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# If the column divider is whitespace also style it with the row background\n                divider = (\n                    _divider\n                    if _divider.text.strip()\n                    else _Segment(\n                        _divider.text, row_style.background_style + _divider.style\n                    )\n                )\n                for line_no in range(max_height):\n                    if show_edge:\n                        yield left\n                    for last_cell, rendered_cell in loop_last(cells):\n                        yield from rendered_cell[line_no]\n                        if not last_cell:\n                            yield divider\n                    if show_edge:\n                        yield right\n                    yield new_line\n            else:\n                for line_no in range(max_height):\n                    for rendered_cell in cells:\n                        yield from rendered_cell[line_no]\n                    yield new_line\n            if _box and first and show_header:\n                yield _Segment(\n                    _box.get_row(widths, \"head\", edge=show_edge), border_style\n                )\n                yield new_line\n            end_section = row and row.end_section\n            if _box and (show_lines or leading or end_section):\n                if (\n                    not last\n                    and not (show_footer and index >= len(row_cells) - 2)\n                    and not (show_header and header_row)\n                ):\n                    if leading:\n                        yield _Segment(\n                            _box.get_row(widths, \"mid\", edge=show_edge) * leading,\n                            border_style,\n                        )\n                    else:\n                        yield _Segment(\n                            _box.get_row(widths, \"row\", edge=show_edge), border_style\n                        )\n                    yield new_line\n        if _box and show_edge:\n            yield _Segment(_box.get_bottom(widths), border_style)\n            yield new_line\nif __name__ == \"__main__\":  # pragma: no cover",
    "start_line": 877
  },
  {
    "file": "table.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from rich.console import Console\n    from rich.highlighter import ReprHighlighter\n    from ._timer import timer\n    with timer(\"Table render\"):",
    "start_line": 929
  },
  {
    "file": "table.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "table = Table(\n            title=\"Star Wars Movies\",\n            caption=\"Rich example table\",\n            caption_justify=\"right\",\n        )\n        table.add_column(\n            \"Released\", header_style=\"bright_cyan\", style=\"cyan\", no_wrap=True\n        )\n        table.add_column(\"Title\", style=\"magenta\")\n        table.add_column(\"Box Office\", justify=\"right\", style=\"green\")\n        table.add_row(\n            \"Dec 20, 2019\",\n            \"Star Wars: The Rise of Skywalker\",\n            \"$952,110,690\",\n        )\n        table.add_row(\"May 25, 2018\", \"Solo: A Star Wars Story\", \"$393,151,347\")\n        table.add_row(\n            \"Dec 15, 2017\",\n            \"Star Wars Ep. V111: The Last Jedi\",\n            \"$1,332,539,889\",\n            style=\"on black\",\n            end_section=True,\n        )\n        table.add_row(\n            \"Dec 16, 2016\",\n            \"Rogue One: A Star Wars Story\",\n            \"$1,332,439,889\",\n        )",
    "start_line": 935
  },
  {
    "file": "table.py",
    "type": "function",
    "class": null,
    "method": "header",
    "name": "header",
    "content": "def header(text: str) -> None:\n            console.print()\n            console.rule(highlight(text))\n            console.print()",
    "start_line": 966
  },
  {
    "file": "table.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console()\n        highlight = ReprHighlighter()\n        header(\"Example Table\")\n        console.print(table, justify=\"center\")\n        table.expand = True\n        header(\"expand=True\")\n        console.print(table)\n        table.width = 50\n        header(\"width=50\")\n        console.print(table, justify=\"center\")\n        table.width = None\n        table.expand = False\n        table.row_styles = [\"dim\", \"none\"]\n        header(\"row_styles=['dim', 'none']\")\n        console.print(table, justify=\"center\")\n        table.width = None\n        table.expand = False\n        table.row_styles = [\"dim\", \"none\"]\n        table.leading = 1\n        header(\"leading=1, row_styles=['dim', 'none']\")\n        console.print(table, justify=\"center\")\n        table.width = None\n        table.expand = False\n        table.row_styles = [\"dim\", \"none\"]\n        table.show_lines = True\n        table.leading = 0\n        header(\"show_lines=True, row_styles=['dim', 'none']\")\n        console.print(table, justify=\"center\")",
    "start_line": 971
  },
  {
    "file": "table.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "from dataclasses import dataclass, field, replace\nfrom typing import (\n    TYPE_CHECKING,\n    Dict,\n    Iterable,\n    List,\n    NamedTuple,\n    Optional,\n    Sequence,\n    Tuple,\n    Union,\n)\n\nfrom . import box, errors\nfrom ._loop import loop_first_last, loop_last\nfrom ._pick import pick_bool\nfrom ._ratio import ratio_distribute, ratio_reduce\nfrom .align import VerticalAlignMethod\nfrom .jupyter import JupyterMixin\nfrom .measure import Measurement\nfrom .padding import Padding, PaddingDimensions\nfrom .protocol import is_renderable\nfrom .segment import Segment\nfrom .style import Style, StyleType\nfrom .text import Text, TextType\n\nif TYPE_CHECKING:\n    from .console import (\n        Console,\n        ConsoleOptions,\n        JustifyMethod,\n        OverflowMethod,\n        RenderableType,\n        RenderResult,\n    )\n\n\n@dataclass\nclass Column:\n    \"\"\"Defines a column within a ~Table.\n\n    Args:\n        title (Union[str, Text], optional): The title of the table rendered at the top. Defaults to None.\n        caption (Union[str, Text], optional): The table caption rendered below. Defaults to None.\n        width (int, optional): The width in characters of the table, or ``None`` to automatically fit. Defaults to None.\n        min_width (Optional[int], optional): The minimum width of the table, or ``None`` for no minimum. Defaults to None.\n        box (box.Box, optional): One of the constants in box.py used to draw the edges (see :ref:`appendix_box`), or ``None`` for no box lines. Defaults to box.HEAVY_HEAD.\n        safe_box (Optional[bool], optional): Disable box characters that don't display on windows legacy terminal with *raster* fonts. Defaults to True.\n        padding (PaddingDimensions, optional): Padding for cells (top, right, bottom, left). Defaults to (0, 1).\n        collapse_padding (bool, optional): Enable collapsing of padding around cells. Defaults to False.\n        pad_edge (bool, optional): Enable padding of edge cells. Defaults to True.\n        expand (bool, optional): Expand the table to fit the available space if ``True``, otherwise the table width will be auto-calculated. Defaults to False.\n        show_header (bool, optional): Show a header row. Defaults to True.\n        show_footer (bool, optional): Show a footer row. Defaults to False.\n        show_edge (bool, optional): Draw a box around the outside of the table. Defaults to True.\n        show_lines (bool, optional): Draw lines between every row. Defaults to False.\n        leading (int, optional): Number of blank lines between rows (precludes ``show_lines``). Defaults to 0.\n        style (Union[str, Style], optional): Default style for the table. Defaults to \"none\".\n        row_styles (List[Union, str], optional): Optional list of row styles, if more than one style is given then the styles will alternate. Defaults to None.\n        header_style (Union[str, Style], optional): Style of the header. Defaults to \"table.header\".\n        footer_style (Union[str, Style], optional): Style of the footer. Defaults to \"table.footer\".\n        border_style (Union[str, Style], optional): Style of the border. Defaults to None.\n        title_style (Union[str, Style], optional): Style of the title. Defaults to None.\n        caption_style (Union[str, Style], optional): Style of the caption. Defaults to None.\n        title_justify (str, optional): Justify method for title. Defaults to \"center\".\n        caption_justify (str, optional): Justify method for caption. Defaults to \"center\".\n        highlight (bool, optional): Highlight cell contents (if str). Defaults to False.\n    \"\"\"\n\n    header: \"RenderableType\" = \"\"\n    \"\"\"RenderableType: Renderable for the header (typically a string)\"\"\"\n\n    footer: \"RenderableType\" = \"\"\n    \"\"\"RenderableType: Renderable for the footer (typically a string)\"\"\"\n\n    header_style: StyleType = \"\"\n    \"\"\"StyleType: The style of the header.\"\"\"\n\n    footer_style: StyleType = \"\"\n    \"\"\"StyleType: The style of the footer.\"\"\"\n\n    style: StyleType = \"\"\n    \"\"\"StyleType: The style of the column.\"\"\"\n\n    justify: \"JustifyMethod\" = \"left\"\n    \"\"\"str: How to justify text within the column (\"left\", \"center\", \"right\", or \"full\")\"\"\"\n\n    vertical: \"VerticalAlignMethod\" = \"top\"\n    \"\"\"str: How to vertically align content (\"top\", \"middle\", or \"bottom\")\"\"\"\n\n    overflow: \"OverflowMethod\" = \"ellipsis\"\n    \"\"\"str: Overflow method.\"\"\"\n\n    width: Optional[int] = None\n    \"\"\"Optional[int]: Width of the column, or ``None`` (default) to auto calculate width.\"\"\"\n\n    min_width: Optional[int] = None\n    \"\"\"Optional[int]: Minimum width of column, or ``None`` for no minimum. Defaults to None.\"\"\"\n\n    max_width: Optional[int] = None\n    \"\"\"Optional[int]: Maximum width of column, or ``None`` for no maximum. Defaults to None.\"\"\"\n\n    ratio: Optional[int] = None\n    \"\"\"Optional[int]: Ratio to use when calculating column width, or ``None`` (default) to adapt to column contents.\"\"\"\n\n    no_wrap: bool = False\n    \"\"\"bool: Prevent wrapping of text within the column. Defaults to ``False``.\"\"\"\n\n    highlight: bool = False\n    \"\"\"bool: Apply highlighter to column. Defaults to ``False``.\"\"\"\n\n    _index: int = 0\n    \"\"\"Index of column.\"\"\"\n\n    _cells: List[\"RenderableType\"] = field(default_factory=list)\n\n    def copy(self) -> \"Column\":\n        \"\"\"Return a copy of this Column.\"\"\"\n        return replace(self, _cells=[])\n\n    @property\n    def cells(self) -> Iterable[\"RenderableType\"]:\n        \"\"\"Get all cells in the column, not including header.\"\"\"\n        yield from self._cells\n\n    @property\n    def flexible(self) -> bool:\n        \"\"\"Check if this column is flexible.\"\"\"\n        return self.ratio is not None\n\n\n@dataclass\nclass Row:\n    \"\"\"Information regarding a row.\"\"\"\n\n    style: Optional[StyleType] = None\n    \"\"\"Style to apply to row.\"\"\"\n\n    end_section: bool = False\n    \"\"\"Indicated end of section, which will force a line beneath the row.\"\"\"\n\n\nclass _Cell(NamedTuple):\n    \"\"\"A single cell in a table.\"\"\"\n\n    style: StyleType\n    \"\"\"Style to apply to cell.\"\"\"\n    renderable: \"RenderableType\"\n    \"\"\"Cell renderable.\"\"\"\n    vertical: VerticalAlignMethod\n    \"\"\"Cell vertical alignment.\"\"\"\n\n\nclass Table(JupyterMixin):\n    \"\"\"A console renderable to draw a table.\n\n    Args:\n        *headers (Union[Column, str]): Column headers, either as a string, or :class:`~rich.table.Column` instance.\n        title (Union[str, Text], optional): The title of the table rendered at the top. Defaults to None.\n        caption (Union[str, Text], optional): The table caption rendered below. Defaults to None.\n        width (int, optional): The width in characters of the table, or ``None`` to automatically fit. Defaults to None.\n        min_width (Optional[int], optional): The minimum width of the table, or ``None`` for no minimum. Defaults to None.\n        box (box.Box, optional): One of the constants in box.py used to draw the edges (see :ref:`appendix_box`), or ``None`` for no box lines. Defaults to box.HEAVY_HEAD.\n        safe_box (Optional[bool], optional): Disable box characters that don't display on windows legacy terminal with *raster* fonts. Defaults to True.\n        padding (PaddingDimensions, optional): Padding for cells (top, right, bottom, left). Defaults to (0, 1).\n        collapse_padding (bool, optional): Enable collapsing of padding around cells. Defaults to False.\n        pad_edge (bool, optional): Enable padding of edge cells. Defaults to True.\n        expand (bool, optional): Expand the table to fit the available space if ``True``, otherwise the table width will be auto-calculated. Defaults to False.\n        show_header (bool, optional): Show a header row. Defaults to True.\n        show_footer (bool, optional): Show a footer row. Defaults to False.\n        show_edge (bool, optional): Draw a box around the outside of the table. Defaults to True.\n        show_lines (bool, optional): Draw lines between every row. Defaults to False.\n        leading (int, optional): Number of blank lines between rows (precludes ``show_lines``). Defaults to 0.\n        style (Union[str, Style], optional): Default style for the table. Defaults to \"none\".\n        row_styles (List[Union, str], optional): Optional list of row styles, if more than one style is given then the styles will alternate. Defaults to None.\n        header_style (Union[str, Style], optional): Style of the header. Defaults to \"table.header\".\n        footer_style (Union[str, Style], optional): Style of the footer. Defaults to \"table.footer\".\n        border_style (Union[str, Style], optional): Style of the border. Defaults to None.\n        title_style (Union[str, Style], optional): Style of the title. Defaults to None.\n        caption_style (Union[str, Style], optional): Style of the caption. Defaults to None.\n        title_justify (str, optional): Justify method for title. Defaults to \"center\".\n        caption_justify (str, optional): Justify method for caption. Defaults to \"center\".\n        highlight (bool, optional): Highlight cell contents (if str). Defaults to False.\n    \"\"\"\n\n    columns: List[Column]\n    rows: List[Row]\n\n    def __init__(\n        self,\n        *headers: Union[Column, str],\n        title: Optional[TextType] = None,\n        caption: Optional[TextType] = None,\n        width: Optional[int] = None,\n        min_width: Optional[int] = None,\n        box: Optional[box.Box] = box.HEAVY_HEAD,\n        safe_box: Optional[bool] = None,\n        padding: PaddingDimensions = (0, 1),\n        collapse_padding: bool = False,\n        pad_edge: bool = True,\n        expand: bool = False,\n        show_header: bool = True,\n        show_footer: bool = False,\n        show_edge: bool = True,\n        show_lines: bool = False,\n        leading: int = 0,\n        style: StyleType = \"none\",\n        row_styles: Optional[Iterable[StyleType]] = None,\n        header_style: Optional[StyleType] = \"table.header\",\n        footer_style: Optional[StyleType] = \"table.footer\",\n        border_style: Optional[StyleType] = None,\n        title_style: Optional[StyleType] = None,\n        caption_style: Optional[StyleType] = None,\n        title_justify: \"JustifyMethod\" = \"center\",\n        caption_justify: \"JustifyMethod\" = \"center\",\n        highlight: bool = False,\n    ) -> None:\n        self.columns: List[Column] = []\n        self.rows: List[Row] = []\n        self.title = title\n        self.caption = caption\n        self.width = width\n        self.min_width = min_width\n        self.box = box\n        self.safe_box = safe_box\n        self._padding = Padding.unpack(padding)\n        self.pad_edge = pad_edge\n        self._expand = expand\n        self.show_header = show_header\n        self.show_footer = show_footer\n        self.show_edge = show_edge\n        self.show_lines = show_lines\n        self.leading = leading\n        self.collapse_padding = collapse_padding\n        self.style = style\n        self.header_style = header_style or \"\"\n        self.footer_style = footer_style or \"\"\n        self.border_style = border_style\n        self.title_style = title_style\n        self.caption_style = caption_style\n        self.title_justify: \"JustifyMethod\" = title_justify\n        self.caption_justify: \"JustifyMethod\" = caption_justify\n        self.highlight = highlight\n        self.row_styles: Sequence[StyleType] = list(row_styles or [])\n        append_column = self.columns.append\n        for header in headers:\n            if isinstance(header, str):\n                self.add_column(header=header)\n            else:\n                header._index = len(self.columns)\n                append_column(header)\n\n    @classmethod\n    def grid(\n        cls,\n        *headers: Union[Column, str],\n        padding: PaddingDimensions = 0,\n        collapse_padding: bool = True,\n        pad_edge: bool = False,\n        expand: bool = False,\n    ) -> \"Table\":\n        \"\"\"Get a table with no lines, headers, or footer.\n\n        Args:\n            *headers (Union[Column, str]): Column headers, either as a string, or :class:`~rich.table.Column` instance.\n            padding (PaddingDimensions, optional): Get padding around cells. Defaults to 0.\n            collapse_padding (bool, optional): Enable collapsing of padding around cells. Defaults to True.\n            pad_edge (bool, optional): Enable padding around edges of table. Defaults to False.\n            expand (bool, optional): Expand the table to fit the available space if ``True``, otherwise the table width will be auto-calculated. Defaults to False.\n\n        Returns:\n            Table: A table instance.\n        \"\"\"\n        return cls(\n            *headers,\n            box=None,\n            padding=padding,\n            collapse_padding=collapse_padding,\n            show_header=False,\n            show_footer=False,\n            show_edge=False,\n            pad_edge=pad_edge,\n            expand=expand,\n        )\n\n    @property\n    def expand(self) -> bool:\n        \"\"\"Setting a non-None self.width implies expand.\"\"\"\n        return self._expand or self.width is not None\n\n    @expand.setter\n    def expand(self, expand: bool) -> None:\n        \"\"\"Set expand.\"\"\"\n        self._expand = expand\n\n    @property\n    def _extra_width(self) -> int:\n        \"\"\"Get extra width to add to cell content.\"\"\"\n        width = 0\n        if self.box and self.show_edge:\n            width += 2\n        if self.box:\n            width += len(self.columns) - 1\n        return width\n\n    @property\n    def row_count(self) -> int:\n        \"\"\"Get the current number of rows.\"\"\"\n        return len(self.rows)\n\n    def get_row_style(self, console: \"Console\", index: int) -> StyleType:\n        \"\"\"Get the current row style.\"\"\"\n        style = Style.null()\n        if self.row_styles:\n            style += console.get_style(self.row_styles[index % len(self.row_styles)])\n        row_style = self.rows[index].style\n        if row_style is not None:\n            style += console.get_style(row_style)\n        return style\n\n    def __rich_measure__(\n        self, console: \"Console\", options: \"ConsoleOptions\"\n    ) -> Measurement:\n        max_width = options.max_width\n        if self.width is not None:\n            max_width = self.width\n        if max_width < 0:\n            return Measurement(0, 0)\n\n        extra_width = self._extra_width\n        max_width = sum(\n            self._calculate_column_widths(\n                console, options.update_width(max_width - extra_width)\n            )\n        )\n        _measure_column = self._measure_column\n\n        measurements = [\n            _measure_column(console, options.update_width(max_width), column)\n            for column in self.columns\n        ]\n        minimum_width = (\n            sum(measurement.minimum for measurement in measurements) + extra_width\n        )\n        maximum_width = (\n            sum(measurement.maximum for measurement in measurements) + extra_width\n            if (self.width is None)\n            else self.width\n        )\n        measurement = Measurement(minimum_width, maximum_width)\n        measurement = measurement.clamp(self.min_width)\n        return measurement\n\n    @property\n    def padding(self) -> Tuple[int, int, int, int]:\n        \"\"\"Get cell padding.\"\"\"\n        return self._padding\n\n    @padding.setter\n    def padding(self, padding: PaddingDimensions) -> \"Table\":\n        \"\"\"Set cell padding.\"\"\"\n        self._padding = Padding.unpack(padding)\n        return self\n\n    def add_column(\n        self,\n        header: \"RenderableType\" = \"\",\n        footer: \"RenderableType\" = \"\",\n        *,\n        header_style: Optional[StyleType] = None,\n        highlight: Optional[bool] = None,\n        footer_style: Optional[StyleType] = None,\n        style: Optional[StyleType] = None,\n        justify: \"JustifyMethod\" = \"left\",\n        vertical: \"VerticalAlignMethod\" = \"top\",\n        overflow: \"OverflowMethod\" = \"ellipsis\",\n        width: Optional[int] = None,\n        min_width: Optional[int] = None,\n        max_width: Optional[int] = None,\n        ratio: Optional[int] = None,\n        no_wrap: bool = False,\n    ) -> None:\n        \"\"\"Add a column to the table.\n\n        Args:\n            header (RenderableType, optional): Text or renderable for the header.\n                Defaults to \"\".\n            footer (RenderableType, optional): Text or renderable for the footer.\n                Defaults to \"\".\n            header_style (Union[str, Style], optional): Style for the header, or None for default. Defaults to None.\n            highlight (bool, optional): Whether to highlight the text. The default of None uses the value of the table (self) object.\n            footer_style (Union[str, Style], optional): Style for the footer, or None for default. Defaults to None.\n            style (Union[str, Style], optional): Style for the column cells, or None for default. Defaults to None.\n            justify (JustifyMethod, optional): Alignment for cells. Defaults to \"left\".\n            vertical (VerticalAlignMethod, optional): Vertical alignment, one of \"top\", \"middle\", or \"bottom\". Defaults to \"top\".\n            overflow (OverflowMethod): Overflow method: \"crop\", \"fold\", \"ellipsis\". Defaults to \"ellipsis\".\n            width (int, optional): Desired width of column in characters, or None to fit to contents. Defaults to None.\n            min_width (Optional[int], optional): Minimum width of column, or ``None`` for no minimum. Defaults to None.\n            max_width (Optional[int], optional): Maximum width of column, or ``None`` for no maximum. Defaults to None.\n            ratio (int, optional): Flexible ratio for the column (requires ``Table.expand`` or ``Table.width``). Defaults to None.\n            no_wrap (bool, optional): Set to ``True`` to disable wrapping of this column.\n        \"\"\"\n\n        column = Column(\n            _index=len(self.columns),\n            header=header,\n            footer=footer,\n            header_style=header_style or \"\",\n            highlight=highlight if highlight is not None else self.highlight,\n            footer_style=footer_style or \"\",\n            style=style or \"\",\n            justify=justify,\n            vertical=vertical,\n            overflow=overflow,\n            width=width,\n            min_width=min_width,\n            max_width=max_width,\n            ratio=ratio,\n            no_wrap=no_wrap,\n        )\n        self.columns.append(column)\n\n    def add_row(\n        self,\n        *renderables: Optional[\"RenderableType\"],\n        style: Optional[StyleType] = None,\n        end_section: bool = False,\n    ) -> None:\n        \"\"\"Add a row of renderables.\n\n        Args:\n            *renderables (None or renderable): Each cell in a row must be a renderable object (including str),\n                or ``None`` for a blank cell.\n            style (StyleType, optional): An optional style to apply to the entire row. Defaults to None.\n            end_section (bool, optional): End a section and draw a line. Defaults to False.\n\n        Raises:\n            errors.NotRenderableError: If you add something that can't be rendered.\n        \"\"\"\n\n        def add_cell(column: Column, renderable: \"RenderableType\") -> None:\n            column._cells.append(renderable)\n\n        cell_renderables: List[Optional[\"RenderableType\"]] = list(renderables)\n\n        columns = self.columns\n        if len(cell_renderables) < len(columns):\n            cell_renderables = [\n                *cell_renderables,\n                *[None] * (len(columns) - len(cell_renderables)),\n            ]\n        for index, renderable in enumerate(cell_renderables):\n            if index == len(columns):\n                column = Column(_index=index, highlight=self.highlight)\n                for _ in self.rows:\n                    add_cell(column, Text(\"\"))\n                self.columns.append(column)\n            else:\n                column = columns[index]\n            if renderable is None:\n                add_cell(column, \"\")\n            elif is_renderable(renderable):\n                add_cell(column, renderable)\n            else:\n                raise errors.NotRenderableError(\n                    f\"unable to render {type(renderable).__name__}; a string or other renderable object is required\"\n                )\n        self.rows.append(Row(style=style, end_section=end_section))\n\n    def add_section(self) -> None:\n        \"\"\"Add a new section (draw a line after current row).\"\"\"\n\n        if self.rows:\n            self.rows[-1].end_section = True\n\n    def __rich_console__(\n        self, console: \"Console\", options: \"ConsoleOptions\"\n    ) -> \"RenderResult\":\n        if not self.columns:\n            yield Segment(\"\\n\")\n            return\n\n        max_width = options.max_width\n        if self.width is not None:\n            max_width = self.width\n\n        extra_width = self._extra_width\n        widths = self._calculate_column_widths(\n            console, options.update_width(max_width - extra_width)\n        )\n        table_width = sum(widths) + extra_width\n\n        render_options = options.update(\n            width=table_width, highlight=self.highlight, height=None\n        )\n\n        def render_annotation(\n            text: TextType, style: StyleType, justify: \"JustifyMethod\" = \"center\"\n        ) -> \"RenderResult\":\n            render_text = (\n                console.render_str(text, style=style, highlight=False)\n                if isinstance(text, str)\n                else text\n            )\n            return console.render(\n                render_text, options=render_options.update(justify=justify)\n            )\n\n        if self.title:\n            yield from render_annotation(\n                self.title,\n                style=Style.pick_first(self.title_style, \"table.title\"),\n                justify=self.title_justify,\n            )\n        yield from self._render(console, render_options, widths)\n        if self.caption:\n            yield from render_annotation(\n                self.caption,\n                style=Style.pick_first(self.caption_style, \"table.caption\"),\n                justify=self.caption_justify,\n            )\n\n    def _calculate_column_widths(\n        self, console: \"Console\", options: \"ConsoleOptions\"\n    ) -> List[int]:\n        \"\"\"Calculate the widths of each column, including padding, not including borders.\"\"\"\n        max_width = options.max_width\n        columns = self.columns\n        width_ranges = [\n            self._measure_column(console, options, column) for column in columns\n        ]\n        widths = [_range.maximum or 1 for _range in width_ranges]\n        get_padding_width = self._get_padding_width\n        extra_width = self._extra_width\n        if self.expand:\n            ratios = [col.ratio or 0 for col in columns if col.flexible]\n            if any(ratios):\n                fixed_widths = [\n                    0 if column.flexible else _range.maximum\n                    for _range, column in zip(width_ranges, columns)\n                ]\n                flex_minimum = [\n                    (column.width or 1) + get_padding_width(column._index)\n                    for column in columns\n                    if column.flexible\n                ]\n                flexible_width = max_width - sum(fixed_widths)\n                flex_widths = ratio_distribute(flexible_width, ratios, flex_minimum)\n                iter_flex_widths = iter(flex_widths)\n                for index, column in enumerate(columns):\n                    if column.flexible:\n                        widths[index] = fixed_widths[index] + next(iter_flex_widths)\n        table_width = sum(widths)\n\n        if table_width > max_width:\n            widths = self._collapse_widths(\n                widths,\n                [(column.width is None and not column.no_wrap) for column in columns],\n                max_width,\n            )\n            table_width = sum(widths)\n            # last resort, reduce columns evenly\n            if table_width > max_width:\n                excess_width = table_width - max_width\n                widths = ratio_reduce(excess_width, [1] * len(widths), widths, widths)\n                table_width = sum(widths)\n\n            width_ranges = [\n                self._measure_column(console, options.update_width(width), column)\n                for width, column in zip(widths, columns)\n            ]\n            widths = [_range.maximum or 0 for _range in width_ranges]\n\n        if (table_width < max_width and self.expand) or (\n            self.min_width is not None and table_width < (self.min_width - extra_width)\n        ):\n            _max_width = (\n                max_width\n                if self.min_width is None\n                else min(self.min_width - extra_width, max_width)\n            )\n            pad_widths = ratio_distribute(_max_width - table_width, widths)\n            widths = [_width + pad for _width, pad in zip(widths, pad_widths)]\n\n        return widths\n\n    @classmethod\n    def _collapse_widths(\n        cls, widths: List[int], wrapable: List[bool], max_width: int\n    ) -> List[int]:\n        \"\"\"Reduce widths so that the total is under max_width.\n\n        Args:\n            widths (List[int]): List of widths.\n            wrapable (List[bool]): List of booleans that indicate if a column may shrink.\n            max_width (int): Maximum width to reduce to.\n\n        Returns:\n            List[int]: A new list of widths.\n        \"\"\"\n        total_width = sum(widths)\n        excess_width = total_width - max_width\n        if any(wrapable):\n            while total_width and excess_width > 0:\n                max_column = max(\n                    width for width, allow_wrap in zip(widths, wrapable) if allow_wrap\n                )\n                second_max_column = max(\n                    width if allow_wrap and width != max_column else 0\n                    for width, allow_wrap in zip(widths, wrapable)\n                )\n                column_difference = max_column - second_max_column\n                ratios = [\n                    (1 if (width == max_column and allow_wrap) else 0)\n                    for width, allow_wrap in zip(widths, wrapable)\n                ]\n                if not any(ratios) or not column_difference:\n                    break\n                max_reduce = [min(excess_width, column_difference)] * len(widths)\n                widths = ratio_reduce(excess_width, ratios, max_reduce, widths)\n\n                total_width = sum(widths)\n                excess_width = total_width - max_width\n        return widths\n\n    def _get_cells(\n        self, console: \"Console\", column_index: int, column: Column\n    ) -> Iterable[_Cell]:\n        \"\"\"Get all the cells with padding and optional header.\"\"\"\n\n        collapse_padding = self.collapse_padding\n        pad_edge = self.pad_edge\n        padding = self.padding\n        any_padding = any(padding)\n\n        first_column = column_index == 0\n        last_column = column_index == len(self.columns) - 1\n\n        _padding_cache: Dict[Tuple[bool, bool], Tuple[int, int, int, int]] = {}\n\n        def get_padding(first_row: bool, last_row: bool) -> Tuple[int, int, int, int]:\n            cached = _padding_cache.get((first_row, last_row))\n            if cached:\n                return cached\n            top, right, bottom, left = padding\n\n            if collapse_padding:\n                if not first_column:\n                    left = max(0, left - right)\n                if not last_row:\n                    bottom = max(0, top - bottom)\n\n            if not pad_edge:\n                if first_column:\n                    left = 0\n                if last_column:\n                    right = 0\n                if first_row:\n                    top = 0\n                if last_row:\n                    bottom = 0\n            _padding = (top, right, bottom, left)\n            _padding_cache[(first_row, last_row)] = _padding\n            return _padding\n\n        raw_cells: List[Tuple[StyleType, \"RenderableType\"]] = []\n        _append = raw_cells.append\n        get_style = console.get_style\n        if self.show_header:\n            header_style = get_style(self.header_style or \"\") + get_style(\n                column.header_style\n            )\n            _append((header_style, column.header))\n        cell_style = get_style(column.style or \"\")\n        for cell in column.cells:\n            _append((cell_style, cell))\n        if self.show_footer:\n            footer_style = get_style(self.footer_style or \"\") + get_style(\n                column.footer_style\n            )\n            _append((footer_style, column.footer))\n\n        if any_padding:\n            _Padding = Padding\n            for first, last, (style, renderable) in loop_first_last(raw_cells):\n                yield _Cell(\n                    style,\n                    _Padding(renderable, get_padding(first, last)),\n                    getattr(renderable, \"vertical\", None) or column.vertical,\n                )\n        else:\n            for style, renderable in raw_cells:\n                yield _Cell(\n                    style,\n                    renderable,\n                    getattr(renderable, \"vertical\", None) or column.vertical,\n                )\n\n    def _get_padding_width(self, column_index: int) -> int:\n        \"\"\"Get extra width from padding.\"\"\"\n        _, pad_right, _, pad_left = self.padding\n        if self.collapse_padding:\n            if column_index > 0:\n                pad_left = max(0, pad_left - pad_right)\n        return pad_left + pad_right\n\n    def _measure_column(\n        self,\n        console: \"Console\",\n        options: \"ConsoleOptions\",\n        column: Column,\n    ) -> Measurement:\n        \"\"\"Get the minimum and maximum width of the column.\"\"\"\n\n        max_width = options.max_width\n        if max_width < 1:\n            return Measurement(0, 0)\n\n        padding_width = self._get_padding_width(column._index)\n\n        if column.width is not None:\n            # Fixed width column\n            return Measurement(\n                column.width + padding_width, column.width + padding_width\n            ).with_maximum(max_width)\n        # Flexible column, we need to measure contents\n        min_widths: List[int] = []\n        max_widths: List[int] = []\n        append_min = min_widths.append\n        append_max = max_widths.append\n        get_render_width = Measurement.get\n        for cell in self._get_cells(console, column._index, column):\n            _min, _max = get_render_width(console, options, cell.renderable)\n            append_min(_min)\n            append_max(_max)\n\n        measurement = Measurement(\n            max(min_widths) if min_widths else 1,\n            max(max_widths) if max_widths else max_width,\n        ).with_maximum(max_width)\n        measurement = measurement.clamp(\n            None if column.min_width is None else column.min_width + padding_width,\n            None if column.max_width is None else column.max_width + padding_width,\n        )\n        return measurement\n\n    def _render(\n        self, console: \"Console\", options: \"ConsoleOptions\", widths: List[int]\n    ) -> \"RenderResult\":\n        table_style = console.get_style(self.style or \"\")\n\n        border_style = table_style + console.get_style(self.border_style or \"\")\n        _column_cells = (\n            self._get_cells(console, column_index, column)\n            for column_index, column in enumerate(self.columns)\n        )\n        row_cells: List[Tuple[_Cell, ...]] = list(zip(*_column_cells))\n        _box = (\n            self.box.substitute(\n                options, safe=pick_bool(self.safe_box, console.safe_box)\n            )\n            if self.box\n            else None\n        )\n        _box = _box.get_plain_headed_box() if _box and not self.show_header else _box\n\n        new_line = Segment.line()\n\n        columns = self.columns\n        show_header = self.show_header\n        show_footer = self.show_footer\n        show_edge = self.show_edge\n        show_lines = self.show_lines\n        leading = self.leading\n\n        _Segment = Segment\n        if _box:\n            box_segments = [\n                (\n                    _Segment(_box.head_left, border_style),\n                    _Segment(_box.head_right, border_style),\n                    _Segment(_box.head_vertical, border_style),\n                ),\n                (\n                    _Segment(_box.mid_left, border_style),\n                    _Segment(_box.mid_right, border_style),\n                    _Segment(_box.mid_vertical, border_style),\n                ),\n                (\n                    _Segment(_box.foot_left, border_style),\n                    _Segment(_box.foot_right, border_style),\n                    _Segment(_box.foot_vertical, border_style),\n                ),\n            ]\n            if show_edge:\n                yield _Segment(_box.get_top(widths), border_style)\n                yield new_line\n        else:\n            box_segments = []\n\n        get_row_style = self.get_row_style\n        get_style = console.get_style\n\n        for index, (first, last, row_cell) in enumerate(loop_first_last(row_cells)):\n            header_row = first and show_header\n            footer_row = last and show_footer\n            row = (\n                self.rows[index - show_header]\n                if (not header_row and not footer_row)\n                else None\n            )\n            max_height = 1\n            cells: List[List[List[Segment]]] = []\n            if header_row or footer_row:\n                row_style = Style.null()\n            else:\n                row_style = get_style(\n                    get_row_style(console, index - 1 if show_header else index)\n                )\n            for width, cell, column in zip(widths, row_cell, columns):\n                render_options = options.update(\n                    width=width,\n                    justify=column.justify,\n                    no_wrap=column.no_wrap,\n                    overflow=column.overflow,\n                    height=None,\n                    highlight=column.highlight,\n                )\n                lines = console.render_lines(\n                    cell.renderable,\n                    render_options,\n                    style=get_style(cell.style) + row_style,\n                )\n                max_height = max(max_height, len(lines))\n                cells.append(lines)\n\n            row_height = max(len(cell) for cell in cells)\n\n            def align_cell(\n                cell: List[List[Segment]],\n                vertical: \"VerticalAlignMethod\",\n                width: int,\n                style: Style,\n            ) -> List[List[Segment]]:\n                if header_row:\n                    vertical = \"bottom\"\n                elif footer_row:\n                    vertical = \"top\"\n\n                if vertical == \"top\":\n                    return _Segment.align_top(cell, width, row_height, style)\n                elif vertical == \"middle\":\n                    return _Segment.align_middle(cell, width, row_height, style)\n                return _Segment.align_bottom(cell, width, row_height, style)\n\n            cells[:] = [\n                _Segment.set_shape(\n                    align_cell(\n                        cell,\n                        _cell.vertical,\n                        width,\n                        get_style(_cell.style) + row_style,\n                    ),\n                    width,\n                    max_height,\n                )\n                for width, _cell, cell, column in zip(widths, row_cell, cells, columns)\n            ]\n\n            if _box:\n                if last and show_footer:\n                    yield _Segment(\n                        _box.get_row(widths, \"foot\", edge=show_edge), border_style\n                    )\n                    yield new_line\n                left, right, _divider = box_segments[0 if first else (2 if last else 1)]\n\n                # If the column divider is whitespace also style it with the row background\n                divider = (\n                    _divider\n                    if _divider.text.strip()\n                    else _Segment(\n                        _divider.text, row_style.background_style + _divider.style\n                    )\n                )\n                for line_no in range(max_height):\n                    if show_edge:\n                        yield left\n                    for last_cell, rendered_cell in loop_last(cells):\n                        yield from rendered_cell[line_no]\n                        if not last_cell:\n                            yield divider\n                    if show_edge:\n                        yield right\n                    yield new_line\n            else:\n                for line_no in range(max_height):\n                    for rendered_cell in cells:\n                        yield from rendered_cell[line_no]\n                    yield new_line\n            if _box and first and show_header:\n                yield _Segment(\n                    _box.get_row(widths, \"head\", edge=show_edge), border_style\n                )\n                yield new_line\n            end_section = row and row.end_section\n            if _box and (show_lines or leading or end_section):\n                if (\n                    not last\n                    and not (show_footer and index >= len(row_cells) - 2)\n                    and not (show_header and header_row)\n                ):\n                    if leading:\n                        yield _Segment(\n                            _box.get_row(widths, \"mid\", edge=show_edge) * leading,\n                            border_style,\n                        )\n                    else:\n                        yield _Segment(\n                            _box.get_row(widths, \"row\", edge=show_edge), border_style\n                        )\n                    yield new_line\n\n        if _box and show_edge:\n            yield _Segment(_box.get_bottom(widths), border_style)\n            yield new_line\n\n\nif __name__ == \"__main__\":  # pragma: no cover\n    from rich.console import Console\n    from rich.highlighter import ReprHighlighter\n\n    from ._timer import timer\n\n    with timer(\"Table render\"):\n        table = Table(\n            title=\"Star Wars Movies\",\n            caption=\"Rich example table\",\n            caption_justify=\"right\",\n        )\n\n        table.add_column(\n            \"Released\", header_style=\"bright_cyan\", style=\"cyan\", no_wrap=True\n        )\n        table.add_column(\"Title\", style=\"magenta\")\n        table.add_column(\"Box Office\", justify=\"right\", style=\"green\")\n\n        table.add_row(\n            \"Dec 20, 2019\",\n            \"Star Wars: The Rise of Skywalker\",\n            \"$952,110,690\",\n        )\n        table.add_row(\"May 25, 2018\", \"Solo: A Star Wars Story\", \"$393,151,347\")\n        table.add_row(\n            \"Dec 15, 2017\",\n            \"Star Wars Ep. V111: The Last Jedi\",\n            \"$1,332,539,889\",\n            style=\"on black\",\n            end_section=True,\n        )\n        table.add_row(\n            \"Dec 16, 2016\",\n            \"Rogue One: A Star Wars Story\",\n            \"$1,332,439,889\",\n        )\n\n        def header(text: str) -> None:\n            console.print()\n            console.rule(highlight(text))\n            console.print()\n\n        console = Console()\n        highlight = ReprHighlighter()\n        header(\"Example Table\")\n        console.print(table, justify=\"center\")\n\n        table.expand = True\n        header(\"expand=True\")\n        console.print(table)\n\n        table.width = 50\n        header(\"width=50\")\n\n        console.print(table, justify=\"center\")\n\n        table.width = None\n        table.expand = False\n        table.row_styles = [\"dim\", \"none\"]\n        header(\"row_styles=['dim', 'none']\")\n\n        console.print(table, justify=\"center\")\n\n        table.width = None\n        table.expand = False\n        table.row_styles = [\"dim\", \"none\"]\n        table.leading = 1\n        header(\"leading=1, row_styles=['dim', 'none']\")\n        console.print(table, justify=\"center\")\n\n        table.width = None\n        table.expand = False\n        table.row_styles = [\"dim\", \"none\"]\n        table.show_lines = True\n        table.leading = 0\n        header(\"show_lines=True, row_styles=['dim', 'none']\")\n        console.print(table, justify=\"center\")\n",
    "start_line": 0
  },
  {
    "file": "_export_format.py",
    "type": "constants",
    "class": null,
    "method": null,
    "name": "module_constants",
    "content": "CONSOLE_HTML_FORMAT = \"\"\"\\\n<!DOCTYPE html>\n<html>\n<head>\n<meta charset=\"UTF-8\">\n<style>\n{stylesheet}\nbody {{\n    color: {foreground};\n    background-color: {background};\n}}\n</style>\n</head>\n<body>\n    <pre style=\"font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace\"><code style=\"font-family:inherit\">{code}</code></pre>\n</body>\n</html>\n\"\"\"\nCONSOLE_SVG_FORMAT = \"\"\"\\\n<svg class=\"rich-terminal\" viewBox=\"0 0 {width} {height}\" xmlns=\"http://www.w3.org/2000/svg\">\n    <!-- Generated with Rich https://www.textualize.io -->\n    <style>\n    @font-face {{\n        font-family: \"Fira Code\";\n        src: local(\"FiraCode-Regular\"),\n                url(\"https://cdnjs.cloudflare.com/ajax/libs/firacode/6.2.0/woff2/FiraCode-Regular.woff2\") format(\"woff2\"),\n                url(\"https://cdnjs.cloudflare.com/ajax/libs/firacode/6.2.0/woff/FiraCode-Regular.woff\") format(\"woff\");\n        font-style: normal;\n        font-weight: 400;\n    }}\n    @font-face {{\n        font-family: \"Fira Code\";\n        src: local(\"FiraCode-Bold\"),\n                url(\"https://cdnjs.cloudflare.com/ajax/libs/firacode/6.2.0/woff2/FiraCode-Bold.woff2\") format(\"woff2\"),\n                url(\"https://cdnjs.cloudflare.com/ajax/libs/firacode/6.2.0/woff/FiraCode-Bold.woff\") format(\"woff\");\n        font-style: bold;\n        font-weight: 700;\n    }}\n    .{unique_id}-matrix {{\n        font-family: Fira Code, monospace;\n        font-size: {char_height}px;\n        line-height: {line_height}px;\n        font-variant-east-asian: full-width;\n    }}\n    .{unique_id}-title {{\n        font-size: 18px;\n        font-weight: bold;\n        font-family: arial;\n    }}\n    {styles}\n    </style>\n    <defs>\n    <clipPath id=\"{unique_id}-clip-terminal\">\n      <rect x=\"0\" y=\"0\" width=\"{terminal_width}\" height=\"{terminal_height}\" />\n    </clipPath>\n    {lines}\n    </defs>\n    {chrome}\n    <g transform=\"translate({terminal_x}, {terminal_y})\" clip-path=\"url(#{unique_id}-clip-terminal)\">\n    {backgrounds}\n    <g class=\"{unique_id}-matrix\">\n    {matrix}\n    </g>\n    </g>\n</svg>\n\"\"\"",
    "start_line": 0
  },
  {
    "file": "_export_format.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "_SVG_FONT_FAMILY = \"Rich Fira Code\"\n_SVG_CLASSES_PREFIX = \"rich-svg\"",
    "start_line": 74
  },
  {
    "file": "_export_format.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "CONSOLE_HTML_FORMAT = \"\"\"\\\n<!DOCTYPE html>\n<html>\n<head>\n<meta charset=\"UTF-8\">\n<style>\n{stylesheet}\nbody {{\n    color: {foreground};\n    background-color: {background};\n}}\n</style>\n</head>\n<body>\n    <pre style=\"font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace\"><code style=\"font-family:inherit\">{code}</code></pre>\n</body>\n</html>\n\"\"\"\n\nCONSOLE_SVG_FORMAT = \"\"\"\\\n<svg class=\"rich-terminal\" viewBox=\"0 0 {width} {height}\" xmlns=\"http://www.w3.org/2000/svg\">\n    <!-- Generated with Rich https://www.textualize.io -->\n    <style>\n\n    @font-face {{\n        font-family: \"Fira Code\";\n        src: local(\"FiraCode-Regular\"),\n                url(\"https://cdnjs.cloudflare.com/ajax/libs/firacode/6.2.0/woff2/FiraCode-Regular.woff2\") format(\"woff2\"),\n                url(\"https://cdnjs.cloudflare.com/ajax/libs/firacode/6.2.0/woff/FiraCode-Regular.woff\") format(\"woff\");\n        font-style: normal;\n        font-weight: 400;\n    }}\n    @font-face {{\n        font-family: \"Fira Code\";\n        src: local(\"FiraCode-Bold\"),\n                url(\"https://cdnjs.cloudflare.com/ajax/libs/firacode/6.2.0/woff2/FiraCode-Bold.woff2\") format(\"woff2\"),\n                url(\"https://cdnjs.cloudflare.com/ajax/libs/firacode/6.2.0/woff/FiraCode-Bold.woff\") format(\"woff\");\n        font-style: bold;\n        font-weight: 700;\n    }}\n\n    .{unique_id}-matrix {{\n        font-family: Fira Code, monospace;\n        font-size: {char_height}px;\n        line-height: {line_height}px;\n        font-variant-east-asian: full-width;\n    }}\n\n    .{unique_id}-title {{\n        font-size: 18px;\n        font-weight: bold;\n        font-family: arial;\n    }}\n\n    {styles}\n    </style>\n\n    <defs>\n    <clipPath id=\"{unique_id}-clip-terminal\">\n      <rect x=\"0\" y=\"0\" width=\"{terminal_width}\" height=\"{terminal_height}\" />\n    </clipPath>\n    {lines}\n    </defs>\n\n    {chrome}\n    <g transform=\"translate({terminal_x}, {terminal_y})\" clip-path=\"url(#{unique_id}-clip-terminal)\">\n    {backgrounds}\n    <g class=\"{unique_id}-matrix\">\n    {matrix}\n    </g>\n    </g>\n</svg>\n\"\"\"\n\n_SVG_FONT_FAMILY = \"Rich Fira Code\"\n_SVG_CLASSES_PREFIX = \"rich-svg\"\n",
    "start_line": 0
  },
  {
    "file": "progress_bar.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "import math\nfrom functools import lru_cache\nfrom time import monotonic\nfrom typing import Iterable, List, Optional\nfrom .color import Color, blend_rgb\nfrom .color_triplet import ColorTriplet\nfrom .console import Console, ConsoleOptions, RenderResult\nfrom .jupyter import JupyterMixin\nfrom .measure import Measurement\nfrom .segment import Segment\nfrom .style import Style, StyleType",
    "start_line": 0
  },
  {
    "file": "progress_bar.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# Number of characters before 'pulse' animation repeats",
    "start_line": 13
  },
  {
    "file": "progress_bar.py",
    "type": "constants",
    "class": null,
    "method": null,
    "name": "module_constants",
    "content": "PULSE_SIZE = 20",
    "start_line": 14
  },
  {
    "file": "progress_bar.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "ProgressBar",
    "content": "class ProgressBar(JupyterMixin):\n    \"\"\"Renders a (progress) bar. Used by rich.progress.\n\n    Args:\n        total (float, optional): Number of steps in the bar. Defaults to 100. Set to None to render a pulsing animation.\n        completed (float, optional): Number of steps completed. Defaults to 0.\n        width (int, optional): Width of the bar, or ``None`` for maximum width. Defaults to None.\n        pulse (bool, optional): Enable pulse effect. Defaults to False. Will pulse if a None total was passed.\n        style (StyleType, optional): Style for the bar background. Defaults to \"bar.back\".\n        complete_style (StyleType, optional): Style for the completed bar. Defaults to \"bar.complete\".\n        finished_style (StyleType, optional): Style for a finished bar. Defaults to \"bar.finished\".\n        pulse_style (StyleType, optional): Style for pulsing bars. Defaults to \"bar.pulse\".\n        animation_time (Optional[float], optional): Time in seconds to use for animation, or None to use system time.\n    \"\"\"",
    "start_line": 17
  },
  {
    "file": "progress_bar.py",
    "type": "method",
    "class": "ProgressBar",
    "method": "__init__",
    "name": "__init__",
    "content": "class ProgressBar:\n    def __init__(\n        self,\n        total: Optional[float] = 100.0,\n        completed: float = 0,\n        width: Optional[int] = None,\n        pulse: bool = False,\n        style: StyleType = \"bar.back\",\n        complete_style: StyleType = \"bar.complete\",\n        finished_style: StyleType = \"bar.finished\",\n        pulse_style: StyleType = \"bar.pulse\",\n        animation_time: Optional[float] = None,\n    ):\n        self.total = total\n        self.completed = completed\n        self.width = width\n        self.pulse = pulse\n        self.style = style\n        self.complete_style = complete_style\n        self.finished_style = finished_style\n        self.pulse_style = pulse_style\n        self.animation_time = animation_time\n\n        self._pulse_segments: Optional[List[Segment]] = None",
    "start_line": 32
  },
  {
    "file": "progress_bar.py",
    "type": "method",
    "class": "ProgressBar",
    "method": "__repr__",
    "name": "__repr__",
    "content": "class ProgressBar:\n    def __repr__(self) -> str:\n        return f\"<Bar {self.completed!r} of {self.total!r}>\"\n\n    @property",
    "start_line": 56
  },
  {
    "file": "progress_bar.py",
    "type": "method",
    "class": "ProgressBar",
    "method": "percentage_completed",
    "name": "percentage_completed",
    "content": "class ProgressBar:\n    def percentage_completed(self) -> Optional[float]:\n        \"\"\"Calculate percentage complete.\"\"\"\n        if self.total is None:\n            return None\n        completed = (self.completed / self.total) * 100.0\n        completed = min(100, max(0.0, completed))\n        return completed\n\n    @lru_cache(maxsize=16)",
    "start_line": 60
  },
  {
    "file": "progress_bar.py",
    "type": "method",
    "class": "ProgressBar",
    "method": "_get_pulse_segments",
    "name": "_get_pulse_segments",
    "content": "class ProgressBar:\n    def _get_pulse_segments(\n        self,\n        fore_style: Style,\n        back_style: Style,\n        color_system: str,\n        no_color: bool,\n        ascii: bool = False,\n    ) -> List[Segment]:\n        \"\"\"Get a list of segments to render a pulse animation.\n\n        Returns:\n            List[Segment]: A list of segments, one segment per character.\n        \"\"\"\n        bar = \"-\" if ascii else \"\"\n        segments: List[Segment] = []\n        if color_system not in (\"standard\", \"eight_bit\", \"truecolor\") or no_color:\n            segments += [Segment(bar, fore_style)] * (PULSE_SIZE // 2)\n            segments += [Segment(\" \" if no_color else bar, back_style)] * (\n                PULSE_SIZE - (PULSE_SIZE // 2)\n            )\n            return segments\n\n        append = segments.append\n        fore_color = (\n            fore_style.color.get_truecolor()\n            if fore_style.color\n            else ColorTriplet(255, 0, 255)\n        )\n        back_color = (\n            back_style.color.get_truecolor()\n            if back_style.color\n            else ColorTriplet(0, 0, 0)\n        )\n        cos = math.cos\n        pi = math.pi\n        _Segment = Segment\n        _Style = Style\n        from_triplet = Color.from_triplet\n\n        for index in range(PULSE_SIZE):\n            position = index / PULSE_SIZE\n            fade = 0.5 + cos(position * pi * 2) / 2.0\n            color = blend_rgb(fore_color, back_color, cross_fade=fade)\n            append(_Segment(bar, _Style(color=from_triplet(color))))\n        return segments",
    "start_line": 69
  },
  {
    "file": "progress_bar.py",
    "type": "method",
    "class": "ProgressBar",
    "method": "update",
    "name": "update",
    "content": "class ProgressBar:\n    def update(self, completed: float, total: Optional[float] = None) -> None:\n        \"\"\"Update progress with new values.\n\n        Args:\n            completed (float): Number of steps completed.\n            total (float, optional): Total number of steps, or ``None`` to not change. Defaults to None.\n        \"\"\"\n        self.completed = completed\n        self.total = total if total is not None else self.total",
    "start_line": 115
  },
  {
    "file": "progress_bar.py",
    "type": "method",
    "class": "ProgressBar",
    "method": "_render_pulse",
    "name": "_render_pulse",
    "content": "class ProgressBar:\n    def _render_pulse(\n        self, console: Console, width: int, ascii: bool = False\n    ) -> Iterable[Segment]:\n        \"\"\"Renders the pulse animation.\n\n        Args:\n            console (Console): Console instance.\n            width (int): Width in characters of pulse animation.\n\n        Returns:\n            RenderResult: [description]\n\n        Yields:\n            Iterator[Segment]: Segments to render pulse\n        \"\"\"\n        fore_style = console.get_style(self.pulse_style, default=\"white\")\n        back_style = console.get_style(self.style, default=\"black\")\n\n        pulse_segments = self._get_pulse_segments(\n            fore_style, back_style, console.color_system, console.no_color, ascii=ascii\n        )\n        segment_count = len(pulse_segments)\n        current_time = (\n            monotonic() if self.animation_time is None else self.animation_time\n        )\n        segments = pulse_segments * (int(width / segment_count) + 2)\n        offset = int(-current_time * 15) % segment_count\n        segments = segments[offset : offset + width]\n        yield from segments",
    "start_line": 125
  },
  {
    "file": "progress_bar.py",
    "type": "method",
    "class": "ProgressBar",
    "method": "__rich_console__",
    "name": "__rich_console__",
    "content": "class ProgressBar:\n    def __rich_console__(\n        self, console: Console, options: ConsoleOptions\n    ) -> RenderResult:\n        width = min(self.width or options.max_width, options.max_width)\n        ascii = options.legacy_windows or options.ascii_only\n        should_pulse = self.pulse or self.total is None\n        if should_pulse:\n            yield from self._render_pulse(console, width, ascii=ascii)\n            return\n\n        completed: Optional[float] = (\n            min(self.total, max(0, self.completed)) if self.total is not None else None\n        )\n\n        bar = \"-\" if ascii else \"\"\n        half_bar_right = \" \" if ascii else \"\"\n        half_bar_left = \" \" if ascii else \"\"\n        complete_halves = (\n            int(width * 2 * completed / self.total)\n            if self.total and completed is not None\n            else width * 2\n        )\n        bar_count = complete_halves // 2\n        half_bar_count = complete_halves % 2\n        style = console.get_style(self.style)\n        is_finished = self.total is None or self.completed >= self.total\n        complete_style = console.get_style(\n            self.finished_style if is_finished else self.complete_style\n        )\n        _Segment = Segment\n        if bar_count:\n            yield _Segment(bar * bar_count, complete_style)\n        if half_bar_count:\n            yield _Segment(half_bar_right * half_bar_count, complete_style)\n\n        if not console.no_color:\n            remaining_bars = width - bar_count - half_bar_count\n            if remaining_bars and console.color_system is not None:\n                if not half_bar_count and bar_count:\n                    yield _Segment(half_bar_left, style)\n                    remaining_bars -= 1\n                if remaining_bars:\n                    yield _Segment(bar * remaining_bars, style)",
    "start_line": 155
  },
  {
    "file": "progress_bar.py",
    "type": "method",
    "class": "ProgressBar",
    "method": "__rich_measure__",
    "name": "__rich_measure__",
    "content": "class ProgressBar:\n    def __rich_measure__(\n        self, console: Console, options: ConsoleOptions\n    ) -> Measurement:\n        return (\n            Measurement(self.width, self.width)\n            if self.width is not None\n            else Measurement(4, options.max_width)\n        )\n\n\nif __name__ == \"__main__\":  # pragma: no cover\n    console = Console()\n    bar = ProgressBar(width=50, total=100)",
    "start_line": 199
  },
  {
    "file": "progress_bar.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "import time\n    console.show_cursor(False)\n    for n in range(0, 101, 1):\n        bar.update(n)\n        console.print(bar)\n        console.file.write(\"\\r\")\n        time.sleep(0.05)\n    console.show_cursor(True)\n    console.print()",
    "start_line": 213
  },
  {
    "file": "progress_bar.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "import math\nfrom functools import lru_cache\nfrom time import monotonic\nfrom typing import Iterable, List, Optional\n\nfrom .color import Color, blend_rgb\nfrom .color_triplet import ColorTriplet\nfrom .console import Console, ConsoleOptions, RenderResult\nfrom .jupyter import JupyterMixin\nfrom .measure import Measurement\nfrom .segment import Segment\nfrom .style import Style, StyleType\n\n# Number of characters before 'pulse' animation repeats\nPULSE_SIZE = 20\n\n\nclass ProgressBar(JupyterMixin):\n    \"\"\"Renders a (progress) bar. Used by rich.progress.\n\n    Args:\n        total (float, optional): Number of steps in the bar. Defaults to 100. Set to None to render a pulsing animation.\n        completed (float, optional): Number of steps completed. Defaults to 0.\n        width (int, optional): Width of the bar, or ``None`` for maximum width. Defaults to None.\n        pulse (bool, optional): Enable pulse effect. Defaults to False. Will pulse if a None total was passed.\n        style (StyleType, optional): Style for the bar background. Defaults to \"bar.back\".\n        complete_style (StyleType, optional): Style for the completed bar. Defaults to \"bar.complete\".\n        finished_style (StyleType, optional): Style for a finished bar. Defaults to \"bar.finished\".\n        pulse_style (StyleType, optional): Style for pulsing bars. Defaults to \"bar.pulse\".\n        animation_time (Optional[float], optional): Time in seconds to use for animation, or None to use system time.\n    \"\"\"\n\n    def __init__(\n        self,\n        total: Optional[float] = 100.0,\n        completed: float = 0,\n        width: Optional[int] = None,\n        pulse: bool = False,\n        style: StyleType = \"bar.back\",\n        complete_style: StyleType = \"bar.complete\",\n        finished_style: StyleType = \"bar.finished\",\n        pulse_style: StyleType = \"bar.pulse\",\n        animation_time: Optional[float] = None,\n    ):\n        self.total = total\n        self.completed = completed\n        self.width = width\n        self.pulse = pulse\n        self.style = style\n        self.complete_style = complete_style\n        self.finished_style = finished_style\n        self.pulse_style = pulse_style\n        self.animation_time = animation_time\n\n        self._pulse_segments: Optional[List[Segment]] = None\n\n    def __repr__(self) -> str:\n        return f\"<Bar {self.completed!r} of {self.total!r}>\"\n\n    @property\n    def percentage_completed(self) -> Optional[float]:\n        \"\"\"Calculate percentage complete.\"\"\"\n        if self.total is None:\n            return None\n        completed = (self.completed / self.total) * 100.0\n        completed = min(100, max(0.0, completed))\n        return completed\n\n    @lru_cache(maxsize=16)\n    def _get_pulse_segments(\n        self,\n        fore_style: Style,\n        back_style: Style,\n        color_system: str,\n        no_color: bool,\n        ascii: bool = False,\n    ) -> List[Segment]:\n        \"\"\"Get a list of segments to render a pulse animation.\n\n        Returns:\n            List[Segment]: A list of segments, one segment per character.\n        \"\"\"\n        bar = \"-\" if ascii else \"\"\n        segments: List[Segment] = []\n        if color_system not in (\"standard\", \"eight_bit\", \"truecolor\") or no_color:\n            segments += [Segment(bar, fore_style)] * (PULSE_SIZE // 2)\n            segments += [Segment(\" \" if no_color else bar, back_style)] * (\n                PULSE_SIZE - (PULSE_SIZE // 2)\n            )\n            return segments\n\n        append = segments.append\n        fore_color = (\n            fore_style.color.get_truecolor()\n            if fore_style.color\n            else ColorTriplet(255, 0, 255)\n        )\n        back_color = (\n            back_style.color.get_truecolor()\n            if back_style.color\n            else ColorTriplet(0, 0, 0)\n        )\n        cos = math.cos\n        pi = math.pi\n        _Segment = Segment\n        _Style = Style\n        from_triplet = Color.from_triplet\n\n        for index in range(PULSE_SIZE):\n            position = index / PULSE_SIZE\n            fade = 0.5 + cos(position * pi * 2) / 2.0\n            color = blend_rgb(fore_color, back_color, cross_fade=fade)\n            append(_Segment(bar, _Style(color=from_triplet(color))))\n        return segments\n\n    def update(self, completed: float, total: Optional[float] = None) -> None:\n        \"\"\"Update progress with new values.\n\n        Args:\n            completed (float): Number of steps completed.\n            total (float, optional): Total number of steps, or ``None`` to not change. Defaults to None.\n        \"\"\"\n        self.completed = completed\n        self.total = total if total is not None else self.total\n\n    def _render_pulse(\n        self, console: Console, width: int, ascii: bool = False\n    ) -> Iterable[Segment]:\n        \"\"\"Renders the pulse animation.\n\n        Args:\n            console (Console): Console instance.\n            width (int): Width in characters of pulse animation.\n\n        Returns:\n            RenderResult: [description]\n\n        Yields:\n            Iterator[Segment]: Segments to render pulse\n        \"\"\"\n        fore_style = console.get_style(self.pulse_style, default=\"white\")\n        back_style = console.get_style(self.style, default=\"black\")\n\n        pulse_segments = self._get_pulse_segments(\n            fore_style, back_style, console.color_system, console.no_color, ascii=ascii\n        )\n        segment_count = len(pulse_segments)\n        current_time = (\n            monotonic() if self.animation_time is None else self.animation_time\n        )\n        segments = pulse_segments * (int(width / segment_count) + 2)\n        offset = int(-current_time * 15) % segment_count\n        segments = segments[offset : offset + width]\n        yield from segments\n\n    def __rich_console__(\n        self, console: Console, options: ConsoleOptions\n    ) -> RenderResult:\n        width = min(self.width or options.max_width, options.max_width)\n        ascii = options.legacy_windows or options.ascii_only\n        should_pulse = self.pulse or self.total is None\n        if should_pulse:\n            yield from self._render_pulse(console, width, ascii=ascii)\n            return\n\n        completed: Optional[float] = (\n            min(self.total, max(0, self.completed)) if self.total is not None else None\n        )\n\n        bar = \"-\" if ascii else \"\"\n        half_bar_right = \" \" if ascii else \"\"\n        half_bar_left = \" \" if ascii else \"\"\n        complete_halves = (\n            int(width * 2 * completed / self.total)\n            if self.total and completed is not None\n            else width * 2\n        )\n        bar_count = complete_halves // 2\n        half_bar_count = complete_halves % 2\n        style = console.get_style(self.style)\n        is_finished = self.total is None or self.completed >= self.total\n        complete_style = console.get_style(\n            self.finished_style if is_finished else self.complete_style\n        )\n        _Segment = Segment\n        if bar_count:\n            yield _Segment(bar * bar_count, complete_style)\n        if half_bar_count:\n            yield _Segment(half_bar_right * half_bar_count, complete_style)\n\n        if not console.no_color:\n            remaining_bars = width - bar_count - half_bar_count\n            if remaining_bars and console.color_system is not None:\n                if not half_bar_count and bar_count:\n                    yield _Segment(half_bar_left, style)\n                    remaining_bars -= 1\n                if remaining_bars:\n                    yield _Segment(bar * remaining_bars, style)\n\n    def __rich_measure__(\n        self, console: Console, options: ConsoleOptions\n    ) -> Measurement:\n        return (\n            Measurement(self.width, self.width)\n            if self.width is not None\n            else Measurement(4, options.max_width)\n        )\n\n\nif __name__ == \"__main__\":  # pragma: no cover\n    console = Console()\n    bar = ProgressBar(width=50, total=100)\n\n    import time\n\n    console.show_cursor(False)\n    for n in range(0, 101, 1):\n        bar.update(n)\n        console.print(bar)\n        console.file.write(\"\\r\")\n        time.sleep(0.05)\n    console.show_cursor(True)\n    console.print()\n",
    "start_line": 0
  },
  {
    "file": "errors.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "ConsoleError",
    "content": "class ConsoleError(Exception):\n    \"\"\"An error in console operation.\"\"\"",
    "start_line": 0
  },
  {
    "file": "errors.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "StyleError",
    "content": "class StyleError(Exception):\n    \"\"\"An error in styles.\"\"\"",
    "start_line": 4
  },
  {
    "file": "errors.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "StyleSyntaxError",
    "content": "class StyleSyntaxError(ConsoleError):\n    \"\"\"Style was badly formatted.\"\"\"",
    "start_line": 8
  },
  {
    "file": "errors.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "MissingStyle",
    "content": "class MissingStyle(StyleError):\n    \"\"\"No such style.\"\"\"",
    "start_line": 12
  },
  {
    "file": "errors.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "StyleStackError",
    "content": "class StyleStackError(ConsoleError):\n    \"\"\"Style stack is invalid.\"\"\"",
    "start_line": 16
  },
  {
    "file": "errors.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "NotRenderableError",
    "content": "class NotRenderableError(ConsoleError):\n    \"\"\"Object is not renderable.\"\"\"",
    "start_line": 20
  },
  {
    "file": "errors.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "MarkupError",
    "content": "class MarkupError(ConsoleError):\n    \"\"\"Markup was badly formatted.\"\"\"",
    "start_line": 24
  },
  {
    "file": "errors.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "LiveError",
    "content": "class LiveError(ConsoleError):\n    \"\"\"Error related to Live display.\"\"\"",
    "start_line": 28
  },
  {
    "file": "errors.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "NoAltScreen",
    "content": "class NoAltScreen(ConsoleError):\n    \"\"\"Alt screen mode was required.\"\"\"",
    "start_line": 32
  },
  {
    "file": "errors.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "class ConsoleError(Exception):\n    \"\"\"An error in console operation.\"\"\"\n\n\nclass StyleError(Exception):\n    \"\"\"An error in styles.\"\"\"\n\n\nclass StyleSyntaxError(ConsoleError):\n    \"\"\"Style was badly formatted.\"\"\"\n\n\nclass MissingStyle(StyleError):\n    \"\"\"No such style.\"\"\"\n\n\nclass StyleStackError(ConsoleError):\n    \"\"\"Style stack is invalid.\"\"\"\n\n\nclass NotRenderableError(ConsoleError):\n    \"\"\"Object is not renderable.\"\"\"\n\n\nclass MarkupError(ConsoleError):\n    \"\"\"Markup was badly formatted.\"\"\"\n\n\nclass LiveError(ConsoleError):\n    \"\"\"Error related to Live display.\"\"\"\n\n\nclass NoAltScreen(ConsoleError):\n    \"\"\"Alt screen mode was required.\"\"\"\n",
    "start_line": 0
  },
  {
    "file": "prompt.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from typing import Any, Generic, List, Optional, TextIO, TypeVar, Union, overload\nfrom . import get_console\nfrom .console import Console\nfrom .text import Text, TextType\nPromptType = TypeVar(\"PromptType\")\nDefaultType = TypeVar(\"DefaultType\")",
    "start_line": 0
  },
  {
    "file": "prompt.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "PromptError",
    "content": "class PromptError(Exception):\n    \"\"\"Exception base class for prompt related errors.\"\"\"",
    "start_line": 10
  },
  {
    "file": "prompt.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "InvalidResponse",
    "content": "class InvalidResponse(PromptError):\n    \"\"\"Exception to indicate a response was invalid. Raise this within process_response() to indicate an error\n    and provide an error message.\n\n    Args:\n        message (Union[str, Text]): Error message.\n    \"\"\"",
    "start_line": 14
  },
  {
    "file": "prompt.py",
    "type": "method",
    "class": "InvalidResponse",
    "method": "__init__",
    "name": "__init__",
    "content": "class InvalidResponse:\n    def __init__(self, message: TextType) -> None:\n        self.message = message",
    "start_line": 22
  },
  {
    "file": "prompt.py",
    "type": "method",
    "class": "InvalidResponse",
    "method": "__rich__",
    "name": "__rich__",
    "content": "class InvalidResponse:\n    def __rich__(self) -> TextType:\n        return self.message",
    "start_line": 25
  },
  {
    "file": "prompt.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "PromptBase",
    "content": "class PromptBase(Generic[PromptType]):\n    \"\"\"Ask the user for input until a valid response is received. This is the base class, see one of\n    the concrete classes for examples.\n\n    Args:\n        prompt (TextType, optional): Prompt text. Defaults to \"\".\n        console (Console, optional): A Console instance or None to use global console. Defaults to None.\n        password (bool, optional): Enable password input. Defaults to False.\n        choices (List[str], optional): A list of valid choices. Defaults to None.\n        case_sensitive (bool, optional): Matching of choices should be case-sensitive. Defaults to True.\n        show_default (bool, optional): Show default in prompt. Defaults to True.\n        show_choices (bool, optional): Show choices in prompt. Defaults to True.\n    \"\"\"\n\n    response_type: type = str\n\n    validate_error_message = \"[prompt.invalid]Please enter a valid value\"\n    illegal_choice_message = (\n        \"[prompt.invalid.choice]Please select one of the available options\"\n    )\n    prompt_suffix = \": \"\n\n    choices: Optional[List[str]] = None",
    "start_line": 29
  },
  {
    "file": "prompt.py",
    "type": "method",
    "class": "PromptBase",
    "method": "__init__",
    "name": "__init__",
    "content": "class PromptBase:\n    def __init__(\n        self,\n        prompt: TextType = \"\",\n        *,\n        console: Optional[Console] = None,\n        password: bool = False,\n        choices: Optional[List[str]] = None,\n        case_sensitive: bool = True,\n        show_default: bool = True,\n        show_choices: bool = True,\n    ) -> None:\n        self.console = console or get_console()\n        self.prompt = (\n            Text.from_markup(prompt, style=\"prompt\")\n            if isinstance(prompt, str)\n            else prompt\n        )\n        self.password = password\n        if choices is not None:\n            self.choices = choices\n        self.case_sensitive = case_sensitive\n        self.show_default = show_default\n        self.show_choices = show_choices\n\n    @classmethod\n    @overload",
    "start_line": 53
  },
  {
    "file": "prompt.py",
    "type": "method",
    "class": "PromptBase",
    "method": "ask",
    "name": "ask",
    "content": "class PromptBase:\n    def ask(\n        cls,\n        prompt: TextType = \"\",\n        *,\n        console: Optional[Console] = None,\n        password: bool = False,\n        choices: Optional[List[str]] = None,\n        case_sensitive: bool = True,\n        show_default: bool = True,\n        show_choices: bool = True,\n        default: DefaultType,\n        stream: Optional[TextIO] = None,\n    ) -> Union[DefaultType, PromptType]:\n        ...\n\n    @classmethod\n    @overload",
    "start_line": 79
  },
  {
    "file": "prompt.py",
    "type": "method",
    "class": "PromptBase",
    "method": "ask",
    "name": "ask",
    "content": "class PromptBase:\n    def ask(\n        cls,\n        prompt: TextType = \"\",\n        *,\n        console: Optional[Console] = None,\n        password: bool = False,\n        choices: Optional[List[str]] = None,\n        case_sensitive: bool = True,\n        show_default: bool = True,\n        show_choices: bool = True,\n        stream: Optional[TextIO] = None,\n    ) -> PromptType:\n        ...\n\n    @classmethod",
    "start_line": 96
  },
  {
    "file": "prompt.py",
    "type": "method",
    "class": "PromptBase",
    "method": "ask",
    "name": "ask",
    "content": "class PromptBase:\n    def ask(\n        cls,\n        prompt: TextType = \"\",\n        *,\n        console: Optional[Console] = None,\n        password: bool = False,\n        choices: Optional[List[str]] = None,\n        case_sensitive: bool = True,\n        show_default: bool = True,\n        show_choices: bool = True,\n        default: Any = ...,\n        stream: Optional[TextIO] = None,\n    ) -> Any:\n        \"\"\"Shortcut to construct and run a prompt loop and return the result.\n\n        Example:\n            >>> filename = Prompt.ask(\"Enter a filename\")\n\n        Args:\n            prompt (TextType, optional): Prompt text. Defaults to \"\".\n            console (Console, optional): A Console instance or None to use global console. Defaults to None.\n            password (bool, optional): Enable password input. Defaults to False.\n            choices (List[str], optional): A list of valid choices. Defaults to None.\n            case_sensitive (bool, optional): Matching of choices should be case-sensitive. Defaults to True.\n            show_default (bool, optional): Show default in prompt. Defaults to True.\n            show_choices (bool, optional): Show choices in prompt. Defaults to True.\n            stream (TextIO, optional): Optional text file open for reading to get input. Defaults to None.\n        \"\"\"\n        _prompt = cls(\n            prompt,\n            console=console,\n            password=password,\n            choices=choices,\n            case_sensitive=case_sensitive,\n            show_default=show_default,\n            show_choices=show_choices,\n        )\n        return _prompt(default=default, stream=stream)",
    "start_line": 111
  },
  {
    "file": "prompt.py",
    "type": "method",
    "class": "PromptBase",
    "method": "render_default",
    "name": "render_default",
    "content": "class PromptBase:\n    def render_default(self, default: DefaultType) -> Text:\n        \"\"\"Turn the supplied default in to a Text instance.\n\n        Args:\n            default (DefaultType): Default value.\n\n        Returns:\n            Text: Text containing rendering of default value.\n        \"\"\"\n        return Text(f\"({default})\", \"prompt.default\")",
    "start_line": 150
  },
  {
    "file": "prompt.py",
    "type": "method",
    "class": "PromptBase",
    "method": "make_prompt",
    "name": "make_prompt",
    "content": "class PromptBase:\n    def make_prompt(self, default: DefaultType) -> Text:\n        \"\"\"Make prompt text.\n\n        Args:\n            default (DefaultType): Default value.\n\n        Returns:\n            Text: Text to display in prompt.\n        \"\"\"\n        prompt = self.prompt.copy()\n        prompt.end = \"\"\n\n        if self.show_choices and self.choices:\n            _choices = \"/\".join(self.choices)\n            choices = f\"[{_choices}]\"\n            prompt.append(\" \")\n            prompt.append(choices, \"prompt.choices\")\n\n        if (\n            default != ...\n            and self.show_default\n            and isinstance(default, (str, self.response_type))\n        ):\n            prompt.append(\" \")\n            _default = self.render_default(default)\n            prompt.append(_default)\n\n        prompt.append(self.prompt_suffix)\n\n        return prompt\n\n    @classmethod",
    "start_line": 161
  },
  {
    "file": "prompt.py",
    "type": "method",
    "class": "PromptBase",
    "method": "get_input",
    "name": "get_input",
    "content": "class PromptBase:\n    def get_input(\n        cls,\n        console: Console,\n        prompt: TextType,\n        password: bool,\n        stream: Optional[TextIO] = None,\n    ) -> str:\n        \"\"\"Get input from user.\n\n        Args:\n            console (Console): Console instance.\n            prompt (TextType): Prompt text.\n            password (bool): Enable password entry.\n\n        Returns:\n            str: String from user.\n        \"\"\"\n        return console.input(prompt, password=password, stream=stream)",
    "start_line": 193
  },
  {
    "file": "prompt.py",
    "type": "method",
    "class": "PromptBase",
    "method": "check_choice",
    "name": "check_choice",
    "content": "class PromptBase:\n    def check_choice(self, value: str) -> bool:\n        \"\"\"Check value is in the list of valid choices.\n\n        Args:\n            value (str): Value entered by user.\n\n        Returns:\n            bool: True if choice was valid, otherwise False.\n        \"\"\"\n        assert self.choices is not None\n        if self.case_sensitive:\n            return value.strip() in self.choices\n        return value.strip().lower() in [choice.lower() for choice in self.choices]",
    "start_line": 212
  },
  {
    "file": "prompt.py",
    "type": "method",
    "class": "PromptBase",
    "method": "process_response",
    "name": "process_response",
    "content": "class PromptBase:\n    def process_response(self, value: str) -> PromptType:\n        \"\"\"Process response from user, convert to prompt type.\n\n        Args:\n            value (str): String typed by user.\n\n        Raises:\n            InvalidResponse: If ``value`` is invalid.\n\n        Returns:\n            PromptType: The value to be returned from ask method.\n        \"\"\"\n        value = value.strip()\n        try:\n            return_value: PromptType = self.response_type(value)\n        except ValueError:\n            raise InvalidResponse(self.validate_error_message)\n\n        if self.choices is not None:\n            if not self.check_choice(value):\n                raise InvalidResponse(self.illegal_choice_message)\n\n            if not self.case_sensitive:",
    "start_line": 226
  },
  {
    "file": "prompt.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# return the original choice, not the lower case version\n                return_value = self.response_type(\n                    self.choices[\n                        [choice.lower() for choice in self.choices].index(value.lower())\n                    ]\n                )\n        return return_value",
    "start_line": 249
  },
  {
    "file": "prompt.py",
    "type": "method",
    "class": "PromptBase",
    "method": "on_validate_error",
    "name": "on_validate_error",
    "content": "class PromptBase:\n    def on_validate_error(self, value: str, error: InvalidResponse) -> None:\n        \"\"\"Called to handle validation error.\n\n        Args:\n            value (str): String entered by user.\n            error (InvalidResponse): Exception instance the initiated the error.\n        \"\"\"\n        self.console.print(error)",
    "start_line": 257
  },
  {
    "file": "prompt.py",
    "type": "method",
    "class": "PromptBase",
    "method": "pre_prompt",
    "name": "pre_prompt",
    "content": "class PromptBase:\n    def pre_prompt(self) -> None:\n        \"\"\"Hook to display something before the prompt.\"\"\"\n\n    @overload",
    "start_line": 266
  },
  {
    "file": "prompt.py",
    "type": "method",
    "class": "PromptBase",
    "method": "__call__",
    "name": "__call__",
    "content": "class PromptBase:\n    def __call__(self, *, stream: Optional[TextIO] = None) -> PromptType:\n        ...\n\n    @overload",
    "start_line": 270
  },
  {
    "file": "prompt.py",
    "type": "method",
    "class": "PromptBase",
    "method": "__call__",
    "name": "__call__",
    "content": "class PromptBase:\n    def __call__(\n        self, *, default: DefaultType, stream: Optional[TextIO] = None\n    ) -> Union[PromptType, DefaultType]:\n        ...",
    "start_line": 274
  },
  {
    "file": "prompt.py",
    "type": "method",
    "class": "PromptBase",
    "method": "__call__",
    "name": "__call__",
    "content": "class PromptBase:\n    def __call__(self, *, default: Any = ..., stream: Optional[TextIO] = None) -> Any:\n        \"\"\"Run the prompt loop.\n\n        Args:\n            default (Any, optional): Optional default value.\n\n        Returns:\n            PromptType: Processed value.\n        \"\"\"\n        while True:\n            self.pre_prompt()\n            prompt = self.make_prompt(default)\n            value = self.get_input(self.console, prompt, self.password, stream=stream)\n            if value == \"\" and default != ...:\n                return default\n            try:\n                return_value = self.process_response(value)\n            except InvalidResponse as error:\n                self.on_validate_error(value, error)\n                continue\n            else:\n                return return_value",
    "start_line": 279
  },
  {
    "file": "prompt.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "Prompt",
    "content": "class Prompt(PromptBase[str]):\n    \"\"\"A prompt that returns a str.\n\n    Example:\n        >>> name = Prompt.ask(\"Enter your name\")\n\n\n    \"\"\"\n\n    response_type = str",
    "start_line": 303
  },
  {
    "file": "prompt.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "IntPrompt",
    "content": "class IntPrompt(PromptBase[int]):\n    \"\"\"A prompt that returns an integer.\n\n    Example:\n        >>> burrito_count = IntPrompt.ask(\"How many burritos do you want to order\")\n\n    \"\"\"\n\n    response_type = int\n    validate_error_message = \"[prompt.invalid]Please enter a valid integer number\"",
    "start_line": 315
  },
  {
    "file": "prompt.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "FloatPrompt",
    "content": "class FloatPrompt(PromptBase[float]):\n    \"\"\"A prompt that returns a float.\n\n    Example:\n        >>> temperature = FloatPrompt.ask(\"Enter desired temperature\")\n\n    \"\"\"\n\n    response_type = float\n    validate_error_message = \"[prompt.invalid]Please enter a number\"",
    "start_line": 327
  },
  {
    "file": "prompt.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "Confirm",
    "content": "class Confirm(PromptBase[bool]):\n    \"\"\"A yes / no confirmation prompt.\n\n    Example:\n        >>> if Confirm.ask(\"Continue\"):\n                run_job()\n\n    \"\"\"\n\n    response_type = bool\n    validate_error_message = \"[prompt.invalid]Please enter Y or N\"\n    choices: List[str] = [\"y\", \"n\"]",
    "start_line": 339
  },
  {
    "file": "prompt.py",
    "type": "method",
    "class": "Confirm",
    "method": "render_default",
    "name": "render_default",
    "content": "class Confirm:\n    def render_default(self, default: DefaultType) -> Text:\n        \"\"\"Render the default as (y) or (n) rather than True/False.\"\"\"\n        yes, no = self.choices\n        return Text(f\"({yes})\" if default else f\"({no})\", style=\"prompt.default\")",
    "start_line": 352
  },
  {
    "file": "prompt.py",
    "type": "method",
    "class": "Confirm",
    "method": "process_response",
    "name": "process_response",
    "content": "class Confirm:\n    def process_response(self, value: str) -> bool:\n        \"\"\"Convert choices to a bool.\"\"\"\n        value = value.strip().lower()\n        if value not in self.choices:\n            raise InvalidResponse(self.validate_error_message)\n        return value == self.choices[0]\n\n\nif __name__ == \"__main__\":  # pragma: no cover",
    "start_line": 357
  },
  {
    "file": "prompt.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from rich import print\n    if Confirm.ask(\"Run [i]prompt[/i] tests?\", default=True):\n        while True:\n            result = IntPrompt.ask(\n                \":rocket: Enter a number between [b]1[/b] and [b]10[/b]\", default=5\n            )\n            if result >= 1 and result <= 10:\n                break\n            print(\":pile_of_poo: [prompt.invalid]Number must be between 1 and 10\")\n        print(f\"number={result}\")\n        while True:\n            password = Prompt.ask(\n                \"Please enter a password [cyan](must be at least 5 characters)\",\n                password=True,\n            )\n            if len(password) >= 5:\n                break\n            print(\"[prompt.invalid]password too short\")\n        print(f\"password={password!r}\")\n        fruit = Prompt.ask(\"Enter a fruit\", choices=[\"apple\", \"orange\", \"pear\"])\n        print(f\"fruit={fruit!r}\")\n        doggie = Prompt.ask(\n            \"What's the best Dog? (Case INSENSITIVE)\",\n            choices=[\"Border Terrier\", \"Collie\", \"Labradoodle\"],\n            case_sensitive=False,\n        )\n        print(f\"doggie={doggie!r}\")\n    else:\n        print(\"[b]OK :loudly_crying_face:\")",
    "start_line": 366
  },
  {
    "file": "prompt.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "from typing import Any, Generic, List, Optional, TextIO, TypeVar, Union, overload\n\nfrom . import get_console\nfrom .console import Console\nfrom .text import Text, TextType\n\nPromptType = TypeVar(\"PromptType\")\nDefaultType = TypeVar(\"DefaultType\")\n\n\nclass PromptError(Exception):\n    \"\"\"Exception base class for prompt related errors.\"\"\"\n\n\nclass InvalidResponse(PromptError):\n    \"\"\"Exception to indicate a response was invalid. Raise this within process_response() to indicate an error\n    and provide an error message.\n\n    Args:\n        message (Union[str, Text]): Error message.\n    \"\"\"\n\n    def __init__(self, message: TextType) -> None:\n        self.message = message\n\n    def __rich__(self) -> TextType:\n        return self.message\n\n\nclass PromptBase(Generic[PromptType]):\n    \"\"\"Ask the user for input until a valid response is received. This is the base class, see one of\n    the concrete classes for examples.\n\n    Args:\n        prompt (TextType, optional): Prompt text. Defaults to \"\".\n        console (Console, optional): A Console instance or None to use global console. Defaults to None.\n        password (bool, optional): Enable password input. Defaults to False.\n        choices (List[str], optional): A list of valid choices. Defaults to None.\n        case_sensitive (bool, optional): Matching of choices should be case-sensitive. Defaults to True.\n        show_default (bool, optional): Show default in prompt. Defaults to True.\n        show_choices (bool, optional): Show choices in prompt. Defaults to True.\n    \"\"\"\n\n    response_type: type = str\n\n    validate_error_message = \"[prompt.invalid]Please enter a valid value\"\n    illegal_choice_message = (\n        \"[prompt.invalid.choice]Please select one of the available options\"\n    )\n    prompt_suffix = \": \"\n\n    choices: Optional[List[str]] = None\n\n    def __init__(\n        self,\n        prompt: TextType = \"\",\n        *,\n        console: Optional[Console] = None,\n        password: bool = False,\n        choices: Optional[List[str]] = None,\n        case_sensitive: bool = True,\n        show_default: bool = True,\n        show_choices: bool = True,\n    ) -> None:\n        self.console = console or get_console()\n        self.prompt = (\n            Text.from_markup(prompt, style=\"prompt\")\n            if isinstance(prompt, str)\n            else prompt\n        )\n        self.password = password\n        if choices is not None:\n            self.choices = choices\n        self.case_sensitive = case_sensitive\n        self.show_default = show_default\n        self.show_choices = show_choices\n\n    @classmethod\n    @overload\n    def ask(\n        cls,\n        prompt: TextType = \"\",\n        *,\n        console: Optional[Console] = None,\n        password: bool = False,\n        choices: Optional[List[str]] = None,\n        case_sensitive: bool = True,\n        show_default: bool = True,\n        show_choices: bool = True,\n        default: DefaultType,\n        stream: Optional[TextIO] = None,\n    ) -> Union[DefaultType, PromptType]:\n        ...\n\n    @classmethod\n    @overload\n    def ask(\n        cls,\n        prompt: TextType = \"\",\n        *,\n        console: Optional[Console] = None,\n        password: bool = False,\n        choices: Optional[List[str]] = None,\n        case_sensitive: bool = True,\n        show_default: bool = True,\n        show_choices: bool = True,\n        stream: Optional[TextIO] = None,\n    ) -> PromptType:\n        ...\n\n    @classmethod\n    def ask(\n        cls,\n        prompt: TextType = \"\",\n        *,\n        console: Optional[Console] = None,\n        password: bool = False,\n        choices: Optional[List[str]] = None,\n        case_sensitive: bool = True,\n        show_default: bool = True,\n        show_choices: bool = True,\n        default: Any = ...,\n        stream: Optional[TextIO] = None,\n    ) -> Any:\n        \"\"\"Shortcut to construct and run a prompt loop and return the result.\n\n        Example:\n            >>> filename = Prompt.ask(\"Enter a filename\")\n\n        Args:\n            prompt (TextType, optional): Prompt text. Defaults to \"\".\n            console (Console, optional): A Console instance or None to use global console. Defaults to None.\n            password (bool, optional): Enable password input. Defaults to False.\n            choices (List[str], optional): A list of valid choices. Defaults to None.\n            case_sensitive (bool, optional): Matching of choices should be case-sensitive. Defaults to True.\n            show_default (bool, optional): Show default in prompt. Defaults to True.\n            show_choices (bool, optional): Show choices in prompt. Defaults to True.\n            stream (TextIO, optional): Optional text file open for reading to get input. Defaults to None.\n        \"\"\"\n        _prompt = cls(\n            prompt,\n            console=console,\n            password=password,\n            choices=choices,\n            case_sensitive=case_sensitive,\n            show_default=show_default,\n            show_choices=show_choices,\n        )\n        return _prompt(default=default, stream=stream)\n\n    def render_default(self, default: DefaultType) -> Text:\n        \"\"\"Turn the supplied default in to a Text instance.\n\n        Args:\n            default (DefaultType): Default value.\n\n        Returns:\n            Text: Text containing rendering of default value.\n        \"\"\"\n        return Text(f\"({default})\", \"prompt.default\")\n\n    def make_prompt(self, default: DefaultType) -> Text:\n        \"\"\"Make prompt text.\n\n        Args:\n            default (DefaultType): Default value.\n\n        Returns:\n            Text: Text to display in prompt.\n        \"\"\"\n        prompt = self.prompt.copy()\n        prompt.end = \"\"\n\n        if self.show_choices and self.choices:\n            _choices = \"/\".join(self.choices)\n            choices = f\"[{_choices}]\"\n            prompt.append(\" \")\n            prompt.append(choices, \"prompt.choices\")\n\n        if (\n            default != ...\n            and self.show_default\n            and isinstance(default, (str, self.response_type))\n        ):\n            prompt.append(\" \")\n            _default = self.render_default(default)\n            prompt.append(_default)\n\n        prompt.append(self.prompt_suffix)\n\n        return prompt\n\n    @classmethod\n    def get_input(\n        cls,\n        console: Console,\n        prompt: TextType,\n        password: bool,\n        stream: Optional[TextIO] = None,\n    ) -> str:\n        \"\"\"Get input from user.\n\n        Args:\n            console (Console): Console instance.\n            prompt (TextType): Prompt text.\n            password (bool): Enable password entry.\n\n        Returns:\n            str: String from user.\n        \"\"\"\n        return console.input(prompt, password=password, stream=stream)\n\n    def check_choice(self, value: str) -> bool:\n        \"\"\"Check value is in the list of valid choices.\n\n        Args:\n            value (str): Value entered by user.\n\n        Returns:\n            bool: True if choice was valid, otherwise False.\n        \"\"\"\n        assert self.choices is not None\n        if self.case_sensitive:\n            return value.strip() in self.choices\n        return value.strip().lower() in [choice.lower() for choice in self.choices]\n\n    def process_response(self, value: str) -> PromptType:\n        \"\"\"Process response from user, convert to prompt type.\n\n        Args:\n            value (str): String typed by user.\n\n        Raises:\n            InvalidResponse: If ``value`` is invalid.\n\n        Returns:\n            PromptType: The value to be returned from ask method.\n        \"\"\"\n        value = value.strip()\n        try:\n            return_value: PromptType = self.response_type(value)\n        except ValueError:\n            raise InvalidResponse(self.validate_error_message)\n\n        if self.choices is not None:\n            if not self.check_choice(value):\n                raise InvalidResponse(self.illegal_choice_message)\n\n            if not self.case_sensitive:\n                # return the original choice, not the lower case version\n                return_value = self.response_type(\n                    self.choices[\n                        [choice.lower() for choice in self.choices].index(value.lower())\n                    ]\n                )\n        return return_value\n\n    def on_validate_error(self, value: str, error: InvalidResponse) -> None:\n        \"\"\"Called to handle validation error.\n\n        Args:\n            value (str): String entered by user.\n            error (InvalidResponse): Exception instance the initiated the error.\n        \"\"\"\n        self.console.print(error)\n\n    def pre_prompt(self) -> None:\n        \"\"\"Hook to display something before the prompt.\"\"\"\n\n    @overload\n    def __call__(self, *, stream: Optional[TextIO] = None) -> PromptType:\n        ...\n\n    @overload\n    def __call__(\n        self, *, default: DefaultType, stream: Optional[TextIO] = None\n    ) -> Union[PromptType, DefaultType]:\n        ...\n\n    def __call__(self, *, default: Any = ..., stream: Optional[TextIO] = None) -> Any:\n        \"\"\"Run the prompt loop.\n\n        Args:\n            default (Any, optional): Optional default value.\n\n        Returns:\n            PromptType: Processed value.\n        \"\"\"\n        while True:\n            self.pre_prompt()\n            prompt = self.make_prompt(default)\n            value = self.get_input(self.console, prompt, self.password, stream=stream)\n            if value == \"\" and default != ...:\n                return default\n            try:\n                return_value = self.process_response(value)\n            except InvalidResponse as error:\n                self.on_validate_error(value, error)\n                continue\n            else:\n                return return_value\n\n\nclass Prompt(PromptBase[str]):\n    \"\"\"A prompt that returns a str.\n\n    Example:\n        >>> name = Prompt.ask(\"Enter your name\")\n\n\n    \"\"\"\n\n    response_type = str\n\n\nclass IntPrompt(PromptBase[int]):\n    \"\"\"A prompt that returns an integer.\n\n    Example:\n        >>> burrito_count = IntPrompt.ask(\"How many burritos do you want to order\")\n\n    \"\"\"\n\n    response_type = int\n    validate_error_message = \"[prompt.invalid]Please enter a valid integer number\"\n\n\nclass FloatPrompt(PromptBase[float]):\n    \"\"\"A prompt that returns a float.\n\n    Example:\n        >>> temperature = FloatPrompt.ask(\"Enter desired temperature\")\n\n    \"\"\"\n\n    response_type = float\n    validate_error_message = \"[prompt.invalid]Please enter a number\"\n\n\nclass Confirm(PromptBase[bool]):\n    \"\"\"A yes / no confirmation prompt.\n\n    Example:\n        >>> if Confirm.ask(\"Continue\"):\n                run_job()\n\n    \"\"\"\n\n    response_type = bool\n    validate_error_message = \"[prompt.invalid]Please enter Y or N\"\n    choices: List[str] = [\"y\", \"n\"]\n\n    def render_default(self, default: DefaultType) -> Text:\n        \"\"\"Render the default as (y) or (n) rather than True/False.\"\"\"\n        yes, no = self.choices\n        return Text(f\"({yes})\" if default else f\"({no})\", style=\"prompt.default\")\n\n    def process_response(self, value: str) -> bool:\n        \"\"\"Convert choices to a bool.\"\"\"\n        value = value.strip().lower()\n        if value not in self.choices:\n            raise InvalidResponse(self.validate_error_message)\n        return value == self.choices[0]\n\n\nif __name__ == \"__main__\":  # pragma: no cover\n    from rich import print\n\n    if Confirm.ask(\"Run [i]prompt[/i] tests?\", default=True):\n        while True:\n            result = IntPrompt.ask(\n                \":rocket: Enter a number between [b]1[/b] and [b]10[/b]\", default=5\n            )\n            if result >= 1 and result <= 10:\n                break\n            print(\":pile_of_poo: [prompt.invalid]Number must be between 1 and 10\")\n        print(f\"number={result}\")\n\n        while True:\n            password = Prompt.ask(\n                \"Please enter a password [cyan](must be at least 5 characters)\",\n                password=True,\n            )\n            if len(password) >= 5:\n                break\n            print(\"[prompt.invalid]password too short\")\n        print(f\"password={password!r}\")\n\n        fruit = Prompt.ask(\"Enter a fruit\", choices=[\"apple\", \"orange\", \"pear\"])\n        print(f\"fruit={fruit!r}\")\n\n        doggie = Prompt.ask(\n            \"What's the best Dog? (Case INSENSITIVE)\",\n            choices=[\"Border Terrier\", \"Collie\", \"Labradoodle\"],\n            case_sensitive=False,\n        )\n        print(f\"doggie={doggie!r}\")\n\n    else:\n        print(\"[b]OK :loudly_crying_face:\")\n",
    "start_line": 0
  },
  {
    "file": "segment.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from enum import IntEnum\nfrom functools import lru_cache\nfrom itertools import filterfalse\nfrom logging import getLogger\nfrom operator import attrgetter\nfrom typing import (\n    TYPE_CHECKING,\n    Dict,\n    Iterable,\n    List,\n    NamedTuple,\n    Optional,\n    Sequence,\n    Tuple,\n    Type,\n    Union,\n)\nfrom .cells import (\n    _is_single_cell_widths,\n    cached_cell_len,\n    cell_len,\n    get_character_cell_size,\n    set_cell_size,\n)\nfrom .repr import Result, rich_repr\nfrom .style import Style\nif TYPE_CHECKING:\n    from .console import Console, ConsoleOptions, RenderResult",
    "start_line": 0
  },
  {
    "file": "segment.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "log = getLogger(\"rich\")",
    "start_line": 31
  },
  {
    "file": "segment.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "ControlType",
    "content": "class ControlType(IntEnum):\n    \"\"\"Non-printable control codes which typically translate to ANSI codes.\"\"\"",
    "start_line": 34
  },
  {
    "file": "segment.py",
    "type": "constants",
    "class": null,
    "method": null,
    "name": "module_constants",
    "content": "BELL = 1\n    CARRIAGE_RETURN = 2\n    HOME = 3\n    CLEAR = 4\n    SHOW_CURSOR = 5\n    HIDE_CURSOR = 6\n    ENABLE_ALT_SCREEN = 7\n    DISABLE_ALT_SCREEN = 8\n    CURSOR_UP = 9\n    CURSOR_DOWN = 10\n    CURSOR_FORWARD = 11\n    CURSOR_BACKWARD = 12\n    CURSOR_MOVE_TO_COLUMN = 13\n    CURSOR_MOVE_TO = 14\n    ERASE_IN_LINE = 15\n    SET_WINDOW_TITLE = 16\nControlCode = Union[\n    Tuple[ControlType],\n    Tuple[ControlType, Union[int, str]],\n    Tuple[ControlType, int, int],\n]\n@rich_repr()",
    "start_line": 37
  },
  {
    "file": "segment.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "Segment",
    "content": "class Segment(NamedTuple):\n    \"\"\"A piece of text with associated style. Segments are produced by the Console render process and\n    are ultimately converted in to strings to be written to the terminal.\n\n    Args:\n        text (str): A piece of text.\n        style (:class:`~rich.style.Style`, optional): An optional style to apply to the text.\n        control (Tuple[ControlCode], optional): Optional sequence of control codes.\n\n    Attributes:\n        cell_length (int): The cell length of this Segment.\n    \"\"\"\n\n    text: str\n    style: Optional[Style] = None\n    control: Optional[Sequence[ControlCode]] = None\n\n    @property",
    "start_line": 63
  },
  {
    "file": "segment.py",
    "type": "method",
    "class": "Segment",
    "method": "cell_length",
    "name": "cell_length",
    "content": "class Segment:\n    def cell_length(self) -> int:\n        \"\"\"The number of terminal cells required to display self.text.\n\n        Returns:\n            int: A number of cells.\n        \"\"\"\n        text, _style, control = self\n        return 0 if control else cell_len(text)",
    "start_line": 81
  },
  {
    "file": "segment.py",
    "type": "method",
    "class": "Segment",
    "method": "__rich_repr__",
    "name": "__rich_repr__",
    "content": "class Segment:\n    def __rich_repr__(self) -> Result:\n        yield self.text\n        if self.control is None:\n            if self.style is not None:\n                yield self.style\n        else:\n            yield self.style\n            yield self.control",
    "start_line": 90
  },
  {
    "file": "segment.py",
    "type": "method",
    "class": "Segment",
    "method": "__bool__",
    "name": "__bool__",
    "content": "class Segment:\n    def __bool__(self) -> bool:\n        \"\"\"Check if the segment contains text.\"\"\"\n        return bool(self.text)\n\n    @property",
    "start_line": 99
  },
  {
    "file": "segment.py",
    "type": "method",
    "class": "Segment",
    "method": "is_control",
    "name": "is_control",
    "content": "class Segment:\n    def is_control(self) -> bool:\n        \"\"\"Check if the segment contains control codes.\"\"\"\n        return self.control is not None\n\n    @classmethod\n    @lru_cache(1024 * 16)",
    "start_line": 104
  },
  {
    "file": "segment.py",
    "type": "method",
    "class": "Segment",
    "method": "_split_cells",
    "name": "_split_cells",
    "content": "class Segment:\n    def _split_cells(cls, segment: \"Segment\", cut: int) -> Tuple[\"Segment\", \"Segment\"]:\n        \"\"\"Split a segment in to two at a given cell position.\n\n        Note that splitting a double-width character, may result in that character turning\n        into two spaces.\n\n        Args:\n            segment (Segment): A segment to split.\n            cut (int): A cell position to cut on.\n\n        Returns:\n            A tuple of two segments.\n        \"\"\"\n        text, style, control = segment\n        _Segment = Segment\n        cell_length = segment.cell_length\n        if cut >= cell_length:\n            return segment, _Segment(\"\", style, control)\n\n        cell_size = get_character_cell_size\n\n        pos = int((cut / cell_length) * len(text))\n\n        while True:\n            before = text[:pos]\n            cell_pos = cell_len(before)\n            out_by = cell_pos - cut\n            if not out_by:\n                return (\n                    _Segment(before, style, control),\n                    _Segment(text[pos:], style, control),\n                )\n            if out_by == -1 and cell_size(text[pos]) == 2:\n                return (\n                    _Segment(text[:pos] + \" \", style, control),\n                    _Segment(\" \" + text[pos + 1 :], style, control),\n                )\n            if out_by == +1 and cell_size(text[pos - 1]) == 2:\n                return (\n                    _Segment(text[: pos - 1] + \" \", style, control),\n                    _Segment(\" \" + text[pos:], style, control),\n                )\n            if cell_pos < cut:\n                pos += 1\n            else:\n                pos -= 1",
    "start_line": 110
  },
  {
    "file": "segment.py",
    "type": "method",
    "class": "Segment",
    "method": "split_cells",
    "name": "split_cells",
    "content": "class Segment:\n    def split_cells(self, cut: int) -> Tuple[\"Segment\", \"Segment\"]:\n        \"\"\"Split segment in to two segments at the specified column.\n\n        If the cut point falls in the middle of a 2-cell wide character then it is replaced\n        by two spaces, to preserve the display width of the parent segment.\n\n        Args:\n            cut (int): Offset within the segment to cut.\n\n        Returns:\n            Tuple[Segment, Segment]: Two segments.\n        \"\"\"\n        text, style, control = self\n        assert cut >= 0\n\n        if _is_single_cell_widths(text):",
    "start_line": 157
  },
  {
    "file": "segment.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# Fast path with all 1 cell characters\n            if cut >= len(text):\n                return self, Segment(\"\", style, control)\n            return (\n                Segment(text[:cut], style, control),\n                Segment(text[cut:], style, control),\n            )\n        return self._split_cells(self, cut)\n    @classmethod",
    "start_line": 173
  },
  {
    "file": "segment.py",
    "type": "method",
    "class": "Segment",
    "method": "line",
    "name": "line",
    "content": "class Segment:\n    def line(cls) -> \"Segment\":\n        \"\"\"Make a new line segment.\"\"\"\n        return cls(\"\\n\")\n\n    @classmethod",
    "start_line": 184
  },
  {
    "file": "segment.py",
    "type": "method",
    "class": "Segment",
    "method": "apply_style",
    "name": "apply_style",
    "content": "class Segment:\n    def apply_style(\n        cls,\n        segments: Iterable[\"Segment\"],\n        style: Optional[Style] = None,\n        post_style: Optional[Style] = None,\n    ) -> Iterable[\"Segment\"]:\n        \"\"\"Apply style(s) to an iterable of segments.\n\n        Returns an iterable of segments where the style is replaced by ``style + segment.style + post_style``.\n\n        Args:\n            segments (Iterable[Segment]): Segments to process.\n            style (Style, optional): Base style. Defaults to None.\n            post_style (Style, optional): Style to apply on top of segment style. Defaults to None.\n\n        Returns:\n            Iterable[Segments]: A new iterable of segments (possibly the same iterable).\n        \"\"\"\n        result_segments = segments\n        if style:\n            apply = style.__add__\n            result_segments = (\n                cls(text, None if control else apply(_style), control)\n                for text, _style, control in result_segments\n            )\n        if post_style:\n            result_segments = (\n                cls(\n                    text,\n                    (\n                        None\n                        if control\n                        else (_style + post_style if _style else post_style)\n                    ),\n                    control,\n                )\n                for text, _style, control in result_segments\n            )\n        return result_segments\n\n    @classmethod",
    "start_line": 189
  },
  {
    "file": "segment.py",
    "type": "method",
    "class": "Segment",
    "method": "filter_control",
    "name": "filter_control",
    "content": "class Segment:\n    def filter_control(\n        cls, segments: Iterable[\"Segment\"], is_control: bool = False\n    ) -> Iterable[\"Segment\"]:\n        \"\"\"Filter segments by ``is_control`` attribute.\n\n        Args:\n            segments (Iterable[Segment]): An iterable of Segment instances.\n            is_control (bool, optional): is_control flag to match in search.\n\n        Returns:\n            Iterable[Segment]: And iterable of Segment instances.\n\n        \"\"\"\n        if is_control:\n            return filter(attrgetter(\"control\"), segments)\n        else:\n            return filterfalse(attrgetter(\"control\"), segments)\n\n    @classmethod",
    "start_line": 230
  },
  {
    "file": "segment.py",
    "type": "method",
    "class": "Segment",
    "method": "split_lines",
    "name": "split_lines",
    "content": "class Segment:\n    def split_lines(cls, segments: Iterable[\"Segment\"]) -> Iterable[List[\"Segment\"]]:\n        \"\"\"Split a sequence of segments in to a list of lines.\n\n        Args:\n            segments (Iterable[Segment]): Segments potentially containing line feeds.\n\n        Yields:\n            Iterable[List[Segment]]: Iterable of segment lists, one per line.\n        \"\"\"\n        line: List[Segment] = []\n        append = line.append\n\n        for segment in segments:\n            if \"\\n\" in segment.text and not segment.control:\n                text, style, _ = segment\n                while text:\n                    _text, new_line, text = text.partition(\"\\n\")\n                    if _text:\n                        append(cls(_text, style))\n                    if new_line:\n                        yield line\n                        line = []\n                        append = line.append\n            else:\n                append(segment)\n        if line:\n            yield line\n\n    @classmethod",
    "start_line": 249
  },
  {
    "file": "segment.py",
    "type": "method",
    "class": "Segment",
    "method": "split_and_crop_lines",
    "name": "split_and_crop_lines",
    "content": "class Segment:\n    def split_and_crop_lines(\n        cls,\n        segments: Iterable[\"Segment\"],\n        length: int,\n        style: Optional[Style] = None,\n        pad: bool = True,\n        include_new_lines: bool = True,\n    ) -> Iterable[List[\"Segment\"]]:\n        \"\"\"Split segments in to lines, and crop lines greater than a given length.\n\n        Args:\n            segments (Iterable[Segment]): An iterable of segments, probably\n                generated from console.render.\n            length (int): Desired line length.\n            style (Style, optional): Style to use for any padding.\n            pad (bool): Enable padding of lines that are less than `length`.\n\n        Returns:\n            Iterable[List[Segment]]: An iterable of lines of segments.\n        \"\"\"\n        line: List[Segment] = []\n        append = line.append\n\n        adjust_line_length = cls.adjust_line_length\n        new_line_segment = cls(\"\\n\")\n\n        for segment in segments:\n            if \"\\n\" in segment.text and not segment.control:\n                text, segment_style, _ = segment\n                while text:\n                    _text, new_line, text = text.partition(\"\\n\")\n                    if _text:\n                        append(cls(_text, segment_style))\n                    if new_line:\n                        cropped_line = adjust_line_length(\n                            line, length, style=style, pad=pad\n                        )\n                        if include_new_lines:\n                            cropped_line.append(new_line_segment)\n                        yield cropped_line\n                        line.clear()\n            else:\n                append(segment)\n        if line:\n            yield adjust_line_length(line, length, style=style, pad=pad)\n\n    @classmethod",
    "start_line": 278
  },
  {
    "file": "segment.py",
    "type": "method",
    "class": "Segment",
    "method": "adjust_line_length",
    "name": "adjust_line_length",
    "content": "class Segment:\n    def adjust_line_length(\n        cls,\n        line: List[\"Segment\"],\n        length: int,\n        style: Optional[Style] = None,\n        pad: bool = True,\n    ) -> List[\"Segment\"]:\n        \"\"\"Adjust a line to a given width (cropping or padding as required).\n\n        Args:\n            segments (Iterable[Segment]): A list of segments in a single line.\n            length (int): The desired width of the line.\n            style (Style, optional): The style of padding if used (space on the end). Defaults to None.\n            pad (bool, optional): Pad lines with spaces if they are shorter than `length`. Defaults to True.\n\n        Returns:\n            List[Segment]: A line of segments with the desired length.\n        \"\"\"\n        line_length = sum(segment.cell_length for segment in line)\n        new_line: List[Segment]\n\n        if line_length < length:\n            if pad:\n                new_line = line + [cls(\" \" * (length - line_length), style)]\n            else:\n                new_line = line[:]\n        elif line_length > length:\n            new_line = []\n            append = new_line.append\n            line_length = 0\n            for segment in line:\n                segment_length = segment.cell_length\n                if line_length + segment_length < length or segment.control:\n                    append(segment)\n                    line_length += segment_length\n                else:\n                    text, segment_style, _ = segment\n                    text = set_cell_size(text, length - line_length)\n                    append(cls(text, segment_style))\n                    break\n        else:\n            new_line = line[:]\n        return new_line\n\n    @classmethod",
    "start_line": 325
  },
  {
    "file": "segment.py",
    "type": "method",
    "class": "Segment",
    "method": "get_line_length",
    "name": "get_line_length",
    "content": "class Segment:\n    def get_line_length(cls, line: List[\"Segment\"]) -> int:\n        \"\"\"Get the length of list of segments.\n\n        Args:\n            line (List[Segment]): A line encoded as a list of Segments (assumes no '\\\\\\\\n' characters),\n\n        Returns:\n            int: The length of the line.\n        \"\"\"\n        _cell_len = cell_len\n        return sum(_cell_len(text) for text, style, control in line if not control)\n\n    @classmethod",
    "start_line": 370
  },
  {
    "file": "segment.py",
    "type": "method",
    "class": "Segment",
    "method": "get_shape",
    "name": "get_shape",
    "content": "class Segment:\n    def get_shape(cls, lines: List[List[\"Segment\"]]) -> Tuple[int, int]:\n        \"\"\"Get the shape (enclosing rectangle) of a list of lines.\n\n        Args:\n            lines (List[List[Segment]]): A list of lines (no '\\\\\\\\n' characters).\n\n        Returns:\n            Tuple[int, int]: Width and height in characters.\n        \"\"\"\n        get_line_length = cls.get_line_length\n        max_width = max(get_line_length(line) for line in lines) if lines else 0\n        return (max_width, len(lines))\n\n    @classmethod",
    "start_line": 383
  },
  {
    "file": "segment.py",
    "type": "method",
    "class": "Segment",
    "method": "set_shape",
    "name": "set_shape",
    "content": "class Segment:\n    def set_shape(\n        cls,\n        lines: List[List[\"Segment\"]],\n        width: int,\n        height: Optional[int] = None,\n        style: Optional[Style] = None,\n        new_lines: bool = False,\n    ) -> List[List[\"Segment\"]]:\n        \"\"\"Set the shape of a list of lines (enclosing rectangle).\n\n        Args:\n            lines (List[List[Segment]]): A list of lines.\n            width (int): Desired width.\n            height (int, optional): Desired height or None for no change.\n            style (Style, optional): Style of any padding added.\n            new_lines (bool, optional): Padded lines should include \"\\n\". Defaults to False.\n\n        Returns:\n            List[List[Segment]]: New list of lines.\n        \"\"\"\n        _height = height or len(lines)\n\n        blank = (\n            [cls(\" \" * width + \"\\n\", style)] if new_lines else [cls(\" \" * width, style)]\n        )\n\n        adjust_line_length = cls.adjust_line_length\n        shaped_lines = lines[:_height]\n        shaped_lines[:] = [\n            adjust_line_length(line, width, style=style) for line in lines\n        ]\n        if len(shaped_lines) < _height:\n            shaped_lines.extend([blank] * (_height - len(shaped_lines)))\n        return shaped_lines\n\n    @classmethod",
    "start_line": 397
  },
  {
    "file": "segment.py",
    "type": "method",
    "class": "Segment",
    "method": "align_top",
    "name": "align_top",
    "content": "class Segment:\n    def align_top(\n        cls: Type[\"Segment\"],\n        lines: List[List[\"Segment\"]],\n        width: int,\n        height: int,\n        style: Style,\n        new_lines: bool = False,\n    ) -> List[List[\"Segment\"]]:\n        \"\"\"Aligns lines to top (adds extra lines to bottom as required).\n\n        Args:\n            lines (List[List[Segment]]): A list of lines.\n            width (int): Desired width.\n            height (int, optional): Desired height or None for no change.\n            style (Style): Style of any padding added.\n            new_lines (bool, optional): Padded lines should include \"\\n\". Defaults to False.\n\n        Returns:\n            List[List[Segment]]: New list of lines.\n        \"\"\"\n        extra_lines = height - len(lines)\n        if not extra_lines:\n            return lines[:]\n        lines = lines[:height]\n        blank = cls(\" \" * width + \"\\n\", style) if new_lines else cls(\" \" * width, style)\n        lines = lines + [[blank]] * extra_lines\n        return lines\n\n    @classmethod",
    "start_line": 433
  },
  {
    "file": "segment.py",
    "type": "method",
    "class": "Segment",
    "method": "align_bottom",
    "name": "align_bottom",
    "content": "class Segment:\n    def align_bottom(\n        cls: Type[\"Segment\"],\n        lines: List[List[\"Segment\"]],\n        width: int,\n        height: int,\n        style: Style,\n        new_lines: bool = False,\n    ) -> List[List[\"Segment\"]]:\n        \"\"\"Aligns render to bottom (adds extra lines above as required).\n\n        Args:\n            lines (List[List[Segment]]): A list of lines.\n            width (int): Desired width.\n            height (int, optional): Desired height or None for no change.\n            style (Style): Style of any padding added. Defaults to None.\n            new_lines (bool, optional): Padded lines should include \"\\n\". Defaults to False.\n\n        Returns:\n            List[List[Segment]]: New list of lines.\n        \"\"\"\n        extra_lines = height - len(lines)\n        if not extra_lines:\n            return lines[:]\n        lines = lines[:height]\n        blank = cls(\" \" * width + \"\\n\", style) if new_lines else cls(\" \" * width, style)\n        lines = [[blank]] * extra_lines + lines\n        return lines\n\n    @classmethod",
    "start_line": 462
  },
  {
    "file": "segment.py",
    "type": "method",
    "class": "Segment",
    "method": "align_middle",
    "name": "align_middle",
    "content": "class Segment:\n    def align_middle(\n        cls: Type[\"Segment\"],\n        lines: List[List[\"Segment\"]],\n        width: int,\n        height: int,\n        style: Style,\n        new_lines: bool = False,\n    ) -> List[List[\"Segment\"]]:\n        \"\"\"Aligns lines to middle (adds extra lines to above and below as required).\n\n        Args:\n            lines (List[List[Segment]]): A list of lines.\n            width (int): Desired width.\n            height (int, optional): Desired height or None for no change.\n            style (Style): Style of any padding added.\n            new_lines (bool, optional): Padded lines should include \"\\n\". Defaults to False.\n\n        Returns:\n            List[List[Segment]]: New list of lines.\n        \"\"\"\n        extra_lines = height - len(lines)\n        if not extra_lines:\n            return lines[:]\n        lines = lines[:height]\n        blank = cls(\" \" * width + \"\\n\", style) if new_lines else cls(\" \" * width, style)\n        top_lines = extra_lines // 2\n        bottom_lines = extra_lines - top_lines\n        lines = [[blank]] * top_lines + lines + [[blank]] * bottom_lines\n        return lines\n\n    @classmethod",
    "start_line": 491
  },
  {
    "file": "segment.py",
    "type": "method",
    "class": "Segment",
    "method": "simplify",
    "name": "simplify",
    "content": "class Segment:\n    def simplify(cls, segments: Iterable[\"Segment\"]) -> Iterable[\"Segment\"]:\n        \"\"\"Simplify an iterable of segments by combining contiguous segments with the same style.\n\n        Args:\n            segments (Iterable[Segment]): An iterable of segments.\n\n        Returns:\n            Iterable[Segment]: A possibly smaller iterable of segments that will render the same way.\n        \"\"\"\n        iter_segments = iter(segments)\n        try:\n            last_segment = next(iter_segments)\n        except StopIteration:\n            return\n\n        _Segment = Segment\n        for segment in iter_segments:\n            if last_segment.style == segment.style and not segment.control:\n                last_segment = _Segment(\n                    last_segment.text + segment.text, last_segment.style\n                )\n            else:\n                yield last_segment\n                last_segment = segment\n        yield last_segment\n\n    @classmethod",
    "start_line": 522
  },
  {
    "file": "segment.py",
    "type": "method",
    "class": "Segment",
    "method": "strip_links",
    "name": "strip_links",
    "content": "class Segment:\n    def strip_links(cls, segments: Iterable[\"Segment\"]) -> Iterable[\"Segment\"]:\n        \"\"\"Remove all links from an iterable of styles.\n\n        Args:\n            segments (Iterable[Segment]): An iterable segments.\n\n        Yields:\n            Segment: Segments with link removed.\n        \"\"\"\n        for segment in segments:\n            if segment.control or segment.style is None:\n                yield segment\n            else:\n                text, style, _control = segment\n                yield cls(text, style.update_link(None) if style else None)\n\n    @classmethod",
    "start_line": 549
  },
  {
    "file": "segment.py",
    "type": "method",
    "class": "Segment",
    "method": "strip_styles",
    "name": "strip_styles",
    "content": "class Segment:\n    def strip_styles(cls, segments: Iterable[\"Segment\"]) -> Iterable[\"Segment\"]:\n        \"\"\"Remove all styles from an iterable of segments.\n\n        Args:\n            segments (Iterable[Segment]): An iterable segments.\n\n        Yields:\n            Segment: Segments with styles replace with None\n        \"\"\"\n        for text, _style, control in segments:\n            yield cls(text, None, control)\n\n    @classmethod",
    "start_line": 566
  },
  {
    "file": "segment.py",
    "type": "method",
    "class": "Segment",
    "method": "remove_color",
    "name": "remove_color",
    "content": "class Segment:\n    def remove_color(cls, segments: Iterable[\"Segment\"]) -> Iterable[\"Segment\"]:\n        \"\"\"Remove all color from an iterable of segments.\n\n        Args:\n            segments (Iterable[Segment]): An iterable segments.\n\n        Yields:\n            Segment: Segments with colorless style.\n        \"\"\"\n\n        cache: Dict[Style, Style] = {}\n        for text, style, control in segments:\n            if style:\n                colorless_style = cache.get(style)\n                if colorless_style is None:\n                    colorless_style = style.without_color\n                    cache[style] = colorless_style\n                yield cls(text, colorless_style, control)\n            else:\n                yield cls(text, None, control)\n\n    @classmethod",
    "start_line": 579
  },
  {
    "file": "segment.py",
    "type": "method",
    "class": "Segment",
    "method": "divide",
    "name": "divide",
    "content": "class Segment:\n    def divide(\n        cls, segments: Iterable[\"Segment\"], cuts: Iterable[int]\n    ) -> Iterable[List[\"Segment\"]]:\n        \"\"\"Divides an iterable of segments in to portions.\n\n        Args:\n            cuts (Iterable[int]): Cell positions where to divide.\n\n        Yields:\n            [Iterable[List[Segment]]]: An iterable of Segments in List.\n        \"\"\"\n        split_segments: List[\"Segment\"] = []\n        add_segment = split_segments.append\n\n        iter_cuts = iter(cuts)\n\n        while True:\n            cut = next(iter_cuts, -1)\n            if cut == -1:\n                return\n            if cut != 0:\n                break\n            yield []\n        pos = 0\n\n        segments_clear = split_segments.clear\n        segments_copy = split_segments.copy\n\n        _cell_len = cached_cell_len\n        for segment in segments:\n            text, _style, control = segment\n            while text:\n                end_pos = pos if control else pos + _cell_len(text)\n                if end_pos < cut:\n                    add_segment(segment)\n                    pos = end_pos\n                    break\n\n                if end_pos == cut:\n                    add_segment(segment)\n                    yield segments_copy()\n                    segments_clear()\n                    pos = end_pos\n\n                    cut = next(iter_cuts, -1)\n                    if cut == -1:\n                        if split_segments:\n                            yield segments_copy()\n                        return\n\n                    break\n\n                else:\n                    before, segment = segment.split_cells(cut - pos)\n                    text, _style, control = segment\n                    add_segment(before)\n                    yield segments_copy()\n                    segments_clear()\n                    pos = cut\n\n                cut = next(iter_cuts, -1)\n                if cut == -1:\n                    if split_segments:\n                        yield segments_copy()\n                    return\n\n        yield segments_copy()",
    "start_line": 601
  },
  {
    "file": "segment.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "Segments",
    "content": "class Segments:\n    \"\"\"A simple renderable to render an iterable of segments. This class may be useful if\n    you want to print segments outside of a __rich_console__ method.\n\n    Args:\n        segments (Iterable[Segment]): An iterable of segments.\n        new_lines (bool, optional): Add new lines between segments. Defaults to False.\n    \"\"\"",
    "start_line": 670
  },
  {
    "file": "segment.py",
    "type": "method",
    "class": "Segments",
    "method": "__init__",
    "name": "__init__",
    "content": "class Segments:\n    def __init__(self, segments: Iterable[Segment], new_lines: bool = False) -> None:\n        self.segments = list(segments)\n        self.new_lines = new_lines",
    "start_line": 679
  },
  {
    "file": "segment.py",
    "type": "method",
    "class": "Segments",
    "method": "__rich_console__",
    "name": "__rich_console__",
    "content": "class Segments:\n    def __rich_console__(\n        self, console: \"Console\", options: \"ConsoleOptions\"\n    ) -> \"RenderResult\":\n        if self.new_lines:\n            line = Segment.line()\n            for segment in self.segments:\n                yield segment\n                yield line\n        else:\n            yield from self.segments",
    "start_line": 683
  },
  {
    "file": "segment.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "SegmentLines",
    "content": "class SegmentLines:",
    "start_line": 695
  },
  {
    "file": "segment.py",
    "type": "method",
    "class": "SegmentLines",
    "method": "__init__",
    "name": "__init__",
    "content": "class SegmentLines:\n    def __init__(self, lines: Iterable[List[Segment]], new_lines: bool = False) -> None:\n        \"\"\"A simple renderable containing a number of lines of segments. May be used as an intermediate\n        in rendering process.\n\n        Args:\n            lines (Iterable[List[Segment]]): Lists of segments forming lines.\n            new_lines (bool, optional): Insert new lines after each line. Defaults to False.\n        \"\"\"\n        self.lines = list(lines)\n        self.new_lines = new_lines",
    "start_line": 696
  },
  {
    "file": "segment.py",
    "type": "method",
    "class": "SegmentLines",
    "method": "__rich_console__",
    "name": "__rich_console__",
    "content": "class SegmentLines:\n    def __rich_console__(\n        self, console: \"Console\", options: \"ConsoleOptions\"\n    ) -> \"RenderResult\":\n        if self.new_lines:\n            new_line = Segment.line()\n            for line in self.lines:\n                yield from line\n                yield new_line\n        else:\n            for line in self.lines:\n                yield from line\n\n\nif __name__ == \"__main__\":  # pragma: no cover",
    "start_line": 707
  },
  {
    "file": "segment.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from rich.console import Console\n    from rich.syntax import Syntax\n    from rich.text import Text\n    code = \"\"\"from rich.console import Console\nconsole = Console()",
    "start_line": 721
  },
  {
    "file": "segment.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "text = Text.from_markup(\"Hello, [bold magenta]World[/]!\")\nconsole.print(text)\"\"\"\n    text = Text.from_markup(\"Hello, [bold magenta]World[/]!\")\n    console = Console()\n    console.rule(\"rich.Segment\")\n    console.print(\n        \"A Segment is the last step in the Rich render process before generating text with ANSI codes.\"\n    )\n    console.print(\"\\nConsider the following code:\\n\")\n    console.print(Syntax(code, \"python\", line_numbers=True))\n    console.print()\n    console.print(\n        \"When you call [b]print()[/b], Rich [i]renders[/i] the object in to the following:\\n\"\n    )\n    fragments = list(console.render(text))\n    console.print(fragments)\n    console.print()\n    console.print(\"The Segments are then processed to produce the following output:\\n\")\n    console.print(text)\n    console.print(\n        \"\\nYou will only need to know this if you are implementing your own Rich renderables.\"\n    )",
    "start_line": 727
  },
  {
    "file": "segment.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "from enum import IntEnum\nfrom functools import lru_cache\nfrom itertools import filterfalse\nfrom logging import getLogger\nfrom operator import attrgetter\nfrom typing import (\n    TYPE_CHECKING,\n    Dict,\n    Iterable,\n    List,\n    NamedTuple,\n    Optional,\n    Sequence,\n    Tuple,\n    Type,\n    Union,\n)\n\nfrom .cells import (\n    _is_single_cell_widths,\n    cached_cell_len,\n    cell_len,\n    get_character_cell_size,\n    set_cell_size,\n)\nfrom .repr import Result, rich_repr\nfrom .style import Style\n\nif TYPE_CHECKING:\n    from .console import Console, ConsoleOptions, RenderResult\n\nlog = getLogger(\"rich\")\n\n\nclass ControlType(IntEnum):\n    \"\"\"Non-printable control codes which typically translate to ANSI codes.\"\"\"\n\n    BELL = 1\n    CARRIAGE_RETURN = 2\n    HOME = 3\n    CLEAR = 4\n    SHOW_CURSOR = 5\n    HIDE_CURSOR = 6\n    ENABLE_ALT_SCREEN = 7\n    DISABLE_ALT_SCREEN = 8\n    CURSOR_UP = 9\n    CURSOR_DOWN = 10\n    CURSOR_FORWARD = 11\n    CURSOR_BACKWARD = 12\n    CURSOR_MOVE_TO_COLUMN = 13\n    CURSOR_MOVE_TO = 14\n    ERASE_IN_LINE = 15\n    SET_WINDOW_TITLE = 16\n\n\nControlCode = Union[\n    Tuple[ControlType],\n    Tuple[ControlType, Union[int, str]],\n    Tuple[ControlType, int, int],\n]\n\n\n@rich_repr()\nclass Segment(NamedTuple):\n    \"\"\"A piece of text with associated style. Segments are produced by the Console render process and\n    are ultimately converted in to strings to be written to the terminal.\n\n    Args:\n        text (str): A piece of text.\n        style (:class:`~rich.style.Style`, optional): An optional style to apply to the text.\n        control (Tuple[ControlCode], optional): Optional sequence of control codes.\n\n    Attributes:\n        cell_length (int): The cell length of this Segment.\n    \"\"\"\n\n    text: str\n    style: Optional[Style] = None\n    control: Optional[Sequence[ControlCode]] = None\n\n    @property\n    def cell_length(self) -> int:\n        \"\"\"The number of terminal cells required to display self.text.\n\n        Returns:\n            int: A number of cells.\n        \"\"\"\n        text, _style, control = self\n        return 0 if control else cell_len(text)\n\n    def __rich_repr__(self) -> Result:\n        yield self.text\n        if self.control is None:\n            if self.style is not None:\n                yield self.style\n        else:\n            yield self.style\n            yield self.control\n\n    def __bool__(self) -> bool:\n        \"\"\"Check if the segment contains text.\"\"\"\n        return bool(self.text)\n\n    @property\n    def is_control(self) -> bool:\n        \"\"\"Check if the segment contains control codes.\"\"\"\n        return self.control is not None\n\n    @classmethod\n    @lru_cache(1024 * 16)\n    def _split_cells(cls, segment: \"Segment\", cut: int) -> Tuple[\"Segment\", \"Segment\"]:\n        \"\"\"Split a segment in to two at a given cell position.\n\n        Note that splitting a double-width character, may result in that character turning\n        into two spaces.\n\n        Args:\n            segment (Segment): A segment to split.\n            cut (int): A cell position to cut on.\n\n        Returns:\n            A tuple of two segments.\n        \"\"\"\n        text, style, control = segment\n        _Segment = Segment\n        cell_length = segment.cell_length\n        if cut >= cell_length:\n            return segment, _Segment(\"\", style, control)\n\n        cell_size = get_character_cell_size\n\n        pos = int((cut / cell_length) * len(text))\n\n        while True:\n            before = text[:pos]\n            cell_pos = cell_len(before)\n            out_by = cell_pos - cut\n            if not out_by:\n                return (\n                    _Segment(before, style, control),\n                    _Segment(text[pos:], style, control),\n                )\n            if out_by == -1 and cell_size(text[pos]) == 2:\n                return (\n                    _Segment(text[:pos] + \" \", style, control),\n                    _Segment(\" \" + text[pos + 1 :], style, control),\n                )\n            if out_by == +1 and cell_size(text[pos - 1]) == 2:\n                return (\n                    _Segment(text[: pos - 1] + \" \", style, control),\n                    _Segment(\" \" + text[pos:], style, control),\n                )\n            if cell_pos < cut:\n                pos += 1\n            else:\n                pos -= 1\n\n    def split_cells(self, cut: int) -> Tuple[\"Segment\", \"Segment\"]:\n        \"\"\"Split segment in to two segments at the specified column.\n\n        If the cut point falls in the middle of a 2-cell wide character then it is replaced\n        by two spaces, to preserve the display width of the parent segment.\n\n        Args:\n            cut (int): Offset within the segment to cut.\n\n        Returns:\n            Tuple[Segment, Segment]: Two segments.\n        \"\"\"\n        text, style, control = self\n        assert cut >= 0\n\n        if _is_single_cell_widths(text):\n            # Fast path with all 1 cell characters\n            if cut >= len(text):\n                return self, Segment(\"\", style, control)\n            return (\n                Segment(text[:cut], style, control),\n                Segment(text[cut:], style, control),\n            )\n\n        return self._split_cells(self, cut)\n\n    @classmethod\n    def line(cls) -> \"Segment\":\n        \"\"\"Make a new line segment.\"\"\"\n        return cls(\"\\n\")\n\n    @classmethod\n    def apply_style(\n        cls,\n        segments: Iterable[\"Segment\"],\n        style: Optional[Style] = None,\n        post_style: Optional[Style] = None,\n    ) -> Iterable[\"Segment\"]:\n        \"\"\"Apply style(s) to an iterable of segments.\n\n        Returns an iterable of segments where the style is replaced by ``style + segment.style + post_style``.\n\n        Args:\n            segments (Iterable[Segment]): Segments to process.\n            style (Style, optional): Base style. Defaults to None.\n            post_style (Style, optional): Style to apply on top of segment style. Defaults to None.\n\n        Returns:\n            Iterable[Segments]: A new iterable of segments (possibly the same iterable).\n        \"\"\"\n        result_segments = segments\n        if style:\n            apply = style.__add__\n            result_segments = (\n                cls(text, None if control else apply(_style), control)\n                for text, _style, control in result_segments\n            )\n        if post_style:\n            result_segments = (\n                cls(\n                    text,\n                    (\n                        None\n                        if control\n                        else (_style + post_style if _style else post_style)\n                    ),\n                    control,\n                )\n                for text, _style, control in result_segments\n            )\n        return result_segments\n\n    @classmethod\n    def filter_control(\n        cls, segments: Iterable[\"Segment\"], is_control: bool = False\n    ) -> Iterable[\"Segment\"]:\n        \"\"\"Filter segments by ``is_control`` attribute.\n\n        Args:\n            segments (Iterable[Segment]): An iterable of Segment instances.\n            is_control (bool, optional): is_control flag to match in search.\n\n        Returns:\n            Iterable[Segment]: And iterable of Segment instances.\n\n        \"\"\"\n        if is_control:\n            return filter(attrgetter(\"control\"), segments)\n        else:\n            return filterfalse(attrgetter(\"control\"), segments)\n\n    @classmethod\n    def split_lines(cls, segments: Iterable[\"Segment\"]) -> Iterable[List[\"Segment\"]]:\n        \"\"\"Split a sequence of segments in to a list of lines.\n\n        Args:\n            segments (Iterable[Segment]): Segments potentially containing line feeds.\n\n        Yields:\n            Iterable[List[Segment]]: Iterable of segment lists, one per line.\n        \"\"\"\n        line: List[Segment] = []\n        append = line.append\n\n        for segment in segments:\n            if \"\\n\" in segment.text and not segment.control:\n                text, style, _ = segment\n                while text:\n                    _text, new_line, text = text.partition(\"\\n\")\n                    if _text:\n                        append(cls(_text, style))\n                    if new_line:\n                        yield line\n                        line = []\n                        append = line.append\n            else:\n                append(segment)\n        if line:\n            yield line\n\n    @classmethod\n    def split_and_crop_lines(\n        cls,\n        segments: Iterable[\"Segment\"],\n        length: int,\n        style: Optional[Style] = None,\n        pad: bool = True,\n        include_new_lines: bool = True,\n    ) -> Iterable[List[\"Segment\"]]:\n        \"\"\"Split segments in to lines, and crop lines greater than a given length.\n\n        Args:\n            segments (Iterable[Segment]): An iterable of segments, probably\n                generated from console.render.\n            length (int): Desired line length.\n            style (Style, optional): Style to use for any padding.\n            pad (bool): Enable padding of lines that are less than `length`.\n\n        Returns:\n            Iterable[List[Segment]]: An iterable of lines of segments.\n        \"\"\"\n        line: List[Segment] = []\n        append = line.append\n\n        adjust_line_length = cls.adjust_line_length\n        new_line_segment = cls(\"\\n\")\n\n        for segment in segments:\n            if \"\\n\" in segment.text and not segment.control:\n                text, segment_style, _ = segment\n                while text:\n                    _text, new_line, text = text.partition(\"\\n\")\n                    if _text:\n                        append(cls(_text, segment_style))\n                    if new_line:\n                        cropped_line = adjust_line_length(\n                            line, length, style=style, pad=pad\n                        )\n                        if include_new_lines:\n                            cropped_line.append(new_line_segment)\n                        yield cropped_line\n                        line.clear()\n            else:\n                append(segment)\n        if line:\n            yield adjust_line_length(line, length, style=style, pad=pad)\n\n    @classmethod\n    def adjust_line_length(\n        cls,\n        line: List[\"Segment\"],\n        length: int,\n        style: Optional[Style] = None,\n        pad: bool = True,\n    ) -> List[\"Segment\"]:\n        \"\"\"Adjust a line to a given width (cropping or padding as required).\n\n        Args:\n            segments (Iterable[Segment]): A list of segments in a single line.\n            length (int): The desired width of the line.\n            style (Style, optional): The style of padding if used (space on the end). Defaults to None.\n            pad (bool, optional): Pad lines with spaces if they are shorter than `length`. Defaults to True.\n\n        Returns:\n            List[Segment]: A line of segments with the desired length.\n        \"\"\"\n        line_length = sum(segment.cell_length for segment in line)\n        new_line: List[Segment]\n\n        if line_length < length:\n            if pad:\n                new_line = line + [cls(\" \" * (length - line_length), style)]\n            else:\n                new_line = line[:]\n        elif line_length > length:\n            new_line = []\n            append = new_line.append\n            line_length = 0\n            for segment in line:\n                segment_length = segment.cell_length\n                if line_length + segment_length < length or segment.control:\n                    append(segment)\n                    line_length += segment_length\n                else:\n                    text, segment_style, _ = segment\n                    text = set_cell_size(text, length - line_length)\n                    append(cls(text, segment_style))\n                    break\n        else:\n            new_line = line[:]\n        return new_line\n\n    @classmethod\n    def get_line_length(cls, line: List[\"Segment\"]) -> int:\n        \"\"\"Get the length of list of segments.\n\n        Args:\n            line (List[Segment]): A line encoded as a list of Segments (assumes no '\\\\\\\\n' characters),\n\n        Returns:\n            int: The length of the line.\n        \"\"\"\n        _cell_len = cell_len\n        return sum(_cell_len(text) for text, style, control in line if not control)\n\n    @classmethod\n    def get_shape(cls, lines: List[List[\"Segment\"]]) -> Tuple[int, int]:\n        \"\"\"Get the shape (enclosing rectangle) of a list of lines.\n\n        Args:\n            lines (List[List[Segment]]): A list of lines (no '\\\\\\\\n' characters).\n\n        Returns:\n            Tuple[int, int]: Width and height in characters.\n        \"\"\"\n        get_line_length = cls.get_line_length\n        max_width = max(get_line_length(line) for line in lines) if lines else 0\n        return (max_width, len(lines))\n\n    @classmethod\n    def set_shape(\n        cls,\n        lines: List[List[\"Segment\"]],\n        width: int,\n        height: Optional[int] = None,\n        style: Optional[Style] = None,\n        new_lines: bool = False,\n    ) -> List[List[\"Segment\"]]:\n        \"\"\"Set the shape of a list of lines (enclosing rectangle).\n\n        Args:\n            lines (List[List[Segment]]): A list of lines.\n            width (int): Desired width.\n            height (int, optional): Desired height or None for no change.\n            style (Style, optional): Style of any padding added.\n            new_lines (bool, optional): Padded lines should include \"\\n\". Defaults to False.\n\n        Returns:\n            List[List[Segment]]: New list of lines.\n        \"\"\"\n        _height = height or len(lines)\n\n        blank = (\n            [cls(\" \" * width + \"\\n\", style)] if new_lines else [cls(\" \" * width, style)]\n        )\n\n        adjust_line_length = cls.adjust_line_length\n        shaped_lines = lines[:_height]\n        shaped_lines[:] = [\n            adjust_line_length(line, width, style=style) for line in lines\n        ]\n        if len(shaped_lines) < _height:\n            shaped_lines.extend([blank] * (_height - len(shaped_lines)))\n        return shaped_lines\n\n    @classmethod\n    def align_top(\n        cls: Type[\"Segment\"],\n        lines: List[List[\"Segment\"]],\n        width: int,\n        height: int,\n        style: Style,\n        new_lines: bool = False,\n    ) -> List[List[\"Segment\"]]:\n        \"\"\"Aligns lines to top (adds extra lines to bottom as required).\n\n        Args:\n            lines (List[List[Segment]]): A list of lines.\n            width (int): Desired width.\n            height (int, optional): Desired height or None for no change.\n            style (Style): Style of any padding added.\n            new_lines (bool, optional): Padded lines should include \"\\n\". Defaults to False.\n\n        Returns:\n            List[List[Segment]]: New list of lines.\n        \"\"\"\n        extra_lines = height - len(lines)\n        if not extra_lines:\n            return lines[:]\n        lines = lines[:height]\n        blank = cls(\" \" * width + \"\\n\", style) if new_lines else cls(\" \" * width, style)\n        lines = lines + [[blank]] * extra_lines\n        return lines\n\n    @classmethod\n    def align_bottom(\n        cls: Type[\"Segment\"],\n        lines: List[List[\"Segment\"]],\n        width: int,\n        height: int,\n        style: Style,\n        new_lines: bool = False,\n    ) -> List[List[\"Segment\"]]:\n        \"\"\"Aligns render to bottom (adds extra lines above as required).\n\n        Args:\n            lines (List[List[Segment]]): A list of lines.\n            width (int): Desired width.\n            height (int, optional): Desired height or None for no change.\n            style (Style): Style of any padding added. Defaults to None.\n            new_lines (bool, optional): Padded lines should include \"\\n\". Defaults to False.\n\n        Returns:\n            List[List[Segment]]: New list of lines.\n        \"\"\"\n        extra_lines = height - len(lines)\n        if not extra_lines:\n            return lines[:]\n        lines = lines[:height]\n        blank = cls(\" \" * width + \"\\n\", style) if new_lines else cls(\" \" * width, style)\n        lines = [[blank]] * extra_lines + lines\n        return lines\n\n    @classmethod\n    def align_middle(\n        cls: Type[\"Segment\"],\n        lines: List[List[\"Segment\"]],\n        width: int,\n        height: int,\n        style: Style,\n        new_lines: bool = False,\n    ) -> List[List[\"Segment\"]]:\n        \"\"\"Aligns lines to middle (adds extra lines to above and below as required).\n\n        Args:\n            lines (List[List[Segment]]): A list of lines.\n            width (int): Desired width.\n            height (int, optional): Desired height or None for no change.\n            style (Style): Style of any padding added.\n            new_lines (bool, optional): Padded lines should include \"\\n\". Defaults to False.\n\n        Returns:\n            List[List[Segment]]: New list of lines.\n        \"\"\"\n        extra_lines = height - len(lines)\n        if not extra_lines:\n            return lines[:]\n        lines = lines[:height]\n        blank = cls(\" \" * width + \"\\n\", style) if new_lines else cls(\" \" * width, style)\n        top_lines = extra_lines // 2\n        bottom_lines = extra_lines - top_lines\n        lines = [[blank]] * top_lines + lines + [[blank]] * bottom_lines\n        return lines\n\n    @classmethod\n    def simplify(cls, segments: Iterable[\"Segment\"]) -> Iterable[\"Segment\"]:\n        \"\"\"Simplify an iterable of segments by combining contiguous segments with the same style.\n\n        Args:\n            segments (Iterable[Segment]): An iterable of segments.\n\n        Returns:\n            Iterable[Segment]: A possibly smaller iterable of segments that will render the same way.\n        \"\"\"\n        iter_segments = iter(segments)\n        try:\n            last_segment = next(iter_segments)\n        except StopIteration:\n            return\n\n        _Segment = Segment\n        for segment in iter_segments:\n            if last_segment.style == segment.style and not segment.control:\n                last_segment = _Segment(\n                    last_segment.text + segment.text, last_segment.style\n                )\n            else:\n                yield last_segment\n                last_segment = segment\n        yield last_segment\n\n    @classmethod\n    def strip_links(cls, segments: Iterable[\"Segment\"]) -> Iterable[\"Segment\"]:\n        \"\"\"Remove all links from an iterable of styles.\n\n        Args:\n            segments (Iterable[Segment]): An iterable segments.\n\n        Yields:\n            Segment: Segments with link removed.\n        \"\"\"\n        for segment in segments:\n            if segment.control or segment.style is None:\n                yield segment\n            else:\n                text, style, _control = segment\n                yield cls(text, style.update_link(None) if style else None)\n\n    @classmethod\n    def strip_styles(cls, segments: Iterable[\"Segment\"]) -> Iterable[\"Segment\"]:\n        \"\"\"Remove all styles from an iterable of segments.\n\n        Args:\n            segments (Iterable[Segment]): An iterable segments.\n\n        Yields:\n            Segment: Segments with styles replace with None\n        \"\"\"\n        for text, _style, control in segments:\n            yield cls(text, None, control)\n\n    @classmethod\n    def remove_color(cls, segments: Iterable[\"Segment\"]) -> Iterable[\"Segment\"]:\n        \"\"\"Remove all color from an iterable of segments.\n\n        Args:\n            segments (Iterable[Segment]): An iterable segments.\n\n        Yields:\n            Segment: Segments with colorless style.\n        \"\"\"\n\n        cache: Dict[Style, Style] = {}\n        for text, style, control in segments:\n            if style:\n                colorless_style = cache.get(style)\n                if colorless_style is None:\n                    colorless_style = style.without_color\n                    cache[style] = colorless_style\n                yield cls(text, colorless_style, control)\n            else:\n                yield cls(text, None, control)\n\n    @classmethod\n    def divide(\n        cls, segments: Iterable[\"Segment\"], cuts: Iterable[int]\n    ) -> Iterable[List[\"Segment\"]]:\n        \"\"\"Divides an iterable of segments in to portions.\n\n        Args:\n            cuts (Iterable[int]): Cell positions where to divide.\n\n        Yields:\n            [Iterable[List[Segment]]]: An iterable of Segments in List.\n        \"\"\"\n        split_segments: List[\"Segment\"] = []\n        add_segment = split_segments.append\n\n        iter_cuts = iter(cuts)\n\n        while True:\n            cut = next(iter_cuts, -1)\n            if cut == -1:\n                return\n            if cut != 0:\n                break\n            yield []\n        pos = 0\n\n        segments_clear = split_segments.clear\n        segments_copy = split_segments.copy\n\n        _cell_len = cached_cell_len\n        for segment in segments:\n            text, _style, control = segment\n            while text:\n                end_pos = pos if control else pos + _cell_len(text)\n                if end_pos < cut:\n                    add_segment(segment)\n                    pos = end_pos\n                    break\n\n                if end_pos == cut:\n                    add_segment(segment)\n                    yield segments_copy()\n                    segments_clear()\n                    pos = end_pos\n\n                    cut = next(iter_cuts, -1)\n                    if cut == -1:\n                        if split_segments:\n                            yield segments_copy()\n                        return\n\n                    break\n\n                else:\n                    before, segment = segment.split_cells(cut - pos)\n                    text, _style, control = segment\n                    add_segment(before)\n                    yield segments_copy()\n                    segments_clear()\n                    pos = cut\n\n                cut = next(iter_cuts, -1)\n                if cut == -1:\n                    if split_segments:\n                        yield segments_copy()\n                    return\n\n        yield segments_copy()\n\n\nclass Segments:\n    \"\"\"A simple renderable to render an iterable of segments. This class may be useful if\n    you want to print segments outside of a __rich_console__ method.\n\n    Args:\n        segments (Iterable[Segment]): An iterable of segments.\n        new_lines (bool, optional): Add new lines between segments. Defaults to False.\n    \"\"\"\n\n    def __init__(self, segments: Iterable[Segment], new_lines: bool = False) -> None:\n        self.segments = list(segments)\n        self.new_lines = new_lines\n\n    def __rich_console__(\n        self, console: \"Console\", options: \"ConsoleOptions\"\n    ) -> \"RenderResult\":\n        if self.new_lines:\n            line = Segment.line()\n            for segment in self.segments:\n                yield segment\n                yield line\n        else:\n            yield from self.segments\n\n\nclass SegmentLines:\n    def __init__(self, lines: Iterable[List[Segment]], new_lines: bool = False) -> None:\n        \"\"\"A simple renderable containing a number of lines of segments. May be used as an intermediate\n        in rendering process.\n\n        Args:\n            lines (Iterable[List[Segment]]): Lists of segments forming lines.\n            new_lines (bool, optional): Insert new lines after each line. Defaults to False.\n        \"\"\"\n        self.lines = list(lines)\n        self.new_lines = new_lines\n\n    def __rich_console__(\n        self, console: \"Console\", options: \"ConsoleOptions\"\n    ) -> \"RenderResult\":\n        if self.new_lines:\n            new_line = Segment.line()\n            for line in self.lines:\n                yield from line\n                yield new_line\n        else:\n            for line in self.lines:\n                yield from line\n\n\nif __name__ == \"__main__\":  # pragma: no cover\n    from rich.console import Console\n    from rich.syntax import Syntax\n    from rich.text import Text\n\n    code = \"\"\"from rich.console import Console\nconsole = Console()\ntext = Text.from_markup(\"Hello, [bold magenta]World[/]!\")\nconsole.print(text)\"\"\"\n\n    text = Text.from_markup(\"Hello, [bold magenta]World[/]!\")\n\n    console = Console()\n\n    console.rule(\"rich.Segment\")\n    console.print(\n        \"A Segment is the last step in the Rich render process before generating text with ANSI codes.\"\n    )\n    console.print(\"\\nConsider the following code:\\n\")\n    console.print(Syntax(code, \"python\", line_numbers=True))\n    console.print()\n    console.print(\n        \"When you call [b]print()[/b], Rich [i]renders[/i] the object in to the following:\\n\"\n    )\n    fragments = list(console.render(text))\n    console.print(fragments)\n    console.print()\n    console.print(\"The Segments are then processed to produce the following output:\\n\")\n    console.print(text)\n    console.print(\n        \"\\nYou will only need to know this if you are implementing your own Rich renderables.\"\n    )\n",
    "start_line": 0
  },
  {
    "file": "ansi.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "import re\nimport sys\nfrom contextlib import suppress\nfrom typing import Iterable, NamedTuple, Optional\nfrom .color import Color\nfrom .style import Style\nfrom .text import Text",
    "start_line": 0
  },
  {
    "file": "ansi.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "re_ansi = re.compile(\n    r\"\"\"\n(?:\\x1b[0-?])|\n(?:\\x1b\\](.*?)\\x1b\\\\)|\n(?:\\x1b([(@-Z\\\\-_]|\\[[0-?]*[ -/]*[@-~]))\n\"\"\",\n    re.VERBOSE,\n)",
    "start_line": 9
  },
  {
    "file": "ansi.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "_AnsiToken",
    "content": "class _AnsiToken(NamedTuple):\n    \"\"\"Result of ansi tokenized string.\"\"\"\n\n    plain: str = \"\"\n    sgr: Optional[str] = \"\"\n    osc: Optional[str] = \"\"",
    "start_line": 19
  },
  {
    "file": "ansi.py",
    "type": "function",
    "class": null,
    "method": "_ansi_tokenize",
    "name": "_ansi_tokenize",
    "content": "def _ansi_tokenize(ansi_text: str) -> Iterable[_AnsiToken]:\n    \"\"\"Tokenize a string in to plain text and ANSI codes.\n\n    Args:\n        ansi_text (str): A String containing ANSI codes.\n\n    Yields:\n        AnsiToken: A named tuple of (plain, sgr, osc)\n    \"\"\"",
    "start_line": 27
  },
  {
    "file": "ansi.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "position = 0\n    sgr: Optional[str]\n    osc: Optional[str]\n    for match in re_ansi.finditer(ansi_text):\n        start, end = match.span(0)\n        osc, sgr = match.groups()\n        if start > position:\n            yield _AnsiToken(ansi_text[position:start])\n        if sgr:\n            if sgr == \"(\":\n                position = end + 1\n                continue\n            if sgr.endswith(\"m\"):\n                yield _AnsiToken(\"\", sgr[1:-1], osc)\n        else:\n            yield _AnsiToken(\"\", sgr, osc)\n        position = end\n    if position < len(ansi_text):\n        yield _AnsiToken(ansi_text[position:])",
    "start_line": 37
  },
  {
    "file": "ansi.py",
    "type": "constants",
    "class": null,
    "method": null,
    "name": "module_constants",
    "content": "SGR_STYLE_MAP = {\n    1: \"bold\",\n    2: \"dim\",\n    3: \"italic\",\n    4: \"underline\",\n    5: \"blink\",\n    6: \"blink2\",\n    7: \"reverse\",\n    8: \"conceal\",\n    9: \"strike\",\n    21: \"underline2\",\n    22: \"not dim not bold\",\n    23: \"not italic\",\n    24: \"not underline\",\n    25: \"not blink\",\n    26: \"not blink2\",\n    27: \"not reverse\",\n    28: \"not conceal\",\n    29: \"not strike\",\n    30: \"color(0)\",\n    31: \"color(1)\",\n    32: \"color(2)\",\n    33: \"color(3)\",\n    34: \"color(4)\",\n    35: \"color(5)\",\n    36: \"color(6)\",\n    37: \"color(7)\",\n    39: \"default\",\n    40: \"on color(0)\",\n    41: \"on color(1)\",\n    42: \"on color(2)\",\n    43: \"on color(3)\",\n    44: \"on color(4)\",\n    45: \"on color(5)\",\n    46: \"on color(6)\",\n    47: \"on color(7)\",\n    49: \"on default\",\n    51: \"frame\",\n    52: \"encircle\",\n    53: \"overline\",\n    54: \"not frame not encircle\",\n    55: \"not overline\",\n    90: \"color(8)\",\n    91: \"color(9)\",\n    92: \"color(10)\",\n    93: \"color(11)\",\n    94: \"color(12)\",\n    95: \"color(13)\",\n    96: \"color(14)\",\n    97: \"color(15)\",\n    100: \"on color(8)\",\n    101: \"on color(9)\",\n    102: \"on color(10)\",\n    103: \"on color(11)\",\n    104: \"on color(12)\",\n    105: \"on color(13)\",\n    106: \"on color(14)\",\n    107: \"on color(15)\",\n}",
    "start_line": 58
  },
  {
    "file": "ansi.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "AnsiDecoder",
    "content": "class AnsiDecoder:\n    \"\"\"Translate ANSI code in to styled Text.\"\"\"",
    "start_line": 119
  },
  {
    "file": "ansi.py",
    "type": "method",
    "class": "AnsiDecoder",
    "method": "__init__",
    "name": "__init__",
    "content": "class AnsiDecoder:\n    def __init__(self) -> None:\n        self.style = Style.null()",
    "start_line": 122
  },
  {
    "file": "ansi.py",
    "type": "method",
    "class": "AnsiDecoder",
    "method": "decode",
    "name": "decode",
    "content": "class AnsiDecoder:\n    def decode(self, terminal_text: str) -> Iterable[Text]:\n        \"\"\"Decode ANSI codes in an iterable of lines.\n\n        Args:\n            lines (Iterable[str]): An iterable of lines of terminal output.\n\n        Yields:\n            Text: Marked up Text.\n        \"\"\"\n        for line in terminal_text.splitlines():\n            yield self.decode_line(line)",
    "start_line": 125
  },
  {
    "file": "ansi.py",
    "type": "method",
    "class": "AnsiDecoder",
    "method": "decode_line",
    "name": "decode_line",
    "content": "class AnsiDecoder:\n    def decode_line(self, line: str) -> Text:\n        \"\"\"Decode a line containing ansi codes.\n\n        Args:\n            line (str): A line of terminal output.\n\n        Returns:\n            Text: A Text instance marked up according to ansi codes.\n        \"\"\"\n        from_ansi = Color.from_ansi\n        from_rgb = Color.from_rgb\n        _Style = Style\n        text = Text()\n        append = text.append\n        line = line.rsplit(\"\\r\", 1)[-1]\n        for plain_text, sgr, osc in _ansi_tokenize(line):\n            if plain_text:\n                append(plain_text, self.style or None)\n            elif osc is not None:\n                if osc.startswith(\"8;\"):\n                    _params, semicolon, link = osc[2:].partition(\";\")\n                    if semicolon:\n                        self.style = self.style.update_link(link or None)\n            elif sgr is not None:",
    "start_line": 137
  },
  {
    "file": "ansi.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# Translate in to semi-colon separated codes\n                # Ignore invalid codes, because we want to be lenient\n                codes = [\n                    min(255, int(_code) if _code else 0)\n                    for _code in sgr.split(\";\")\n                    if _code.isdigit() or _code == \"\"\n                ]\n                iter_codes = iter(codes)\n                for code in iter_codes:\n                    if code == 0:\n                        # reset\n                        self.style = _Style.null()\n                    elif code in SGR_STYLE_MAP:\n                        # styles\n                        self.style += _Style.parse(SGR_STYLE_MAP[code])\n                    elif code == 38:\n                        # Foreground\n                        with suppress(StopIteration):\n                            color_type = next(iter_codes)\n                            if color_type == 5:\n                                self.style += _Style.from_color(\n                                    from_ansi(next(iter_codes))\n                                )\n                            elif color_type == 2:\n                                self.style += _Style.from_color(\n                                    from_rgb(\n                                        next(iter_codes),\n                                        next(iter_codes),\n                                        next(iter_codes),\n                                    )\n                                )\n                    elif code == 48:\n                        # Background\n                        with suppress(StopIteration):\n                            color_type = next(iter_codes)\n                            if color_type == 5:\n                                self.style += _Style.from_color(\n                                    None, from_ansi(next(iter_codes))\n                                )\n                            elif color_type == 2:\n                                self.style += _Style.from_color(\n                                    None,\n                                    from_rgb(\n                                        next(iter_codes),\n                                        next(iter_codes),\n                                        next(iter_codes),\n                                    ),\n                                )\n        return text\nif sys.platform != \"win32\" and __name__ == \"__main__\":  # pragma: no cover",
    "start_line": 161
  },
  {
    "file": "ansi.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "import io\n    import os\n    import pty\n    import sys",
    "start_line": 214
  },
  {
    "file": "ansi.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "decoder = AnsiDecoder()\n    stdout = io.BytesIO()",
    "start_line": 219
  },
  {
    "file": "ansi.py",
    "type": "function",
    "class": null,
    "method": "read",
    "name": "read",
    "content": "def read(fd: int) -> bytes:",
    "start_line": 223
  },
  {
    "file": "ansi.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "data = os.read(fd, 1024)\n        stdout.write(data)\n        return data\n    pty.spawn(sys.argv[1:], read)",
    "start_line": 224
  },
  {
    "file": "ansi.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from .console import Console",
    "start_line": 230
  },
  {
    "file": "ansi.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(record=True)\n    stdout_result = stdout.getvalue().decode(\"utf-8\")\n    print(stdout_result)\n    for line in decoder.decode(stdout_result):\n        console.print(line)\n    console.save_html(\"stdout.html\")",
    "start_line": 232
  },
  {
    "file": "ansi.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "import re\nimport sys\nfrom contextlib import suppress\nfrom typing import Iterable, NamedTuple, Optional\n\nfrom .color import Color\nfrom .style import Style\nfrom .text import Text\n\nre_ansi = re.compile(\n    r\"\"\"\n(?:\\x1b[0-?])|\n(?:\\x1b\\](.*?)\\x1b\\\\)|\n(?:\\x1b([(@-Z\\\\-_]|\\[[0-?]*[ -/]*[@-~]))\n\"\"\",\n    re.VERBOSE,\n)\n\n\nclass _AnsiToken(NamedTuple):\n    \"\"\"Result of ansi tokenized string.\"\"\"\n\n    plain: str = \"\"\n    sgr: Optional[str] = \"\"\n    osc: Optional[str] = \"\"\n\n\ndef _ansi_tokenize(ansi_text: str) -> Iterable[_AnsiToken]:\n    \"\"\"Tokenize a string in to plain text and ANSI codes.\n\n    Args:\n        ansi_text (str): A String containing ANSI codes.\n\n    Yields:\n        AnsiToken: A named tuple of (plain, sgr, osc)\n    \"\"\"\n\n    position = 0\n    sgr: Optional[str]\n    osc: Optional[str]\n    for match in re_ansi.finditer(ansi_text):\n        start, end = match.span(0)\n        osc, sgr = match.groups()\n        if start > position:\n            yield _AnsiToken(ansi_text[position:start])\n        if sgr:\n            if sgr == \"(\":\n                position = end + 1\n                continue\n            if sgr.endswith(\"m\"):\n                yield _AnsiToken(\"\", sgr[1:-1], osc)\n        else:\n            yield _AnsiToken(\"\", sgr, osc)\n        position = end\n    if position < len(ansi_text):\n        yield _AnsiToken(ansi_text[position:])\n\n\nSGR_STYLE_MAP = {\n    1: \"bold\",\n    2: \"dim\",\n    3: \"italic\",\n    4: \"underline\",\n    5: \"blink\",\n    6: \"blink2\",\n    7: \"reverse\",\n    8: \"conceal\",\n    9: \"strike\",\n    21: \"underline2\",\n    22: \"not dim not bold\",\n    23: \"not italic\",\n    24: \"not underline\",\n    25: \"not blink\",\n    26: \"not blink2\",\n    27: \"not reverse\",\n    28: \"not conceal\",\n    29: \"not strike\",\n    30: \"color(0)\",\n    31: \"color(1)\",\n    32: \"color(2)\",\n    33: \"color(3)\",\n    34: \"color(4)\",\n    35: \"color(5)\",\n    36: \"color(6)\",\n    37: \"color(7)\",\n    39: \"default\",\n    40: \"on color(0)\",\n    41: \"on color(1)\",\n    42: \"on color(2)\",\n    43: \"on color(3)\",\n    44: \"on color(4)\",\n    45: \"on color(5)\",\n    46: \"on color(6)\",\n    47: \"on color(7)\",\n    49: \"on default\",\n    51: \"frame\",\n    52: \"encircle\",\n    53: \"overline\",\n    54: \"not frame not encircle\",\n    55: \"not overline\",\n    90: \"color(8)\",\n    91: \"color(9)\",\n    92: \"color(10)\",\n    93: \"color(11)\",\n    94: \"color(12)\",\n    95: \"color(13)\",\n    96: \"color(14)\",\n    97: \"color(15)\",\n    100: \"on color(8)\",\n    101: \"on color(9)\",\n    102: \"on color(10)\",\n    103: \"on color(11)\",\n    104: \"on color(12)\",\n    105: \"on color(13)\",\n    106: \"on color(14)\",\n    107: \"on color(15)\",\n}\n\n\nclass AnsiDecoder:\n    \"\"\"Translate ANSI code in to styled Text.\"\"\"\n\n    def __init__(self) -> None:\n        self.style = Style.null()\n\n    def decode(self, terminal_text: str) -> Iterable[Text]:\n        \"\"\"Decode ANSI codes in an iterable of lines.\n\n        Args:\n            lines (Iterable[str]): An iterable of lines of terminal output.\n\n        Yields:\n            Text: Marked up Text.\n        \"\"\"\n        for line in terminal_text.splitlines():\n            yield self.decode_line(line)\n\n    def decode_line(self, line: str) -> Text:\n        \"\"\"Decode a line containing ansi codes.\n\n        Args:\n            line (str): A line of terminal output.\n\n        Returns:\n            Text: A Text instance marked up according to ansi codes.\n        \"\"\"\n        from_ansi = Color.from_ansi\n        from_rgb = Color.from_rgb\n        _Style = Style\n        text = Text()\n        append = text.append\n        line = line.rsplit(\"\\r\", 1)[-1]\n        for plain_text, sgr, osc in _ansi_tokenize(line):\n            if plain_text:\n                append(plain_text, self.style or None)\n            elif osc is not None:\n                if osc.startswith(\"8;\"):\n                    _params, semicolon, link = osc[2:].partition(\";\")\n                    if semicolon:\n                        self.style = self.style.update_link(link or None)\n            elif sgr is not None:\n                # Translate in to semi-colon separated codes\n                # Ignore invalid codes, because we want to be lenient\n                codes = [\n                    min(255, int(_code) if _code else 0)\n                    for _code in sgr.split(\";\")\n                    if _code.isdigit() or _code == \"\"\n                ]\n                iter_codes = iter(codes)\n                for code in iter_codes:\n                    if code == 0:\n                        # reset\n                        self.style = _Style.null()\n                    elif code in SGR_STYLE_MAP:\n                        # styles\n                        self.style += _Style.parse(SGR_STYLE_MAP[code])\n                    elif code == 38:\n                        # Foreground\n                        with suppress(StopIteration):\n                            color_type = next(iter_codes)\n                            if color_type == 5:\n                                self.style += _Style.from_color(\n                                    from_ansi(next(iter_codes))\n                                )\n                            elif color_type == 2:\n                                self.style += _Style.from_color(\n                                    from_rgb(\n                                        next(iter_codes),\n                                        next(iter_codes),\n                                        next(iter_codes),\n                                    )\n                                )\n                    elif code == 48:\n                        # Background\n                        with suppress(StopIteration):\n                            color_type = next(iter_codes)\n                            if color_type == 5:\n                                self.style += _Style.from_color(\n                                    None, from_ansi(next(iter_codes))\n                                )\n                            elif color_type == 2:\n                                self.style += _Style.from_color(\n                                    None,\n                                    from_rgb(\n                                        next(iter_codes),\n                                        next(iter_codes),\n                                        next(iter_codes),\n                                    ),\n                                )\n\n        return text\n\n\nif sys.platform != \"win32\" and __name__ == \"__main__\":  # pragma: no cover\n    import io\n    import os\n    import pty\n    import sys\n\n    decoder = AnsiDecoder()\n\n    stdout = io.BytesIO()\n\n    def read(fd: int) -> bytes:\n        data = os.read(fd, 1024)\n        stdout.write(data)\n        return data\n\n    pty.spawn(sys.argv[1:], read)\n\n    from .console import Console\n\n    console = Console(record=True)\n\n    stdout_result = stdout.getvalue().decode(\"utf-8\")\n    print(stdout_result)\n\n    for line in decoder.decode(stdout_result):\n        console.print(line)\n\n    console.save_html(\"stdout.html\")\n",
    "start_line": 0
  },
  {
    "file": "progress.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "import io\nimport sys\nimport typing\nimport warnings\nfrom abc import ABC, abstractmethod\nfrom collections import deque\nfrom dataclasses import dataclass, field\nfrom datetime import timedelta\nfrom io import RawIOBase, UnsupportedOperation\nfrom math import ceil\nfrom mmap import mmap\nfrom operator import length_hint\nfrom os import PathLike, stat\nfrom threading import Event, RLock, Thread\nfrom types import TracebackType\nfrom typing import (\n    Any,\n    BinaryIO,\n    Callable,\n    ContextManager,\n    Deque,\n    Dict,\n    Generic,\n    Iterable,\n    List,\n    NamedTuple,\n    NewType,\n    Optional,\n    Sequence,\n    TextIO,\n    Tuple,\n    Type,\n    TypeVar,\n    Union,\n)\nif sys.version_info >= (3, 8):\n    from typing import Literal\nelse:\n    from typing_extensions import Literal  # pragma: no cover\nif sys.version_info >= (3, 11):\n    from typing import Self\nelse:\n    from typing_extensions import Self  # pragma: no cover\nfrom . import filesize, get_console\nfrom .console import Console, Group, JustifyMethod, RenderableType\nfrom .highlighter import Highlighter\nfrom .jupyter import JupyterMixin\nfrom .live import Live\nfrom .progress_bar import ProgressBar\nfrom .spinner import Spinner\nfrom .style import StyleType\nfrom .table import Column, Table\nfrom .text import Text, TextType\nTaskID = NewType(\"TaskID\", int)\nProgressType = TypeVar(\"ProgressType\")\nGetTimeCallable = Callable[[], float]",
    "start_line": 0
  },
  {
    "file": "progress.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "_I = typing.TypeVar(\"_I\", TextIO, BinaryIO)",
    "start_line": 64
  },
  {
    "file": "progress.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "_TrackThread",
    "content": "class _TrackThread(Thread):\n    \"\"\"A thread to periodically update progress.\"\"\"",
    "start_line": 67
  },
  {
    "file": "progress.py",
    "type": "method",
    "class": "_TrackThread",
    "method": "__init__",
    "name": "__init__",
    "content": "class _TrackThread:\n    def __init__(self, progress: \"Progress\", task_id: \"TaskID\", update_period: float):\n        self.progress = progress\n        self.task_id = task_id\n        self.update_period = update_period\n        self.done = Event()\n\n        self.completed = 0\n        super().__init__(daemon=True)",
    "start_line": 70
  },
  {
    "file": "progress.py",
    "type": "method",
    "class": "_TrackThread",
    "method": "run",
    "name": "run",
    "content": "class _TrackThread:\n    def run(self) -> None:\n        task_id = self.task_id\n        advance = self.progress.advance\n        update_period = self.update_period\n        last_completed = 0\n        wait = self.done.wait\n        while not wait(update_period) and self.progress.live.is_started:\n            completed = self.completed\n            if last_completed != completed:\n                advance(task_id, completed - last_completed)\n                last_completed = completed\n\n        self.progress.update(self.task_id, completed=self.completed, refresh=True)",
    "start_line": 79
  },
  {
    "file": "progress.py",
    "type": "method",
    "class": "_TrackThread",
    "method": "__enter__",
    "name": "__enter__",
    "content": "class _TrackThread:\n    def __enter__(self) -> \"_TrackThread\":\n        self.start()\n        return self",
    "start_line": 93
  },
  {
    "file": "progress.py",
    "type": "method",
    "class": "_TrackThread",
    "method": "__exit__",
    "name": "__exit__",
    "content": "class _TrackThread:\n    def __exit__(\n        self,\n        exc_type: Optional[Type[BaseException]],\n        exc_val: Optional[BaseException],\n        exc_tb: Optional[TracebackType],\n    ) -> None:\n        self.done.set()\n        self.join()",
    "start_line": 97
  },
  {
    "file": "progress.py",
    "type": "function",
    "class": null,
    "method": "track",
    "name": "track",
    "content": "def track(\n    sequence: Union[Sequence[ProgressType], Iterable[ProgressType]],\n    description: str = \"Working...\",\n    total: Optional[float] = None,\n    completed: int = 0,\n    auto_refresh: bool = True,\n    console: Optional[Console] = None,\n    transient: bool = False,\n    get_time: Optional[Callable[[], float]] = None,\n    refresh_per_second: float = 10,\n    style: StyleType = \"bar.back\",\n    complete_style: StyleType = \"bar.complete\",\n    finished_style: StyleType = \"bar.finished\",\n    pulse_style: StyleType = \"bar.pulse\",\n    update_period: float = 0.1,\n    disable: bool = False,\n    show_speed: bool = True,\n) -> Iterable[ProgressType]:\n    \"\"\"Track progress by iterating over a sequence.\n\n    Args:\n        sequence (Iterable[ProgressType]): A sequence (must support \"len\") you wish to iterate over.\n        description (str, optional): Description of task show next to progress bar. Defaults to \"Working\".\n        total: (float, optional): Total number of steps. Default is len(sequence).\n        completed (int, optional): Number of steps completed so far. Defaults to 0.\n        auto_refresh (bool, optional): Automatic refresh, disable to force a refresh after each iteration. Default is True.\n        transient: (bool, optional): Clear the progress on exit. Defaults to False.\n        console (Console, optional): Console to write to. Default creates internal Console instance.\n        refresh_per_second (float): Number of times per second to refresh the progress information. Defaults to 10.\n        style (StyleType, optional): Style for the bar background. Defaults to \"bar.back\".\n        complete_style (StyleType, optional): Style for the completed bar. Defaults to \"bar.complete\".\n        finished_style (StyleType, optional): Style for a finished bar. Defaults to \"bar.finished\".\n        pulse_style (StyleType, optional): Style for pulsing bars. Defaults to \"bar.pulse\".\n        update_period (float, optional): Minimum time (in seconds) between calls to update(). Defaults to 0.1.\n        disable (bool, optional): Disable display of progress.\n        show_speed (bool, optional): Show speed if total isn't known. Defaults to True.\n    Returns:\n        Iterable[ProgressType]: An iterable of the values in the sequence.\n\n    \"\"\"\n\n    columns: List[\"ProgressColumn\"] = (\n        [TextColumn(\"[progress.description]{task.description}\")] if description else []\n    )\n    columns.extend(\n        (\n            BarColumn(",
    "start_line": 107
  },
  {
    "file": "progress.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "style=style,\n                complete_style=complete_style,\n                finished_style=finished_style,\n                pulse_style=pulse_style,\n            ),\n            TaskProgressColumn(show_speed=show_speed),\n            TimeRemainingColumn(elapsed_when_finished=True),\n        )\n    )\n    progress = Progress(\n        *columns,\n        auto_refresh=auto_refresh,\n        console=console,\n        transient=transient,\n        get_time=get_time,\n        refresh_per_second=refresh_per_second or 10,\n        disable=disable,\n    )\n    with progress:\n        yield from progress.track(\n            sequence,\n            total=total,\n            completed=completed,\n            description=description,\n            update_period=update_period,\n        )",
    "start_line": 154
  },
  {
    "file": "progress.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "_Reader",
    "content": "class _Reader(RawIOBase, BinaryIO):\n    \"\"\"A reader that tracks progress while it's being read from.\"\"\"",
    "start_line": 183
  },
  {
    "file": "progress.py",
    "type": "method",
    "class": "_Reader",
    "method": "__init__",
    "name": "__init__",
    "content": "class _Reader:\n    def __init__(\n        self,\n        handle: BinaryIO,\n        progress: \"Progress\",\n        task: TaskID,\n        close_handle: bool = True,\n    ) -> None:\n        self.handle = handle\n        self.progress = progress\n        self.task = task\n        self.close_handle = close_handle\n        self._closed = False",
    "start_line": 186
  },
  {
    "file": "progress.py",
    "type": "method",
    "class": "_Reader",
    "method": "__enter__",
    "name": "__enter__",
    "content": "class _Reader:\n    def __enter__(self) -> \"_Reader\":\n        self.handle.__enter__()\n        return self",
    "start_line": 199
  },
  {
    "file": "progress.py",
    "type": "method",
    "class": "_Reader",
    "method": "__exit__",
    "name": "__exit__",
    "content": "class _Reader:\n    def __exit__(\n        self,\n        exc_type: Optional[Type[BaseException]],\n        exc_val: Optional[BaseException],\n        exc_tb: Optional[TracebackType],\n    ) -> None:\n        self.close()",
    "start_line": 203
  },
  {
    "file": "progress.py",
    "type": "method",
    "class": "_Reader",
    "method": "__iter__",
    "name": "__iter__",
    "content": "class _Reader:\n    def __iter__(self) -> BinaryIO:\n        return self",
    "start_line": 211
  },
  {
    "file": "progress.py",
    "type": "method",
    "class": "_Reader",
    "method": "__next__",
    "name": "__next__",
    "content": "class _Reader:\n    def __next__(self) -> bytes:\n        line = next(self.handle)\n        self.progress.advance(self.task, advance=len(line))\n        return line\n\n    @property",
    "start_line": 214
  },
  {
    "file": "progress.py",
    "type": "method",
    "class": "_Reader",
    "method": "closed",
    "name": "closed",
    "content": "class _Reader:\n    def closed(self) -> bool:\n        return self._closed",
    "start_line": 220
  },
  {
    "file": "progress.py",
    "type": "method",
    "class": "_Reader",
    "method": "fileno",
    "name": "fileno",
    "content": "class _Reader:\n    def fileno(self) -> int:\n        return self.handle.fileno()",
    "start_line": 223
  },
  {
    "file": "progress.py",
    "type": "method",
    "class": "_Reader",
    "method": "isatty",
    "name": "isatty",
    "content": "class _Reader:\n    def isatty(self) -> bool:\n        return self.handle.isatty()\n\n    @property",
    "start_line": 226
  },
  {
    "file": "progress.py",
    "type": "method",
    "class": "_Reader",
    "method": "mode",
    "name": "mode",
    "content": "class _Reader:\n    def mode(self) -> str:\n        return self.handle.mode\n\n    @property",
    "start_line": 230
  },
  {
    "file": "progress.py",
    "type": "method",
    "class": "_Reader",
    "method": "name",
    "name": "name",
    "content": "class _Reader:\n    def name(self) -> str:\n        return self.handle.name",
    "start_line": 234
  },
  {
    "file": "progress.py",
    "type": "method",
    "class": "_Reader",
    "method": "readable",
    "name": "readable",
    "content": "class _Reader:\n    def readable(self) -> bool:\n        return self.handle.readable()",
    "start_line": 237
  },
  {
    "file": "progress.py",
    "type": "method",
    "class": "_Reader",
    "method": "seekable",
    "name": "seekable",
    "content": "class _Reader:\n    def seekable(self) -> bool:\n        return self.handle.seekable()",
    "start_line": 240
  },
  {
    "file": "progress.py",
    "type": "method",
    "class": "_Reader",
    "method": "writable",
    "name": "writable",
    "content": "class _Reader:\n    def writable(self) -> bool:\n        return False",
    "start_line": 243
  },
  {
    "file": "progress.py",
    "type": "method",
    "class": "_Reader",
    "method": "read",
    "name": "read",
    "content": "class _Reader:\n    def read(self, size: int = -1) -> bytes:\n        block = self.handle.read(size)\n        self.progress.advance(self.task, advance=len(block))\n        return block",
    "start_line": 246
  },
  {
    "file": "progress.py",
    "type": "method",
    "class": "_Reader",
    "method": "readinto",
    "name": "readinto",
    "content": "class _Reader:\n    def readinto(self, b: Union[bytearray, memoryview, mmap]):  # type: ignore[no-untyped-def, override]\n        n = self.handle.readinto(b)  # type: ignore[attr-defined]\n        self.progress.advance(self.task, advance=n)\n        return n",
    "start_line": 251
  },
  {
    "file": "progress.py",
    "type": "method",
    "class": "_Reader",
    "method": "readline",
    "name": "readline",
    "content": "class _Reader:\n    def readline(self, size: int = -1) -> bytes:  # type: ignore[override]\n        line = self.handle.readline(size)\n        self.progress.advance(self.task, advance=len(line))\n        return line",
    "start_line": 256
  },
  {
    "file": "progress.py",
    "type": "method",
    "class": "_Reader",
    "method": "readlines",
    "name": "readlines",
    "content": "class _Reader:\n    def readlines(self, hint: int = -1) -> List[bytes]:\n        lines = self.handle.readlines(hint)\n        self.progress.advance(self.task, advance=sum(map(len, lines)))\n        return lines",
    "start_line": 261
  },
  {
    "file": "progress.py",
    "type": "method",
    "class": "_Reader",
    "method": "close",
    "name": "close",
    "content": "class _Reader:\n    def close(self) -> None:\n        if self.close_handle:\n            self.handle.close()\n        self._closed = True",
    "start_line": 266
  },
  {
    "file": "progress.py",
    "type": "method",
    "class": "_Reader",
    "method": "seek",
    "name": "seek",
    "content": "class _Reader:\n    def seek(self, offset: int, whence: int = 0) -> int:\n        pos = self.handle.seek(offset, whence)\n        self.progress.update(self.task, completed=pos)\n        return pos",
    "start_line": 271
  },
  {
    "file": "progress.py",
    "type": "method",
    "class": "_Reader",
    "method": "tell",
    "name": "tell",
    "content": "class _Reader:\n    def tell(self) -> int:\n        return self.handle.tell()",
    "start_line": 276
  },
  {
    "file": "progress.py",
    "type": "method",
    "class": "_Reader",
    "method": "write",
    "name": "write",
    "content": "class _Reader:\n    def write(self, s: Any) -> int:\n        raise UnsupportedOperation(\"write\")",
    "start_line": 279
  },
  {
    "file": "progress.py",
    "type": "method",
    "class": "_Reader",
    "method": "writelines",
    "name": "writelines",
    "content": "class _Reader:\n    def writelines(self, lines: Iterable[Any]) -> None:\n        raise UnsupportedOperation(\"writelines\")",
    "start_line": 282
  },
  {
    "file": "progress.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "_ReadContext",
    "content": "class _ReadContext(ContextManager[_I], Generic[_I]):\n    \"\"\"A utility class to handle a context for both a reader and a progress.\"\"\"",
    "start_line": 286
  },
  {
    "file": "progress.py",
    "type": "method",
    "class": "_ReadContext",
    "method": "__init__",
    "name": "__init__",
    "content": "class _ReadContext:\n    def __init__(self, progress: \"Progress\", reader: _I) -> None:\n        self.progress = progress\n        self.reader: _I = reader",
    "start_line": 289
  },
  {
    "file": "progress.py",
    "type": "method",
    "class": "_ReadContext",
    "method": "__enter__",
    "name": "__enter__",
    "content": "class _ReadContext:\n    def __enter__(self) -> _I:\n        self.progress.start()\n        return self.reader.__enter__()",
    "start_line": 293
  },
  {
    "file": "progress.py",
    "type": "method",
    "class": "_ReadContext",
    "method": "__exit__",
    "name": "__exit__",
    "content": "class _ReadContext:\n    def __exit__(\n        self,\n        exc_type: Optional[Type[BaseException]],\n        exc_val: Optional[BaseException],\n        exc_tb: Optional[TracebackType],\n    ) -> None:\n        self.progress.stop()\n        self.reader.__exit__(exc_type, exc_val, exc_tb)",
    "start_line": 297
  },
  {
    "file": "progress.py",
    "type": "function",
    "class": null,
    "method": "wrap_file",
    "name": "wrap_file",
    "content": "def wrap_file(\n    file: BinaryIO,\n    total: int,\n    *,\n    description: str = \"Reading...\",\n    auto_refresh: bool = True,\n    console: Optional[Console] = None,\n    transient: bool = False,\n    get_time: Optional[Callable[[], float]] = None,\n    refresh_per_second: float = 10,\n    style: StyleType = \"bar.back\",\n    complete_style: StyleType = \"bar.complete\",\n    finished_style: StyleType = \"bar.finished\",\n    pulse_style: StyleType = \"bar.pulse\",\n    disable: bool = False,\n) -> ContextManager[BinaryIO]:\n    \"\"\"Read bytes from a file while tracking progress.\n\n    Args:\n        file (Union[str, PathLike[str], BinaryIO]): The path to the file to read, or a file-like object in binary mode.\n        total (int): Total number of bytes to read.\n        description (str, optional): Description of task show next to progress bar. Defaults to \"Reading\".\n        auto_refresh (bool, optional): Automatic refresh, disable to force a refresh after each iteration. Default is True.\n        transient: (bool, optional): Clear the progress on exit. Defaults to False.\n        console (Console, optional): Console to write to. Default creates internal Console instance.\n        refresh_per_second (float): Number of times per second to refresh the progress information. Defaults to 10.\n        style (StyleType, optional): Style for the bar background. Defaults to \"bar.back\".\n        complete_style (StyleType, optional): Style for the completed bar. Defaults to \"bar.complete\".\n        finished_style (StyleType, optional): Style for a finished bar. Defaults to \"bar.finished\".\n        pulse_style (StyleType, optional): Style for pulsing bars. Defaults to \"bar.pulse\".\n        disable (bool, optional): Disable display of progress.\n    Returns:\n        ContextManager[BinaryIO]: A context manager yielding a progress reader.\n\n    \"\"\"\n\n    columns: List[\"ProgressColumn\"] = (\n        [TextColumn(\"[progress.description]{task.description}\")] if description else []\n    )\n    columns.extend(\n        (\n            BarColumn(",
    "start_line": 307
  },
  {
    "file": "progress.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "style=style,\n                complete_style=complete_style,\n                finished_style=finished_style,\n                pulse_style=pulse_style,\n            ),\n            DownloadColumn(),\n            TimeRemainingColumn(),\n        )\n    )\n    progress = Progress(\n        *columns,\n        auto_refresh=auto_refresh,\n        console=console,\n        transient=transient,\n        get_time=get_time,\n        refresh_per_second=refresh_per_second or 10,\n        disable=disable,\n    )\n    reader = progress.wrap_file(file, total=total, description=description)\n    return _ReadContext(progress, reader)\n@typing.overload",
    "start_line": 349
  },
  {
    "file": "progress.py",
    "type": "function",
    "class": null,
    "method": "open",
    "name": "open",
    "content": "def open(\n    file: Union[str, \"PathLike[str]\", bytes],\n    mode: Union[Literal[\"rt\"], Literal[\"r\"]],\n    buffering: int = -1,\n    encoding: Optional[str] = None,\n    errors: Optional[str] = None,\n    newline: Optional[str] = None,\n    *,\n    total: Optional[int] = None,\n    description: str = \"Reading...\",\n    auto_refresh: bool = True,\n    console: Optional[Console] = None,\n    transient: bool = False,\n    get_time: Optional[Callable[[], float]] = None,\n    refresh_per_second: float = 10,\n    style: StyleType = \"bar.back\",\n    complete_style: StyleType = \"bar.complete\",\n    finished_style: StyleType = \"bar.finished\",\n    pulse_style: StyleType = \"bar.pulse\",\n    disable: bool = False,\n) -> ContextManager[TextIO]:\n    pass\n\n\n@typing.overload",
    "start_line": 373
  },
  {
    "file": "progress.py",
    "type": "function",
    "class": null,
    "method": "open",
    "name": "open",
    "content": "def open(\n    file: Union[str, \"PathLike[str]\", bytes],\n    mode: Literal[\"rb\"],\n    buffering: int = -1,\n    encoding: Optional[str] = None,\n    errors: Optional[str] = None,\n    newline: Optional[str] = None,\n    *,\n    total: Optional[int] = None,\n    description: str = \"Reading...\",\n    auto_refresh: bool = True,\n    console: Optional[Console] = None,\n    transient: bool = False,\n    get_time: Optional[Callable[[], float]] = None,\n    refresh_per_second: float = 10,\n    style: StyleType = \"bar.back\",\n    complete_style: StyleType = \"bar.complete\",\n    finished_style: StyleType = \"bar.finished\",\n    pulse_style: StyleType = \"bar.pulse\",\n    disable: bool = False,\n) -> ContextManager[BinaryIO]:\n    pass",
    "start_line": 398
  },
  {
    "file": "progress.py",
    "type": "function",
    "class": null,
    "method": "open",
    "name": "open",
    "content": "def open(\n    file: Union[str, \"PathLike[str]\", bytes],\n    mode: Union[Literal[\"rb\"], Literal[\"rt\"], Literal[\"r\"]] = \"r\",\n    buffering: int = -1,\n    encoding: Optional[str] = None,\n    errors: Optional[str] = None,\n    newline: Optional[str] = None,\n    *,\n    total: Optional[int] = None,\n    description: str = \"Reading...\",\n    auto_refresh: bool = True,\n    console: Optional[Console] = None,\n    transient: bool = False,\n    get_time: Optional[Callable[[], float]] = None,\n    refresh_per_second: float = 10,\n    style: StyleType = \"bar.back\",\n    complete_style: StyleType = \"bar.complete\",\n    finished_style: StyleType = \"bar.finished\",\n    pulse_style: StyleType = \"bar.pulse\",\n    disable: bool = False,\n) -> Union[ContextManager[BinaryIO], ContextManager[TextIO]]:\n    \"\"\"Read bytes from a file while tracking progress.\n\n    Args:\n        path (Union[str, PathLike[str], BinaryIO]): The path to the file to read, or a file-like object in binary mode.\n        mode (str): The mode to use to open the file. Only supports \"r\", \"rb\" or \"rt\".\n        buffering (int): The buffering strategy to use, see :func:`io.open`.\n        encoding (str, optional): The encoding to use when reading in text mode, see :func:`io.open`.\n        errors (str, optional): The error handling strategy for decoding errors, see :func:`io.open`.\n        newline (str, optional): The strategy for handling newlines in text mode, see :func:`io.open`\n        total: (int, optional): Total number of bytes to read. Must be provided if reading from a file handle. Default for a path is os.stat(file).st_size.\n        description (str, optional): Description of task show next to progress bar. Defaults to \"Reading\".\n        auto_refresh (bool, optional): Automatic refresh, disable to force a refresh after each iteration. Default is True.\n        transient: (bool, optional): Clear the progress on exit. Defaults to False.\n        console (Console, optional): Console to write to. Default creates internal Console instance.\n        refresh_per_second (float): Number of times per second to refresh the progress information. Defaults to 10.\n        style (StyleType, optional): Style for the bar background. Defaults to \"bar.back\".\n        complete_style (StyleType, optional): Style for the completed bar. Defaults to \"bar.complete\".\n        finished_style (StyleType, optional): Style for a finished bar. Defaults to \"bar.finished\".\n        pulse_style (StyleType, optional): Style for pulsing bars. Defaults to \"bar.pulse\".\n        disable (bool, optional): Disable display of progress.\n        encoding (str, optional): The encoding to use when reading in text mode.\n\n    Returns:\n        ContextManager[BinaryIO]: A context manager yielding a progress reader.\n\n    \"\"\"\n\n    columns: List[\"ProgressColumn\"] = (\n        [TextColumn(\"[progress.description]{task.description}\")] if description else []\n    )\n    columns.extend(\n        (\n            BarColumn(",
    "start_line": 422
  },
  {
    "file": "progress.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "style=style,\n                complete_style=complete_style,\n                finished_style=finished_style,\n                pulse_style=pulse_style,\n            ),\n            DownloadColumn(),\n            TimeRemainingColumn(),\n        )\n    )\n    progress = Progress(\n        *columns,\n        auto_refresh=auto_refresh,\n        console=console,\n        transient=transient,\n        get_time=get_time,\n        refresh_per_second=refresh_per_second or 10,\n        disable=disable,\n    )\n    reader = progress.open(\n        file,\n        mode=mode,\n        buffering=buffering,\n        encoding=encoding,\n        errors=errors,\n        newline=newline,\n        total=total,\n        description=description,\n    )\n    return _ReadContext(progress, reader)  # type: ignore[return-value, type-var]",
    "start_line": 476
  },
  {
    "file": "progress.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "ProgressColumn",
    "content": "class ProgressColumn(ABC):\n    \"\"\"Base class for a widget to use in progress display.\"\"\"\n\n    max_refresh: Optional[float] = None",
    "start_line": 508
  },
  {
    "file": "progress.py",
    "type": "method",
    "class": "ProgressColumn",
    "method": "__init__",
    "name": "__init__",
    "content": "class ProgressColumn:\n    def __init__(self, table_column: Optional[Column] = None) -> None:\n        self._table_column = table_column\n        self._renderable_cache: Dict[TaskID, Tuple[float, RenderableType]] = {}\n        self._update_time: Optional[float] = None",
    "start_line": 513
  },
  {
    "file": "progress.py",
    "type": "method",
    "class": "ProgressColumn",
    "method": "get_table_column",
    "name": "get_table_column",
    "content": "class ProgressColumn:\n    def get_table_column(self) -> Column:\n        \"\"\"Get a table column, used to build tasks table.\"\"\"\n        return self._table_column or Column()",
    "start_line": 518
  },
  {
    "file": "progress.py",
    "type": "method",
    "class": "ProgressColumn",
    "method": "__call__",
    "name": "__call__",
    "content": "class ProgressColumn:\n    def __call__(self, task: \"Task\") -> RenderableType:\n        \"\"\"Called by the Progress object to return a renderable for the given task.\n\n        Args:\n            task (Task): An object containing information regarding the task.\n\n        Returns:\n            RenderableType: Anything renderable (including str).\n        \"\"\"\n        current_time = task.get_time()\n        if self.max_refresh is not None and not task.completed:\n            try:\n                timestamp, renderable = self._renderable_cache[task.id]\n            except KeyError:\n                pass\n            else:\n                if timestamp + self.max_refresh > current_time:\n                    return renderable\n\n        renderable = self.render(task)\n        self._renderable_cache[task.id] = (current_time, renderable)\n        return renderable\n\n    @abstractmethod",
    "start_line": 522
  },
  {
    "file": "progress.py",
    "type": "method",
    "class": "ProgressColumn",
    "method": "render",
    "name": "render",
    "content": "class ProgressColumn:\n    def render(self, task: \"Task\") -> RenderableType:\n        \"\"\"Should return a renderable object.\"\"\"",
    "start_line": 546
  },
  {
    "file": "progress.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "RenderableColumn",
    "content": "class RenderableColumn(ProgressColumn):\n    \"\"\"A column to insert an arbitrary column.\n\n    Args:\n        renderable (RenderableType, optional): Any renderable. Defaults to empty string.\n    \"\"\"",
    "start_line": 550
  },
  {
    "file": "progress.py",
    "type": "method",
    "class": "RenderableColumn",
    "method": "__init__",
    "name": "__init__",
    "content": "class RenderableColumn:\n    def __init__(\n        self, renderable: RenderableType = \"\", *, table_column: Optional[Column] = None\n    ):\n        self.renderable = renderable\n        super().__init__(table_column=table_column)",
    "start_line": 557
  },
  {
    "file": "progress.py",
    "type": "method",
    "class": "RenderableColumn",
    "method": "render",
    "name": "render",
    "content": "class RenderableColumn:\n    def render(self, task: \"Task\") -> RenderableType:\n        return self.renderable",
    "start_line": 563
  },
  {
    "file": "progress.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "SpinnerColumn",
    "content": "class SpinnerColumn(ProgressColumn):\n    \"\"\"A column with a 'spinner' animation.\n\n    Args:\n        spinner_name (str, optional): Name of spinner animation. Defaults to \"dots\".\n        style (StyleType, optional): Style of spinner. Defaults to \"progress.spinner\".\n        speed (float, optional): Speed factor of spinner. Defaults to 1.0.\n        finished_text (TextType, optional): Text used when task is finished. Defaults to \" \".\n    \"\"\"",
    "start_line": 567
  },
  {
    "file": "progress.py",
    "type": "method",
    "class": "SpinnerColumn",
    "method": "__init__",
    "name": "__init__",
    "content": "class SpinnerColumn:\n    def __init__(\n        self,\n        spinner_name: str = \"dots\",\n        style: Optional[StyleType] = \"progress.spinner\",\n        speed: float = 1.0,\n        finished_text: TextType = \" \",\n        table_column: Optional[Column] = None,\n    ):\n        self.spinner = Spinner(spinner_name, style=style, speed=speed)\n        self.finished_text = (\n            Text.from_markup(finished_text)\n            if isinstance(finished_text, str)\n            else finished_text\n        )\n        super().__init__(table_column=table_column)",
    "start_line": 577
  },
  {
    "file": "progress.py",
    "type": "method",
    "class": "SpinnerColumn",
    "method": "set_spinner",
    "name": "set_spinner",
    "content": "class SpinnerColumn:\n    def set_spinner(\n        self,\n        spinner_name: str,\n        spinner_style: Optional[StyleType] = \"progress.spinner\",\n        speed: float = 1.0,\n    ) -> None:\n        \"\"\"Set a new spinner.\n\n        Args:\n            spinner_name (str): Spinner name, see python -m rich.spinner.\n            spinner_style (Optional[StyleType], optional): Spinner style. Defaults to \"progress.spinner\".\n            speed (float, optional): Speed factor of spinner. Defaults to 1.0.\n        \"\"\"\n        self.spinner = Spinner(spinner_name, style=spinner_style, speed=speed)",
    "start_line": 593
  },
  {
    "file": "progress.py",
    "type": "method",
    "class": "SpinnerColumn",
    "method": "render",
    "name": "render",
    "content": "class SpinnerColumn:\n    def render(self, task: \"Task\") -> RenderableType:\n        text = (\n            self.finished_text\n            if task.finished\n            else self.spinner.render(task.get_time())\n        )\n        return text",
    "start_line": 608
  },
  {
    "file": "progress.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "TextColumn",
    "content": "class TextColumn(ProgressColumn):\n    \"\"\"A column containing text.\"\"\"",
    "start_line": 617
  },
  {
    "file": "progress.py",
    "type": "method",
    "class": "TextColumn",
    "method": "__init__",
    "name": "__init__",
    "content": "class TextColumn:\n    def __init__(\n        self,\n        text_format: str,\n        style: StyleType = \"none\",\n        justify: JustifyMethod = \"left\",\n        markup: bool = True,\n        highlighter: Optional[Highlighter] = None,\n        table_column: Optional[Column] = None,\n    ) -> None:\n        self.text_format = text_format\n        self.justify: JustifyMethod = justify\n        self.style = style\n        self.markup = markup\n        self.highlighter = highlighter\n        super().__init__(table_column=table_column or Column(no_wrap=True))",
    "start_line": 620
  },
  {
    "file": "progress.py",
    "type": "method",
    "class": "TextColumn",
    "method": "render",
    "name": "render",
    "content": "class TextColumn:\n    def render(self, task: \"Task\") -> Text:\n        _text = self.text_format.format(task=task)\n        if self.markup:\n            text = Text.from_markup(_text, style=self.style, justify=self.justify)\n        else:\n            text = Text(_text, style=self.style, justify=self.justify)\n        if self.highlighter:\n            self.highlighter.highlight(text)\n        return text",
    "start_line": 636
  },
  {
    "file": "progress.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "BarColumn",
    "content": "class BarColumn(ProgressColumn):\n    \"\"\"Renders a visual progress bar.\n\n    Args:\n        bar_width (Optional[int], optional): Width of bar or None for full width. Defaults to 40.\n        style (StyleType, optional): Style for the bar background. Defaults to \"bar.back\".\n        complete_style (StyleType, optional): Style for the completed bar. Defaults to \"bar.complete\".\n        finished_style (StyleType, optional): Style for a finished bar. Defaults to \"bar.finished\".\n        pulse_style (StyleType, optional): Style for pulsing bars. Defaults to \"bar.pulse\".\n    \"\"\"",
    "start_line": 647
  },
  {
    "file": "progress.py",
    "type": "method",
    "class": "BarColumn",
    "method": "__init__",
    "name": "__init__",
    "content": "class BarColumn:\n    def __init__(\n        self,\n        bar_width: Optional[int] = 40,\n        style: StyleType = \"bar.back\",\n        complete_style: StyleType = \"bar.complete\",\n        finished_style: StyleType = \"bar.finished\",\n        pulse_style: StyleType = \"bar.pulse\",\n        table_column: Optional[Column] = None,\n    ) -> None:\n        self.bar_width = bar_width\n        self.style = style\n        self.complete_style = complete_style\n        self.finished_style = finished_style\n        self.pulse_style = pulse_style\n        super().__init__(table_column=table_column)",
    "start_line": 658
  },
  {
    "file": "progress.py",
    "type": "method",
    "class": "BarColumn",
    "method": "render",
    "name": "render",
    "content": "class BarColumn:\n    def render(self, task: \"Task\") -> ProgressBar:\n        \"\"\"Gets a progress bar widget for a task.\"\"\"\n        return ProgressBar(\n            total=max(0, task.total) if task.total is not None else None,\n            completed=max(0, task.completed),\n            width=None if self.bar_width is None else max(1, self.bar_width),\n            pulse=not task.started,\n            animation_time=task.get_time(),\n            style=self.style,\n            complete_style=self.complete_style,\n            finished_style=self.finished_style,\n            pulse_style=self.pulse_style,\n        )",
    "start_line": 674
  },
  {
    "file": "progress.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "TimeElapsedColumn",
    "content": "class TimeElapsedColumn(ProgressColumn):\n    \"\"\"Renders time elapsed.\"\"\"",
    "start_line": 689
  },
  {
    "file": "progress.py",
    "type": "method",
    "class": "TimeElapsedColumn",
    "method": "render",
    "name": "render",
    "content": "class TimeElapsedColumn:\n    def render(self, task: \"Task\") -> Text:\n        \"\"\"Show time elapsed.\"\"\"\n        elapsed = task.finished_time if task.finished else task.elapsed\n        if elapsed is None:\n            return Text(\"-:--:--\", style=\"progress.elapsed\")\n        delta = timedelta(seconds=max(0, int(elapsed)))\n        return Text(str(delta), style=\"progress.elapsed\")",
    "start_line": 692
  },
  {
    "file": "progress.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "TaskProgressColumn",
    "content": "class TaskProgressColumn(TextColumn):\n    \"\"\"Show task progress as a percentage.\n\n    Args:\n        text_format (str, optional): Format for percentage display. Defaults to \"[progress.percentage]{task.percentage:>3.0f}%\".\n        text_format_no_percentage (str, optional): Format if percentage is unknown. Defaults to \"\".\n        style (StyleType, optional): Style of output. Defaults to \"none\".\n        justify (JustifyMethod, optional): Text justification. Defaults to \"left\".\n        markup (bool, optional): Enable markup. Defaults to True.\n        highlighter (Optional[Highlighter], optional): Highlighter to apply to output. Defaults to None.\n        table_column (Optional[Column], optional): Table Column to use. Defaults to None.\n        show_speed (bool, optional): Show speed if total is unknown. Defaults to False.\n    \"\"\"",
    "start_line": 701
  },
  {
    "file": "progress.py",
    "type": "method",
    "class": "TaskProgressColumn",
    "method": "__init__",
    "name": "__init__",
    "content": "class TaskProgressColumn:\n    def __init__(\n        self,\n        text_format: str = \"[progress.percentage]{task.percentage:>3.0f}%\",\n        text_format_no_percentage: str = \"\",\n        style: StyleType = \"none\",\n        justify: JustifyMethod = \"left\",\n        markup: bool = True,\n        highlighter: Optional[Highlighter] = None,\n        table_column: Optional[Column] = None,\n        show_speed: bool = False,\n    ) -> None:\n        self.text_format_no_percentage = text_format_no_percentage\n        self.show_speed = show_speed\n        super().__init__(\n            text_format=text_format,\n            style=style,\n            justify=justify,\n            markup=markup,\n            highlighter=highlighter,\n            table_column=table_column,\n        )\n\n    @classmethod",
    "start_line": 715
  },
  {
    "file": "progress.py",
    "type": "method",
    "class": "TaskProgressColumn",
    "method": "render_speed",
    "name": "render_speed",
    "content": "class TaskProgressColumn:\n    def render_speed(cls, speed: Optional[float]) -> Text:\n        \"\"\"Render the speed in iterations per second.\n\n        Args:\n            task (Task): A Task object.\n\n        Returns:\n            Text: Text object containing the task speed.\n        \"\"\"\n        if speed is None:\n            return Text(\"\", style=\"progress.percentage\")\n        unit, suffix = filesize.pick_unit_and_suffix(\n            int(speed),\n            [\"\", \"10\", \"10\", \"10\", \"10\"],\n            1000,\n        )\n        data_speed = speed / unit\n        return Text(f\"{data_speed:.1f}{suffix} it/s\", style=\"progress.percentage\")",
    "start_line": 738
  },
  {
    "file": "progress.py",
    "type": "method",
    "class": "TaskProgressColumn",
    "method": "render",
    "name": "render",
    "content": "class TaskProgressColumn:\n    def render(self, task: \"Task\") -> Text:\n        if task.total is None and self.show_speed:\n            return self.render_speed(task.finished_speed or task.speed)\n        text_format = (\n            self.text_format_no_percentage if task.total is None else self.text_format\n        )\n        _text = text_format.format(task=task)\n        if self.markup:\n            text = Text.from_markup(_text, style=self.style, justify=self.justify)\n        else:\n            text = Text(_text, style=self.style, justify=self.justify)\n        if self.highlighter:\n            self.highlighter.highlight(text)\n        return text",
    "start_line": 757
  },
  {
    "file": "progress.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "TimeRemainingColumn",
    "content": "class TimeRemainingColumn(ProgressColumn):\n    \"\"\"Renders estimated time remaining.\n\n    Args:\n        compact (bool, optional): Render MM:SS when time remaining is less than an hour. Defaults to False.\n        elapsed_when_finished (bool, optional): Render time elapsed when the task is finished. Defaults to False.\n    \"\"\"",
    "start_line": 773
  },
  {
    "file": "progress.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# Only refresh twice a second to prevent jitter\n    max_refresh = 0.5",
    "start_line": 781
  },
  {
    "file": "progress.py",
    "type": "method",
    "class": "TimeRemainingColumn",
    "method": "__init__",
    "name": "__init__",
    "content": "class TimeRemainingColumn:\n    def __init__(\n        self,\n        compact: bool = False,\n        elapsed_when_finished: bool = False,\n        table_column: Optional[Column] = None,\n    ):\n        self.compact = compact\n        self.elapsed_when_finished = elapsed_when_finished\n        super().__init__(table_column=table_column)",
    "start_line": 784
  },
  {
    "file": "progress.py",
    "type": "method",
    "class": "TimeRemainingColumn",
    "method": "render",
    "name": "render",
    "content": "class TimeRemainingColumn:\n    def render(self, task: \"Task\") -> Text:\n        \"\"\"Show time remaining.\"\"\"\n        if self.elapsed_when_finished and task.finished:\n            task_time = task.finished_time\n            style = \"progress.elapsed\"\n        else:\n            task_time = task.time_remaining\n            style = \"progress.remaining\"\n\n        if task.total is None:\n            return Text(\"\", style=style)\n\n        if task_time is None:\n            return Text(\"--:--\" if self.compact else \"-:--:--\", style=style)",
    "start_line": 794
  },
  {
    "file": "progress.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# Based on https://github.com/tqdm/tqdm/blob/master/tqdm/std.py\n        minutes, seconds = divmod(int(task_time), 60)\n        hours, minutes = divmod(minutes, 60)\n        if self.compact and not hours:\n            formatted = f\"{minutes:02d}:{seconds:02d}\"\n        else:\n            formatted = f\"{hours:d}:{minutes:02d}:{seconds:02d}\"\n        return Text(formatted, style=style)",
    "start_line": 809
  },
  {
    "file": "progress.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "FileSizeColumn",
    "content": "class FileSizeColumn(ProgressColumn):\n    \"\"\"Renders completed filesize.\"\"\"",
    "start_line": 821
  },
  {
    "file": "progress.py",
    "type": "method",
    "class": "FileSizeColumn",
    "method": "render",
    "name": "render",
    "content": "class FileSizeColumn:\n    def render(self, task: \"Task\") -> Text:\n        \"\"\"Show data completed.\"\"\"\n        data_size = filesize.decimal(int(task.completed))\n        return Text(data_size, style=\"progress.filesize\")",
    "start_line": 824
  },
  {
    "file": "progress.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "TotalFileSizeColumn",
    "content": "class TotalFileSizeColumn(ProgressColumn):\n    \"\"\"Renders total filesize.\"\"\"",
    "start_line": 830
  },
  {
    "file": "progress.py",
    "type": "method",
    "class": "TotalFileSizeColumn",
    "method": "render",
    "name": "render",
    "content": "class TotalFileSizeColumn:\n    def render(self, task: \"Task\") -> Text:\n        \"\"\"Show data completed.\"\"\"\n        data_size = filesize.decimal(int(task.total)) if task.total is not None else \"\"\n        return Text(data_size, style=\"progress.filesize.total\")",
    "start_line": 833
  },
  {
    "file": "progress.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "MofNCompleteColumn",
    "content": "class MofNCompleteColumn(ProgressColumn):\n    \"\"\"Renders completed count/total, e.g. '  10/1000'.\n\n    Best for bounded tasks with int quantities.\n\n    Space pads the completed count so that progress length does not change as task progresses\n    past powers of 10.\n\n    Args:\n        separator (str, optional): Text to separate completed and total values. Defaults to \"/\".\n    \"\"\"",
    "start_line": 839
  },
  {
    "file": "progress.py",
    "type": "method",
    "class": "MofNCompleteColumn",
    "method": "__init__",
    "name": "__init__",
    "content": "class MofNCompleteColumn:\n    def __init__(self, separator: str = \"/\", table_column: Optional[Column] = None):\n        self.separator = separator\n        super().__init__(table_column=table_column)",
    "start_line": 851
  },
  {
    "file": "progress.py",
    "type": "method",
    "class": "MofNCompleteColumn",
    "method": "render",
    "name": "render",
    "content": "class MofNCompleteColumn:\n    def render(self, task: \"Task\") -> Text:\n        \"\"\"Show completed/total.\"\"\"\n        completed = int(task.completed)\n        total = int(task.total) if task.total is not None else \"?\"\n        total_width = len(str(total))\n        return Text(\n            f\"{completed:{total_width}d}{self.separator}{total}\",\n            style=\"progress.download\",\n        )",
    "start_line": 855
  },
  {
    "file": "progress.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "DownloadColumn",
    "content": "class DownloadColumn(ProgressColumn):\n    \"\"\"Renders file size downloaded and total, e.g. '0.5/2.3 GB'.\n\n    Args:\n        binary_units (bool, optional): Use binary units, KiB, MiB etc. Defaults to False.\n    \"\"\"",
    "start_line": 866
  },
  {
    "file": "progress.py",
    "type": "method",
    "class": "DownloadColumn",
    "method": "__init__",
    "name": "__init__",
    "content": "class DownloadColumn:\n    def __init__(\n        self, binary_units: bool = False, table_column: Optional[Column] = None\n    ) -> None:\n        self.binary_units = binary_units\n        super().__init__(table_column=table_column)",
    "start_line": 873
  },
  {
    "file": "progress.py",
    "type": "method",
    "class": "DownloadColumn",
    "method": "render",
    "name": "render",
    "content": "class DownloadColumn:\n    def render(self, task: \"Task\") -> Text:\n        \"\"\"Calculate common unit for completed and total.\"\"\"\n        completed = int(task.completed)\n\n        unit_and_suffix_calculation_base = (\n            int(task.total) if task.total is not None else completed\n        )\n        if self.binary_units:\n            unit, suffix = filesize.pick_unit_and_suffix(\n                unit_and_suffix_calculation_base,\n                [\"bytes\", \"KiB\", \"MiB\", \"GiB\", \"TiB\", \"PiB\", \"EiB\", \"ZiB\", \"YiB\"],\n                1024,\n            )\n        else:\n            unit, suffix = filesize.pick_unit_and_suffix(\n                unit_and_suffix_calculation_base,\n                [\"bytes\", \"kB\", \"MB\", \"GB\", \"TB\", \"PB\", \"EB\", \"ZB\", \"YB\"],\n                1000,\n            )\n        precision = 0 if unit == 1 else 1\n\n        completed_ratio = completed / unit\n        completed_str = f\"{completed_ratio:,.{precision}f}\"\n\n        if task.total is not None:\n            total = int(task.total)\n            total_ratio = total / unit\n            total_str = f\"{total_ratio:,.{precision}f}\"\n        else:\n            total_str = \"?\"\n\n        download_status = f\"{completed_str}/{total_str} {suffix}\"\n        download_text = Text(download_status, style=\"progress.download\")\n        return download_text",
    "start_line": 879
  },
  {
    "file": "progress.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "TransferSpeedColumn",
    "content": "class TransferSpeedColumn(ProgressColumn):\n    \"\"\"Renders human readable transfer speed.\"\"\"",
    "start_line": 915
  },
  {
    "file": "progress.py",
    "type": "method",
    "class": "TransferSpeedColumn",
    "method": "render",
    "name": "render",
    "content": "class TransferSpeedColumn:\n    def render(self, task: \"Task\") -> Text:\n        \"\"\"Show data transfer speed.\"\"\"\n        speed = task.finished_speed or task.speed\n        if speed is None:\n            return Text(\"?\", style=\"progress.data.speed\")\n        data_speed = filesize.decimal(int(speed))\n        return Text(f\"{data_speed}/s\", style=\"progress.data.speed\")",
    "start_line": 918
  },
  {
    "file": "progress.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "ProgressSample",
    "content": "class ProgressSample(NamedTuple):\n    \"\"\"Sample of progress for a given time.\"\"\"\n\n    timestamp: float\n    \"\"\"Timestamp of sample.\"\"\"\n    completed: float\n    \"\"\"Number of steps completed.\"\"\"\n\n\n@dataclass",
    "start_line": 927
  },
  {
    "file": "progress.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "Task",
    "content": "class Task:\n    \"\"\"Information regarding a progress task.\n\n    This object should be considered read-only outside of the :class:`~Progress` class.\n\n    \"\"\"\n\n    id: TaskID\n    \"\"\"Task ID associated with this task (used in Progress methods).\"\"\"\n\n    description: str\n    \"\"\"str: Description of the task.\"\"\"\n\n    total: Optional[float]\n    \"\"\"Optional[float]: Total number of steps in this task.\"\"\"\n\n    completed: float\n    \"\"\"float: Number of steps completed\"\"\"\n\n    _get_time: GetTimeCallable\n    \"\"\"Callable to get the current time.\"\"\"\n\n    finished_time: Optional[float] = None\n    \"\"\"float: Time task was finished.\"\"\"\n\n    visible: bool = True\n    \"\"\"bool: Indicates if this task is visible in the progress display.\"\"\"\n\n    fields: Dict[str, Any] = field(default_factory=dict)\n    \"\"\"dict: Arbitrary fields passed in via Progress.update.\"\"\"\n\n    start_time: Optional[float] = field(default=None, init=False, repr=False)\n    \"\"\"Optional[float]: Time this task was started, or None if not started.\"\"\"\n\n    stop_time: Optional[float] = field(default=None, init=False, repr=False)\n    \"\"\"Optional[float]: Time this task was stopped, or None if not stopped.\"\"\"\n\n    finished_speed: Optional[float] = None\n    \"\"\"Optional[float]: The last speed for a finished task.\"\"\"\n\n    _progress: Deque[ProgressSample] = field(\n        default_factory=lambda: deque(maxlen=1000), init=False, repr=False\n    )\n\n    _lock: RLock = field(repr=False, default_factory=RLock)\n    \"\"\"Thread lock.\"\"\"",
    "start_line": 937
  },
  {
    "file": "progress.py",
    "type": "method",
    "class": "Task",
    "method": "get_time",
    "name": "get_time",
    "content": "class Task:\n    def get_time(self) -> float:\n        \"\"\"float: Get the current time, in seconds.\"\"\"\n        return self._get_time()\n\n    @property",
    "start_line": 984
  },
  {
    "file": "progress.py",
    "type": "method",
    "class": "Task",
    "method": "started",
    "name": "started",
    "content": "class Task:\n    def started(self) -> bool:\n        \"\"\"bool: Check if the task as started.\"\"\"\n        return self.start_time is not None\n\n    @property",
    "start_line": 989
  },
  {
    "file": "progress.py",
    "type": "method",
    "class": "Task",
    "method": "remaining",
    "name": "remaining",
    "content": "class Task:\n    def remaining(self) -> Optional[float]:\n        \"\"\"Optional[float]: Get the number of steps remaining, if a non-None total was set.\"\"\"\n        if self.total is None:\n            return None\n        return self.total - self.completed\n\n    @property",
    "start_line": 994
  },
  {
    "file": "progress.py",
    "type": "method",
    "class": "Task",
    "method": "elapsed",
    "name": "elapsed",
    "content": "class Task:\n    def elapsed(self) -> Optional[float]:\n        \"\"\"Optional[float]: Time elapsed since task was started, or ``None`` if the task hasn't started.\"\"\"\n        if self.start_time is None:\n            return None\n        if self.stop_time is not None:\n            return self.stop_time - self.start_time\n        return self.get_time() - self.start_time\n\n    @property",
    "start_line": 1001
  },
  {
    "file": "progress.py",
    "type": "method",
    "class": "Task",
    "method": "finished",
    "name": "finished",
    "content": "class Task:\n    def finished(self) -> bool:\n        \"\"\"Check if the task has finished.\"\"\"\n        return self.finished_time is not None\n\n    @property",
    "start_line": 1010
  },
  {
    "file": "progress.py",
    "type": "method",
    "class": "Task",
    "method": "percentage",
    "name": "percentage",
    "content": "class Task:\n    def percentage(self) -> float:\n        \"\"\"float: Get progress of task as a percentage. If a None total was set, returns 0\"\"\"\n        if not self.total:\n            return 0.0\n        completed = (self.completed / self.total) * 100.0\n        completed = min(100.0, max(0.0, completed))\n        return completed\n\n    @property",
    "start_line": 1015
  },
  {
    "file": "progress.py",
    "type": "method",
    "class": "Task",
    "method": "speed",
    "name": "speed",
    "content": "class Task:\n    def speed(self) -> Optional[float]:\n        \"\"\"Optional[float]: Get the estimated speed in steps per second.\"\"\"\n        if self.start_time is None:\n            return None\n        with self._lock:\n            progress = self._progress\n            if not progress:\n                return None\n            total_time = progress[-1].timestamp - progress[0].timestamp\n            if total_time == 0:\n                return None\n            iter_progress = iter(progress)\n            next(iter_progress)\n            total_completed = sum(sample.completed for sample in iter_progress)\n            speed = total_completed / total_time\n            return speed\n\n    @property",
    "start_line": 1024
  },
  {
    "file": "progress.py",
    "type": "method",
    "class": "Task",
    "method": "time_remaining",
    "name": "time_remaining",
    "content": "class Task:\n    def time_remaining(self) -> Optional[float]:\n        \"\"\"Optional[float]: Get estimated time to completion, or ``None`` if no data.\"\"\"\n        if self.finished:\n            return 0.0\n        speed = self.speed\n        if not speed:\n            return None\n        remaining = self.remaining\n        if remaining is None:\n            return None\n        estimate = ceil(remaining / speed)\n        return estimate",
    "start_line": 1042
  },
  {
    "file": "progress.py",
    "type": "method",
    "class": "Task",
    "method": "_reset",
    "name": "_reset",
    "content": "class Task:\n    def _reset(self) -> None:\n        \"\"\"Reset progress.\"\"\"\n        self._progress.clear()\n        self.finished_time = None\n        self.finished_speed = None",
    "start_line": 1055
  },
  {
    "file": "progress.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "Progress",
    "content": "class Progress(JupyterMixin):\n    \"\"\"Renders an auto-updating progress bar(s).\n\n    Args:\n        console (Console, optional): Optional Console instance. Defaults to an internal Console instance writing to stdout.\n        auto_refresh (bool, optional): Enable auto refresh. If disabled, you will need to call `refresh()`.\n        refresh_per_second (Optional[float], optional): Number of times per second to refresh the progress information or None to use default (10). Defaults to None.\n        speed_estimate_period: (float, optional): Period (in seconds) used to calculate the speed estimate. Defaults to 30.\n        transient: (bool, optional): Clear the progress on exit. Defaults to False.\n        redirect_stdout: (bool, optional): Enable redirection of stdout, so ``print`` may be used. Defaults to True.\n        redirect_stderr: (bool, optional): Enable redirection of stderr. Defaults to True.\n        get_time: (Callable, optional): A callable that gets the current time, or None to use Console.get_time. Defaults to None.\n        disable (bool, optional): Disable progress display. Defaults to False\n        expand (bool, optional): Expand tasks table to fit width. Defaults to False.\n    \"\"\"",
    "start_line": 1062
  },
  {
    "file": "progress.py",
    "type": "method",
    "class": "Progress",
    "method": "__init__",
    "name": "__init__",
    "content": "class Progress:\n    def __init__(\n        self,\n        *columns: Union[str, ProgressColumn],\n        console: Optional[Console] = None,\n        auto_refresh: bool = True,\n        refresh_per_second: float = 10,\n        speed_estimate_period: float = 30.0,\n        transient: bool = False,\n        redirect_stdout: bool = True,\n        redirect_stderr: bool = True,\n        get_time: Optional[GetTimeCallable] = None,\n        disable: bool = False,\n        expand: bool = False,\n    ) -> None:\n        assert refresh_per_second > 0, \"refresh_per_second must be > 0\"\n        self._lock = RLock()\n        self.columns = columns or self.get_default_columns()\n        self.speed_estimate_period = speed_estimate_period\n\n        self.disable = disable\n        self.expand = expand\n        self._tasks: Dict[TaskID, Task] = {}\n        self._task_index: TaskID = TaskID(0)\n        self.live = Live(\n            console=console or get_console(),\n            auto_refresh=auto_refresh,\n            refresh_per_second=refresh_per_second,\n            transient=transient,\n            redirect_stdout=redirect_stdout,\n            redirect_stderr=redirect_stderr,\n            get_renderable=self.get_renderable,\n        )\n        self.get_time = get_time or self.console.get_time\n        self.print = self.console.print\n        self.log = self.console.log\n\n    @classmethod",
    "start_line": 1078
  },
  {
    "file": "progress.py",
    "type": "method",
    "class": "Progress",
    "method": "get_default_columns",
    "name": "get_default_columns",
    "content": "class Progress:\n    def get_default_columns(cls) -> Tuple[ProgressColumn, ...]:\n        \"\"\"Get the default columns used for a new Progress instance:\n           - a text column for the description (TextColumn)\n           - the bar itself (BarColumn)\n           - a text column showing completion percentage (TextColumn)\n           - an estimated-time-remaining column (TimeRemainingColumn)\n        If the Progress instance is created without passing a columns argument,\n        the default columns defined here will be used.\n\n        You can also create a Progress instance using custom columns before\n        and/or after the defaults, as in this example:\n\n            progress = Progress(\n                SpinnerColumn(),\n                *Progress.get_default_columns(),\n                \"Elapsed:\",\n                TimeElapsedColumn(),\n            )\n\n        This code shows the creation of a Progress display, containing\n        a spinner to the left, the default columns, and a labeled elapsed\n        time column.\n        \"\"\"\n        return (\n            TextColumn(\"[progress.description]{task.description}\"),\n            BarColumn(),\n            TaskProgressColumn(),\n            TimeRemainingColumn(),\n        )\n\n    @property",
    "start_line": 1115
  },
  {
    "file": "progress.py",
    "type": "method",
    "class": "Progress",
    "method": "console",
    "name": "console",
    "content": "class Progress:\n    def console(self) -> Console:\n        return self.live.console\n\n    @property",
    "start_line": 1146
  },
  {
    "file": "progress.py",
    "type": "method",
    "class": "Progress",
    "method": "tasks",
    "name": "tasks",
    "content": "class Progress:\n    def tasks(self) -> List[Task]:\n        \"\"\"Get a list of Task instances.\"\"\"\n        with self._lock:\n            return list(self._tasks.values())\n\n    @property",
    "start_line": 1150
  },
  {
    "file": "progress.py",
    "type": "method",
    "class": "Progress",
    "method": "task_ids",
    "name": "task_ids",
    "content": "class Progress:\n    def task_ids(self) -> List[TaskID]:\n        \"\"\"A list of task IDs.\"\"\"\n        with self._lock:\n            return list(self._tasks.keys())\n\n    @property",
    "start_line": 1156
  },
  {
    "file": "progress.py",
    "type": "method",
    "class": "Progress",
    "method": "finished",
    "name": "finished",
    "content": "class Progress:\n    def finished(self) -> bool:\n        \"\"\"Check if all tasks have been completed.\"\"\"\n        with self._lock:\n            if not self._tasks:\n                return True\n            return all(task.finished for task in self._tasks.values())",
    "start_line": 1162
  },
  {
    "file": "progress.py",
    "type": "method",
    "class": "Progress",
    "method": "start",
    "name": "start",
    "content": "class Progress:\n    def start(self) -> None:\n        \"\"\"Start the progress display.\"\"\"\n        if not self.disable:\n            self.live.start(refresh=True)",
    "start_line": 1169
  },
  {
    "file": "progress.py",
    "type": "method",
    "class": "Progress",
    "method": "stop",
    "name": "stop",
    "content": "class Progress:\n    def stop(self) -> None:\n        \"\"\"Stop the progress display.\"\"\"\n        self.live.stop()\n        if not self.console.is_interactive and not self.console.is_jupyter:\n            self.console.print()",
    "start_line": 1174
  },
  {
    "file": "progress.py",
    "type": "method",
    "class": "Progress",
    "method": "__enter__",
    "name": "__enter__",
    "content": "class Progress:\n    def __enter__(self) -> Self:\n        self.start()\n        return self",
    "start_line": 1180
  },
  {
    "file": "progress.py",
    "type": "method",
    "class": "Progress",
    "method": "__exit__",
    "name": "__exit__",
    "content": "class Progress:\n    def __exit__(\n        self,\n        exc_type: Optional[Type[BaseException]],\n        exc_val: Optional[BaseException],\n        exc_tb: Optional[TracebackType],\n    ) -> None:\n        self.stop()",
    "start_line": 1184
  },
  {
    "file": "progress.py",
    "type": "method",
    "class": "Progress",
    "method": "track",
    "name": "track",
    "content": "class Progress:\n    def track(\n        self,\n        sequence: Union[Iterable[ProgressType], Sequence[ProgressType]],\n        total: Optional[float] = None,\n        completed: int = 0,\n        task_id: Optional[TaskID] = None,\n        description: str = \"Working...\",\n        update_period: float = 0.1,\n    ) -> Iterable[ProgressType]:\n        \"\"\"Track progress by iterating over a sequence.\n\n        Args:\n            sequence (Sequence[ProgressType]): A sequence of values you want to iterate over and track progress.\n            total: (float, optional): Total number of steps. Default is len(sequence).\n            completed (int, optional): Number of steps completed so far. Defaults to 0.\n            task_id: (TaskID): Task to track. Default is new task.\n            description: (str, optional): Description of task, if new task is created.\n            update_period (float, optional): Minimum time (in seconds) between calls to update(). Defaults to 0.1.\n\n        Returns:\n            Iterable[ProgressType]: An iterable of values taken from the provided sequence.\n        \"\"\"\n        if total is None:\n            total = float(length_hint(sequence)) or None\n\n        if task_id is None:\n            task_id = self.add_task(description, total=total, completed=completed)\n        else:\n            self.update(task_id, total=total, completed=completed)\n\n        if self.live.auto_refresh:\n            with _TrackThread(self, task_id, update_period) as track_thread:\n                for value in sequence:\n                    yield value\n                    track_thread.completed += 1\n        else:\n            advance = self.advance\n            refresh = self.refresh\n            for value in sequence:\n                yield value\n                advance(task_id, 1)\n                refresh()",
    "start_line": 1192
  },
  {
    "file": "progress.py",
    "type": "method",
    "class": "Progress",
    "method": "wrap_file",
    "name": "wrap_file",
    "content": "class Progress:\n    def wrap_file(\n        self,\n        file: BinaryIO,\n        total: Optional[int] = None,\n        *,\n        task_id: Optional[TaskID] = None,\n        description: str = \"Reading...\",\n    ) -> BinaryIO:\n        \"\"\"Track progress file reading from a binary file.\n\n        Args:\n            file (BinaryIO): A file-like object opened in binary mode.\n            total (int, optional): Total number of bytes to read. This must be provided unless a task with a total is also given.\n            task_id (TaskID): Task to track. Default is new task.\n            description (str, optional): Description of task, if new task is created.\n\n        Returns:\n            BinaryIO: A readable file-like object in binary mode.\n\n        Raises:\n            ValueError: When no total value can be extracted from the arguments or the task.\n        \"\"\"",
    "start_line": 1235
  },
  {
    "file": "progress.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# attempt to recover the total from the task\n        total_bytes: Optional[float] = None\n        if total is not None:\n            total_bytes = total\n        elif task_id is not None:\n            with self._lock:\n                total_bytes = self._tasks[task_id].total\n        if total_bytes is None:\n            raise ValueError(\n                f\"unable to get the total number of bytes, please specify 'total'\"\n            )\n        # update total of task or create new task\n        if task_id is None:\n            task_id = self.add_task(description, total=total_bytes)\n        else:\n            self.update(task_id, total=total_bytes)\n        return _Reader(file, self, task_id, close_handle=False)\n    @typing.overload",
    "start_line": 1257
  },
  {
    "file": "progress.py",
    "type": "method",
    "class": "Progress",
    "method": "open",
    "name": "open",
    "content": "class Progress:\n    def open(\n        self,\n        file: Union[str, \"PathLike[str]\", bytes],\n        mode: Literal[\"rb\"],\n        buffering: int = -1,\n        encoding: Optional[str] = None,\n        errors: Optional[str] = None,\n        newline: Optional[str] = None,\n        *,\n        total: Optional[int] = None,\n        task_id: Optional[TaskID] = None,\n        description: str = \"Reading...\",\n    ) -> BinaryIO:\n        pass\n\n    @typing.overload",
    "start_line": 1278
  },
  {
    "file": "progress.py",
    "type": "method",
    "class": "Progress",
    "method": "open",
    "name": "open",
    "content": "class Progress:\n    def open(\n        self,\n        file: Union[str, \"PathLike[str]\", bytes],\n        mode: Union[Literal[\"r\"], Literal[\"rt\"]],\n        buffering: int = -1,\n        encoding: Optional[str] = None,\n        errors: Optional[str] = None,\n        newline: Optional[str] = None,\n        *,\n        total: Optional[int] = None,\n        task_id: Optional[TaskID] = None,\n        description: str = \"Reading...\",\n    ) -> TextIO:\n        pass",
    "start_line": 1294
  },
  {
    "file": "progress.py",
    "type": "method",
    "class": "Progress",
    "method": "open",
    "name": "open",
    "content": "class Progress:\n    def open(\n        self,\n        file: Union[str, \"PathLike[str]\", bytes],\n        mode: Union[Literal[\"rb\"], Literal[\"rt\"], Literal[\"r\"]] = \"r\",\n        buffering: int = -1,\n        encoding: Optional[str] = None,\n        errors: Optional[str] = None,\n        newline: Optional[str] = None,\n        *,\n        total: Optional[int] = None,\n        task_id: Optional[TaskID] = None,\n        description: str = \"Reading...\",\n    ) -> Union[BinaryIO, TextIO]:\n        \"\"\"Track progress while reading from a binary file.\n\n        Args:\n            path (Union[str, PathLike[str]]): The path to the file to read.\n            mode (str): The mode to use to open the file. Only supports \"r\", \"rb\" or \"rt\".\n            buffering (int): The buffering strategy to use, see :func:`io.open`.\n            encoding (str, optional): The encoding to use when reading in text mode, see :func:`io.open`.\n            errors (str, optional): The error handling strategy for decoding errors, see :func:`io.open`.\n            newline (str, optional): The strategy for handling newlines in text mode, see :func:`io.open`.\n            total (int, optional): Total number of bytes to read. If none given, os.stat(path).st_size is used.\n            task_id (TaskID): Task to track. Default is new task.\n            description (str, optional): Description of task, if new task is created.\n\n        Returns:\n            BinaryIO: A readable file-like object in binary mode.\n\n        Raises:\n            ValueError: When an invalid mode is given.\n        \"\"\"",
    "start_line": 1309
  },
  {
    "file": "progress.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# normalize the mode (always rb, rt)\n        _mode = \"\".join(sorted(mode, reverse=False))\n        if _mode not in (\"br\", \"rt\", \"r\"):\n            raise ValueError(f\"invalid mode {mode!r}\")\n        # patch buffering to provide the same behaviour as the builtin `open`\n        line_buffering = buffering == 1\n        if _mode == \"br\" and buffering == 1:\n            warnings.warn(\n                \"line buffering (buffering=1) isn't supported in binary mode, the default buffer size will be used\",\n                RuntimeWarning,\n            )\n            buffering = -1\n        elif _mode in (\"rt\", \"r\"):\n            if buffering == 0:\n                raise ValueError(\"can't have unbuffered text I/O\")\n            elif buffering == 1:\n                buffering = -1\n        # attempt to get the total with `os.stat`\n        if total is None:\n            total = stat(file).st_size\n        # update total of task or create new task\n        if task_id is None:\n            task_id = self.add_task(description, total=total)\n        else:\n            self.update(task_id, total=total)\n        # open the file in binary mode,\n        handle = io.open(file, \"rb\", buffering=buffering)\n        reader = _Reader(handle, self, task_id, close_handle=True)\n        # wrap the reader in a `TextIOWrapper` if text mode\n        if mode in (\"r\", \"rt\"):\n            return io.TextIOWrapper(\n                reader,\n                encoding=encoding,\n                errors=errors,\n                newline=newline,\n                line_buffering=line_buffering,\n            )\n        return reader",
    "start_line": 1341
  },
  {
    "file": "progress.py",
    "type": "method",
    "class": "Progress",
    "method": "start_task",
    "name": "start_task",
    "content": "class Progress:\n    def start_task(self, task_id: TaskID) -> None:\n        \"\"\"Start a task.\n\n        Starts a task (used when calculating elapsed time). You may need to call this manually,\n        if you called ``add_task`` with ``start=False``.\n\n        Args:\n            task_id (TaskID): ID of task.\n        \"\"\"\n        with self._lock:\n            task = self._tasks[task_id]\n            if task.start_time is None:\n                task.start_time = self.get_time()",
    "start_line": 1386
  },
  {
    "file": "progress.py",
    "type": "method",
    "class": "Progress",
    "method": "stop_task",
    "name": "stop_task",
    "content": "class Progress:\n    def stop_task(self, task_id: TaskID) -> None:\n        \"\"\"Stop a task.\n\n        This will freeze the elapsed time on the task.\n\n        Args:\n            task_id (TaskID): ID of task.\n        \"\"\"\n        with self._lock:\n            task = self._tasks[task_id]\n            current_time = self.get_time()\n            if task.start_time is None:\n                task.start_time = current_time\n            task.stop_time = current_time",
    "start_line": 1400
  },
  {
    "file": "progress.py",
    "type": "method",
    "class": "Progress",
    "method": "update",
    "name": "update",
    "content": "class Progress:\n    def update(\n        self,\n        task_id: TaskID,\n        *,\n        total: Optional[float] = None,\n        completed: Optional[float] = None,\n        advance: Optional[float] = None,\n        description: Optional[str] = None,\n        visible: Optional[bool] = None,\n        refresh: bool = False,\n        **fields: Any,\n    ) -> None:\n        \"\"\"Update information associated with a task.\n\n        Args:\n            task_id (TaskID): Task id (returned by add_task).\n            total (float, optional): Updates task.total if not None.\n            completed (float, optional): Updates task.completed if not None.\n            advance (float, optional): Add a value to task.completed if not None.\n            description (str, optional): Change task description if not None.\n            visible (bool, optional): Set visible flag if not None.\n            refresh (bool): Force a refresh of progress information. Default is False.\n            **fields (Any): Additional data fields required for rendering.\n        \"\"\"\n        with self._lock:\n            task = self._tasks[task_id]\n            completed_start = task.completed\n\n            if total is not None and total != task.total:\n                task.total = total\n                task._reset()\n            if advance is not None:\n                task.completed += advance\n            if completed is not None:\n                task.completed = completed\n            if description is not None:\n                task.description = description\n            if visible is not None:\n                task.visible = visible\n            task.fields.update(fields)\n            update_completed = task.completed - completed_start\n\n            current_time = self.get_time()\n            old_sample_time = current_time - self.speed_estimate_period\n            _progress = task._progress\n\n            popleft = _progress.popleft\n            while _progress and _progress[0].timestamp < old_sample_time:\n                popleft()\n            if update_completed > 0:\n                _progress.append(ProgressSample(current_time, update_completed))\n            if (\n                task.total is not None\n                and task.completed >= task.total\n                and task.finished_time is None\n            ):\n                task.finished_time = task.elapsed\n\n        if refresh:\n            self.refresh()",
    "start_line": 1415
  },
  {
    "file": "progress.py",
    "type": "method",
    "class": "Progress",
    "method": "reset",
    "name": "reset",
    "content": "class Progress:\n    def reset(\n        self,\n        task_id: TaskID,\n        *,\n        start: bool = True,\n        total: Optional[float] = None,\n        completed: int = 0,\n        visible: Optional[bool] = None,\n        description: Optional[str] = None,\n        **fields: Any,\n    ) -> None:\n        \"\"\"Reset a task so completed is 0 and the clock is reset.\n\n        Args:\n            task_id (TaskID): ID of task.\n            start (bool, optional): Start the task after reset. Defaults to True.\n            total (float, optional): New total steps in task, or None to use current total. Defaults to None.\n            completed (int, optional): Number of steps completed. Defaults to 0.\n            visible (bool, optional): Enable display of the task. Defaults to True.\n            description (str, optional): Change task description if not None. Defaults to None.\n            **fields (str): Additional data fields required for rendering.\n        \"\"\"\n        current_time = self.get_time()\n        with self._lock:\n            task = self._tasks[task_id]\n            task._reset()\n            task.start_time = current_time if start else None\n            if total is not None:\n                task.total = total\n            task.completed = completed\n            if visible is not None:\n                task.visible = visible\n            if fields:\n                task.fields = fields\n            if description is not None:\n                task.description = description\n            task.finished_time = None\n        self.refresh()",
    "start_line": 1476
  },
  {
    "file": "progress.py",
    "type": "method",
    "class": "Progress",
    "method": "advance",
    "name": "advance",
    "content": "class Progress:\n    def advance(self, task_id: TaskID, advance: float = 1) -> None:\n        \"\"\"Advance task by a number of steps.\n\n        Args:\n            task_id (TaskID): ID of task.\n            advance (float): Number of steps to advance. Default is 1.\n        \"\"\"\n        current_time = self.get_time()\n        with self._lock:\n            task = self._tasks[task_id]\n            completed_start = task.completed\n            task.completed += advance\n            update_completed = task.completed - completed_start\n            old_sample_time = current_time - self.speed_estimate_period\n            _progress = task._progress\n\n            popleft = _progress.popleft\n            while _progress and _progress[0].timestamp < old_sample_time:\n                popleft()\n            while len(_progress) > 1000:\n                popleft()\n            _progress.append(ProgressSample(current_time, update_completed))\n            if (\n                task.total is not None\n                and task.completed >= task.total\n                and task.finished_time is None\n            ):\n                task.finished_time = task.elapsed\n                task.finished_speed = task.speed",
    "start_line": 1515
  },
  {
    "file": "progress.py",
    "type": "method",
    "class": "Progress",
    "method": "refresh",
    "name": "refresh",
    "content": "class Progress:\n    def refresh(self) -> None:\n        \"\"\"Refresh (render) the progress information.\"\"\"\n        if not self.disable and self.live.is_started:\n            self.live.refresh()",
    "start_line": 1545
  },
  {
    "file": "progress.py",
    "type": "method",
    "class": "Progress",
    "method": "get_renderable",
    "name": "get_renderable",
    "content": "class Progress:\n    def get_renderable(self) -> RenderableType:\n        \"\"\"Get a renderable for the progress display.\"\"\"\n        renderable = Group(*self.get_renderables())\n        return renderable",
    "start_line": 1550
  },
  {
    "file": "progress.py",
    "type": "method",
    "class": "Progress",
    "method": "get_renderables",
    "name": "get_renderables",
    "content": "class Progress:\n    def get_renderables(self) -> Iterable[RenderableType]:\n        \"\"\"Get a number of renderables for the progress display.\"\"\"\n        table = self.make_tasks_table(self.tasks)\n        yield table",
    "start_line": 1555
  },
  {
    "file": "progress.py",
    "type": "method",
    "class": "Progress",
    "method": "make_tasks_table",
    "name": "make_tasks_table",
    "content": "class Progress:\n    def make_tasks_table(self, tasks: Iterable[Task]) -> Table:\n        \"\"\"Get a table to render the Progress display.\n\n        Args:\n            tasks (Iterable[Task]): An iterable of Task instances, one per row of the table.\n\n        Returns:\n            Table: A table instance.\n        \"\"\"\n        table_columns = (\n            (\n                Column(no_wrap=True)\n                if isinstance(_column, str)\n                else _column.get_table_column().copy()\n            )\n            for _column in self.columns\n        )\n        table = Table.grid(*table_columns, padding=(0, 1), expand=self.expand)\n\n        for task in tasks:\n            if task.visible:\n                table.add_row(\n                    *(\n                        (\n                            column.format(task=task)\n                            if isinstance(column, str)\n                            else column(task)\n                        )\n                        for column in self.columns\n                    )\n                )\n        return table",
    "start_line": 1560
  },
  {
    "file": "progress.py",
    "type": "method",
    "class": "Progress",
    "method": "__rich__",
    "name": "__rich__",
    "content": "class Progress:\n    def __rich__(self) -> RenderableType:\n        \"\"\"Makes the Progress class itself renderable.\"\"\"\n        with self._lock:\n            return self.get_renderable()",
    "start_line": 1593
  },
  {
    "file": "progress.py",
    "type": "method",
    "class": "Progress",
    "method": "add_task",
    "name": "add_task",
    "content": "class Progress:\n    def add_task(\n        self,\n        description: str,\n        start: bool = True,\n        total: Optional[float] = 100.0,\n        completed: int = 0,\n        visible: bool = True,\n        **fields: Any,\n    ) -> TaskID:\n        \"\"\"Add a new 'task' to the Progress display.\n\n        Args:\n            description (str): A description of the task.\n            start (bool, optional): Start the task immediately (to calculate elapsed time). If set to False,\n                you will need to call `start` manually. Defaults to True.\n            total (float, optional): Number of total steps in the progress if known.\n                Set to None to render a pulsing animation. Defaults to 100.\n            completed (int, optional): Number of steps completed so far. Defaults to 0.\n            visible (bool, optional): Enable display of the task. Defaults to True.\n            **fields (str): Additional data fields required for rendering.\n\n        Returns:\n            TaskID: An ID you can use when calling `update`.\n        \"\"\"\n        with self._lock:\n            task = Task(\n                self._task_index,\n                description,\n                total,\n                completed,\n                visible=visible,\n                fields=fields,\n                _get_time=self.get_time,\n                _lock=self._lock,\n            )\n            self._tasks[self._task_index] = task\n            if start:\n                self.start_task(self._task_index)\n            new_task_index = self._task_index\n            self._task_index = TaskID(int(self._task_index) + 1)\n        self.refresh()\n        return new_task_index",
    "start_line": 1598
  },
  {
    "file": "progress.py",
    "type": "method",
    "class": "Progress",
    "method": "remove_task",
    "name": "remove_task",
    "content": "class Progress:\n    def remove_task(self, task_id: TaskID) -> None:\n        \"\"\"Delete a task if it exists.\n\n        Args:\n            task_id (TaskID): A task ID.\n\n        \"\"\"\n        with self._lock:\n            del self._tasks[task_id]\n\n\nif __name__ == \"__main__\":  # pragma: no coverage",
    "start_line": 1641
  },
  {
    "file": "progress.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "import random\n    import time\n    from .panel import Panel\n    from .rule import Rule\n    from .syntax import Syntax\n    from .table import Table\n    syntax = Syntax(\n        '''def loop_last(values: Iterable[T]) -> Iterable[Tuple[bool, T]]:\n    \"\"\"Iterate and generate a tuple with a flag for last value.\"\"\"\n    iter_values = iter(values)\n    try:\n        previous_value = next(iter_values)\n    except StopIteration:\n        return\n    for value in iter_values:\n        yield False, previous_value\n        previous_value = value\n    yield True, previous_value''',\n        \"python\",\n        line_numbers=True,\n    )\n    table = Table(\"foo\", \"bar\", \"baz\")\n    table.add_row(\"1\", \"2\", \"3\")\n    progress_renderables = [\n        \"Text may be printed while the progress bars are rendering.\",\n        Panel(\"In fact, [i]any[/i] renderable will work\"),\n        \"Such as [magenta]tables[/]...\",\n        table,\n        \"Pretty printed structures...\",\n        {\"type\": \"example\", \"text\": \"Pretty printed\"},\n        \"Syntax...\",\n        syntax,\n        Rule(\"Give it a try!\"),\n    ]\n    from itertools import cycle\n    examples = cycle(progress_renderables)\n    console = Console(record=True)\n    with Progress(\n        SpinnerColumn(),\n        *Progress.get_default_columns(),\n        TimeElapsedColumn(),\n        console=console,\n        transient=False,\n    ) as progress:\n        task1 = progress.add_task(\"[red]Downloading\", total=1000)\n        task2 = progress.add_task(\"[green]Processing\", total=1000)\n        task3 = progress.add_task(\"[yellow]Thinking\", total=None)\n        while not progress.finished:\n            progress.update(task1, advance=0.5)\n            progress.update(task2, advance=0.3)\n            time.sleep(0.01)\n            if random.randint(0, 100) < 1:\n                progress.log(next(examples))",
    "start_line": 1653
  },
  {
    "file": "progress.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "import io\nimport sys\nimport typing\nimport warnings\nfrom abc import ABC, abstractmethod\nfrom collections import deque\nfrom dataclasses import dataclass, field\nfrom datetime import timedelta\nfrom io import RawIOBase, UnsupportedOperation\nfrom math import ceil\nfrom mmap import mmap\nfrom operator import length_hint\nfrom os import PathLike, stat\nfrom threading import Event, RLock, Thread\nfrom types import TracebackType\nfrom typing import (\n    Any,\n    BinaryIO,\n    Callable,\n    ContextManager,\n    Deque,\n    Dict,\n    Generic,\n    Iterable,\n    List,\n    NamedTuple,\n    NewType,\n    Optional,\n    Sequence,\n    TextIO,\n    Tuple,\n    Type,\n    TypeVar,\n    Union,\n)\n\nif sys.version_info >= (3, 8):\n    from typing import Literal\nelse:\n    from typing_extensions import Literal  # pragma: no cover\n\nif sys.version_info >= (3, 11):\n    from typing import Self\nelse:\n    from typing_extensions import Self  # pragma: no cover\n\nfrom . import filesize, get_console\nfrom .console import Console, Group, JustifyMethod, RenderableType\nfrom .highlighter import Highlighter\nfrom .jupyter import JupyterMixin\nfrom .live import Live\nfrom .progress_bar import ProgressBar\nfrom .spinner import Spinner\nfrom .style import StyleType\nfrom .table import Column, Table\nfrom .text import Text, TextType\n\nTaskID = NewType(\"TaskID\", int)\n\nProgressType = TypeVar(\"ProgressType\")\n\nGetTimeCallable = Callable[[], float]\n\n\n_I = typing.TypeVar(\"_I\", TextIO, BinaryIO)\n\n\nclass _TrackThread(Thread):\n    \"\"\"A thread to periodically update progress.\"\"\"\n\n    def __init__(self, progress: \"Progress\", task_id: \"TaskID\", update_period: float):\n        self.progress = progress\n        self.task_id = task_id\n        self.update_period = update_period\n        self.done = Event()\n\n        self.completed = 0\n        super().__init__(daemon=True)\n\n    def run(self) -> None:\n        task_id = self.task_id\n        advance = self.progress.advance\n        update_period = self.update_period\n        last_completed = 0\n        wait = self.done.wait\n        while not wait(update_period) and self.progress.live.is_started:\n            completed = self.completed\n            if last_completed != completed:\n                advance(task_id, completed - last_completed)\n                last_completed = completed\n\n        self.progress.update(self.task_id, completed=self.completed, refresh=True)\n\n    def __enter__(self) -> \"_TrackThread\":\n        self.start()\n        return self\n\n    def __exit__(\n        self,\n        exc_type: Optional[Type[BaseException]],\n        exc_val: Optional[BaseException],\n        exc_tb: Optional[TracebackType],\n    ) -> None:\n        self.done.set()\n        self.join()\n\n\ndef track(\n    sequence: Union[Sequence[ProgressType], Iterable[ProgressType]],\n    description: str = \"Working...\",\n    total: Optional[float] = None,\n    completed: int = 0,\n    auto_refresh: bool = True,\n    console: Optional[Console] = None,\n    transient: bool = False,\n    get_time: Optional[Callable[[], float]] = None,\n    refresh_per_second: float = 10,\n    style: StyleType = \"bar.back\",\n    complete_style: StyleType = \"bar.complete\",\n    finished_style: StyleType = \"bar.finished\",\n    pulse_style: StyleType = \"bar.pulse\",\n    update_period: float = 0.1,\n    disable: bool = False,\n    show_speed: bool = True,\n) -> Iterable[ProgressType]:\n    \"\"\"Track progress by iterating over a sequence.\n\n    Args:\n        sequence (Iterable[ProgressType]): A sequence (must support \"len\") you wish to iterate over.\n        description (str, optional): Description of task show next to progress bar. Defaults to \"Working\".\n        total: (float, optional): Total number of steps. Default is len(sequence).\n        completed (int, optional): Number of steps completed so far. Defaults to 0.\n        auto_refresh (bool, optional): Automatic refresh, disable to force a refresh after each iteration. Default is True.\n        transient: (bool, optional): Clear the progress on exit. Defaults to False.\n        console (Console, optional): Console to write to. Default creates internal Console instance.\n        refresh_per_second (float): Number of times per second to refresh the progress information. Defaults to 10.\n        style (StyleType, optional): Style for the bar background. Defaults to \"bar.back\".\n        complete_style (StyleType, optional): Style for the completed bar. Defaults to \"bar.complete\".\n        finished_style (StyleType, optional): Style for a finished bar. Defaults to \"bar.finished\".\n        pulse_style (StyleType, optional): Style for pulsing bars. Defaults to \"bar.pulse\".\n        update_period (float, optional): Minimum time (in seconds) between calls to update(). Defaults to 0.1.\n        disable (bool, optional): Disable display of progress.\n        show_speed (bool, optional): Show speed if total isn't known. Defaults to True.\n    Returns:\n        Iterable[ProgressType]: An iterable of the values in the sequence.\n\n    \"\"\"\n\n    columns: List[\"ProgressColumn\"] = (\n        [TextColumn(\"[progress.description]{task.description}\")] if description else []\n    )\n    columns.extend(\n        (\n            BarColumn(\n                style=style,\n                complete_style=complete_style,\n                finished_style=finished_style,\n                pulse_style=pulse_style,\n            ),\n            TaskProgressColumn(show_speed=show_speed),\n            TimeRemainingColumn(elapsed_when_finished=True),\n        )\n    )\n    progress = Progress(\n        *columns,\n        auto_refresh=auto_refresh,\n        console=console,\n        transient=transient,\n        get_time=get_time,\n        refresh_per_second=refresh_per_second or 10,\n        disable=disable,\n    )\n\n    with progress:\n        yield from progress.track(\n            sequence,\n            total=total,\n            completed=completed,\n            description=description,\n            update_period=update_period,\n        )\n\n\nclass _Reader(RawIOBase, BinaryIO):\n    \"\"\"A reader that tracks progress while it's being read from.\"\"\"\n\n    def __init__(\n        self,\n        handle: BinaryIO,\n        progress: \"Progress\",\n        task: TaskID,\n        close_handle: bool = True,\n    ) -> None:\n        self.handle = handle\n        self.progress = progress\n        self.task = task\n        self.close_handle = close_handle\n        self._closed = False\n\n    def __enter__(self) -> \"_Reader\":\n        self.handle.__enter__()\n        return self\n\n    def __exit__(\n        self,\n        exc_type: Optional[Type[BaseException]],\n        exc_val: Optional[BaseException],\n        exc_tb: Optional[TracebackType],\n    ) -> None:\n        self.close()\n\n    def __iter__(self) -> BinaryIO:\n        return self\n\n    def __next__(self) -> bytes:\n        line = next(self.handle)\n        self.progress.advance(self.task, advance=len(line))\n        return line\n\n    @property\n    def closed(self) -> bool:\n        return self._closed\n\n    def fileno(self) -> int:\n        return self.handle.fileno()\n\n    def isatty(self) -> bool:\n        return self.handle.isatty()\n\n    @property\n    def mode(self) -> str:\n        return self.handle.mode\n\n    @property\n    def name(self) -> str:\n        return self.handle.name\n\n    def readable(self) -> bool:\n        return self.handle.readable()\n\n    def seekable(self) -> bool:\n        return self.handle.seekable()\n\n    def writable(self) -> bool:\n        return False\n\n    def read(self, size: int = -1) -> bytes:\n        block = self.handle.read(size)\n        self.progress.advance(self.task, advance=len(block))\n        return block\n\n    def readinto(self, b: Union[bytearray, memoryview, mmap]):  # type: ignore[no-untyped-def, override]\n        n = self.handle.readinto(b)  # type: ignore[attr-defined]\n        self.progress.advance(self.task, advance=n)\n        return n\n\n    def readline(self, size: int = -1) -> bytes:  # type: ignore[override]\n        line = self.handle.readline(size)\n        self.progress.advance(self.task, advance=len(line))\n        return line\n\n    def readlines(self, hint: int = -1) -> List[bytes]:\n        lines = self.handle.readlines(hint)\n        self.progress.advance(self.task, advance=sum(map(len, lines)))\n        return lines\n\n    def close(self) -> None:\n        if self.close_handle:\n            self.handle.close()\n        self._closed = True\n\n    def seek(self, offset: int, whence: int = 0) -> int:\n        pos = self.handle.seek(offset, whence)\n        self.progress.update(self.task, completed=pos)\n        return pos\n\n    def tell(self) -> int:\n        return self.handle.tell()\n\n    def write(self, s: Any) -> int:\n        raise UnsupportedOperation(\"write\")\n\n    def writelines(self, lines: Iterable[Any]) -> None:\n        raise UnsupportedOperation(\"writelines\")\n\n\nclass _ReadContext(ContextManager[_I], Generic[_I]):\n    \"\"\"A utility class to handle a context for both a reader and a progress.\"\"\"\n\n    def __init__(self, progress: \"Progress\", reader: _I) -> None:\n        self.progress = progress\n        self.reader: _I = reader\n\n    def __enter__(self) -> _I:\n        self.progress.start()\n        return self.reader.__enter__()\n\n    def __exit__(\n        self,\n        exc_type: Optional[Type[BaseException]],\n        exc_val: Optional[BaseException],\n        exc_tb: Optional[TracebackType],\n    ) -> None:\n        self.progress.stop()\n        self.reader.__exit__(exc_type, exc_val, exc_tb)\n\n\ndef wrap_file(\n    file: BinaryIO,\n    total: int,\n    *,\n    description: str = \"Reading...\",\n    auto_refresh: bool = True,\n    console: Optional[Console] = None,\n    transient: bool = False,\n    get_time: Optional[Callable[[], float]] = None,\n    refresh_per_second: float = 10,\n    style: StyleType = \"bar.back\",\n    complete_style: StyleType = \"bar.complete\",\n    finished_style: StyleType = \"bar.finished\",\n    pulse_style: StyleType = \"bar.pulse\",\n    disable: bool = False,\n) -> ContextManager[BinaryIO]:\n    \"\"\"Read bytes from a file while tracking progress.\n\n    Args:\n        file (Union[str, PathLike[str], BinaryIO]): The path to the file to read, or a file-like object in binary mode.\n        total (int): Total number of bytes to read.\n        description (str, optional): Description of task show next to progress bar. Defaults to \"Reading\".\n        auto_refresh (bool, optional): Automatic refresh, disable to force a refresh after each iteration. Default is True.\n        transient: (bool, optional): Clear the progress on exit. Defaults to False.\n        console (Console, optional): Console to write to. Default creates internal Console instance.\n        refresh_per_second (float): Number of times per second to refresh the progress information. Defaults to 10.\n        style (StyleType, optional): Style for the bar background. Defaults to \"bar.back\".\n        complete_style (StyleType, optional): Style for the completed bar. Defaults to \"bar.complete\".\n        finished_style (StyleType, optional): Style for a finished bar. Defaults to \"bar.finished\".\n        pulse_style (StyleType, optional): Style for pulsing bars. Defaults to \"bar.pulse\".\n        disable (bool, optional): Disable display of progress.\n    Returns:\n        ContextManager[BinaryIO]: A context manager yielding a progress reader.\n\n    \"\"\"\n\n    columns: List[\"ProgressColumn\"] = (\n        [TextColumn(\"[progress.description]{task.description}\")] if description else []\n    )\n    columns.extend(\n        (\n            BarColumn(\n                style=style,\n                complete_style=complete_style,\n                finished_style=finished_style,\n                pulse_style=pulse_style,\n            ),\n            DownloadColumn(),\n            TimeRemainingColumn(),\n        )\n    )\n    progress = Progress(\n        *columns,\n        auto_refresh=auto_refresh,\n        console=console,\n        transient=transient,\n        get_time=get_time,\n        refresh_per_second=refresh_per_second or 10,\n        disable=disable,\n    )\n\n    reader = progress.wrap_file(file, total=total, description=description)\n    return _ReadContext(progress, reader)\n\n\n@typing.overload\ndef open(\n    file: Union[str, \"PathLike[str]\", bytes],\n    mode: Union[Literal[\"rt\"], Literal[\"r\"]],\n    buffering: int = -1,\n    encoding: Optional[str] = None,\n    errors: Optional[str] = None,\n    newline: Optional[str] = None,\n    *,\n    total: Optional[int] = None,\n    description: str = \"Reading...\",\n    auto_refresh: bool = True,\n    console: Optional[Console] = None,\n    transient: bool = False,\n    get_time: Optional[Callable[[], float]] = None,\n    refresh_per_second: float = 10,\n    style: StyleType = \"bar.back\",\n    complete_style: StyleType = \"bar.complete\",\n    finished_style: StyleType = \"bar.finished\",\n    pulse_style: StyleType = \"bar.pulse\",\n    disable: bool = False,\n) -> ContextManager[TextIO]:\n    pass\n\n\n@typing.overload\ndef open(\n    file: Union[str, \"PathLike[str]\", bytes],\n    mode: Literal[\"rb\"],\n    buffering: int = -1,\n    encoding: Optional[str] = None,\n    errors: Optional[str] = None,\n    newline: Optional[str] = None,\n    *,\n    total: Optional[int] = None,\n    description: str = \"Reading...\",\n    auto_refresh: bool = True,\n    console: Optional[Console] = None,\n    transient: bool = False,\n    get_time: Optional[Callable[[], float]] = None,\n    refresh_per_second: float = 10,\n    style: StyleType = \"bar.back\",\n    complete_style: StyleType = \"bar.complete\",\n    finished_style: StyleType = \"bar.finished\",\n    pulse_style: StyleType = \"bar.pulse\",\n    disable: bool = False,\n) -> ContextManager[BinaryIO]:\n    pass\n\n\ndef open(\n    file: Union[str, \"PathLike[str]\", bytes],\n    mode: Union[Literal[\"rb\"], Literal[\"rt\"], Literal[\"r\"]] = \"r\",\n    buffering: int = -1,\n    encoding: Optional[str] = None,\n    errors: Optional[str] = None,\n    newline: Optional[str] = None,\n    *,\n    total: Optional[int] = None,\n    description: str = \"Reading...\",\n    auto_refresh: bool = True,\n    console: Optional[Console] = None,\n    transient: bool = False,\n    get_time: Optional[Callable[[], float]] = None,\n    refresh_per_second: float = 10,\n    style: StyleType = \"bar.back\",\n    complete_style: StyleType = \"bar.complete\",\n    finished_style: StyleType = \"bar.finished\",\n    pulse_style: StyleType = \"bar.pulse\",\n    disable: bool = False,\n) -> Union[ContextManager[BinaryIO], ContextManager[TextIO]]:\n    \"\"\"Read bytes from a file while tracking progress.\n\n    Args:\n        path (Union[str, PathLike[str], BinaryIO]): The path to the file to read, or a file-like object in binary mode.\n        mode (str): The mode to use to open the file. Only supports \"r\", \"rb\" or \"rt\".\n        buffering (int): The buffering strategy to use, see :func:`io.open`.\n        encoding (str, optional): The encoding to use when reading in text mode, see :func:`io.open`.\n        errors (str, optional): The error handling strategy for decoding errors, see :func:`io.open`.\n        newline (str, optional): The strategy for handling newlines in text mode, see :func:`io.open`\n        total: (int, optional): Total number of bytes to read. Must be provided if reading from a file handle. Default for a path is os.stat(file).st_size.\n        description (str, optional): Description of task show next to progress bar. Defaults to \"Reading\".\n        auto_refresh (bool, optional): Automatic refresh, disable to force a refresh after each iteration. Default is True.\n        transient: (bool, optional): Clear the progress on exit. Defaults to False.\n        console (Console, optional): Console to write to. Default creates internal Console instance.\n        refresh_per_second (float): Number of times per second to refresh the progress information. Defaults to 10.\n        style (StyleType, optional): Style for the bar background. Defaults to \"bar.back\".\n        complete_style (StyleType, optional): Style for the completed bar. Defaults to \"bar.complete\".\n        finished_style (StyleType, optional): Style for a finished bar. Defaults to \"bar.finished\".\n        pulse_style (StyleType, optional): Style for pulsing bars. Defaults to \"bar.pulse\".\n        disable (bool, optional): Disable display of progress.\n        encoding (str, optional): The encoding to use when reading in text mode.\n\n    Returns:\n        ContextManager[BinaryIO]: A context manager yielding a progress reader.\n\n    \"\"\"\n\n    columns: List[\"ProgressColumn\"] = (\n        [TextColumn(\"[progress.description]{task.description}\")] if description else []\n    )\n    columns.extend(\n        (\n            BarColumn(\n                style=style,\n                complete_style=complete_style,\n                finished_style=finished_style,\n                pulse_style=pulse_style,\n            ),\n            DownloadColumn(),\n            TimeRemainingColumn(),\n        )\n    )\n    progress = Progress(\n        *columns,\n        auto_refresh=auto_refresh,\n        console=console,\n        transient=transient,\n        get_time=get_time,\n        refresh_per_second=refresh_per_second or 10,\n        disable=disable,\n    )\n\n    reader = progress.open(\n        file,\n        mode=mode,\n        buffering=buffering,\n        encoding=encoding,\n        errors=errors,\n        newline=newline,\n        total=total,\n        description=description,\n    )\n    return _ReadContext(progress, reader)  # type: ignore[return-value, type-var]\n\n\nclass ProgressColumn(ABC):\n    \"\"\"Base class for a widget to use in progress display.\"\"\"\n\n    max_refresh: Optional[float] = None\n\n    def __init__(self, table_column: Optional[Column] = None) -> None:\n        self._table_column = table_column\n        self._renderable_cache: Dict[TaskID, Tuple[float, RenderableType]] = {}\n        self._update_time: Optional[float] = None\n\n    def get_table_column(self) -> Column:\n        \"\"\"Get a table column, used to build tasks table.\"\"\"\n        return self._table_column or Column()\n\n    def __call__(self, task: \"Task\") -> RenderableType:\n        \"\"\"Called by the Progress object to return a renderable for the given task.\n\n        Args:\n            task (Task): An object containing information regarding the task.\n\n        Returns:\n            RenderableType: Anything renderable (including str).\n        \"\"\"\n        current_time = task.get_time()\n        if self.max_refresh is not None and not task.completed:\n            try:\n                timestamp, renderable = self._renderable_cache[task.id]\n            except KeyError:\n                pass\n            else:\n                if timestamp + self.max_refresh > current_time:\n                    return renderable\n\n        renderable = self.render(task)\n        self._renderable_cache[task.id] = (current_time, renderable)\n        return renderable\n\n    @abstractmethod\n    def render(self, task: \"Task\") -> RenderableType:\n        \"\"\"Should return a renderable object.\"\"\"\n\n\nclass RenderableColumn(ProgressColumn):\n    \"\"\"A column to insert an arbitrary column.\n\n    Args:\n        renderable (RenderableType, optional): Any renderable. Defaults to empty string.\n    \"\"\"\n\n    def __init__(\n        self, renderable: RenderableType = \"\", *, table_column: Optional[Column] = None\n    ):\n        self.renderable = renderable\n        super().__init__(table_column=table_column)\n\n    def render(self, task: \"Task\") -> RenderableType:\n        return self.renderable\n\n\nclass SpinnerColumn(ProgressColumn):\n    \"\"\"A column with a 'spinner' animation.\n\n    Args:\n        spinner_name (str, optional): Name of spinner animation. Defaults to \"dots\".\n        style (StyleType, optional): Style of spinner. Defaults to \"progress.spinner\".\n        speed (float, optional): Speed factor of spinner. Defaults to 1.0.\n        finished_text (TextType, optional): Text used when task is finished. Defaults to \" \".\n    \"\"\"\n\n    def __init__(\n        self,\n        spinner_name: str = \"dots\",\n        style: Optional[StyleType] = \"progress.spinner\",\n        speed: float = 1.0,\n        finished_text: TextType = \" \",\n        table_column: Optional[Column] = None,\n    ):\n        self.spinner = Spinner(spinner_name, style=style, speed=speed)\n        self.finished_text = (\n            Text.from_markup(finished_text)\n            if isinstance(finished_text, str)\n            else finished_text\n        )\n        super().__init__(table_column=table_column)\n\n    def set_spinner(\n        self,\n        spinner_name: str,\n        spinner_style: Optional[StyleType] = \"progress.spinner\",\n        speed: float = 1.0,\n    ) -> None:\n        \"\"\"Set a new spinner.\n\n        Args:\n            spinner_name (str): Spinner name, see python -m rich.spinner.\n            spinner_style (Optional[StyleType], optional): Spinner style. Defaults to \"progress.spinner\".\n            speed (float, optional): Speed factor of spinner. Defaults to 1.0.\n        \"\"\"\n        self.spinner = Spinner(spinner_name, style=spinner_style, speed=speed)\n\n    def render(self, task: \"Task\") -> RenderableType:\n        text = (\n            self.finished_text\n            if task.finished\n            else self.spinner.render(task.get_time())\n        )\n        return text\n\n\nclass TextColumn(ProgressColumn):\n    \"\"\"A column containing text.\"\"\"\n\n    def __init__(\n        self,\n        text_format: str,\n        style: StyleType = \"none\",\n        justify: JustifyMethod = \"left\",\n        markup: bool = True,\n        highlighter: Optional[Highlighter] = None,\n        table_column: Optional[Column] = None,\n    ) -> None:\n        self.text_format = text_format\n        self.justify: JustifyMethod = justify\n        self.style = style\n        self.markup = markup\n        self.highlighter = highlighter\n        super().__init__(table_column=table_column or Column(no_wrap=True))\n\n    def render(self, task: \"Task\") -> Text:\n        _text = self.text_format.format(task=task)\n        if self.markup:\n            text = Text.from_markup(_text, style=self.style, justify=self.justify)\n        else:\n            text = Text(_text, style=self.style, justify=self.justify)\n        if self.highlighter:\n            self.highlighter.highlight(text)\n        return text\n\n\nclass BarColumn(ProgressColumn):\n    \"\"\"Renders a visual progress bar.\n\n    Args:\n        bar_width (Optional[int], optional): Width of bar or None for full width. Defaults to 40.\n        style (StyleType, optional): Style for the bar background. Defaults to \"bar.back\".\n        complete_style (StyleType, optional): Style for the completed bar. Defaults to \"bar.complete\".\n        finished_style (StyleType, optional): Style for a finished bar. Defaults to \"bar.finished\".\n        pulse_style (StyleType, optional): Style for pulsing bars. Defaults to \"bar.pulse\".\n    \"\"\"\n\n    def __init__(\n        self,\n        bar_width: Optional[int] = 40,\n        style: StyleType = \"bar.back\",\n        complete_style: StyleType = \"bar.complete\",\n        finished_style: StyleType = \"bar.finished\",\n        pulse_style: StyleType = \"bar.pulse\",\n        table_column: Optional[Column] = None,\n    ) -> None:\n        self.bar_width = bar_width\n        self.style = style\n        self.complete_style = complete_style\n        self.finished_style = finished_style\n        self.pulse_style = pulse_style\n        super().__init__(table_column=table_column)\n\n    def render(self, task: \"Task\") -> ProgressBar:\n        \"\"\"Gets a progress bar widget for a task.\"\"\"\n        return ProgressBar(\n            total=max(0, task.total) if task.total is not None else None,\n            completed=max(0, task.completed),\n            width=None if self.bar_width is None else max(1, self.bar_width),\n            pulse=not task.started,\n            animation_time=task.get_time(),\n            style=self.style,\n            complete_style=self.complete_style,\n            finished_style=self.finished_style,\n            pulse_style=self.pulse_style,\n        )\n\n\nclass TimeElapsedColumn(ProgressColumn):\n    \"\"\"Renders time elapsed.\"\"\"\n\n    def render(self, task: \"Task\") -> Text:\n        \"\"\"Show time elapsed.\"\"\"\n        elapsed = task.finished_time if task.finished else task.elapsed\n        if elapsed is None:\n            return Text(\"-:--:--\", style=\"progress.elapsed\")\n        delta = timedelta(seconds=max(0, int(elapsed)))\n        return Text(str(delta), style=\"progress.elapsed\")\n\n\nclass TaskProgressColumn(TextColumn):\n    \"\"\"Show task progress as a percentage.\n\n    Args:\n        text_format (str, optional): Format for percentage display. Defaults to \"[progress.percentage]{task.percentage:>3.0f}%\".\n        text_format_no_percentage (str, optional): Format if percentage is unknown. Defaults to \"\".\n        style (StyleType, optional): Style of output. Defaults to \"none\".\n        justify (JustifyMethod, optional): Text justification. Defaults to \"left\".\n        markup (bool, optional): Enable markup. Defaults to True.\n        highlighter (Optional[Highlighter], optional): Highlighter to apply to output. Defaults to None.\n        table_column (Optional[Column], optional): Table Column to use. Defaults to None.\n        show_speed (bool, optional): Show speed if total is unknown. Defaults to False.\n    \"\"\"\n\n    def __init__(\n        self,\n        text_format: str = \"[progress.percentage]{task.percentage:>3.0f}%\",\n        text_format_no_percentage: str = \"\",\n        style: StyleType = \"none\",\n        justify: JustifyMethod = \"left\",\n        markup: bool = True,\n        highlighter: Optional[Highlighter] = None,\n        table_column: Optional[Column] = None,\n        show_speed: bool = False,\n    ) -> None:\n        self.text_format_no_percentage = text_format_no_percentage\n        self.show_speed = show_speed\n        super().__init__(\n            text_format=text_format,\n            style=style,\n            justify=justify,\n            markup=markup,\n            highlighter=highlighter,\n            table_column=table_column,\n        )\n\n    @classmethod\n    def render_speed(cls, speed: Optional[float]) -> Text:\n        \"\"\"Render the speed in iterations per second.\n\n        Args:\n            task (Task): A Task object.\n\n        Returns:\n            Text: Text object containing the task speed.\n        \"\"\"\n        if speed is None:\n            return Text(\"\", style=\"progress.percentage\")\n        unit, suffix = filesize.pick_unit_and_suffix(\n            int(speed),\n            [\"\", \"10\", \"10\", \"10\", \"10\"],\n            1000,\n        )\n        data_speed = speed / unit\n        return Text(f\"{data_speed:.1f}{suffix} it/s\", style=\"progress.percentage\")\n\n    def render(self, task: \"Task\") -> Text:\n        if task.total is None and self.show_speed:\n            return self.render_speed(task.finished_speed or task.speed)\n        text_format = (\n            self.text_format_no_percentage if task.total is None else self.text_format\n        )\n        _text = text_format.format(task=task)\n        if self.markup:\n            text = Text.from_markup(_text, style=self.style, justify=self.justify)\n        else:\n            text = Text(_text, style=self.style, justify=self.justify)\n        if self.highlighter:\n            self.highlighter.highlight(text)\n        return text\n\n\nclass TimeRemainingColumn(ProgressColumn):\n    \"\"\"Renders estimated time remaining.\n\n    Args:\n        compact (bool, optional): Render MM:SS when time remaining is less than an hour. Defaults to False.\n        elapsed_when_finished (bool, optional): Render time elapsed when the task is finished. Defaults to False.\n    \"\"\"\n\n    # Only refresh twice a second to prevent jitter\n    max_refresh = 0.5\n\n    def __init__(\n        self,\n        compact: bool = False,\n        elapsed_when_finished: bool = False,\n        table_column: Optional[Column] = None,\n    ):\n        self.compact = compact\n        self.elapsed_when_finished = elapsed_when_finished\n        super().__init__(table_column=table_column)\n\n    def render(self, task: \"Task\") -> Text:\n        \"\"\"Show time remaining.\"\"\"\n        if self.elapsed_when_finished and task.finished:\n            task_time = task.finished_time\n            style = \"progress.elapsed\"\n        else:\n            task_time = task.time_remaining\n            style = \"progress.remaining\"\n\n        if task.total is None:\n            return Text(\"\", style=style)\n\n        if task_time is None:\n            return Text(\"--:--\" if self.compact else \"-:--:--\", style=style)\n\n        # Based on https://github.com/tqdm/tqdm/blob/master/tqdm/std.py\n        minutes, seconds = divmod(int(task_time), 60)\n        hours, minutes = divmod(minutes, 60)\n\n        if self.compact and not hours:\n            formatted = f\"{minutes:02d}:{seconds:02d}\"\n        else:\n            formatted = f\"{hours:d}:{minutes:02d}:{seconds:02d}\"\n\n        return Text(formatted, style=style)\n\n\nclass FileSizeColumn(ProgressColumn):\n    \"\"\"Renders completed filesize.\"\"\"\n\n    def render(self, task: \"Task\") -> Text:\n        \"\"\"Show data completed.\"\"\"\n        data_size = filesize.decimal(int(task.completed))\n        return Text(data_size, style=\"progress.filesize\")\n\n\nclass TotalFileSizeColumn(ProgressColumn):\n    \"\"\"Renders total filesize.\"\"\"\n\n    def render(self, task: \"Task\") -> Text:\n        \"\"\"Show data completed.\"\"\"\n        data_size = filesize.decimal(int(task.total)) if task.total is not None else \"\"\n        return Text(data_size, style=\"progress.filesize.total\")\n\n\nclass MofNCompleteColumn(ProgressColumn):\n    \"\"\"Renders completed count/total, e.g. '  10/1000'.\n\n    Best for bounded tasks with int quantities.\n\n    Space pads the completed count so that progress length does not change as task progresses\n    past powers of 10.\n\n    Args:\n        separator (str, optional): Text to separate completed and total values. Defaults to \"/\".\n    \"\"\"\n\n    def __init__(self, separator: str = \"/\", table_column: Optional[Column] = None):\n        self.separator = separator\n        super().__init__(table_column=table_column)\n\n    def render(self, task: \"Task\") -> Text:\n        \"\"\"Show completed/total.\"\"\"\n        completed = int(task.completed)\n        total = int(task.total) if task.total is not None else \"?\"\n        total_width = len(str(total))\n        return Text(\n            f\"{completed:{total_width}d}{self.separator}{total}\",\n            style=\"progress.download\",\n        )\n\n\nclass DownloadColumn(ProgressColumn):\n    \"\"\"Renders file size downloaded and total, e.g. '0.5/2.3 GB'.\n\n    Args:\n        binary_units (bool, optional): Use binary units, KiB, MiB etc. Defaults to False.\n    \"\"\"\n\n    def __init__(\n        self, binary_units: bool = False, table_column: Optional[Column] = None\n    ) -> None:\n        self.binary_units = binary_units\n        super().__init__(table_column=table_column)\n\n    def render(self, task: \"Task\") -> Text:\n        \"\"\"Calculate common unit for completed and total.\"\"\"\n        completed = int(task.completed)\n\n        unit_and_suffix_calculation_base = (\n            int(task.total) if task.total is not None else completed\n        )\n        if self.binary_units:\n            unit, suffix = filesize.pick_unit_and_suffix(\n                unit_and_suffix_calculation_base,\n                [\"bytes\", \"KiB\", \"MiB\", \"GiB\", \"TiB\", \"PiB\", \"EiB\", \"ZiB\", \"YiB\"],\n                1024,\n            )\n        else:\n            unit, suffix = filesize.pick_unit_and_suffix(\n                unit_and_suffix_calculation_base,\n                [\"bytes\", \"kB\", \"MB\", \"GB\", \"TB\", \"PB\", \"EB\", \"ZB\", \"YB\"],\n                1000,\n            )\n        precision = 0 if unit == 1 else 1\n\n        completed_ratio = completed / unit\n        completed_str = f\"{completed_ratio:,.{precision}f}\"\n\n        if task.total is not None:\n            total = int(task.total)\n            total_ratio = total / unit\n            total_str = f\"{total_ratio:,.{precision}f}\"\n        else:\n            total_str = \"?\"\n\n        download_status = f\"{completed_str}/{total_str} {suffix}\"\n        download_text = Text(download_status, style=\"progress.download\")\n        return download_text\n\n\nclass TransferSpeedColumn(ProgressColumn):\n    \"\"\"Renders human readable transfer speed.\"\"\"\n\n    def render(self, task: \"Task\") -> Text:\n        \"\"\"Show data transfer speed.\"\"\"\n        speed = task.finished_speed or task.speed\n        if speed is None:\n            return Text(\"?\", style=\"progress.data.speed\")\n        data_speed = filesize.decimal(int(speed))\n        return Text(f\"{data_speed}/s\", style=\"progress.data.speed\")\n\n\nclass ProgressSample(NamedTuple):\n    \"\"\"Sample of progress for a given time.\"\"\"\n\n    timestamp: float\n    \"\"\"Timestamp of sample.\"\"\"\n    completed: float\n    \"\"\"Number of steps completed.\"\"\"\n\n\n@dataclass\nclass Task:\n    \"\"\"Information regarding a progress task.\n\n    This object should be considered read-only outside of the :class:`~Progress` class.\n\n    \"\"\"\n\n    id: TaskID\n    \"\"\"Task ID associated with this task (used in Progress methods).\"\"\"\n\n    description: str\n    \"\"\"str: Description of the task.\"\"\"\n\n    total: Optional[float]\n    \"\"\"Optional[float]: Total number of steps in this task.\"\"\"\n\n    completed: float\n    \"\"\"float: Number of steps completed\"\"\"\n\n    _get_time: GetTimeCallable\n    \"\"\"Callable to get the current time.\"\"\"\n\n    finished_time: Optional[float] = None\n    \"\"\"float: Time task was finished.\"\"\"\n\n    visible: bool = True\n    \"\"\"bool: Indicates if this task is visible in the progress display.\"\"\"\n\n    fields: Dict[str, Any] = field(default_factory=dict)\n    \"\"\"dict: Arbitrary fields passed in via Progress.update.\"\"\"\n\n    start_time: Optional[float] = field(default=None, init=False, repr=False)\n    \"\"\"Optional[float]: Time this task was started, or None if not started.\"\"\"\n\n    stop_time: Optional[float] = field(default=None, init=False, repr=False)\n    \"\"\"Optional[float]: Time this task was stopped, or None if not stopped.\"\"\"\n\n    finished_speed: Optional[float] = None\n    \"\"\"Optional[float]: The last speed for a finished task.\"\"\"\n\n    _progress: Deque[ProgressSample] = field(\n        default_factory=lambda: deque(maxlen=1000), init=False, repr=False\n    )\n\n    _lock: RLock = field(repr=False, default_factory=RLock)\n    \"\"\"Thread lock.\"\"\"\n\n    def get_time(self) -> float:\n        \"\"\"float: Get the current time, in seconds.\"\"\"\n        return self._get_time()\n\n    @property\n    def started(self) -> bool:\n        \"\"\"bool: Check if the task as started.\"\"\"\n        return self.start_time is not None\n\n    @property\n    def remaining(self) -> Optional[float]:\n        \"\"\"Optional[float]: Get the number of steps remaining, if a non-None total was set.\"\"\"\n        if self.total is None:\n            return None\n        return self.total - self.completed\n\n    @property\n    def elapsed(self) -> Optional[float]:\n        \"\"\"Optional[float]: Time elapsed since task was started, or ``None`` if the task hasn't started.\"\"\"\n        if self.start_time is None:\n            return None\n        if self.stop_time is not None:\n            return self.stop_time - self.start_time\n        return self.get_time() - self.start_time\n\n    @property\n    def finished(self) -> bool:\n        \"\"\"Check if the task has finished.\"\"\"\n        return self.finished_time is not None\n\n    @property\n    def percentage(self) -> float:\n        \"\"\"float: Get progress of task as a percentage. If a None total was set, returns 0\"\"\"\n        if not self.total:\n            return 0.0\n        completed = (self.completed / self.total) * 100.0\n        completed = min(100.0, max(0.0, completed))\n        return completed\n\n    @property\n    def speed(self) -> Optional[float]:\n        \"\"\"Optional[float]: Get the estimated speed in steps per second.\"\"\"\n        if self.start_time is None:\n            return None\n        with self._lock:\n            progress = self._progress\n            if not progress:\n                return None\n            total_time = progress[-1].timestamp - progress[0].timestamp\n            if total_time == 0:\n                return None\n            iter_progress = iter(progress)\n            next(iter_progress)\n            total_completed = sum(sample.completed for sample in iter_progress)\n            speed = total_completed / total_time\n            return speed\n\n    @property\n    def time_remaining(self) -> Optional[float]:\n        \"\"\"Optional[float]: Get estimated time to completion, or ``None`` if no data.\"\"\"\n        if self.finished:\n            return 0.0\n        speed = self.speed\n        if not speed:\n            return None\n        remaining = self.remaining\n        if remaining is None:\n            return None\n        estimate = ceil(remaining / speed)\n        return estimate\n\n    def _reset(self) -> None:\n        \"\"\"Reset progress.\"\"\"\n        self._progress.clear()\n        self.finished_time = None\n        self.finished_speed = None\n\n\nclass Progress(JupyterMixin):\n    \"\"\"Renders an auto-updating progress bar(s).\n\n    Args:\n        console (Console, optional): Optional Console instance. Defaults to an internal Console instance writing to stdout.\n        auto_refresh (bool, optional): Enable auto refresh. If disabled, you will need to call `refresh()`.\n        refresh_per_second (Optional[float], optional): Number of times per second to refresh the progress information or None to use default (10). Defaults to None.\n        speed_estimate_period: (float, optional): Period (in seconds) used to calculate the speed estimate. Defaults to 30.\n        transient: (bool, optional): Clear the progress on exit. Defaults to False.\n        redirect_stdout: (bool, optional): Enable redirection of stdout, so ``print`` may be used. Defaults to True.\n        redirect_stderr: (bool, optional): Enable redirection of stderr. Defaults to True.\n        get_time: (Callable, optional): A callable that gets the current time, or None to use Console.get_time. Defaults to None.\n        disable (bool, optional): Disable progress display. Defaults to False\n        expand (bool, optional): Expand tasks table to fit width. Defaults to False.\n    \"\"\"\n\n    def __init__(\n        self,\n        *columns: Union[str, ProgressColumn],\n        console: Optional[Console] = None,\n        auto_refresh: bool = True,\n        refresh_per_second: float = 10,\n        speed_estimate_period: float = 30.0,\n        transient: bool = False,\n        redirect_stdout: bool = True,\n        redirect_stderr: bool = True,\n        get_time: Optional[GetTimeCallable] = None,\n        disable: bool = False,\n        expand: bool = False,\n    ) -> None:\n        assert refresh_per_second > 0, \"refresh_per_second must be > 0\"\n        self._lock = RLock()\n        self.columns = columns or self.get_default_columns()\n        self.speed_estimate_period = speed_estimate_period\n\n        self.disable = disable\n        self.expand = expand\n        self._tasks: Dict[TaskID, Task] = {}\n        self._task_index: TaskID = TaskID(0)\n        self.live = Live(\n            console=console or get_console(),\n            auto_refresh=auto_refresh,\n            refresh_per_second=refresh_per_second,\n            transient=transient,\n            redirect_stdout=redirect_stdout,\n            redirect_stderr=redirect_stderr,\n            get_renderable=self.get_renderable,\n        )\n        self.get_time = get_time or self.console.get_time\n        self.print = self.console.print\n        self.log = self.console.log\n\n    @classmethod\n    def get_default_columns(cls) -> Tuple[ProgressColumn, ...]:\n        \"\"\"Get the default columns used for a new Progress instance:\n           - a text column for the description (TextColumn)\n           - the bar itself (BarColumn)\n           - a text column showing completion percentage (TextColumn)\n           - an estimated-time-remaining column (TimeRemainingColumn)\n        If the Progress instance is created without passing a columns argument,\n        the default columns defined here will be used.\n\n        You can also create a Progress instance using custom columns before\n        and/or after the defaults, as in this example:\n\n            progress = Progress(\n                SpinnerColumn(),\n                *Progress.get_default_columns(),\n                \"Elapsed:\",\n                TimeElapsedColumn(),\n            )\n\n        This code shows the creation of a Progress display, containing\n        a spinner to the left, the default columns, and a labeled elapsed\n        time column.\n        \"\"\"\n        return (\n            TextColumn(\"[progress.description]{task.description}\"),\n            BarColumn(),\n            TaskProgressColumn(),\n            TimeRemainingColumn(),\n        )\n\n    @property\n    def console(self) -> Console:\n        return self.live.console\n\n    @property\n    def tasks(self) -> List[Task]:\n        \"\"\"Get a list of Task instances.\"\"\"\n        with self._lock:\n            return list(self._tasks.values())\n\n    @property\n    def task_ids(self) -> List[TaskID]:\n        \"\"\"A list of task IDs.\"\"\"\n        with self._lock:\n            return list(self._tasks.keys())\n\n    @property\n    def finished(self) -> bool:\n        \"\"\"Check if all tasks have been completed.\"\"\"\n        with self._lock:\n            if not self._tasks:\n                return True\n            return all(task.finished for task in self._tasks.values())\n\n    def start(self) -> None:\n        \"\"\"Start the progress display.\"\"\"\n        if not self.disable:\n            self.live.start(refresh=True)\n\n    def stop(self) -> None:\n        \"\"\"Stop the progress display.\"\"\"\n        self.live.stop()\n        if not self.console.is_interactive and not self.console.is_jupyter:\n            self.console.print()\n\n    def __enter__(self) -> Self:\n        self.start()\n        return self\n\n    def __exit__(\n        self,\n        exc_type: Optional[Type[BaseException]],\n        exc_val: Optional[BaseException],\n        exc_tb: Optional[TracebackType],\n    ) -> None:\n        self.stop()\n\n    def track(\n        self,\n        sequence: Union[Iterable[ProgressType], Sequence[ProgressType]],\n        total: Optional[float] = None,\n        completed: int = 0,\n        task_id: Optional[TaskID] = None,\n        description: str = \"Working...\",\n        update_period: float = 0.1,\n    ) -> Iterable[ProgressType]:\n        \"\"\"Track progress by iterating over a sequence.\n\n        Args:\n            sequence (Sequence[ProgressType]): A sequence of values you want to iterate over and track progress.\n            total: (float, optional): Total number of steps. Default is len(sequence).\n            completed (int, optional): Number of steps completed so far. Defaults to 0.\n            task_id: (TaskID): Task to track. Default is new task.\n            description: (str, optional): Description of task, if new task is created.\n            update_period (float, optional): Minimum time (in seconds) between calls to update(). Defaults to 0.1.\n\n        Returns:\n            Iterable[ProgressType]: An iterable of values taken from the provided sequence.\n        \"\"\"\n        if total is None:\n            total = float(length_hint(sequence)) or None\n\n        if task_id is None:\n            task_id = self.add_task(description, total=total, completed=completed)\n        else:\n            self.update(task_id, total=total, completed=completed)\n\n        if self.live.auto_refresh:\n            with _TrackThread(self, task_id, update_period) as track_thread:\n                for value in sequence:\n                    yield value\n                    track_thread.completed += 1\n        else:\n            advance = self.advance\n            refresh = self.refresh\n            for value in sequence:\n                yield value\n                advance(task_id, 1)\n                refresh()\n\n    def wrap_file(\n        self,\n        file: BinaryIO,\n        total: Optional[int] = None,\n        *,\n        task_id: Optional[TaskID] = None,\n        description: str = \"Reading...\",\n    ) -> BinaryIO:\n        \"\"\"Track progress file reading from a binary file.\n\n        Args:\n            file (BinaryIO): A file-like object opened in binary mode.\n            total (int, optional): Total number of bytes to read. This must be provided unless a task with a total is also given.\n            task_id (TaskID): Task to track. Default is new task.\n            description (str, optional): Description of task, if new task is created.\n\n        Returns:\n            BinaryIO: A readable file-like object in binary mode.\n\n        Raises:\n            ValueError: When no total value can be extracted from the arguments or the task.\n        \"\"\"\n        # attempt to recover the total from the task\n        total_bytes: Optional[float] = None\n        if total is not None:\n            total_bytes = total\n        elif task_id is not None:\n            with self._lock:\n                total_bytes = self._tasks[task_id].total\n        if total_bytes is None:\n            raise ValueError(\n                f\"unable to get the total number of bytes, please specify 'total'\"\n            )\n\n        # update total of task or create new task\n        if task_id is None:\n            task_id = self.add_task(description, total=total_bytes)\n        else:\n            self.update(task_id, total=total_bytes)\n\n        return _Reader(file, self, task_id, close_handle=False)\n\n    @typing.overload\n    def open(\n        self,\n        file: Union[str, \"PathLike[str]\", bytes],\n        mode: Literal[\"rb\"],\n        buffering: int = -1,\n        encoding: Optional[str] = None,\n        errors: Optional[str] = None,\n        newline: Optional[str] = None,\n        *,\n        total: Optional[int] = None,\n        task_id: Optional[TaskID] = None,\n        description: str = \"Reading...\",\n    ) -> BinaryIO:\n        pass\n\n    @typing.overload\n    def open(\n        self,\n        file: Union[str, \"PathLike[str]\", bytes],\n        mode: Union[Literal[\"r\"], Literal[\"rt\"]],\n        buffering: int = -1,\n        encoding: Optional[str] = None,\n        errors: Optional[str] = None,\n        newline: Optional[str] = None,\n        *,\n        total: Optional[int] = None,\n        task_id: Optional[TaskID] = None,\n        description: str = \"Reading...\",\n    ) -> TextIO:\n        pass\n\n    def open(\n        self,\n        file: Union[str, \"PathLike[str]\", bytes],\n        mode: Union[Literal[\"rb\"], Literal[\"rt\"], Literal[\"r\"]] = \"r\",\n        buffering: int = -1,\n        encoding: Optional[str] = None,\n        errors: Optional[str] = None,\n        newline: Optional[str] = None,\n        *,\n        total: Optional[int] = None,\n        task_id: Optional[TaskID] = None,\n        description: str = \"Reading...\",\n    ) -> Union[BinaryIO, TextIO]:\n        \"\"\"Track progress while reading from a binary file.\n\n        Args:\n            path (Union[str, PathLike[str]]): The path to the file to read.\n            mode (str): The mode to use to open the file. Only supports \"r\", \"rb\" or \"rt\".\n            buffering (int): The buffering strategy to use, see :func:`io.open`.\n            encoding (str, optional): The encoding to use when reading in text mode, see :func:`io.open`.\n            errors (str, optional): The error handling strategy for decoding errors, see :func:`io.open`.\n            newline (str, optional): The strategy for handling newlines in text mode, see :func:`io.open`.\n            total (int, optional): Total number of bytes to read. If none given, os.stat(path).st_size is used.\n            task_id (TaskID): Task to track. Default is new task.\n            description (str, optional): Description of task, if new task is created.\n\n        Returns:\n            BinaryIO: A readable file-like object in binary mode.\n\n        Raises:\n            ValueError: When an invalid mode is given.\n        \"\"\"\n        # normalize the mode (always rb, rt)\n        _mode = \"\".join(sorted(mode, reverse=False))\n        if _mode not in (\"br\", \"rt\", \"r\"):\n            raise ValueError(f\"invalid mode {mode!r}\")\n\n        # patch buffering to provide the same behaviour as the builtin `open`\n        line_buffering = buffering == 1\n        if _mode == \"br\" and buffering == 1:\n            warnings.warn(\n                \"line buffering (buffering=1) isn't supported in binary mode, the default buffer size will be used\",\n                RuntimeWarning,\n            )\n            buffering = -1\n        elif _mode in (\"rt\", \"r\"):\n            if buffering == 0:\n                raise ValueError(\"can't have unbuffered text I/O\")\n            elif buffering == 1:\n                buffering = -1\n\n        # attempt to get the total with `os.stat`\n        if total is None:\n            total = stat(file).st_size\n\n        # update total of task or create new task\n        if task_id is None:\n            task_id = self.add_task(description, total=total)\n        else:\n            self.update(task_id, total=total)\n\n        # open the file in binary mode,\n        handle = io.open(file, \"rb\", buffering=buffering)\n        reader = _Reader(handle, self, task_id, close_handle=True)\n\n        # wrap the reader in a `TextIOWrapper` if text mode\n        if mode in (\"r\", \"rt\"):\n            return io.TextIOWrapper(\n                reader,\n                encoding=encoding,\n                errors=errors,\n                newline=newline,\n                line_buffering=line_buffering,\n            )\n\n        return reader\n\n    def start_task(self, task_id: TaskID) -> None:\n        \"\"\"Start a task.\n\n        Starts a task (used when calculating elapsed time). You may need to call this manually,\n        if you called ``add_task`` with ``start=False``.\n\n        Args:\n            task_id (TaskID): ID of task.\n        \"\"\"\n        with self._lock:\n            task = self._tasks[task_id]\n            if task.start_time is None:\n                task.start_time = self.get_time()\n\n    def stop_task(self, task_id: TaskID) -> None:\n        \"\"\"Stop a task.\n\n        This will freeze the elapsed time on the task.\n\n        Args:\n            task_id (TaskID): ID of task.\n        \"\"\"\n        with self._lock:\n            task = self._tasks[task_id]\n            current_time = self.get_time()\n            if task.start_time is None:\n                task.start_time = current_time\n            task.stop_time = current_time\n\n    def update(\n        self,\n        task_id: TaskID,\n        *,\n        total: Optional[float] = None,\n        completed: Optional[float] = None,\n        advance: Optional[float] = None,\n        description: Optional[str] = None,\n        visible: Optional[bool] = None,\n        refresh: bool = False,\n        **fields: Any,\n    ) -> None:\n        \"\"\"Update information associated with a task.\n\n        Args:\n            task_id (TaskID): Task id (returned by add_task).\n            total (float, optional): Updates task.total if not None.\n            completed (float, optional): Updates task.completed if not None.\n            advance (float, optional): Add a value to task.completed if not None.\n            description (str, optional): Change task description if not None.\n            visible (bool, optional): Set visible flag if not None.\n            refresh (bool): Force a refresh of progress information. Default is False.\n            **fields (Any): Additional data fields required for rendering.\n        \"\"\"\n        with self._lock:\n            task = self._tasks[task_id]\n            completed_start = task.completed\n\n            if total is not None and total != task.total:\n                task.total = total\n                task._reset()\n            if advance is not None:\n                task.completed += advance\n            if completed is not None:\n                task.completed = completed\n            if description is not None:\n                task.description = description\n            if visible is not None:\n                task.visible = visible\n            task.fields.update(fields)\n            update_completed = task.completed - completed_start\n\n            current_time = self.get_time()\n            old_sample_time = current_time - self.speed_estimate_period\n            _progress = task._progress\n\n            popleft = _progress.popleft\n            while _progress and _progress[0].timestamp < old_sample_time:\n                popleft()\n            if update_completed > 0:\n                _progress.append(ProgressSample(current_time, update_completed))\n            if (\n                task.total is not None\n                and task.completed >= task.total\n                and task.finished_time is None\n            ):\n                task.finished_time = task.elapsed\n\n        if refresh:\n            self.refresh()\n\n    def reset(\n        self,\n        task_id: TaskID,\n        *,\n        start: bool = True,\n        total: Optional[float] = None,\n        completed: int = 0,\n        visible: Optional[bool] = None,\n        description: Optional[str] = None,\n        **fields: Any,\n    ) -> None:\n        \"\"\"Reset a task so completed is 0 and the clock is reset.\n\n        Args:\n            task_id (TaskID): ID of task.\n            start (bool, optional): Start the task after reset. Defaults to True.\n            total (float, optional): New total steps in task, or None to use current total. Defaults to None.\n            completed (int, optional): Number of steps completed. Defaults to 0.\n            visible (bool, optional): Enable display of the task. Defaults to True.\n            description (str, optional): Change task description if not None. Defaults to None.\n            **fields (str): Additional data fields required for rendering.\n        \"\"\"\n        current_time = self.get_time()\n        with self._lock:\n            task = self._tasks[task_id]\n            task._reset()\n            task.start_time = current_time if start else None\n            if total is not None:\n                task.total = total\n            task.completed = completed\n            if visible is not None:\n                task.visible = visible\n            if fields:\n                task.fields = fields\n            if description is not None:\n                task.description = description\n            task.finished_time = None\n        self.refresh()\n\n    def advance(self, task_id: TaskID, advance: float = 1) -> None:\n        \"\"\"Advance task by a number of steps.\n\n        Args:\n            task_id (TaskID): ID of task.\n            advance (float): Number of steps to advance. Default is 1.\n        \"\"\"\n        current_time = self.get_time()\n        with self._lock:\n            task = self._tasks[task_id]\n            completed_start = task.completed\n            task.completed += advance\n            update_completed = task.completed - completed_start\n            old_sample_time = current_time - self.speed_estimate_period\n            _progress = task._progress\n\n            popleft = _progress.popleft\n            while _progress and _progress[0].timestamp < old_sample_time:\n                popleft()\n            while len(_progress) > 1000:\n                popleft()\n            _progress.append(ProgressSample(current_time, update_completed))\n            if (\n                task.total is not None\n                and task.completed >= task.total\n                and task.finished_time is None\n            ):\n                task.finished_time = task.elapsed\n                task.finished_speed = task.speed\n\n    def refresh(self) -> None:\n        \"\"\"Refresh (render) the progress information.\"\"\"\n        if not self.disable and self.live.is_started:\n            self.live.refresh()\n\n    def get_renderable(self) -> RenderableType:\n        \"\"\"Get a renderable for the progress display.\"\"\"\n        renderable = Group(*self.get_renderables())\n        return renderable\n\n    def get_renderables(self) -> Iterable[RenderableType]:\n        \"\"\"Get a number of renderables for the progress display.\"\"\"\n        table = self.make_tasks_table(self.tasks)\n        yield table\n\n    def make_tasks_table(self, tasks: Iterable[Task]) -> Table:\n        \"\"\"Get a table to render the Progress display.\n\n        Args:\n            tasks (Iterable[Task]): An iterable of Task instances, one per row of the table.\n\n        Returns:\n            Table: A table instance.\n        \"\"\"\n        table_columns = (\n            (\n                Column(no_wrap=True)\n                if isinstance(_column, str)\n                else _column.get_table_column().copy()\n            )\n            for _column in self.columns\n        )\n        table = Table.grid(*table_columns, padding=(0, 1), expand=self.expand)\n\n        for task in tasks:\n            if task.visible:\n                table.add_row(\n                    *(\n                        (\n                            column.format(task=task)\n                            if isinstance(column, str)\n                            else column(task)\n                        )\n                        for column in self.columns\n                    )\n                )\n        return table\n\n    def __rich__(self) -> RenderableType:\n        \"\"\"Makes the Progress class itself renderable.\"\"\"\n        with self._lock:\n            return self.get_renderable()\n\n    def add_task(\n        self,\n        description: str,\n        start: bool = True,\n        total: Optional[float] = 100.0,\n        completed: int = 0,\n        visible: bool = True,\n        **fields: Any,\n    ) -> TaskID:\n        \"\"\"Add a new 'task' to the Progress display.\n\n        Args:\n            description (str): A description of the task.\n            start (bool, optional): Start the task immediately (to calculate elapsed time). If set to False,\n                you will need to call `start` manually. Defaults to True.\n            total (float, optional): Number of total steps in the progress if known.\n                Set to None to render a pulsing animation. Defaults to 100.\n            completed (int, optional): Number of steps completed so far. Defaults to 0.\n            visible (bool, optional): Enable display of the task. Defaults to True.\n            **fields (str): Additional data fields required for rendering.\n\n        Returns:\n            TaskID: An ID you can use when calling `update`.\n        \"\"\"\n        with self._lock:\n            task = Task(\n                self._task_index,\n                description,\n                total,\n                completed,\n                visible=visible,\n                fields=fields,\n                _get_time=self.get_time,\n                _lock=self._lock,\n            )\n            self._tasks[self._task_index] = task\n            if start:\n                self.start_task(self._task_index)\n            new_task_index = self._task_index\n            self._task_index = TaskID(int(self._task_index) + 1)\n        self.refresh()\n        return new_task_index\n\n    def remove_task(self, task_id: TaskID) -> None:\n        \"\"\"Delete a task if it exists.\n\n        Args:\n            task_id (TaskID): A task ID.\n\n        \"\"\"\n        with self._lock:\n            del self._tasks[task_id]\n\n\nif __name__ == \"__main__\":  # pragma: no coverage\n    import random\n    import time\n\n    from .panel import Panel\n    from .rule import Rule\n    from .syntax import Syntax\n    from .table import Table\n\n    syntax = Syntax(\n        '''def loop_last(values: Iterable[T]) -> Iterable[Tuple[bool, T]]:\n    \"\"\"Iterate and generate a tuple with a flag for last value.\"\"\"\n    iter_values = iter(values)\n    try:\n        previous_value = next(iter_values)\n    except StopIteration:\n        return\n    for value in iter_values:\n        yield False, previous_value\n        previous_value = value\n    yield True, previous_value''',\n        \"python\",\n        line_numbers=True,\n    )\n\n    table = Table(\"foo\", \"bar\", \"baz\")\n    table.add_row(\"1\", \"2\", \"3\")\n\n    progress_renderables = [\n        \"Text may be printed while the progress bars are rendering.\",\n        Panel(\"In fact, [i]any[/i] renderable will work\"),\n        \"Such as [magenta]tables[/]...\",\n        table,\n        \"Pretty printed structures...\",\n        {\"type\": \"example\", \"text\": \"Pretty printed\"},\n        \"Syntax...\",\n        syntax,\n        Rule(\"Give it a try!\"),\n    ]\n\n    from itertools import cycle\n\n    examples = cycle(progress_renderables)\n\n    console = Console(record=True)\n\n    with Progress(\n        SpinnerColumn(),\n        *Progress.get_default_columns(),\n        TimeElapsedColumn(),\n        console=console,\n        transient=False,\n    ) as progress:\n        task1 = progress.add_task(\"[red]Downloading\", total=1000)\n        task2 = progress.add_task(\"[green]Processing\", total=1000)\n        task3 = progress.add_task(\"[yellow]Thinking\", total=None)\n\n        while not progress.finished:\n            progress.update(task1, advance=0.5)\n            progress.update(task2, advance=0.3)\n            time.sleep(0.01)\n            if random.randint(0, 100) < 1:\n                progress.log(next(examples))\n",
    "start_line": 0
  },
  {
    "file": "_stack.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from typing import List, TypeVar",
    "start_line": 0
  },
  {
    "file": "_stack.py",
    "type": "constants",
    "class": null,
    "method": null,
    "name": "module_constants",
    "content": "T = TypeVar(\"T\")",
    "start_line": 2
  },
  {
    "file": "_stack.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "Stack",
    "content": "class Stack(List[T]):\n    \"\"\"A small shim over builtin list.\"\"\"\n\n    @property",
    "start_line": 5
  },
  {
    "file": "_stack.py",
    "type": "method",
    "class": "Stack",
    "method": "top",
    "name": "top",
    "content": "class Stack:\n    def top(self) -> T:\n        \"\"\"Get top of stack.\"\"\"\n        return self[-1]",
    "start_line": 9
  },
  {
    "file": "_stack.py",
    "type": "method",
    "class": "Stack",
    "method": "push",
    "name": "push",
    "content": "class Stack:\n    def push(self, item: T) -> None:\n        \"\"\"Push an item on to the stack (append in stack nomenclature).\"\"\"\n        self.append(item)",
    "start_line": 13
  },
  {
    "file": "_stack.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "from typing import List, TypeVar\n\nT = TypeVar(\"T\")\n\n\nclass Stack(List[T]):\n    \"\"\"A small shim over builtin list.\"\"\"\n\n    @property\n    def top(self) -> T:\n        \"\"\"Get top of stack.\"\"\"\n        return self[-1]\n\n    def push(self, item: T) -> None:\n        \"\"\"Push an item on to the stack (append in stack nomenclature).\"\"\"\n        self.append(item)\n",
    "start_line": 0
  },
  {
    "file": "_windows.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "import sys\nfrom dataclasses import dataclass\n@dataclass",
    "start_line": 0
  },
  {
    "file": "_windows.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "WindowsConsoleFeatures",
    "content": "class WindowsConsoleFeatures:\n    \"\"\"Windows features available.\"\"\"\n\n    vt: bool = False\n    \"\"\"The console supports VT codes.\"\"\"\n    truecolor: bool = False\n    \"\"\"The console supports truecolor.\"\"\"\n\n\ntry:",
    "start_line": 5
  },
  {
    "file": "_windows.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "import ctypes\n    from ctypes import LibraryLoader\n    if sys.platform == \"win32\":",
    "start_line": 15
  },
  {
    "file": "_windows.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "windll = LibraryLoader(ctypes.WinDLL)\n    else:\n        windll = None\n        raise ImportError(\"Not windows\")",
    "start_line": 19
  },
  {
    "file": "_windows.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from rich._win32_console import (\n        ENABLE_VIRTUAL_TERMINAL_PROCESSING,\n        GetConsoleMode,\n        GetStdHandle,\n        LegacyWindowsError,\n    )\nexcept (AttributeError, ImportError, ValueError):",
    "start_line": 24
  },
  {
    "file": "_windows.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# Fallback if we can't load the Windows DLL",
    "start_line": 32
  },
  {
    "file": "_windows.py",
    "type": "function",
    "class": null,
    "method": "get_windows_console_features",
    "name": "get_windows_console_features",
    "content": "def get_windows_console_features() -> WindowsConsoleFeatures:",
    "start_line": 33
  },
  {
    "file": "_windows.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "features = WindowsConsoleFeatures()\n        return features\nelse:",
    "start_line": 34
  },
  {
    "file": "_windows.py",
    "type": "function",
    "class": null,
    "method": "get_windows_console_features",
    "name": "get_windows_console_features",
    "content": "def get_windows_console_features() -> WindowsConsoleFeatures:\n        \"\"\"Get windows console features.\n\n        Returns:\n            WindowsConsoleFeatures: An instance of WindowsConsoleFeatures.\n        \"\"\"",
    "start_line": 39
  },
  {
    "file": "_windows.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "handle = GetStdHandle()\n        try:\n            console_mode = GetConsoleMode(handle)\n            success = True\n        except LegacyWindowsError:\n            console_mode = 0\n            success = False\n        vt = bool(success and console_mode & ENABLE_VIRTUAL_TERMINAL_PROCESSING)\n        truecolor = False\n        if vt:\n            win_version = sys.getwindowsversion()\n            truecolor = win_version.major > 10 or (\n                win_version.major == 10 and win_version.build >= 15063\n            )\n        features = WindowsConsoleFeatures(vt=vt, truecolor=truecolor)\n        return features\nif __name__ == \"__main__\":",
    "start_line": 45
  },
  {
    "file": "_windows.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "import platform",
    "start_line": 64
  },
  {
    "file": "_windows.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "features = get_windows_console_features()",
    "start_line": 66
  },
  {
    "file": "_windows.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from rich import print\n    print(f'platform=\"{platform.system()}\"')\n    print(repr(features))",
    "start_line": 67
  },
  {
    "file": "_windows.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "import sys\nfrom dataclasses import dataclass\n\n\n@dataclass\nclass WindowsConsoleFeatures:\n    \"\"\"Windows features available.\"\"\"\n\n    vt: bool = False\n    \"\"\"The console supports VT codes.\"\"\"\n    truecolor: bool = False\n    \"\"\"The console supports truecolor.\"\"\"\n\n\ntry:\n    import ctypes\n    from ctypes import LibraryLoader\n\n    if sys.platform == \"win32\":\n        windll = LibraryLoader(ctypes.WinDLL)\n    else:\n        windll = None\n        raise ImportError(\"Not windows\")\n\n    from rich._win32_console import (\n        ENABLE_VIRTUAL_TERMINAL_PROCESSING,\n        GetConsoleMode,\n        GetStdHandle,\n        LegacyWindowsError,\n    )\n\nexcept (AttributeError, ImportError, ValueError):\n    # Fallback if we can't load the Windows DLL\n    def get_windows_console_features() -> WindowsConsoleFeatures:\n        features = WindowsConsoleFeatures()\n        return features\n\nelse:\n\n    def get_windows_console_features() -> WindowsConsoleFeatures:\n        \"\"\"Get windows console features.\n\n        Returns:\n            WindowsConsoleFeatures: An instance of WindowsConsoleFeatures.\n        \"\"\"\n        handle = GetStdHandle()\n        try:\n            console_mode = GetConsoleMode(handle)\n            success = True\n        except LegacyWindowsError:\n            console_mode = 0\n            success = False\n        vt = bool(success and console_mode & ENABLE_VIRTUAL_TERMINAL_PROCESSING)\n        truecolor = False\n        if vt:\n            win_version = sys.getwindowsversion()\n            truecolor = win_version.major > 10 or (\n                win_version.major == 10 and win_version.build >= 15063\n            )\n        features = WindowsConsoleFeatures(vt=vt, truecolor=truecolor)\n        return features\n\n\nif __name__ == \"__main__\":\n    import platform\n\n    features = get_windows_console_features()\n    from rich import print\n\n    print(f'platform=\"{platform.system()}\"')\n    print(repr(features))\n",
    "start_line": 0
  },
  {
    "file": "_cell_widths.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# Auto generated by make_terminal_widths.py",
    "start_line": 0
  },
  {
    "file": "_cell_widths.py",
    "type": "constants",
    "class": null,
    "method": null,
    "name": "module_constants",
    "content": "CELL_WIDTHS = [\n    (0, 0, 0),\n    (1, 31, -1),\n    (127, 159, -1),\n    (173, 173, 0),\n    (768, 879, 0),\n    (1155, 1161, 0),\n    (1425, 1469, 0),\n    (1471, 1471, 0),\n    (1473, 1474, 0),\n    (1476, 1477, 0),\n    (1479, 1479, 0),\n    (1536, 1541, 0),\n    (1552, 1562, 0),\n    (1564, 1564, 0),\n    (1611, 1631, 0),\n    (1648, 1648, 0),\n    (1750, 1757, 0),\n    (1759, 1764, 0),\n    (1767, 1768, 0),\n    (1770, 1773, 0),\n    (1807, 1807, 0),\n    (1809, 1809, 0),\n    (1840, 1866, 0),\n    (1958, 1968, 0),\n    (2027, 2035, 0),\n    (2045, 2045, 0),\n    (2070, 2073, 0),\n    (2075, 2083, 0),\n    (2085, 2087, 0),\n    (2089, 2093, 0),\n    (2137, 2139, 0),\n    (2192, 2193, 0),\n    (2200, 2207, 0),\n    (2250, 2307, 0),\n    (2362, 2364, 0),\n    (2366, 2383, 0),\n    (2385, 2391, 0),\n    (2402, 2403, 0),\n    (2433, 2435, 0),\n    (2492, 2492, 0),\n    (2494, 2500, 0),\n    (2503, 2504, 0),\n    (2507, 2509, 0),\n    (2519, 2519, 0),\n    (2530, 2531, 0),\n    (2558, 2558, 0),\n    (2561, 2563, 0),\n    (2620, 2620, 0),\n    (2622, 2626, 0),\n    (2631, 2632, 0),\n    (2635, 2637, 0),\n    (2641, 2641, 0),\n    (2672, 2673, 0),\n    (2677, 2677, 0),\n    (2689, 2691, 0),\n    (2748, 2748, 0),\n    (2750, 2757, 0),\n    (2759, 2761, 0),\n    (2763, 2765, 0),\n    (2786, 2787, 0),\n    (2810, 2815, 0),\n    (2817, 2819, 0),\n    (2876, 2876, 0),\n    (2878, 2884, 0),\n    (2887, 2888, 0),\n    (2891, 2893, 0),\n    (2901, 2903, 0),\n    (2914, 2915, 0),\n    (2946, 2946, 0),\n    (3006, 3010, 0),\n    (3014, 3016, 0),\n    (3018, 3021, 0),\n    (3031, 3031, 0),\n    (3072, 3076, 0),\n    (3132, 3132, 0),\n    (3134, 3140, 0),\n    (3142, 3144, 0),\n    (3146, 3149, 0),\n    (3157, 3158, 0),\n    (3170, 3171, 0),\n    (3201, 3203, 0),\n    (3260, 3260, 0),\n    (3262, 3268, 0),\n    (3270, 3272, 0),\n    (3274, 3277, 0),\n    (3285, 3286, 0),\n    (3298, 3299, 0),\n    (3315, 3315, 0),\n    (3328, 3331, 0),\n    (3387, 3388, 0),\n    (3390, 3396, 0),\n    (3398, 3400, 0),\n    (3402, 3405, 0),\n    (3415, 3415, 0),\n    (3426, 3427, 0),\n    (3457, 3459, 0),\n    (3530, 3530, 0),\n    (3535, 3540, 0),\n    (3542, 3542, 0),\n    (3544, 3551, 0),\n    (3570, 3571, 0),\n    (3633, 3633, 0),\n    (3636, 3642, 0),\n    (3655, 3662, 0),\n    (3761, 3761, 0),\n    (3764, 3772, 0),\n    (3784, 3790, 0),\n    (3864, 3865, 0),\n    (3893, 3893, 0),\n    (3895, 3895, 0),\n    (3897, 3897, 0),\n    (3902, 3903, 0),\n    (3953, 3972, 0),\n    (3974, 3975, 0),\n    (3981, 3991, 0),\n    (3993, 4028, 0),\n    (4038, 4038, 0),\n    (4139, 4158, 0),\n    (4182, 4185, 0),\n    (4190, 4192, 0),\n    (4194, 4196, 0),\n    (4199, 4205, 0),\n    (4209, 4212, 0),\n    (4226, 4237, 0),\n    (4239, 4239, 0),\n    (4250, 4253, 0),\n    (4352, 4447, 2),\n    (4448, 4607, 0),\n    (4957, 4959, 0),\n    (5906, 5909, 0),\n    (5938, 5940, 0),\n    (5970, 5971, 0),\n    (6002, 6003, 0),\n    (6068, 6099, 0),\n    (6109, 6109, 0),\n    (6155, 6159, 0),\n    (6277, 6278, 0),\n    (6313, 6313, 0),\n    (6432, 6443, 0),\n    (6448, 6459, 0),\n    (6679, 6683, 0),\n    (6741, 6750, 0),\n    (6752, 6780, 0),\n    (6783, 6783, 0),\n    (6832, 6862, 0),\n    (6912, 6916, 0),\n    (6964, 6980, 0),\n    (7019, 7027, 0),\n    (7040, 7042, 0),\n    (7073, 7085, 0),\n    (7142, 7155, 0),\n    (7204, 7223, 0),\n    (7376, 7378, 0),\n    (7380, 7400, 0),\n    (7405, 7405, 0),\n    (7412, 7412, 0),\n    (7415, 7417, 0),\n    (7616, 7679, 0),\n    (8203, 8207, 0),\n    (8232, 8238, 0),\n    (8288, 8292, 0),\n    (8294, 8303, 0),\n    (8400, 8432, 0),\n    (8986, 8987, 2),\n    (9001, 9002, 2),\n    (9193, 9196, 2),\n    (9200, 9200, 2),\n    (9203, 9203, 2),\n    (9725, 9726, 2),\n    (9748, 9749, 2),\n    (9800, 9811, 2),\n    (9855, 9855, 2),\n    (9875, 9875, 2),\n    (9889, 9889, 2),\n    (9898, 9899, 2),\n    (9917, 9918, 2),\n    (9924, 9925, 2),\n    (9934, 9934, 2),\n    (9940, 9940, 2),\n    (9962, 9962, 2),\n    (9970, 9971, 2),\n    (9973, 9973, 2),\n    (9978, 9978, 2),\n    (9981, 9981, 2),\n    (9989, 9989, 2),\n    (9994, 9995, 2),\n    (10024, 10024, 2),\n    (10060, 10060, 2),\n    (10062, 10062, 2),\n    (10067, 10069, 2),\n    (10071, 10071, 2),\n    (10133, 10135, 2),\n    (10160, 10160, 2),\n    (10175, 10175, 2),\n    (11035, 11036, 2),\n    (11088, 11088, 2),\n    (11093, 11093, 2),\n    (11503, 11505, 0),\n    (11647, 11647, 0),\n    (11744, 11775, 0),\n    (11904, 11929, 2),\n    (11931, 12019, 2),\n    (12032, 12245, 2),\n    (12272, 12329, 2),\n    (12330, 12335, 0),\n    (12336, 12350, 2),\n    (12353, 12438, 2),\n    (12441, 12442, 0),\n    (12443, 12543, 2),\n    (12549, 12591, 2),\n    (12593, 12686, 2),\n    (12688, 12771, 2),\n    (12783, 12830, 2),\n    (12832, 12871, 2),\n    (12880, 19903, 2),\n    (19968, 42124, 2),\n    (42128, 42182, 2),\n    (42607, 42610, 0),\n    (42612, 42621, 0),\n    (42654, 42655, 0),\n    (42736, 42737, 0),\n    (43010, 43010, 0),\n    (43014, 43014, 0),\n    (43019, 43019, 0),\n    (43043, 43047, 0),\n    (43052, 43052, 0),\n    (43136, 43137, 0),\n    (43188, 43205, 0),\n    (43232, 43249, 0),\n    (43263, 43263, 0),\n    (43302, 43309, 0),\n    (43335, 43347, 0),\n    (43360, 43388, 2),\n    (43392, 43395, 0),\n    (43443, 43456, 0),\n    (43493, 43493, 0),\n    (43561, 43574, 0),\n    (43587, 43587, 0),\n    (43596, 43597, 0),\n    (43643, 43645, 0),\n    (43696, 43696, 0),\n    (43698, 43700, 0),\n    (43703, 43704, 0),\n    (43710, 43711, 0),\n    (43713, 43713, 0),\n    (43755, 43759, 0),\n    (43765, 43766, 0),\n    (44003, 44010, 0),\n    (44012, 44013, 0),\n    (44032, 55203, 2),\n    (55216, 55295, 0),\n    (63744, 64255, 2),\n    (64286, 64286, 0),\n    (65024, 65039, 0),\n    (65040, 65049, 2),\n    (65056, 65071, 0),\n    (65072, 65106, 2),\n    (65108, 65126, 2),\n    (65128, 65131, 2),\n    (65279, 65279, 0),\n    (65281, 65376, 2),\n    (65504, 65510, 2),\n    (65529, 65531, 0),\n    (66045, 66045, 0),\n    (66272, 66272, 0),\n    (66422, 66426, 0),\n    (68097, 68099, 0),\n    (68101, 68102, 0),\n    (68108, 68111, 0),\n    (68152, 68154, 0),\n    (68159, 68159, 0),\n    (68325, 68326, 0),\n    (68900, 68903, 0),\n    (69291, 69292, 0),\n    (69373, 69375, 0),\n    (69446, 69456, 0),\n    (69506, 69509, 0),\n    (69632, 69634, 0),\n    (69688, 69702, 0),\n    (69744, 69744, 0),\n    (69747, 69748, 0),\n    (69759, 69762, 0),\n    (69808, 69818, 0),\n    (69821, 69821, 0),\n    (69826, 69826, 0),\n    (69837, 69837, 0),\n    (69888, 69890, 0),\n    (69927, 69940, 0),\n    (69957, 69958, 0),\n    (70003, 70003, 0),\n    (70016, 70018, 0),\n    (70067, 70080, 0),\n    (70089, 70092, 0),\n    (70094, 70095, 0),\n    (70188, 70199, 0),\n    (70206, 70206, 0),\n    (70209, 70209, 0),\n    (70367, 70378, 0),\n    (70400, 70403, 0),\n    (70459, 70460, 0),\n    (70462, 70468, 0),\n    (70471, 70472, 0),\n    (70475, 70477, 0),\n    (70487, 70487, 0),\n    (70498, 70499, 0),\n    (70502, 70508, 0),\n    (70512, 70516, 0),\n    (70709, 70726, 0),\n    (70750, 70750, 0),\n    (70832, 70851, 0),\n    (71087, 71093, 0),\n    (71096, 71104, 0),\n    (71132, 71133, 0),\n    (71216, 71232, 0),\n    (71339, 71351, 0),\n    (71453, 71467, 0),\n    (71724, 71738, 0),\n    (71984, 71989, 0),\n    (71991, 71992, 0),\n    (71995, 71998, 0),\n    (72000, 72000, 0),\n    (72002, 72003, 0),\n    (72145, 72151, 0),\n    (72154, 72160, 0),\n    (72164, 72164, 0),\n    (72193, 72202, 0),\n    (72243, 72249, 0),\n    (72251, 72254, 0),\n    (72263, 72263, 0),\n    (72273, 72283, 0),\n    (72330, 72345, 0),\n    (72751, 72758, 0),\n    (72760, 72767, 0),\n    (72850, 72871, 0),\n    (72873, 72886, 0),\n    (73009, 73014, 0),\n    (73018, 73018, 0),\n    (73020, 73021, 0),\n    (73023, 73029, 0),\n    (73031, 73031, 0),\n    (73098, 73102, 0),\n    (73104, 73105, 0),\n    (73107, 73111, 0),\n    (73459, 73462, 0),\n    (73472, 73473, 0),\n    (73475, 73475, 0),\n    (73524, 73530, 0),\n    (73534, 73538, 0),\n    (78896, 78912, 0),\n    (78919, 78933, 0),\n    (92912, 92916, 0),\n    (92976, 92982, 0),\n    (94031, 94031, 0),\n    (94033, 94087, 0),\n    (94095, 94098, 0),\n    (94176, 94179, 2),\n    (94180, 94180, 0),\n    (94192, 94193, 0),\n    (94208, 100343, 2),\n    (100352, 101589, 2),\n    (101632, 101640, 2),\n    (110576, 110579, 2),\n    (110581, 110587, 2),\n    (110589, 110590, 2),\n    (110592, 110882, 2),\n    (110898, 110898, 2),\n    (110928, 110930, 2),\n    (110933, 110933, 2),\n    (110948, 110951, 2),\n    (110960, 111355, 2),\n    (113821, 113822, 0),\n    (113824, 113827, 0),\n    (118528, 118573, 0),\n    (118576, 118598, 0),\n    (119141, 119145, 0),\n    (119149, 119170, 0),\n    (119173, 119179, 0),\n    (119210, 119213, 0),\n    (119362, 119364, 0),\n    (121344, 121398, 0),\n    (121403, 121452, 0),\n    (121461, 121461, 0),\n    (121476, 121476, 0),\n    (121499, 121503, 0),\n    (121505, 121519, 0),\n    (122880, 122886, 0),\n    (122888, 122904, 0),\n    (122907, 122913, 0),\n    (122915, 122916, 0),\n    (122918, 122922, 0),\n    (123023, 123023, 0),\n    (123184, 123190, 0),\n    (123566, 123566, 0),\n    (123628, 123631, 0),\n    (124140, 124143, 0),\n    (125136, 125142, 0),\n    (125252, 125258, 0),\n    (126980, 126980, 2),\n    (127183, 127183, 2),\n    (127374, 127374, 2),\n    (127377, 127386, 2),\n    (127488, 127490, 2),\n    (127504, 127547, 2),\n    (127552, 127560, 2),\n    (127568, 127569, 2),\n    (127584, 127589, 2),\n    (127744, 127776, 2),\n    (127789, 127797, 2),\n    (127799, 127868, 2),\n    (127870, 127891, 2),\n    (127904, 127946, 2),\n    (127951, 127955, 2),\n    (127968, 127984, 2),\n    (127988, 127988, 2),\n    (127992, 127994, 2),\n    (127995, 127999, 0),\n    (128000, 128062, 2),\n    (128064, 128064, 2),\n    (128066, 128252, 2),\n    (128255, 128317, 2),\n    (128331, 128334, 2),\n    (128336, 128359, 2),\n    (128378, 128378, 2),\n    (128405, 128406, 2),\n    (128420, 128420, 2),\n    (128507, 128591, 2),\n    (128640, 128709, 2),\n    (128716, 128716, 2),\n    (128720, 128722, 2),\n    (128725, 128727, 2),\n    (128732, 128735, 2),\n    (128747, 128748, 2),\n    (128756, 128764, 2),\n    (128992, 129003, 2),\n    (129008, 129008, 2),\n    (129292, 129338, 2),\n    (129340, 129349, 2),\n    (129351, 129535, 2),\n    (129648, 129660, 2),\n    (129664, 129672, 2),\n    (129680, 129725, 2),\n    (129727, 129733, 2),\n    (129742, 129755, 2),\n    (129760, 129768, 2),\n    (129776, 129784, 2),\n    (131072, 196605, 2),\n    (196608, 262141, 2),\n    (917505, 917505, 0),\n    (917536, 917631, 0),\n    (917760, 917999, 0),\n]",
    "start_line": 2
  },
  {
    "file": "_cell_widths.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "# Auto generated by make_terminal_widths.py\n\nCELL_WIDTHS = [\n    (0, 0, 0),\n    (1, 31, -1),\n    (127, 159, -1),\n    (173, 173, 0),\n    (768, 879, 0),\n    (1155, 1161, 0),\n    (1425, 1469, 0),\n    (1471, 1471, 0),\n    (1473, 1474, 0),\n    (1476, 1477, 0),\n    (1479, 1479, 0),\n    (1536, 1541, 0),\n    (1552, 1562, 0),\n    (1564, 1564, 0),\n    (1611, 1631, 0),\n    (1648, 1648, 0),\n    (1750, 1757, 0),\n    (1759, 1764, 0),\n    (1767, 1768, 0),\n    (1770, 1773, 0),\n    (1807, 1807, 0),\n    (1809, 1809, 0),\n    (1840, 1866, 0),\n    (1958, 1968, 0),\n    (2027, 2035, 0),\n    (2045, 2045, 0),\n    (2070, 2073, 0),\n    (2075, 2083, 0),\n    (2085, 2087, 0),\n    (2089, 2093, 0),\n    (2137, 2139, 0),\n    (2192, 2193, 0),\n    (2200, 2207, 0),\n    (2250, 2307, 0),\n    (2362, 2364, 0),\n    (2366, 2383, 0),\n    (2385, 2391, 0),\n    (2402, 2403, 0),\n    (2433, 2435, 0),\n    (2492, 2492, 0),\n    (2494, 2500, 0),\n    (2503, 2504, 0),\n    (2507, 2509, 0),\n    (2519, 2519, 0),\n    (2530, 2531, 0),\n    (2558, 2558, 0),\n    (2561, 2563, 0),\n    (2620, 2620, 0),\n    (2622, 2626, 0),\n    (2631, 2632, 0),\n    (2635, 2637, 0),\n    (2641, 2641, 0),\n    (2672, 2673, 0),\n    (2677, 2677, 0),\n    (2689, 2691, 0),\n    (2748, 2748, 0),\n    (2750, 2757, 0),\n    (2759, 2761, 0),\n    (2763, 2765, 0),\n    (2786, 2787, 0),\n    (2810, 2815, 0),\n    (2817, 2819, 0),\n    (2876, 2876, 0),\n    (2878, 2884, 0),\n    (2887, 2888, 0),\n    (2891, 2893, 0),\n    (2901, 2903, 0),\n    (2914, 2915, 0),\n    (2946, 2946, 0),\n    (3006, 3010, 0),\n    (3014, 3016, 0),\n    (3018, 3021, 0),\n    (3031, 3031, 0),\n    (3072, 3076, 0),\n    (3132, 3132, 0),\n    (3134, 3140, 0),\n    (3142, 3144, 0),\n    (3146, 3149, 0),\n    (3157, 3158, 0),\n    (3170, 3171, 0),\n    (3201, 3203, 0),\n    (3260, 3260, 0),\n    (3262, 3268, 0),\n    (3270, 3272, 0),\n    (3274, 3277, 0),\n    (3285, 3286, 0),\n    (3298, 3299, 0),\n    (3315, 3315, 0),\n    (3328, 3331, 0),\n    (3387, 3388, 0),\n    (3390, 3396, 0),\n    (3398, 3400, 0),\n    (3402, 3405, 0),\n    (3415, 3415, 0),\n    (3426, 3427, 0),\n    (3457, 3459, 0),\n    (3530, 3530, 0),\n    (3535, 3540, 0),\n    (3542, 3542, 0),\n    (3544, 3551, 0),\n    (3570, 3571, 0),\n    (3633, 3633, 0),\n    (3636, 3642, 0),\n    (3655, 3662, 0),\n    (3761, 3761, 0),\n    (3764, 3772, 0),\n    (3784, 3790, 0),\n    (3864, 3865, 0),\n    (3893, 3893, 0),\n    (3895, 3895, 0),\n    (3897, 3897, 0),\n    (3902, 3903, 0),\n    (3953, 3972, 0),\n    (3974, 3975, 0),\n    (3981, 3991, 0),\n    (3993, 4028, 0),\n    (4038, 4038, 0),\n    (4139, 4158, 0),\n    (4182, 4185, 0),\n    (4190, 4192, 0),\n    (4194, 4196, 0),\n    (4199, 4205, 0),\n    (4209, 4212, 0),\n    (4226, 4237, 0),\n    (4239, 4239, 0),\n    (4250, 4253, 0),\n    (4352, 4447, 2),\n    (4448, 4607, 0),\n    (4957, 4959, 0),\n    (5906, 5909, 0),\n    (5938, 5940, 0),\n    (5970, 5971, 0),\n    (6002, 6003, 0),\n    (6068, 6099, 0),\n    (6109, 6109, 0),\n    (6155, 6159, 0),\n    (6277, 6278, 0),\n    (6313, 6313, 0),\n    (6432, 6443, 0),\n    (6448, 6459, 0),\n    (6679, 6683, 0),\n    (6741, 6750, 0),\n    (6752, 6780, 0),\n    (6783, 6783, 0),\n    (6832, 6862, 0),\n    (6912, 6916, 0),\n    (6964, 6980, 0),\n    (7019, 7027, 0),\n    (7040, 7042, 0),\n    (7073, 7085, 0),\n    (7142, 7155, 0),\n    (7204, 7223, 0),\n    (7376, 7378, 0),\n    (7380, 7400, 0),\n    (7405, 7405, 0),\n    (7412, 7412, 0),\n    (7415, 7417, 0),\n    (7616, 7679, 0),\n    (8203, 8207, 0),\n    (8232, 8238, 0),\n    (8288, 8292, 0),\n    (8294, 8303, 0),\n    (8400, 8432, 0),\n    (8986, 8987, 2),\n    (9001, 9002, 2),\n    (9193, 9196, 2),\n    (9200, 9200, 2),\n    (9203, 9203, 2),\n    (9725, 9726, 2),\n    (9748, 9749, 2),\n    (9800, 9811, 2),\n    (9855, 9855, 2),\n    (9875, 9875, 2),\n    (9889, 9889, 2),\n    (9898, 9899, 2),\n    (9917, 9918, 2),\n    (9924, 9925, 2),\n    (9934, 9934, 2),\n    (9940, 9940, 2),\n    (9962, 9962, 2),\n    (9970, 9971, 2),\n    (9973, 9973, 2),\n    (9978, 9978, 2),\n    (9981, 9981, 2),\n    (9989, 9989, 2),\n    (9994, 9995, 2),\n    (10024, 10024, 2),\n    (10060, 10060, 2),\n    (10062, 10062, 2),\n    (10067, 10069, 2),\n    (10071, 10071, 2),\n    (10133, 10135, 2),\n    (10160, 10160, 2),\n    (10175, 10175, 2),\n    (11035, 11036, 2),\n    (11088, 11088, 2),\n    (11093, 11093, 2),\n    (11503, 11505, 0),\n    (11647, 11647, 0),\n    (11744, 11775, 0),\n    (11904, 11929, 2),\n    (11931, 12019, 2),\n    (12032, 12245, 2),\n    (12272, 12329, 2),\n    (12330, 12335, 0),\n    (12336, 12350, 2),\n    (12353, 12438, 2),\n    (12441, 12442, 0),\n    (12443, 12543, 2),\n    (12549, 12591, 2),\n    (12593, 12686, 2),\n    (12688, 12771, 2),\n    (12783, 12830, 2),\n    (12832, 12871, 2),\n    (12880, 19903, 2),\n    (19968, 42124, 2),\n    (42128, 42182, 2),\n    (42607, 42610, 0),\n    (42612, 42621, 0),\n    (42654, 42655, 0),\n    (42736, 42737, 0),\n    (43010, 43010, 0),\n    (43014, 43014, 0),\n    (43019, 43019, 0),\n    (43043, 43047, 0),\n    (43052, 43052, 0),\n    (43136, 43137, 0),\n    (43188, 43205, 0),\n    (43232, 43249, 0),\n    (43263, 43263, 0),\n    (43302, 43309, 0),\n    (43335, 43347, 0),\n    (43360, 43388, 2),\n    (43392, 43395, 0),\n    (43443, 43456, 0),\n    (43493, 43493, 0),\n    (43561, 43574, 0),\n    (43587, 43587, 0),\n    (43596, 43597, 0),\n    (43643, 43645, 0),\n    (43696, 43696, 0),\n    (43698, 43700, 0),\n    (43703, 43704, 0),\n    (43710, 43711, 0),\n    (43713, 43713, 0),\n    (43755, 43759, 0),\n    (43765, 43766, 0),\n    (44003, 44010, 0),\n    (44012, 44013, 0),\n    (44032, 55203, 2),\n    (55216, 55295, 0),\n    (63744, 64255, 2),\n    (64286, 64286, 0),\n    (65024, 65039, 0),\n    (65040, 65049, 2),\n    (65056, 65071, 0),\n    (65072, 65106, 2),\n    (65108, 65126, 2),\n    (65128, 65131, 2),\n    (65279, 65279, 0),\n    (65281, 65376, 2),\n    (65504, 65510, 2),\n    (65529, 65531, 0),\n    (66045, 66045, 0),\n    (66272, 66272, 0),\n    (66422, 66426, 0),\n    (68097, 68099, 0),\n    (68101, 68102, 0),\n    (68108, 68111, 0),\n    (68152, 68154, 0),\n    (68159, 68159, 0),\n    (68325, 68326, 0),\n    (68900, 68903, 0),\n    (69291, 69292, 0),\n    (69373, 69375, 0),\n    (69446, 69456, 0),\n    (69506, 69509, 0),\n    (69632, 69634, 0),\n    (69688, 69702, 0),\n    (69744, 69744, 0),\n    (69747, 69748, 0),\n    (69759, 69762, 0),\n    (69808, 69818, 0),\n    (69821, 69821, 0),\n    (69826, 69826, 0),\n    (69837, 69837, 0),\n    (69888, 69890, 0),\n    (69927, 69940, 0),\n    (69957, 69958, 0),\n    (70003, 70003, 0),\n    (70016, 70018, 0),\n    (70067, 70080, 0),\n    (70089, 70092, 0),\n    (70094, 70095, 0),\n    (70188, 70199, 0),\n    (70206, 70206, 0),\n    (70209, 70209, 0),\n    (70367, 70378, 0),\n    (70400, 70403, 0),\n    (70459, 70460, 0),\n    (70462, 70468, 0),\n    (70471, 70472, 0),\n    (70475, 70477, 0),\n    (70487, 70487, 0),\n    (70498, 70499, 0),\n    (70502, 70508, 0),\n    (70512, 70516, 0),\n    (70709, 70726, 0),\n    (70750, 70750, 0),\n    (70832, 70851, 0),\n    (71087, 71093, 0),\n    (71096, 71104, 0),\n    (71132, 71133, 0),\n    (71216, 71232, 0),\n    (71339, 71351, 0),\n    (71453, 71467, 0),\n    (71724, 71738, 0),\n    (71984, 71989, 0),\n    (71991, 71992, 0),\n    (71995, 71998, 0),\n    (72000, 72000, 0),\n    (72002, 72003, 0),\n    (72145, 72151, 0),\n    (72154, 72160, 0),\n    (72164, 72164, 0),\n    (72193, 72202, 0),\n    (72243, 72249, 0),\n    (72251, 72254, 0),\n    (72263, 72263, 0),\n    (72273, 72283, 0),\n    (72330, 72345, 0),\n    (72751, 72758, 0),\n    (72760, 72767, 0),\n    (72850, 72871, 0),\n    (72873, 72886, 0),\n    (73009, 73014, 0),\n    (73018, 73018, 0),\n    (73020, 73021, 0),\n    (73023, 73029, 0),\n    (73031, 73031, 0),\n    (73098, 73102, 0),\n    (73104, 73105, 0),\n    (73107, 73111, 0),\n    (73459, 73462, 0),\n    (73472, 73473, 0),\n    (73475, 73475, 0),\n    (73524, 73530, 0),\n    (73534, 73538, 0),\n    (78896, 78912, 0),\n    (78919, 78933, 0),\n    (92912, 92916, 0),\n    (92976, 92982, 0),\n    (94031, 94031, 0),\n    (94033, 94087, 0),\n    (94095, 94098, 0),\n    (94176, 94179, 2),\n    (94180, 94180, 0),\n    (94192, 94193, 0),\n    (94208, 100343, 2),\n    (100352, 101589, 2),\n    (101632, 101640, 2),\n    (110576, 110579, 2),\n    (110581, 110587, 2),\n    (110589, 110590, 2),\n    (110592, 110882, 2),\n    (110898, 110898, 2),\n    (110928, 110930, 2),\n    (110933, 110933, 2),\n    (110948, 110951, 2),\n    (110960, 111355, 2),\n    (113821, 113822, 0),\n    (113824, 113827, 0),\n    (118528, 118573, 0),\n    (118576, 118598, 0),\n    (119141, 119145, 0),\n    (119149, 119170, 0),\n    (119173, 119179, 0),\n    (119210, 119213, 0),\n    (119362, 119364, 0),\n    (121344, 121398, 0),\n    (121403, 121452, 0),\n    (121461, 121461, 0),\n    (121476, 121476, 0),\n    (121499, 121503, 0),\n    (121505, 121519, 0),\n    (122880, 122886, 0),\n    (122888, 122904, 0),\n    (122907, 122913, 0),\n    (122915, 122916, 0),\n    (122918, 122922, 0),\n    (123023, 123023, 0),\n    (123184, 123190, 0),\n    (123566, 123566, 0),\n    (123628, 123631, 0),\n    (124140, 124143, 0),\n    (125136, 125142, 0),\n    (125252, 125258, 0),\n    (126980, 126980, 2),\n    (127183, 127183, 2),\n    (127374, 127374, 2),\n    (127377, 127386, 2),\n    (127488, 127490, 2),\n    (127504, 127547, 2),\n    (127552, 127560, 2),\n    (127568, 127569, 2),\n    (127584, 127589, 2),\n    (127744, 127776, 2),\n    (127789, 127797, 2),\n    (127799, 127868, 2),\n    (127870, 127891, 2),\n    (127904, 127946, 2),\n    (127951, 127955, 2),\n    (127968, 127984, 2),\n    (127988, 127988, 2),\n    (127992, 127994, 2),\n    (127995, 127999, 0),\n    (128000, 128062, 2),\n    (128064, 128064, 2),\n    (128066, 128252, 2),\n    (128255, 128317, 2),\n    (128331, 128334, 2),\n    (128336, 128359, 2),\n    (128378, 128378, 2),\n    (128405, 128406, 2),\n    (128420, 128420, 2),\n    (128507, 128591, 2),\n    (128640, 128709, 2),\n    (128716, 128716, 2),\n    (128720, 128722, 2),\n    (128725, 128727, 2),\n    (128732, 128735, 2),\n    (128747, 128748, 2),\n    (128756, 128764, 2),\n    (128992, 129003, 2),\n    (129008, 129008, 2),\n    (129292, 129338, 2),\n    (129340, 129349, 2),\n    (129351, 129535, 2),\n    (129648, 129660, 2),\n    (129664, 129672, 2),\n    (129680, 129725, 2),\n    (129727, 129733, 2),\n    (129742, 129755, 2),\n    (129760, 129768, 2),\n    (129776, 129784, 2),\n    (131072, 196605, 2),\n    (196608, 262141, 2),\n    (917505, 917505, 0),\n    (917536, 917631, 0),\n    (917760, 917999, 0),\n]\n",
    "start_line": 0
  },
  {
    "file": "cells.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from __future__ import annotations\nfrom functools import lru_cache\nfrom typing import Callable\nfrom ._cell_widths import CELL_WIDTHS",
    "start_line": 0
  },
  {
    "file": "cells.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# Ranges of unicode ordinals that produce a 1-cell wide character\n# This is non-exhaustive, but covers most common Western characters\n_SINGLE_CELL_UNICODE_RANGES: list[tuple[int, int]] = [\n    (0x20, 0x7E),  # Latin (excluding non-printable)\n    (0xA0, 0xAC),\n    (0xAE, 0x002FF),\n    (0x00370, 0x00482),  # Greek / Cyrillic\n    (0x02500, 0x025FC),  # Box drawing, box elements, geometric shapes\n    (0x02800, 0x028FF),  # Braille\n]\n# A set of characters that are a single cell wide",
    "start_line": 7
  },
  {
    "file": "cells.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "_SINGLE_CELLS = frozenset(\n    [\n        character\n        for _start, _end in _SINGLE_CELL_UNICODE_RANGES\n        for character in map(chr, range(_start, _end + 1))\n    ]\n)",
    "start_line": 19
  },
  {
    "file": "cells.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# When called with a string this will return True if all\n# characters are single-cell, otherwise False\n_is_single_cell_widths: Callable[[str], bool] = _SINGLE_CELLS.issuperset\n@lru_cache(4096)",
    "start_line": 27
  },
  {
    "file": "cells.py",
    "type": "function",
    "class": null,
    "method": "cached_cell_len",
    "name": "cached_cell_len",
    "content": "def cached_cell_len(text: str) -> int:\n    \"\"\"Get the number of cells required to display text.\n\n    This method always caches, which may use up a lot of memory. It is recommended to use\n    `cell_len` over this method.\n\n    Args:\n        text (str): Text to display.\n\n    Returns:\n        int: Get the number of cells required to display text.\n    \"\"\"\n    if _is_single_cell_widths(text):\n        return len(text)\n    return sum(map(get_character_cell_size, text))",
    "start_line": 33
  },
  {
    "file": "cells.py",
    "type": "function",
    "class": null,
    "method": "cell_len",
    "name": "cell_len",
    "content": "def cell_len(text: str, _cell_len: Callable[[str], int] = cached_cell_len) -> int:\n    \"\"\"Get the number of cells required to display text.\n\n    Args:\n        text (str): Text to display.\n\n    Returns:\n        int: Get the number of cells required to display text.\n    \"\"\"\n    if len(text) < 512:\n        return _cell_len(text)\n    if _is_single_cell_widths(text):\n        return len(text)\n    return sum(map(get_character_cell_size, text))\n\n\n@lru_cache(maxsize=4096)",
    "start_line": 50
  },
  {
    "file": "cells.py",
    "type": "function",
    "class": null,
    "method": "get_character_cell_size",
    "name": "get_character_cell_size",
    "content": "def get_character_cell_size(character: str) -> int:\n    \"\"\"Get the cell size of a character.\n\n    Args:\n        character (str): A single character.\n\n    Returns:\n        int: Number of cells (0, 1 or 2) occupied by that character.\n    \"\"\"",
    "start_line": 67
  },
  {
    "file": "cells.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "codepoint = ord(character)\n    _table = CELL_WIDTHS\n    lower_bound = 0\n    upper_bound = len(_table) - 1\n    index = (lower_bound + upper_bound) // 2\n    while True:\n        start, end, width = _table[index]\n        if codepoint < start:\n            upper_bound = index - 1\n        elif codepoint > end:\n            lower_bound = index + 1\n        else:\n            return 0 if width == -1 else width\n        if upper_bound < lower_bound:\n            break\n        index = (lower_bound + upper_bound) // 2\n    return 1",
    "start_line": 76
  },
  {
    "file": "cells.py",
    "type": "function",
    "class": null,
    "method": "set_cell_size",
    "name": "set_cell_size",
    "content": "def set_cell_size(text: str, total: int) -> str:\n    \"\"\"Set the length of a string to fit within given number of cells.\"\"\"\n\n    if _is_single_cell_widths(text):",
    "start_line": 95
  },
  {
    "file": "cells.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "size = len(text)\n        if size < total:\n            return text + \" \" * (total - size)\n        return text[:total]\n    if total <= 0:\n        return \"\"\n    cell_size = cell_len(text)\n    if cell_size == total:\n        return text\n    if cell_size < total:\n        return text + \" \" * (total - cell_size)\n    start = 0\n    end = len(text)",
    "start_line": 99
  },
  {
    "file": "cells.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# Binary search until we find the right size\n    while True:",
    "start_line": 115
  },
  {
    "file": "cells.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "pos = (start + end) // 2\n        before = text[: pos + 1]\n        before_len = cell_len(before)\n        if before_len == total + 1 and cell_len(before[-1]) == 2:\n            return before[:-1] + \" \"\n        if before_len == total:\n            return before\n        if before_len > total:\n            end = pos\n        else:\n            start = pos",
    "start_line": 117
  },
  {
    "file": "cells.py",
    "type": "function",
    "class": null,
    "method": "chop_cells",
    "name": "chop_cells",
    "content": "def chop_cells(\n    text: str,\n    width: int,\n) -> list[str]:\n    \"\"\"Split text into lines such that each line fits within the available (cell) width.\n\n    Args:\n        text: The text to fold such that it fits in the given width.\n        width: The width available (number of cells).\n\n    Returns:\n        A list of strings such that each string in the list has cell width\n        less than or equal to the available width.\n    \"\"\"",
    "start_line": 130
  },
  {
    "file": "cells.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "_get_character_cell_size = get_character_cell_size\n    lines: list[list[str]] = [[]]\n    append_new_line = lines.append\n    append_to_last_line = lines[-1].append\n    total_width = 0\n    for character in text:\n        cell_width = _get_character_cell_size(character)\n        char_doesnt_fit = total_width + cell_width > width\n        if char_doesnt_fit:\n            append_new_line([character])\n            append_to_last_line = lines[-1].append\n            total_width = cell_width\n        else:\n            append_to_last_line(character)\n            total_width += cell_width\n    return [\"\".join(line) for line in lines]\nif __name__ == \"__main__\":  # pragma: no cover\n    print(get_character_cell_size(\"\"))\n    for line in chop_cells(\"\"\"\"\"\", 8):\n        print(line)\n    for n in range(80, 1, -1):\n        print(set_cell_size(\"\"\"\"\"\", n) + \"|\")\n        print(\"x\" * n)",
    "start_line": 144
  },
  {
    "file": "cells.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "from __future__ import annotations\n\nfrom functools import lru_cache\nfrom typing import Callable\n\nfrom ._cell_widths import CELL_WIDTHS\n\n# Ranges of unicode ordinals that produce a 1-cell wide character\n# This is non-exhaustive, but covers most common Western characters\n_SINGLE_CELL_UNICODE_RANGES: list[tuple[int, int]] = [\n    (0x20, 0x7E),  # Latin (excluding non-printable)\n    (0xA0, 0xAC),\n    (0xAE, 0x002FF),\n    (0x00370, 0x00482),  # Greek / Cyrillic\n    (0x02500, 0x025FC),  # Box drawing, box elements, geometric shapes\n    (0x02800, 0x028FF),  # Braille\n]\n\n# A set of characters that are a single cell wide\n_SINGLE_CELLS = frozenset(\n    [\n        character\n        for _start, _end in _SINGLE_CELL_UNICODE_RANGES\n        for character in map(chr, range(_start, _end + 1))\n    ]\n)\n\n# When called with a string this will return True if all\n# characters are single-cell, otherwise False\n_is_single_cell_widths: Callable[[str], bool] = _SINGLE_CELLS.issuperset\n\n\n@lru_cache(4096)\ndef cached_cell_len(text: str) -> int:\n    \"\"\"Get the number of cells required to display text.\n\n    This method always caches, which may use up a lot of memory. It is recommended to use\n    `cell_len` over this method.\n\n    Args:\n        text (str): Text to display.\n\n    Returns:\n        int: Get the number of cells required to display text.\n    \"\"\"\n    if _is_single_cell_widths(text):\n        return len(text)\n    return sum(map(get_character_cell_size, text))\n\n\ndef cell_len(text: str, _cell_len: Callable[[str], int] = cached_cell_len) -> int:\n    \"\"\"Get the number of cells required to display text.\n\n    Args:\n        text (str): Text to display.\n\n    Returns:\n        int: Get the number of cells required to display text.\n    \"\"\"\n    if len(text) < 512:\n        return _cell_len(text)\n    if _is_single_cell_widths(text):\n        return len(text)\n    return sum(map(get_character_cell_size, text))\n\n\n@lru_cache(maxsize=4096)\ndef get_character_cell_size(character: str) -> int:\n    \"\"\"Get the cell size of a character.\n\n    Args:\n        character (str): A single character.\n\n    Returns:\n        int: Number of cells (0, 1 or 2) occupied by that character.\n    \"\"\"\n    codepoint = ord(character)\n    _table = CELL_WIDTHS\n    lower_bound = 0\n    upper_bound = len(_table) - 1\n    index = (lower_bound + upper_bound) // 2\n    while True:\n        start, end, width = _table[index]\n        if codepoint < start:\n            upper_bound = index - 1\n        elif codepoint > end:\n            lower_bound = index + 1\n        else:\n            return 0 if width == -1 else width\n        if upper_bound < lower_bound:\n            break\n        index = (lower_bound + upper_bound) // 2\n    return 1\n\n\ndef set_cell_size(text: str, total: int) -> str:\n    \"\"\"Set the length of a string to fit within given number of cells.\"\"\"\n\n    if _is_single_cell_widths(text):\n        size = len(text)\n        if size < total:\n            return text + \" \" * (total - size)\n        return text[:total]\n\n    if total <= 0:\n        return \"\"\n    cell_size = cell_len(text)\n    if cell_size == total:\n        return text\n    if cell_size < total:\n        return text + \" \" * (total - cell_size)\n\n    start = 0\n    end = len(text)\n\n    # Binary search until we find the right size\n    while True:\n        pos = (start + end) // 2\n        before = text[: pos + 1]\n        before_len = cell_len(before)\n        if before_len == total + 1 and cell_len(before[-1]) == 2:\n            return before[:-1] + \" \"\n        if before_len == total:\n            return before\n        if before_len > total:\n            end = pos\n        else:\n            start = pos\n\n\ndef chop_cells(\n    text: str,\n    width: int,\n) -> list[str]:\n    \"\"\"Split text into lines such that each line fits within the available (cell) width.\n\n    Args:\n        text: The text to fold such that it fits in the given width.\n        width: The width available (number of cells).\n\n    Returns:\n        A list of strings such that each string in the list has cell width\n        less than or equal to the available width.\n    \"\"\"\n    _get_character_cell_size = get_character_cell_size\n    lines: list[list[str]] = [[]]\n\n    append_new_line = lines.append\n    append_to_last_line = lines[-1].append\n\n    total_width = 0\n\n    for character in text:\n        cell_width = _get_character_cell_size(character)\n        char_doesnt_fit = total_width + cell_width > width\n\n        if char_doesnt_fit:\n            append_new_line([character])\n            append_to_last_line = lines[-1].append\n            total_width = cell_width\n        else:\n            append_to_last_line(character)\n            total_width += cell_width\n\n    return [\"\".join(line) for line in lines]\n\n\nif __name__ == \"__main__\":  # pragma: no cover\n    print(get_character_cell_size(\"\"))\n    for line in chop_cells(\"\"\"\"\"\", 8):\n        print(line)\n    for n in range(80, 1, -1):\n        print(set_cell_size(\"\"\"\"\"\", n) + \"|\")\n        print(\"x\" * n)\n",
    "start_line": 0
  },
  {
    "file": "_win32_console.py",
    "type": "module_docstring",
    "class": null,
    "method": null,
    "name": "module_docstring",
    "content": "\"\"\"Light wrapper around the Win32 Console API - this module should only be imported on Windows\n\nThe API that this module wraps is documented at https://docs.microsoft.com/en-us/windows/console/console-functions\n\"\"\"",
    "start_line": 0
  },
  {
    "file": "_win32_console.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "import ctypes\nimport sys\nfrom typing import Any\nwindll: Any = None\nif sys.platform == \"win32\":",
    "start_line": 5
  },
  {
    "file": "_win32_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "windll = ctypes.LibraryLoader(ctypes.WinDLL)\nelse:\n    raise ImportError(f\"{__name__} can only be imported on Windows\")",
    "start_line": 11
  },
  {
    "file": "_win32_console.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "import time\nfrom ctypes import Structure, byref, wintypes\nfrom typing import IO, NamedTuple, Type, cast\nfrom rich.color import ColorSystem\nfrom rich.style import Style",
    "start_line": 15
  },
  {
    "file": "_win32_console.py",
    "type": "constants",
    "class": null,
    "method": null,
    "name": "module_constants",
    "content": "STDOUT = -11\nENABLE_VIRTUAL_TERMINAL_PROCESSING = 4\nCOORD = wintypes._COORD",
    "start_line": 22
  },
  {
    "file": "_win32_console.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "LegacyWindowsError",
    "content": "class LegacyWindowsError(Exception):\n    pass",
    "start_line": 28
  },
  {
    "file": "_win32_console.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "WindowsCoordinates",
    "content": "class WindowsCoordinates(NamedTuple):\n    \"\"\"Coordinates in the Windows Console API are (y, x), not (x, y).\n    This class is intended to prevent that confusion.\n    Rows and columns are indexed from 0.\n    This class can be used in place of wintypes._COORD in arguments and argtypes.\n    \"\"\"\n\n    row: int\n    col: int\n\n    @classmethod",
    "start_line": 32
  },
  {
    "file": "_win32_console.py",
    "type": "method",
    "class": "WindowsCoordinates",
    "method": "from_param",
    "name": "from_param",
    "content": "class WindowsCoordinates:\n    def from_param(cls, value: \"WindowsCoordinates\") -> COORD:\n        \"\"\"Converts a WindowsCoordinates into a wintypes _COORD structure.\n        This classmethod is internally called by ctypes to perform the conversion.\n\n        Args:\n            value (WindowsCoordinates): The input coordinates to convert.\n\n        Returns:\n            wintypes._COORD: The converted coordinates struct.\n        \"\"\"\n        return COORD(value.col, value.row)",
    "start_line": 43
  },
  {
    "file": "_win32_console.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "CONSOLE_SCREEN_BUFFER_INFO",
    "content": "class CONSOLE_SCREEN_BUFFER_INFO(Structure):\n    _fields_ = [\n        (\"dwSize\", COORD),\n        (\"dwCursorPosition\", COORD),\n        (\"wAttributes\", wintypes.WORD),\n        (\"srWindow\", wintypes.SMALL_RECT),\n        (\"dwMaximumWindowSize\", COORD),\n    ]",
    "start_line": 56
  },
  {
    "file": "_win32_console.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "CONSOLE_CURSOR_INFO",
    "content": "class CONSOLE_CURSOR_INFO(ctypes.Structure):\n    _fields_ = [(\"dwSize\", wintypes.DWORD), (\"bVisible\", wintypes.BOOL)]\n\n\n_GetStdHandle = windll.kernel32.GetStdHandle\n_GetStdHandle.argtypes = [\n    wintypes.DWORD,\n]\n_GetStdHandle.restype = wintypes.HANDLE",
    "start_line": 66
  },
  {
    "file": "_win32_console.py",
    "type": "function",
    "class": null,
    "method": "GetStdHandle",
    "name": "GetStdHandle",
    "content": "def GetStdHandle(handle: int = STDOUT) -> wintypes.HANDLE:\n    \"\"\"Retrieves a handle to the specified standard device (standard input, standard output, or standard error).\n\n    Args:\n        handle (int): Integer identifier for the handle. Defaults to -11 (stdout).\n\n    Returns:\n        wintypes.HANDLE: The handle\n    \"\"\"\n    return cast(wintypes.HANDLE, _GetStdHandle(handle))",
    "start_line": 77
  },
  {
    "file": "_win32_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "_GetConsoleMode = windll.kernel32.GetConsoleMode\n_GetConsoleMode.argtypes = [wintypes.HANDLE, wintypes.LPDWORD]\n_GetConsoleMode.restype = wintypes.BOOL",
    "start_line": 89
  },
  {
    "file": "_win32_console.py",
    "type": "function",
    "class": null,
    "method": "GetConsoleMode",
    "name": "GetConsoleMode",
    "content": "def GetConsoleMode(std_handle: wintypes.HANDLE) -> int:\n    \"\"\"Retrieves the current input mode of a console's input buffer\n    or the current output mode of a console screen buffer.\n\n    Args:\n        std_handle (wintypes.HANDLE): A handle to the console input buffer or the console screen buffer.\n\n    Raises:\n        LegacyWindowsError: If any error occurs while calling the Windows console API.\n\n    Returns:\n        int: Value representing the current console mode as documented at\n            https://docs.microsoft.com/en-us/windows/console/getconsolemode#parameters\n    \"\"\"",
    "start_line": 94
  },
  {
    "file": "_win32_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console_mode = wintypes.DWORD()\n    success = bool(_GetConsoleMode(std_handle, console_mode))\n    if not success:\n        raise LegacyWindowsError(\"Unable to get legacy Windows Console Mode\")\n    return console_mode.value\n_FillConsoleOutputCharacterW = windll.kernel32.FillConsoleOutputCharacterW\n_FillConsoleOutputCharacterW.argtypes = [\n    wintypes.HANDLE,\n    ctypes.c_char,\n    wintypes.DWORD,\n    cast(Type[COORD], WindowsCoordinates),\n    ctypes.POINTER(wintypes.DWORD),\n]\n_FillConsoleOutputCharacterW.restype = wintypes.BOOL",
    "start_line": 109
  },
  {
    "file": "_win32_console.py",
    "type": "function",
    "class": null,
    "method": "FillConsoleOutputCharacter",
    "name": "FillConsoleOutputCharacter",
    "content": "def FillConsoleOutputCharacter(\n    std_handle: wintypes.HANDLE,\n    char: str,\n    length: int,\n    start: WindowsCoordinates,\n) -> int:\n    \"\"\"Writes a character to the console screen buffer a specified number of times, beginning at the specified coordinates.\n\n    Args:\n        std_handle (wintypes.HANDLE): A handle to the console input buffer or the console screen buffer.\n        char (str): The character to write. Must be a string of length 1.\n        length (int): The number of times to write the character.\n        start (WindowsCoordinates): The coordinates to start writing at.\n\n    Returns:\n        int: The number of characters written.\n    \"\"\"",
    "start_line": 127
  },
  {
    "file": "_win32_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "character = ctypes.c_char(char.encode())\n    num_characters = wintypes.DWORD(length)\n    num_written = wintypes.DWORD(0)\n    _FillConsoleOutputCharacterW(\n        std_handle,\n        character,\n        num_characters,\n        start,\n        byref(num_written),\n    )\n    return num_written.value\n_FillConsoleOutputAttribute = windll.kernel32.FillConsoleOutputAttribute\n_FillConsoleOutputAttribute.argtypes = [\n    wintypes.HANDLE,\n    wintypes.WORD,\n    wintypes.DWORD,\n    cast(Type[COORD], WindowsCoordinates),\n    ctypes.POINTER(wintypes.DWORD),\n]\n_FillConsoleOutputAttribute.restype = wintypes.BOOL",
    "start_line": 144
  },
  {
    "file": "_win32_console.py",
    "type": "function",
    "class": null,
    "method": "FillConsoleOutputAttribute",
    "name": "FillConsoleOutputAttribute",
    "content": "def FillConsoleOutputAttribute(\n    std_handle: wintypes.HANDLE,\n    attributes: int,\n    length: int,\n    start: WindowsCoordinates,\n) -> int:\n    \"\"\"Sets the character attributes for a specified number of character cells,\n    beginning at the specified coordinates in a screen buffer.\n\n    Args:\n        std_handle (wintypes.HANDLE): A handle to the console input buffer or the console screen buffer.\n        attributes (int): Integer value representing the foreground and background colours of the cells.\n        length (int): The number of cells to set the output attribute of.\n        start (WindowsCoordinates): The coordinates of the first cell whose attributes are to be set.\n\n    Returns:\n        int: The number of cells whose attributes were actually set.\n    \"\"\"",
    "start_line": 168
  },
  {
    "file": "_win32_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "num_cells = wintypes.DWORD(length)\n    style_attrs = wintypes.WORD(attributes)\n    num_written = wintypes.DWORD(0)\n    _FillConsoleOutputAttribute(\n        std_handle, style_attrs, num_cells, start, byref(num_written)\n    )\n    return num_written.value\n_SetConsoleTextAttribute = windll.kernel32.SetConsoleTextAttribute\n_SetConsoleTextAttribute.argtypes = [\n    wintypes.HANDLE,\n    wintypes.WORD,\n]\n_SetConsoleTextAttribute.restype = wintypes.BOOL",
    "start_line": 186
  },
  {
    "file": "_win32_console.py",
    "type": "function",
    "class": null,
    "method": "SetConsoleTextAttribute",
    "name": "SetConsoleTextAttribute",
    "content": "def SetConsoleTextAttribute(\n    std_handle: wintypes.HANDLE, attributes: wintypes.WORD\n) -> bool:\n    \"\"\"Set the colour attributes for all text written after this function is called.\n\n    Args:\n        std_handle (wintypes.HANDLE): A handle to the console input buffer or the console screen buffer.\n        attributes (int): Integer value representing the foreground and background colours.\n\n\n    Returns:\n        bool: True if the attribute was set successfully, otherwise False.\n    \"\"\"\n    return bool(_SetConsoleTextAttribute(std_handle, attributes))",
    "start_line": 203
  },
  {
    "file": "_win32_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "_GetConsoleScreenBufferInfo = windll.kernel32.GetConsoleScreenBufferInfo\n_GetConsoleScreenBufferInfo.argtypes = [\n    wintypes.HANDLE,\n    ctypes.POINTER(CONSOLE_SCREEN_BUFFER_INFO),\n]\n_GetConsoleScreenBufferInfo.restype = wintypes.BOOL",
    "start_line": 219
  },
  {
    "file": "_win32_console.py",
    "type": "function",
    "class": null,
    "method": "GetConsoleScreenBufferInfo",
    "name": "GetConsoleScreenBufferInfo",
    "content": "def GetConsoleScreenBufferInfo(\n    std_handle: wintypes.HANDLE,\n) -> CONSOLE_SCREEN_BUFFER_INFO:\n    \"\"\"Retrieves information about the specified console screen buffer.\n\n    Args:\n        std_handle (wintypes.HANDLE): A handle to the console input buffer or the console screen buffer.\n\n    Returns:\n        CONSOLE_SCREEN_BUFFER_INFO: A CONSOLE_SCREEN_BUFFER_INFO ctype struct contain information about\n            screen size, cursor position, colour attributes, and more.\"\"\"",
    "start_line": 227
  },
  {
    "file": "_win32_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console_screen_buffer_info = CONSOLE_SCREEN_BUFFER_INFO()\n    _GetConsoleScreenBufferInfo(std_handle, byref(console_screen_buffer_info))\n    return console_screen_buffer_info\n_SetConsoleCursorPosition = windll.kernel32.SetConsoleCursorPosition\n_SetConsoleCursorPosition.argtypes = [\n    wintypes.HANDLE,\n    cast(Type[COORD], WindowsCoordinates),\n]\n_SetConsoleCursorPosition.restype = wintypes.BOOL",
    "start_line": 238
  },
  {
    "file": "_win32_console.py",
    "type": "function",
    "class": null,
    "method": "SetConsoleCursorPosition",
    "name": "SetConsoleCursorPosition",
    "content": "def SetConsoleCursorPosition(\n    std_handle: wintypes.HANDLE, coords: WindowsCoordinates\n) -> bool:\n    \"\"\"Set the position of the cursor in the console screen\n\n    Args:\n        std_handle (wintypes.HANDLE): A handle to the console input buffer or the console screen buffer.\n        coords (WindowsCoordinates): The coordinates to move the cursor to.\n\n    Returns:\n        bool: True if the function succeeds, otherwise False.\n    \"\"\"\n    return bool(_SetConsoleCursorPosition(std_handle, coords))",
    "start_line": 251
  },
  {
    "file": "_win32_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "_GetConsoleCursorInfo = windll.kernel32.GetConsoleCursorInfo\n_GetConsoleCursorInfo.argtypes = [\n    wintypes.HANDLE,\n    ctypes.POINTER(CONSOLE_CURSOR_INFO),\n]\n_GetConsoleCursorInfo.restype = wintypes.BOOL",
    "start_line": 266
  },
  {
    "file": "_win32_console.py",
    "type": "function",
    "class": null,
    "method": "GetConsoleCursorInfo",
    "name": "GetConsoleCursorInfo",
    "content": "def GetConsoleCursorInfo(\n    std_handle: wintypes.HANDLE, cursor_info: CONSOLE_CURSOR_INFO\n) -> bool:\n    \"\"\"Get the cursor info - used to get cursor visibility and width\n\n    Args:\n        std_handle (wintypes.HANDLE): A handle to the console input buffer or the console screen buffer.\n        cursor_info (CONSOLE_CURSOR_INFO): CONSOLE_CURSOR_INFO ctype struct that receives information\n            about the console's cursor.\n\n    Returns:\n          bool: True if the function succeeds, otherwise False.\n    \"\"\"\n    return bool(_GetConsoleCursorInfo(std_handle, byref(cursor_info)))",
    "start_line": 274
  },
  {
    "file": "_win32_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "_SetConsoleCursorInfo = windll.kernel32.SetConsoleCursorInfo\n_SetConsoleCursorInfo.argtypes = [\n    wintypes.HANDLE,\n    ctypes.POINTER(CONSOLE_CURSOR_INFO),\n]\n_SetConsoleCursorInfo.restype = wintypes.BOOL",
    "start_line": 290
  },
  {
    "file": "_win32_console.py",
    "type": "function",
    "class": null,
    "method": "SetConsoleCursorInfo",
    "name": "SetConsoleCursorInfo",
    "content": "def SetConsoleCursorInfo(\n    std_handle: wintypes.HANDLE, cursor_info: CONSOLE_CURSOR_INFO\n) -> bool:\n    \"\"\"Set the cursor info - used for adjusting cursor visibility and width\n\n    Args:\n        std_handle (wintypes.HANDLE): A handle to the console input buffer or the console screen buffer.\n        cursor_info (CONSOLE_CURSOR_INFO): CONSOLE_CURSOR_INFO ctype struct containing the new cursor info.\n\n    Returns:\n          bool: True if the function succeeds, otherwise False.\n    \"\"\"\n    return bool(_SetConsoleCursorInfo(std_handle, byref(cursor_info)))",
    "start_line": 298
  },
  {
    "file": "_win32_console.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "_SetConsoleTitle = windll.kernel32.SetConsoleTitleW\n_SetConsoleTitle.argtypes = [wintypes.LPCWSTR]\n_SetConsoleTitle.restype = wintypes.BOOL",
    "start_line": 313
  },
  {
    "file": "_win32_console.py",
    "type": "function",
    "class": null,
    "method": "SetConsoleTitle",
    "name": "SetConsoleTitle",
    "content": "def SetConsoleTitle(title: str) -> bool:\n    \"\"\"Sets the title of the current console window\n\n    Args:\n        title (str): The new title of the console window.\n\n    Returns:\n        bool: True if the function succeeds, otherwise False.\n    \"\"\"\n    return bool(_SetConsoleTitle(title))",
    "start_line": 318
  },
  {
    "file": "_win32_console.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "LegacyWindowsTerm",
    "content": "class LegacyWindowsTerm:\n    \"\"\"This class allows interaction with the legacy Windows Console API. It should only be used in the context\n    of environments where virtual terminal processing is not available. However, if it is used in a Windows environment,\n    the entire API should work.\n\n    Args:\n        file (IO[str]): The file which the Windows Console API HANDLE is retrieved from, defaults to sys.stdout.\n    \"\"\"",
    "start_line": 330
  },
  {
    "file": "_win32_console.py",
    "type": "constants",
    "class": null,
    "method": null,
    "name": "module_constants",
    "content": "BRIGHT_BIT = 8",
    "start_line": 339
  },
  {
    "file": "_win32_console.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# Indices are ANSI color numbers, values are the corresponding Windows Console API color numbers",
    "start_line": 341
  },
  {
    "file": "_win32_console.py",
    "type": "constants",
    "class": null,
    "method": null,
    "name": "module_constants",
    "content": "ANSI_TO_WINDOWS = [\n        0,  # black                      The Windows colours are defined in wincon.h as follows:\n        4,  # red                         define FOREGROUND_BLUE            0x0001 -- 0000 0001\n        2,  # green                       define FOREGROUND_GREEN           0x0002 -- 0000 0010\n        6,  # yellow                      define FOREGROUND_RED             0x0004 -- 0000 0100\n        1,  # blue                        define FOREGROUND_INTENSITY       0x0008 -- 0000 1000\n        5,  # magenta                     define BACKGROUND_BLUE            0x0010 -- 0001 0000\n        3,  # cyan                        define BACKGROUND_GREEN           0x0020 -- 0010 0000\n        7,  # white                       define BACKGROUND_RED             0x0040 -- 0100 0000\n        8,  # bright black (grey)         define BACKGROUND_INTENSITY       0x0080 -- 1000 0000\n        12,  # bright red\n        10,  # bright green\n        14,  # bright yellow\n        9,  # bright blue\n        13,  # bright magenta\n        11,  # bright cyan\n        15,  # bright white\n    ]",
    "start_line": 342
  },
  {
    "file": "_win32_console.py",
    "type": "method",
    "class": "LegacyWindowsTerm",
    "method": "__init__",
    "name": "__init__",
    "content": "class LegacyWindowsTerm:\n    def __init__(self, file: \"IO[str]\") -> None:\n        handle = GetStdHandle(STDOUT)\n        self._handle = handle\n        default_text = GetConsoleScreenBufferInfo(handle).wAttributes\n        self._default_text = default_text\n\n        self._default_fore = default_text & 7\n        self._default_back = (default_text >> 4) & 7\n        self._default_attrs = self._default_fore | (self._default_back << 4)\n\n        self._file = file\n        self.write = file.write\n        self.flush = file.flush\n\n    @property",
    "start_line": 361
  },
  {
    "file": "_win32_console.py",
    "type": "method",
    "class": "LegacyWindowsTerm",
    "method": "cursor_position",
    "name": "cursor_position",
    "content": "class LegacyWindowsTerm:\n    def cursor_position(self) -> WindowsCoordinates:\n        \"\"\"Returns the current position of the cursor (0-based)\n\n        Returns:\n            WindowsCoordinates: The current cursor position.\n        \"\"\"\n        coord: COORD = GetConsoleScreenBufferInfo(self._handle).dwCursorPosition\n        return WindowsCoordinates(row=coord.Y, col=coord.X)\n\n    @property",
    "start_line": 376
  },
  {
    "file": "_win32_console.py",
    "type": "method",
    "class": "LegacyWindowsTerm",
    "method": "screen_size",
    "name": "screen_size",
    "content": "class LegacyWindowsTerm:\n    def screen_size(self) -> WindowsCoordinates:\n        \"\"\"Returns the current size of the console screen buffer, in character columns and rows\n\n        Returns:\n            WindowsCoordinates: The width and height of the screen as WindowsCoordinates.\n        \"\"\"\n        screen_size: COORD = GetConsoleScreenBufferInfo(self._handle).dwSize\n        return WindowsCoordinates(row=screen_size.Y, col=screen_size.X)",
    "start_line": 386
  },
  {
    "file": "_win32_console.py",
    "type": "method",
    "class": "LegacyWindowsTerm",
    "method": "write_text",
    "name": "write_text",
    "content": "class LegacyWindowsTerm:\n    def write_text(self, text: str) -> None:\n        \"\"\"Write text directly to the terminal without any modification of styles\n\n        Args:\n            text (str): The text to write to the console\n        \"\"\"\n        self.write(text)\n        self.flush()",
    "start_line": 395
  },
  {
    "file": "_win32_console.py",
    "type": "method",
    "class": "LegacyWindowsTerm",
    "method": "write_styled",
    "name": "write_styled",
    "content": "class LegacyWindowsTerm:\n    def write_styled(self, text: str, style: Style) -> None:\n        \"\"\"Write styled text to the terminal.\n\n        Args:\n            text (str): The text to write\n            style (Style): The style of the text\n        \"\"\"\n        color = style.color\n        bgcolor = style.bgcolor\n        if style.reverse:\n            color, bgcolor = bgcolor, color\n\n        if color:\n            fore = color.downgrade(ColorSystem.WINDOWS).number\n            fore = fore if fore is not None else 7  # Default to ANSI 7: White\n            if style.bold:\n                fore = fore | self.BRIGHT_BIT\n            if style.dim:\n                fore = fore & ~self.BRIGHT_BIT\n            fore = self.ANSI_TO_WINDOWS[fore]\n        else:\n            fore = self._default_fore\n\n        if bgcolor:\n            back = bgcolor.downgrade(ColorSystem.WINDOWS).number\n            back = back if back is not None else 0  # Default to ANSI 0: Black\n            back = self.ANSI_TO_WINDOWS[back]\n        else:\n            back = self._default_back\n\n        assert fore is not None\n        assert back is not None\n\n        SetConsoleTextAttribute(\n            self._handle, attributes=ctypes.c_ushort(fore | (back << 4))\n        )\n        self.write_text(text)\n        SetConsoleTextAttribute(self._handle, attributes=self._default_text)",
    "start_line": 404
  },
  {
    "file": "_win32_console.py",
    "type": "method",
    "class": "LegacyWindowsTerm",
    "method": "move_cursor_to",
    "name": "move_cursor_to",
    "content": "class LegacyWindowsTerm:\n    def move_cursor_to(self, new_position: WindowsCoordinates) -> None:\n        \"\"\"Set the position of the cursor\n\n        Args:\n            new_position (WindowsCoordinates): The WindowsCoordinates representing the new position of the cursor.\n        \"\"\"\n        if new_position.col < 0 or new_position.row < 0:\n            return\n        SetConsoleCursorPosition(self._handle, coords=new_position)",
    "start_line": 443
  },
  {
    "file": "_win32_console.py",
    "type": "method",
    "class": "LegacyWindowsTerm",
    "method": "erase_line",
    "name": "erase_line",
    "content": "class LegacyWindowsTerm:\n    def erase_line(self) -> None:\n        \"\"\"Erase all content on the line the cursor is currently located at\"\"\"\n        screen_size = self.screen_size\n        cursor_position = self.cursor_position\n        cells_to_erase = screen_size.col\n        start_coordinates = WindowsCoordinates(row=cursor_position.row, col=0)\n        FillConsoleOutputCharacter(\n            self._handle, \" \", length=cells_to_erase, start=start_coordinates\n        )\n        FillConsoleOutputAttribute(\n            self._handle,\n            self._default_attrs,\n            length=cells_to_erase,\n            start=start_coordinates,\n        )",
    "start_line": 453
  },
  {
    "file": "_win32_console.py",
    "type": "method",
    "class": "LegacyWindowsTerm",
    "method": "erase_end_of_line",
    "name": "erase_end_of_line",
    "content": "class LegacyWindowsTerm:\n    def erase_end_of_line(self) -> None:\n        \"\"\"Erase all content from the cursor position to the end of that line\"\"\"\n        cursor_position = self.cursor_position\n        cells_to_erase = self.screen_size.col - cursor_position.col\n        FillConsoleOutputCharacter(\n            self._handle, \" \", length=cells_to_erase, start=cursor_position\n        )\n        FillConsoleOutputAttribute(\n            self._handle,\n            self._default_attrs,\n            length=cells_to_erase,\n            start=cursor_position,\n        )",
    "start_line": 469
  },
  {
    "file": "_win32_console.py",
    "type": "method",
    "class": "LegacyWindowsTerm",
    "method": "erase_start_of_line",
    "name": "erase_start_of_line",
    "content": "class LegacyWindowsTerm:\n    def erase_start_of_line(self) -> None:\n        \"\"\"Erase all content from the cursor position to the start of that line\"\"\"\n        row, col = self.cursor_position\n        start = WindowsCoordinates(row, 0)\n        FillConsoleOutputCharacter(self._handle, \" \", length=col, start=start)\n        FillConsoleOutputAttribute(\n            self._handle, self._default_attrs, length=col, start=start\n        )",
    "start_line": 483
  },
  {
    "file": "_win32_console.py",
    "type": "method",
    "class": "LegacyWindowsTerm",
    "method": "move_cursor_up",
    "name": "move_cursor_up",
    "content": "class LegacyWindowsTerm:\n    def move_cursor_up(self) -> None:\n        \"\"\"Move the cursor up a single cell\"\"\"\n        cursor_position = self.cursor_position\n        SetConsoleCursorPosition(\n            self._handle,\n            coords=WindowsCoordinates(\n                row=cursor_position.row - 1, col=cursor_position.col\n            ),\n        )",
    "start_line": 492
  },
  {
    "file": "_win32_console.py",
    "type": "method",
    "class": "LegacyWindowsTerm",
    "method": "move_cursor_down",
    "name": "move_cursor_down",
    "content": "class LegacyWindowsTerm:\n    def move_cursor_down(self) -> None:\n        \"\"\"Move the cursor down a single cell\"\"\"\n        cursor_position = self.cursor_position\n        SetConsoleCursorPosition(\n            self._handle,\n            coords=WindowsCoordinates(\n                row=cursor_position.row + 1,\n                col=cursor_position.col,\n            ),\n        )",
    "start_line": 502
  },
  {
    "file": "_win32_console.py",
    "type": "method",
    "class": "LegacyWindowsTerm",
    "method": "move_cursor_forward",
    "name": "move_cursor_forward",
    "content": "class LegacyWindowsTerm:\n    def move_cursor_forward(self) -> None:\n        \"\"\"Move the cursor forward a single cell. Wrap to the next line if required.\"\"\"\n        row, col = self.cursor_position\n        if col == self.screen_size.col - 1:\n            row += 1\n            col = 0\n        else:\n            col += 1\n        SetConsoleCursorPosition(\n            self._handle, coords=WindowsCoordinates(row=row, col=col)\n        )",
    "start_line": 513
  },
  {
    "file": "_win32_console.py",
    "type": "method",
    "class": "LegacyWindowsTerm",
    "method": "move_cursor_to_column",
    "name": "move_cursor_to_column",
    "content": "class LegacyWindowsTerm:\n    def move_cursor_to_column(self, column: int) -> None:\n        \"\"\"Move cursor to the column specified by the zero-based column index, staying on the same row\n\n        Args:\n            column (int): The zero-based column index to move the cursor to.\n        \"\"\"\n        row, _ = self.cursor_position\n        SetConsoleCursorPosition(self._handle, coords=WindowsCoordinates(row, column))",
    "start_line": 525
  },
  {
    "file": "_win32_console.py",
    "type": "method",
    "class": "LegacyWindowsTerm",
    "method": "move_cursor_backward",
    "name": "move_cursor_backward",
    "content": "class LegacyWindowsTerm:\n    def move_cursor_backward(self) -> None:\n        \"\"\"Move the cursor backward a single cell. Wrap to the previous line if required.\"\"\"\n        row, col = self.cursor_position\n        if col == 0:\n            row -= 1\n            col = self.screen_size.col - 1\n        else:\n            col -= 1\n        SetConsoleCursorPosition(\n            self._handle, coords=WindowsCoordinates(row=row, col=col)\n        )",
    "start_line": 534
  },
  {
    "file": "_win32_console.py",
    "type": "method",
    "class": "LegacyWindowsTerm",
    "method": "hide_cursor",
    "name": "hide_cursor",
    "content": "class LegacyWindowsTerm:\n    def hide_cursor(self) -> None:\n        \"\"\"Hide the cursor\"\"\"\n        current_cursor_size = self._get_cursor_size()\n        invisible_cursor = CONSOLE_CURSOR_INFO(dwSize=current_cursor_size, bVisible=0)\n        SetConsoleCursorInfo(self._handle, cursor_info=invisible_cursor)",
    "start_line": 546
  },
  {
    "file": "_win32_console.py",
    "type": "method",
    "class": "LegacyWindowsTerm",
    "method": "show_cursor",
    "name": "show_cursor",
    "content": "class LegacyWindowsTerm:\n    def show_cursor(self) -> None:\n        \"\"\"Show the cursor\"\"\"\n        current_cursor_size = self._get_cursor_size()\n        visible_cursor = CONSOLE_CURSOR_INFO(dwSize=current_cursor_size, bVisible=1)\n        SetConsoleCursorInfo(self._handle, cursor_info=visible_cursor)",
    "start_line": 552
  },
  {
    "file": "_win32_console.py",
    "type": "method",
    "class": "LegacyWindowsTerm",
    "method": "set_title",
    "name": "set_title",
    "content": "class LegacyWindowsTerm:\n    def set_title(self, title: str) -> None:\n        \"\"\"Set the title of the terminal window\n\n        Args:\n            title (str): The new title of the console window\n        \"\"\"\n        assert len(title) < 255, \"Console title must be less than 255 characters\"\n        SetConsoleTitle(title)",
    "start_line": 558
  },
  {
    "file": "_win32_console.py",
    "type": "method",
    "class": "LegacyWindowsTerm",
    "method": "_get_cursor_size",
    "name": "_get_cursor_size",
    "content": "class LegacyWindowsTerm:\n    def _get_cursor_size(self) -> int:\n        \"\"\"Get the percentage of the character cell that is filled by the cursor\"\"\"\n        cursor_info = CONSOLE_CURSOR_INFO()\n        GetConsoleCursorInfo(self._handle, cursor_info=cursor_info)\n        return int(cursor_info.dwSize)\n\n\nif __name__ == \"__main__\":\n    handle = GetStdHandle()",
    "start_line": 567
  },
  {
    "file": "_win32_console.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from rich.console import Console\n    console = Console()\n    term = LegacyWindowsTerm(sys.stdout)\n    term.set_title(\"Win32 Console Examples\")\n    style = Style(color=\"black\", bgcolor=\"red\")\n    heading = Style.parse(\"black on green\")",
    "start_line": 577
  },
  {
    "file": "_win32_console.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# Check colour output\n    console.rule(\"Checking colour output\")\n    console.print(\"[on red]on red!\")\n    console.print(\"[blue]blue!\")\n    console.print(\"[yellow]yellow!\")\n    console.print(\"[bold yellow]bold yellow!\")\n    console.print(\"[bright_yellow]bright_yellow!\")\n    console.print(\"[dim bright_yellow]dim bright_yellow!\")\n    console.print(\"[italic cyan]italic cyan!\")\n    console.print(\"[bold white on blue]bold white on blue!\")\n    console.print(\"[reverse bold white on blue]reverse bold white on blue!\")\n    console.print(\"[bold black on cyan]bold black on cyan!\")\n    console.print(\"[black on green]black on green!\")\n    console.print(\"[blue on green]blue on green!\")\n    console.print(\"[white on black]white on black!\")\n    console.print(\"[black on white]black on white!\")\n    console.print(\"[#1BB152 on #DA812D]#1BB152 on #DA812D!\")\n    # Check cursor movement\n    console.rule(\"Checking cursor movement\")\n    console.print()\n    term.move_cursor_backward()\n    term.move_cursor_backward()\n    term.write_text(\"went back and wrapped to prev line\")\n    time.sleep(1)\n    term.move_cursor_up()\n    term.write_text(\"we go up\")\n    time.sleep(1)\n    term.move_cursor_down()\n    term.write_text(\"and down\")\n    time.sleep(1)\n    term.move_cursor_up()\n    term.move_cursor_backward()\n    term.move_cursor_backward()\n    term.write_text(\"we went up and back 2\")\n    time.sleep(1)\n    term.move_cursor_down()\n    term.move_cursor_backward()\n    term.move_cursor_backward()\n    term.write_text(\"we went down and back 2\")\n    time.sleep(1)\n    # Check erasing of lines\n    term.hide_cursor()\n    console.print()\n    console.rule(\"Checking line erasing\")\n    console.print(\"\\n...Deleting to the start of the line...\")\n    term.write_text(\"The red arrow shows the cursor location, and direction of erase\")\n    time.sleep(1)\n    term.move_cursor_to_column(16)\n    term.write_styled(\"<\", Style.parse(\"black on red\"))\n    term.move_cursor_backward()\n    time.sleep(1)\n    term.erase_start_of_line()\n    time.sleep(1)\n    console.print(\"\\n\\n...And to the end of the line...\")\n    term.write_text(\"The red arrow shows the cursor location, and direction of erase\")\n    time.sleep(1)\n    term.move_cursor_to_column(16)\n    term.write_styled(\">\", Style.parse(\"black on red\"))\n    time.sleep(1)\n    term.erase_end_of_line()\n    time.sleep(1)\n    console.print(\"\\n\\n...Now the whole line will be erased...\")\n    term.write_styled(\"I'm going to disappear!\", style=Style.parse(\"black on cyan\"))\n    time.sleep(1)\n    term.erase_line()\n    term.show_cursor()\n    print(\"\\n\")",
    "start_line": 588
  },
  {
    "file": "_win32_console.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "\"\"\"Light wrapper around the Win32 Console API - this module should only be imported on Windows\n\nThe API that this module wraps is documented at https://docs.microsoft.com/en-us/windows/console/console-functions\n\"\"\"\n\nimport ctypes\nimport sys\nfrom typing import Any\n\nwindll: Any = None\nif sys.platform == \"win32\":\n    windll = ctypes.LibraryLoader(ctypes.WinDLL)\nelse:\n    raise ImportError(f\"{__name__} can only be imported on Windows\")\n\nimport time\nfrom ctypes import Structure, byref, wintypes\nfrom typing import IO, NamedTuple, Type, cast\n\nfrom rich.color import ColorSystem\nfrom rich.style import Style\n\nSTDOUT = -11\nENABLE_VIRTUAL_TERMINAL_PROCESSING = 4\n\nCOORD = wintypes._COORD\n\n\nclass LegacyWindowsError(Exception):\n    pass\n\n\nclass WindowsCoordinates(NamedTuple):\n    \"\"\"Coordinates in the Windows Console API are (y, x), not (x, y).\n    This class is intended to prevent that confusion.\n    Rows and columns are indexed from 0.\n    This class can be used in place of wintypes._COORD in arguments and argtypes.\n    \"\"\"\n\n    row: int\n    col: int\n\n    @classmethod\n    def from_param(cls, value: \"WindowsCoordinates\") -> COORD:\n        \"\"\"Converts a WindowsCoordinates into a wintypes _COORD structure.\n        This classmethod is internally called by ctypes to perform the conversion.\n\n        Args:\n            value (WindowsCoordinates): The input coordinates to convert.\n\n        Returns:\n            wintypes._COORD: The converted coordinates struct.\n        \"\"\"\n        return COORD(value.col, value.row)\n\n\nclass CONSOLE_SCREEN_BUFFER_INFO(Structure):\n    _fields_ = [\n        (\"dwSize\", COORD),\n        (\"dwCursorPosition\", COORD),\n        (\"wAttributes\", wintypes.WORD),\n        (\"srWindow\", wintypes.SMALL_RECT),\n        (\"dwMaximumWindowSize\", COORD),\n    ]\n\n\nclass CONSOLE_CURSOR_INFO(ctypes.Structure):\n    _fields_ = [(\"dwSize\", wintypes.DWORD), (\"bVisible\", wintypes.BOOL)]\n\n\n_GetStdHandle = windll.kernel32.GetStdHandle\n_GetStdHandle.argtypes = [\n    wintypes.DWORD,\n]\n_GetStdHandle.restype = wintypes.HANDLE\n\n\ndef GetStdHandle(handle: int = STDOUT) -> wintypes.HANDLE:\n    \"\"\"Retrieves a handle to the specified standard device (standard input, standard output, or standard error).\n\n    Args:\n        handle (int): Integer identifier for the handle. Defaults to -11 (stdout).\n\n    Returns:\n        wintypes.HANDLE: The handle\n    \"\"\"\n    return cast(wintypes.HANDLE, _GetStdHandle(handle))\n\n\n_GetConsoleMode = windll.kernel32.GetConsoleMode\n_GetConsoleMode.argtypes = [wintypes.HANDLE, wintypes.LPDWORD]\n_GetConsoleMode.restype = wintypes.BOOL\n\n\ndef GetConsoleMode(std_handle: wintypes.HANDLE) -> int:\n    \"\"\"Retrieves the current input mode of a console's input buffer\n    or the current output mode of a console screen buffer.\n\n    Args:\n        std_handle (wintypes.HANDLE): A handle to the console input buffer or the console screen buffer.\n\n    Raises:\n        LegacyWindowsError: If any error occurs while calling the Windows console API.\n\n    Returns:\n        int: Value representing the current console mode as documented at\n            https://docs.microsoft.com/en-us/windows/console/getconsolemode#parameters\n    \"\"\"\n\n    console_mode = wintypes.DWORD()\n    success = bool(_GetConsoleMode(std_handle, console_mode))\n    if not success:\n        raise LegacyWindowsError(\"Unable to get legacy Windows Console Mode\")\n    return console_mode.value\n\n\n_FillConsoleOutputCharacterW = windll.kernel32.FillConsoleOutputCharacterW\n_FillConsoleOutputCharacterW.argtypes = [\n    wintypes.HANDLE,\n    ctypes.c_char,\n    wintypes.DWORD,\n    cast(Type[COORD], WindowsCoordinates),\n    ctypes.POINTER(wintypes.DWORD),\n]\n_FillConsoleOutputCharacterW.restype = wintypes.BOOL\n\n\ndef FillConsoleOutputCharacter(\n    std_handle: wintypes.HANDLE,\n    char: str,\n    length: int,\n    start: WindowsCoordinates,\n) -> int:\n    \"\"\"Writes a character to the console screen buffer a specified number of times, beginning at the specified coordinates.\n\n    Args:\n        std_handle (wintypes.HANDLE): A handle to the console input buffer or the console screen buffer.\n        char (str): The character to write. Must be a string of length 1.\n        length (int): The number of times to write the character.\n        start (WindowsCoordinates): The coordinates to start writing at.\n\n    Returns:\n        int: The number of characters written.\n    \"\"\"\n    character = ctypes.c_char(char.encode())\n    num_characters = wintypes.DWORD(length)\n    num_written = wintypes.DWORD(0)\n    _FillConsoleOutputCharacterW(\n        std_handle,\n        character,\n        num_characters,\n        start,\n        byref(num_written),\n    )\n    return num_written.value\n\n\n_FillConsoleOutputAttribute = windll.kernel32.FillConsoleOutputAttribute\n_FillConsoleOutputAttribute.argtypes = [\n    wintypes.HANDLE,\n    wintypes.WORD,\n    wintypes.DWORD,\n    cast(Type[COORD], WindowsCoordinates),\n    ctypes.POINTER(wintypes.DWORD),\n]\n_FillConsoleOutputAttribute.restype = wintypes.BOOL\n\n\ndef FillConsoleOutputAttribute(\n    std_handle: wintypes.HANDLE,\n    attributes: int,\n    length: int,\n    start: WindowsCoordinates,\n) -> int:\n    \"\"\"Sets the character attributes for a specified number of character cells,\n    beginning at the specified coordinates in a screen buffer.\n\n    Args:\n        std_handle (wintypes.HANDLE): A handle to the console input buffer or the console screen buffer.\n        attributes (int): Integer value representing the foreground and background colours of the cells.\n        length (int): The number of cells to set the output attribute of.\n        start (WindowsCoordinates): The coordinates of the first cell whose attributes are to be set.\n\n    Returns:\n        int: The number of cells whose attributes were actually set.\n    \"\"\"\n    num_cells = wintypes.DWORD(length)\n    style_attrs = wintypes.WORD(attributes)\n    num_written = wintypes.DWORD(0)\n    _FillConsoleOutputAttribute(\n        std_handle, style_attrs, num_cells, start, byref(num_written)\n    )\n    return num_written.value\n\n\n_SetConsoleTextAttribute = windll.kernel32.SetConsoleTextAttribute\n_SetConsoleTextAttribute.argtypes = [\n    wintypes.HANDLE,\n    wintypes.WORD,\n]\n_SetConsoleTextAttribute.restype = wintypes.BOOL\n\n\ndef SetConsoleTextAttribute(\n    std_handle: wintypes.HANDLE, attributes: wintypes.WORD\n) -> bool:\n    \"\"\"Set the colour attributes for all text written after this function is called.\n\n    Args:\n        std_handle (wintypes.HANDLE): A handle to the console input buffer or the console screen buffer.\n        attributes (int): Integer value representing the foreground and background colours.\n\n\n    Returns:\n        bool: True if the attribute was set successfully, otherwise False.\n    \"\"\"\n    return bool(_SetConsoleTextAttribute(std_handle, attributes))\n\n\n_GetConsoleScreenBufferInfo = windll.kernel32.GetConsoleScreenBufferInfo\n_GetConsoleScreenBufferInfo.argtypes = [\n    wintypes.HANDLE,\n    ctypes.POINTER(CONSOLE_SCREEN_BUFFER_INFO),\n]\n_GetConsoleScreenBufferInfo.restype = wintypes.BOOL\n\n\ndef GetConsoleScreenBufferInfo(\n    std_handle: wintypes.HANDLE,\n) -> CONSOLE_SCREEN_BUFFER_INFO:\n    \"\"\"Retrieves information about the specified console screen buffer.\n\n    Args:\n        std_handle (wintypes.HANDLE): A handle to the console input buffer or the console screen buffer.\n\n    Returns:\n        CONSOLE_SCREEN_BUFFER_INFO: A CONSOLE_SCREEN_BUFFER_INFO ctype struct contain information about\n            screen size, cursor position, colour attributes, and more.\"\"\"\n    console_screen_buffer_info = CONSOLE_SCREEN_BUFFER_INFO()\n    _GetConsoleScreenBufferInfo(std_handle, byref(console_screen_buffer_info))\n    return console_screen_buffer_info\n\n\n_SetConsoleCursorPosition = windll.kernel32.SetConsoleCursorPosition\n_SetConsoleCursorPosition.argtypes = [\n    wintypes.HANDLE,\n    cast(Type[COORD], WindowsCoordinates),\n]\n_SetConsoleCursorPosition.restype = wintypes.BOOL\n\n\ndef SetConsoleCursorPosition(\n    std_handle: wintypes.HANDLE, coords: WindowsCoordinates\n) -> bool:\n    \"\"\"Set the position of the cursor in the console screen\n\n    Args:\n        std_handle (wintypes.HANDLE): A handle to the console input buffer or the console screen buffer.\n        coords (WindowsCoordinates): The coordinates to move the cursor to.\n\n    Returns:\n        bool: True if the function succeeds, otherwise False.\n    \"\"\"\n    return bool(_SetConsoleCursorPosition(std_handle, coords))\n\n\n_GetConsoleCursorInfo = windll.kernel32.GetConsoleCursorInfo\n_GetConsoleCursorInfo.argtypes = [\n    wintypes.HANDLE,\n    ctypes.POINTER(CONSOLE_CURSOR_INFO),\n]\n_GetConsoleCursorInfo.restype = wintypes.BOOL\n\n\ndef GetConsoleCursorInfo(\n    std_handle: wintypes.HANDLE, cursor_info: CONSOLE_CURSOR_INFO\n) -> bool:\n    \"\"\"Get the cursor info - used to get cursor visibility and width\n\n    Args:\n        std_handle (wintypes.HANDLE): A handle to the console input buffer or the console screen buffer.\n        cursor_info (CONSOLE_CURSOR_INFO): CONSOLE_CURSOR_INFO ctype struct that receives information\n            about the console's cursor.\n\n    Returns:\n          bool: True if the function succeeds, otherwise False.\n    \"\"\"\n    return bool(_GetConsoleCursorInfo(std_handle, byref(cursor_info)))\n\n\n_SetConsoleCursorInfo = windll.kernel32.SetConsoleCursorInfo\n_SetConsoleCursorInfo.argtypes = [\n    wintypes.HANDLE,\n    ctypes.POINTER(CONSOLE_CURSOR_INFO),\n]\n_SetConsoleCursorInfo.restype = wintypes.BOOL\n\n\ndef SetConsoleCursorInfo(\n    std_handle: wintypes.HANDLE, cursor_info: CONSOLE_CURSOR_INFO\n) -> bool:\n    \"\"\"Set the cursor info - used for adjusting cursor visibility and width\n\n    Args:\n        std_handle (wintypes.HANDLE): A handle to the console input buffer or the console screen buffer.\n        cursor_info (CONSOLE_CURSOR_INFO): CONSOLE_CURSOR_INFO ctype struct containing the new cursor info.\n\n    Returns:\n          bool: True if the function succeeds, otherwise False.\n    \"\"\"\n    return bool(_SetConsoleCursorInfo(std_handle, byref(cursor_info)))\n\n\n_SetConsoleTitle = windll.kernel32.SetConsoleTitleW\n_SetConsoleTitle.argtypes = [wintypes.LPCWSTR]\n_SetConsoleTitle.restype = wintypes.BOOL\n\n\ndef SetConsoleTitle(title: str) -> bool:\n    \"\"\"Sets the title of the current console window\n\n    Args:\n        title (str): The new title of the console window.\n\n    Returns:\n        bool: True if the function succeeds, otherwise False.\n    \"\"\"\n    return bool(_SetConsoleTitle(title))\n\n\nclass LegacyWindowsTerm:\n    \"\"\"This class allows interaction with the legacy Windows Console API. It should only be used in the context\n    of environments where virtual terminal processing is not available. However, if it is used in a Windows environment,\n    the entire API should work.\n\n    Args:\n        file (IO[str]): The file which the Windows Console API HANDLE is retrieved from, defaults to sys.stdout.\n    \"\"\"\n\n    BRIGHT_BIT = 8\n\n    # Indices are ANSI color numbers, values are the corresponding Windows Console API color numbers\n    ANSI_TO_WINDOWS = [\n        0,  # black                      The Windows colours are defined in wincon.h as follows:\n        4,  # red                         define FOREGROUND_BLUE            0x0001 -- 0000 0001\n        2,  # green                       define FOREGROUND_GREEN           0x0002 -- 0000 0010\n        6,  # yellow                      define FOREGROUND_RED             0x0004 -- 0000 0100\n        1,  # blue                        define FOREGROUND_INTENSITY       0x0008 -- 0000 1000\n        5,  # magenta                     define BACKGROUND_BLUE            0x0010 -- 0001 0000\n        3,  # cyan                        define BACKGROUND_GREEN           0x0020 -- 0010 0000\n        7,  # white                       define BACKGROUND_RED             0x0040 -- 0100 0000\n        8,  # bright black (grey)         define BACKGROUND_INTENSITY       0x0080 -- 1000 0000\n        12,  # bright red\n        10,  # bright green\n        14,  # bright yellow\n        9,  # bright blue\n        13,  # bright magenta\n        11,  # bright cyan\n        15,  # bright white\n    ]\n\n    def __init__(self, file: \"IO[str]\") -> None:\n        handle = GetStdHandle(STDOUT)\n        self._handle = handle\n        default_text = GetConsoleScreenBufferInfo(handle).wAttributes\n        self._default_text = default_text\n\n        self._default_fore = default_text & 7\n        self._default_back = (default_text >> 4) & 7\n        self._default_attrs = self._default_fore | (self._default_back << 4)\n\n        self._file = file\n        self.write = file.write\n        self.flush = file.flush\n\n    @property\n    def cursor_position(self) -> WindowsCoordinates:\n        \"\"\"Returns the current position of the cursor (0-based)\n\n        Returns:\n            WindowsCoordinates: The current cursor position.\n        \"\"\"\n        coord: COORD = GetConsoleScreenBufferInfo(self._handle).dwCursorPosition\n        return WindowsCoordinates(row=coord.Y, col=coord.X)\n\n    @property\n    def screen_size(self) -> WindowsCoordinates:\n        \"\"\"Returns the current size of the console screen buffer, in character columns and rows\n\n        Returns:\n            WindowsCoordinates: The width and height of the screen as WindowsCoordinates.\n        \"\"\"\n        screen_size: COORD = GetConsoleScreenBufferInfo(self._handle).dwSize\n        return WindowsCoordinates(row=screen_size.Y, col=screen_size.X)\n\n    def write_text(self, text: str) -> None:\n        \"\"\"Write text directly to the terminal without any modification of styles\n\n        Args:\n            text (str): The text to write to the console\n        \"\"\"\n        self.write(text)\n        self.flush()\n\n    def write_styled(self, text: str, style: Style) -> None:\n        \"\"\"Write styled text to the terminal.\n\n        Args:\n            text (str): The text to write\n            style (Style): The style of the text\n        \"\"\"\n        color = style.color\n        bgcolor = style.bgcolor\n        if style.reverse:\n            color, bgcolor = bgcolor, color\n\n        if color:\n            fore = color.downgrade(ColorSystem.WINDOWS).number\n            fore = fore if fore is not None else 7  # Default to ANSI 7: White\n            if style.bold:\n                fore = fore | self.BRIGHT_BIT\n            if style.dim:\n                fore = fore & ~self.BRIGHT_BIT\n            fore = self.ANSI_TO_WINDOWS[fore]\n        else:\n            fore = self._default_fore\n\n        if bgcolor:\n            back = bgcolor.downgrade(ColorSystem.WINDOWS).number\n            back = back if back is not None else 0  # Default to ANSI 0: Black\n            back = self.ANSI_TO_WINDOWS[back]\n        else:\n            back = self._default_back\n\n        assert fore is not None\n        assert back is not None\n\n        SetConsoleTextAttribute(\n            self._handle, attributes=ctypes.c_ushort(fore | (back << 4))\n        )\n        self.write_text(text)\n        SetConsoleTextAttribute(self._handle, attributes=self._default_text)\n\n    def move_cursor_to(self, new_position: WindowsCoordinates) -> None:\n        \"\"\"Set the position of the cursor\n\n        Args:\n            new_position (WindowsCoordinates): The WindowsCoordinates representing the new position of the cursor.\n        \"\"\"\n        if new_position.col < 0 or new_position.row < 0:\n            return\n        SetConsoleCursorPosition(self._handle, coords=new_position)\n\n    def erase_line(self) -> None:\n        \"\"\"Erase all content on the line the cursor is currently located at\"\"\"\n        screen_size = self.screen_size\n        cursor_position = self.cursor_position\n        cells_to_erase = screen_size.col\n        start_coordinates = WindowsCoordinates(row=cursor_position.row, col=0)\n        FillConsoleOutputCharacter(\n            self._handle, \" \", length=cells_to_erase, start=start_coordinates\n        )\n        FillConsoleOutputAttribute(\n            self._handle,\n            self._default_attrs,\n            length=cells_to_erase,\n            start=start_coordinates,\n        )\n\n    def erase_end_of_line(self) -> None:\n        \"\"\"Erase all content from the cursor position to the end of that line\"\"\"\n        cursor_position = self.cursor_position\n        cells_to_erase = self.screen_size.col - cursor_position.col\n        FillConsoleOutputCharacter(\n            self._handle, \" \", length=cells_to_erase, start=cursor_position\n        )\n        FillConsoleOutputAttribute(\n            self._handle,\n            self._default_attrs,\n            length=cells_to_erase,\n            start=cursor_position,\n        )\n\n    def erase_start_of_line(self) -> None:\n        \"\"\"Erase all content from the cursor position to the start of that line\"\"\"\n        row, col = self.cursor_position\n        start = WindowsCoordinates(row, 0)\n        FillConsoleOutputCharacter(self._handle, \" \", length=col, start=start)\n        FillConsoleOutputAttribute(\n            self._handle, self._default_attrs, length=col, start=start\n        )\n\n    def move_cursor_up(self) -> None:\n        \"\"\"Move the cursor up a single cell\"\"\"\n        cursor_position = self.cursor_position\n        SetConsoleCursorPosition(\n            self._handle,\n            coords=WindowsCoordinates(\n                row=cursor_position.row - 1, col=cursor_position.col\n            ),\n        )\n\n    def move_cursor_down(self) -> None:\n        \"\"\"Move the cursor down a single cell\"\"\"\n        cursor_position = self.cursor_position\n        SetConsoleCursorPosition(\n            self._handle,\n            coords=WindowsCoordinates(\n                row=cursor_position.row + 1,\n                col=cursor_position.col,\n            ),\n        )\n\n    def move_cursor_forward(self) -> None:\n        \"\"\"Move the cursor forward a single cell. Wrap to the next line if required.\"\"\"\n        row, col = self.cursor_position\n        if col == self.screen_size.col - 1:\n            row += 1\n            col = 0\n        else:\n            col += 1\n        SetConsoleCursorPosition(\n            self._handle, coords=WindowsCoordinates(row=row, col=col)\n        )\n\n    def move_cursor_to_column(self, column: int) -> None:\n        \"\"\"Move cursor to the column specified by the zero-based column index, staying on the same row\n\n        Args:\n            column (int): The zero-based column index to move the cursor to.\n        \"\"\"\n        row, _ = self.cursor_position\n        SetConsoleCursorPosition(self._handle, coords=WindowsCoordinates(row, column))\n\n    def move_cursor_backward(self) -> None:\n        \"\"\"Move the cursor backward a single cell. Wrap to the previous line if required.\"\"\"\n        row, col = self.cursor_position\n        if col == 0:\n            row -= 1\n            col = self.screen_size.col - 1\n        else:\n            col -= 1\n        SetConsoleCursorPosition(\n            self._handle, coords=WindowsCoordinates(row=row, col=col)\n        )\n\n    def hide_cursor(self) -> None:\n        \"\"\"Hide the cursor\"\"\"\n        current_cursor_size = self._get_cursor_size()\n        invisible_cursor = CONSOLE_CURSOR_INFO(dwSize=current_cursor_size, bVisible=0)\n        SetConsoleCursorInfo(self._handle, cursor_info=invisible_cursor)\n\n    def show_cursor(self) -> None:\n        \"\"\"Show the cursor\"\"\"\n        current_cursor_size = self._get_cursor_size()\n        visible_cursor = CONSOLE_CURSOR_INFO(dwSize=current_cursor_size, bVisible=1)\n        SetConsoleCursorInfo(self._handle, cursor_info=visible_cursor)\n\n    def set_title(self, title: str) -> None:\n        \"\"\"Set the title of the terminal window\n\n        Args:\n            title (str): The new title of the console window\n        \"\"\"\n        assert len(title) < 255, \"Console title must be less than 255 characters\"\n        SetConsoleTitle(title)\n\n    def _get_cursor_size(self) -> int:\n        \"\"\"Get the percentage of the character cell that is filled by the cursor\"\"\"\n        cursor_info = CONSOLE_CURSOR_INFO()\n        GetConsoleCursorInfo(self._handle, cursor_info=cursor_info)\n        return int(cursor_info.dwSize)\n\n\nif __name__ == \"__main__\":\n    handle = GetStdHandle()\n\n    from rich.console import Console\n\n    console = Console()\n\n    term = LegacyWindowsTerm(sys.stdout)\n    term.set_title(\"Win32 Console Examples\")\n\n    style = Style(color=\"black\", bgcolor=\"red\")\n\n    heading = Style.parse(\"black on green\")\n\n    # Check colour output\n    console.rule(\"Checking colour output\")\n    console.print(\"[on red]on red!\")\n    console.print(\"[blue]blue!\")\n    console.print(\"[yellow]yellow!\")\n    console.print(\"[bold yellow]bold yellow!\")\n    console.print(\"[bright_yellow]bright_yellow!\")\n    console.print(\"[dim bright_yellow]dim bright_yellow!\")\n    console.print(\"[italic cyan]italic cyan!\")\n    console.print(\"[bold white on blue]bold white on blue!\")\n    console.print(\"[reverse bold white on blue]reverse bold white on blue!\")\n    console.print(\"[bold black on cyan]bold black on cyan!\")\n    console.print(\"[black on green]black on green!\")\n    console.print(\"[blue on green]blue on green!\")\n    console.print(\"[white on black]white on black!\")\n    console.print(\"[black on white]black on white!\")\n    console.print(\"[#1BB152 on #DA812D]#1BB152 on #DA812D!\")\n\n    # Check cursor movement\n    console.rule(\"Checking cursor movement\")\n    console.print()\n    term.move_cursor_backward()\n    term.move_cursor_backward()\n    term.write_text(\"went back and wrapped to prev line\")\n    time.sleep(1)\n    term.move_cursor_up()\n    term.write_text(\"we go up\")\n    time.sleep(1)\n    term.move_cursor_down()\n    term.write_text(\"and down\")\n    time.sleep(1)\n    term.move_cursor_up()\n    term.move_cursor_backward()\n    term.move_cursor_backward()\n    term.write_text(\"we went up and back 2\")\n    time.sleep(1)\n    term.move_cursor_down()\n    term.move_cursor_backward()\n    term.move_cursor_backward()\n    term.write_text(\"we went down and back 2\")\n    time.sleep(1)\n\n    # Check erasing of lines\n    term.hide_cursor()\n    console.print()\n    console.rule(\"Checking line erasing\")\n    console.print(\"\\n...Deleting to the start of the line...\")\n    term.write_text(\"The red arrow shows the cursor location, and direction of erase\")\n    time.sleep(1)\n    term.move_cursor_to_column(16)\n    term.write_styled(\"<\", Style.parse(\"black on red\"))\n    term.move_cursor_backward()\n    time.sleep(1)\n    term.erase_start_of_line()\n    time.sleep(1)\n\n    console.print(\"\\n\\n...And to the end of the line...\")\n    term.write_text(\"The red arrow shows the cursor location, and direction of erase\")\n    time.sleep(1)\n\n    term.move_cursor_to_column(16)\n    term.write_styled(\">\", Style.parse(\"black on red\"))\n    time.sleep(1)\n    term.erase_end_of_line()\n    time.sleep(1)\n\n    console.print(\"\\n\\n...Now the whole line will be erased...\")\n    term.write_styled(\"I'm going to disappear!\", style=Style.parse(\"black on cyan\"))\n    time.sleep(1)\n    term.erase_line()\n\n    term.show_cursor()\n    print(\"\\n\")\n",
    "start_line": 0
  },
  {
    "file": "panel.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from typing import TYPE_CHECKING, Optional\nfrom .align import AlignMethod\nfrom .box import ROUNDED, Box\nfrom .cells import cell_len\nfrom .jupyter import JupyterMixin\nfrom .measure import Measurement, measure_renderables\nfrom .padding import Padding, PaddingDimensions\nfrom .segment import Segment\nfrom .style import Style, StyleType\nfrom .text import Text, TextType\nif TYPE_CHECKING:\n    from .console import Console, ConsoleOptions, RenderableType, RenderResult",
    "start_line": 0
  },
  {
    "file": "panel.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "Panel",
    "content": "class Panel(JupyterMixin):\n    \"\"\"A console renderable that draws a border around its contents.\n\n    Example:\n        >>> console.print(Panel(\"Hello, World!\"))\n\n    Args:\n        renderable (RenderableType): A console renderable object.\n        box (Box): A Box instance that defines the look of the border (see :ref:`appendix_box`. Defaults to box.ROUNDED.\n        title (Optional[TextType], optional): Optional title displayed in panel header. Defaults to None.\n        title_align (AlignMethod, optional): Alignment of title. Defaults to \"center\".\n        subtitle (Optional[TextType], optional): Optional subtitle displayed in panel footer. Defaults to None.\n        subtitle_align (AlignMethod, optional): Alignment of subtitle. Defaults to \"center\".\n        safe_box (bool, optional): Disable box characters that don't display on windows legacy terminal with *raster* fonts. Defaults to True.\n        expand (bool, optional): If True the panel will stretch to fill the console width, otherwise it will be sized to fit the contents. Defaults to True.\n        style (str, optional): The style of the panel (border and contents). Defaults to \"none\".\n        border_style (str, optional): The style of the border. Defaults to \"none\".\n        width (Optional[int], optional): Optional width of panel. Defaults to None to auto-detect.\n        height (Optional[int], optional): Optional height of panel. Defaults to None to auto-detect.\n        padding (Optional[PaddingDimensions]): Optional padding around renderable. Defaults to 0.\n        highlight (bool, optional): Enable automatic highlighting of panel title (if str). Defaults to False.\n    \"\"\"",
    "start_line": 16
  },
  {
    "file": "panel.py",
    "type": "method",
    "class": "Panel",
    "method": "__init__",
    "name": "__init__",
    "content": "class Panel:\n    def __init__(\n        self,\n        renderable: \"RenderableType\",\n        box: Box = ROUNDED,\n        *,\n        title: Optional[TextType] = None,\n        title_align: AlignMethod = \"center\",\n        subtitle: Optional[TextType] = None,\n        subtitle_align: AlignMethod = \"center\",\n        safe_box: Optional[bool] = None,\n        expand: bool = True,\n        style: StyleType = \"none\",\n        border_style: StyleType = \"none\",\n        width: Optional[int] = None,\n        height: Optional[int] = None,\n        padding: PaddingDimensions = (0, 1),\n        highlight: bool = False,\n    ) -> None:\n        self.renderable = renderable\n        self.box = box\n        self.title = title\n        self.title_align: AlignMethod = title_align\n        self.subtitle = subtitle\n        self.subtitle_align = subtitle_align\n        self.safe_box = safe_box\n        self.expand = expand\n        self.style = style\n        self.border_style = border_style\n        self.width = width\n        self.height = height\n        self.padding = padding\n        self.highlight = highlight\n\n    @classmethod",
    "start_line": 39
  },
  {
    "file": "panel.py",
    "type": "method",
    "class": "Panel",
    "method": "fit",
    "name": "fit",
    "content": "class Panel:\n    def fit(\n        cls,\n        renderable: \"RenderableType\",\n        box: Box = ROUNDED,\n        *,\n        title: Optional[TextType] = None,\n        title_align: AlignMethod = \"center\",\n        subtitle: Optional[TextType] = None,\n        subtitle_align: AlignMethod = \"center\",\n        safe_box: Optional[bool] = None,\n        style: StyleType = \"none\",\n        border_style: StyleType = \"none\",\n        width: Optional[int] = None,\n        height: Optional[int] = None,\n        padding: PaddingDimensions = (0, 1),\n        highlight: bool = False,\n    ) -> \"Panel\":\n        \"\"\"An alternative constructor that sets expand=False.\"\"\"\n        return cls(\n            renderable,\n            box,\n            title=title,\n            title_align=title_align,\n            subtitle=subtitle,\n            subtitle_align=subtitle_align,\n            safe_box=safe_box,\n            style=style,\n            border_style=border_style,\n            width=width,\n            height=height,\n            padding=padding,\n            highlight=highlight,\n            expand=False,\n        )\n\n    @property",
    "start_line": 73
  },
  {
    "file": "panel.py",
    "type": "method",
    "class": "Panel",
    "method": "_title",
    "name": "_title",
    "content": "class Panel:\n    def _title(self) -> Optional[Text]:\n        if self.title:\n            title_text = (\n                Text.from_markup(self.title)\n                if isinstance(self.title, str)\n                else self.title.copy()\n            )\n            title_text.end = \"\"\n            title_text.plain = title_text.plain.replace(\"\\n\", \" \")\n            title_text.no_wrap = True\n            title_text.expand_tabs()\n            title_text.pad(1)\n            return title_text\n        return None\n\n    @property",
    "start_line": 109
  },
  {
    "file": "panel.py",
    "type": "method",
    "class": "Panel",
    "method": "_subtitle",
    "name": "_subtitle",
    "content": "class Panel:\n    def _subtitle(self) -> Optional[Text]:\n        if self.subtitle:\n            subtitle_text = (\n                Text.from_markup(self.subtitle)\n                if isinstance(self.subtitle, str)\n                else self.subtitle.copy()\n            )\n            subtitle_text.end = \"\"\n            subtitle_text.plain = subtitle_text.plain.replace(\"\\n\", \" \")\n            subtitle_text.no_wrap = True\n            subtitle_text.expand_tabs()\n            subtitle_text.pad(1)\n            return subtitle_text\n        return None",
    "start_line": 125
  },
  {
    "file": "panel.py",
    "type": "method",
    "class": "Panel",
    "method": "__rich_console__",
    "name": "__rich_console__",
    "content": "class Panel:\n    def __rich_console__(\n        self, console: \"Console\", options: \"ConsoleOptions\"\n    ) -> \"RenderResult\":\n        _padding = Padding.unpack(self.padding)\n        renderable = (\n            Padding(self.renderable, _padding) if any(_padding) else self.renderable\n        )\n        style = console.get_style(self.style)\n        partial_border_style = console.get_style(self.border_style)\n        border_style = style + partial_border_style\n        width = (\n            options.max_width\n            if self.width is None\n            else min(options.max_width, self.width)\n        )\n\n        safe_box: bool = console.safe_box if self.safe_box is None else self.safe_box\n        box = self.box.substitute(options, safe=safe_box)",
    "start_line": 140
  },
  {
    "file": "panel.py",
    "type": "method",
    "class": "Panel",
    "method": "align_text",
    "name": "align_text",
    "content": "class Panel:\n        def align_text(\n            text: Text, width: int, align: str, character: str, style: Style\n        ) -> Text:\n            \"\"\"Gets new aligned text.\n\n            Args:\n                text (Text): Title or subtitle text.\n                width (int): Desired width.\n                align (str): Alignment.\n                character (str): Character for alignment.\n                style (Style): Border style\n\n            Returns:\n                Text: New text instance\n            \"\"\"\n            text = text.copy()\n            text.truncate(width)\n            excess_space = width - cell_len(text.plain)\n            if text.style:\n                text.stylize(console.get_style(text.style))\n\n            if excess_space:\n                if align == \"left\":\n                    return Text.assemble(\n                        text,\n                        (character * excess_space, style),\n                        no_wrap=True,\n                        end=\"\",\n                    )\n                elif align == \"center\":\n                    left = excess_space // 2\n                    return Text.assemble(\n                        (character * left, style),\n                        text,\n                        (character * (excess_space - left), style),\n                        no_wrap=True,\n                        end=\"\",\n                    )\n                else:\n                    return Text.assemble(\n                        (character * excess_space, style),\n                        text,\n                        no_wrap=True,\n                        end=\"\",\n                    )\n            return text\n\n        title_text = self._title\n        if title_text is not None:\n            title_text.stylize_before(partial_border_style)\n\n        child_width = (\n            width - 2\n            if self.expand\n            else console.measure(\n                renderable, options=options.update_width(width - 2)\n            ).maximum\n        )\n        child_height = self.height or options.height or None\n        if child_height:\n            child_height -= 2\n        if title_text is not None:\n            child_width = min(\n                options.max_width - 2, max(child_width, title_text.cell_len + 2)\n            )\n\n        width = child_width + 2\n        child_options = options.update(\n            width=child_width, height=child_height, highlight=self.highlight\n        )\n        lines = console.render_lines(renderable, child_options, style=style)\n\n        line_start = Segment(box.mid_left, border_style)\n        line_end = Segment(f\"{box.mid_right}\", border_style)\n        new_line = Segment.line()\n        if title_text is None or width <= 4:\n            yield Segment(box.get_top([width - 2]), border_style)\n        else:\n            title_text = align_text(\n                title_text,\n                width - 4,\n                self.title_align,\n                box.top,\n                border_style,\n            )\n            yield Segment(box.top_left + box.top, border_style)\n            yield from console.render(title_text, child_options.update_width(width - 4))\n            yield Segment(box.top + box.top_right, border_style)\n\n        yield new_line\n        for line in lines:\n            yield line_start\n            yield from line\n            yield line_end\n            yield new_line\n\n        subtitle_text = self._subtitle\n        if subtitle_text is not None:\n            subtitle_text.stylize_before(partial_border_style)\n\n        if subtitle_text is None or width <= 4:\n            yield Segment(box.get_bottom([width - 2]), border_style)\n        else:\n            subtitle_text = align_text(\n                subtitle_text,\n                width - 4,\n                self.subtitle_align,\n                box.bottom,\n                border_style,\n            )\n            yield Segment(box.bottom_left + box.bottom, border_style)\n            yield from console.render(\n                subtitle_text, child_options.update_width(width - 4)\n            )\n            yield Segment(box.bottom + box.bottom_right, border_style)\n\n        yield new_line",
    "start_line": 159
  },
  {
    "file": "panel.py",
    "type": "method",
    "class": "Panel",
    "method": "__rich_measure__",
    "name": "__rich_measure__",
    "content": "class Panel:\n    def __rich_measure__(\n        self, console: \"Console\", options: \"ConsoleOptions\"\n    ) -> \"Measurement\":\n        _title = self._title\n        _, right, _, left = Padding.unpack(self.padding)\n        padding = left + right\n        renderables = [self.renderable, _title] if _title else [self.renderable]\n\n        if self.width is None:\n            width = (\n                measure_renderables(\n                    console,\n                    options.update_width(options.max_width - padding - 2),\n                    renderables,\n                ).maximum\n                + padding\n                + 2\n            )\n        else:\n            width = self.width\n        return Measurement(width, width)\n\n\nif __name__ == \"__main__\":  # pragma: no cover",
    "start_line": 277
  },
  {
    "file": "panel.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from .console import Console\n    c = Console()\n    from .box import DOUBLE, ROUNDED\n    from .padding import Padding\n    p = Panel(\n        \"Hello, World!\",\n        title=\"rich.Panel\",\n        style=\"white on blue\",\n        box=DOUBLE,\n        padding=1,\n    )\n    c.print()\n    c.print(p)",
    "start_line": 301
  },
  {
    "file": "panel.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "from typing import TYPE_CHECKING, Optional\n\nfrom .align import AlignMethod\nfrom .box import ROUNDED, Box\nfrom .cells import cell_len\nfrom .jupyter import JupyterMixin\nfrom .measure import Measurement, measure_renderables\nfrom .padding import Padding, PaddingDimensions\nfrom .segment import Segment\nfrom .style import Style, StyleType\nfrom .text import Text, TextType\n\nif TYPE_CHECKING:\n    from .console import Console, ConsoleOptions, RenderableType, RenderResult\n\n\nclass Panel(JupyterMixin):\n    \"\"\"A console renderable that draws a border around its contents.\n\n    Example:\n        >>> console.print(Panel(\"Hello, World!\"))\n\n    Args:\n        renderable (RenderableType): A console renderable object.\n        box (Box): A Box instance that defines the look of the border (see :ref:`appendix_box`. Defaults to box.ROUNDED.\n        title (Optional[TextType], optional): Optional title displayed in panel header. Defaults to None.\n        title_align (AlignMethod, optional): Alignment of title. Defaults to \"center\".\n        subtitle (Optional[TextType], optional): Optional subtitle displayed in panel footer. Defaults to None.\n        subtitle_align (AlignMethod, optional): Alignment of subtitle. Defaults to \"center\".\n        safe_box (bool, optional): Disable box characters that don't display on windows legacy terminal with *raster* fonts. Defaults to True.\n        expand (bool, optional): If True the panel will stretch to fill the console width, otherwise it will be sized to fit the contents. Defaults to True.\n        style (str, optional): The style of the panel (border and contents). Defaults to \"none\".\n        border_style (str, optional): The style of the border. Defaults to \"none\".\n        width (Optional[int], optional): Optional width of panel. Defaults to None to auto-detect.\n        height (Optional[int], optional): Optional height of panel. Defaults to None to auto-detect.\n        padding (Optional[PaddingDimensions]): Optional padding around renderable. Defaults to 0.\n        highlight (bool, optional): Enable automatic highlighting of panel title (if str). Defaults to False.\n    \"\"\"\n\n    def __init__(\n        self,\n        renderable: \"RenderableType\",\n        box: Box = ROUNDED,\n        *,\n        title: Optional[TextType] = None,\n        title_align: AlignMethod = \"center\",\n        subtitle: Optional[TextType] = None,\n        subtitle_align: AlignMethod = \"center\",\n        safe_box: Optional[bool] = None,\n        expand: bool = True,\n        style: StyleType = \"none\",\n        border_style: StyleType = \"none\",\n        width: Optional[int] = None,\n        height: Optional[int] = None,\n        padding: PaddingDimensions = (0, 1),\n        highlight: bool = False,\n    ) -> None:\n        self.renderable = renderable\n        self.box = box\n        self.title = title\n        self.title_align: AlignMethod = title_align\n        self.subtitle = subtitle\n        self.subtitle_align = subtitle_align\n        self.safe_box = safe_box\n        self.expand = expand\n        self.style = style\n        self.border_style = border_style\n        self.width = width\n        self.height = height\n        self.padding = padding\n        self.highlight = highlight\n\n    @classmethod\n    def fit(\n        cls,\n        renderable: \"RenderableType\",\n        box: Box = ROUNDED,\n        *,\n        title: Optional[TextType] = None,\n        title_align: AlignMethod = \"center\",\n        subtitle: Optional[TextType] = None,\n        subtitle_align: AlignMethod = \"center\",\n        safe_box: Optional[bool] = None,\n        style: StyleType = \"none\",\n        border_style: StyleType = \"none\",\n        width: Optional[int] = None,\n        height: Optional[int] = None,\n        padding: PaddingDimensions = (0, 1),\n        highlight: bool = False,\n    ) -> \"Panel\":\n        \"\"\"An alternative constructor that sets expand=False.\"\"\"\n        return cls(\n            renderable,\n            box,\n            title=title,\n            title_align=title_align,\n            subtitle=subtitle,\n            subtitle_align=subtitle_align,\n            safe_box=safe_box,\n            style=style,\n            border_style=border_style,\n            width=width,\n            height=height,\n            padding=padding,\n            highlight=highlight,\n            expand=False,\n        )\n\n    @property\n    def _title(self) -> Optional[Text]:\n        if self.title:\n            title_text = (\n                Text.from_markup(self.title)\n                if isinstance(self.title, str)\n                else self.title.copy()\n            )\n            title_text.end = \"\"\n            title_text.plain = title_text.plain.replace(\"\\n\", \" \")\n            title_text.no_wrap = True\n            title_text.expand_tabs()\n            title_text.pad(1)\n            return title_text\n        return None\n\n    @property\n    def _subtitle(self) -> Optional[Text]:\n        if self.subtitle:\n            subtitle_text = (\n                Text.from_markup(self.subtitle)\n                if isinstance(self.subtitle, str)\n                else self.subtitle.copy()\n            )\n            subtitle_text.end = \"\"\n            subtitle_text.plain = subtitle_text.plain.replace(\"\\n\", \" \")\n            subtitle_text.no_wrap = True\n            subtitle_text.expand_tabs()\n            subtitle_text.pad(1)\n            return subtitle_text\n        return None\n\n    def __rich_console__(\n        self, console: \"Console\", options: \"ConsoleOptions\"\n    ) -> \"RenderResult\":\n        _padding = Padding.unpack(self.padding)\n        renderable = (\n            Padding(self.renderable, _padding) if any(_padding) else self.renderable\n        )\n        style = console.get_style(self.style)\n        partial_border_style = console.get_style(self.border_style)\n        border_style = style + partial_border_style\n        width = (\n            options.max_width\n            if self.width is None\n            else min(options.max_width, self.width)\n        )\n\n        safe_box: bool = console.safe_box if self.safe_box is None else self.safe_box\n        box = self.box.substitute(options, safe=safe_box)\n\n        def align_text(\n            text: Text, width: int, align: str, character: str, style: Style\n        ) -> Text:\n            \"\"\"Gets new aligned text.\n\n            Args:\n                text (Text): Title or subtitle text.\n                width (int): Desired width.\n                align (str): Alignment.\n                character (str): Character for alignment.\n                style (Style): Border style\n\n            Returns:\n                Text: New text instance\n            \"\"\"\n            text = text.copy()\n            text.truncate(width)\n            excess_space = width - cell_len(text.plain)\n            if text.style:\n                text.stylize(console.get_style(text.style))\n\n            if excess_space:\n                if align == \"left\":\n                    return Text.assemble(\n                        text,\n                        (character * excess_space, style),\n                        no_wrap=True,\n                        end=\"\",\n                    )\n                elif align == \"center\":\n                    left = excess_space // 2\n                    return Text.assemble(\n                        (character * left, style),\n                        text,\n                        (character * (excess_space - left), style),\n                        no_wrap=True,\n                        end=\"\",\n                    )\n                else:\n                    return Text.assemble(\n                        (character * excess_space, style),\n                        text,\n                        no_wrap=True,\n                        end=\"\",\n                    )\n            return text\n\n        title_text = self._title\n        if title_text is not None:\n            title_text.stylize_before(partial_border_style)\n\n        child_width = (\n            width - 2\n            if self.expand\n            else console.measure(\n                renderable, options=options.update_width(width - 2)\n            ).maximum\n        )\n        child_height = self.height or options.height or None\n        if child_height:\n            child_height -= 2\n        if title_text is not None:\n            child_width = min(\n                options.max_width - 2, max(child_width, title_text.cell_len + 2)\n            )\n\n        width = child_width + 2\n        child_options = options.update(\n            width=child_width, height=child_height, highlight=self.highlight\n        )\n        lines = console.render_lines(renderable, child_options, style=style)\n\n        line_start = Segment(box.mid_left, border_style)\n        line_end = Segment(f\"{box.mid_right}\", border_style)\n        new_line = Segment.line()\n        if title_text is None or width <= 4:\n            yield Segment(box.get_top([width - 2]), border_style)\n        else:\n            title_text = align_text(\n                title_text,\n                width - 4,\n                self.title_align,\n                box.top,\n                border_style,\n            )\n            yield Segment(box.top_left + box.top, border_style)\n            yield from console.render(title_text, child_options.update_width(width - 4))\n            yield Segment(box.top + box.top_right, border_style)\n\n        yield new_line\n        for line in lines:\n            yield line_start\n            yield from line\n            yield line_end\n            yield new_line\n\n        subtitle_text = self._subtitle\n        if subtitle_text is not None:\n            subtitle_text.stylize_before(partial_border_style)\n\n        if subtitle_text is None or width <= 4:\n            yield Segment(box.get_bottom([width - 2]), border_style)\n        else:\n            subtitle_text = align_text(\n                subtitle_text,\n                width - 4,\n                self.subtitle_align,\n                box.bottom,\n                border_style,\n            )\n            yield Segment(box.bottom_left + box.bottom, border_style)\n            yield from console.render(\n                subtitle_text, child_options.update_width(width - 4)\n            )\n            yield Segment(box.bottom + box.bottom_right, border_style)\n\n        yield new_line\n\n    def __rich_measure__(\n        self, console: \"Console\", options: \"ConsoleOptions\"\n    ) -> \"Measurement\":\n        _title = self._title\n        _, right, _, left = Padding.unpack(self.padding)\n        padding = left + right\n        renderables = [self.renderable, _title] if _title else [self.renderable]\n\n        if self.width is None:\n            width = (\n                measure_renderables(\n                    console,\n                    options.update_width(options.max_width - padding - 2),\n                    renderables,\n                ).maximum\n                + padding\n                + 2\n            )\n        else:\n            width = self.width\n        return Measurement(width, width)\n\n\nif __name__ == \"__main__\":  # pragma: no cover\n    from .console import Console\n\n    c = Console()\n\n    from .box import DOUBLE, ROUNDED\n    from .padding import Padding\n\n    p = Panel(\n        \"Hello, World!\",\n        title=\"rich.Panel\",\n        style=\"white on blue\",\n        box=DOUBLE,\n        padding=1,\n    )\n\n    c.print()\n    c.print(p)\n",
    "start_line": 0
  },
  {
    "file": "styled.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from typing import TYPE_CHECKING\nfrom .measure import Measurement\nfrom .segment import Segment\nfrom .style import StyleType\nif TYPE_CHECKING:\n    from .console import Console, ConsoleOptions, RenderResult, RenderableType",
    "start_line": 0
  },
  {
    "file": "styled.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "Styled",
    "content": "class Styled:\n    \"\"\"Apply a style to a renderable.\n\n    Args:\n        renderable (RenderableType): Any renderable.\n        style (StyleType): A style to apply across the entire renderable.\n    \"\"\"",
    "start_line": 10
  },
  {
    "file": "styled.py",
    "type": "method",
    "class": "Styled",
    "method": "__init__",
    "name": "__init__",
    "content": "class Styled:\n    def __init__(self, renderable: \"RenderableType\", style: \"StyleType\") -> None:\n        self.renderable = renderable\n        self.style = style",
    "start_line": 18
  },
  {
    "file": "styled.py",
    "type": "method",
    "class": "Styled",
    "method": "__rich_console__",
    "name": "__rich_console__",
    "content": "class Styled:\n    def __rich_console__(\n        self, console: \"Console\", options: \"ConsoleOptions\"\n    ) -> \"RenderResult\":\n        style = console.get_style(self.style)\n        rendered_segments = console.render(self.renderable, options)\n        segments = Segment.apply_style(rendered_segments, style)\n        return segments",
    "start_line": 22
  },
  {
    "file": "styled.py",
    "type": "method",
    "class": "Styled",
    "method": "__rich_measure__",
    "name": "__rich_measure__",
    "content": "class Styled:\n    def __rich_measure__(\n        self, console: \"Console\", options: \"ConsoleOptions\"\n    ) -> Measurement:\n        return Measurement.get(console, options, self.renderable)\n\n\nif __name__ == \"__main__\":  # pragma: no cover",
    "start_line": 30
  },
  {
    "file": "styled.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from rich import print\n    from rich.panel import Panel\n    panel = Styled(Panel(\"hello\"), \"on blue\")\n    print(panel)",
    "start_line": 37
  },
  {
    "file": "styled.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "from typing import TYPE_CHECKING\n\nfrom .measure import Measurement\nfrom .segment import Segment\nfrom .style import StyleType\n\nif TYPE_CHECKING:\n    from .console import Console, ConsoleOptions, RenderResult, RenderableType\n\n\nclass Styled:\n    \"\"\"Apply a style to a renderable.\n\n    Args:\n        renderable (RenderableType): Any renderable.\n        style (StyleType): A style to apply across the entire renderable.\n    \"\"\"\n\n    def __init__(self, renderable: \"RenderableType\", style: \"StyleType\") -> None:\n        self.renderable = renderable\n        self.style = style\n\n    def __rich_console__(\n        self, console: \"Console\", options: \"ConsoleOptions\"\n    ) -> \"RenderResult\":\n        style = console.get_style(self.style)\n        rendered_segments = console.render(self.renderable, options)\n        segments = Segment.apply_style(rendered_segments, style)\n        return segments\n\n    def __rich_measure__(\n        self, console: \"Console\", options: \"ConsoleOptions\"\n    ) -> Measurement:\n        return Measurement.get(console, options, self.renderable)\n\n\nif __name__ == \"__main__\":  # pragma: no cover\n    from rich import print\n    from rich.panel import Panel\n\n    panel = Styled(Panel(\"hello\"), \"on blue\")\n    print(panel)\n",
    "start_line": 0
  },
  {
    "file": "spinner.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from typing import cast, List, Optional, TYPE_CHECKING, Union\nfrom ._spinners import SPINNERS\nfrom .measure import Measurement\nfrom .table import Table\nfrom .text import Text\nif TYPE_CHECKING:\n    from .console import Console, ConsoleOptions, RenderResult, RenderableType\n    from .style import StyleType",
    "start_line": 0
  },
  {
    "file": "spinner.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "Spinner",
    "content": "class Spinner:\n    \"\"\"A spinner animation.\n\n    Args:\n        name (str): Name of spinner (run python -m rich.spinner).\n        text (RenderableType, optional): A renderable to display at the right of the spinner (str or Text typically). Defaults to \"\".\n        style (StyleType, optional): Style for spinner animation. Defaults to None.\n        speed (float, optional): Speed factor for animation. Defaults to 1.0.\n\n    Raises:\n        KeyError: If name isn't one of the supported spinner animations.\n    \"\"\"",
    "start_line": 12
  },
  {
    "file": "spinner.py",
    "type": "method",
    "class": "Spinner",
    "method": "__init__",
    "name": "__init__",
    "content": "class Spinner:\n    def __init__(\n        self,\n        name: str,\n        text: \"RenderableType\" = \"\",\n        *,\n        style: Optional[\"StyleType\"] = None,\n        speed: float = 1.0,\n    ) -> None:\n        try:\n            spinner = SPINNERS[name]\n        except KeyError:\n            raise KeyError(f\"no spinner called {name!r}\")\n        self.text: \"Union[RenderableType, Text]\" = (\n            Text.from_markup(text) if isinstance(text, str) else text\n        )\n        self.name = name\n        self.frames = cast(List[str], spinner[\"frames\"])[:]\n        self.interval = cast(float, spinner[\"interval\"])\n        self.start_time: Optional[float] = None\n        self.style = style\n        self.speed = speed\n        self.frame_no_offset: float = 0.0\n        self._update_speed = 0.0",
    "start_line": 25
  },
  {
    "file": "spinner.py",
    "type": "method",
    "class": "Spinner",
    "method": "__rich_console__",
    "name": "__rich_console__",
    "content": "class Spinner:\n    def __rich_console__(\n        self, console: \"Console\", options: \"ConsoleOptions\"\n    ) -> \"RenderResult\":\n        yield self.render(console.get_time())",
    "start_line": 49
  },
  {
    "file": "spinner.py",
    "type": "method",
    "class": "Spinner",
    "method": "__rich_measure__",
    "name": "__rich_measure__",
    "content": "class Spinner:\n    def __rich_measure__(\n        self, console: \"Console\", options: \"ConsoleOptions\"\n    ) -> Measurement:\n        text = self.render(0)\n        return Measurement.get(console, options, text)",
    "start_line": 54
  },
  {
    "file": "spinner.py",
    "type": "method",
    "class": "Spinner",
    "method": "render",
    "name": "render",
    "content": "class Spinner:\n    def render(self, time: float) -> \"RenderableType\":\n        \"\"\"Render the spinner for a given time.\n\n        Args:\n            time (float): Time in seconds.\n\n        Returns:\n            RenderableType: A renderable containing animation frame.\n        \"\"\"\n        if self.start_time is None:\n            self.start_time = time\n\n        frame_no = ((time - self.start_time) * self.speed) / (\n            self.interval / 1000.0\n        ) + self.frame_no_offset\n        frame = Text(\n            self.frames[int(frame_no) % len(self.frames)], style=self.style or \"\"\n        )\n\n        if self._update_speed:\n            self.frame_no_offset = frame_no\n            self.start_time = time\n            self.speed = self._update_speed\n            self._update_speed = 0.0\n\n        if not self.text:\n            return frame\n        elif isinstance(self.text, (str, Text)):\n            return Text.assemble(frame, \" \", self.text)\n        else:\n            table = Table.grid(padding=1)\n            table.add_row(frame, self.text)\n            return table",
    "start_line": 60
  },
  {
    "file": "spinner.py",
    "type": "method",
    "class": "Spinner",
    "method": "update",
    "name": "update",
    "content": "class Spinner:\n    def update(\n        self,\n        *,\n        text: \"RenderableType\" = \"\",\n        style: Optional[\"StyleType\"] = None,\n        speed: Optional[float] = None,\n    ) -> None:\n        \"\"\"Updates attributes of a spinner after it has been started.\n\n        Args:\n            text (RenderableType, optional): A renderable to display at the right of the spinner (str or Text typically). Defaults to \"\".\n            style (StyleType, optional): Style for spinner animation. Defaults to None.\n            speed (float, optional): Speed factor for animation. Defaults to None.\n        \"\"\"\n        if text:\n            self.text = Text.from_markup(text) if isinstance(text, str) else text\n        if style:\n            self.style = style\n        if speed:\n            self._update_speed = speed\n\n\nif __name__ == \"__main__\":  # pragma: no cover",
    "start_line": 94
  },
  {
    "file": "spinner.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from time import sleep\n    from .columns import Columns\n    from .panel import Panel\n    from .live import Live\n    all_spinners = Columns(\n        [\n            Spinner(spinner_name, text=Text(repr(spinner_name), style=\"green\"))\n            for spinner_name in sorted(SPINNERS.keys())\n        ],\n        column_first=True,\n        expand=True,\n    )\n    with Live(\n        Panel(all_spinners, title=\"Spinners\", border_style=\"blue\"),\n        refresh_per_second=20,\n    ) as live:\n        while True:\n            sleep(0.1)",
    "start_line": 117
  },
  {
    "file": "spinner.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "from typing import cast, List, Optional, TYPE_CHECKING, Union\n\nfrom ._spinners import SPINNERS\nfrom .measure import Measurement\nfrom .table import Table\nfrom .text import Text\n\nif TYPE_CHECKING:\n    from .console import Console, ConsoleOptions, RenderResult, RenderableType\n    from .style import StyleType\n\n\nclass Spinner:\n    \"\"\"A spinner animation.\n\n    Args:\n        name (str): Name of spinner (run python -m rich.spinner).\n        text (RenderableType, optional): A renderable to display at the right of the spinner (str or Text typically). Defaults to \"\".\n        style (StyleType, optional): Style for spinner animation. Defaults to None.\n        speed (float, optional): Speed factor for animation. Defaults to 1.0.\n\n    Raises:\n        KeyError: If name isn't one of the supported spinner animations.\n    \"\"\"\n\n    def __init__(\n        self,\n        name: str,\n        text: \"RenderableType\" = \"\",\n        *,\n        style: Optional[\"StyleType\"] = None,\n        speed: float = 1.0,\n    ) -> None:\n        try:\n            spinner = SPINNERS[name]\n        except KeyError:\n            raise KeyError(f\"no spinner called {name!r}\")\n        self.text: \"Union[RenderableType, Text]\" = (\n            Text.from_markup(text) if isinstance(text, str) else text\n        )\n        self.name = name\n        self.frames = cast(List[str], spinner[\"frames\"])[:]\n        self.interval = cast(float, spinner[\"interval\"])\n        self.start_time: Optional[float] = None\n        self.style = style\n        self.speed = speed\n        self.frame_no_offset: float = 0.0\n        self._update_speed = 0.0\n\n    def __rich_console__(\n        self, console: \"Console\", options: \"ConsoleOptions\"\n    ) -> \"RenderResult\":\n        yield self.render(console.get_time())\n\n    def __rich_measure__(\n        self, console: \"Console\", options: \"ConsoleOptions\"\n    ) -> Measurement:\n        text = self.render(0)\n        return Measurement.get(console, options, text)\n\n    def render(self, time: float) -> \"RenderableType\":\n        \"\"\"Render the spinner for a given time.\n\n        Args:\n            time (float): Time in seconds.\n\n        Returns:\n            RenderableType: A renderable containing animation frame.\n        \"\"\"\n        if self.start_time is None:\n            self.start_time = time\n\n        frame_no = ((time - self.start_time) * self.speed) / (\n            self.interval / 1000.0\n        ) + self.frame_no_offset\n        frame = Text(\n            self.frames[int(frame_no) % len(self.frames)], style=self.style or \"\"\n        )\n\n        if self._update_speed:\n            self.frame_no_offset = frame_no\n            self.start_time = time\n            self.speed = self._update_speed\n            self._update_speed = 0.0\n\n        if not self.text:\n            return frame\n        elif isinstance(self.text, (str, Text)):\n            return Text.assemble(frame, \" \", self.text)\n        else:\n            table = Table.grid(padding=1)\n            table.add_row(frame, self.text)\n            return table\n\n    def update(\n        self,\n        *,\n        text: \"RenderableType\" = \"\",\n        style: Optional[\"StyleType\"] = None,\n        speed: Optional[float] = None,\n    ) -> None:\n        \"\"\"Updates attributes of a spinner after it has been started.\n\n        Args:\n            text (RenderableType, optional): A renderable to display at the right of the spinner (str or Text typically). Defaults to \"\".\n            style (StyleType, optional): Style for spinner animation. Defaults to None.\n            speed (float, optional): Speed factor for animation. Defaults to None.\n        \"\"\"\n        if text:\n            self.text = Text.from_markup(text) if isinstance(text, str) else text\n        if style:\n            self.style = style\n        if speed:\n            self._update_speed = speed\n\n\nif __name__ == \"__main__\":  # pragma: no cover\n    from time import sleep\n\n    from .columns import Columns\n    from .panel import Panel\n    from .live import Live\n\n    all_spinners = Columns(\n        [\n            Spinner(spinner_name, text=Text(repr(spinner_name), style=\"green\"))\n            for spinner_name in sorted(SPINNERS.keys())\n        ],\n        column_first=True,\n        expand=True,\n    )\n\n    with Live(\n        Panel(all_spinners, title=\"Spinners\", border_style=\"blue\"),\n        refresh_per_second=20,\n    ) as live:\n        while True:\n            sleep(0.1)\n",
    "start_line": 0
  },
  {
    "file": "_windows_renderer.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from typing import Iterable, Sequence, Tuple, cast\nfrom rich._win32_console import LegacyWindowsTerm, WindowsCoordinates\nfrom rich.segment import ControlCode, ControlType, Segment",
    "start_line": 0
  },
  {
    "file": "_windows_renderer.py",
    "type": "function",
    "class": null,
    "method": "legacy_windows_render",
    "name": "legacy_windows_render",
    "content": "def legacy_windows_render(buffer: Iterable[Segment], term: LegacyWindowsTerm) -> None:\n    \"\"\"Makes appropriate Windows Console API calls based on the segments in the buffer.\n\n    Args:\n        buffer (Iterable[Segment]): Iterable of Segments to convert to Win32 API calls.\n        term (LegacyWindowsTerm): Used to call the Windows Console API.\n    \"\"\"\n    for text, style, control in buffer:\n        if not control:\n            if style:\n                term.write_styled(text, style)\n            else:\n                term.write_text(text)\n        else:\n            control_codes: Sequence[ControlCode] = control\n            for control_code in control_codes:",
    "start_line": 6
  },
  {
    "file": "_windows_renderer.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "control_type = control_code[0]\n                if control_type == ControlType.CURSOR_MOVE_TO:\n                    _, x, y = cast(Tuple[ControlType, int, int], control_code)\n                    term.move_cursor_to(WindowsCoordinates(row=y - 1, col=x - 1))\n                elif control_type == ControlType.CARRIAGE_RETURN:\n                    term.write_text(\"\\r\")\n                elif control_type == ControlType.HOME:\n                    term.move_cursor_to(WindowsCoordinates(0, 0))\n                elif control_type == ControlType.CURSOR_UP:\n                    term.move_cursor_up()\n                elif control_type == ControlType.CURSOR_DOWN:\n                    term.move_cursor_down()\n                elif control_type == ControlType.CURSOR_FORWARD:\n                    term.move_cursor_forward()\n                elif control_type == ControlType.CURSOR_BACKWARD:\n                    term.move_cursor_backward()\n                elif control_type == ControlType.CURSOR_MOVE_TO_COLUMN:\n                    _, column = cast(Tuple[ControlType, int], control_code)\n                    term.move_cursor_to_column(column - 1)\n                elif control_type == ControlType.HIDE_CURSOR:\n                    term.hide_cursor()\n                elif control_type == ControlType.SHOW_CURSOR:\n                    term.show_cursor()\n                elif control_type == ControlType.ERASE_IN_LINE:\n                    _, mode = cast(Tuple[ControlType, int], control_code)\n                    if mode == 0:\n                        term.erase_end_of_line()\n                    elif mode == 1:\n                        term.erase_start_of_line()\n                    elif mode == 2:\n                        term.erase_line()\n                elif control_type == ControlType.SET_WINDOW_TITLE:\n                    _, title = cast(Tuple[ControlType, str], control_code)\n                    term.set_title(title)",
    "start_line": 22
  },
  {
    "file": "_windows_renderer.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "from typing import Iterable, Sequence, Tuple, cast\n\nfrom rich._win32_console import LegacyWindowsTerm, WindowsCoordinates\nfrom rich.segment import ControlCode, ControlType, Segment\n\n\ndef legacy_windows_render(buffer: Iterable[Segment], term: LegacyWindowsTerm) -> None:\n    \"\"\"Makes appropriate Windows Console API calls based on the segments in the buffer.\n\n    Args:\n        buffer (Iterable[Segment]): Iterable of Segments to convert to Win32 API calls.\n        term (LegacyWindowsTerm): Used to call the Windows Console API.\n    \"\"\"\n    for text, style, control in buffer:\n        if not control:\n            if style:\n                term.write_styled(text, style)\n            else:\n                term.write_text(text)\n        else:\n            control_codes: Sequence[ControlCode] = control\n            for control_code in control_codes:\n                control_type = control_code[0]\n                if control_type == ControlType.CURSOR_MOVE_TO:\n                    _, x, y = cast(Tuple[ControlType, int, int], control_code)\n                    term.move_cursor_to(WindowsCoordinates(row=y - 1, col=x - 1))\n                elif control_type == ControlType.CARRIAGE_RETURN:\n                    term.write_text(\"\\r\")\n                elif control_type == ControlType.HOME:\n                    term.move_cursor_to(WindowsCoordinates(0, 0))\n                elif control_type == ControlType.CURSOR_UP:\n                    term.move_cursor_up()\n                elif control_type == ControlType.CURSOR_DOWN:\n                    term.move_cursor_down()\n                elif control_type == ControlType.CURSOR_FORWARD:\n                    term.move_cursor_forward()\n                elif control_type == ControlType.CURSOR_BACKWARD:\n                    term.move_cursor_backward()\n                elif control_type == ControlType.CURSOR_MOVE_TO_COLUMN:\n                    _, column = cast(Tuple[ControlType, int], control_code)\n                    term.move_cursor_to_column(column - 1)\n                elif control_type == ControlType.HIDE_CURSOR:\n                    term.hide_cursor()\n                elif control_type == ControlType.SHOW_CURSOR:\n                    term.show_cursor()\n                elif control_type == ControlType.ERASE_IN_LINE:\n                    _, mode = cast(Tuple[ControlType, int], control_code)\n                    if mode == 0:\n                        term.erase_end_of_line()\n                    elif mode == 1:\n                        term.erase_start_of_line()\n                    elif mode == 2:\n                        term.erase_line()\n                elif control_type == ControlType.SET_WINDOW_TITLE:\n                    _, title = cast(Tuple[ControlType, str], control_code)\n                    term.set_title(title)\n",
    "start_line": 0
  },
  {
    "file": "json.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from pathlib import Path\nfrom json import loads, dumps\nfrom typing import Any, Callable, Optional, Union\nfrom .text import Text\nfrom .highlighter import JSONHighlighter, NullHighlighter",
    "start_line": 0
  },
  {
    "file": "json.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "JSON",
    "content": "class JSON:\n    \"\"\"A renderable which pretty prints JSON.\n\n    Args:\n        json (str): JSON encoded data.\n        indent (Union[None, int, str], optional): Number of characters to indent by. Defaults to 2.\n        highlight (bool, optional): Enable highlighting. Defaults to True.\n        skip_keys (bool, optional): Skip keys not of a basic type. Defaults to False.\n        ensure_ascii (bool, optional): Escape all non-ascii characters. Defaults to False.\n        check_circular (bool, optional): Check for circular references. Defaults to True.\n        allow_nan (bool, optional): Allow NaN and Infinity values. Defaults to True.\n        default (Callable, optional): A callable that converts values that can not be encoded\n            in to something that can be JSON encoded. Defaults to None.\n        sort_keys (bool, optional): Sort dictionary keys. Defaults to False.\n    \"\"\"",
    "start_line": 8
  },
  {
    "file": "json.py",
    "type": "method",
    "class": "JSON",
    "method": "__init__",
    "name": "__init__",
    "content": "class JSON:\n    def __init__(\n        self,\n        json: str,\n        indent: Union[None, int, str] = 2,\n        highlight: bool = True,\n        skip_keys: bool = False,\n        ensure_ascii: bool = False,\n        check_circular: bool = True,\n        allow_nan: bool = True,\n        default: Optional[Callable[[Any], Any]] = None,\n        sort_keys: bool = False,\n    ) -> None:\n        data = loads(json)\n        json = dumps(\n            data,\n            indent=indent,\n            skipkeys=skip_keys,\n            ensure_ascii=ensure_ascii,\n            check_circular=check_circular,\n            allow_nan=allow_nan,\n            default=default,\n            sort_keys=sort_keys,\n        )\n        highlighter = JSONHighlighter() if highlight else NullHighlighter()\n        self.text = highlighter(json)\n        self.text.no_wrap = True\n        self.text.overflow = None\n\n    @classmethod",
    "start_line": 24
  },
  {
    "file": "json.py",
    "type": "method",
    "class": "JSON",
    "method": "from_data",
    "name": "from_data",
    "content": "class JSON:\n    def from_data(\n        cls,\n        data: Any,\n        indent: Union[None, int, str] = 2,\n        highlight: bool = True,\n        skip_keys: bool = False,\n        ensure_ascii: bool = False,\n        check_circular: bool = True,\n        allow_nan: bool = True,\n        default: Optional[Callable[[Any], Any]] = None,\n        sort_keys: bool = False,\n    ) -> \"JSON\":\n        \"\"\"Encodes a JSON object from arbitrary data.\n\n        Args:\n            data (Any): An object that may be encoded in to JSON\n            indent (Union[None, int, str], optional): Number of characters to indent by. Defaults to 2.\n            highlight (bool, optional): Enable highlighting. Defaults to True.\n            default (Callable, optional): Optional callable which will be called for objects that cannot be serialized. Defaults to None.\n            skip_keys (bool, optional): Skip keys not of a basic type. Defaults to False.\n            ensure_ascii (bool, optional): Escape all non-ascii characters. Defaults to False.\n            check_circular (bool, optional): Check for circular references. Defaults to True.\n            allow_nan (bool, optional): Allow NaN and Infinity values. Defaults to True.\n            default (Callable, optional): A callable that converts values that can not be encoded\n                in to something that can be JSON encoded. Defaults to None.\n            sort_keys (bool, optional): Sort dictionary keys. Defaults to False.\n\n        Returns:\n            JSON: New JSON object from the given data.\n        \"\"\"\n        json_instance: \"JSON\" = cls.__new__(cls)\n        json = dumps(\n            data,\n            indent=indent,\n            skipkeys=skip_keys,\n            ensure_ascii=ensure_ascii,\n            check_circular=check_circular,\n            allow_nan=allow_nan,\n            default=default,\n            sort_keys=sort_keys,\n        )\n        highlighter = JSONHighlighter() if highlight else NullHighlighter()\n        json_instance.text = highlighter(json)\n        json_instance.text.no_wrap = True\n        json_instance.text.overflow = None\n        return json_instance",
    "start_line": 53
  },
  {
    "file": "json.py",
    "type": "method",
    "class": "JSON",
    "method": "__rich__",
    "name": "__rich__",
    "content": "class JSON:\n    def __rich__(self) -> Text:\n        return self.text\n\n\nif __name__ == \"__main__\":",
    "start_line": 100
  },
  {
    "file": "json.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "import argparse\n    import sys\n    parser = argparse.ArgumentParser(description=\"Pretty print json\")\n    parser.add_argument(\n        \"path\",\n        metavar=\"PATH\",\n        help=\"path to file, or - for stdin\",\n    )\n    parser.add_argument(\n        \"-i\",\n        \"--indent\",\n        metavar=\"SPACES\",\n        type=int,\n        help=\"Number of spaces in an indent\",\n        default=2,\n    )\n    args = parser.parse_args()\n    from rich.console import Console\n    console = Console()\n    error_console = Console(stderr=True)\n    try:\n        if args.path == \"-\":\n            json_data = sys.stdin.read()\n        else:\n            json_data = Path(args.path).read_text()\n    except Exception as error:\n        error_console.print(f\"Unable to read {args.path!r}; {error}\")\n        sys.exit(-1)\n    console.print(JSON(json_data, indent=args.indent), soft_wrap=True)",
    "start_line": 105
  },
  {
    "file": "json.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "from pathlib import Path\nfrom json import loads, dumps\nfrom typing import Any, Callable, Optional, Union\n\nfrom .text import Text\nfrom .highlighter import JSONHighlighter, NullHighlighter\n\n\nclass JSON:\n    \"\"\"A renderable which pretty prints JSON.\n\n    Args:\n        json (str): JSON encoded data.\n        indent (Union[None, int, str], optional): Number of characters to indent by. Defaults to 2.\n        highlight (bool, optional): Enable highlighting. Defaults to True.\n        skip_keys (bool, optional): Skip keys not of a basic type. Defaults to False.\n        ensure_ascii (bool, optional): Escape all non-ascii characters. Defaults to False.\n        check_circular (bool, optional): Check for circular references. Defaults to True.\n        allow_nan (bool, optional): Allow NaN and Infinity values. Defaults to True.\n        default (Callable, optional): A callable that converts values that can not be encoded\n            in to something that can be JSON encoded. Defaults to None.\n        sort_keys (bool, optional): Sort dictionary keys. Defaults to False.\n    \"\"\"\n\n    def __init__(\n        self,\n        json: str,\n        indent: Union[None, int, str] = 2,\n        highlight: bool = True,\n        skip_keys: bool = False,\n        ensure_ascii: bool = False,\n        check_circular: bool = True,\n        allow_nan: bool = True,\n        default: Optional[Callable[[Any], Any]] = None,\n        sort_keys: bool = False,\n    ) -> None:\n        data = loads(json)\n        json = dumps(\n            data,\n            indent=indent,\n            skipkeys=skip_keys,\n            ensure_ascii=ensure_ascii,\n            check_circular=check_circular,\n            allow_nan=allow_nan,\n            default=default,\n            sort_keys=sort_keys,\n        )\n        highlighter = JSONHighlighter() if highlight else NullHighlighter()\n        self.text = highlighter(json)\n        self.text.no_wrap = True\n        self.text.overflow = None\n\n    @classmethod\n    def from_data(\n        cls,\n        data: Any,\n        indent: Union[None, int, str] = 2,\n        highlight: bool = True,\n        skip_keys: bool = False,\n        ensure_ascii: bool = False,\n        check_circular: bool = True,\n        allow_nan: bool = True,\n        default: Optional[Callable[[Any], Any]] = None,\n        sort_keys: bool = False,\n    ) -> \"JSON\":\n        \"\"\"Encodes a JSON object from arbitrary data.\n\n        Args:\n            data (Any): An object that may be encoded in to JSON\n            indent (Union[None, int, str], optional): Number of characters to indent by. Defaults to 2.\n            highlight (bool, optional): Enable highlighting. Defaults to True.\n            default (Callable, optional): Optional callable which will be called for objects that cannot be serialized. Defaults to None.\n            skip_keys (bool, optional): Skip keys not of a basic type. Defaults to False.\n            ensure_ascii (bool, optional): Escape all non-ascii characters. Defaults to False.\n            check_circular (bool, optional): Check for circular references. Defaults to True.\n            allow_nan (bool, optional): Allow NaN and Infinity values. Defaults to True.\n            default (Callable, optional): A callable that converts values that can not be encoded\n                in to something that can be JSON encoded. Defaults to None.\n            sort_keys (bool, optional): Sort dictionary keys. Defaults to False.\n\n        Returns:\n            JSON: New JSON object from the given data.\n        \"\"\"\n        json_instance: \"JSON\" = cls.__new__(cls)\n        json = dumps(\n            data,\n            indent=indent,\n            skipkeys=skip_keys,\n            ensure_ascii=ensure_ascii,\n            check_circular=check_circular,\n            allow_nan=allow_nan,\n            default=default,\n            sort_keys=sort_keys,\n        )\n        highlighter = JSONHighlighter() if highlight else NullHighlighter()\n        json_instance.text = highlighter(json)\n        json_instance.text.no_wrap = True\n        json_instance.text.overflow = None\n        return json_instance\n\n    def __rich__(self) -> Text:\n        return self.text\n\n\nif __name__ == \"__main__\":\n    import argparse\n    import sys\n\n    parser = argparse.ArgumentParser(description=\"Pretty print json\")\n    parser.add_argument(\n        \"path\",\n        metavar=\"PATH\",\n        help=\"path to file, or - for stdin\",\n    )\n    parser.add_argument(\n        \"-i\",\n        \"--indent\",\n        metavar=\"SPACES\",\n        type=int,\n        help=\"Number of spaces in an indent\",\n        default=2,\n    )\n    args = parser.parse_args()\n\n    from rich.console import Console\n\n    console = Console()\n    error_console = Console(stderr=True)\n\n    try:\n        if args.path == \"-\":\n            json_data = sys.stdin.read()\n        else:\n            json_data = Path(args.path).read_text()\n    except Exception as error:\n        error_console.print(f\"Unable to read {args.path!r}; {error}\")\n        sys.exit(-1)\n\n    console.print(JSON(json_data, indent=args.indent), soft_wrap=True)\n",
    "start_line": 0
  },
  {
    "file": "padding.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from typing import TYPE_CHECKING, List, Optional, Tuple, Union\nif TYPE_CHECKING:\n    from .console import (\n        Console,\n        ConsoleOptions,\n        RenderableType,\n        RenderResult,\n    )\nfrom .jupyter import JupyterMixin\nfrom .measure import Measurement\nfrom .segment import Segment\nfrom .style import Style\nPaddingDimensions = Union[int, Tuple[int], Tuple[int, int], Tuple[int, int, int, int]]",
    "start_line": 0
  },
  {
    "file": "padding.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "Padding",
    "content": "class Padding(JupyterMixin):\n    \"\"\"Draw space around content.\n\n    Example:\n        >>> print(Padding(\"Hello\", (2, 4), style=\"on blue\"))\n\n    Args:\n        renderable (RenderableType): String or other renderable.\n        pad (Union[int, Tuple[int]]): Padding for top, right, bottom, and left borders.\n            May be specified with 1, 2, or 4 integers (CSS style).\n        style (Union[str, Style], optional): Style for padding characters. Defaults to \"none\".\n        expand (bool, optional): Expand padding to fit available width. Defaults to True.\n    \"\"\"",
    "start_line": 18
  },
  {
    "file": "padding.py",
    "type": "method",
    "class": "Padding",
    "method": "__init__",
    "name": "__init__",
    "content": "class Padding:\n    def __init__(\n        self,\n        renderable: \"RenderableType\",\n        pad: \"PaddingDimensions\" = (0, 0, 0, 0),\n        *,\n        style: Union[str, Style] = \"none\",\n        expand: bool = True,\n    ):\n        self.renderable = renderable\n        self.top, self.right, self.bottom, self.left = self.unpack(pad)\n        self.style = style\n        self.expand = expand\n\n    @classmethod",
    "start_line": 32
  },
  {
    "file": "padding.py",
    "type": "method",
    "class": "Padding",
    "method": "indent",
    "name": "indent",
    "content": "class Padding:\n    def indent(cls, renderable: \"RenderableType\", level: int) -> \"Padding\":\n        \"\"\"Make padding instance to render an indent.\n\n        Args:\n            renderable (RenderableType): String or other renderable.\n            level (int): Number of characters to indent.\n\n        Returns:\n            Padding: A Padding instance.\n        \"\"\"\n\n        return Padding(renderable, pad=(0, 0, 0, level), expand=False)\n\n    @staticmethod",
    "start_line": 46
  },
  {
    "file": "padding.py",
    "type": "method",
    "class": "Padding",
    "method": "unpack",
    "name": "unpack",
    "content": "class Padding:\n    def unpack(pad: \"PaddingDimensions\") -> Tuple[int, int, int, int]:\n        \"\"\"Unpack padding specified in CSS style.\"\"\"\n        if isinstance(pad, int):\n            return (pad, pad, pad, pad)\n        if len(pad) == 1:\n            _pad = pad[0]\n            return (_pad, _pad, _pad, _pad)\n        if len(pad) == 2:\n            pad_top, pad_right = pad\n            return (pad_top, pad_right, pad_top, pad_right)\n        if len(pad) == 4:\n            top, right, bottom, left = pad\n            return (top, right, bottom, left)\n        raise ValueError(f\"1, 2 or 4 integers required for padding; {len(pad)} given\")",
    "start_line": 60
  },
  {
    "file": "padding.py",
    "type": "method",
    "class": "Padding",
    "method": "__repr__",
    "name": "__repr__",
    "content": "class Padding:\n    def __repr__(self) -> str:\n        return f\"Padding({self.renderable!r}, ({self.top},{self.right},{self.bottom},{self.left}))\"",
    "start_line": 75
  },
  {
    "file": "padding.py",
    "type": "method",
    "class": "Padding",
    "method": "__rich_console__",
    "name": "__rich_console__",
    "content": "class Padding:\n    def __rich_console__(\n        self, console: \"Console\", options: \"ConsoleOptions\"\n    ) -> \"RenderResult\":\n        style = console.get_style(self.style)\n        if self.expand:\n            width = options.max_width\n        else:\n            width = min(\n                Measurement.get(console, options, self.renderable).maximum\n                + self.left\n                + self.right,\n                options.max_width,\n            )\n        render_options = options.update_width(width - self.left - self.right)\n        if render_options.height is not None:\n            render_options = render_options.update_height(\n                height=render_options.height - self.top - self.bottom\n            )\n        lines = console.render_lines(\n            self.renderable, render_options, style=style, pad=True\n        )\n        _Segment = Segment\n\n        left = _Segment(\" \" * self.left, style) if self.left else None\n        right = (\n            [_Segment(f'{\" \" * self.right}', style), _Segment.line()]\n            if self.right\n            else [_Segment.line()]\n        )\n        blank_line: Optional[List[Segment]] = None\n        if self.top:\n            blank_line = [_Segment(f'{\" \" * width}\\n', style)]\n            yield from blank_line * self.top\n        if left:\n            for line in lines:\n                yield left\n                yield from line\n                yield from right\n        else:\n            for line in lines:\n                yield from line\n                yield from right\n        if self.bottom:\n            blank_line = blank_line or [_Segment(f'{\" \" * width}\\n', style)]\n            yield from blank_line * self.bottom",
    "start_line": 78
  },
  {
    "file": "padding.py",
    "type": "method",
    "class": "Padding",
    "method": "__rich_measure__",
    "name": "__rich_measure__",
    "content": "class Padding:\n    def __rich_measure__(\n        self, console: \"Console\", options: \"ConsoleOptions\"\n    ) -> \"Measurement\":\n        max_width = options.max_width\n        extra_width = self.left + self.right\n        if max_width - extra_width < 1:\n            return Measurement(max_width, max_width)\n        measure_min, measure_max = Measurement.get(console, options, self.renderable)\n        measurement = Measurement(measure_min + extra_width, measure_max + extra_width)\n        measurement = measurement.with_maximum(max_width)\n        return measurement\n\n\nif __name__ == \"__main__\":  #  pragma: no cover",
    "start_line": 124
  },
  {
    "file": "padding.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from rich import print\n    print(Padding(\"Hello, World\", (2, 4), style=\"on blue\"))",
    "start_line": 138
  },
  {
    "file": "padding.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "from typing import TYPE_CHECKING, List, Optional, Tuple, Union\n\nif TYPE_CHECKING:\n    from .console import (\n        Console,\n        ConsoleOptions,\n        RenderableType,\n        RenderResult,\n    )\n\nfrom .jupyter import JupyterMixin\nfrom .measure import Measurement\nfrom .segment import Segment\nfrom .style import Style\n\nPaddingDimensions = Union[int, Tuple[int], Tuple[int, int], Tuple[int, int, int, int]]\n\n\nclass Padding(JupyterMixin):\n    \"\"\"Draw space around content.\n\n    Example:\n        >>> print(Padding(\"Hello\", (2, 4), style=\"on blue\"))\n\n    Args:\n        renderable (RenderableType): String or other renderable.\n        pad (Union[int, Tuple[int]]): Padding for top, right, bottom, and left borders.\n            May be specified with 1, 2, or 4 integers (CSS style).\n        style (Union[str, Style], optional): Style for padding characters. Defaults to \"none\".\n        expand (bool, optional): Expand padding to fit available width. Defaults to True.\n    \"\"\"\n\n    def __init__(\n        self,\n        renderable: \"RenderableType\",\n        pad: \"PaddingDimensions\" = (0, 0, 0, 0),\n        *,\n        style: Union[str, Style] = \"none\",\n        expand: bool = True,\n    ):\n        self.renderable = renderable\n        self.top, self.right, self.bottom, self.left = self.unpack(pad)\n        self.style = style\n        self.expand = expand\n\n    @classmethod\n    def indent(cls, renderable: \"RenderableType\", level: int) -> \"Padding\":\n        \"\"\"Make padding instance to render an indent.\n\n        Args:\n            renderable (RenderableType): String or other renderable.\n            level (int): Number of characters to indent.\n\n        Returns:\n            Padding: A Padding instance.\n        \"\"\"\n\n        return Padding(renderable, pad=(0, 0, 0, level), expand=False)\n\n    @staticmethod\n    def unpack(pad: \"PaddingDimensions\") -> Tuple[int, int, int, int]:\n        \"\"\"Unpack padding specified in CSS style.\"\"\"\n        if isinstance(pad, int):\n            return (pad, pad, pad, pad)\n        if len(pad) == 1:\n            _pad = pad[0]\n            return (_pad, _pad, _pad, _pad)\n        if len(pad) == 2:\n            pad_top, pad_right = pad\n            return (pad_top, pad_right, pad_top, pad_right)\n        if len(pad) == 4:\n            top, right, bottom, left = pad\n            return (top, right, bottom, left)\n        raise ValueError(f\"1, 2 or 4 integers required for padding; {len(pad)} given\")\n\n    def __repr__(self) -> str:\n        return f\"Padding({self.renderable!r}, ({self.top},{self.right},{self.bottom},{self.left}))\"\n\n    def __rich_console__(\n        self, console: \"Console\", options: \"ConsoleOptions\"\n    ) -> \"RenderResult\":\n        style = console.get_style(self.style)\n        if self.expand:\n            width = options.max_width\n        else:\n            width = min(\n                Measurement.get(console, options, self.renderable).maximum\n                + self.left\n                + self.right,\n                options.max_width,\n            )\n        render_options = options.update_width(width - self.left - self.right)\n        if render_options.height is not None:\n            render_options = render_options.update_height(\n                height=render_options.height - self.top - self.bottom\n            )\n        lines = console.render_lines(\n            self.renderable, render_options, style=style, pad=True\n        )\n        _Segment = Segment\n\n        left = _Segment(\" \" * self.left, style) if self.left else None\n        right = (\n            [_Segment(f'{\" \" * self.right}', style), _Segment.line()]\n            if self.right\n            else [_Segment.line()]\n        )\n        blank_line: Optional[List[Segment]] = None\n        if self.top:\n            blank_line = [_Segment(f'{\" \" * width}\\n', style)]\n            yield from blank_line * self.top\n        if left:\n            for line in lines:\n                yield left\n                yield from line\n                yield from right\n        else:\n            for line in lines:\n                yield from line\n                yield from right\n        if self.bottom:\n            blank_line = blank_line or [_Segment(f'{\" \" * width}\\n', style)]\n            yield from blank_line * self.bottom\n\n    def __rich_measure__(\n        self, console: \"Console\", options: \"ConsoleOptions\"\n    ) -> \"Measurement\":\n        max_width = options.max_width\n        extra_width = self.left + self.right\n        if max_width - extra_width < 1:\n            return Measurement(max_width, max_width)\n        measure_min, measure_max = Measurement.get(console, options, self.renderable)\n        measurement = Measurement(measure_min + extra_width, measure_max + extra_width)\n        measurement = measurement.with_maximum(max_width)\n        return measurement\n\n\nif __name__ == \"__main__\":  #  pragma: no cover\n    from rich import print\n\n    print(Padding(\"Hello, World\", (2, 4), style=\"on blue\"))\n",
    "start_line": 0
  },
  {
    "file": "__main__.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "import colorsys\nimport io\nfrom time import process_time\nfrom rich import box\nfrom rich.color import Color\nfrom rich.console import Console, ConsoleOptions, Group, RenderableType, RenderResult\nfrom rich.markdown import Markdown\nfrom rich.measure import Measurement\nfrom rich.pretty import Pretty\nfrom rich.segment import Segment\nfrom rich.style import Style\nfrom rich.syntax import Syntax\nfrom rich.table import Table\nfrom rich.text import Text",
    "start_line": 0
  },
  {
    "file": "__main__.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "ColorBox",
    "content": "class ColorBox:",
    "start_line": 17
  },
  {
    "file": "__main__.py",
    "type": "method",
    "class": "ColorBox",
    "method": "__rich_console__",
    "name": "__rich_console__",
    "content": "class ColorBox:\n    def __rich_console__(\n        self, console: Console, options: ConsoleOptions\n    ) -> RenderResult:\n        for y in range(0, 5):\n            for x in range(options.max_width):\n                h = x / options.max_width\n                l = 0.1 + ((y / 5) * 0.7)\n                r1, g1, b1 = colorsys.hls_to_rgb(h, l, 1.0)\n                r2, g2, b2 = colorsys.hls_to_rgb(h, l + 0.7 / 10, 1.0)\n                bgcolor = Color.from_rgb(r1 * 255, g1 * 255, b1 * 255)\n                color = Color.from_rgb(r2 * 255, g2 * 255, b2 * 255)\n                yield Segment(\"\", Style(color=color, bgcolor=bgcolor))\n            yield Segment.line()",
    "start_line": 18
  },
  {
    "file": "__main__.py",
    "type": "method",
    "class": "ColorBox",
    "method": "__rich_measure__",
    "name": "__rich_measure__",
    "content": "class ColorBox:\n    def __rich_measure__(\n        self, console: \"Console\", options: ConsoleOptions\n    ) -> Measurement:\n        return Measurement(1, options.max_width)",
    "start_line": 32
  },
  {
    "file": "__main__.py",
    "type": "function",
    "class": null,
    "method": "make_test_card",
    "name": "make_test_card",
    "content": "def make_test_card() -> Table:\n    \"\"\"Get a renderable that demonstrates a number of features.\"\"\"",
    "start_line": 38
  },
  {
    "file": "__main__.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "table = Table.grid(padding=1, pad_edge=True)\n    table.title = \"Rich features\"\n    table.add_column(\"Feature\", no_wrap=True, justify=\"center\", style=\"bold red\")\n    table.add_column(\"Demonstration\")\n    color_table = Table(\n        box=None,\n        expand=False,\n        show_header=False,\n        show_edge=False,\n        pad_edge=False,\n    )\n    color_table.add_row(\n        (\n            \" [bold green]4-bit color[/]\\n\"\n            \" [bold blue]8-bit color[/]\\n\"\n            \" [bold magenta]Truecolor (16.7 million)[/]\\n\"\n            \" [bold yellow]Dumb terminals[/]\\n\"\n            \" [bold cyan]Automatic color conversion\"\n        ),\n        ColorBox(),\n    )\n    table.add_row(\"Colors\", color_table)\n    table.add_row(\n        \"Styles\",\n        \"All ansi styles: [bold]bold[/], [dim]dim[/], [italic]italic[/italic], [underline]underline[/], [strike]strikethrough[/], [reverse]reverse[/], and even [blink]blink[/].\",\n    )\n    lorem = \"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Quisque in metus sed sapien ultricies pretium a at justo. Maecenas luctus velit et auctor maximus.\"\n    lorem_table = Table.grid(padding=1, collapse_padding=True)\n    lorem_table.pad_edge = False\n    lorem_table.add_row(\n        Text(lorem, justify=\"left\", style=\"green\"),\n        Text(lorem, justify=\"center\", style=\"yellow\"),\n        Text(lorem, justify=\"right\", style=\"blue\"),\n        Text(lorem, justify=\"full\", style=\"red\"),\n    )\n    table.add_row(\n        \"Text\",\n        Group(\n            Text.from_markup(\n                \"\"\"Word wrap text. Justify [green]left[/], [yellow]center[/], [blue]right[/] or [red]full[/].\\n\"\"\"\n            ),\n            lorem_table,\n        ),\n    )",
    "start_line": 40
  },
  {
    "file": "__main__.py",
    "type": "function",
    "class": null,
    "method": "comparison",
    "name": "comparison",
    "content": "def comparison(renderable1: RenderableType, renderable2: RenderableType) -> Table:",
    "start_line": 89
  },
  {
    "file": "__main__.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "table = Table(show_header=False, pad_edge=False, box=None, expand=True)\n        table.add_column(\"1\", ratio=1)\n        table.add_column(\"2\", ratio=1)\n        table.add_row(renderable1, renderable2)\n        return table\n    table.add_row(\n        \"Asian\\nlanguage\\nsupport\",\n        \":flag_for_china:  \\n:flag_for_japan:  \\n:flag_for_south_korea:    ,     \",\n    )\n    markup_example = (\n        \"[bold magenta]Rich[/] supports a simple [i]bbcode[/i]-like [b]markup[/b] for [yellow]color[/], [underline]style[/], and emoji! \"\n        \":+1: :apple: :ant: :bear: :baguette_bread: :bus: \"\n    )\n    table.add_row(\"Markup\", markup_example)\n    example_table = Table(\n        show_edge=False,\n        show_header=True,\n        expand=False,\n        row_styles=[\"none\", \"dim\"],\n        box=box.SIMPLE,\n    )\n    example_table.add_column(\"[green]Date\", style=\"green\", no_wrap=True)\n    example_table.add_column(\"[blue]Title\", style=\"blue\")\n    example_table.add_column(\n        \"[cyan]Production Budget\",\n        style=\"cyan\",\n        justify=\"right\",\n        no_wrap=True,\n    )\n    example_table.add_column(\n        \"[magenta]Box Office\",\n        style=\"magenta\",\n        justify=\"right\",\n        no_wrap=True,\n    )\n    example_table.add_row(\n        \"Dec 20, 2019\",\n        \"Star Wars: The Rise of Skywalker\",\n        \"$275,000,000\",\n        \"$375,126,118\",\n    )\n    example_table.add_row(\n        \"May 25, 2018\",\n        \"[b]Solo[/]: A Star Wars Story\",\n        \"$275,000,000\",\n        \"$393,151,347\",\n    )\n    example_table.add_row(\n        \"Dec 15, 2017\",\n        \"Star Wars Ep. VIII: The Last Jedi\",\n        \"$262,000,000\",\n        \"[bold]$1,332,539,889[/bold]\",\n    )\n    example_table.add_row(\n        \"May 19, 1999\",\n        \"Star Wars Ep. [b]I[/b]: [i]The phantom Menace\",\n        \"$115,000,000\",\n        \"$1,027,044,677\",\n    )\n    table.add_row(\"Tables\", example_table)\n    code = '''\\",
    "start_line": 90
  },
  {
    "file": "__main__.py",
    "type": "function",
    "class": null,
    "method": "iter_last",
    "name": "iter_last",
    "content": "def iter_last(values: Iterable[T]) -> Iterable[Tuple[bool, T]]:\n    \"\"\"Iterate and generate a tuple with a flag for last value.\"\"\"",
    "start_line": 156
  },
  {
    "file": "__main__.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "iter_values = iter(values)\n    try:\n        previous_value = next(iter_values)\n    except StopIteration:\n        return\n    for value in iter_values:\n        yield False, previous_value\n        previous_value = value\n    yield True, previous_value'''\n    pretty_data = {\n        \"foo\": [\n            3.1427,\n            (\n                \"Paul Atreides\",\n                \"Vladimir Harkonnen\",\n                \"Thufir Hawat\",\n            ),\n        ],\n        \"atomic\": (False, True, None),\n    }\n    table.add_row(\n        \"Syntax\\nhighlighting\\n&\\npretty\\nprinting\",\n        comparison(\n            Syntax(code, \"python3\", line_numbers=True, indent_guides=True),\n            Pretty(pretty_data, indent_guides=True),\n        ),\n    )\n    markdown_example = \"\"\"\\",
    "start_line": 158
  },
  {
    "file": "__main__.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# Markdown\nSupports much of the *markdown* __syntax__!\n- Headers\n- Basic formatting: **bold**, *italic*, `code`\n- Block quotes\n- Lists, and more...\n    \"\"\"\n    table.add_row(\n        \"Markdown\", comparison(\"[cyan]\" + markdown_example, Markdown(markdown_example))\n    )\n    table.add_row(\n        \"+more!\",\n        \"\"\"Progress bars, columns, styled logging handler, tracebacks, etc...\"\"\",\n    )\n    return table\nif __name__ == \"__main__\":  # pragma: no cover",
    "start_line": 188
  },
  {
    "file": "__main__.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console(\n        file=io.StringIO(),\n        force_terminal=True,\n    )\n    test_card = make_test_card()",
    "start_line": 209
  },
  {
    "file": "__main__.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# Print once to warm cache",
    "start_line": 215
  },
  {
    "file": "__main__.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "start = process_time()\n    console.print(test_card)\n    pre_cache_taken = round((process_time() - start) * 1000.0, 1)\n    console.file = io.StringIO()\n    start = process_time()\n    console.print(test_card)\n    taken = round((process_time() - start) * 1000.0, 1)\n    c = Console(record=True)\n    c.print(test_card)\n    print(f\"rendered in {pre_cache_taken}ms (cold cache)\")\n    print(f\"rendered in {taken}ms (warm cache)\")",
    "start_line": 216
  },
  {
    "file": "__main__.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from rich.panel import Panel",
    "start_line": 232
  },
  {
    "file": "__main__.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = Console()\n    sponsor_message = Table.grid(padding=1)\n    sponsor_message.add_column(style=\"green\", justify=\"right\")\n    sponsor_message.add_column(no_wrap=True)\n    sponsor_message.add_row(\n        \"Textualize\",\n        \"[u blue link=https://github.com/textualize]https://github.com/textualize\",\n    )\n    sponsor_message.add_row(\n        \"Twitter\",\n        \"[u blue link=https://twitter.com/willmcgugan]https://twitter.com/willmcgugan\",\n    )\n    intro_message = Text.from_markup(\n        \"\"\"\\\nWe hope you enjoy using Rich!\nRich is maintained with [red]:heart:[/] by [link=https://www.textualize.io]Textualize.io[/]\n- Will McGugan\"\"\"\n    )\n    message = Table.grid(padding=2)\n    message.add_column()\n    message.add_column(no_wrap=True)\n    message.add_row(intro_message, sponsor_message)\n    console.print(\n        Panel.fit(\n            message,\n            box=box.ROUNDED,\n            padding=(1, 2),\n            title=\"[b red]Thanks for trying out Rich!\",\n            border_style=\"bright_blue\",\n        ),\n        justify=\"center\",\n    )",
    "start_line": 234
  },
  {
    "file": "__main__.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "import colorsys\nimport io\nfrom time import process_time\n\nfrom rich import box\nfrom rich.color import Color\nfrom rich.console import Console, ConsoleOptions, Group, RenderableType, RenderResult\nfrom rich.markdown import Markdown\nfrom rich.measure import Measurement\nfrom rich.pretty import Pretty\nfrom rich.segment import Segment\nfrom rich.style import Style\nfrom rich.syntax import Syntax\nfrom rich.table import Table\nfrom rich.text import Text\n\n\nclass ColorBox:\n    def __rich_console__(\n        self, console: Console, options: ConsoleOptions\n    ) -> RenderResult:\n        for y in range(0, 5):\n            for x in range(options.max_width):\n                h = x / options.max_width\n                l = 0.1 + ((y / 5) * 0.7)\n                r1, g1, b1 = colorsys.hls_to_rgb(h, l, 1.0)\n                r2, g2, b2 = colorsys.hls_to_rgb(h, l + 0.7 / 10, 1.0)\n                bgcolor = Color.from_rgb(r1 * 255, g1 * 255, b1 * 255)\n                color = Color.from_rgb(r2 * 255, g2 * 255, b2 * 255)\n                yield Segment(\"\", Style(color=color, bgcolor=bgcolor))\n            yield Segment.line()\n\n    def __rich_measure__(\n        self, console: \"Console\", options: ConsoleOptions\n    ) -> Measurement:\n        return Measurement(1, options.max_width)\n\n\ndef make_test_card() -> Table:\n    \"\"\"Get a renderable that demonstrates a number of features.\"\"\"\n    table = Table.grid(padding=1, pad_edge=True)\n    table.title = \"Rich features\"\n    table.add_column(\"Feature\", no_wrap=True, justify=\"center\", style=\"bold red\")\n    table.add_column(\"Demonstration\")\n\n    color_table = Table(\n        box=None,\n        expand=False,\n        show_header=False,\n        show_edge=False,\n        pad_edge=False,\n    )\n    color_table.add_row(\n        (\n            \" [bold green]4-bit color[/]\\n\"\n            \" [bold blue]8-bit color[/]\\n\"\n            \" [bold magenta]Truecolor (16.7 million)[/]\\n\"\n            \" [bold yellow]Dumb terminals[/]\\n\"\n            \" [bold cyan]Automatic color conversion\"\n        ),\n        ColorBox(),\n    )\n\n    table.add_row(\"Colors\", color_table)\n\n    table.add_row(\n        \"Styles\",\n        \"All ansi styles: [bold]bold[/], [dim]dim[/], [italic]italic[/italic], [underline]underline[/], [strike]strikethrough[/], [reverse]reverse[/], and even [blink]blink[/].\",\n    )\n\n    lorem = \"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Quisque in metus sed sapien ultricies pretium a at justo. Maecenas luctus velit et auctor maximus.\"\n    lorem_table = Table.grid(padding=1, collapse_padding=True)\n    lorem_table.pad_edge = False\n    lorem_table.add_row(\n        Text(lorem, justify=\"left\", style=\"green\"),\n        Text(lorem, justify=\"center\", style=\"yellow\"),\n        Text(lorem, justify=\"right\", style=\"blue\"),\n        Text(lorem, justify=\"full\", style=\"red\"),\n    )\n    table.add_row(\n        \"Text\",\n        Group(\n            Text.from_markup(\n                \"\"\"Word wrap text. Justify [green]left[/], [yellow]center[/], [blue]right[/] or [red]full[/].\\n\"\"\"\n            ),\n            lorem_table,\n        ),\n    )\n\n    def comparison(renderable1: RenderableType, renderable2: RenderableType) -> Table:\n        table = Table(show_header=False, pad_edge=False, box=None, expand=True)\n        table.add_column(\"1\", ratio=1)\n        table.add_column(\"2\", ratio=1)\n        table.add_row(renderable1, renderable2)\n        return table\n\n    table.add_row(\n        \"Asian\\nlanguage\\nsupport\",\n        \":flag_for_china:  \\n:flag_for_japan:  \\n:flag_for_south_korea:    ,     \",\n    )\n\n    markup_example = (\n        \"[bold magenta]Rich[/] supports a simple [i]bbcode[/i]-like [b]markup[/b] for [yellow]color[/], [underline]style[/], and emoji! \"\n        \":+1: :apple: :ant: :bear: :baguette_bread: :bus: \"\n    )\n    table.add_row(\"Markup\", markup_example)\n\n    example_table = Table(\n        show_edge=False,\n        show_header=True,\n        expand=False,\n        row_styles=[\"none\", \"dim\"],\n        box=box.SIMPLE,\n    )\n    example_table.add_column(\"[green]Date\", style=\"green\", no_wrap=True)\n    example_table.add_column(\"[blue]Title\", style=\"blue\")\n    example_table.add_column(\n        \"[cyan]Production Budget\",\n        style=\"cyan\",\n        justify=\"right\",\n        no_wrap=True,\n    )\n    example_table.add_column(\n        \"[magenta]Box Office\",\n        style=\"magenta\",\n        justify=\"right\",\n        no_wrap=True,\n    )\n    example_table.add_row(\n        \"Dec 20, 2019\",\n        \"Star Wars: The Rise of Skywalker\",\n        \"$275,000,000\",\n        \"$375,126,118\",\n    )\n    example_table.add_row(\n        \"May 25, 2018\",\n        \"[b]Solo[/]: A Star Wars Story\",\n        \"$275,000,000\",\n        \"$393,151,347\",\n    )\n    example_table.add_row(\n        \"Dec 15, 2017\",\n        \"Star Wars Ep. VIII: The Last Jedi\",\n        \"$262,000,000\",\n        \"[bold]$1,332,539,889[/bold]\",\n    )\n    example_table.add_row(\n        \"May 19, 1999\",\n        \"Star Wars Ep. [b]I[/b]: [i]The phantom Menace\",\n        \"$115,000,000\",\n        \"$1,027,044,677\",\n    )\n\n    table.add_row(\"Tables\", example_table)\n\n    code = '''\\\ndef iter_last(values: Iterable[T]) -> Iterable[Tuple[bool, T]]:\n    \"\"\"Iterate and generate a tuple with a flag for last value.\"\"\"\n    iter_values = iter(values)\n    try:\n        previous_value = next(iter_values)\n    except StopIteration:\n        return\n    for value in iter_values:\n        yield False, previous_value\n        previous_value = value\n    yield True, previous_value'''\n\n    pretty_data = {\n        \"foo\": [\n            3.1427,\n            (\n                \"Paul Atreides\",\n                \"Vladimir Harkonnen\",\n                \"Thufir Hawat\",\n            ),\n        ],\n        \"atomic\": (False, True, None),\n    }\n    table.add_row(\n        \"Syntax\\nhighlighting\\n&\\npretty\\nprinting\",\n        comparison(\n            Syntax(code, \"python3\", line_numbers=True, indent_guides=True),\n            Pretty(pretty_data, indent_guides=True),\n        ),\n    )\n\n    markdown_example = \"\"\"\\\n# Markdown\n\nSupports much of the *markdown* __syntax__!\n\n- Headers\n- Basic formatting: **bold**, *italic*, `code`\n- Block quotes\n- Lists, and more...\n    \"\"\"\n    table.add_row(\n        \"Markdown\", comparison(\"[cyan]\" + markdown_example, Markdown(markdown_example))\n    )\n\n    table.add_row(\n        \"+more!\",\n        \"\"\"Progress bars, columns, styled logging handler, tracebacks, etc...\"\"\",\n    )\n    return table\n\n\nif __name__ == \"__main__\":  # pragma: no cover\n    console = Console(\n        file=io.StringIO(),\n        force_terminal=True,\n    )\n    test_card = make_test_card()\n\n    # Print once to warm cache\n    start = process_time()\n    console.print(test_card)\n    pre_cache_taken = round((process_time() - start) * 1000.0, 1)\n\n    console.file = io.StringIO()\n\n    start = process_time()\n    console.print(test_card)\n    taken = round((process_time() - start) * 1000.0, 1)\n\n    c = Console(record=True)\n    c.print(test_card)\n\n    print(f\"rendered in {pre_cache_taken}ms (cold cache)\")\n    print(f\"rendered in {taken}ms (warm cache)\")\n\n    from rich.panel import Panel\n\n    console = Console()\n\n    sponsor_message = Table.grid(padding=1)\n    sponsor_message.add_column(style=\"green\", justify=\"right\")\n    sponsor_message.add_column(no_wrap=True)\n\n    sponsor_message.add_row(\n        \"Textualize\",\n        \"[u blue link=https://github.com/textualize]https://github.com/textualize\",\n    )\n    sponsor_message.add_row(\n        \"Twitter\",\n        \"[u blue link=https://twitter.com/willmcgugan]https://twitter.com/willmcgugan\",\n    )\n\n    intro_message = Text.from_markup(\n        \"\"\"\\\nWe hope you enjoy using Rich!\n\nRich is maintained with [red]:heart:[/] by [link=https://www.textualize.io]Textualize.io[/]\n\n- Will McGugan\"\"\"\n    )\n\n    message = Table.grid(padding=2)\n    message.add_column()\n    message.add_column(no_wrap=True)\n    message.add_row(intro_message, sponsor_message)\n\n    console.print(\n        Panel.fit(\n            message,\n            box=box.ROUNDED,\n            padding=(1, 2),\n            title=\"[b red]Thanks for trying out Rich!\",\n            border_style=\"bright_blue\",\n        ),\n        justify=\"center\",\n    )\n",
    "start_line": 0
  },
  {
    "file": "scope.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from collections.abc import Mapping\nfrom typing import TYPE_CHECKING, Any, Optional, Tuple\nfrom .highlighter import ReprHighlighter\nfrom .panel import Panel\nfrom .pretty import Pretty\nfrom .table import Table\nfrom .text import Text, TextType\nif TYPE_CHECKING:\n    from .console import ConsoleRenderable",
    "start_line": 0
  },
  {
    "file": "scope.py",
    "type": "function",
    "class": null,
    "method": "render_scope",
    "name": "render_scope",
    "content": "def render_scope(\n    scope: \"Mapping[str, Any]\",\n    *,\n    title: Optional[TextType] = None,\n    sort_keys: bool = True,\n    indent_guides: bool = False,\n    max_length: Optional[int] = None,\n    max_string: Optional[int] = None,\n) -> \"ConsoleRenderable\":\n    \"\"\"Render python variables in a given scope.\n\n    Args:\n        scope (Mapping): A mapping containing variable names and values.\n        title (str, optional): Optional title. Defaults to None.\n        sort_keys (bool, optional): Enable sorting of items. Defaults to True.\n        indent_guides (bool, optional): Enable indentation guides. Defaults to False.\n        max_length (int, optional): Maximum length of containers before abbreviating, or None for no abbreviation.\n            Defaults to None.\n        max_string (int, optional): Maximum length of string before truncating, or None to disable. Defaults to None.\n\n    Returns:\n        ConsoleRenderable: A renderable object.\n    \"\"\"",
    "start_line": 13
  },
  {
    "file": "scope.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "highlighter = ReprHighlighter()\n    items_table = Table.grid(padding=(0, 1), expand=False)\n    items_table.add_column(justify=\"right\")",
    "start_line": 36
  },
  {
    "file": "scope.py",
    "type": "function",
    "class": null,
    "method": "sort_items",
    "name": "sort_items",
    "content": "def sort_items(item: Tuple[str, Any]) -> Tuple[bool, str]:\n        \"\"\"Sort special variables first, then alphabetically.\"\"\"\n        key, _ = item\n        return (not key.startswith(\"__\"), key.lower())",
    "start_line": 40
  },
  {
    "file": "scope.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "items = sorted(scope.items(), key=sort_items) if sort_keys else scope.items()\n    for key, value in items:\n        key_text = Text.assemble(\n            (key, \"scope.key.special\" if key.startswith(\"__\") else \"scope.key\"),\n            (\" =\", \"scope.equals\"),\n        )\n        items_table.add_row(\n            key_text,\n            Pretty(\n                value,\n                highlighter=highlighter,\n                indent_guides=indent_guides,\n                max_length=max_length,\n                max_string=max_string,\n            ),\n        )\n    return Panel.fit(\n        items_table,\n        title=title,\n        border_style=\"scope.border\",\n        padding=(0, 1),\n    )\nif __name__ == \"__main__\":  # pragma: no cover",
    "start_line": 45
  },
  {
    "file": "scope.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from rich import print\n    print()",
    "start_line": 70
  },
  {
    "file": "scope.py",
    "type": "function",
    "class": null,
    "method": "test",
    "name": "test",
    "content": "def test(foo: float, bar: float) -> None:",
    "start_line": 74
  },
  {
    "file": "scope.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "list_of_things = [1, 2, 3, None, 4, True, False, \"Hello World\"]\n        dict_of_things = {\n            \"version\": \"1.1\",\n            \"method\": \"confirmFruitPurchase\",\n            \"params\": [[\"apple\", \"orange\", \"mangoes\", \"pomelo\"], 1.123],\n            \"id\": \"194521489\",\n        }\n        print(render_scope(locals(), title=\"[i]locals\", sort_keys=False))\n    test(20.3423, 3.1427)\n    print()",
    "start_line": 75
  },
  {
    "file": "scope.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "from collections.abc import Mapping\nfrom typing import TYPE_CHECKING, Any, Optional, Tuple\n\nfrom .highlighter import ReprHighlighter\nfrom .panel import Panel\nfrom .pretty import Pretty\nfrom .table import Table\nfrom .text import Text, TextType\n\nif TYPE_CHECKING:\n    from .console import ConsoleRenderable\n\n\ndef render_scope(\n    scope: \"Mapping[str, Any]\",\n    *,\n    title: Optional[TextType] = None,\n    sort_keys: bool = True,\n    indent_guides: bool = False,\n    max_length: Optional[int] = None,\n    max_string: Optional[int] = None,\n) -> \"ConsoleRenderable\":\n    \"\"\"Render python variables in a given scope.\n\n    Args:\n        scope (Mapping): A mapping containing variable names and values.\n        title (str, optional): Optional title. Defaults to None.\n        sort_keys (bool, optional): Enable sorting of items. Defaults to True.\n        indent_guides (bool, optional): Enable indentation guides. Defaults to False.\n        max_length (int, optional): Maximum length of containers before abbreviating, or None for no abbreviation.\n            Defaults to None.\n        max_string (int, optional): Maximum length of string before truncating, or None to disable. Defaults to None.\n\n    Returns:\n        ConsoleRenderable: A renderable object.\n    \"\"\"\n    highlighter = ReprHighlighter()\n    items_table = Table.grid(padding=(0, 1), expand=False)\n    items_table.add_column(justify=\"right\")\n\n    def sort_items(item: Tuple[str, Any]) -> Tuple[bool, str]:\n        \"\"\"Sort special variables first, then alphabetically.\"\"\"\n        key, _ = item\n        return (not key.startswith(\"__\"), key.lower())\n\n    items = sorted(scope.items(), key=sort_items) if sort_keys else scope.items()\n    for key, value in items:\n        key_text = Text.assemble(\n            (key, \"scope.key.special\" if key.startswith(\"__\") else \"scope.key\"),\n            (\" =\", \"scope.equals\"),\n        )\n        items_table.add_row(\n            key_text,\n            Pretty(\n                value,\n                highlighter=highlighter,\n                indent_guides=indent_guides,\n                max_length=max_length,\n                max_string=max_string,\n            ),\n        )\n    return Panel.fit(\n        items_table,\n        title=title,\n        border_style=\"scope.border\",\n        padding=(0, 1),\n    )\n\n\nif __name__ == \"__main__\":  # pragma: no cover\n    from rich import print\n\n    print()\n\n    def test(foo: float, bar: float) -> None:\n        list_of_things = [1, 2, 3, None, 4, True, False, \"Hello World\"]\n        dict_of_things = {\n            \"version\": \"1.1\",\n            \"method\": \"confirmFruitPurchase\",\n            \"params\": [[\"apple\", \"orange\", \"mangoes\", \"pomelo\"], 1.123],\n            \"id\": \"194521489\",\n        }\n        print(render_scope(locals(), title=\"[i]locals\", sort_keys=False))\n\n    test(20.3423, 3.1427)\n    print()\n",
    "start_line": 0
  },
  {
    "file": "_extension.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from typing import Any",
    "start_line": 0
  },
  {
    "file": "_extension.py",
    "type": "function",
    "class": null,
    "method": "load_ipython_extension",
    "name": "load_ipython_extension",
    "content": "def load_ipython_extension(ip: Any) -> None:  # pragma: no cover",
    "start_line": 3
  },
  {
    "file": "_extension.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# prevent circular import",
    "start_line": 4
  },
  {
    "file": "_extension.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from rich.pretty import install\n    from rich.traceback import install as tr_install\n    install()\n    tr_install()",
    "start_line": 5
  },
  {
    "file": "_extension.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "from typing import Any\n\n\ndef load_ipython_extension(ip: Any) -> None:  # pragma: no cover\n    # prevent circular import\n    from rich.pretty import install\n    from rich.traceback import install as tr_install\n\n    install()\n    tr_install()\n",
    "start_line": 0
  },
  {
    "file": "status.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from types import TracebackType\nfrom typing import Optional, Type\nfrom .console import Console, RenderableType\nfrom .jupyter import JupyterMixin\nfrom .live import Live\nfrom .spinner import Spinner\nfrom .style import StyleType",
    "start_line": 0
  },
  {
    "file": "status.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "Status",
    "content": "class Status(JupyterMixin):\n    \"\"\"Displays a status indicator with a 'spinner' animation.\n\n    Args:\n        status (RenderableType): A status renderable (str or Text typically).\n        console (Console, optional): Console instance to use, or None for global console. Defaults to None.\n        spinner (str, optional): Name of spinner animation (see python -m rich.spinner). Defaults to \"dots\".\n        spinner_style (StyleType, optional): Style of spinner. Defaults to \"status.spinner\".\n        speed (float, optional): Speed factor for spinner animation. Defaults to 1.0.\n        refresh_per_second (float, optional): Number of refreshes per second. Defaults to 12.5.\n    \"\"\"",
    "start_line": 10
  },
  {
    "file": "status.py",
    "type": "method",
    "class": "Status",
    "method": "__init__",
    "name": "__init__",
    "content": "class Status:\n    def __init__(\n        self,\n        status: RenderableType,\n        *,\n        console: Optional[Console] = None,\n        spinner: str = \"dots\",\n        spinner_style: StyleType = \"status.spinner\",\n        speed: float = 1.0,\n        refresh_per_second: float = 12.5,\n    ):\n        self.status = status\n        self.spinner_style = spinner_style\n        self.speed = speed\n        self._spinner = Spinner(spinner, text=status, style=spinner_style, speed=speed)\n        self._live = Live(\n            self.renderable,\n            console=console,\n            refresh_per_second=refresh_per_second,\n            transient=True,\n        )\n\n    @property",
    "start_line": 22
  },
  {
    "file": "status.py",
    "type": "method",
    "class": "Status",
    "method": "renderable",
    "name": "renderable",
    "content": "class Status:\n    def renderable(self) -> Spinner:\n        return self._spinner\n\n    @property",
    "start_line": 44
  },
  {
    "file": "status.py",
    "type": "method",
    "class": "Status",
    "method": "console",
    "name": "console",
    "content": "class Status:\n    def console(self) -> \"Console\":\n        \"\"\"Get the Console used by the Status objects.\"\"\"\n        return self._live.console",
    "start_line": 48
  },
  {
    "file": "status.py",
    "type": "method",
    "class": "Status",
    "method": "update",
    "name": "update",
    "content": "class Status:\n    def update(\n        self,\n        status: Optional[RenderableType] = None,\n        *,\n        spinner: Optional[str] = None,\n        spinner_style: Optional[StyleType] = None,\n        speed: Optional[float] = None,\n    ) -> None:\n        \"\"\"Update status.\n\n        Args:\n            status (Optional[RenderableType], optional): New status renderable or None for no change. Defaults to None.\n            spinner (Optional[str], optional): New spinner or None for no change. Defaults to None.\n            spinner_style (Optional[StyleType], optional): New spinner style or None for no change. Defaults to None.\n            speed (Optional[float], optional): Speed factor for spinner animation or None for no change. Defaults to None.\n        \"\"\"\n        if status is not None:\n            self.status = status\n        if spinner_style is not None:\n            self.spinner_style = spinner_style\n        if speed is not None:\n            self.speed = speed\n        if spinner is not None:\n            self._spinner = Spinner(\n                spinner, text=self.status, style=self.spinner_style, speed=self.speed\n            )\n            self._live.update(self.renderable, refresh=True)\n        else:\n            self._spinner.update(\n                text=self.status, style=self.spinner_style, speed=self.speed\n            )",
    "start_line": 52
  },
  {
    "file": "status.py",
    "type": "method",
    "class": "Status",
    "method": "start",
    "name": "start",
    "content": "class Status:\n    def start(self) -> None:\n        \"\"\"Start the status animation.\"\"\"\n        self._live.start()",
    "start_line": 84
  },
  {
    "file": "status.py",
    "type": "method",
    "class": "Status",
    "method": "stop",
    "name": "stop",
    "content": "class Status:\n    def stop(self) -> None:\n        \"\"\"Stop the spinner animation.\"\"\"\n        self._live.stop()",
    "start_line": 88
  },
  {
    "file": "status.py",
    "type": "method",
    "class": "Status",
    "method": "__rich__",
    "name": "__rich__",
    "content": "class Status:\n    def __rich__(self) -> RenderableType:\n        return self.renderable",
    "start_line": 92
  },
  {
    "file": "status.py",
    "type": "method",
    "class": "Status",
    "method": "__enter__",
    "name": "__enter__",
    "content": "class Status:\n    def __enter__(self) -> \"Status\":\n        self.start()\n        return self",
    "start_line": 95
  },
  {
    "file": "status.py",
    "type": "method",
    "class": "Status",
    "method": "__exit__",
    "name": "__exit__",
    "content": "class Status:\n    def __exit__(\n        self,\n        exc_type: Optional[Type[BaseException]],\n        exc_val: Optional[BaseException],\n        exc_tb: Optional[TracebackType],\n    ) -> None:\n        self.stop()\n\n\nif __name__ == \"__main__\":  # pragma: no cover",
    "start_line": 99
  },
  {
    "file": "status.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from time import sleep\n    from .console import Console\n    console = Console()\n    with console.status(\"[magenta]Covid detector booting up\") as status:\n        sleep(3)\n        console.log(\"Importing advanced AI\")\n        sleep(3)\n        console.log(\"Advanced Covid AI Ready\")\n        sleep(3)\n        status.update(status=\"[bold blue] Scanning for Covid\", spinner=\"earth\")\n        sleep(3)\n        console.log(\"Found 10,000,000,000 copies of Covid32.exe\")\n        sleep(3)\n        status.update(\n            status=\"[bold red]Moving Covid32.exe to Trash\",\n            spinner=\"bouncingBall\",\n            spinner_style=\"yellow\",\n        )\n        sleep(5)\n    console.print(\"[bold green]Covid deleted successfully\")",
    "start_line": 109
  },
  {
    "file": "status.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "from types import TracebackType\nfrom typing import Optional, Type\n\nfrom .console import Console, RenderableType\nfrom .jupyter import JupyterMixin\nfrom .live import Live\nfrom .spinner import Spinner\nfrom .style import StyleType\n\n\nclass Status(JupyterMixin):\n    \"\"\"Displays a status indicator with a 'spinner' animation.\n\n    Args:\n        status (RenderableType): A status renderable (str or Text typically).\n        console (Console, optional): Console instance to use, or None for global console. Defaults to None.\n        spinner (str, optional): Name of spinner animation (see python -m rich.spinner). Defaults to \"dots\".\n        spinner_style (StyleType, optional): Style of spinner. Defaults to \"status.spinner\".\n        speed (float, optional): Speed factor for spinner animation. Defaults to 1.0.\n        refresh_per_second (float, optional): Number of refreshes per second. Defaults to 12.5.\n    \"\"\"\n\n    def __init__(\n        self,\n        status: RenderableType,\n        *,\n        console: Optional[Console] = None,\n        spinner: str = \"dots\",\n        spinner_style: StyleType = \"status.spinner\",\n        speed: float = 1.0,\n        refresh_per_second: float = 12.5,\n    ):\n        self.status = status\n        self.spinner_style = spinner_style\n        self.speed = speed\n        self._spinner = Spinner(spinner, text=status, style=spinner_style, speed=speed)\n        self._live = Live(\n            self.renderable,\n            console=console,\n            refresh_per_second=refresh_per_second,\n            transient=True,\n        )\n\n    @property\n    def renderable(self) -> Spinner:\n        return self._spinner\n\n    @property\n    def console(self) -> \"Console\":\n        \"\"\"Get the Console used by the Status objects.\"\"\"\n        return self._live.console\n\n    def update(\n        self,\n        status: Optional[RenderableType] = None,\n        *,\n        spinner: Optional[str] = None,\n        spinner_style: Optional[StyleType] = None,\n        speed: Optional[float] = None,\n    ) -> None:\n        \"\"\"Update status.\n\n        Args:\n            status (Optional[RenderableType], optional): New status renderable or None for no change. Defaults to None.\n            spinner (Optional[str], optional): New spinner or None for no change. Defaults to None.\n            spinner_style (Optional[StyleType], optional): New spinner style or None for no change. Defaults to None.\n            speed (Optional[float], optional): Speed factor for spinner animation or None for no change. Defaults to None.\n        \"\"\"\n        if status is not None:\n            self.status = status\n        if spinner_style is not None:\n            self.spinner_style = spinner_style\n        if speed is not None:\n            self.speed = speed\n        if spinner is not None:\n            self._spinner = Spinner(\n                spinner, text=self.status, style=self.spinner_style, speed=self.speed\n            )\n            self._live.update(self.renderable, refresh=True)\n        else:\n            self._spinner.update(\n                text=self.status, style=self.spinner_style, speed=self.speed\n            )\n\n    def start(self) -> None:\n        \"\"\"Start the status animation.\"\"\"\n        self._live.start()\n\n    def stop(self) -> None:\n        \"\"\"Stop the spinner animation.\"\"\"\n        self._live.stop()\n\n    def __rich__(self) -> RenderableType:\n        return self.renderable\n\n    def __enter__(self) -> \"Status\":\n        self.start()\n        return self\n\n    def __exit__(\n        self,\n        exc_type: Optional[Type[BaseException]],\n        exc_val: Optional[BaseException],\n        exc_tb: Optional[TracebackType],\n    ) -> None:\n        self.stop()\n\n\nif __name__ == \"__main__\":  # pragma: no cover\n    from time import sleep\n\n    from .console import Console\n\n    console = Console()\n    with console.status(\"[magenta]Covid detector booting up\") as status:\n        sleep(3)\n        console.log(\"Importing advanced AI\")\n        sleep(3)\n        console.log(\"Advanced Covid AI Ready\")\n        sleep(3)\n        status.update(status=\"[bold blue] Scanning for Covid\", spinner=\"earth\")\n        sleep(3)\n        console.log(\"Found 10,000,000,000 copies of Covid32.exe\")\n        sleep(3)\n        status.update(\n            status=\"[bold red]Moving Covid32.exe to Trash\",\n            spinner=\"bouncingBall\",\n            spinner_style=\"yellow\",\n        )\n        sleep(5)\n    console.print(\"[bold green]Covid deleted successfully\")\n",
    "start_line": 0
  },
  {
    "file": "abc.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from abc import ABC",
    "start_line": 0
  },
  {
    "file": "abc.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "RichRenderable",
    "content": "class RichRenderable(ABC):\n    \"\"\"An abstract base class for Rich renderables.\n\n    Note that there is no need to extend this class, the intended use is to check if an\n    object supports the Rich renderable protocol. For example::\n\n        if isinstance(my_object, RichRenderable):\n            console.print(my_object)\n\n    \"\"\"\n\n    @classmethod",
    "start_line": 3
  },
  {
    "file": "abc.py",
    "type": "method",
    "class": "RichRenderable",
    "method": "__subclasshook__",
    "name": "__subclasshook__",
    "content": "class RichRenderable:\n    def __subclasshook__(cls, other: type) -> bool:\n        \"\"\"Check if this class supports the rich render protocol.\"\"\"\n        return hasattr(other, \"__rich_console__\") or hasattr(other, \"__rich__\")\n\n\nif __name__ == \"__main__\":  # pragma: no cover",
    "start_line": 15
  },
  {
    "file": "abc.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from rich.text import Text\n    t = Text()\n    print(isinstance(Text, RichRenderable))\n    print(isinstance(t, RichRenderable))",
    "start_line": 21
  },
  {
    "file": "abc.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "Foo",
    "content": "class Foo:\n        pass\n\n    f = Foo()\n    print(isinstance(f, RichRenderable))\n    print(isinstance(\"\", RichRenderable))",
    "start_line": 27
  },
  {
    "file": "abc.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "from abc import ABC\n\n\nclass RichRenderable(ABC):\n    \"\"\"An abstract base class for Rich renderables.\n\n    Note that there is no need to extend this class, the intended use is to check if an\n    object supports the Rich renderable protocol. For example::\n\n        if isinstance(my_object, RichRenderable):\n            console.print(my_object)\n\n    \"\"\"\n\n    @classmethod\n    def __subclasshook__(cls, other: type) -> bool:\n        \"\"\"Check if this class supports the rich render protocol.\"\"\"\n        return hasattr(other, \"__rich_console__\") or hasattr(other, \"__rich__\")\n\n\nif __name__ == \"__main__\":  # pragma: no cover\n    from rich.text import Text\n\n    t = Text()\n    print(isinstance(Text, RichRenderable))\n    print(isinstance(t, RichRenderable))\n\n    class Foo:\n        pass\n\n    f = Foo()\n    print(isinstance(f, RichRenderable))\n    print(isinstance(\"\", RichRenderable))\n",
    "start_line": 0
  },
  {
    "file": "jupyter.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from typing import TYPE_CHECKING, Any, Dict, Iterable, List, Sequence\nif TYPE_CHECKING:\n    from rich.console import ConsoleRenderable\nfrom . import get_console\nfrom .segment import Segment\nfrom .terminal_theme import DEFAULT_TERMINAL_THEME\nif TYPE_CHECKING:\n    from rich.console import ConsoleRenderable",
    "start_line": 0
  },
  {
    "file": "jupyter.py",
    "type": "constants",
    "class": null,
    "method": null,
    "name": "module_constants",
    "content": "JUPYTER_HTML_FORMAT = \"\"\"\\\n<pre style=\"white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace\">{code}</pre>\n\"\"\"",
    "start_line": 12
  },
  {
    "file": "jupyter.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "JupyterRenderable",
    "content": "class JupyterRenderable:\n    \"\"\"A shim to write html to Jupyter notebook.\"\"\"",
    "start_line": 17
  },
  {
    "file": "jupyter.py",
    "type": "method",
    "class": "JupyterRenderable",
    "method": "__init__",
    "name": "__init__",
    "content": "class JupyterRenderable:\n    def __init__(self, html: str, text: str) -> None:\n        self.html = html\n        self.text = text",
    "start_line": 20
  },
  {
    "file": "jupyter.py",
    "type": "method",
    "class": "JupyterRenderable",
    "method": "_repr_mimebundle_",
    "name": "_repr_mimebundle_",
    "content": "class JupyterRenderable:\n    def _repr_mimebundle_(\n        self, include: Sequence[str], exclude: Sequence[str], **kwargs: Any\n    ) -> Dict[str, str]:\n        data = {\"text/plain\": self.text, \"text/html\": self.html}\n        if include:\n            data = {k: v for (k, v) in data.items() if k in include}\n        if exclude:\n            data = {k: v for (k, v) in data.items() if k not in exclude}\n        return data",
    "start_line": 24
  },
  {
    "file": "jupyter.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "JupyterMixin",
    "content": "class JupyterMixin:\n    \"\"\"Add to an Rich renderable to make it render in Jupyter notebook.\"\"\"\n\n    __slots__ = ()",
    "start_line": 35
  },
  {
    "file": "jupyter.py",
    "type": "method",
    "class": "JupyterMixin",
    "method": "_repr_mimebundle_",
    "name": "_repr_mimebundle_",
    "content": "class JupyterMixin:\n    def _repr_mimebundle_(\n        self: \"ConsoleRenderable\",\n        include: Sequence[str],\n        exclude: Sequence[str],\n        **kwargs: Any,\n    ) -> Dict[str, str]:\n        console = get_console()\n        segments = list(console.render(self, console.options))\n        html = _render_segments(segments)\n        text = console._render_buffer(segments)\n        data = {\"text/plain\": text, \"text/html\": html}\n        if include:\n            data = {k: v for (k, v) in data.items() if k in include}\n        if exclude:\n            data = {k: v for (k, v) in data.items() if k not in exclude}\n        return data",
    "start_line": 40
  },
  {
    "file": "jupyter.py",
    "type": "function",
    "class": null,
    "method": "_render_segments",
    "name": "_render_segments",
    "content": "def _render_segments(segments: Iterable[Segment]) -> str:",
    "start_line": 58
  },
  {
    "file": "jupyter.py",
    "type": "function",
    "class": null,
    "method": "escape",
    "name": "escape",
    "content": "def escape(text: str) -> str:\n        \"\"\"Escape html.\"\"\"\n        return text.replace(\"&\", \"&amp;\").replace(\"<\", \"&lt;\").replace(\">\", \"&gt;\")\n\n    fragments: List[str] = []",
    "start_line": 59
  },
  {
    "file": "jupyter.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "append_fragment = fragments.append\n    theme = DEFAULT_TERMINAL_THEME\n    for text, style, control in Segment.simplify(segments):\n        if control:\n            continue\n        text = escape(text)\n        if style:\n            rule = style.get_html_style(theme)\n            text = f'<span style=\"{rule}\">{text}</span>' if rule else text\n            if style.link:\n                text = f'<a href=\"{style.link}\" target=\"_blank\">{text}</a>'\n        append_fragment(text)\n    code = \"\".join(fragments)\n    html = JUPYTER_HTML_FORMAT.format(code=code)\n    return html",
    "start_line": 64
  },
  {
    "file": "jupyter.py",
    "type": "function",
    "class": null,
    "method": "display",
    "name": "display",
    "content": "def display(segments: Iterable[Segment], text: str) -> None:\n    \"\"\"Render segments to Jupyter.\"\"\"",
    "start_line": 83
  },
  {
    "file": "jupyter.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "html = _render_segments(segments)\n    jupyter_renderable = JupyterRenderable(html, text)\n    try:",
    "start_line": 85
  },
  {
    "file": "jupyter.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from IPython.display import display as ipython_display\n        ipython_display(jupyter_renderable)\n    except ModuleNotFoundError:",
    "start_line": 88
  },
  {
    "file": "jupyter.py",
    "type": "comments",
    "class": null,
    "method": null,
    "name": "comments",
    "content": "# Handle the case where the Console has force_jupyter=True,\n        # but IPython is not installed.\n        pass",
    "start_line": 92
  },
  {
    "file": "jupyter.py",
    "type": "function",
    "class": null,
    "method": "print",
    "name": "print",
    "content": "def print(*args: Any, **kwargs: Any) -> None:\n    \"\"\"Proxy for Console print.\"\"\"",
    "start_line": 97
  },
  {
    "file": "jupyter.py",
    "type": "module_variables",
    "class": null,
    "method": null,
    "name": "module_variables",
    "content": "console = get_console()\n    return console.print(*args, **kwargs)",
    "start_line": 99
  },
  {
    "file": "jupyter.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "from typing import TYPE_CHECKING, Any, Dict, Iterable, List, Sequence\n\nif TYPE_CHECKING:\n    from rich.console import ConsoleRenderable\n\nfrom . import get_console\nfrom .segment import Segment\nfrom .terminal_theme import DEFAULT_TERMINAL_THEME\n\nif TYPE_CHECKING:\n    from rich.console import ConsoleRenderable\n\nJUPYTER_HTML_FORMAT = \"\"\"\\\n<pre style=\"white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace\">{code}</pre>\n\"\"\"\n\n\nclass JupyterRenderable:\n    \"\"\"A shim to write html to Jupyter notebook.\"\"\"\n\n    def __init__(self, html: str, text: str) -> None:\n        self.html = html\n        self.text = text\n\n    def _repr_mimebundle_(\n        self, include: Sequence[str], exclude: Sequence[str], **kwargs: Any\n    ) -> Dict[str, str]:\n        data = {\"text/plain\": self.text, \"text/html\": self.html}\n        if include:\n            data = {k: v for (k, v) in data.items() if k in include}\n        if exclude:\n            data = {k: v for (k, v) in data.items() if k not in exclude}\n        return data\n\n\nclass JupyterMixin:\n    \"\"\"Add to an Rich renderable to make it render in Jupyter notebook.\"\"\"\n\n    __slots__ = ()\n\n    def _repr_mimebundle_(\n        self: \"ConsoleRenderable\",\n        include: Sequence[str],\n        exclude: Sequence[str],\n        **kwargs: Any,\n    ) -> Dict[str, str]:\n        console = get_console()\n        segments = list(console.render(self, console.options))\n        html = _render_segments(segments)\n        text = console._render_buffer(segments)\n        data = {\"text/plain\": text, \"text/html\": html}\n        if include:\n            data = {k: v for (k, v) in data.items() if k in include}\n        if exclude:\n            data = {k: v for (k, v) in data.items() if k not in exclude}\n        return data\n\n\ndef _render_segments(segments: Iterable[Segment]) -> str:\n    def escape(text: str) -> str:\n        \"\"\"Escape html.\"\"\"\n        return text.replace(\"&\", \"&amp;\").replace(\"<\", \"&lt;\").replace(\">\", \"&gt;\")\n\n    fragments: List[str] = []\n    append_fragment = fragments.append\n    theme = DEFAULT_TERMINAL_THEME\n    for text, style, control in Segment.simplify(segments):\n        if control:\n            continue\n        text = escape(text)\n        if style:\n            rule = style.get_html_style(theme)\n            text = f'<span style=\"{rule}\">{text}</span>' if rule else text\n            if style.link:\n                text = f'<a href=\"{style.link}\" target=\"_blank\">{text}</a>'\n        append_fragment(text)\n\n    code = \"\".join(fragments)\n    html = JUPYTER_HTML_FORMAT.format(code=code)\n\n    return html\n\n\ndef display(segments: Iterable[Segment], text: str) -> None:\n    \"\"\"Render segments to Jupyter.\"\"\"\n    html = _render_segments(segments)\n    jupyter_renderable = JupyterRenderable(html, text)\n    try:\n        from IPython.display import display as ipython_display\n\n        ipython_display(jupyter_renderable)\n    except ModuleNotFoundError:\n        # Handle the case where the Console has force_jupyter=True,\n        # but IPython is not installed.\n        pass\n\n\ndef print(*args: Any, **kwargs: Any) -> None:\n    \"\"\"Proxy for Console print.\"\"\"\n    console = get_console()\n    return console.print(*args, **kwargs)\n",
    "start_line": 0
  },
  {
    "file": "color_triplet.py",
    "type": "imports",
    "class": null,
    "method": null,
    "name": "imports",
    "content": "from typing import NamedTuple, Tuple",
    "start_line": 0
  },
  {
    "file": "color_triplet.py",
    "type": "class",
    "class": null,
    "method": null,
    "name": "ColorTriplet",
    "content": "class ColorTriplet(NamedTuple):\n    \"\"\"The red, green, and blue components of a color.\"\"\"\n\n    red: int\n    \"\"\"Red component in 0 to 255 range.\"\"\"\n    green: int\n    \"\"\"Green component in 0 to 255 range.\"\"\"\n    blue: int\n    \"\"\"Blue component in 0 to 255 range.\"\"\"\n\n    @property",
    "start_line": 3
  },
  {
    "file": "color_triplet.py",
    "type": "method",
    "class": "ColorTriplet",
    "method": "hex",
    "name": "hex",
    "content": "class ColorTriplet:\n    def hex(self) -> str:\n        \"\"\"get the color triplet in CSS style.\"\"\"\n        red, green, blue = self\n        return f\"#{red:02x}{green:02x}{blue:02x}\"\n\n    @property",
    "start_line": 14
  },
  {
    "file": "color_triplet.py",
    "type": "method",
    "class": "ColorTriplet",
    "method": "rgb",
    "name": "rgb",
    "content": "class ColorTriplet:\n    def rgb(self) -> str:\n        \"\"\"The color in RGB format.\n\n        Returns:\n            str: An rgb color, e.g. ``\"rgb(100,23,255)\"``.\n        \"\"\"\n        red, green, blue = self\n        return f\"rgb({red},{green},{blue})\"\n\n    @property",
    "start_line": 20
  },
  {
    "file": "color_triplet.py",
    "type": "method",
    "class": "ColorTriplet",
    "method": "normalized",
    "name": "normalized",
    "content": "class ColorTriplet:\n    def normalized(self) -> Tuple[float, float, float]:\n        \"\"\"Convert components into floats between 0 and 1.\n\n        Returns:\n            Tuple[float, float, float]: A tuple of three normalized colour components.\n        \"\"\"\n        red, green, blue = self\n        return red / 255.0, green / 255.0, blue / 255.0",
    "start_line": 30
  },
  {
    "file": "color_triplet.py",
    "type": "full_module",
    "class": null,
    "method": null,
    "name": "full_module",
    "content": "from typing import NamedTuple, Tuple\n\n\nclass ColorTriplet(NamedTuple):\n    \"\"\"The red, green, and blue components of a color.\"\"\"\n\n    red: int\n    \"\"\"Red component in 0 to 255 range.\"\"\"\n    green: int\n    \"\"\"Green component in 0 to 255 range.\"\"\"\n    blue: int\n    \"\"\"Blue component in 0 to 255 range.\"\"\"\n\n    @property\n    def hex(self) -> str:\n        \"\"\"get the color triplet in CSS style.\"\"\"\n        red, green, blue = self\n        return f\"#{red:02x}{green:02x}{blue:02x}\"\n\n    @property\n    def rgb(self) -> str:\n        \"\"\"The color in RGB format.\n\n        Returns:\n            str: An rgb color, e.g. ``\"rgb(100,23,255)\"``.\n        \"\"\"\n        red, green, blue = self\n        return f\"rgb({red},{green},{blue})\"\n\n    @property\n    def normalized(self) -> Tuple[float, float, float]:\n        \"\"\"Convert components into floats between 0 and 1.\n\n        Returns:\n            Tuple[float, float, float]: A tuple of three normalized colour components.\n        \"\"\"\n        red, green, blue = self\n        return red / 255.0, green / 255.0, blue / 255.0\n",
    "start_line": 0
  }
]